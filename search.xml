<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>%2F2019%2F04%2F28%2FUntitled%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[Elasticsearchæ…•è¯¾ç½‘]]></title>
    <url>%2F2019%2F04%2F28%2FELasticseach%2FElsearch%E6%85%95%E8%AF%BE%E7%BD%91%2F</url>
    <content type="text"><![CDATA[1 Elasticsearch å¯åŠ¨ä¸Žå®‰è£… https://www.elastic.co/cn/downloads/elasticsearch 123cd /elasticsearch-7.0.0 sh ./bin/elasticsearchæµè§ˆå™¨è¾“å…¥ï¼š127.0.0.1ï¼š9200]]></content>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é»‘é©¬ç¨‹åºå‘˜Vue]]></title>
    <url>%2F2019%2F04%2F26%2FVue%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617&lt;head&gt; &lt;meta charset="utf-8"/&gt; &lt;title&gt;å¿«é€Ÿå…¥é—¨&lt;/title&gt; &lt;script src="https://cdn.jsdelivr.net/npm/vue"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id="app"&gt; &#123;&#123;message&#125;&#125;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; new Vue(&#123; el: '#app', data: &#123; message: 'Hello World' &#125; &#125;); 12345678910111213141516171819202122&lt;div id="app"&gt; &#123;&#123;message&#125;&#125; &lt;button v-on:click="fun1('Hexo')"&gt;Vueçš„onclick&lt;/button&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; new Vue(&#123; el: "#app", data: &#123; message: "Hello Vue" &#125;, methods: &#123; fun1: function (msg) &#123; alert("Hell"); this.message = msg; &#125; &#125;, &#125;);]]></content>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é»‘é©¬ç¨‹åºå‘˜ å­¦æˆåœ¨çº¿è§†é¢‘æ•™ç¨‹]]></title>
    <url>%2F2019%2F04%2F20%2F%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BF%20%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸€ç«  day01 æ­å»ºçŽ¯å¢ƒ CMSæœåŠ¡ç«¯å¼€å‘1 é¡¹ç›®åˆå§‹åŒ–â€”è§æºä»£ç  å·¥ç¨‹ 2 é¡µé¢æŸ¥è¯¢æŽ¥å£å®šä¹‰-å®šä¹‰æŽ¥å£1.1 Responseè¿”å›žå€¼çš„ ç±»æºä»£ç 1234567891011121314151617181920212223242526272829303132333435@ToStringpublic enum CommonCode implements ResultCode&#123; SUCCESS(true,10000,"æ“ä½œæˆåŠŸï¼"), FAIL(false,11111,"æ“ä½œå¤±è´¥ï¼"), UNAUTHENTICATED(false,10001,"æ­¤æ“ä½œéœ€è¦ç™»é™†ç³»ç»Ÿï¼"), UNAUTHORISE(false,10002,"æƒé™ä¸è¶³ï¼Œæ— æƒæ“ä½œï¼"), SERVER_ERROR(false,99999,"æŠ±æ­‰ï¼Œç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åŽé‡è¯•ï¼");// private static ImmutableMap&lt;Integer, CommonCode&gt; codes ; //æ“ä½œæ˜¯å¦æˆåŠŸ boolean success; //æ“ä½œä»£ç  int code; //æç¤ºä¿¡æ¯ String message; private CommonCode(boolean success,int code, String message)&#123; this.success = success; this.code = code; this.message = message; &#125; @Override public boolean success() &#123; return success; &#125; @Override public int code() &#123; return code; &#125; @Override public String message() &#123; return message; &#125;&#125; 123456789public interface ResultCode &#123; //æ“ä½œæ˜¯å¦æˆåŠŸ,trueä¸ºæˆåŠŸï¼Œfalseæ“ä½œå¤±è´¥ boolean success(); //æ“ä½œä»£ç  int code(); //æç¤ºä¿¡æ¯ String message();&#125; 1234public interface Response &#123; public static final boolean SUCCESS = true; public static final int SUCCESS_CODE = 10000;&#125; 12345678910111213141516171819202122232425262728@Data@ToString@NoArgsConstructorpublic class ResponseResult implements Response &#123; //æ“ä½œæ˜¯å¦æˆåŠŸ boolean success = SUCCESS; //æ“ä½œä»£ç  int code = SUCCESS_CODE; //æç¤ºä¿¡æ¯ String message; public ResponseResult(ResultCode resultCode)&#123; this.success = resultCode.success(); this.code = resultCode.code(); this.message = resultCode.message(); &#125; public static ResponseResult SUCCESS()&#123; return new ResponseResult(CommonCode.SUCCESS); &#125; public static ResponseResult FAIL()&#123; return new ResponseResult(CommonCode.FAIL); &#125;&#125; 123456789101112@Data@ToStringpublic class QueryResponseResult extends ResponseResult &#123; QueryResult queryResult; public QueryResponseResult(ResultCode resultCode,QueryResult queryResult)&#123; super(resultCode); this.queryResult = queryResult; &#125;&#125; 1234public interface CmsPageControllerApi &#123; // é¡µé¢æŸ¥è¯¢ public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest);&#125; 1.2 ç±»çš„åˆ†æžä¸Žè®²è§£ TODO// @@@@æžšä¸¾å’Œå…¬å…±ç±»çš„å¼€å‘è¯¦ç»†è§£ç­” // @@@@æžšä¸¾å’Œå…¬å…±ç±»çš„å¼€å‘è¯¦ç»†è§£ç­” /// @@@@æžšä¸¾å’Œå…¬å…±ç±»çš„å¼€å‘è¯¦ç»†è§£ç­” // @@@@æžšä¸¾å’Œå…¬å…±ç±»çš„å¼€å‘è¯¦ç»†è§£ç­” // @@@@æžšä¸¾å’Œå…¬å…±ç±»çš„å¼€å‘è¯¦ç»†è§£ç­” 2 é¡µé¢æŸ¥è¯¢æœåŠ¡ç«¯å¼€å‘-åˆ›å»ºCMSæœåŠ¡å·¥ç¨‹-æµ‹è¯• 12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-service-api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-model&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-utils&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;configuration&gt; &lt;!--å®šä¹‰æ—¥å¿—æ–‡ä»¶çš„å­˜å‚¨åœ°å€,ä½¿ç”¨ç»å¯¹è·¯å¾„--&gt; &lt;property name="LOG_HOME" value="d:/logs"/&gt; &lt;!-- Console è¾“å‡ºè®¾ç½® --&gt; &lt;appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;encoder&gt; &lt;!--æ ¼å¼åŒ–è¾“å‡ºï¼š%dè¡¨ç¤ºæ—¥æœŸï¼Œ%threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ%-5levelï¼šçº§åˆ«ä»Žå·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦%msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ%næ˜¯æ¢è¡Œç¬¦--&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n&lt;/pattern&gt; &lt;charset&gt;utf8&lt;/charset&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- æŒ‰ç…§æ¯å¤©ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ --&gt; &lt;appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;!--æ—¥å¿—æ–‡ä»¶è¾“å‡ºçš„æ–‡ä»¶å--&gt; &lt;fileNamePattern&gt;$&#123;LOG_HOME&#125;/xc.%d&#123;yyyy-MM-dd&#125;.log&lt;/fileNamePattern&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- å¼‚æ­¥è¾“å‡º --&gt; &lt;appender name="ASYNC" class="ch.qos.logback.classic.AsyncAppender"&gt; &lt;!-- ä¸ä¸¢å¤±æ—¥å¿—.é»˜è®¤çš„,å¦‚æžœé˜Ÿåˆ—çš„80%å·²æ»¡,åˆ™ä¼šä¸¢å¼ƒTRACTã€DEBUGã€INFOçº§åˆ«çš„æ—¥å¿— --&gt; &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- æ›´æ”¹é»˜è®¤çš„é˜Ÿåˆ—çš„æ·±åº¦,è¯¥å€¼ä¼šå½±å“æ€§èƒ½.é»˜è®¤å€¼ä¸º256 --&gt; &lt;queueSize&gt;512&lt;/queueSize&gt; &lt;!-- æ·»åŠ é™„åŠ çš„appender,æœ€å¤šåªèƒ½æ·»åŠ ä¸€ä¸ª --&gt; &lt;appender-ref ref="FILE"/&gt; &lt;/appender&gt; &lt;logger name="org.apache.ibatis.cache.decorators.LoggingCache" level="DEBUG" additivity="false"&gt; &lt;appender-ref ref="CONSOLE"/&gt; &lt;/logger&gt; &lt;logger name="org.springframework.boot" level="DEBUG"/&gt; &lt;root level="info"&gt; &lt;!--&lt;appender-ref ref="ASYNC"/&gt;--&gt; &lt;appender-ref ref="FILE"/&gt; &lt;appender-ref ref="CONSOLE"/&gt; &lt;/root&gt;&lt;/configuration&gt; å¯åŠ¨ç±»ç¼–å†™ä»£ç  12345678910@SpringBootApplication(exclude = DataSourceAutoConfiguration.class)//è¿žæŽ¥mongodbå¿…é¡»æŽ’é™¤datasourceautoconfiguration,class@EntityScan("com.xuecheng.framework.domain.cms")//æ‰«æå®žä½“ç±»@ComponentScan(basePackages = &#123;"com.xuecheng.api"&#125;)//æ‰«ææŽ¥å£@ComponentScan(basePackages = &#123;"com.xuecheng.manage_cms"&#125;)//æ‰«ææœ¬é¡¹ç›®ä¸‹çš„æ‰€æœ‰ç±»@EnableMongoRepositories(basePackages = "com.xuecheng.manage_cms.dao")public class ManageCmsApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ManageCmsApplication.class, args); &#125;&#125; 3 é¡µé¢æŸ¥è¯¢æœåŠ¡ç«¯å¼€å‘-åˆ›å»ºCMSæœåŠ¡å·¥ç¨‹- SSM1234567891011121314151617181920212223242526272829303132@RestController@RequestMapping("/cms/page")public class CmsPageController implements CmsPageControllerApi &#123; @Autowired PageService pageService; @Override @GetMapping("/list/&#123;page&#125;/&#123;size&#125;") public QueryResponseResult findList(@PathVariable("page") int page, @PathVariable("size") int size, QueryPageRequest queryPageRequest) &#123; return pageService.findList(page, size, queryPageRequest); &#125;/** *public class QueryPageRequest &#123; * //æŽ¥å—é¡µé¢æŸ¥è¯¢çš„æ¡ä»¶ * //ç«™ç‚¹ID * private String siteId; * //é¡µé¢ID * private String pageId; * //é¡µé¢åç§° * private String pageName; * //åˆ«å * private String pageAliase; * //æ¨¡ç‰ˆID * private String templateId; * &#125; */&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556@Servicepublic class PageService &#123; @Autowired CmsPageRepository cmsPageRepository; public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest) &#123; //1ã€‚ åˆ†é¡µå‚æ•° if (page &lt;= 0) &#123; page = 1; &#125; page = page - 1; if (size &lt;= 0) &#123; size = 10; &#125; Pageable pageable = PageRequest.of(page, size); Page&lt;CmsPage&gt; all = cmsPageRepository.findAll(pageable); System.err.println("all=====" + all); System.err.println("all.getContent()" + all.getContent()); System.err.println("all.getTotalElements()" + all.getTotalElements()); QueryResult queryResult = new QueryResult(); queryResult.setList(all.getContent());//æ•°æ®åˆ—è¡¨ queryResult.setTotal(all.getTotalElements());//æ•°æ®æ€»è®°å½•æ•° System.err.println("queryResult" + queryResult); QueryResponseResult queryResponseResult = new QueryResponseResult(CommonCode.SUCCESS, queryResult); return queryResponseResult; &#125; /** * public class QueryResult&lt;T&gt; &#123; * //æ•°æ®åˆ—è¡¨ * private List&lt;T&gt; list; * //æ•°æ®æ€»æ•° * private long total; * &#125; */ /** *public class QueryPageRequest &#123; * //æŽ¥å—é¡µé¢æŸ¥è¯¢çš„æ¡ä»¶ * //ç«™ç‚¹ID * private String siteId; * //é¡µé¢ID * private String pageId; * //é¡µé¢åç§° * private String pageName; * //åˆ«å * private String pageAliase; * //æ¨¡ç‰ˆID * private String templateId; */&#125; 12345678910server: port: 8080spring: application: name: xc-service-manage-cms data: mongodb: host: localhost port: 27017 database: xccms 123456789101112131415161718192021222324@Configuration@EnableSwagger2public class Swagger2Configuration &#123; @Bean public Docket createRestApi() &#123; return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() .apis(RequestHandlerSelectors.basePackage("com.xuecheng")) .paths(PathSelectors.any()) .build(); &#125; private ApiInfo apiInfo() &#123; return new ApiInfoBuilder() .title("å­¦æˆç½‘apiæ–‡æ¡£") .description("å­¦æˆç½‘apiæ–‡æ¡£")// .termsOfServiceUrl("/") .version("1.0") .build(); &#125;&#125; 12345//Api åªå†™æŽ¥å£public interface CmsPageControllerApi &#123; // é¡µé¢æŸ¥è¯¢ public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest);&#125; ç¬¬äºŒç«  day02 CMSå‰ç«¯å¼€å‘1 vue.jsåŸºç¡€-MVVMæ¨¡å¼ .]]></content>
  </entry>
  <entry>
    <title><![CDATA[Redisæ…•è¯¾ç½‘è§†é¢‘æ•™ç¨‹]]></title>
    <url>%2F2019%2F04%2F17%2FRedis%2FRedis%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[1 åˆè¯†Redis]]></content>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F04%2F12%2F%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%2FThreadLocal%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[Hbase]]></title>
    <url>%2F2019%2F04%2F08%2FHbase%2F</url>
    <content type="text"><![CDATA[1 ç‰¹å¾ 2 åˆ†å¸ƒå¼é›†ç¾¤æ­å»º1234567891011121314151617181920212223242526272829303132333435363738394041[root@bogon ~]# ssh-keygen Generating public/private rsa key pair. Enter file in which to save the key (/root/.ssh/id_rsa): Created directory '/root/.ssh'. Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /root/.ssh/id_rsa. Your public key has been saved in /root/.ssh/id_rsa.pub. The key fingerprint is: SHA256:9cjANdBB5Uez1RUvOHpz1kbsQlWjmL4/eRNSauNZ8K4 root@bogon The key's randomart image is: +---[RSA 2048]----+ | .+=o. ooX| | . ..ooo.*+| | o .o+.= +| | +.+ = * | | S +.+ O +| | ..O * | | .o B .| | .= + | | E+ .| +----[SHA256]-----+ [root@bogon ~]# [root@bogon ~]# [root@bogon ~]# [root@bogon ~]# cd[root@bogon ~]# cd .ssh[root@bogon .ssh]# lsid_rsa id_rsa.pub[root@bogon .ssh]# cat id_rsa.pub &gt;&gt; authorized_keys [root@bogon .ssh]# lsauthorized_keys id_rsa id_rsa.pub[root@bogon .ssh]# chmod 600 authorized_keys [root@bogon .ssh]# ssh localhostThe authenticity of host 'localhost (::1)' can't be established.RSA key fingerprint is SHA256:92H28KhI3EPvAoTIblOfgpTzCQ8XoSNNMjATiN8DbEs.RSA key fingerprint is MD5:9f:0d:61:0c:9c:53:5f:c3:77:31:8b:27:36:24:a5:86.Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added 'localhost' (RSA) to the list of known hosts.Last login: Mon Apr 8 01:04:07 2019 from 192.168.0.104[root@bogon ~]# 3 HBase åŸºç¡€æž¶æž„ 4 HBase å®‰è£… /root/hadoop-2.7.3/etc/hadoop core-site.xml hdfs-site.xml è®¾ç½® ï¼š javaçŽ¯å¢ƒvim hbase-env.shâ€”â€”â€”â€”â€”java_home=ã€‚/usr/java/jdk1.7.0_80/ ./hbase shell â€”â€”â€”â€”â€”â€”â€”â€”ã€‹ hbaseå‘½ä»¤è¡Œçš„è®¾ç½® status æŸ¥çœ‹Hbaseçš„çŠ¶æ€]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F04%2F08%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FKafka%2FKafka%2F</url>
    <content type="text"><![CDATA[/hexo/source/_posts/MongoDB/MongoDB.mdè·³è¿‡çš„å›¾ç‰‡ï¼š19https://ws1.sinaimg.cn/large/006tNc79gy1fzatdfup9oj30hp0dbgqw.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzgknnso5aj30m50fpq4g.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1fzgknoqgapj30fu05emxm.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzgknms5q4j30dm04uglu.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1fzbnmr1vvkj30il03oq4x.jpghttps://ws2.sinaimg.cn/large/006tNc79gy1fzbnn3gsu1j308k03jt95.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzbnnh5jlgj30g703ft9w.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1g2806suz1ej30me09c0x9.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzbnpeufd0j30go09jwgk.jpghttps://ws2.sinaimg.cn/large/006tNc79gy1fzbnqyke9oj306a02j0t1.jpghttps://ws1.sinaimg.cn/large/006tNc79gy1fzbxnuu9muj30gm07t75j.jpghttps://ws1.sinaimg.cn/large/006tNc79gy1fzbxmdhz5qj30fm06l756.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzbxmt1g31j30ca04et9j.jpghttps://ws1.sinaimg.cn/large/006tNc79gy1fzbxpqbwf1j30m804q3zh.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1fzgkoozlanj30m803sgng.jpghttps://ws1.sinaimg.cn/large/006tNc79gy1fzgkqhoc5oj30bw0datde.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzgkvgb96rj30rd0b3jv7.jpghttps://ws2.sinaimg.cn/large/006tNc79gy1g2926tr0q8j30os107wnt.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1g294ssvikdj30u0283kjo.jpg]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F04%2F01%2FUntitled%20Folder%2F%E7%A7%8B%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©æ„šäººèŠ‚ æƒ³ç€å†™ç»™ä½ çš„æƒ…ä¹¦ä¹Ÿçœ‹äº† å°±å½“éšä¾¿è¯´è¯´çš„ è®¤è¯†è¿™ä¹ˆçŸ­ è¯´å–œæ¬¢ä¹Ÿæœ‰ç‚¹è¿‡åˆ†äº† æ²¡æœ‰è¿½ä½  ä¹Ÿæ²¡æœ‰è¿½è¿‡åˆ«äºº ä¸çŸ¥é“ä»€ä¹ˆå«è¿½æ±‚ é€èŠ± è¯·å®¢åƒé¥­ä»€ä¹ˆçš„ä¹Ÿåšä¸æ¥ ä¹Ÿä¸å–œæ¬¢ åªçŸ¥é“é‡åˆ°å–œæ¬¢çš„äººä¼šä¹‰æ— åé¡¾çš„å¯¹å¥¹å¥½ å¯¹çˆ±æƒ…èŽ«åçš„ææ€– å¤§å­¦é‡Œä¹Ÿæ²¡æœ‰æƒ³è¿‡è¦æ‹çˆ±ä»€ä¹ˆçš„ è¿™ä¸‰å¹´æ¯å¤©çœ‹çœ‹ä¹¦æ‰“æ‰“çƒå†™å†™ä»£ç çš„æ—¥å­è¿‡çš„å¾ˆå¿«ä¹Ÿå¾ˆå……å®ž ä¸å–œæ¬¢çƒ­é—¹ å–œæ¬¢åœ¨å›¾ä¹¦é¦†é‡Œé¢é™é™åœ°çœ‹ä¹¦ å¬æ­Œ è¿‡åŽ»çš„ä¸€å¹´é‡Œ åº¦è¿‡äº†äººç”Ÿä¸­æœ€éš¾ç†¬çš„æ—¥å­ æ‰“ç®—ç­‰ç—…å¥½äº† åŽ»è·å…°èŠ±æµ·ç›¸äº²å¤§ä¼š å“ˆå“ˆ ä½ è¯´æˆ‘è¿½ä½  ä½ å°±ä¸ç†æˆ‘äº† å“ˆå“ˆ æˆ‘ä¹Ÿä¸çŸ¥é“ æˆ‘æƒ³ æˆ‘æ€»å¾—å­¦ä¼šä¿æŠ¤è‡ªå·±å§ æƒ³è¯´å¥å¯¹ä¸èµ· æ„Ÿè§‰è‡ªå·±æœ‰ç‚¹è‡ªç§äº† å¯æˆ‘å®žåœ¨ä¸å–œæ¬¢ é‚£ç§åœ¨å¥½å‹åˆ—è¡¨é‡Œé¢èººç€ æƒ³è”ç³» å´æ— ä»Žå¼€å£çš„æ„Ÿè§‰ ä¸å–œæ¬¢æ‰“å¼€èŠå¤©è½¯ä»¶ æ€»æ˜¯ä¸€ç‰‡ç©ºç™½çš„æ„Ÿè§‰ ä»Šå¤© çœ‹åˆ°ä½ é‚£å¼ ç…§ç‰‡ ç«Ÿç„¶æœ‰ä¸€ä¸éš¾è¿‡ ç­‰ä½ æœ‰äº†å–œæ¬¢çš„äºº æˆ‘æ‰“ç®—æŠŠè¿™ä¸ªQQæ³¨é”€äº† å“ˆå“ˆ å—¯ æˆ‘ä¸ä¼šè®©ä½ éš¾è¿‡çš„å‘€ å–œæ¬¢ä¸Žä¸å–œæ¬¢å“ªæœ‰é‚£ä¹ˆå®¹æ˜“ æƒ³ç€è‡ªå·±è¿˜åƒä»¥å‰ä¸€æ ·ç­‰é£Žç­‰é›¨ç­‰ä½ ä»€ä¹ˆçš„ åŽŸæ¥è‡ªå·±å·²ç»æ²¡æœ‰ä»¥å‰çš„å‹‡æ°”äº† å†™åˆ°è¿™çš„æ—¶å€™ ä½ è¯´ä½ è¦åŽ»è¿‡æ„šäººèŠ‚äº† åˆæ˜¯ä¸€æ ·çš„æƒ…å½¢ ç®—äº† ä¸çŸ¥é“ è¯¥è¯´äº›ä»€ä¹ˆ æˆ‘æƒ³ å¯èƒ½æ—©ç‚¹ç¦»åˆ« ä½ å°±ä¸ç”¨è€ƒè™‘æˆ‘çš„æ„Ÿå—äº† å“ˆå“ˆ æˆ‘æ˜¯ä¸æ˜¯ç‰¹åˆ«è¿‡ä»½ å°±è®©æˆ‘å°å°çš„å‚²å¨‡ä¸€æ¬¡å§ è’‹ä½™ç§‹ å¾ˆå¼€å¿ƒ å¤§å­¦èƒ½è®¤è¯†ä½ è¿™æ ·çš„ good friends. æˆ‘æ˜¯ä¸æ˜¯åˆè®©ä½ ä¸å¼€å¿ƒäº† å°±åŽŸè°…æˆ‘è¿™ä¸€æ¬¡å§ å“ˆå“ˆ è¿˜æœ‰ä»¥åŽå°‘æ‹ç‚¹è‡ªæ‹ ä¸‘ï¼ æ•…äº‹çš„å¼€å¤´æ€»æ˜¯è¿™æ · é€‚é€¢å…¶ä¼š çŒä¸åŠé˜² æ•…äº‹çš„ç»“å±€æ€»æ˜¯è¿™æ · èŠ±å¼€ä¸¤æœµ å¤©å„ä¸€æ–¹ å†™åˆ°è¿™çš„æ—¶å€™ ä½ è¯´è¦åŽ»è¿‡æ„šäººèŠ‚äº† åˆæ˜¯ä¸€æ ·çš„æƒ…å½¢ ç®—äº† å¯¹ä¸èµ· æˆ‘å¾ˆç´¯äº† æœ€åŽå—ä¼¤çš„ 2017å¹´7æœˆ16å·ï¼š ç¬¬ä¸€æ¬¡æŒ‚å·44å…ƒ ç¬¬äºŒæ¬¡ä¸“å®¶å·ï¼š107å…ƒ+150å…ƒ=257å…ƒ 2017å¹´8æœˆ16æ—¥ ç¬¬ä¸‰æ¬¡ä¸“å®¶å·ï¼š665+139=804å…ƒ 2017å¹´9æœˆ13æ—¥ ç¬¬å››æ¬¡ä¸“å®¶å·ï¼š495å…ƒ 2017å¹´9æœˆ27æ—¥ï¼š ç¬¬äº”æ¬¡ä¸“å®¶å·ï¼š583å…ƒ+288mois+90=960å…ƒ 2017å¹´11æœˆ3æ—¥ ç¬¬å…­æ¬¡ä¸“å®¶å· ï¼š60å…ƒ+60å…ƒå¤«è¥¿åœ°é…¸ä¹³è†+çŽ‰æ³½356å…ƒï¼ˆä¹°äºŒèµ ä¸€ï¼‰+ ä¿æ¹¿288å…ƒ+æŒ‚å·è´¹299å…ƒ+è¯è´¹291å…ƒ=1234å…ƒ 2017å¹´12æœˆ11æ—¥: ç¬¬ä¸ƒæ¬¡ä¸“å®¶å·ï¼š64å…ƒ å¤«è¥¿åœ°é…¸ä¹³è† 300å…ƒ+84å…ƒæ³°å°”ä¸+65å¤«è¥¿+35å¤«è¥¿=548å…ƒ 2018å¹´3æœˆ1æ—¥ï¼š ç¬¬å…«æ¬¡ä¸“å®¶å·ï¼š 84+æ³°å°”ä¸ï¼ˆ3ç›’å­ï¼‰+64ï¼ˆå¤«è¥¿åœ°é…¸ä¹³è†ï¼‰+24ï¼ˆå¤«è¥¿åœ°é…¸ä¹³è†ï¼‰+176*2=352å…ƒ çŽ‰æ³½ ä¸¤ç“¶ã€‚æ³°å°”ä¸48+34 å¤«è¥¿åœ°é…¸ä¹³è† 24+17+24+24+24+24 =743å…ƒ ï¼ˆä¸­é€”ç”¨è¯æƒ…å†µï¼‰ 299å…ƒ+69å…ƒå¤«è¥¿åœ°é…¸ä¹³è†+148å…ƒä¾æ³‰ä¿®å¤é¢éœœ+æ³°å°”æ–¯ï¼ˆ108å…ƒ ï¼‰+178å…ƒçŽ‰æ³½ +88æ€¡æ³‰æ´—é¢å¥¶ +119ç†è‚¤æ³‰B5è½¯è†+119ç†è‚¤æ³‰å–·é›¾ æ€»å…±44+257+804+495+960+1234+548+743=5084+624=7246+240=7446å…ƒï¼ˆ2017â€“6æœˆ14æ—¥â€“2018å¹´3æœˆ11æ—¥ï¼‰ 2018å¹´å››æœˆâ€”- ï¼š7466+178+112+148=7896å…ƒ 2018 4æœˆ4å· 178 çŽ‰æ³½ä¿®å¤ä¹³ æ³°å°”æ–¯ï¼ˆ112ï¼‰ ä¾æ³‰( 148) ç†è‚¤æ³‰ 2018å¹´äº”æœˆ â€”2019å¹´ä¸‰æœˆ 7896+8+178=8082 2018å¹´äº”æœˆ â€”2019å¹´ä¸‰æœˆ 1708å…ƒ+8082=9790å…ƒ 148çŽ‰æ³½ä¿®å¤ä¹³ 168å–·é›¾ 405è¡£æ³‰ä¿æ¹¿éœœ 174ä¿®å¤ä¹³ 148è¡£æ³‰ä¿®å¤éœœ 148è¡£æ³‰ä¿®å¤éœœ 214è¡£æ³‰ä¿®å¤éœœ+å–·é›¾ 138è¡£æ³‰ä¿®å¤éœœ 107ç†è‚¤æ³‰ 58å¤«è¥¿åœ°é…¸ä¹³è† â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 2019å¹´3æœˆ6å· =13120å…ƒ FQé¢è†œ 400å…ƒ IPL2000å…ƒ æŒ‚å·è´¹318å…ƒ è½¦è´¹176+136å…ƒ ä½å®¿éª‘è½¦åƒé¥­è´¹ç”¨ï¼š300å…ƒ å…±è®¡3330å…ƒ ä½¿ç”¨æƒ…å†µï¼š3æœˆ6æ—¥ å¾®ç–¼ç—›æ„Ÿ æ³¨æ„é˜²æ™’ å³å˜´å·´ æ¢å¤ä¸é”™ã€‚æ³¨æ„é˜²æ™’ ä¸ç”¨æ´—é¢å¥¶ ç¾Žå³ â€”â€” å˜´è§’ä¸‹é¢ å‡ºçŽ°çº¢è‰²çš„ä¸œè¥¿ æœ‰æ°´ ä¸çŸ¥é“æ˜¯æ°´ç–±è¿˜æ˜¯ä»€ä¹ˆ é—®åŒ»ç”Ÿ â­ï¸â­ï¸ é•¿äº†ä¸€ä¸ªå°ç—˜ç—˜ðŸ‘ƒå³ä¾§ ç¦æ¸…é¢è†œç”¨äº†å…­å¤© æ¸£å­è¦æŽ‰äº† â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 2019å¹´4æœˆ4æ—¥ =16084å…ƒ IPL 2000å…ƒ è½¦è´¹ï¼š176å…ƒ åƒé¥­æ‰“è½¦ï¼š100å…ƒ è¯è´¹ï¼š è¾¾èŠ™æ–‡ 49å…ƒ â€‹ ç§¯é›ªè‹·éœœä¹³è†ï¼ˆ2ï¼‰ 40å…ƒ â€‹ åº·ç‘žä¿ ï¼ˆ2ï¼‰80å…ƒ â€‹ çŽ‰æ³½å±éšœä¿®å¤ ä¹³æ¶² 148+174=322å…ƒ â€‹ çŽ‰æ³½å±éšœä¿®å¤ é¢éœœ. 178å…ƒ 15g å¾®è¯ºå¨œ ç‰¹æŠ¤éœœ 68å…ƒ 18g å…±è®¡ï¼š2964å…ƒ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ç”¨è¯æƒ…å†µï¼š2019å¹´2æœˆ14æ—¥æ™šä¸Š ç”¨ å–œè¾½å¦¥ å’ŒçŽ‰æ³½ä¿®å¤ä¹³æ¶² â€‹ 2019å¹´4æœˆ8å· ç”¨çŽ‰æ³½é¢éœœ +è¾¾èŠ™æ–‡ çŽ‰æ³½ä¹³æ¶²+ç”˜è‰éœœä¹³è† 2019å¹´xxxã€‚åº·ç‘žä¿+å¾®è¯ºå¨œ ç‰¹æŠ¤éœœç²¾åŽ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 2019å¹´4æœˆå…±æ²»ç–—å¤§çº¦ 16084å…ƒ ä¸€ä¸‡å…­åƒå…ƒ ç”¨è¯æƒ…å†µè¯¦ç»†æŠ¥å‘Šï¼š 7æœˆ16å·çº¢éœ‰ç´ +å¤æ–¹çº¢éœ‰ç´ è½¯è† â€”ç¬¬ä¸€æ¬¡ 7æœˆ27å·æ³°å°”ä¸ æ¶ˆç—¤ä¸¸ å¤æ–¹å¤šèŒè½¯è†â€”ç¬¬äºŒæ¬¡ 8æœˆ16å·æ³°å°”ä¸ +æ¶ˆç—¤ä¸¸+å¤«è¥¿åœ°é…¸ä¹³è†â€”ç¬¬ä¸‰æ¬¡ 9æœˆ13ç¾Žæ»¡+ç¾Žèƒ½â€”ç¬¬å››æ¬¡ 9æœˆ27å·-11æœˆ3å·ç¾Žæ»¡ ç¾Žèƒ½ å¤«è¥¿åœ°é…¸ä¹³è†ç¬¬äº”æ¬¡ 11æœˆ3å·ç¾Žæ»¡ ç¾Žèƒ½ å¤«è¥¿åœ°é…¸ä¹³è†ç¬¬å…­æ¬¡ 12æœˆ11å· æ³°å°”ä¸+ å¤«è¥¿+ å¤«è¥¿ â€”ç¬¬ä¸ƒæ¬¡ 12æœˆ11å· ç¾Žæ»¡ä¸€å…± åƒäº†80å¤© æ³°å°”ä¸åƒäº†ä¸¤ä¸ªæœˆâ€” 2æœˆ11å· 2æœˆ12-3æœˆ6æ—¥â€”æ³°å°”ä¸åƒäº†ä¸¤ä¸ªæœˆï¼ˆä¸€å¤©ä¸¤é¡¿ï¼‰+ å¤–ç”¨ ä¿é€‚ çŽ‰æ³½æŠ¤è‚¤å“ 12æœˆ11å·åˆ°3æœˆ7æ—¥ æ³°å°”æ–¯ åƒäº†86å¤© ä¸€å¤©ä¸¤ç²’ å…±å…«ç›’ 3æœˆ7æ—¥ â€“æ–°å¢žä¸€ä¸ªç—˜ç—˜ å¤‡æ³¨ï¼š12æœˆ11å·â€”xæœˆ x æ—¥æ³°å°”æ–¯åƒ21ç›’ 21ç›’ 30*21 = 630å¤© æƒ…å†µä¸ç¨³å®šä¸€å¤©ä¸¤ç²’ã€‚æƒ…å†µç¨³å®š ä¸€å¤©ä¸€ç²’ æœ‰æ–°å‘çš„ å¤«è¥¿åœ°é…¸ä¹³è† ç‚¹æ¶‚ã€‚ä¸èƒ½å…¨éƒ¨æ»¡è„¸ 21ç›’åªæ˜¯ä¸€ä¸ªæ ‡å‡† å®šæœŸéšè®¿ å¦‚æžœå·®ä¸å¤šå°±ä¸è¦åƒäº† ä¸­ é¥­ æ™šé¥­ åƒå®Œå°± åƒ æŸ¥æŸ¥è‚åŠŸèƒ½ è¿žç»­å£ç¦å¼€å§‹ç®— FQ å¤«æ¸…é¢è†œã€‚æŸ¥è¡€è„‚ é¼»å­çš„èƒŒéƒ¨ å¢žç”Ÿæ€§ç–¤ç—•ã€‘ ç¡¬ç»“ï¼šæŒ‰ä¸‹åŽ»æœ‰åº”å±Šç¡¬å—ï¼ˆç™½è‰²çš„é¢—ç²’ ï¼‰ ä¸ä¸€å®šèƒ½é€€ä¸‹åŽ» çº¢è‰²èƒ½é€€ çŽ‰æ³½æ»¡è„¸æ¶‚ æ€¡æ³‰çº¢è‰²ç—˜å°å¤„ å¤«è¥¿åœ°é…¸ å±€éƒ¨å›¾æ–°å‘çš„ç—˜ç—˜ å¥¶åˆ¶å“å°‘åƒ ä¸€å¤©200mlã€‚å¤§é‡åƒåŠ é‡ã€‚ é‡ ä¸èƒ½å¤š çŽ‰æ³½ä¿®å¤ åŠå¹´ ä¸€å¹´ æ­£è§„ åƒä¸¤ä¸ªæœˆ æ£€æŸ¥ è¡€è„‚ å’Œè‚åŠŸèƒ½ æœ‰é—®é¢˜åœä¸‹æ¥ ä¸å»ºè®®åŽ»ç—˜äº§å“ æžœé…¸åˆºæ¿€çš®è‚¤]]></content>
  </entry>
  <entry>
    <title><![CDATA[SpringCloud è¯¾ç¨‹æ•´ç†]]></title>
    <url>%2F2019%2F03%2F31%2FSpringCloud%2FSpringCloud%2F</url>
    <content type="text"><![CDATA[SpringCloud1 .EurekaServer]]></content>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Activiti6.0 å­¦ä¹ ]]></title>
    <url>%2F2019%2F03%2F30%2FActiviti6.0%2FActiviti6.0%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>Activiti</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FastDFS åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ]]></title>
    <url>%2F2019%2F03%2F27%2FFastDFS%2FFastDFS%2F</url>
    <content type="text"><![CDATA[1.FastDFSç®€ä»‹ã€çŽ¯å¢ƒæ­å»ºä¸Žä½¿ç”¨]]></content>
      <tags>
        <tag>FastDFS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JVMåœ£æ€æº]]></title>
    <url>%2F2019%2F03%2F26%2FJVM%2FJVM%E5%9C%A3%E6%80%9D%E6%BA%90%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ æ–¹æ³•è®º ç†è§£ è¾“å…¥è¾“å‡º JVM ä»‹ç»ï¼šJVMæ˜¯ä¸€ä¸ªä»¤äººæœ›è€Œå´æ­¥çš„é¢†åŸŸï¼Œå› ä¸ºå®ƒåšå¤§ç²¾æ·±ï¼Œæ¶‰åŠåˆ°çš„å†…å®¹ä¸ŽçŸ¥è¯†ç‚¹éžå¸¸ä¹‹å¤šã€‚è™½ç„¶Javaå¼€å‘è€…æ¯å¤©éƒ½åœ¨ä½¿ç”¨JVMï¼Œä½†å¯¹å…¶æœ‰æ‰€ç ”ç©¶å¹¶ä¸”ç ”ç©¶æ·±å…¥çš„äººå´å°‘ä¹‹åˆå°‘ã€‚ç„¶è€Œï¼ŒJVMçš„é‡è¦æ€§å´åˆæ˜¯ä¸è¨€è€Œå–»çš„ã€‚åŸºäºŽJVMçš„å„ç§åŠ¨æ€ä¸Žé™æ€è¯­è¨€ç”Ÿæ€åœˆå·²ç»å¼‚å¸¸ç¹è£äº†ï¼Œå¯¹JVMçš„è¿è¡Œæœºåˆ¶æœ‰ä¸€å®šçš„äº†è§£ä¸ä½†å¯ä»¥æå‡æˆ‘ä»¬çš„ç«žäº‰åŠ›ï¼Œè¿˜å¯ä»¥è®©æˆ‘ä»¬åœ¨é¢å¯¹é—®é¢˜æ—¶èƒ½å¤Ÿæ²‰ç€åº”å¯¹ï¼ŒåŠ é€Ÿé—®é¢˜çš„è§£å†³é€Ÿåº¦ï¼›åŒæ—¶è¿˜èƒ½å¤Ÿå¢žå¼ºæˆ‘ä»¬çš„è‡ªä¿¡å¿ƒï¼Œè®©æˆ‘ä»¬æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚ JVMä»‹ç» HotSpotè™šæ‹Ÿæœºè®²è§£ åžƒåœ¾æ”¶é›†æ–¹å¼è¯¦è§£ åžƒåœ¾æ”¶é›†ç®—æ³•è¯¦è§£ åžƒåœ¾æ”¶é›†å™¨è¯¦è§£ åˆ†ä»£åžƒåœ¾æ”¶é›†æœºåˆ¶è¯¦è§£ æ–°ç”Ÿä»£è®²è§£ è€å¹´ä»£è®²è§£ G1æ”¶é›†å™¨åˆ†æžä¸Žå®žä¾‹ å¸¸è§ä¸”é‡è¦è™šæ‹Ÿæœºå‚æ•°ç¤ºä¾‹ æ ˆ æ–¹æ³•åŒº çº¿ç¨‹å…±äº«å†…å­˜åŒº æ ¹æœç´¢ç®—æ³• Serialæ”¶é›†å™¨ ParNewæ”¶é›†å™¨ ç±»åŠ è½½æœºåˆ¶è¯¦è§£ ç±»åŠ è½½çš„åŒäº²å§”æ‰˜æœºåˆ¶ å­—èŠ‚ç æ–‡ä»¶ç”Ÿæˆä¸Žåˆ†æž é­”æ•° å¸¸é‡æ± ä¸Žæ–¹æ³•è¡¨ å„ç§æŒ‡ä»¤è¯¦è§£ é”è¯¦è§£ çº¿ç¨‹å®‰å…¨ åå‘é”ã€è‡ªæ—‹é”ä¸Žè½»é‡çº§é” JITç¼–è¯‘å™¨ GCæ—¥å¿—ç”Ÿæˆä¸Žåˆ†æž è™šæ‹Ÿæœºç›‘æŽ§å·¥å…·è¯¦è§£ jConsoleä½¿ç”¨æ–¹å¼è¯¦è§£ ä½•ä¸ºé€ƒé€¸ä¸Žé€ƒé€¸åˆ†æž æ–¹æ³•å†…è” è™šæ‹Ÿæœºå†…å­˜æ¨¡åž‹è¯¦è§£ ç±»åŠ è½½å™¨æ·±å…¥è§£æžä¸Žé˜¶æ®µåˆ†è§£### 2 ç±»çš„åŠ è½½è¿žæŽ¥ä¸Žåˆå§‹åŒ–è¿‡ç¨‹è¯¦è§£ 6 å¸¸é‡çš„æœ¬è´¨å«ä¹‰ä¸Žåç¼–è¯‘åŠåŠ©è®°ç¬¦è¯¦è§£ final: 7_ç¼–è¯‘æœŸå¸¸é‡ä¸Žè¿è¡ŒæœŸå¸¸é‡çš„åŒºåˆ«åŠæ•°ç»„åˆ›å»ºæœ¬è´¨åˆ†æž 8 æŽ¥å£åˆå§‹åŒ–è§„åˆ™ä¸Žç±»åŠ è½½å™¨å‡†å¤‡é˜¶æ®µå’Œåˆå§‹åŒ–é˜¶æ®µçš„é‡è¦æ„ä¹‰åˆ†æž]]></content>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginxæ…•è¯¾ç½‘]]></title>
    <url>%2F2019%2F03%2F21%2FNginx%2FNginx%20%E6%85%95%E8%AF%BE%E7%BD%91%20%2F</url>
    <content type="text"></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[java8æ–°ç‰¹æ€§]]></title>
    <url>%2F2019%2F03%2F20%2FJava%208%209%2011%E6%96%B0%E7%89%B9%E6%80%A7%2Fjava8%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"><![CDATA[1.Lambdaè¡¨è¾¾å¼ 12345678List&lt;Employee&gt; employees = Arrays.asList( new Employee("w1", 213, 1), new Employee("w2", 2142, 3), new Employee("w3", 212, 2), new Employee("w4", 2123, 21), new Employee("w5", 214, 2132421), new Employee("w6", 212, 2123421) ); 12345678910111213//éœ€æ±‚èŽ·å–å½“å‰å…¬å¸å‘˜å·¥å¹´é¾„å¤§äºŽ35çš„å‘˜å·¥ä¿¡æ¯ public List&lt;Employee&gt; filterEmployees(List&lt;Employee&gt; list) &#123; //ç”³æ˜Žä¸€ä¸ªlisté›†åˆå­˜æ”¾ä¸œè¥¿ List&lt;Employee&gt; emps = new ArrayList&lt;&gt;(); //2 éåŽ† for (Employee emp : list) &#123; if (emp.getAge() &gt;= 35) &#123; emps.add(emp); &#125; &#125; //è¿”å›žå›žåŽ» return emps; &#125; 1234567@Test public void test() &#123; List&lt;Employee&gt; employ = filterEmployees(employees); for (Employee employee : employ) &#123; System.out.println(employee); &#125; &#125; 123456789public List&lt;Employee&gt; filterEmployee(List&lt;Employee&gt; list, Mypredicate&lt;Employee&gt; mp) &#123; List&lt;Employee&gt; employ = new ArrayList&lt;&gt;(); for (Employee employee : list) &#123; if (mp.test(employee)) &#123; employ.add(employee); &#125; &#125; return employ; &#125; 1234public interface Mypredicate&lt;T&gt; &#123; public boolean test(T t);&#125; 12345678910111213 // æ–¹æ³•2 åŒ¿åå†…éƒ¨ç±»@Test public void teste() &#123; List&lt;Employee&gt; list = filterEmployee(employees, new Mypredicate&lt;Employee&gt;() &#123; @Override public boolean test(Employee o) &#123; return o.getSalary() &lt;= 90; &#125; &#125;); for (Employee employee : list) &#123; System.out.println(employee); &#125; &#125; 12345678//3 æ–¹æ³•3 Lambdaè¡¨è¾¾å¼ @Test public void t2est() &#123; List&lt;Employee&gt; employees = filterEmployee(this.employees, (e) -&gt; e.getSalary() &lt;= 90); employees.forEach(System.out::println); System.out.println("============================"); System.out.println(employees); &#125; 12345678910//ä¼˜åŒ–æ–¹å¼4 æ‰€æœ‰çš„éƒ½æ²¡æœ‰ åªæœ‰é›†åˆæœ‰ @Test public void test7() &#123; employees.stream().filter((e) -&gt; e.getSalary() &gt;= 90) .limit(2) .forEach(System.out::println); employees.stream().map(Employee::getName).forEach(System.out::println); &#125; 2.Labbda è¡¨è¾¾å¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104/* * ä¸€ã€Lambda è¡¨è¾¾å¼çš„åŸºç¡€è¯­æ³•ï¼šJava8ä¸­å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ“ä½œç¬¦ "-&gt;" è¯¥æ“ä½œç¬¦ç§°ä¸ºç®­å¤´æ“ä½œç¬¦æˆ– Lambda æ“ä½œç¬¦ * ç®­å¤´æ“ä½œç¬¦å°† Lambda è¡¨è¾¾å¼æ‹†åˆ†æˆä¸¤éƒ¨åˆ†ï¼š * * å·¦ä¾§ï¼šLambda è¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨ * å³ä¾§ï¼šLambda è¡¨è¾¾å¼ä¸­æ‰€éœ€æ‰§è¡Œçš„åŠŸèƒ½ï¼Œ å³ Lambda ä½“ * * è¯­æ³•æ ¼å¼ä¸€ï¼šæ— å‚æ•°ï¼Œæ— è¿”å›žå€¼ * () -&gt; System.out.println("Hello Lambda!"); * * è¯­æ³•æ ¼å¼äºŒï¼šæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”æ— è¿”å›žå€¼ * (x) -&gt; System.out.println(x) * * è¯­æ³•æ ¼å¼ä¸‰ï¼šè‹¥åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå°æ‹¬å·å¯ä»¥çœç•¥ä¸å†™ * x -&gt; System.out.println(x) * * è¯­æ³•æ ¼å¼å››ï¼šæœ‰ä¸¤ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼Œæœ‰è¿”å›žå€¼ï¼Œå¹¶ä¸” Lambda ä½“ä¸­æœ‰å¤šæ¡è¯­å¥ * Comparator&lt;Integer&gt; com = (x, y) -&gt; &#123; * System.out.println("å‡½æ•°å¼æŽ¥å£"); * return Integer.compare(x, y); * &#125;; * * è¯­æ³•æ ¼å¼äº”ï¼šè‹¥ Lambda ä½“ä¸­åªæœ‰ä¸€æ¡è¯­å¥ï¼Œ return å’Œ å¤§æ‹¬å·éƒ½å¯ä»¥çœç•¥ä¸å†™ * Comparator&lt;Integer&gt; com = (x, y) -&gt; Integer.compare(x, y); * * è¯­æ³•æ ¼å¼å…­ï¼šLambda è¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨çš„æ•°æ®ç±»åž‹å¯ä»¥çœç•¥ä¸å†™ï¼Œå› ä¸ºJVMç¼–è¯‘å™¨é€šè¿‡ä¸Šä¸‹æ–‡æŽ¨æ–­å‡ºï¼Œæ•°æ®ç±»åž‹ï¼Œå³â€œç±»åž‹æŽ¨æ–­â€ * (Integer x, Integer y) -&gt; Integer.compare(x, y); * * ä¸Šè”ï¼šå·¦å³é‡ä¸€æ‹¬å·çœ * ä¸‹è”ï¼šå·¦ä¾§æŽ¨æ–­ç±»åž‹çœ * æ¨ªæ‰¹ï¼šèƒ½çœåˆ™çœ * * äºŒã€Lambda è¡¨è¾¾å¼éœ€è¦â€œå‡½æ•°å¼æŽ¥å£â€çš„æ”¯æŒ * å‡½æ•°å¼æŽ¥å£ï¼šæŽ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æŽ¥å£ï¼Œç§°ä¸ºå‡½æ•°å¼æŽ¥å£ã€‚ å¯ä»¥ä½¿ç”¨æ³¨è§£ @FunctionalInterface ä¿®é¥° * å¯ä»¥æ£€æŸ¥æ˜¯å¦æ˜¯å‡½æ•°å¼æŽ¥å£ */public class TestLambda2 &#123; @Test public void test1()&#123; int num = 0;//jdk 1.7 å‰ï¼Œå¿…é¡»æ˜¯ final Runnable r = new Runnable() &#123; @Override public void run() &#123; System.out.println("Hello World!" + num); &#125; &#125;; r.run(); System.out.println("-------------------------------"); Runnable r1 = () -&gt; System.out.println("Hello Lambda!"); r1.run(); &#125; @Test public void test2()&#123; Consumer&lt;String&gt; con = x -&gt; System.out.println(x); con.accept("æˆ‘å¤§å°šç¡…è°·å¨æ­¦ï¼"); &#125; @Test public void test3()&#123; Comparator&lt;Integer&gt; com = (x, y) -&gt; &#123; System.out.println("å‡½æ•°å¼æŽ¥å£"); return Integer.compare(x, y); &#125;; &#125; @Test public void test4()&#123; Comparator&lt;Integer&gt; com = (x, y) -&gt; Integer.compare(x, y); &#125; @Test public void test5()&#123;// String[] strs;// strs = &#123;"aaa", "bbb", "ccc"&#125;; List&lt;String&gt; list = new ArrayList&lt;&gt;(); show(new HashMap&lt;&gt;()); &#125; public void show(Map&lt;String, Integer&gt; map)&#123; &#125; //éœ€æ±‚ï¼šå¯¹ä¸€ä¸ªæ•°è¿›è¡Œè¿ç®— @Test public void test6()&#123; Integer num = operation(100, (x) -&gt; x * x); System.out.println(num); System.out.println(operation(200, (y) -&gt; y + 200)); &#125; public Integer operation(Integer num, MyFun mf)&#123; return mf.getValue(num); &#125;&#125; Lambda ç»ƒä¹ 12345678910111213141516171819202122232425262728293031//Lambda è¡¨è¾¾å¼ ç»ƒä¹  @Test public void test1() &#123; Collections.sort(emps, new Comparator&lt;Employee&gt;() &#123; @Override public int compare(Employee o1, Employee o2) &#123; if (o1.getAge() == o2.getAge()) &#123; return o1.getName().compareTo(o2.getName()); &#125; else &#123; return Integer.compare(o1.getAge(), o2.getAge()); &#125; &#125; &#125;); for (Employee employee : emps) &#123; System.out.println(employee + "Hello world"); &#125; &#125; @Test public void test11() &#123; Collections.sort(emps, (e1, e2) -&gt; &#123; if (e1.getAge() == e2.getAge()) &#123; return e1.getName().compareTo(e2.getName()); &#125; else &#123; return Integer.compare(e1.getAge(), e2.getAge()); &#125; &#125;); for (Employee emp : emps) &#123; System.out.println(emp); &#125; &#125; 1234567891011121314151617181920@FunctionalInterfacepublic interface MyFunction &#123; public String getValue(String str);&#125; //ç”¨äºŽå¤„ç†å­—ç¬¦ä¸² public String strHandler(String str, MyFunction myFunction) &#123; return myFunction.getValue(str); &#125; @Test public void testMyFunction() &#123; String s = strHandler("Hello World", (str) -&gt; str.toUpperCase()); System.out.println(s); &#125; #3.java 8å››å¤§æ ¸å¿ƒå†…ç½®å‡½æ•°å¼æŽ¥å£ https://blog.csdn.net/qq_38958113/article/details/82909615 Consumer æ¶ˆè´¹åž‹æŽ¥å£12345678910//Consumer&lt;T&gt; æ¶ˆè´¹åž‹æŽ¥å£ @Test public void test1() &#123; happy(20, (m) -&gt; System.out.println("æ¶ˆè´¹" + m)); &#125; public void happy(double money, Consumer&lt;Double&gt; con) &#123; con.accept(money); &#125; ç¬”è®°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889/* * Java8 å†…ç½®çš„å››å¤§æ ¸å¿ƒå‡½æ•°å¼æŽ¥å£ * * Consumer&lt;T&gt; : æ¶ˆè´¹åž‹æŽ¥å£ * void accept(T t); * * Supplier&lt;T&gt; : ä¾›ç»™åž‹æŽ¥å£ * T get(); * * Function&lt;T, R&gt; : å‡½æ•°åž‹æŽ¥å£ * R apply(T t); * * Predicate&lt;T&gt; : æ–­è¨€åž‹æŽ¥å£ * boolean test(T t); * */public class TestLambda3 &#123; //Predicate&lt;T&gt; æ–­è¨€åž‹æŽ¥å£ï¼š @Test public void test4()&#123; List&lt;String&gt; list = Arrays.asList("Hello", "atguigu", "Lambda", "www", "ok"); List&lt;String&gt; strList = filterStr(list, (s) -&gt; s.length() &gt; 3); for (String str : strList) &#123; System.out.println(str); &#125; &#125; //éœ€æ±‚ï¼šå°†æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ä¸²ï¼Œæ”¾å…¥é›†åˆä¸­ public List&lt;String&gt; filterStr(List&lt;String&gt; list, Predicate&lt;String&gt; pre)&#123; List&lt;String&gt; strList = new ArrayList&lt;&gt;(); for (String str : list) &#123; if(pre.test(str))&#123; strList.add(str); &#125; &#125; return strList; &#125; //Function&lt;T, R&gt; å‡½æ•°åž‹æŽ¥å£ï¼š @Test public void test3()&#123; String newStr = strHandler("\t\t\t æˆ‘å¤§å°šç¡…è°·å¨æ­¦ ", (str) -&gt; str.trim()); System.out.println(newStr); String subStr = strHandler("æˆ‘å¤§å°šç¡…è°·å¨æ­¦", (str) -&gt; str.substring(2, 5)); System.out.println(subStr); &#125; //éœ€æ±‚ï¼šç”¨äºŽå¤„ç†å­—ç¬¦ä¸² public String strHandler(String str, Function&lt;String, String&gt; fun)&#123; return fun.apply(str); &#125; //Supplier&lt;T&gt; ä¾›ç»™åž‹æŽ¥å£ : @Test public void test2()&#123; List&lt;Integer&gt; numList = getNumList(10, () -&gt; (int)(Math.random() * 100)); for (Integer num : numList) &#123; System.out.println(num); &#125; &#125; //éœ€æ±‚ï¼šäº§ç”ŸæŒ‡å®šä¸ªæ•°çš„æ•´æ•°ï¼Œå¹¶æ”¾å…¥é›†åˆä¸­ public List&lt;Integer&gt; getNumList(int num, Supplier&lt;Integer&gt; sup)&#123; List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; num; i++) &#123; Integer n = sup.get(); list.add(n); &#125; return list; &#125; //Consumer&lt;T&gt; æ¶ˆè´¹åž‹æŽ¥å£ : @Test public void test1()&#123; happy(10000, (m) -&gt; System.out.println("ä½ ä»¬åˆšå“¥å–œæ¬¢å¤§å®å‰‘ï¼Œæ¯æ¬¡æ¶ˆè´¹ï¼š" + m + "å…ƒ")); &#125; public void happy(double money, Consumer&lt;Double&gt; con)&#123; con.accept(money); &#125;&#125; 4.æ–¹æ³•å¼•ç”¨ä¸Žæž„é€ èµ·å¼•ç”¨ 5.Stream 123456789101112131415161718192021222324252627282930/** * ä¸€ã€‚Stream çš„ä¸‰ä¸ªæ“ä½œæ­¥éª¤ * &lt;p&gt; * 1.åˆ›å»ºStream * 2ã€‚ä¸­é—´æ“ä½œ * 3ã€‚ç»ˆæ­¢æ“ä½œï¼ˆç»ˆç«¯æ“ä½œï¼‰ */public class TestStreamAPi &#123; //åˆ›å»ºStream @Test public void test1() &#123;//1.å¯ä»¥é€šè¿‡Collectionç³»åˆ—é›†åˆæä¾›çš„Streamï¼ˆï¼‰æˆ–parallelStream() List&lt;String&gt; list = new ArrayList&lt;&gt;(); Stream&lt;String&gt; stream1 = list.stream();//2.é€šè¿‡Arraysä¸­çš„é™æ€æ–¹æ³•streamï¼ˆï¼‰èŽ·å–æ•°ç»„æµ Employee[] emps = new Employee[10]; Stream&lt;Employee&gt; stream2 = Arrays.stream(emps);//3.é€šè¿‡Streamä¸­çš„é™æ€æ–¹æ³• of() Stream&lt;String&gt; stream3 = Stream.of("aa", "bb", "bb");//4 åˆ›å»ºæ— é™æµ //è¿­ä»£ Stream&lt;Integer&gt; stream4 = Stream.iterate(0, (x) -&gt; x + 2); stream4.limit(4).forEach(System.out::println); //ç”Ÿæˆ Stream.generate(() -&gt; Math.random()).limit(14).forEach(System.out::println); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class TestStreamApi2 &#123; List&lt;Employee&gt; employees = Arrays.asList( new Employee(102, "æŽå››", 59, 6666), new Employee(101, "å¼ ä¸‰", 18, 9999), new Employee(103, "çŽ‹äº”", 28, 3333), new Employee(104, "èµµå…­", 8, 7777) ); //ä¸­é—´æ“ä½œ /** * 1 filter--æŽ¥å—Lambda ä»Žå…­ç§æŽ’é™¤æŸäº›å…ƒç´  * 2 limit --æˆªæ–­æµ ä½¿å…¶å…ƒç´ ä¸è¶…è¿‡ç»™å®šæ•°é‡ * 3 skip(n)--è·³è¿‡å…ƒç´  è¿”å›žä¸€ä¸ªæ‰”æŽ‰äº†å‰nä¸ªå…ƒç´ çš„æµ è¯ºæµä¸­å…ƒç´ ä¸è¶³nä¸ª åˆ™ * è¿”å›žä¸€ä¸ªç©ºæµ ä¸Žlimitï¼ˆnï¼‰äº’è¡¥ * 4 distinct--- ç­›é€‰ é€šè¿‡æµæ‰€ç”Ÿæˆå…ƒç´ çš„hashCodeï¼ˆï¼‰å’Œequals()åŽ»é™¤é‡å¤å…ƒç´  */ //å†…éƒ¨è¿­ä»£ è¿­ä»£ç”±Stream API å®Œæˆ @Test public void test1() &#123; //ä¸­é—´æ“ä½œï¼šä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œ Stream&lt;Employee&gt; employeeStream = employees.stream().filter((e) -&gt; &#123; return e.getAge() &gt; 35; &#125;); //ç»ˆæ­¢æ“ä½œï¼šä¸€æ¬¡æ€§æ‰§è¡Œå…¨éƒ¨å†…å®¹ å³æƒ°æ€§æ±‚å€¼ employeeStream.forEach(System.out::println); &#125; //å¤–éƒ¨è¿­ä»£ @Test public void test2() &#123; Iterator&lt;Employee&gt; iterator = employees.iterator(); while (iterator.hasNext()) &#123; System.out.println(iterator); &#125; &#125; @Test public void test3() &#123; employees.stream().filter((e) -&gt; &#123; return e.getSalary() &gt; 20; &#125;).limit(2) .forEach(System.out::println); &#125; @Test public void test4() &#123; employees.stream().filter((e) -&gt; &#123; return e.getSalary() &gt; 5000; &#125;).skip(2).forEach(System.out::println); &#125; @Test public void test5() &#123; employees.stream().filter((e) -&gt; &#123; return e.getSalary() &gt; 90; &#125;).skip(2).distinct().forEach(System.out::println); &#125; //distinct é‡å†™equales å’Œhashcode 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class TestStreamApi3 &#123; List&lt;Employee&gt; employees = Arrays.asList( new Employee(102, "æŽå››", 59, 6666), new Employee(101, "å¼ ä¸‰", 18, 9999), new Employee(103, "çŽ‹äº”", 28, 3333), new Employee(104, "èµµå…­", 8, 7777) ); //2. ä¸­é—´æ“ä½œ /* æ˜ å°„ mapâ€”â€”æŽ¥æ”¶ Lambda ï¼Œ å°†å…ƒç´ è½¬æ¢æˆå…¶ä»–å½¢å¼æˆ–æå–ä¿¡æ¯ã€‚ æŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œ å¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚ flatMapâ€”â€”æŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åŽæŠŠæ‰€æœ‰æµè¿žæŽ¥æˆä¸€ä¸ªæµ */ @Test public void test1() &#123; List&lt;String&gt; list = Arrays.asList("a", "vc", "va"); list.stream().map((str) -&gt; str.toUpperCase()).forEach(System.out::println); System.out.println("........................"); employees.stream().map( Employee::getAge ).forEach(System.out::println); System.out.println("........................"); Stream&lt;Stream&lt;Character&gt;&gt; streamStream = list.stream().map(TestStreamApi3::filterCharcter); streamStream.forEach((sm) -&gt; &#123; sm.forEach(System.out::println); &#125;); System.out.println("........................"); Stream&lt;Character&gt; characterStream = list.stream().flatMap(TestStreamApi3::filterCharcter); &#125; @Test public static Stream&lt;Character&gt; filterCharcter(String str) &#123; List&lt;Character&gt; list = new ArrayList&lt;&gt;(); for (Character ch : str.toCharArray()) &#123; list.add(ch); &#125; return list.stream(); &#125;&#125; 6 æŽ’åº 7 Streamç»ˆæ­¢æ“ä½œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667public class demo1 &#123; List&lt;Employee&gt; emps = Arrays.asList( new Employee(102, "æŽå››", 79, 6666.66, Employee.Status.BUSY), new Employee(101, "å¼ ä¸‰", 18, 9999.99, Employee.Status.FREE), new Employee(103, "çŽ‹äº”", 28, 3333.33, Employee.Status.VOCATION), new Employee(104, "èµµå…­", 8, 7777.77, Employee.Status.BUSY), new Employee(104, "èµµå…­", 8, 7777.77, Employee.Status.FREE), new Employee(104, "èµµå…­", 8, 7777.77, Employee.Status.FREE), new Employee(105, "ç”°ä¸ƒ", 38, 5555.55, Employee.Status.BUSY) ); public static void main(String[] args) &#123; &#125; @Test public void test1() &#123; List&lt;String&gt; list = Arrays.asList("ccc", "aaa", "bbb"); list.stream().sorted().forEach(System.out::println); &#125; /* æŸ¥æ‰¾ä¸ŽåŒ¹é…ï¼š allMath:--æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´  anyMatch:--æ£€æŸ¥æ˜¯å¦è‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´  noneMatch:--æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…æ‰€æœ‰å…ƒç´  findFirst--è¿”å›žç¬¬ä¸€ä¸ªå…ƒç´  findAny--è¿”å›žå½“å‰æµä¸­çš„ä»»æ„å…ƒç´  count--è¿”å›žæµä¸­å…ƒç´ çš„æ€»ä¸ªæ•° max--è¿”å›žæµä¸­æœ€å¤§å€¼ min--è¿”å›žæµä¸­æœ€å°å€¼ */ @Test public void test12() &#123; boolean b1 = emps.stream().allMatch((e) -&gt; e.getStatus().equals(Employee.Status.BUSY)); System.out.print(b1); boolean b2 = emps.stream().anyMatch((e) -&gt; e.getStatus().equals(Employee.Status.BUSY)); System.out.print(b2); boolean b3 = emps.stream().noneMatch((e) -&gt; e.getStatus().equals(Employee.Status.BUSY)); System.out.print(b3); Optional&lt;Employee&gt; first = emps.stream().sorted((e1, e2) -&gt; Double.compare(e1.getSalary(), e2.getSalary())).findFirst(); System.out.println(first.get()); Optional&lt;Employee&gt; op2 = emps.stream().filter((e) -&gt; e.getStatus().equals(Employee.Status.BUSY)) .findAny(); System.out.println(op2.get()); &#125; @Test public void test2() &#123; long count = emps.stream().count(); System.out.println(count); Optional&lt;Employee&gt; max = emps.stream().max((e1, e2) -&gt; Double.compare(e1.getSalary(), e2.getSalary())); System.out.println(max.get()); Optional&lt;Double&gt; min = emps.stream().map((Employee::getSalary)).min(Double::compare); System.out.println(min.get()); &#125; 8 å½’çº¦ä¸Žæ”¶é›† 12345678@Testpublic void test3() &#123; Optional&lt;Double&gt; reduce = emps.stream().map(Employee::getSalary).reduce(Double::max); Double aDouble = reduce.get(); System.out.println(aDouble); &#125; 1234567@Testpublic void test4() &#123; List&lt;String&gt; collect = emps.stream().map(Employee::getName).collect(Collectors.toList()); collect.forEach(System.out::println); Set&lt;String&gt; collect1 = emps.stream().map(Employee::getName).collect(Collectors.toSet()); collect1.forEach(System.out::println);&#125; 9]]></content>
      <tags>
        <tag>java8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”Ÿäº§è€… æœåŠ¡ç«¯ æ¶ˆè´¹è€…å®¢æˆ·ç«¯]]></title>
    <url>%2F2019%2F03%2F15%2FSpringCloud%2F%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20%E6%9C%8D%E5%8A%A1%E7%AB%AF%2F</url>
    <content type="text"><![CDATA[Clientæ¶ˆè´¹ç«¯ æ¶ˆè´¹ç«¯ 12consumer: è°ƒç”¨æ–¹ æ¶ˆè´¹è€… å®¢æˆ·ç«¯ client provider: è¢«è°ƒç”¨æ–¹ æä¾›è€… æœåŠ¡ç«¯ service]]></content>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JsonUtil]]></title>
    <url>%2F2019%2F03%2F15%2F%E5%B7%A5%E5%85%B7%E7%B1%BB%F0%9F%94%A7%2FJsonUtil%2F</url>
    <content type="text"><![CDATA[12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879package com.leyou.httpdemo;import com.fasterxml.jackson.core.JsonProcessingException;import com.fasterxml.jackson.core.type.TypeReference;import com.fasterxml.jackson.databind.ObjectMapper;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.lang.Nullable;import java.io.IOException;import java.util.List;import java.util.Map;/** * @author: HuYi.Zhang * @create: 2018-04-24 17:20 **/public class JsonUtils &#123; public static final ObjectMapper mapper = new ObjectMapper(); private static final Logger logger = LoggerFactory.getLogger(JsonUtils.class); @Nullable public static String serialize(Object obj) &#123; if (obj == null) &#123; return null; &#125; if (obj.getClass() == String.class) &#123; return (String) obj; &#125; try &#123; return mapper.writeValueAsString(obj); &#125; catch (JsonProcessingException e) &#123; logger.error("jsonåºåˆ—åŒ–å‡ºé”™ï¼š" + obj, e); return null; &#125; &#125; @Nullable public static &lt;T&gt; T parse(String json, Class&lt;T&gt; tClass) &#123; try &#123; return mapper.readValue(json, tClass); &#125; catch (IOException e) &#123; logger.error("jsonè§£æžå‡ºé”™ï¼š" + json, e); return null; &#125; &#125; @Nullable public static &lt;E&gt; List&lt;E&gt; parseList(String json, Class&lt;E&gt; eClass) &#123; try &#123; return mapper.readValue(json, mapper.getTypeFactory().constructCollectionType(List.class, eClass)); &#125; catch (IOException e) &#123; logger.error("jsonè§£æžå‡ºé”™ï¼š" + json, e); return null; &#125; &#125; @Nullable public static &lt;K, V&gt; Map&lt;K, V&gt; parseMap(String json, Class&lt;K&gt; kClass, Class&lt;V&gt; vClass) &#123; try &#123; return mapper.readValue(json, mapper.getTypeFactory().constructMapType(Map.class, kClass, vClass)); &#125; catch (IOException e) &#123; logger.error("jsonè§£æžå‡ºé”™ï¼š" + json, e); return null; &#125; &#125; @Nullable public static &lt;T&gt; T nativeRead(String json, TypeReference&lt;T&gt; type) &#123; try &#123; return mapper.readValue(json, type); &#125; catch (IOException e) &#123; logger.error("jsonè§£æžå‡ºé”™ï¼š" + json, e); return null; &#125; &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[HttpClient]]></title>
    <url>%2F2019%2F03%2F15%2F%E5%B7%A5%E5%85%B7%E7%B1%BB%F0%9F%94%A7%2FHttpClient%2F</url>
    <content type="text"><![CDATA[HttpClientpom12345&lt;dependency&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;artifactId&gt;httpclient&lt;/artifactId&gt; &lt;version&gt;4.5.1&lt;/version&gt; &lt;/dependency&gt; 123456789public class User implements Serializable &#123; private static final long serialVersionUID = 1L; private Long id; // ç”¨æˆ·å private String userName; // å¯†ç  private String password; // å§“å private String name; 1234567891011121314@RunWith(SpringRunner.class)@SpringBootTest(classes = HttpDemoApplication.class)public class HttpDemoApplicationTests &#123; @Autowired private RestTemplate restTemplate; @Test public void httpGet() &#123; User user = this.restTemplate.getForObject("http://localhost/hello", User.class); System.out.println(user); &#125;&#125; 12345678910111213141516171819202122232425262728293031public class HttpTests &#123; CloseableHttpClient httpClient; @Before public void init() &#123; httpClient = HttpClients.createDefault(); &#125; @Test public void testGet() throws IOException &#123; HttpGet request = new HttpGet("http://www.baidu.com"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response); &#125; @Test public void testPost() throws IOException &#123; HttpGet request = new HttpGet("http://www.oschina.net/"); request.setHeader("User-Agent", "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response); &#125; @Test public void testGetPojo() throws IOException &#123; HttpGet request = new HttpGet("http://localhost/hello"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response); &#125;&#125; https://www.jianshu.com/p/375be5929bed â€”- https://www.cnblogs.com/ITtangtang/p/3968093.html https://www.cnblogs.com/bethunebtj/p/8493379.html]]></content>
      <tags>
        <tag>Utils</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å°šç¡…è°· Dubbo é›·ä¸°é˜³è®²ä¹‰]]></title>
    <url>%2F2019%2F03%2F14%2FDubbo%2F%E5%B0%9A%E7%A1%85%E8%B0%B7%20Dubbo%20%E9%9B%B7%E4%B8%B0%E9%98%B3%E8%AE%B2%E4%B9%89%2F</url>
    <content type="text"><![CDATA[å°šç¡…è°· Dubbo é›·ä¸°é˜³è®²ä¹‰boot-order-service-consumer12345678910111213@Controllerpublic class OrderController &#123; @Autowired OrderService orderService; @ResponseBody @RequestMapping("/initOrder") public List&lt;UserAddress&gt; initOrder(@RequestParam("uid")String userId) &#123; return orderService.initOrder(userId); &#125;&#125; 123456789@EnableDubbo@EnableHystrix@SpringBootApplicationpublic class BootOrderServiceConsumerApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(BootOrderServiceConsumerApplication.class, args); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435/** * 1ã€å°†æœåŠ¡æä¾›è€…æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒï¼ˆæš´éœ²æœåŠ¡ï¼‰ * 1ï¼‰ã€å¯¼å…¥dubboä¾èµ–ï¼ˆ2.6.2ï¼‰\æ“ä½œzookeeperçš„å®¢æˆ·ç«¯(curator) * 2ï¼‰ã€é…ç½®æœåŠ¡æä¾›è€… * * 2ã€è®©æœåŠ¡æ¶ˆè´¹è€…åŽ»æ³¨å†Œä¸­å¿ƒè®¢é˜…æœåŠ¡æä¾›è€…çš„æœåŠ¡åœ°å€ * @author lfy * */@Servicepublic class OrderServiceImpl implements OrderService &#123; //@Autowired @Reference(loadbalance="random",timeout=1000) //dubboç›´è¿ž UserService userService; @HystrixCommand(fallbackMethod="hello") @Override public List&lt;UserAddress&gt; initOrder(String userId) &#123; // TODO Auto-generated method stub System.out.println("ç”¨æˆ·idï¼š"+userId); //1ã€æŸ¥è¯¢ç”¨æˆ·çš„æ”¶è´§åœ°å€ List&lt;UserAddress&gt; addressList = userService.getUserAddressList(userId); return addressList; &#125; public List&lt;UserAddress&gt; hello(String userId) &#123; // TODO Auto-generated method stub return Arrays.asList(new UserAddress(10, "æµ‹è¯•åœ°å€", "1", "æµ‹è¯•", "æµ‹è¯•", "Y")); &#125; &#125; 12345server.port=8081dubbo.application.name=boot-order-service-consumerdubbo.registry.address=zookeeper://127.0.0.1:2181dubbo.monitor.protocol=registry boot-user-service-provider12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758@Configurationpublic class MyDubboConfig &#123; @Bean public ApplicationConfig applicationConfig() &#123; ApplicationConfig applicationConfig = new ApplicationConfig(); applicationConfig.setName("boot-user-service-provider"); return applicationConfig; &#125; //&lt;dubbo:registry protocol="zookeeper" address="127.0.0.1:2181"&gt;&lt;/dubbo:registry&gt; @Bean public RegistryConfig registryConfig() &#123; RegistryConfig registryConfig = new RegistryConfig(); registryConfig.setProtocol("zookeeper"); registryConfig.setAddress("127.0.0.1:2181"); return registryConfig; &#125; //&lt;dubbo:protocol name="dubbo" port="20882"&gt;&lt;/dubbo:protocol&gt; @Bean public ProtocolConfig protocolConfig() &#123; ProtocolConfig protocolConfig = new ProtocolConfig(); protocolConfig.setName("dubbo"); protocolConfig.setPort(20882); return protocolConfig; &#125; /** *&lt;dubbo:service interface="com.atguigu.gmall.service.UserService" ref="userServiceImpl01" timeout="1000" version="1.0.0"&gt; &lt;dubbo:method name="getUserAddressList" timeout="1000"&gt;&lt;/dubbo:method&gt; &lt;/dubbo:service&gt; */ @Bean public ServiceConfig&lt;UserService&gt; userServiceConfig(UserService userService)&#123; ServiceConfig&lt;UserService&gt; serviceConfig = new ServiceConfig&lt;&gt;(); serviceConfig.setInterface(UserService.class); serviceConfig.setRef(userService); serviceConfig.setVersion("1.0.0"); //é…ç½®æ¯ä¸€ä¸ªmethodçš„ä¿¡æ¯ MethodConfig methodConfig = new MethodConfig(); methodConfig.setName("getUserAddressList"); methodConfig.setTimeout(1000); //å°†methodçš„è®¾ç½®å…³è”åˆ°serviceé…ç½®ä¸­ List&lt;MethodConfig&gt; methods = new ArrayList&lt;&gt;(); methods.add(methodConfig); serviceConfig.setMethods(methods); //ProviderConfig //MonitorConfig return serviceConfig; &#125;&#125; 123456789101112131415161718192021222324/** * 1ã€å¯¼å…¥ä¾èµ–ï¼› * 1ï¼‰ã€å¯¼å…¥dubbo-starter * 2ï¼‰ã€å¯¼å…¥dubboçš„å…¶ä»–ä¾èµ– * @author lfy * * SpringBootä¸Ždubboæ•´åˆçš„ä¸‰ç§æ–¹å¼ï¼š * 1ï¼‰ã€å¯¼å…¥dubbo-starterï¼Œåœ¨application.propertiesé…ç½®å±žæ€§ï¼Œä½¿ç”¨@Serviceã€æš´éœ²æœåŠ¡ã€‘ä½¿ç”¨@Referenceã€å¼•ç”¨æœåŠ¡ã€‘ * 2ï¼‰ã€ä¿ç•™dubbo xmlé…ç½®æ–‡ä»¶; * å¯¼å…¥dubbo-starterï¼Œä½¿ç”¨@ImportResourceå¯¼å…¥dubboçš„é…ç½®æ–‡ä»¶å³å¯ * 3ï¼‰ã€ä½¿ç”¨æ³¨è§£APIçš„æ–¹å¼ï¼š * å°†æ¯ä¸€ä¸ªç»„ä»¶æ‰‹åŠ¨åˆ›å»ºåˆ°å®¹å™¨ä¸­,è®©dubboæ¥æ‰«æå…¶ä»–çš„ç»„ä»¶ *///@EnableDubbo //å¼€å¯åŸºäºŽæ³¨è§£çš„dubboåŠŸèƒ½//@ImportResource(locations="classpath:provider.xml")@EnableDubbo(scanBasePackages="com.atguigu.gmall")@EnableHystrix //å¼€å¯æœåŠ¡å®¹é”™@SpringBootApplicationpublic class BootUserServiceProviderApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(BootUserServiceProviderApplication.class, args); &#125;&#125; 1234567891011121314151617181920212223@Service//æš´éœ²æœåŠ¡ @Componentpublic class UserServiceImpl implements UserService &#123; @HystrixCommand @Override public List&lt;UserAddress&gt; getUserAddressList(String userId) &#123; // TODO Auto-generated method stub System.out.println("UserServiceImpl..3....."); UserAddress address1 = new UserAddress(1, "åŒ—äº¬å¸‚æ˜Œå¹³åŒºå®ç¦ç§‘æŠ€å›­ç»¼åˆæ¥¼3å±‚", "1", "æŽè€å¸ˆ", "010-56253825", "Y"); UserAddress address2 = new UserAddress(2, "æ·±åœ³å¸‚å®å®‰åŒºè¥¿éƒ¨ç¡…è°·å¤§åŽ¦Båº§3å±‚ï¼ˆæ·±åœ³åˆ†æ ¡ï¼‰", "1", "çŽ‹è€å¸ˆ", "010-56253825", "N");// try &#123;// Thread.sleep(2000);// &#125; catch (InterruptedException e) &#123;// e.printStackTrace();// &#125; if(Math.random()&gt;0.5) &#123; throw new RuntimeException(); &#125; return Arrays.asList(address1,address2); &#125;&#125; 1234567#dubbo.application.name=user-service-provider#dubbo.registry.address=127.0.0.1:2181#dubbo.registry.protocol=zookeeper#dubbo.protocol.name=dubbo##dubbo.protocol.port=20881#dubbo.monitor.protocol=registry##dubbo.scan.base-packages=com.atguigu.gmall 1dubbo.protocol.port=20882 123456789101112131415161718192021222324252627282930313233343536&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&gt; &lt;!-- 1ã€æŒ‡å®šå½“å‰æœåŠ¡/åº”ç”¨çš„åå­—ï¼ˆåŒæ ·çš„æœåŠ¡åå­—ç›¸åŒï¼Œä¸è¦å’Œåˆ«çš„æœåŠ¡åŒåï¼‰ --&gt; &lt;dubbo:application name=&quot;boot-user-service-provider&quot;&gt;&lt;/dubbo:application&gt; &lt;!-- 2ã€æŒ‡å®šæ³¨å†Œä¸­å¿ƒçš„ä½ç½® --&gt; &lt;!-- &lt;dubbo:registry address=&quot;zookeeper://127.0.0.1:2181&quot;&gt;&lt;/dubbo:registry&gt; --&gt; &lt;dubbo:registry protocol=&quot;zookeeper&quot; address=&quot;127.0.0.1:2181&quot;&gt;&lt;/dubbo:registry&gt; &lt;!-- 3ã€æŒ‡å®šé€šä¿¡è§„åˆ™ï¼ˆé€šä¿¡åè®®ï¼Ÿé€šä¿¡ç«¯å£ï¼‰ --&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20882&quot;&gt;&lt;/dubbo:protocol&gt; &lt;!-- 4ã€æš´éœ²æœåŠ¡ refï¼šæŒ‡å‘æœåŠ¡çš„çœŸæ­£çš„å®žçŽ°å¯¹è±¡ --&gt; &lt;dubbo:service interface=&quot;com.atguigu.gmall.service.UserService&quot; ref=&quot;userServiceImpl01&quot; timeout=&quot;1000&quot; version=&quot;1.0.0&quot;&gt; &lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt; &lt;/dubbo:service&gt; &lt;!--ç»Ÿä¸€è®¾ç½®æœåŠ¡æä¾›æ–¹çš„è§„åˆ™ --&gt; &lt;dubbo:provider timeout=&quot;1000&quot;&gt;&lt;/dubbo:provider&gt; &lt;!-- æœåŠ¡çš„å®žçŽ° --&gt; &lt;bean id=&quot;userServiceImpl01&quot; class=&quot;com.atguigu.gmall.service.impl.UserServiceImpl&quot;&gt;&lt;/bean&gt; &lt;!-- è¿žæŽ¥ç›‘æŽ§ä¸­å¿ƒ --&gt; &lt;dubbo:monitor protocol=&quot;registry&quot;&gt;&lt;/dubbo:monitor&gt; &lt;/beans&gt; gmall-interface12345678public class UserAddress implements Serializable &#123; private Integer id; private String userAddress; //ç”¨æˆ·åœ°å€ private String userId; //ç”¨æˆ·id private String consignee; //æ”¶è´§äºº private String phoneNum; //ç”µè¯å·ç  private String isDefault; //æ˜¯å¦ä¸ºé»˜è®¤åœ°å€ Y-æ˜¯ N-å¦ 123456789public interface OrderService &#123; /** * åˆå§‹åŒ–è®¢å• * @param userId */ public List&lt;UserAddress&gt; initOrder(String userId);&#125; 12345678910111213 /** * ç”¨æˆ·æœåŠ¡ */public interface UserService &#123; /** * æŒ‰ç…§ç”¨æˆ·idè¿”å›žæ‰€æœ‰çš„æ”¶è´§åœ°å€ * @param userId * @return */ public List&lt;UserAddress&gt; getUserAddressList(String userId);&#125; order-service-consumer1234567891011121314public class MainApplication &#123; @SuppressWarnings(&quot;resource&quot;) public static void main(String[] args) throws IOException &#123; ClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;consumer.xml&quot;); OrderService orderService = applicationContext.getBean(OrderService.class); orderService.initOrder(&quot;1&quot;); System.out.println(&quot;è°ƒç”¨å®Œæˆ....&quot;); System.in.read(); &#125;&#125; 123456789101112131415161718192021222324252627/** * 1ã€å°†æœåŠ¡æä¾›è€…æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒï¼ˆæš´éœ²æœåŠ¡ï¼‰ * 1ï¼‰ã€å¯¼å…¥dubboä¾èµ–ï¼ˆ2.6.2ï¼‰\æ“ä½œzookeeperçš„å®¢æˆ·ç«¯(curator) * 2ï¼‰ã€é…ç½®æœåŠ¡æä¾›è€… * * 2ã€è®©æœåŠ¡æ¶ˆè´¹è€…åŽ»æ³¨å†Œä¸­å¿ƒè®¢é˜…æœåŠ¡æä¾›è€…çš„æœåŠ¡åœ°å€ * @author lfy * */@Servicepublic class OrderServiceImpl implements OrderService &#123; @Autowired UserService userService; @Override public List&lt;UserAddress&gt; initOrder(String userId) &#123; // TODO Auto-generated method stub System.out.println("ç”¨æˆ·idï¼š"+userId); //1ã€æŸ¥è¯¢ç”¨æˆ·çš„æ”¶è´§åœ°å€ List&lt;UserAddress&gt; addressList = userService.getUserAddressList(userId); for (UserAddress userAddress : addressList) &#123; System.out.println(userAddress.getUserAddress()); &#125; return addressList; &#125; &#125; 1234567891011121314151617181920212223242526272829303132333435363738&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://dubbo.apache.org/schema/dubbo" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"&gt; &lt;context:component-scan base-package="com.atguigu.gmall.service.impl"&gt;&lt;/context:component-scan&gt; &lt;dubbo:application name="order-service-consumer"&gt;&lt;/dubbo:application&gt; &lt;dubbo:registry address="zookeeper://127.0.0.1:2181"&gt;&lt;/dubbo:registry&gt; &lt;!-- é…ç½®æœ¬åœ°å­˜æ ¹--&gt; &lt;!--å£°æ˜Žéœ€è¦è°ƒç”¨çš„è¿œç¨‹æœåŠ¡çš„æŽ¥å£ï¼›ç”Ÿæˆè¿œç¨‹æœåŠ¡ä»£ç† --&gt; &lt;!-- 1ï¼‰ã€ç²¾ç¡®ä¼˜å…ˆ (æ–¹æ³•çº§ä¼˜å…ˆï¼ŒæŽ¥å£çº§æ¬¡ä¹‹ï¼Œå…¨å±€é…ç½®å†æ¬¡ä¹‹) 2ï¼‰ã€æ¶ˆè´¹è€…è®¾ç½®ä¼˜å…ˆ(å¦‚æžœçº§åˆ«ä¸€æ ·ï¼Œåˆ™æ¶ˆè´¹æ–¹ä¼˜å…ˆï¼Œæä¾›æ–¹æ¬¡ä¹‹) --&gt; &lt;!-- timeout="0" é»˜è®¤æ˜¯1000ms--&gt; &lt;!-- retries="":é‡è¯•æ¬¡æ•°ï¼Œä¸åŒ…å«ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œ0ä»£è¡¨ä¸é‡è¯•--&gt; &lt;!-- å¹‚ç­‰ï¼ˆè®¾ç½®é‡è¯•æ¬¡æ•°ï¼‰ã€æŸ¥è¯¢ã€åˆ é™¤ã€ä¿®æ”¹ã€‘ã€éžå¹‚ç­‰ï¼ˆä¸èƒ½è®¾ç½®é‡è¯•æ¬¡æ•°ï¼‰ã€æ–°å¢žã€‘ --&gt; &lt;dubbo:reference interface="com.atguigu.gmall.service.UserService" id="userService" timeout="5000" retries="3" version="*"&gt; &lt;!-- &lt;dubbo:method name="getUserAddressList" timeout="1000"&gt;&lt;/dubbo:method&gt; --&gt; &lt;/dubbo:reference&gt; &lt;!-- é…ç½®å½“å‰æ¶ˆè´¹è€…çš„ç»Ÿä¸€è§„åˆ™ï¼šæ‰€æœ‰çš„æœåŠ¡éƒ½ä¸æ£€æŸ¥ --&gt; &lt;dubbo:consumer check="false" timeout="5000"&gt;&lt;/dubbo:consumer&gt; &lt;dubbo:monitor protocol="registry"&gt;&lt;/dubbo:monitor&gt; &lt;!-- &lt;dubbo:monitor address="127.0.0.1:7070"&gt;&lt;/dubbo:monitor&gt; --&gt; &lt;/beans&gt; user-service-provider12345678910111213141516171819public class UserServiceImpl implements UserService &#123; @Override public List&lt;UserAddress&gt; getUserAddressList(String userId) &#123; System.out.println(&quot;UserServiceImpl.....old...&quot;); // TODO Auto-generated method stub UserAddress address1 = new UserAddress(1, &quot;åŒ—äº¬å¸‚æ˜Œå¹³åŒºå®ç¦ç§‘æŠ€å›­ç»¼åˆæ¥¼3å±‚&quot;, &quot;1&quot;, &quot;æŽè€å¸ˆ&quot;, &quot;010-56253825&quot;, &quot;Y&quot;); UserAddress address2 = new UserAddress(2, &quot;æ·±åœ³å¸‚å®å®‰åŒºè¥¿éƒ¨ç¡…è°·å¤§åŽ¦Båº§3å±‚ï¼ˆæ·±åœ³åˆ†æ ¡ï¼‰&quot;, &quot;1&quot;, &quot;çŽ‹è€å¸ˆ&quot;, &quot;010-56253825&quot;, &quot;N&quot;); /*try &#123; Thread.sleep(4000); &#125; catch (InterruptedException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125;*/ return Arrays.asList(address1,address2); &#125;&#125; 12345678910111213public class UserServiceImpl2 implements UserService &#123; @Override public List&lt;UserAddress&gt; getUserAddressList(String userId) &#123; System.out.println(&quot;UserServiceImpl.....new...&quot;); // TODO Auto-generated method stub UserAddress address1 = new UserAddress(1, &quot;åŒ—äº¬å¸‚æ˜Œå¹³åŒºå®ç¦ç§‘æŠ€å›­ç»¼åˆæ¥¼3å±‚&quot;, &quot;1&quot;, &quot;æŽè€å¸ˆ&quot;, &quot;010-56253825&quot;, &quot;Y&quot;); UserAddress address2 = new UserAddress(2, &quot;æ·±åœ³å¸‚å®å®‰åŒºè¥¿éƒ¨ç¡…è°·å¤§åŽ¦Båº§3å±‚ï¼ˆæ·±åœ³åˆ†æ ¡ï¼‰&quot;, &quot;1&quot;, &quot;çŽ‹è€å¸ˆ&quot;, &quot;010-56253825&quot;, &quot;N&quot;); return Arrays.asList(address1,address2); &#125;&#125; 1234567891011121314151617181920212223public class UserServiceStub implements UserService &#123; private final UserService userService&#123; /* * ä¼ å…¥çš„æ˜¯userServiceè¿œç¨‹çš„ä»£ç†å¯¹è±¡ * @param userService */ public UserServiceStub(UserService userService) &#123; super(); this.userService = userService; &#125; @Override public List&lt;UserAddress&gt; getUserAddressList(String userId) &#123; // TODO Auto-generated method stub System.out.println(&quot;UserServiceStub.....&quot;); if(!StringUtils.isEmpty(userId)) &#123; return userService.getUserAddressList(userId); &#125; return null; &#125;&#125; 12345678910public class MainApplication &#123; public static void main(String[] args) throws IOException &#123; ClassPathXmlApplicationContext ioc = new ClassPathXmlApplicationContext(&quot;provider.xml&quot;); ioc.start(); System.in.read(); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&gt; &lt;!-- 1ã€æŒ‡å®šå½“å‰æœåŠ¡/åº”ç”¨çš„åå­—ï¼ˆåŒæ ·çš„æœåŠ¡åå­—ç›¸åŒï¼Œä¸è¦å’Œåˆ«çš„æœåŠ¡åŒåï¼‰ --&gt; &lt;dubbo:application name=&quot;user-service-provider&quot;&gt;&lt;/dubbo:application&gt; &lt;!-- 2ã€æŒ‡å®šæ³¨å†Œä¸­å¿ƒçš„ä½ç½® --&gt; &lt;!-- &lt;dubbo:registry address=&quot;zookeeper://127.0.0.1:2181&quot;&gt;&lt;/dubbo:registry&gt; --&gt; &lt;dubbo:registry protocol=&quot;zookeeper&quot; address=&quot;127.0.0.1:2181&quot;&gt;&lt;/dubbo:registry&gt; &lt;!-- 3ã€æŒ‡å®šé€šä¿¡è§„åˆ™ï¼ˆé€šä¿¡åè®®ï¼Ÿé€šä¿¡ç«¯å£ï¼‰ --&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20882&quot;&gt;&lt;/dubbo:protocol&gt; &lt;!-- 4ã€æš´éœ²æœåŠ¡ refï¼šæŒ‡å‘æœåŠ¡çš„çœŸæ­£çš„å®žçŽ°å¯¹è±¡ --&gt; &lt;dubbo:service interface=&quot;com.atguigu.gmall.service.UserService&quot; ref=&quot;userServiceImpl01&quot; timeout=&quot;1000&quot; version=&quot;1.0.0&quot;&gt; &lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt; &lt;/dubbo:service&gt; &lt;!--ç»Ÿä¸€è®¾ç½®æœåŠ¡æä¾›æ–¹çš„è§„åˆ™ --&gt; &lt;dubbo:provider timeout=&quot;1000&quot;&gt;&lt;/dubbo:provider&gt; &lt;!-- æœåŠ¡çš„å®žçŽ° --&gt; &lt;bean id=&quot;userServiceImpl01&quot; class=&quot;com.atguigu.gmall.service.impl.UserServiceImpl&quot;&gt;&lt;/bean&gt; &lt;dubbo:service interface=&quot;com.atguigu.gmall.service.UserService&quot; ref=&quot;userServiceImpl02&quot; timeout=&quot;1000&quot; version=&quot;2.0.0&quot;&gt; &lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt; &lt;/dubbo:service&gt; &lt;bean id=&quot;userServiceImpl02&quot; class=&quot;com.atguigu.gmall.service.impl.UserServiceImpl2&quot;&gt;&lt;/bean&gt; &lt;!-- è¿žæŽ¥ç›‘æŽ§ä¸­å¿ƒ --&gt; &lt;dubbo:monitor protocol=&quot;registry&quot;&gt;&lt;/dubbo:monitor&gt; &lt;/beans&gt;]]></content>
      <tags>
        <tag>Dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F03%2F14%2FDubbo%2FDubbo%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[JSON]]></title>
    <url>%2F2019%2F03%2F13%2F%E5%89%8D%E7%AB%AF%2FJson%2F</url>
    <content type="text"><![CDATA[â€”-]]></content>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F03%2F12%2FDubbo%2FSpringBoot-Dubbo%E2%80%94Demo%2F</url>
    <content type="text"><![CDATA[1 Zookeeperçš„ä¸‹è½½ ä¸Žé…ç½®Macä¸Šçš„å®‰è£…ä¸Žé…ç½®1 å®‰è£…JDKé…ç½®çŽ¯å¢ƒ12345export ZOOKEEPER_HOME=/root/zookeeper-3.4.10export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jarexport JAVA_HOME=/root/jdk1.8.0_201export PATH=$PATH:$JAVA_HOME/binexport PATH=$PATH:$ZOOKEEPER_HOME/bin:$JAVA_HOME/bin 2 å®‰è£…zookeeper 3.æ›´æ”¹é…ç½®æ–‡ä»¶123cp zooxxx.cfg zoo.cfg mkdir dataDir 4å¯åŠ¨ä¸Žæš‚åœ 123456789 /zookeeper-3.5.4-beta/bin î‚° ./zkServer.sh startâ­ï¸ â­ï¸ â­ï¸â­ï¸ â­ï¸ â­ï¸ZooKeeper JMX enabled by defaultUsing config: /zookeeper-3.5.4-beta/bin/../conf/zoo.cfgStarting zookeeper ... STARTED /zookeeper-3.5.4-beta/bin î‚° ./zkServer.sh status â­ï¸ â­ï¸ â­ï¸ZooKeeper JMX enabled by defaultUsing config: /zookeeper-3.5.4-beta/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: standalone 2]]></content>
      <tags>
        <tag>Dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot Mavenå·¥ç¨‹æ­å»º]]></title>
    <url>%2F2019%2F03%2F12%2FGit%20Maven%20%2FSpringBoot%20Maven%E8%81%9A%E5%90%88%E5%B7%A5%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[SpringBoot æ•´åˆMavenèšåˆå·¥ç¨‹ springboot-dubbo-parent/pom.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;springboot-dubbo-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; //1 â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸pomâ­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;packaging&gt;pom&lt;/packaging&gt; &lt;name&gt;springboot-dubbo-parent&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; //2 â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸&lt;modules&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;modules&gt; &lt;module&gt;springboot-dubbo-server&lt;/module&gt; &lt;module&gt;springboot-dubbo-client&lt;/module&gt; &lt;/modules&gt; //3 â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸&lt;properties&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;!-- åœ¨propertiesä¸­ç»Ÿä¸€æŽ§åˆ¶ä¾èµ–åŒ…çš„ç‰ˆæœ¬ï¼Œæ›´æ¸…æ™°--&gt; &lt;dubbo.version&gt;2.5.3&lt;/dubbo.version&gt; &lt;zk.version&gt;3.4.5&lt;/zk.version&gt; &lt;zkclient.version&gt;0.1&lt;/zkclient.version&gt; &lt;/properties&gt; //4 â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸&lt;properties&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;dependencyManagement&gt; &lt;!--dependencyManagementç”¨äºŽç®¡ç†ä¾èµ–ç‰ˆæœ¬å·--&gt; &lt;dependencies&gt; &lt;!--åˆ é™¤spring-boot-starterå’Œspring-boot-starter-testï¼Œ--&gt; &lt;!--å› ä¸ºparentä¸­ç»§æ‰¿çš„ç¥–å…ˆä¸­å·²ç»æœ‰äº†ï¼Œå¹¶ä¸”ä¸€èˆ¬dependencyManagementç®¡ç†çš„ä¾èµ–éƒ½è¦å†™ç‰ˆæœ¬å·--&gt; &lt;!--&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!--æ–°å¢žåŽç»­dubboé¡¹ç›®ä¸­æ‰€éœ€ä¾èµ–ï¼Œdubboã€zk--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;version&gt;$&#123;dubbo.version&#125;&lt;/version&gt;&lt;!--ä½¿ç”¨propertiesä¸­é…ç½®çš„ç‰ˆæœ¬å·--&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;$&#123;zk.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;$&#123;zkclient.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; springvoot-dubbo-client/pom.xml12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;springboot-dubbo-client&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; //1 â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸jarâ­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;springboot-dubbo-client&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; //2 â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸&lt;parent&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;parent&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;springboot-dubbo-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;properties&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; //3 â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;!--æ–°å¢žåŽç»­dubboé¡¹ç›®ä¸­æ‰€éœ€ä¾èµ–ï¼Œdubboã€zkã€‚ çˆ¶æ¨¡å—pomä¸­ä½¿ç”¨dependencyManagementæ¥ç®¡ç†ä¾èµ–ç‰ˆæœ¬å·ï¼Œå­æ¨¡å—pomä¸­ä¸éœ€è¦å†å†™ç‰ˆæœ¬å·ï¼Œexclusionä¹Ÿä¸éœ€è¦--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;springboot-dubbo-server&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;]]></content>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven]]></title>
    <url>%2F2019%2F03%2F12%2FGit%20Maven%20%2FMaven%2F</url>
    <content type="text"><![CDATA[1parent ä¸ºçˆ¶æ¨¡å—ï¼ŒæŠ½è±¡å‡ºæ¥ç®¡ç†å­é¡¹ç›®çš„å…¬å…±ä¾èµ–ï¼Œä¸ºäº†é¡¹ç›®çš„æ­£ç¡®è¿è¡Œï¼Œå¿…é¡»è®©æ‰€æœ‰çš„å­é¡¹ç›®ä½¿ç”¨ä¾èµ–é¡¹çš„ç»Ÿä¸€ç‰ˆæœ¬ï¼Œå¿…é¡»ç¡®ä¿åº”ç”¨çš„å„ä¸ªé¡¹ç›®çš„ä¾èµ–é¡¹å’Œç‰ˆæœ¬ä¸€è‡´ï¼Œæ‰èƒ½ä¿è¯æµ‹è¯•çš„å’Œå‘å¸ƒçš„æ˜¯ç›¸åŒçš„ç»“æžœã€‚ 123dependencyManagementåœ¨é¡¹ç›®çš„ parent å±‚ï¼Œå¯ä»¥é€šè¿‡ dependencyManagement å…ƒç´ æ¥ç®¡ç† jar åŒ…çš„ç‰ˆæœ¬ï¼Œè®©å­é¡¹ç›®ä¸­å¼•ç”¨ä¸€ä¸ªä¾èµ–è€Œä¸ç”¨æ˜¾ç¤ºçš„åˆ—å‡ºç‰ˆæœ¬å·ã€‚ parent ä¸­ pom.xml 12345678910111213141516171819&lt;properties&gt; &lt;version.framework&gt;1.0-SNAPSHOT&lt;/version.framework&gt; &lt;javaee-api.version&gt;1.0-SNAPSHOT&lt;/javaee-api.version&gt;&lt;/properties&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt;//=================framework-cache &lt;groupId&gt;com.zhisheng&lt;/groupId&gt; &lt;artifactId&gt;framework-cache&lt;/artifactId&gt; &lt;version&gt;$&#123;version.framework&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; //===============javax &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;version&gt;$&#123;javaee-api.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt; extendion ä¸­çš„ pom.xml 123456789101112131415161718192021&lt;parent&gt; &lt;artifactId&gt;parent&lt;/artifactId&gt; &lt;groupId&gt;com.zhisheng&lt;/groupId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../parent/pom.xml&lt;/relativePath&gt; &lt;/parent&gt;&lt;!--ä¾èµ–å…³ç³»--&gt; &lt;dependencies&gt; &lt;dependency&gt; // =============javax &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt;// ===============framework-cache &lt;groupId&gt;com.zhisheng&lt;/groupId&gt; &lt;artifactId&gt;framework-cache&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 1234åŒºåˆ«dependencies å³ä½¿åœ¨å­é¡¹ç›®ä¸­ä¸å†™è¯¥ä¾èµ–é¡¹ï¼Œé‚£ä¹ˆå­é¡¹ç›®ä»ç„¶ä¼šä»Žçˆ¶é¡¹ç›®ä¸­ç»§æ‰¿è¯¥ä¾èµ–é¡¹ï¼ˆå…¨éƒ¨ç»§æ‰¿ï¼‰dependencyManagement é‡Œåªæ˜¯å£°æ˜Žä¾èµ–ï¼Œå¹¶ä¸å®žçŽ°å¼•å…¥ï¼Œå› æ­¤å­é¡¹ç›®éœ€è¦æ˜¾ç¤ºçš„å£°æ˜Žéœ€è¦ç”¨çš„ä¾èµ–ã€‚å¦‚æžœä¸åœ¨å­é¡¹ç›®ä¸­å£°æ˜Žä¾èµ–ï¼Œæ˜¯ä¸ä¼šä»Žçˆ¶é¡¹ç›®ä¸­ç»§æ‰¿ä¸‹æ¥çš„ï¼›åªæœ‰åœ¨å­é¡¹ç›®ä¸­å†™äº†è¯¥ä¾èµ–é¡¹ï¼Œå¹¶ä¸”æ²¡æœ‰æŒ‡å®šå…·ä½“ç‰ˆæœ¬ï¼Œæ‰ä¼šä»Žçˆ¶é¡¹ç›®ä¸­ç»§æ‰¿è¯¥é¡¹ï¼Œå¹¶ä¸” version å’Œ scope éƒ½è¯»å–è‡ªçˆ¶ pom; å¦å¤–å¦‚æžœå­é¡¹ç›®ä¸­æŒ‡å®šäº†ç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨å­é¡¹ç›®ä¸­æŒ‡å®šçš„jarç‰ˆæœ¬ã€‚ ç¤ºä¾‹è¯´æ˜Žï¼Œ åœ¨çˆ¶æ¨¡å—ä¸­ï¼š 123456789&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt;//=====================&gt;mysql &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.44&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt; é‚£ä¹ˆåœ¨å­æ¨¡å—ä¸­åªéœ€è¦å’Œå³å¯ï¼Œå¦‚ï¼š 123456&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; è¯´æ˜Žï¼šä½¿ç”¨dependencyManagementå¯ä»¥ç»Ÿä¸€ç®¡ç†é¡¹ç›®çš„ç‰ˆæœ¬å·ï¼Œç¡®ä¿åº”ç”¨çš„å„ä¸ªé¡¹ç›®çš„ä¾èµ–å’Œç‰ˆæœ¬ä¸€è‡´ï¼Œä¸ç”¨æ¯ä¸ªæ¨¡å—é¡¹ç›®éƒ½å¼„ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œä¸åˆ©äºŽç®¡ç†ï¼Œå½“éœ€è¦å˜æ›´ç‰ˆæœ¬å·çš„æ—¶å€™åªéœ€è¦åœ¨çˆ¶ç±»å®¹å™¨é‡Œæ›´æ–°ï¼Œä¸éœ€è¦ä»»ä½•ä¸€ä¸ªå­é¡¹ç›®çš„ä¿®æ”¹ï¼›å¦‚æžœæŸä¸ªå­é¡¹ç›®éœ€è¦å¦å¤–ä¸€ä¸ªç‰¹æ®Šçš„ç‰ˆæœ¬å·æ—¶ï¼Œåªéœ€è¦åœ¨è‡ªå·±çš„æ¨¡å—dependenciesä¸­å£°æ˜Žä¸€ä¸ªç‰ˆæœ¬å·å³å¯ã€‚å­ç±»å°±ä¼šä½¿ç”¨å­ç±»å£°æ˜Žçš„ç‰ˆæœ¬å·ï¼Œä¸ç»§æ‰¿äºŽçˆ¶ç±»ç‰ˆæœ¬å·ã€‚ ä¸ŽdependenciesåŒºåˆ«ï¼š 1)Dependenciesç›¸å¯¹äºŽdependencyManagementï¼Œæ‰€æœ‰ç”Ÿå‘½åœ¨dependenciesé‡Œçš„ä¾èµ–éƒ½ä¼šè‡ªåŠ¨å¼•å…¥ï¼Œå¹¶é»˜è®¤è¢«æ‰€æœ‰çš„å­é¡¹ç›®ç»§æ‰¿ã€‚2)dependencyManagementé‡Œåªæ˜¯å£°æ˜Žä¾èµ–ï¼Œå¹¶ä¸è‡ªåŠ¨å®žçŽ°å¼•å…¥ï¼Œå› æ­¤å­é¡¹ç›®éœ€è¦æ˜¾ç¤ºçš„å£°æ˜Žéœ€è¦ç”¨çš„ä¾èµ–ã€‚â­ï¸â­ï¸â­ï¸â­ï¸å¦‚æžœä¸åœ¨å­é¡¹ç›®ä¸­å£°æ˜Žä¾èµ–ï¼Œæ˜¯ä¸ä¼šä»Žçˆ¶é¡¹ç›®ä¸­ç»§æ‰¿ä¸‹æ¥çš„ï¼›åªæœ‰åœ¨å­é¡¹ç›®ä¸­å†™äº†è¯¥ä¾èµ–é¡¹ï¼Œå¹¶ä¸”æ²¡æœ‰æŒ‡å®šå…·ä½“ç‰ˆæœ¬ï¼Œæ‰ä¼šä»Žçˆ¶é¡¹ç›®ä¸­ç»§æ‰¿è¯¥é¡¹ï¼Œå¹¶ä¸”versionå’Œscopeéƒ½è¯»å–è‡ªçˆ¶pom;å¦å¤–å¦‚æžœå­é¡¹ç›®ä¸­æŒ‡å®šäº†ç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨å­é¡¹ç›®ä¸­æŒ‡å®šçš„jarç‰ˆæœ¬ã€‚ https://www.imooc.com/video/8651 xxxxxxxxxx 1â€‹23 &lt;version.framework&gt;1.0-SNAPSHOT&lt;/version.framework&gt;4 &lt;javaee-api.version&gt;1.0-SNAPSHOT&lt;/javaee-api.version&gt;567 8 //=================framework-cache9 com.zhisheng10 framework-cache11 ${version.framework}12 13 //===============javax14 javax 15 javaee-api 16 ${javaee-api.version} 17 18 19xml Mavenèšåˆå’Œç»§æ‰¿å³ä½¿æ˜¯é•¿æœŸä»Žäº‹ Maven å·¥ä½œçš„å¼€å‘äººå‘˜ä¹Ÿä¸èƒ½å®Œå…¨æŽŒæ¡èšåˆï¼ˆå¤šæ¨¡å—ï¼‰å’Œ Parent ç»§æ‰¿çš„å…³ç³»ï¼Œåœ¨ä½¿ç”¨å¤šæ¨¡å—æ—¶ï¼Œå­æ¨¡å—æ€»è¦æŒ‡å®šèšåˆçš„ pom ä¸º ã€‚ç”±äºŽåœ¨å¤§å¤šæ•°ç¤ºä¾‹ä¸­éƒ½æ˜¯è¿™ä¹ˆå†™çš„ï¼Œæ‰€ä»¥å¾ˆéš¾è®©äººæžæ‡‚è¿™ä¸¤è€…çš„å…·ä½“ä½œç”¨å’Œå…³ç³»ã€‚ å®žé™…ä¸Šåœ¨ Maven ä¸­èšåˆï¼ˆå¤šæ¨¡å—ï¼‰å’Œç»§æ‰¿æ˜¯ä¸¤å›žäº‹ï¼Œä¸¤è€…ä¸å­˜åœ¨ç›´æŽ¥è”ç³» 1dependencyManagement2åœ¨é¡¹ç›®çš„ parent å±‚ï¼Œå¯ä»¥é€šè¿‡ dependencyManagement å…ƒç´ æ¥ç®¡ç† jar åŒ…çš„ç‰ˆæœ¬ï¼Œ3è®©å­é¡¹ç›®ä¸­å¼•ç”¨ä¸€ä¸ªä¾èµ–è€Œä¸ç”¨æ˜¾ç¤ºçš„åˆ—å‡ºç‰ˆæœ¬å·ã€‚]]></content>
      <tags>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2å°æ—¶å¸¦ä½ å®žæˆ˜Dubboåˆ†å¸ƒå¼æœåŠ¡è°ƒåº¦]]></title>
    <url>%2F2019%2F03%2F12%2FDubbo%2FDubbo%E6%85%95%E8%AF%BE%E7%BD%91%2F</url>
    <content type="text"><![CDATA[1 Dubboæ¦‚å¿µ 2 æ­å»ºå¾®æœåŠ¡SpringBootå¤šæ¨¡å—é¡¹ç›®1.POMdubboone.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.3.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;modules&gt; &lt;module&gt;dubboone-api&lt;/module&gt; &lt;module&gt;dubboone-modle&lt;/module&gt; &lt;module&gt;dubboone-server&lt;/module&gt; &lt;/modules&gt; &lt;groupId&gt;com.dubboOne&lt;/groupId&gt; &lt;artifactId&gt;dubboone&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;dubboone&lt;/name&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;packaging&gt;pom&lt;/packaging&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; dubboone-api123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;parent&gt; &lt;groupId&gt;com.dubboOne&lt;/groupId&gt; &lt;artifactId&gt;dubboone&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;groupId&gt;com.dubboOne.api&lt;/groupId&gt; &lt;artifactId&gt;dubboone-api&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;dubboone-api&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;mybatis-pagehelper.version&gt;4.1.2&lt;/mybatis-pagehelper.version&gt; &lt;lombok.version&gt;1.16.10&lt;/lombok.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!--javaæ ¡éªŒ è·Ÿ hibernateæ ¡éªŒ--&gt; &lt;dependency&gt; &lt;groupId&gt;javax.validation&lt;/groupId&gt; &lt;artifactId&gt;validation-api&lt;/artifactId&gt; &lt;version&gt;1.1.0.Final&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; &lt;version&gt;5.3.5.Final&lt;/version&gt; &lt;/dependency&gt; &lt;!--for page--&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis-pagehelper.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--lombok--&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;$&#123;lombok.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--//SpringBootçš„ä¾èµ–é…ç½®--&gt;&lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; dubbo-modle1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;parent&gt; &lt;groupId&gt;com.dubboOne&lt;/groupId&gt; &lt;artifactId&gt;dubboone&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;groupId&gt;com.dubboone.modle&lt;/groupId&gt; &lt;artifactId&gt;dubboone-modle&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;dubboone-modle&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;mybatis-spring-boot.version&gt;1.1.1&lt;/mybatis-spring-boot.version&gt; &lt;mybatis-pagehelper.version&gt;4.1.2&lt;/mybatis-pagehelper.version&gt; &lt;/properties&gt; &lt;dependencies&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;!--api--&gt; &lt;dependency&gt; &lt;groupId&gt;com.dubboOne.api&lt;/groupId&gt; &lt;artifactId&gt;dubboone-api&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;!--spring-mybatis--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis-spring-boot.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; dubboone-server123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;parent&gt; &lt;groupId&gt;com.dubboOne&lt;/groupId&gt; &lt;artifactId&gt;dubboone&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;groupId&gt;com.dubboone.server&lt;/groupId&gt; &lt;artifactId&gt;dubboone-server&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;dubboone-server&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;start-class&gt;com.debug.mooc.dubbo.one.server.BootMoreApplication&lt;/start-class&gt; &lt;!--&lt;spring-boot.version&gt;1.3.3.RELEASE&lt;/spring-boot.version&gt;--&gt; &lt;spring-boot.version&gt;2.0.5.RELEASE&lt;/spring-boot.version&gt; &lt;spring-session.version&gt;1.2.0.RELEASE&lt;/spring-session.version&gt; &lt;slf4j.version&gt;1.7.13&lt;/slf4j.version&gt; &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt; &lt;mysql.version&gt;5.1.37&lt;/mysql.version&gt; &lt;druid.version&gt;1.0.16&lt;/druid.version&gt; &lt;guava.version&gt;19.0&lt;/guava.version&gt; &lt;joda-time.version&gt;2.9.2&lt;/joda-time.version&gt; &lt;cglib.version&gt;3.1&lt;/cglib.version&gt; &lt;zookeeper.version&gt;3.4.10&lt;/zookeeper.version&gt; &lt;curator.version&gt;2.12.0&lt;/curator.version&gt; &lt;resteasy.version&gt;3.0.7.Final&lt;/resteasy.version&gt; &lt;okhttp.version&gt;3.1.2&lt;/okhttp.version&gt; &lt;gson.version&gt;2.6.1&lt;/gson.version&gt; &lt;httpclient.version&gt;4.3.6&lt;/httpclient.version&gt; &lt;/properties&gt; &lt;!--ä¾èµ–é…ç½®ç®¡ç†--&gt; &lt;!-- ä¾èµ–ç®¡ç† --&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-boot.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;!--mavenä¾èµ–--&gt; &lt;dependencies&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;!--model--&gt; &lt;dependency&gt; &lt;groupId&gt;com.dubboone.modle&lt;/groupId&gt; &lt;artifactId&gt;dubboone-modle&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;!--log--&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;$&#123;log4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--guava--&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;$&#123;guava.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- time --&gt; &lt;dependency&gt; &lt;groupId&gt;joda-time&lt;/groupId&gt; &lt;artifactId&gt;joda-time&lt;/artifactId&gt; &lt;version&gt;$&#123;joda-time.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--mysql--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;$&#123;mysql.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--druid--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;$&#123;druid.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- jsp æ”¯æŒ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;/dependency&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;!-- dubbo --&gt; &lt;!-- https://mvnrepository.com/artifact/com.alibaba.boot/dubbo-spring-boot-starter --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.boot&lt;/groupId&gt; &lt;artifactId&gt;dubbo-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;0.2.0&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;curator-framework&lt;/artifactId&gt; &lt;groupId&gt;org.apache.curator&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;curator-client&lt;/artifactId&gt; &lt;groupId&gt;org.apache.curator&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;cglib&lt;/groupId&gt; &lt;artifactId&gt;cglib&lt;/artifactId&gt; &lt;version&gt;$&#123;cglib.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;asm&lt;/artifactId&gt; &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;!-- zookeeper start --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;$&#123;zookeeper.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.curator&lt;/groupId&gt; &lt;artifactId&gt;curator-framework&lt;/artifactId&gt; &lt;version&gt;$&#123;curator.version&#125;&lt;/version&gt; &lt;/dependency&gt; //==&gt;â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ &lt;!--dubbo rest--&gt; &lt;dependency&gt; &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt; &lt;version&gt;$&#123;resteasy.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;httpclient&lt;/artifactId&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-netty&lt;/artifactId&gt; &lt;version&gt;$&#123;resteasy.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt; &lt;version&gt;$&#123;resteasy.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt; &lt;version&gt;$&#123;resteasy.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--for test--&gt; &lt;!-- gson --&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt; &lt;artifactId&gt;gson&lt;/artifactId&gt; &lt;version&gt;$&#123;gson.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- okhttp --&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;version&gt;$&#123;okhttp.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 2.server :spring-dubbo.xml12345678910111213141516171819202122&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&gt; &lt;!--å‘å¸ƒå‡ºåŽ»çš„dubboæœåŠ¡ç±»æ‰€åœ¨åŒ…çš„æ³¨è§£--&gt; &lt;dubbo:annotation package=&quot;com.debug.mooc.dubbo.one.server.service.dubbo&quot; /&gt; &lt;!--æ³¨å†Œä¸­å¿ƒzookeeperé…ç½®ä¿¡æ¯--&gt; &lt;dubbo:registry address=&quot;$&#123;dubbo.registry.address&#125;&quot; /&gt; &lt;!--æ”¯æŒä¸¤ç§åè®®çš„è°ƒç”¨ï¼šrpc-dubboåè®®ï¼›httpåè®®-rest api-urlè°ƒç”¨--&gt; &lt;dubbo:protocol name=&quot;rest&quot; threads=&quot;500&quot; contextpath=&quot;v1&quot; server=&quot;tomcat&quot; accepts=&quot;500&quot;/&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; /&gt; &lt;!--æ¶ˆè´¹æ–¹ä¿¡æ¯é…ç½®--&gt; &lt;dubbo:application name=&quot;dubboOne-consume&quot; owner=&quot;debug&quot; organization=&quot;dubbox&quot;/&gt;&lt;/beans&gt; ##3.server :spring-jdbc.xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd " &gt; &lt;!--dubboOne --&gt; &lt;bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource" init-method="init" destroy-method="close" primary="true" &gt; &lt;!-- åŸºæœ¬å±žæ€§ urlã€userã€password --&gt; &lt;property name="url" value="$&#123;datasource.url&#125;" /&gt; &lt;property name="username" value="$&#123;datasource.username&#125;" /&gt; &lt;property name="password" value="$&#123;datasource.password&#125;" /&gt; &lt;!-- é…ç½®åˆå§‹åŒ–å¤§å°ã€æœ€å°ã€æœ€å¤§ --&gt; &lt;property name="initialSize" value="10" /&gt; &lt;property name="minIdle" value="10" /&gt; &lt;property name="maxActive" value="20" /&gt; &lt;!-- é…ç½®èŽ·å–è¿žæŽ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´ --&gt; &lt;property name="maxWait" value="60000" /&gt; &lt;!-- é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿žæŽ¥ï¼Œå•ä½æ˜¯æ¯«ç§’ --&gt; &lt;property name="timeBetweenEvictionRunsMillis" value="60000" /&gt; &lt;!-- é…ç½®ä¸€ä¸ªè¿žæŽ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ --&gt; &lt;property name="minEvictableIdleTimeMillis" value="300000" /&gt; &lt;property name="validationQuery" value="SELECT 1 " /&gt; &lt;property name="testWhileIdle" value="true" /&gt; &lt;property name="testOnBorrow" value="false" /&gt; &lt;property name="testOnReturn" value="false" /&gt; &lt;!-- æ‰“å¼€PSCacheï¼Œå¹¶ä¸”æŒ‡å®šæ¯ä¸ªè¿žæŽ¥ä¸ŠPSCacheçš„å¤§å° --&gt; &lt;property name="poolPreparedStatements" value="true" /&gt; &lt;property name="maxPoolPreparedStatementPerConnectionSize" value="20" /&gt; &lt;!-- é…ç½®ç›‘æŽ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼ŒåŽ»æŽ‰åŽç›‘æŽ§ç•Œé¢sqlæ— æ³•ç»Ÿè®¡ --&gt; &lt;property name="filters" value="stat" /&gt; &lt;/bean&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;/bean&gt;&lt;/beans&gt; 4.application.properties12345678910111213141516171819202122232425262728293031323334353637#profile#spring.profiles.active=production#spring.profiles.active=localserver.port=8093#server.context-path=/dubboOneserver.servlet.context-path=/dubboOne#logginglogging.path=E:\\logs\\mooc\\dubboOne\\logslogging.file=dubboOnelogging.level.org.springframework = INFOlogging.level.com.fasterxml.jackson = INFOlogging.level.com.debug.mooc.dubbo.one = debug#json\u5E8F\u5217\u5316\u914D\u7F6Espring.jackson.date-format=yyyy-MM-dd HH:mm:ssspring.jackson.time-zone=GMT+8#spring.datasource.initialize=falsespring.datasource.initialization-mode=neverspring.jmx.enabled=false#\u6570\u636E\u6E90\u914D\u7F6Edatasource.url=jdbc:mysql://127.0.0.1:3306/mooc_one?useUnicode=true&amp;amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNulldatasource.username=rootdatasource.password=linsen#mybatismybatis.config-location=classpath:mybatis-config.xmlmybatis.checkConfigLocation = truemybatis.mapper-locations=classpath:mappers/*.xml#dubbo zookeeper\u914D\u7F6E\u4FE1\u606Fdubbo.registry.address=zookeeper://127.0.0.1:2181 5dubbo.properties12345678910111213141516171819202122232425262728293031### Copyright 1999-2011 Alibaba Group.# # Licensed under the Apache License, Version 2.0 (the "License");# you may not use this file except in compliance with the License.# You may obtain a copy of the License at# # http://www.apache.org/licenses/LICENSE-2.0# # Unless required by applicable law or agreed to in writing, software# distributed under the License is distributed on an "AS IS" BASIS,# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.# See the License for the specific language governing permissions and# limitations under the License.##dubbo.container=log4j,springdubbo.reference.check=falsedubbo.registry.client=curatordubbo.application.name=dubboOne-providerdubbo.application.owner=debug#dubbo\u652F\u6301\u7684dubbo\u534F\u8BAE\u914D\u7F6Edubbo.protocol.name=dubbodubbo.protocol.dubbo.port=20903#dubbo\u652F\u6301\u7684http rest api\u7684\u914D\u7F6Edubbo.protocol.name=restdubbo.protocol.rest.port=9013dubbo.protocol.rest.server=tomcatdubbo.service.loadbalance=roundrobin ##6.log4j.xml 123456789101112131415161718192021222324252627282930313233343536373839#Console Loglog4j.rootLogger=INFO,console,debug,info,warn,errorLOG_PATTERN=[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] boot%X&#123;context&#125; - %5p [%t] --- %c&#123;1&#125;: %m%n#A1--Print log to Consolelog4j.appender.console=org.apache.log4j.ConsoleAppenderlog4j.appender.console.Threshold=DEBUGlog4j.appender.console.layout=org.apache.log4j.PatternLayoutlog4j.appender.console.layout.ConversionPattern=$&#123;LOG_PATTERN&#125;log4j.appender.info=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.info.Threshold=INFOlog4j.appender.info.File=$&#123;LOG_PATH&#125;/$&#123;LOG_FILE&#125;_info.loglog4j.appender.info.DatePattern=&apos;.&apos;yyyy-MM-ddlog4j.appender.info.layout = org.apache.log4j.PatternLayoutlog4j.appender.info.layout.ConversionPattern=$&#123;LOG_PATTERN&#125;log4j.appender.error=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.error.Threshold=ERRORlog4j.appender.error.File=$&#123;LOG_PATH&#125;/$&#123;LOG_FILE&#125;_error.loglog4j.appender.error.DatePattern=&apos;.&apos;yyyy-MM-ddlog4j.appender.error.layout = org.apache.log4j.PatternLayoutlog4j.appender.error.layout.ConversionPattern=$&#123;LOG_PATTERN&#125;log4j.appender.debug=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.debug.Threshold=DEBUGlog4j.appender.debug.File=$&#123;LOG_PATH&#125;/$&#123;LOG_FILE&#125;_debug.loglog4j.appender.debug.DatePattern=&apos;.&apos;yyyy-MM-ddlog4j.appender.debug.layout = org.apache.log4j.PatternLayoutlog4j.appender.debug.layout.ConversionPattern=$&#123;LOG_PATTERN&#125;log4j.appender.warn=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.warn.Threshold=WARNlog4j.appender.warn.File=$&#123;LOG_PATH&#125;/$&#123;LOG_FILE&#125;_warn.loglog4j.appender.warn.DatePattern=&apos;.&apos;yyyy-MM-ddlog4j.appender.warn.layout = org.apache.log4j.PatternLayoutlog4j.appender.warn.layout.ConversionPattern=$&#123;LOG_PATTERN&#125; ##7.mybatis-config.xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;settings&gt; &lt;!-- Globally enables or disables any caches configured in any mapper under this configuration --&gt; &lt;setting name="cacheEnabled" value="true"/&gt; &lt;!-- Sets the number of seconds the driver will wait for a response from the database --&gt; &lt;setting name="defaultStatementTimeout" value="3000"/&gt; &lt;!-- Enables automatic mapping from classic database column names A_COLUMN to camel case classic Java property names aColumn --&gt; &lt;setting name="mapUnderscoreToCamelCase" value="true"/&gt; &lt;!-- Allows JDBC support for generated keys. A compatible driver is required. This setting forces generated keys to be used if set to true, as some drivers deny compatibility but still work --&gt; &lt;setting name="useGeneratedKeys" value="true"/&gt; &lt;!-- è®¾ç½®æŽ§åˆ¶å°æ‰“å°sql --&gt; &lt;!--&lt;setting name="logImpl" value="stdout_logging" /&gt;--&gt; &lt;/settings&gt; &lt;!-- Continue going here --&gt; &lt;!--&lt;typeAliases&gt;--&gt; &lt;!--&lt;package name="cn.com.countrygarden.ucenter.entity"/&gt;--&gt; &lt;!--&lt;/typeAliases&gt;--&gt; &lt;plugins&gt; &lt;!-- com.github.pagehelperä¸ºPageHelperç±»æ‰€åœ¨åŒ…å --&gt; &lt;plugin interceptor="com.github.pagehelper.PageHelper"&gt; &lt;!-- 4.0.0ä»¥åŽç‰ˆæœ¬å¯ä»¥ä¸è®¾ç½®è¯¥å‚æ•° --&gt; &lt;property name="dialect" value="mysql"/&gt; &lt;!-- è¯¥å‚æ•°é»˜è®¤ä¸ºfalse --&gt; &lt;!-- è®¾ç½®ä¸ºtrueæ—¶ï¼Œä¼šå°†RowBoundsç¬¬ä¸€ä¸ªå‚æ•°offsetå½“æˆpageNumé¡µç ä½¿ç”¨ --&gt; &lt;!-- å’ŒstartPageä¸­çš„pageNumæ•ˆæžœä¸€æ ·--&gt; &lt;property name="offsetAsPageNum" value="true"/&gt; &lt;!-- è¯¥å‚æ•°é»˜è®¤ä¸ºfalse --&gt; &lt;!-- è®¾ç½®ä¸ºtrueæ—¶ï¼Œä½¿ç”¨RowBoundsåˆ†é¡µä¼šè¿›è¡ŒcountæŸ¥è¯¢ --&gt; &lt;property name="rowBoundsWithCount" value="true"/&gt; &lt;!-- è®¾ç½®ä¸ºtrueæ—¶ï¼Œå¦‚æžœpageSize=0æˆ–è€…RowBounds.limit = 0å°±ä¼šæŸ¥è¯¢å‡ºå…¨éƒ¨çš„ç»“æžœ --&gt; &lt;!-- ï¼ˆç›¸å½“äºŽæ²¡æœ‰æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ï¼Œä½†æ˜¯è¿”å›žç»“æžœä»ç„¶æ˜¯Pageç±»åž‹ï¼‰--&gt; &lt;property name="pageSizeZero" value="true"/&gt; &lt;!-- 3.3.0ç‰ˆæœ¬å¯ç”¨ - åˆ†é¡µå‚æ•°åˆç†åŒ–ï¼Œé»˜è®¤falseç¦ç”¨ --&gt; &lt;!-- å¯ç”¨åˆç†åŒ–æ—¶ï¼Œå¦‚æžœpageNum&lt;1ä¼šæŸ¥è¯¢ç¬¬ä¸€é¡µï¼Œå¦‚æžœpageNum&gt;pagesä¼šæŸ¥è¯¢æœ€åŽä¸€é¡µ --&gt; &lt;!-- ç¦ç”¨åˆç†åŒ–æ—¶ï¼Œå¦‚æžœpageNum&lt;1æˆ–pageNum&gt;pagesä¼šè¿”å›žç©ºæ•°æ® --&gt; &lt;property name="reasonable" value="false"/&gt; &lt;!-- 3.5.0ç‰ˆæœ¬å¯ç”¨ - ä¸ºäº†æ”¯æŒstartPage(Object params)æ–¹æ³• --&gt; &lt;!-- å¢žåŠ äº†ä¸€ä¸ª`params`å‚æ•°æ¥é…ç½®å‚æ•°æ˜ å°„ï¼Œç”¨äºŽä»ŽMapæˆ–ServletRequestä¸­å–å€¼ --&gt; &lt;!-- å¯ä»¥é…ç½®pageNum,pageSize,count,pageSizeZero,reasonable,orderBy,ä¸é…ç½®æ˜ å°„çš„ç”¨é»˜è®¤å€¼ --&gt; &lt;!-- ä¸ç†è§£è¯¥å«ä¹‰çš„å‰æä¸‹ï¼Œä¸è¦éšä¾¿å¤åˆ¶è¯¥é…ç½® --&gt; &lt;!--&lt;property name="params" value="pageNum=pageHelperStart;pageSize=pageHelperRows;"/&gt;--&gt; &lt;!-- æ”¯æŒé€šè¿‡MapperæŽ¥å£å‚æ•°æ¥ä¼ é€’åˆ†é¡µå‚æ•° --&gt; &lt;property name="supportMethodsArguments" value="false"/&gt; &lt;!-- alwaysæ€»æ˜¯è¿”å›žPageInfoç±»åž‹,checkæ£€æŸ¥è¿”å›žç±»åž‹æ˜¯å¦ä¸ºPageInfo,noneè¿”å›žPage --&gt; &lt;property name="returnPageInfo" value="none"/&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;!--&lt;mappers&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;&lt;package name="cn.com.countrygarden.ucenter.mapper" /&gt;&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;mapper resource="mappers/DiaryMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/EmpEvaluateMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/EmployeeMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/LikesMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/PicMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/RepliesMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/TeamMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/UserMapper.xml"/&gt;--&gt; &lt;!--&lt;/mappers&gt;--&gt;&lt;/configuration&gt; 3.æ•´åˆDubboå’ŒZookeeper 12345application.properties:dubbo.registry.address=zookeeper://127.0.0.1:2181ã€#server.context-path=/dubboOneserver.servlet.context-path=/dubboOne 1234567891011121314dubbo.propertiesdubbo.container=log4j,springdubbo.reference.check=falsedubbo.registry.client=curatordubbo.application.name=dubboOne-providerdubbo.application.owner=debug#dubbo\u652F\u6301\u7684dubbo\u534F\u8BAE\u914D\u7F6Edubbo.protocol.name=dubbodubbo.protocol.dubbo.port=20903#dubbo\u652F\u6301\u7684http rest api\u7684\u914D\u7F6Edubbo.protocol.name=restdubbo.protocol.rest.port=9013dubbo.protocol.rest.server=tomcatdubbo.service.loadbalance=roundrobin 123456789101112131415161718192021spring-dubbo&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"&gt; &lt;!--å‘å¸ƒå‡ºåŽ»çš„dubboæœåŠ¡ç±»æ‰€åœ¨åŒ…çš„æ³¨è§£--&gt; &lt;dubbo:annotation package="com.debug.mooc.dubbo.one.server.service.dubbo"/&gt; &lt;!--æ³¨å†Œä¸­å¿ƒzookeeperé…ç½®ä¿¡æ¯--&gt; &lt;dubbo:registry address="$&#123;dubbo.registry.address&#125;"/&gt; &lt;!--æ”¯æŒä¸¤ç§åè®®çš„è°ƒç”¨ï¼šrpc-dubboåè®®ï¼›httpåè®®-rest api-urlè°ƒç”¨--&gt; &lt;dubbo:protocol name="rest" threads="500" contextpath="v1" server="tomcat" accepts="500"/&gt; &lt;dubbo:protocol name="dubbo"/&gt; &lt;!--æ¶ˆè´¹æ–¹ä¿¡æ¯é…ç½®--&gt; &lt;dubbo:application name="dubboOne-consume" owner="debug" organization="dubbox"/&gt;&lt;/beans&gt; 4 zookeeperçš„å®‰è£…1./zkServer.sh]]></content>
      <tags>
        <tag>dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯Ajax æ…•è¯¾ç½‘]]></title>
    <url>%2F2019%2F03%2F12%2F%E5%89%8D%E7%AB%AF%2FAjax%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>Ajax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JqueryåŸºç¡€ç¯‡ ï¼ˆä¸‰ï¼‰ äº‹ä»¶]]></title>
    <url>%2F2019%2F03%2F12%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%9F%BA%E7%A1%80(%E4%B8%89)%2F</url>
    <content type="text"><![CDATA[jQueryé¼ æ ‡äº‹ä»¶ä¹‹clickä¸Ždbclickäº‹ä»¶ç”¨äº¤äº’æ“ä½œä¸­ï¼Œæœ€ç®€å•ç›´æŽ¥çš„æ“ä½œå°±æ˜¯ç‚¹å‡»æ“ä½œã€‚jQueryæä¾›äº†ä¸¤ä¸ªæ–¹æ³•ä¸€ä¸ªæ˜¯clickæ–¹æ³•ç”¨äºŽç›‘å¬ç”¨æˆ·å•å‡»æ“ä½œï¼Œå¦ä¸€ä¸ªæ–¹æ³•æ˜¯dbclickæ–¹æ³•ç”¨äºŽç›‘å¬ç”¨æˆ·åŒå‡»æ“ä½œã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„ç”¨æ³•æ˜¯ç±»ä¼¼çš„ï¼Œä¸‹é¢ä»¥click()äº‹ä»¶ä¸ºä¾‹ ä½¿ç”¨ä¸Šéžå¸¸ç®€å•ï¼š æ–¹æ³•ä¸€ï¼š$ele.click() ç»‘å®š$eleå…ƒç´ ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ä¸€èˆ¬æ˜¯ç”¨æ¥æŒ‡å®šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œç”¨çš„æ¯”è¾ƒå°‘ 1234567&lt;div id=&quot;test&quot;&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$(&quot;ele&quot;).click(function()&#123; alert(&apos;è§¦å‘æŒ‡å®šäº‹ä»¶&apos;)&#125;)$(&quot;#test&quot;).click(function()&#123; $(&quot;ele&quot;).click() //æ‰‹åŠ¨æŒ‡å®šè§¦å‘äº‹ä»¶ &#125;); æ–¹æ³•äºŒï¼š$ele.click( handler(eventObject) ) ç»‘å®š$eleå…ƒç´ ï¼Œæ¯æ¬¡$eleå…ƒç´ è§¦å‘ç‚¹å‡»æ“ä½œä¼šæ‰§è¡Œå›žè°ƒ handlerå‡½æ•°ï¼Œè¿™æ ·å¯ä»¥é’ˆå¯¹äº‹ä»¶çš„åé¦ˆåšå¾ˆå¤šæ“ä½œäº†ï¼Œæ–¹æ³•ä¸­çš„thisæ˜¯æŒ‡å‘äº†ç»‘å®šäº‹ä»¶çš„å…ƒç´  1234&lt;div id=&quot;test&quot;&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$(&quot;#test&quot;).click(function() &#123; //thisæŒ‡å‘ divå…ƒç´ &#125;); æ–¹æ³•ä¸‰ï¼š$ele.click( [eventData ], handler(eventObject) ) ä½¿ç”¨ä¸Žæ–¹æ³•äºŒä¸€è‡´ï¼Œä¸è¿‡å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°æ®å‚æ•°ï¼Œè¿™æ ·çš„å¤„ç†æ˜¯ä¸ºäº†è§£å†³ä¸åŒä½œç”¨åŸŸä¸‹æ•°æ®ä¼ é€’çš„é—®é¢˜ 12345&lt;div id=&quot;test&quot;&gt;ç‚¹å‡»è§¦å‘&lt;div&gt;$(&quot;#test&quot;).click(11111,function(e) &#123; //thisæŒ‡å‘ divå…ƒç´  //e.data =&gt; 11111 ä¼ é€’æ•°æ®&#125;); dbclick()çš„ç”¨æ³•å’Œclick()çš„ç”¨æ³•æ˜¯ç±»ä¼¼çš„ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸Šclick()çš„ç”¨æ³•ã€‚ dbclickä¸Žclickäº‹ä»¶ä¸åŒçš„æ˜¯ï¼š clickäº‹ä»¶è§¦å‘éœ€è¦ä»¥ä¸‹å‡ ç‚¹ï¼š clickäº‹ä»¶å…¶å®žæ˜¯ç”±mousedownä¸Žmouseup 2ä¸ªåŠ¨ä½œæž„æˆï¼Œæ‰€ä»¥ç‚¹å‡»çš„åŠ¨ä½œåªæœ‰åœ¨æ¾æ‰‹åŽæ‰è§¦å‘ PS:mousedownå’Œmouseupä¸‹ä¸€èŠ‚ä¼šè®²åˆ° dbclick**äº‹ä»¶è§¦å‘éœ€è¦ä»¥ä¸‹å‡ ç‚¹ï¼š** dbclickåˆæ˜¯ç”±2ä¸ªclickå åŠ è€Œæ¥çš„ï¼Œæ‰€ä»¥dbclickäº‹ä»¶åªæœ‰åœ¨æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æƒ…å†µä¸‹æ‰èƒ½è¢«è§¦å‘ é¼ æ ‡æŒ‡é’ˆåœ¨å…ƒç´ é‡Œé¢æ—¶ç‚¹å‡»ã€‚ é¼ æ ‡æŒ‡é’ˆåœ¨å…ƒç´ é‡Œé¢æ—¶é‡Šæ”¾ã€‚ é¼ æ ‡æŒ‡é’ˆåœ¨å…ƒç´ é‡Œé¢æ—¶å†æ¬¡ç‚¹å‡»ï¼Œç‚¹å‡»é—´éš”æ—¶é—´ï¼Œæ˜¯ç³»ç»Ÿè€Œå®šã€‚ é¼ æ ‡æŒ‡é’ˆåœ¨å…ƒç´ é‡Œé¢æ—¶å†æ¬¡é‡Šæ”¾ã€‚ æ³¨æ„ï¼šåœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ—¶ç»‘å®š click å’Œ dbclick äº‹ä»¶æ˜¯ä¸å¯å–çš„ã€‚å„ä¸ªæµè§ˆå™¨äº‹ä»¶è§¦å‘çš„é¡ºåºæ˜¯ä¸åŒçš„ï¼Œä¸€äº›æµè§ˆå™¨åœ¨dbclickä¹‹å‰æŽ¥å—ä¸¤ä¸ª click äº‹ä»¶ ï¼Œè€Œä¸€äº›æµè§ˆå™¨åªæŽ¥å—ä¸€ä¸ª click äº‹ä»¶ã€‚ç”¨æˆ·å¾€å¾€å¯é€šè¿‡ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨é…ç½®åŒå‡»çµæ•åº¦ 12345678910&lt;h2&gt;.click()æ–¹æ³•&lt;/h2&gt;&lt;h4&gt;æµ‹è¯•ä¸€&lt;/h4&gt;&lt;button&gt;å…ƒç´ ç»‘å®šäº‹ä»¶,å¼¹å‡ºå›žè°ƒä¸­çš„this&lt;/button&gt;&lt;script type="text/javascript"&gt; //thisæŒ‡å‘buttonå…ƒç´  $("button:eq(0)").click(function() &#123; alert(this) &#125;)&lt;/script&gt; 1234567891011121314&lt;h4&gt;æµ‹è¯•äºŒ&lt;/h4&gt;&lt;div class="test2"&gt; &lt;p&gt;$('button:first').click(function(e) &#123;alert(this)&#125;)&lt;/p&gt;&lt;/div&gt;&lt;button&gt;æŒ‡å®šè§¦å‘äº‹ä»¶&lt;/button&gt;&lt;script type="text/javascript"&gt; $('p').click(function(e) &#123; alert(e.target.textContent) &#125;) //thisæŒ‡å‘buttonå…ƒç´  $("button:eq(1)").click(function() &#123; $('p').click() //æŒ‡å®šè§¦å‘ç»‘å®šçš„äº‹ä»¶ &#125;)&lt;/script&gt; 12345678910111213141516171819&lt;h4&gt;æµ‹è¯•ä¸‰&lt;/h4&gt;&lt;div class="test3"&gt; &lt;p&gt;$('.right').click(1111, set)&lt;/p&gt;&lt;/div&gt;&lt;button&gt;ä¸åŒå‡½æ•°ä¼ é€’æ•°æ®&lt;/button&gt;&lt;script type="text/javascript"&gt; //ä¸åŒå‡½æ•°ä¼ é€’æ•°æ® function data(e) &#123; alert(e.data) //1111 &#125; function a() &#123; $("button:eq(2)").click(1111, data) &#125; a();&lt;/script&gt; jQueryé¼ æ ‡äº‹ä»¶ä¹‹mousedownä¸Žmouseupäº‹ä»¶ https://www.imooc.com/code/9717]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jquery Ajax]]></title>
    <url>%2F2019%2F03%2F11%2F%E5%89%8D%E7%AB%AF%2FJquery%20Ajax%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨load()æ–¹æ³•å¼‚æ­¥è¯·æ±‚æ•°æ®ä½¿ç”¨load()æ–¹æ³•é€šè¿‡Ajaxè¯·æ±‚åŠ è½½æœåŠ¡å™¨ä¸­çš„æ•°æ®ï¼Œå¹¶æŠŠè¿”å›žçš„æ•°æ®æ”¾ç½®åˆ°æŒ‡å®šçš„å…ƒç´ ä¸­ï¼Œå®ƒçš„è°ƒç”¨æ ¼å¼ä¸ºï¼š load(url,[data],[callback]) å‚æ•°urlä¸ºåŠ è½½æœåŠ¡å™¨åœ°å€ï¼Œå¯é€‰é¡¹dataå‚æ•°ä¸ºè¯·æ±‚æ—¶å‘é€çš„æ•°æ®ï¼Œcallbackå‚æ•°ä¸ºæ•°æ®è¯·æ±‚æˆåŠŸåŽï¼Œæ‰§è¡Œçš„å›žè°ƒå‡½æ•° ä¾‹å¦‚ï¼Œç‚¹å‡»â€œåŠ è½½â€æŒ‰é’®æ—¶ï¼Œå‘æœåŠ¡å™¨è¯·æ±‚åŠ è½½ä¸€ä¸ªæŒ‡å®šé¡µé¢çš„å†…å®¹ï¼ŒåŠ è½½æˆåŠŸåŽï¼Œå°†æ•°æ®å†…å®¹æ˜¾ç¤ºåœ¨å…ƒç´ ä¸­ï¼Œå¹¶å°†åŠ è½½æŒ‰é’®å˜ä¸ºä¸å¯ç”¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“ç‚¹å‡»â€œåŠ è½½â€æŒ‰é’®æ—¶ï¼Œé€šè¿‡è°ƒç”¨load()æ–¹æ³•å‘æœåŠ¡å™¨è¯·æ±‚åŠ è½½fruit.htmlæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œå½“åŠ è½½æˆåŠŸåŽï¼Œå…ˆæ˜¾ç¤ºæ•°æ®ï¼Œå¹¶å°†æŒ‰é’®å˜ä¸ºä¸å¯ç”¨ã€‚ 2 â­ï¸ä½¿ç”¨getJSON()æ–¹æ³•å¼‚æ­¥åŠ è½½JSONæ ¼å¼æ•°æ®ä½¿ç”¨getJSON()æ–¹æ³•å¯ä»¥é€šè¿‡Ajaxå¼‚æ­¥è¯·æ±‚çš„æ–¹å¼ï¼ŒèŽ·å–æœåŠ¡å™¨ä¸­çš„æ•°æ®ï¼Œå¹¶å¯¹èŽ·å–çš„æ•°æ®è¿›è¡Œè§£æžï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œå®ƒçš„è°ƒç”¨æ ¼å¼ä¸ºï¼š 1**jQuery.getJSON(url,[data],[callback])**`**æˆ–**`**$.getJSON(url,[data],[callback])** å…¶ä¸­ï¼Œurlå‚æ•°ä¸ºè¯·æ±‚åŠ è½½jsonæ ¼å¼æ–‡ä»¶çš„æœåŠ¡å™¨åœ°å€ï¼Œå¯é€‰é¡¹dataå‚æ•°ä¸ºè¯·æ±‚æ—¶å‘é€çš„æ•°æ®ï¼Œcallbackå‚æ•°ä¸ºæ•°æ®è¯·æ±‚æˆåŠŸåŽï¼Œæ‰§è¡Œçš„å›žè°ƒå‡½æ•° ä¾‹å¦‚ï¼Œç‚¹å‡»é¡µé¢ä¸­çš„â€œåŠ è½½â€æŒ‰é’®ï¼Œè°ƒç”¨getJSON()æ–¹æ³•èŽ·å–æœåŠ¡å™¨ä¸­JSONæ ¼å¼æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå¹¶éåŽ†æ•°æ®ï¼Œå°†æŒ‡å®šçš„å­—æ®µåå†…å®¹æ˜¾ç¤ºåœ¨é¡µé¢ä¸­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“ç‚¹å‡»â€œåŠ è½½â€æŒ‰é’®æ—¶ï¼Œé€šè¿‡getJSON()æ–¹æ³•è°ƒç”¨æœåŠ¡å™¨ä¸­çš„sport.jsonæ–‡ä»¶ï¼ŒèŽ·å–è¿”å›žçš„dataæ–‡ä»¶æ•°æ®ï¼Œå¹¶éåŽ†è¯¥æ•°æ®å¯¹è±¡ï¼Œä»¥data[â€œnameâ€]å–å‡ºæ•°æ®ä¸­æŒ‡å®šçš„å†…å®¹ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸­ã€‚ 3 ä½¿ç”¨getScript()æ–¹æ³•å¼‚æ­¥åŠ è½½å¹¶æ‰§è¡Œjsæ–‡ä»¶ä½¿ç”¨getScript()æ–¹æ³•å¼‚æ­¥è¯·æ±‚å¹¶æ‰§è¡ŒæœåŠ¡å™¨ä¸­çš„JavaScriptæ ¼å¼çš„æ–‡ä»¶ï¼Œå®ƒçš„è°ƒç”¨æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 1jQuery.getScript(url,[callback])`æˆ–`$.getScript(url,[callback]) å‚æ•°urlä¸ºæœåŠ¡å™¨è¯·æ±‚åœ°å€ï¼Œå¯é€‰é¡¹callbackå‚æ•°ä¸ºè¯·æ±‚æˆåŠŸåŽæ‰§è¡Œçš„å›žè°ƒå‡½æ•°ã€‚ ä¾‹å¦‚ï¼Œç‚¹å‡»â€œåŠ è½½â€æŒ‰é’®ï¼Œè°ƒç”¨getScript()åŠ è½½å¹¶æ‰§è¡ŒæœåŠ¡å™¨ä¸­æŒ‡å®šåç§°çš„JavaScriptæ ¼å¼çš„æ–‡ä»¶ï¼Œå¹¶åœ¨é¡µé¢ä¸­æ˜¾ç¤ºåŠ è½½åŽçš„æ•°æ®å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“ç‚¹å‡»â€œåŠ è½½â€æŒ‰é’®è°ƒç”¨getScript()æ–¹æ³•åŠ è½½æœåŠ¡å™¨ä¸­çš„JavaScriptæ ¼å¼æ–‡ä»¶åŽï¼Œè‡ªåŠ¨æ‰§è¡Œæ–‡ä»¶ä»£ç ï¼Œå°†æ•°æ®å†…å®¹æ˜¾ç¤ºåœ¨å…ƒç´ ä¸­ ä½¿ç”¨get()æ–¹æ³•ä»¥GETæ–¹å¼ä»ŽæœåŠ¡å™¨èŽ·å–æ•°æ®ä½¿ç”¨get()æ–¹æ³•ä»¥GETæ–¹å¼ä»ŽæœåŠ¡å™¨èŽ·å–æ•°æ®ä½¿ç”¨get()æ–¹æ³•æ—¶ï¼Œé‡‡ç”¨GETæ–¹å¼å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œå¹¶é€šè¿‡æ–¹æ³•ä¸­å›žè°ƒå‡½æ•°çš„å‚æ•°è¿”å›žè¯·æ±‚çš„æ•°æ®ï¼Œå®ƒçš„è°ƒç”¨æ ¼å¼å¦‚ä¸‹ï¼š 1$.get(url,[callback]) å‚æ•°urlä¸ºæœåŠ¡å™¨è¯·æ±‚åœ°å€ï¼Œå¯é€‰é¡¹callbackå‚æ•°ä¸ºè¯·æ±‚æˆåŠŸåŽæ‰§è¡Œçš„å›žè°ƒå‡½æ•°ã€‚ ä¾‹å¦‚ï¼Œå½“ç‚¹å‡»â€œåŠ è½½â€æŒ‰é’®æ—¶ï¼Œè°ƒç”¨get()æ–¹æ³•å‘æœåŠ¡å™¨ä¸­çš„ä¸€ä¸ª.phpæ–‡ä»¶ä»¥GETæ–¹å¼è¯·æ±‚æ•°æ®ï¼Œå¹¶å°†è¿”å›žçš„æ•°æ®å†…å®¹æ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡$.get()æ–¹æ³•å‘æœåŠ¡å™¨æˆåŠŸè¯·æ±‚æ•°æ®åŽï¼Œåœ¨å›žè°ƒå‡½æ•°ä¸­é€šè¿‡dataå‚æ•°ä¼ å›žè¯·æ±‚çš„æ•°æ®ï¼Œå¹¶ä»¥data.nameæ ¼å¼è®¿é—®æ•°æ®ä¸­å„é¡¹çš„å†…å®¹ã€‚ 123456789101112&lt;script type="text/javascript"&gt; $(function () &#123; $("#btnShow").bind("click", function () &#123; var $this = $(this); $.get("http://www.imooc.com/data/info_f.php",function(data) &#123; $this.attr("disabled", "true"); $("ul").append("&lt;li&gt;æˆ‘çš„åå­—å«ï¼š" + data.name + "&lt;/li&gt;"); $("ul").append("&lt;li&gt;ç”·æœ‹å‹å¯¹æˆ‘è¯´ï¼š" + data.say + "&lt;/li&gt;"); &#125;, "json"); &#125;) &#125;); &lt;/script&gt; 1234&#123;"name": "ç™½å¯Œç¾Ž","say": "å’±ä»¬ç»“å©šå§!"&#125; ä½¿ç”¨post()æ–¹æ³•ä»¥POSTæ–¹å¼ä»ŽæœåŠ¡å™¨å‘é€æ•°æ®ä¸Žget()æ–¹æ³•ç›¸æ¯”ï¼Œpost()æ–¹æ³•å¤šç”¨äºŽä»¥POSTæ–¹å¼å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒæœåŠ¡å™¨æŽ¥æ”¶åˆ°æ•°æ®ä¹‹åŽï¼Œè¿›è¡Œå¤„ç†ï¼Œå¹¶å°†å¤„ç†ç»“æžœè¿”å›žé¡µé¢ï¼Œè°ƒç”¨æ ¼å¼å¦‚ä¸‹ï¼š 1$.post(url,[data],[callback]) å‚æ•°urlä¸ºæœåŠ¡å™¨è¯·æ±‚åœ°å€ï¼Œå¯é€‰é¡¹dataä¸ºå‘æœåŠ¡å™¨è¯·æ±‚æ—¶å‘é€çš„æ•°æ®ï¼Œå¯é€‰é¡¹callbackå‚æ•°ä¸ºè¯·æ±‚æˆåŠŸåŽæ‰§è¡Œçš„å›žè°ƒå‡½æ•°ã€‚ ä¾‹å¦‚ï¼Œåœ¨è¾“å…¥æ¡†ä¸­å½•å…¥ä¸€ä¸ªæ•°å­—ï¼Œç‚¹å‡»â€œæ£€æµ‹â€æŒ‰é’®ï¼Œè°ƒç”¨post()æ–¹æ³•å‘æœåŠ¡å™¨ä»¥POSTæ–¹å¼å‘é€è¯·æ±‚ï¼Œæ£€æµ‹è¾“å…¥å€¼çš„å¥‡å¶æ€§ï¼Œå¹¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„æ•ˆæžœï¼š ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“ç‚¹å‡»â€œæ£€æµ‹â€æŒ‰é’®æ—¶ï¼ŒèŽ·å–è¾“å…¥æ¡†ä¸­çš„å€¼ï¼Œå¹¶å°†è¯¥å€¼ä½¿ç”¨$.post()æ–¹æ³•ä¸€èµ·å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æŽ¥æ”¶è¯¥å€¼åŽå¹¶è¿›è¡Œå¤„ç†ï¼Œæœ€åŽè¿”å›žå¤„ç†ç»“æžœã€‚ 123456789101112&lt;script type="text/javascript"&gt; $(function () &#123; $("#btnCheck").bind("click", function () &#123; $.post("http://www.imooc.com/data/check_f.php",&#123;name:$("#txtNumber").val()&#125;, function (data) &#123; $("ul").append("&lt;li&gt;ä½ è¾“å…¥çš„&lt;b&gt; " + $("#txtNumber").val() + " &lt;/b&gt;æ˜¯&lt;b&gt; " + data + " &lt;/b&gt;&lt;/li&gt;"); &#125;); &#125;) &#125;); &lt;/script&gt; ä½¿ç”¨serialize()æ–¹æ³•åºåˆ—åŒ–è¡¨å•å…ƒç´ å€¼ä½¿ç”¨serialize()æ–¹æ³•å¯ä»¥å°†è¡¨å•ä¸­æœ‰nameå±žæ€§çš„å…ƒç´ å€¼è¿›è¡Œåºåˆ—åŒ–ï¼Œç”Ÿæˆæ ‡å‡†URLç¼–ç æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œç›´æŽ¥å¯ç”¨äºŽajaxè¯·æ±‚ï¼Œå®ƒçš„è°ƒç”¨æ ¼å¼å¦‚ä¸‹ï¼š 1**$(selector).serialize()** å…¶ä¸­selectorå‚æ•°æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨å•ä¸­çš„å…ƒç´ æˆ–è¡¨å•å…ƒç´ æœ¬èº«ã€‚ ä¾‹å¦‚ï¼Œåœ¨è¡¨å•ä¸­æ·»åŠ å¤šä¸ªå…ƒç´ ï¼Œç‚¹å‡»â€œåºåˆ—åŒ–â€æŒ‰é’®åŽï¼Œè°ƒç”¨serialize()æ–¹æ³•ï¼Œå°†è¡¨å•å…ƒç´ åºåˆ—åŒ–åŽçš„æ ‡å‡†URLç¼–ç æ–‡æœ¬å­—ç¬¦ä¸²æ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä½¿ç”¨ajax()æ–¹æ³•åŠ è½½æœåŠ¡å™¨æ•°æ®ä½¿ç”¨ajax()æ–¹æ³•æ˜¯æœ€åº•å±‚ã€åŠŸèƒ½æœ€å¼ºå¤§çš„è¯·æ±‚æœåŠ¡å™¨æ•°æ®çš„æ–¹æ³•ï¼Œå®ƒä¸ä»…å¯ä»¥èŽ·å–æœåŠ¡å™¨è¿”å›žçš„æ•°æ®ï¼Œè¿˜èƒ½å‘æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶ä¼ é€’æ•°å€¼ï¼Œå®ƒçš„è°ƒç”¨æ ¼å¼å¦‚ä¸‹ï¼š 1**jQuery.ajax([settings])**`**æˆ–**`**$.ajax([settings])** å…¶ä¸­å‚æ•°settingsä¸ºå‘é€ajaxè¯·æ±‚æ—¶çš„é…ç½®å¯¹è±¡ï¼Œåœ¨è¯¥å¯¹è±¡ä¸­ï¼Œurlè¡¨ç¤ºæœåŠ¡å™¨è¯·æ±‚çš„è·¯å¾„ï¼Œdataä¸ºè¯·æ±‚æ—¶ä¼ é€’çš„æ•°æ®ï¼ŒdataTypeä¸ºæœåŠ¡å™¨è¿”å›žçš„æ•°æ®ç±»åž‹ï¼Œsuccessä¸ºè¯·æ±‚æˆåŠŸçš„æ‰§è¡Œçš„å›žè°ƒå‡½æ•°ï¼Œtypeä¸ºå‘é€æ•°æ®è¯·æ±‚çš„æ–¹å¼ï¼Œé»˜è®¤ä¸ºgetã€‚ ä¾‹å¦‚ï¼Œç‚¹å‡»é¡µé¢ä¸­çš„â€œåŠ è½½â€æŒ‰é’®ï¼Œè°ƒç”¨ajax()æ–¹æ³•å‘æœåŠ¡å™¨è¯·æ±‚åŠ è½½ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œå¹¶å°†è¿”å›žçš„æ–‡ä»¶ä¸­çš„å†…å®¹æ˜¾ç¤ºåœ¨é¡µé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 12345678910111213141516&lt;script type="text/javascript"&gt; $(function () &#123; $("#btnCheck").bind("click", function () &#123; $.ajax(&#123; url: "http://www.imooc.com/data/check.php", data: &#123; num: $("#txtNumber").val() &#125;, type: 'POST', success: function (data) &#123; $("ul").append("&lt;li&gt;ä½ è¾“å…¥çš„&lt;b&gt; " + $("#txtNumber").val() + " &lt;/b&gt;æ˜¯&lt;b&gt; " + data + " &lt;/b&gt;&lt;/li&gt;"); &#125; &#125;); &#125;) &#125;); &lt;/script&gt;]]></content>
      <tags>
        <tag>Jquery</tag>
        <tag>Ajax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”µå•†ç½‘ç«™å¼€å‘ è°·ç²’å•†åŸŽ å¾é™åš]]></title>
    <url>%2F2019%2F03%2F10%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E7%AE%80%E4%BB%8B%20%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"></content>
      <tags>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŽå°æœåŠ¡ä»£ç æž¶æž„ï¼šdubooé›†ç¾¤éƒ¨ç½²å®‰è£…]]></title>
    <url>%2F2019%2F03%2F10%2FDubbo%2Fduboo%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[dubboé›†ç¾¤éƒ¨ç½²å®‰è£…ä¾èµ–äºŽzookeeperï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹é¢é‡ç‚¹å®‰è£…zookeeperé›†ç¾¤ã€‚1ã€**å‡†å¤‡ä¸‰å°æœºå™¨åšé›†ç¾¤** æœåŠ¡å™¨ IPåœ°å€ ç«¯å£ æœåŠ¡å™¨1 10.211.55.7 2181/2881/3881 æœåŠ¡å™¨2 10.211.55.8 2181/2881/3881 æœåŠ¡å™¨3 10.211.55.9 2181/2881/3881 12345export ZOOKEEPER_HOME=/root/zookeeper-3.4.10export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jarexport JAVA_HOME=/root/jdk1.8.0_201export PATH=$PATH:$JAVA_HOME/binexport PATH=$PATH:$ZOOKEEPER_HOME/bin:$JAVA_HOME/bin 2.2 ä¿®æ”¹æ“ä½œç³»ç»Ÿçš„/etc/hostsæ–‡ä»¶ï¼Œæ·»åŠ IPä¸Žä¸»æœºåæ˜ å°„ï¼š # zookeeper cluster servers 10.211.55.7 bigdata1 10.211.55.8 bigdata2 10.211.55.9 bigdata3 tar -zxvf zookeeper-3.4.9.tar.gz 2.5 åœ¨zookeeperçš„å„ä¸ªèŠ‚ç‚¹ä¸‹ åˆ›å»ºæ•°æ®å’Œæ—¥å¿—ç›®å½•cd zookeeper mkdir data mkdir logs 12345678910112.6 é‡å‘½åé…ç½®æ–‡ä»¶ å°†zookeeper/confç›®å½•ä¸‹çš„zoo_sample.cfgæ–‡ä»¶æ‹·è´ä¸€ä»½ï¼Œå‘½åä¸ºzoo.cfg:#cp zoo_sample.cfg zoo.cfgä¿®æ”¹zoo.cfg é…ç½®æ–‡ä»¶clientPort=2181dataDir=/data/program/software/zookeeper/datadataLogDir=/data/program/software/zookeeper/logs server.1=bigdata1:2881:3881server.2=bigdata2:2881:3881server.3=bigdata3:2881:3881 1234567891011121314151617181920å‚æ•°è¯´æ˜Ž:tickTime=2000tickTimeè¿™ä¸ªæ—¶é—´æ˜¯ä½œä¸ºZookeeperæœåŠ¡å™¨ä¹‹é—´æˆ–å®¢æˆ·ç«¯ä¸ŽæœåŠ¡å™¨ä¹‹é—´ç»´æŒå¿ƒè·³çš„æ—¶é—´é—´éš”,ä¹Ÿå°±æ˜¯æ¯ä¸ªtickTimeæ—¶é—´å°±ä¼šå‘é€ä¸€ä¸ªå¿ƒè·³ã€‚initLimit=10initLimitè¿™ä¸ªé…ç½®é¡¹æ˜¯ç”¨æ¥é…ç½®ZookeeperæŽ¥å—å®¢æˆ·ç«¯ï¼ˆè¿™é‡Œæ‰€è¯´çš„å®¢æˆ·ç«¯ä¸æ˜¯ç”¨æˆ·è¿žæŽ¥ZookeeperæœåŠ¡å™¨çš„å®¢æˆ·ç«¯,è€Œæ˜¯ZookeeperæœåŠ¡å™¨é›†ç¾¤ä¸­è¿žæŽ¥åˆ°Leaderçš„Follower æœåŠ¡å™¨ï¼‰åˆå§‹åŒ–è¿žæŽ¥æ—¶æœ€é•¿èƒ½å¿å—å¤šå°‘ä¸ªå¿ƒè·³æ—¶é—´é—´éš”æ•°ã€‚å½“å·²ç»è¶…è¿‡10ä¸ªå¿ƒè·³çš„æ—¶é—´ï¼ˆä¹Ÿå°±æ˜¯tickTimeï¼‰é•¿åº¦åŽZookeeper æœåŠ¡å™¨è¿˜æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„è¿”å›žä¿¡æ¯,é‚£ä¹ˆè¡¨æ˜Žè¿™ä¸ªå®¢æˆ·ç«¯è¿žæŽ¥å¤±è´¥ã€‚æ€»çš„æ—¶é—´é•¿åº¦å°±æ˜¯10*2000=20 ç§’ã€‚syncLimit=5syncLimitè¿™ä¸ªé…ç½®é¡¹æ ‡è¯†Leaderä¸ŽFollowerä¹‹é—´å‘é€æ¶ˆæ¯,è¯·æ±‚å’Œåº”ç­”æ—¶é—´é•¿åº¦,æœ€é•¿ä¸èƒ½è¶…è¿‡å¤šå°‘ä¸ªtickTimeçš„æ—¶é—´é•¿åº¦,æ€»çš„æ—¶é—´é•¿åº¦å°±æ˜¯5*2000=10ç§’ã€‚dataDir=/data/program/software/zookeeper/datadataDiré¡¾åæ€ä¹‰å°±æ˜¯Zookeeperä¿å­˜æ•°æ®çš„ç›®å½•,é»˜è®¤æƒ…å†µä¸‹Zookeeperå°†å†™æ•°æ®çš„æ—¥å¿—æ–‡ä»¶ä¹Ÿä¿å­˜åœ¨è¿™ä¸ªç›®å½•é‡Œã€‚clientPort=2181clientPortè¿™ä¸ªç«¯å£å°±æ˜¯å®¢æˆ·ç«¯ï¼ˆåº”ç”¨ç¨‹åºï¼‰è¿žæŽ¥ZookeeperæœåŠ¡å™¨çš„ç«¯å£,Zookeeperä¼šç›‘å¬è¿™ä¸ªç«¯å£æŽ¥å—å®¢æˆ·ç«¯çš„è®¿é—®è¯·æ±‚ã€‚server.A=Bï¼šCï¼šDserver.1=bigdata1:2881:3881server.2=bigdata2:2881:3881server.3=bigdata3:2881:3881Aæ˜¯ä¸€ä¸ªæ•°å­—,è¡¨ç¤ºè¿™ä¸ªæ˜¯ç¬¬å‡ å·æœåŠ¡å™¨ï¼›Bæ˜¯è¿™ä¸ªæœåŠ¡å™¨çš„IPåœ°å€ï¼ˆæˆ–è€…æ˜¯ä¸ŽIPåœ°å€åšäº†æ˜ å°„çš„ä¸»æœºåï¼‰ï¼›Cç¬¬ä¸€ä¸ªç«¯å£ç”¨æ¥é›†ç¾¤æˆå‘˜çš„ä¿¡æ¯äº¤æ¢,è¡¨ç¤ºè¿™ä¸ªæœåŠ¡å™¨ä¸Žé›†ç¾¤ä¸­çš„LeaderæœåŠ¡å™¨äº¤æ¢ä¿¡æ¯çš„ç«¯å£ï¼›Dæ˜¯åœ¨leaderæŒ‚æŽ‰æ—¶ä¸“é—¨ç”¨æ¥è¿›è¡Œé€‰ä¸¾leaderæ‰€ç”¨çš„ç«¯å£ã€‚æ³¨æ„ï¼šå¦‚æžœæ˜¯ä¼ªé›†ç¾¤çš„é…ç½®æ–¹å¼ï¼Œä¸åŒçš„ Zookeeper å®žä¾‹é€šä¿¡ç«¯å£å·ä¸èƒ½ä¸€æ ·ï¼Œæ‰€ä»¥è¦ç»™å®ƒä»¬åˆ†é…ä¸åŒçš„ç«¯å£å·ã€‚ 12345678910112.8 åˆ›å»ºmyidæ–‡ä»¶åœ¨dataDir= dataDir=/data/program/software/zookeeper/data ä¸‹åˆ›å»ºmyidæ–‡ä»¶ç¼–è¾‘myidæ–‡ä»¶ï¼Œå¹¶åœ¨å¯¹åº”çš„IPçš„æœºå™¨ä¸Šè¾“å…¥å¯¹åº”çš„ç¼–å·ã€‚å¦‚åœ¨1ä¸Šï¼Œmyidæ–‡ä»¶å†…å®¹å°±æ˜¯1, 2ä¸Šå°±æ˜¯2ï¼Œ 3ä¸Šå°±æ˜¯3ï¼š#vi /myid## å€¼ä¸º1#vi /myid## å€¼ä¸º2#vi /myid## å€¼ä¸º32.9 å¯åŠ¨æµ‹è¯•zookeeper(1)è¿›å…¥/binç›®å½•ä¸‹æ‰§è¡Œï¼š# /zkServer.sh start# /zkServer.sh start# /zkServer.sh start â€”-]]></content>
      <tags>
        <tag>Dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JqueryåŸºç¡€ç¯‡ï¼ˆäºŒï¼‰-DOMç¯‡ç« ]]></title>
    <url>%2F2019%2F03%2F09%2F%E5%89%8D%E7%AB%AF%2FjQuery%E5%9F%BA%E7%A1%80(%E4%BA%8C)%E2%80%94DOM%E7%AF%87%2F</url>
    <content type="text"><![CDATA[DOMåˆ›å»ºèŠ‚ç‚¹åŠèŠ‚ç‚¹å±žæ€§æœ¬æ–‡å‘å¤§å®¶ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨JavaScriptåˆ›å»ºdivèŠ‚ç‚¹å…ƒç´ ï¼Œä¸»è¦åŒ…æ‹¬åˆ›å»ºdivèŠ‚ç‚¹å…ƒç´ çš„å±žæ€§å’Œåˆ›å»ºdivèŠ‚ç‚¹å…ƒç´ çš„æ ·å¼ä¸¤å¤§éƒ¨åˆ†å†…å®¹ åˆ›å»ºæµç¨‹æ¯”è¾ƒç®€å•ï¼Œå¤§ä½“å¦‚ä¸‹ï¼š åˆ›å»ºèŠ‚ç‚¹(å¸¸è§çš„ï¼šå…ƒç´ ã€å±žæ€§å’Œæ–‡æœ¬) æ·»åŠ èŠ‚ç‚¹çš„ä¸€äº›å±žæ€§ åŠ å…¥åˆ°æ–‡æ¡£ä¸­ æµç¨‹ä¸­æ¶‰åŠçš„ä¸€ç‚¹æ–¹æ³•ï¼š åˆ›å»ºå…ƒç´ ï¼šdocument.createElement è®¾ç½®å±žæ€§ï¼šsetAttribute æ·»åŠ æ–‡æœ¬ï¼šinnerHTML åŠ å…¥æ–‡æ¡£ï¼šappendChild 12345678910111213141516171819202122&lt;script type="text/javascript"&gt; var body = document.querySelector('body'); document.addEventListener('click',function()&#123; //åˆ›å»º2ä¸ªdivå…ƒç´  var rightdiv = document.createElement('div') var rightaaron = document.createElement("div"); //ç»™2ä¸ªdivè®¾ç½®ä¸åŒçš„å±žæ€§ rightdiv.setAttribute('class', 'right') rightaaron.className = 'aaron' rightaaron.innerHTML = "åŠ¨æ€åˆ›å»ºDIVå…ƒç´ èŠ‚ç‚¹"; //2ä¸ªdivåˆå¹¶æˆåŒ…å«å…³ç³» rightdiv.appendChild(rightaaron) //ç»˜åˆ¶åˆ°é¡µé¢body body.appendChild(rightdiv) &#125;,false) &lt;script&gt; å¦‚å³è¾¹ä»£ç æ‰€ç¤ºï¼Œå†™ä¸€ä¸ªæœ€ç®€å•çš„å…ƒç´ åˆ›å»ºï¼Œæˆ‘ä»¬ä¼šå‘çŽ°å‡ ä¸ªé—®é¢˜ï¼š æ¯ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹éƒ½å¿…é¡»å•ç‹¬åˆ›å»º èŠ‚ç‚¹æ˜¯å±žæ€§éœ€è¦å•ç‹¬è®¾ç½®ï¼Œè€Œä¸”è®¾ç½®çš„æŽ¥å£ä¸æ˜¯å¾ˆç»Ÿä¸€ æ·»åŠ åˆ°æŒ‡å®šçš„å…ƒç´ ä½ç½®ä¸çµæ´» æœ€åŽè¿˜æœ‰ä¸€ä¸ªæœ€é‡è¦çš„ï¼šæµè§ˆå™¨å…¼å®¹é—®é¢˜å¤„ç† jQueryèŠ‚ç‚¹åˆ›å»ºä¸Žå±žæ€§çš„å¤„ç†åˆ›å»ºå…ƒç´ èŠ‚ç‚¹ï¼š 1å¯ä»¥æœ‰å‡ ç§æ–¹å¼ï¼ŒåŽé¢ä¼šæ…¢æ…¢æŽ¥è§¦ã€‚å¸¸è§çš„å°±æ˜¯ç›´æŽ¥æŠŠè¿™ä¸ªèŠ‚ç‚¹çš„ç»“æž„ç»™é€šè¿‡HTMLæ ‡è®°å­—ç¬¦ä¸²æè¿°å‡ºæ¥ï¼Œé€šè¿‡ $()å‡½æ•°å¤„ç†ï¼Œ$(&quot;htmlç»“æž„&quot;) 1$(&quot;&lt;div&gt;&lt;/div&gt;&quot;) åˆ›å»ºä¸ºæœ¬èŠ‚ç‚¹ï¼š 12ä¸Žåˆ›å»ºå…ƒç´ èŠ‚ç‚¹ç±»ä¼¼ï¼Œå¯ä»¥ç›´æŽ¥æŠŠæ–‡æœ¬å†…å®¹ä¸€å¹¶æè¿°$(&quot;&lt;div&gt;æˆ‘æ˜¯æ–‡æœ¬èŠ‚ç‚¹&lt;/div&gt;&quot;) åˆ›å»ºä¸ºå±žæ€§èŠ‚ç‚¹ 12ä¸Žåˆ›å»ºå…ƒç´ èŠ‚ç‚¹åŒæ ·çš„æ–¹å¼$(&quot;&lt;div id=&apos;test&apos; class=&apos;aaron&apos;&gt;æˆ‘æ˜¯æ–‡æœ¬èŠ‚ç‚¹&lt;/div&gt;&quot;) æˆ‘ä»¬é€šè¿‡jQueryæŠŠä¸Šä¸€å±Šçš„ä»£ç æ”¹é€ ä¸€ä¸‹ï¼Œå¦‚å³è¾¹ä»£ç æ‰€ç¤º ä¸€æ¡ä¸€å¥å°±æžå®šäº†ï¼Œè·Ÿå†™HTMLç»“æž„æ–¹å¼æ˜¯ä¸€æ ·çš„ 1$(&quot;&lt;div class=&apos;right&apos;&gt;&lt;div class=&apos;aaron&apos;&gt;åŠ¨æ€åˆ›å»ºDIVå…ƒç´ èŠ‚ç‚¹&lt;/div&gt;&lt;/div&gt;&quot;) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;html&gt;&lt;head&gt; &lt;meta http-equiv="Content-type" content="text/html; charset=utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;script src="https://www.imooc.com/static/lib/jquery/1.9.1/jquery.js"&gt;&lt;/script&gt; &lt;style&gt; .left, .right &#123; width: 300px; height: 120px; &#125; .left div, .right div &#123; width: 100px; height: 90px; padding: 5px; margin: 5px; float: left; border: 1px solid #ccc; &#125; .left div &#123; background: #bbffaa; &#125; .right div &#123; background: yellow; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt;åŠ¨æ€åˆ›å»ºå…ƒç´ èŠ‚ç‚¹&lt;/h2&gt; &lt;button&gt;ç‚¹å‡»é€šè¿‡jQueryåŠ¨æ€åˆ›å»ºå…ƒç´ èŠ‚ç‚¹&lt;/button&gt; &lt;script type="text/javascript"&gt; var $body = $('body'); $body.on('click', function() &#123; //é€šè¿‡jQueryç”Ÿæˆdivå…ƒç´ èŠ‚ç‚¹ var div = $("&lt;div class='right'&gt;&lt;div class='aaron'&gt;åŠ¨æ€åˆ›å»ºDIVå…ƒç´ èŠ‚ç‚¹&lt;/div&gt;&lt;/div&gt;") $body.append(div) &#125;) // var body = document.querySelector('body'); // document.addEventListener('click',function()&#123; // //åˆ›å»º2ä¸ªdivå…ƒç´  // var rightdiv = document.createElement('div') // var rightaaron = document.createElement("div"); // //ç»™2ä¸ªdivè®¾ç½®ä¸åŒçš„å±žæ€§ // rightdiv.setAttribute('class', 'right') // rightaaron.className = 'aaron' // rightaaron.innerHTML = "åŠ¨æ€åˆ›å»ºDIVå…ƒç´ èŠ‚ç‚¹"; // //2ä¸ªdivåˆå¹¶æˆåŒ…å«å…³ç³» // rightdiv.appendChild(rightaaron) // //ç»˜åˆ¶åˆ°é¡µé¢body // body.appendChild(rightdiv) // &#125;,false) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 12345678var $body = $('body'); $body.on('click', function() &#123; //é€šè¿‡jQueryç”Ÿæˆdivå…ƒç´ èŠ‚ç‚¹ var div = $("&lt;div class='right'&gt;&lt;div class='aaron'&gt;åŠ¨æ€åˆ›å»ºDIVå…ƒç´ èŠ‚ç‚¹&lt;/div&gt;&lt;/div&gt;") $body.append(div) &#125;) DOMå†…éƒ¨æ’å…¥append()ä¸ŽappendTo()åŠ¨æ€åˆ›å»ºçš„å…ƒç´ æ˜¯ä¸å¤Ÿçš„ï¼Œå®ƒåªæ˜¯ä¸´æ—¶å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œæœ€ç»ˆæˆ‘ä»¬éœ€è¦æ”¾åˆ°é¡µé¢æ–‡æ¡£å¹¶å‘ˆçŽ°å‡ºæ¥ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€Žä¹ˆæ”¾åˆ°æ–‡æ¡£ä¸Šï¼Ÿ è¿™é‡Œå°±æ¶‰åŠåˆ°ä¸€ä¸ªä½ç½®å…³ç³»ï¼Œå¸¸è§çš„å°±æ˜¯æŠŠè¿™ä¸ªæ–°åˆ›å»ºçš„å…ƒç´ ï¼Œå½“ä½œé¡µé¢æŸä¸€ä¸ªå…ƒç´ çš„å­å…ƒç´ æ”¾åˆ°å…¶å†…éƒ¨ã€‚é’ˆå¯¹è¿™æ ·çš„å¤„ç†ï¼ŒjQueryå°±å®šä¹‰2ä¸ªæ“ä½œçš„æ–¹æ³• appendï¼šè¿™ä¸ªæ“ä½œä¸Žå¯¹æŒ‡å®šçš„å…ƒç´ æ‰§è¡ŒåŽŸç”Ÿçš„appendChildæ–¹æ³•ï¼Œå°†å®ƒä»¬æ·»åŠ åˆ°æ–‡æ¡£ä¸­çš„æƒ…å†µç±»ä¼¼ã€‚ appendToï¼šå®žé™…ä¸Šï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ˜¯é¢ å€’äº†å¸¸è§„çš„$(A).append(B)çš„æ“ä½œï¼Œå³ä¸æ˜¯æŠŠBè¿½åŠ åˆ°Aä¸­ï¼Œè€Œæ˜¯æŠŠAè¿½åŠ åˆ°Bä¸­ã€‚ ç®€å•çš„æ€»ç»“å°±æ˜¯ï¼š .append()å’Œ.appendTo()ä¸¤ç§æ–¹æ³•åŠŸèƒ½ç›¸åŒï¼Œä¸»è¦çš„ä¸åŒæ˜¯è¯­æ³•â€”â€”å†…å®¹å’Œç›®æ ‡çš„ä½ç½®ä¸åŒ 12append()å‰é¢æ˜¯è¢«æ’å…¥çš„å¯¹è±¡ï¼ŒåŽé¢æ˜¯è¦åœ¨å¯¹è±¡å†…æ’å…¥çš„å…ƒç´ å†…å®¹appendTo()å‰é¢æ˜¯è¦æ’å…¥çš„å…ƒç´ å†…å®¹ï¼Œè€ŒåŽé¢æ˜¯è¢«æ’å…¥çš„å¯¹è±¡ 123456&lt;body&gt; &lt;h2&gt;é€šè¿‡appendä¸ŽappendToæ·»åŠ å…ƒç´ &lt;/h2&gt; &lt;button id="bt1"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„appendæ·»åŠ å…ƒç´ &lt;/button&gt; &lt;button id="bt2"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„appendToæ·»åŠ å…ƒç´ &lt;/button&gt; &lt;div class="content"&gt;&lt;/div&gt; 123456789101112131415161718 $("#bt1").on('click', function() &#123; //.append(), å†…å®¹åœ¨æ–¹æ³•çš„åŽé¢ï¼Œ //å‚æ•°æ˜¯å°†è¦æ’å…¥çš„å†…å®¹ã€‚ $(".content").append('&lt;div class="append"&gt;é€šè¿‡appendæ–¹æ³•æ·»åŠ çš„å…ƒç´ &lt;/div&gt;') &#125;)&lt;/script&gt;&lt;script type="text/javascript"&gt; $("#bt2").on('click', function() &#123; //.appendTo()åˆšå¥½ç›¸åï¼Œå†…å®¹åœ¨æ–¹æ³•å‰é¢ï¼Œ //æ— è®ºæ˜¯ä¸€ä¸ªé€‰æ‹©å™¨è¡¨è¾¾å¼ æˆ–åˆ›å»ºä½œä¸ºæ ‡è®°ä¸Šçš„æ ‡è®° //å®ƒéƒ½å°†è¢«æ’å…¥åˆ°ç›®æ ‡å®¹å™¨çš„æœ«å°¾ã€‚ $('&lt;div class="appendTo"&gt;é€šè¿‡appendToæ–¹æ³•æ·»åŠ çš„å…ƒç´ &lt;/div&gt;').appendTo($(".content")) &#125;)&lt;/script&gt; ![image-20190311090109502](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025541.jpg) # DOMå¤–éƒ¨æ’å…¥after()ä¸Žbefore() èŠ‚ç‚¹ä¸ŽèŠ‚ç‚¹ä¹‹å‰æœ‰å„ç§å…³ç³»ï¼Œé™¤äº†çˆ¶å­ï¼Œç¥–è¾ˆå…³ç³»ï¼Œè¿˜å¯ä»¥æ˜¯å…„å¼Ÿå…³ç³»ã€‚ä¹‹å‰æˆ‘ä»¬åœ¨å¤„ç†èŠ‚ç‚¹æ’å…¥çš„æ—¶å€™ï¼ŒæŽ¥è§¦åˆ°äº†å†…éƒ¨æ’å…¥çš„å‡ ä¸ªæ–¹æ³•ï¼Œè¿™èŠ‚æˆ‘ä»¬å¼€å§‹è®²å¤–éƒ¨æ’å…¥çš„å¤„ç†ï¼Œä¹Ÿå°±æ˜¯å…„å¼Ÿä¹‹é—´çš„å…³ç³»å¤„ç†ï¼Œè¿™é‡ŒjQueryå¼•å…¥äº†2ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥åœ¨åŒ¹é…Içš„å…ƒç´ å‰åŽæ’å…¥å†…å®¹ ![image-20190311090216128](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025546.jpg) - beforeä¸Žafteréƒ½æ˜¯ç”¨æ¥å¯¹ç›¸å¯¹é€‰ä¸­å…ƒç´ å¤–éƒ¨å¢žåŠ ç›¸é‚»çš„å…„å¼ŸèŠ‚ç‚¹ - 2ä¸ªæ–¹æ³•éƒ½æ˜¯éƒ½å¯ä»¥æŽ¥æ”¶HTMLå­—ç¬¦ä¸²ï¼ŒDOM å…ƒç´ ï¼Œå…ƒç´ æ•°ç»„ï¼Œæˆ–è€…jQueryå¯¹è±¡ï¼Œç”¨æ¥æ’å…¥åˆ°é›†åˆä¸­æ¯ä¸ªåŒ¹é…å…ƒç´ çš„å‰é¢æˆ–è€…åŽé¢ - 2ä¸ªæ–¹æ³•éƒ½æ”¯æŒå¤šä¸ªå‚æ•°ä¼ é€’after(div1,div2,....) å¯ä»¥å‚è€ƒå³è¾¹æ¡ˆä¾‹ä»£ç  - afterå‘å…ƒç´ çš„åŽè¾¹æ·»åŠ htmlä»£ç ï¼Œå¦‚æžœå…ƒç´ åŽé¢æœ‰å…ƒç´ äº†ï¼Œé‚£å°†åŽé¢çš„å…ƒç´ åŽç§»ï¼Œç„¶åŽå°†htmlä»£ç æ’å…¥ - beforeå‘å…ƒç´ çš„å‰è¾¹æ·»åŠ htmlä»£ç ï¼Œå¦‚æžœå…ƒç´ å‰é¢æœ‰å…ƒç´ äº†ï¼Œé‚£å°†å‰é¢çš„å…ƒç´ å‰ç§»ï¼Œç„¶åŽå°†htmlä»£ç æ’ 12345678910&lt;body&gt; &lt;h2&gt;é€šè¿‡beforeä¸Žafteræ·»åŠ å…ƒç´ &lt;/h2&gt; &lt;button id="bt1"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„beforeæ·»åŠ å…ƒç´ &lt;/button&gt; &lt;button id="bt2"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„afteræ·»åŠ å…ƒç´ &lt;/button&gt; &lt;div class="aaron"&gt; &lt;p class="test1"&gt;æµ‹è¯•before&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p class="test2"&gt;æµ‹è¯•after&lt;/p&gt; &lt;/div&gt; 123456&lt;script type="text/javascript"&gt; $("#bt1").on('click', function() &#123; //åœ¨åŒ¹é…test1å…ƒç´ é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ å‰é¢æ’å…¥på…ƒç´  $(".test1").before('&lt;p style="color:red"&gt;before,åœ¨åŒ¹é…å…ƒç´ ä¹‹å‰å¢žåŠ &lt;/p&gt;', '&lt;p style="color:red"&gt;å¤šå‚æ•°&lt;/p&gt;') &#125;)&lt;/script&gt; 1234567&lt;script type="text/javascript"&gt; $("#bt2").on('click', function() &#123; //åœ¨åŒ¹é…test1å…ƒç´ é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ åŽé¢æ’å…¥på…ƒç´  $(".test2").after('&lt;p style="color:blue"&gt;after,åœ¨åŒ¹é…å…ƒç´ ä¹‹åŽå¢žåŠ &lt;/p&gt;', '&lt;p style="color:blue"&gt;å¤šå‚æ•°&lt;/p&gt;') &#125;) &lt;/script&gt; --- ![image-20190311090518464](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025548.jpg) --- # DOMå†…éƒ¨æ’å…¥prepend()ä¸ŽprependTo() åœ¨å…ƒç´ å†…éƒ¨è¿›è¡Œæ“ä½œçš„æ–¹æ³•ï¼Œé™¤äº†åœ¨è¢«é€‰å…ƒç´ çš„ç»“å°¾ï¼ˆä»ç„¶åœ¨å†…éƒ¨ï¼‰é€šè¿‡appendä¸ŽappendToæ’å…¥æŒ‡å®šå†…å®¹å¤–ï¼Œç›¸åº”çš„è¿˜å¯ä»¥åœ¨è¢«é€‰å…ƒç´ ä¹‹å‰æ’å…¥ï¼ŒjQueryæä¾›çš„æ–¹æ³•æ˜¯prependä¸ŽprependTo ![image-20190311090618510](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025559.jpg) --- é€šè¿‡å³è¾¹ä»£ç å¯ä»¥çœ‹åˆ°prependä¸ŽprependToçš„ä½¿ç”¨åŠåŒºåˆ«ï¼š - .prepend()æ–¹æ³•å°†æŒ‡å®šå…ƒç´ æ’å…¥åˆ°åŒ¹é…å…ƒç´ é‡Œé¢ä½œä¸ºå®ƒçš„ç¬¬ä¸€ä¸ªå­å…ƒç´  (å¦‚æžœè¦ä½œä¸ºæœ€åŽä¸€ä¸ªå­å…ƒç´ æ’å…¥ç”¨.append()). - .prepend()å’Œ.prependTo()å®žçŽ°åŒæ ·çš„åŠŸèƒ½ï¼Œä¸»è¦çš„ä¸åŒæ˜¯è¯­æ³•ï¼Œæ’å…¥çš„å†…å®¹å’Œç›®æ ‡çš„ä½ç½®ä¸åŒ - å¯¹äºŽ.prepend() è€Œè¨€ï¼Œé€‰æ‹©å™¨è¡¨è¾¾å¼å†™åœ¨æ–¹æ³•çš„å‰é¢ï¼Œä½œä¸ºå¾…æ’å…¥å†…å®¹çš„å®¹å™¨ï¼Œå°†è¦è¢«æ’å…¥çš„å†…å®¹ä½œä¸ºæ–¹æ³•çš„å‚æ•° - è€Œ.prependTo() æ­£å¥½ç›¸åï¼Œå°†è¦è¢«æ’å…¥çš„å†…å®¹å†™åœ¨æ–¹æ³•çš„å‰é¢ï¼Œå¯ä»¥æ˜¯é€‰æ‹©å™¨è¡¨è¾¾å¼æˆ–åŠ¨æ€åˆ›å»ºçš„æ ‡è®°ï¼Œå¾…æ’å…¥å†…å®¹çš„å®¹å™¨ä½œä¸ºå‚æ•°ã€‚ è¿™é‡Œæ€»ç»“ä¸‹å†…éƒ¨æ“ä½œå››ä¸ªæ–¹æ³•çš„åŒºåˆ«ï¼š - append()å‘æ¯ä¸ªåŒ¹é…çš„å…ƒç´ å†…éƒ¨è¿½åŠ å†…å®¹ - prepend()å‘æ¯ä¸ªåŒ¹é…çš„å…ƒç´ å†…éƒ¨å‰ç½®å†…å®¹ - appendTo()æŠŠæ‰€æœ‰åŒ¹é…çš„å…ƒç´ è¿½åŠ åˆ°å¦ä¸€ä¸ªæŒ‡å®šå…ƒç´ çš„é›†åˆä¸­ - prependTo()æŠŠæ‰€æœ‰åŒ¹é…çš„å…ƒç´ å‰ç½®åˆ°å¦ä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ é›†åˆä¸­ --- 123456789&lt;h2&gt;é€šè¿‡prependä¸ŽprependToæ·»åŠ å…ƒç´ &lt;/h2&gt; &lt;button id="bt1"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„prependæ·»åŠ å…ƒç´ &lt;/button&gt; &lt;button id="bt2"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„prependToæ·»åŠ å…ƒç´ &lt;/button&gt; &lt;div class="aaron1"&gt; &lt;p&gt;æµ‹è¯•prepend&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron2"&gt; &lt;p&gt;æµ‹è¯•prependTo&lt;/p&gt; &lt;/div&gt; 123456$("#bt1").on('click', function() &#123; //æ‰¾åˆ°class="aaron1"çš„divèŠ‚ç‚¹ //ç„¶åŽé€šè¿‡prependåœ¨å†…éƒ¨çš„é¦–ä½ç½®æ·»åŠ ä¸€ä¸ªæ–°çš„pèŠ‚ç‚¹ $('.aaron1') .prepend('&lt;p&gt;prependå¢žåŠ çš„på…ƒç´ &lt;/p&gt;')&#125;) 1234567&lt;script type="text/javascript"&gt; $("#bt2").on('click', function() &#123; //æ‰¾åˆ°class="aaron2"çš„divèŠ‚ç‚¹ //ç„¶åŽé€šè¿‡prependToå†…éƒ¨çš„é¦–ä½ç½®æ·»åŠ ä¸€ä¸ªæ–°çš„pèŠ‚ç‚¹ $('&lt;p&gt;prependToå¢žåŠ çš„på…ƒç´ &lt;/p&gt;') .prependTo($('.aaron2')) &#125;) ![image-20190311090917184](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025604.jpg) --- ![image-20190311093931113](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025607.jpg) --- # DOMå¤–éƒ¨æ’å…¥insertAfter()ä¸ŽinsertBefore() ä¸Žå†…éƒ¨æ’å…¥å¤„ç†ä¸€æ ·ï¼ŒjQueryç”±äºŽå†…å®¹ç›®æ ‡çš„ä½ç½®ä¸åŒï¼Œç„¶å¢žåŠ äº†2ä¸ªæ–°çš„æ–¹æ³•insertAfterä¸ŽinsertBefore ![image-20190311094156294](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025610.jpg) --- - .before()å’Œ.insertBefore()å®žçŽ°åŒæ ·çš„åŠŸèƒ½ã€‚ä¸»è¦çš„åŒºåˆ«æ˜¯è¯­æ³•â€”â€”å†…å®¹å’Œç›®æ ‡çš„ä½ç½®ã€‚ å¯¹äºŽbefore()é€‰æ‹©è¡¨è¾¾å¼åœ¨å‡½æ•°å‰é¢ï¼Œå†…å®¹ä½œä¸ºå‚æ•°ï¼Œè€Œ.insertBefore()åˆšå¥½ç›¸åï¼Œå†…å®¹åœ¨æ–¹æ³•å‰é¢ï¼Œå®ƒå°†è¢«æ”¾åœ¨å‚æ•°é‡Œå…ƒç´ çš„å‰é¢ - .after()å’Œ.insertAfter() å®žçŽ°åŒæ ·çš„åŠŸèƒ½ã€‚ä¸»è¦çš„ä¸åŒæ˜¯è¯­æ³•â€”â€”ç‰¹åˆ«æ˜¯ï¼ˆæ’å…¥ï¼‰å†…å®¹å’Œç›®æ ‡çš„ä½ç½®ã€‚ å¯¹äºŽafter()é€‰æ‹©è¡¨è¾¾å¼åœ¨å‡½æ•°çš„å‰é¢ï¼Œå‚æ•°æ˜¯å°†è¦æ’å…¥çš„å†…å®¹ã€‚å¯¹äºŽ .insertAfter(), åˆšå¥½ç›¸åï¼Œå†…å®¹åœ¨æ–¹æ³•å‰é¢ï¼Œå®ƒå°†è¢«æ”¾åœ¨å‚æ•°é‡Œå…ƒç´ çš„åŽé¢ - beforeã€afterä¸ŽinsertBeforeã€‚insertAfterçš„é™¤äº†ç›®æ ‡ä¸Žä½ç½®çš„ä¸åŒå¤–ï¼ŒåŽé¢çš„ä¸æ”¯æŒå¤šå‚æ•°å¤„ç† 123æ³¨æ„äº‹é¡¹ï¼šinsertAfterå°†JQueryå°è£…å¥½çš„å…ƒç´ æ’å…¥åˆ°æŒ‡å®šå…ƒç´ çš„åŽé¢ï¼Œå¦‚æžœå…ƒç´ åŽé¢æœ‰å…ƒç´ äº†ï¼Œé‚£å°†åŽé¢çš„å…ƒç´ åŽç§»ï¼Œç„¶åŽå°†JQueryå¯¹è±¡æ’å…¥ï¼›insertBeforeå°†JQueryå°è£…å¥½çš„å…ƒç´ æ’å…¥åˆ°æŒ‡å®šå…ƒç´ çš„å‰é¢ï¼Œå¦‚æžœå…ƒç´ å‰é¢æœ‰å…ƒç´ äº†ï¼Œé‚£å°†å‰é¢çš„å…ƒç´ å‰ç§»ï¼Œç„¶åŽå°†JQueryå¯¹è±¡æ’å…¥ï¼› 12345678910&lt;h2&gt;é€šè¿‡insertBeforeä¸ŽinsertAfteræ·»åŠ å…ƒç´ &lt;/h2&gt; &lt;button id="bt1"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„insertBeforeæ·»åŠ å…ƒç´ &lt;/button&gt; &lt;button id="bt2"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„insertAfteræ·»åŠ å…ƒç´ &lt;/button&gt; &lt;div class="aaron"&gt; &lt;p class="test1"&gt;æµ‹è¯•insertBefore,ä¸æ”¯æŒå¤šå‚æ•°&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p class="test2"&gt;æµ‹è¯•insertAfter,ä¸æ”¯æŒå¤šå‚æ•°&lt;/p&gt; &lt;/div&gt; --- 12345678&lt;script type="text/javascript"&gt; $("#bt1").on('click', function() &#123; //åœ¨test1å…ƒç´ å‰åŽæ’å…¥é›†åˆä¸­æ¯ä¸ªåŒ¹é…çš„å…ƒç´  //ä¸æ”¯æŒå¤šå‚æ•° $('&lt;p style="color:red"&gt;æµ‹è¯•insertBeforeæ–¹æ³•å¢žåŠ &lt;/p&gt;', '&lt;p style="color:red"&gt;å¤šå‚æ•°&lt;/p&gt;').insertBefore($(".test1")) &#125;) &lt;/script&gt; 1234567&lt;script type="text/javascript"&gt; $("#bt2").on('click', function() &#123; //åœ¨test2å…ƒç´ å‰åŽæ’å…¥é›†åˆä¸­æ¯ä¸ªåŒ¹é…çš„å…ƒç´  //ä¸æ”¯æŒå¤šå‚æ•° $('&lt;p style="color:red"&gt;æµ‹è¯•insertAfteræ–¹æ³•å¢žåŠ &lt;/p&gt;', '&lt;p style="color:red"&gt;å¤šå‚æ•°&lt;/p&gt;').insertAfter($(".test2")) &#125;) &lt;/script&gt; --- ![image-20190311094448653](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025613.jpg) --- # DOMèŠ‚ç‚¹åˆ é™¤ä¹‹empty()çš„åŸºæœ¬ç”¨æ³• è¦ç§»é™¤é¡µé¢ä¸ŠèŠ‚ç‚¹æ˜¯å¼€å‘è€…å¸¸è§çš„æ“ä½œï¼ŒjQueryæä¾›äº†å‡ ç§ä¸åŒçš„æ–¹æ³•ç”¨æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬å¼€ä»”ç»†äº†è§£ä¸‹emptyæ–¹æ³• empty é¡¾åæ€ä¹‰ï¼Œæ¸…ç©ºæ–¹æ³•ï¼Œä½†æ˜¯ä¸Žåˆ é™¤åˆæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå› ä¸ºå®ƒåªç§»é™¤äº† æŒ‡å®šå…ƒç´ ä¸­çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚ è¿™ä¸ªæ–¹æ³•ä¸ä»…ç§»é™¤å­å…ƒç´ ï¼ˆå’Œå…¶ä»–åŽä»£å…ƒç´ ï¼‰ï¼ŒåŒæ ·ç§»é™¤å…ƒç´ é‡Œçš„æ–‡æœ¬ã€‚å› ä¸ºï¼Œæ ¹æ®è¯´æ˜Žï¼Œå…ƒç´ é‡Œä»»ä½•æ–‡æœ¬å­—ç¬¦ä¸²éƒ½è¢«çœ‹åšæ˜¯è¯¥å…ƒç´ çš„å­èŠ‚ç‚¹ã€‚è¯·çœ‹ä¸‹é¢çš„HTMLï¼š 1&lt;div class=&quot;hello&quot;&gt;&lt;p&gt;æ…•è¯¾ç½‘&lt;/p&gt;&lt;/div&gt; å¦‚æžœæˆ‘ä»¬é€šè¿‡emptyæ–¹æ³•ç§»é™¤é‡Œé¢divçš„æ‰€æœ‰å…ƒç´ ï¼Œå®ƒåªæ˜¯æ¸…ç©ºå†…éƒ¨çš„htmlä»£ç ï¼Œä½†æ˜¯æ ‡è®°ä»ç„¶ç•™åœ¨DOMä¸­ 12345//é€šè¿‡emptyå¤„ç†$(&apos;.hello&apos;).empty()//ç»“æžœï¼š&lt;p&gt;æ…•è¯¾ç½‘&lt;/p&gt;è¢«ç§»é™¤&lt;div class=&quot;hello&quot;&gt;&lt;/div&gt; 12é€šè¿‡emptyç§»é™¤äº†å½“å‰divå…ƒç´ ä¸‹çš„æ‰€æœ‰på…ƒç´ ä½†æ˜¯æœ¬èº«id=testçš„divå…ƒç´ æ²¡æœ‰è¢«åˆ é™¤ 123456789101112&lt;h2&gt;é€šè¿‡emptyç§»é™¤å…ƒç´ &lt;/h2&gt;&lt;div id="test"&gt; &lt;p&gt;på…ƒç´ 1&lt;/p&gt; &lt;p&gt;på…ƒç´ 2&lt;/p&gt;&lt;/div&gt;&lt;button&gt;ç‚¹å‡»é€šè¿‡jQueryçš„emptyç§»é™¤å…ƒç´ &lt;/button&gt;&lt;script type="text/javascript"&gt;$("button").on('click', function() &#123; //é€šè¿‡emptyç§»é™¤äº†å½“å‰divå…ƒç´ ä¸‹çš„æ‰€æœ‰på…ƒç´  //ä½†æ˜¯æœ¬èº«id=testçš„divå…ƒç´ æ²¡æœ‰è¢«åˆ é™¤ $("#test").empty()&#125;) ![image-20190311095432041](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025618.jpg) --- ![image-20190311095442913](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025619.jpg) --- # DOMèŠ‚ç‚¹åˆ é™¤ä¹‹remove()çš„æœ‰å‚ç”¨æ³•å’Œæ— å‚ç”¨æ³• removeä¸Žemptyä¸€æ ·ï¼Œéƒ½æ˜¯ç§»é™¤å…ƒç´ çš„æ–¹æ³•ï¼Œä½†æ˜¯removeä¼šå°†å…ƒç´ è‡ªèº«ç§»é™¤ï¼ŒåŒæ—¶ä¹Ÿä¼šç§»é™¤å…ƒç´ å†…éƒ¨çš„ä¸€åˆ‡ï¼ŒåŒ…æ‹¬ç»‘å®šçš„äº‹ä»¶åŠä¸Žè¯¥å…ƒç´ ç›¸å…³çš„jQueryæ•°æ®ã€‚ ä¾‹å¦‚ä¸€æ®µèŠ‚ç‚¹ï¼Œç»‘å®šç‚¹å‡»äº‹ä»¶ 12&lt;div class="hello"&gt;&lt;p&gt;æ…•è¯¾ç½‘&lt;/p&gt;&lt;/div&gt;$('.hello').on("click",fn) å¦‚æžœä¸é€šè¿‡removeæ–¹æ³•åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹å…¶å®žä¹Ÿå¾ˆç®€å•ï¼Œä½†æ˜¯åŒæ—¶éœ€è¦æŠŠäº‹ä»¶ç»™é”€æ¯æŽ‰ï¼Œè¿™é‡Œæ˜¯ä¸ºäº†é˜²æ­¢"å†…å­˜æ³„æ¼"ï¼Œæ‰€ä»¥å‰ç«¯å¼€å‘è€…ä¸€å®šè¦æ³¨æ„ï¼Œç»‘äº†å¤šå°‘äº‹ä»¶ï¼Œä¸ç”¨çš„æ—¶å€™ä¸€å®šè¦è®°å¾—é”€æ¯ é€šè¿‡removeæ–¹æ³•ç§»é™¤divåŠå…¶å†…éƒ¨æ‰€æœ‰å…ƒç´ ï¼Œremoveå†…éƒ¨ä¼šè‡ªåŠ¨æ“ä½œäº‹ä»¶é”€æ¯æ–¹æ³•ï¼Œæ‰€ä»¥ä½¿ç”¨ä½¿ç”¨èµ·æ¥éžå¸¸ç®€å• 1234//é€šè¿‡removeå¤„ç†$(&apos;.hello&apos;).remove()//ç»“æžœï¼š&lt;div class=&quot;hello&quot;&gt;&lt;p&gt;æ…•è¯¾ç½‘&lt;/p&gt;&lt;/div&gt; å…¨éƒ¨è¢«ç§»é™¤//èŠ‚ç‚¹ä¸å­˜åœ¨äº†,åŒäº‹äº‹ä»¶ä¹Ÿä¼šè¢«é”€æ¯ **removeè¡¨è¾¾å¼å‚æ•°ï¼š** removeæ¯”emptyå¥½ç”¨çš„åœ°æ–¹å°±æ˜¯å¯ä»¥ä¼ é€’ä¸€ä¸ªé€‰æ‹©å™¨è¡¨è¾¾å¼ç”¨æ¥è¿‡æ»¤å°†è¢«ç§»é™¤çš„åŒ¹é…å…ƒç´ é›†åˆï¼Œå¯ä»¥é€‰æ‹©æ€§çš„åˆ é™¤æŒ‡å®šçš„èŠ‚ç‚¹ æˆ‘ä»¬å¯ä»¥é€šè¿‡$()é€‰æ‹©ä¸€ç»„ç›¸åŒçš„å…ƒç´ ï¼Œç„¶åŽé€šè¿‡removeï¼ˆï¼‰ä¼ é€’ç­›é€‰çš„è§„åˆ™ï¼Œä»Žè€Œè¿™æ ·å¤„ç† å¯¹æ¯”å³è¾¹çš„ä»£ç åŒºåŸŸï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»ä¼¼äºŽè¿™æ ·å¤„ç† 1$(&quot;p&quot;).filter(&quot;:contains(&apos;3&apos;)&quot;).remove() 1234567891011&lt;h2&gt;é€šè¿‡jQuery removeæ–¹æ³•ç§»é™¤å…ƒç´ &lt;/h2&gt; &lt;div class="test1"&gt; &lt;p&gt;på…ƒç´ 1&lt;/p&gt; &lt;p&gt;på…ƒç´ 2&lt;/p&gt; &lt;/div&gt; &lt;div class="test2"&gt; &lt;p&gt;på…ƒç´ 3&lt;/p&gt; &lt;p&gt;på…ƒç´ 4&lt;/p&gt; &lt;/div&gt; &lt;button&gt;é€šè¿‡ç‚¹å‡»jQueryçš„removeç§»é™¤å…ƒç´ &lt;/button&gt; &lt;button&gt;é€šè¿‡ç‚¹å‡»jQueryçš„removeç§»é™¤æŒ‡å®šå…ƒç´ &lt;/button&gt; 12345&lt;script type="text/javascript"&gt; $("button:first").on('click', function() &#123; //åˆ é™¤æ•´ä¸ª class=test1çš„divèŠ‚ç‚¹ $(".test1").remove() &#125;) 12345$("button:last").on('click', function() &#123; //æ‰¾åˆ°æ‰€æœ‰på…ƒç´ ä¸­ï¼ŒåŒ…å«äº†3çš„å…ƒç´  //è¿™ä¸ªä¹Ÿæ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨çš„å¤„ç† $("p").remove(":contains('3')")&#125;) ![image-20190311095903962](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025621.jpg) --- ![image-20190311095915688](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025626.jpg) --- # DOMèŠ‚ç‚¹åˆ é™¤ä¹‹emptyå’ŒremoveåŒºåˆ« 1234567891011è¦ç”¨åˆ°ç§»é™¤æŒ‡å®šå…ƒç´ çš„æ—¶å€™ï¼ŒjQueryæä¾›äº†empty()ä¸Žremove([expr])äºŒä¸ªæ–¹æ³•ï¼Œä¸¤ä¸ªéƒ½æ˜¯åˆ é™¤å…ƒç´ ï¼Œä½†æ˜¯ä¸¤è€…è¿˜æ˜¯æœ‰åŒºåˆ«emptyæ–¹æ³•ä¸¥æ ¼åœ°è®²ï¼Œempty()æ–¹æ³•å¹¶ä¸æ˜¯åˆ é™¤èŠ‚ç‚¹ï¼Œè€Œæ˜¯æ¸…ç©ºèŠ‚ç‚¹ï¼Œå®ƒèƒ½æ¸…ç©ºå…ƒç´ ä¸­çš„æ‰€æœ‰åŽä»£èŠ‚ç‚¹emptyä¸èƒ½åˆ é™¤è‡ªå·±æœ¬èº«è¿™ä¸ªèŠ‚ç‚¹removeæ–¹æ³•è¯¥èŠ‚ç‚¹ä¸Žè¯¥èŠ‚ç‚¹æ‰€åŒ…å«çš„æ‰€æœ‰åŽä»£èŠ‚ç‚¹å°†åŒæ—¶è¢«åˆ é™¤æä¾›ä¼ é€’ä¸€ä¸ªç­›é€‰çš„è¡¨è¾¾å¼ï¼Œåˆ é™¤æŒ‡å®šåˆé›†ä¸­çš„å…ƒç´ ä»¥ä¸Šå°±æ˜¯äºŒè€…çš„åŒºåˆ«ï¼Œæˆ‘ä»¬å…·ä½“é€šè¿‡å³è¾¹ä»£ç éƒ¨åˆ†åŠ æ·±ç†è§£ 123456789101112131415&lt;h2&gt;é€šè¿‡emptyä¸Žremoveç§»é™¤å…ƒç´ &lt;/h2&gt; &lt;div class="left"&gt; &lt;button id="bt1"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„emptyç§»é™¤å†…éƒ¨På…ƒç´ &lt;/button&gt; &lt;button id="bt2"&gt;ç‚¹å‡»é€šè¿‡jQueryçš„removeç§»é™¤æ•´ä¸ªèŠ‚ç‚¹&lt;/button&gt; &lt;/div&gt; &lt;div class="right"&gt; &lt;div id="test1"&gt; &lt;p&gt;på…ƒç´ 1&lt;/p&gt; &lt;p&gt;på…ƒç´ 2&lt;/p&gt; &lt;/div&gt; &lt;div id="test2"&gt; &lt;p&gt;på…ƒç´ 3&lt;/p&gt; &lt;p&gt;på…ƒç´ 4&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; 1234567891011&lt;script type="text/javascript"&gt; $("#bt1").on('click', function() &#123; //åˆ é™¤äº†2ä¸ªpå…ƒç´ ï¼Œä½†æ˜¯æœ¬ç€æ²¡æœ‰åˆ é™¤ $("#test1").empty() &#125;) $("#bt2").on('click', function() &#123; //åˆ é™¤æ•´ä¸ªèŠ‚ç‚¹ $("#test2").remove() &#125;) &lt;/script&gt; ![image-20190311100126080](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025627.jpg) ![image-20190311100139394](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025630.jpg) --- # DOMèŠ‚ç‚¹åˆ é™¤ä¹‹ä¿ç•™æ•°æ®çš„åˆ é™¤æ“ä½œdetach() å¦‚æžœæˆ‘ä»¬å¸Œæœ›ä¸´æ—¶åˆ é™¤é¡µé¢ä¸Šçš„èŠ‚ç‚¹ï¼Œä½†æ˜¯åˆä¸å¸Œæœ›èŠ‚ç‚¹ä¸Šçš„æ•°æ®ä¸Žäº‹ä»¶ä¸¢å¤±ï¼Œå¹¶ä¸”èƒ½åœ¨ä¸‹ä¸€ä¸ªæ—¶é—´æ®µè®©è¿™ä¸ªåˆ é™¤çš„èŠ‚ç‚¹æ˜¾ç¤ºåˆ°é¡µé¢ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨detachæ–¹æ³•æ¥å¤„ç† detachä»Žå­—é¢ä¸Šå°±å¾ˆå®¹æ˜“ç†è§£ã€‚è®©ä¸€ä¸ªwebå…ƒç´ æ‰˜ç®¡ã€‚å³ä»Žå½“å‰é¡µé¢ä¸­ç§»é™¤è¯¥å…ƒç´ ï¼Œä½†ä¿ç•™è¿™ä¸ªå…ƒç´ çš„å†…å­˜æ¨¡åž‹å¯¹è±¡ã€‚ æ¥çœ‹çœ‹jqueryå®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼š 12è¿™ä¸ªæ–¹æ³•ä¸ä¼šæŠŠåŒ¹é…çš„å…ƒç´ ä»ŽjQueryå¯¹è±¡ä¸­åˆ é™¤ï¼Œå› è€Œå¯ä»¥åœ¨å°†æ¥å†ä½¿ç”¨è¿™äº›åŒ¹é…çš„å…ƒç´ ã€‚ä¸Žremove()ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰ç»‘å®šçš„äº‹ä»¶ã€é™„åŠ çš„æ•°æ®ç­‰éƒ½ä¼šä¿ç•™ä¸‹æ¥ã€‚$(&quot;div&quot;).detach()è¿™ä¸€å¥ä¼šç§»é™¤å¯¹è±¡ï¼Œä»…ä»…æ˜¯æ˜¾ç¤ºæ•ˆæžœæ²¡æœ‰äº†ã€‚ä½†æ˜¯å†…å­˜ä¸­è¿˜æ˜¯å­˜åœ¨çš„ã€‚å½“ä½ appendä¹‹åŽï¼Œåˆé‡æ–°å›žåˆ°äº†æ–‡æ¡£æµä¸­ã€‚å°±åˆæ˜¾ç¤ºå‡ºæ¥äº†ã€‚ å½“ç„¶è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œdetachæ–¹æ³•æ˜¯JQueryç‰¹æœ‰çš„ï¼Œæ‰€ä»¥å®ƒåªèƒ½å¤„ç†é€šè¿‡JQueryçš„æ–¹æ³•ç»‘å®šçš„äº‹ä»¶æˆ–è€…æ•°æ® å‚è€ƒå³è¾¹çš„ä»£ç åŒºåŸŸï¼Œé€šè¿‡ $("p").detach()æŠŠæ‰€æœ‰çš„På…ƒç´ åˆ é™¤åŽï¼Œå†é€šè¿‡appendæŠŠåˆ é™¤çš„på…ƒç´ æ”¾åˆ°é¡µé¢ä¸Šï¼Œé€šè¿‡ç‚¹å‡»æ–‡å­—ï¼Œå¯ä»¥è¯æ˜Žäº‹ä»¶æ²¡æœ‰ä¸¢å¤± På…ƒç´ 1ï¼Œé»˜è®¤ç»™ç»‘å®šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ 123&lt;p&gt;På…ƒç´ 2ï¼Œé»˜è®¤ç»™ç»‘å®šä¸€ä¸ªç‚¹å‡»äº‹ä»¶&lt;/p&gt;&lt;button id="bt1"&gt;ç‚¹å‡»åˆ é™¤ p å…ƒç´ &lt;/button&gt;&lt;button id="bt2"&gt;ç‚¹å‡»ç§»åŠ¨ p å…ƒç´ &lt;/button&gt; 12345678910111213141516171819&lt;script type="text/javascript"&gt; $('p').click(function(e) &#123; alert(e.target.innerHTML) &#125;) var p; $("#bt1").click(function() &#123; if (!$("p").length) return; //åŽ»é‡ //é€šè¿‡detachæ–¹æ³•åˆ é™¤å…ƒç´  //åªæ˜¯é¡µé¢ä¸å¯è§ï¼Œä½†æ˜¯è¿™ä¸ªèŠ‚ç‚¹è¿˜æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ //æ•°æ®ä¸Žäº‹ä»¶éƒ½ä¸ä¼šä¸¢å¤± p = $("p").detach() &#125;); $("#bt2").click(function() &#123; //æŠŠpå…ƒç´ åœ¨æ·»åŠ åˆ°é¡µé¢ä¸­ //äº‹ä»¶è¿˜æ˜¯å­˜åœ¨ $("body").append(p); &#125;); &lt;/script&gt; --- ![image-20190311101545162](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025633.jpg) > é€šè¿‡ $("p").detach()æŠŠæ‰€æœ‰çš„På…ƒç´ åˆ é™¤åŽ # DOMèŠ‚ç‚¹åˆ é™¤ä¹‹detach()å’Œremove()åŒºåˆ« remove()å’Œdetach()å¯èƒ½å°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªï¼Œå¯èƒ½remove()æˆ‘ä»¬ç”¨å¾—æ¯”è¾ƒå¤šï¼Œè€Œdetach()å°±å¯èƒ½ä¼šå¾ˆå°‘äº† ![image-20190311101654121](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025645.jpg) **remove****ï¼š**ç§»é™¤èŠ‚ç‚¹ - æ— å‚æ•°ï¼Œç§»é™¤è‡ªèº«æ•´ä¸ªèŠ‚ç‚¹ä»¥åŠè¯¥èŠ‚ç‚¹çš„å†…éƒ¨çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹ä¸Šäº‹ä»¶ä¸Žæ•°æ® - æœ‰å‚æ•°ï¼Œç§»é™¤ç­›é€‰å‡ºçš„èŠ‚ç‚¹ä»¥åŠè¯¥èŠ‚ç‚¹çš„å†…éƒ¨çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹ä¸Šäº‹ä»¶ä¸Žæ•°æ® **detach****ï¼š**ç§»é™¤èŠ‚ç‚¹ - ç§»é™¤çš„å¤„ç†ä¸Žremoveä¸€è‡´ - ä¸Žremove()ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰ç»‘å®šçš„äº‹ä»¶ã€é™„åŠ çš„æ•°æ®ç­‰éƒ½ä¼šä¿ç•™ä¸‹æ¥ - ä¾‹å¦‚ï¼š$("p").detach()è¿™ä¸€å¥ä¼šç§»é™¤å¯¹è±¡ï¼Œä»…ä»…æ˜¯æ˜¾ç¤ºæ•ˆæžœæ²¡æœ‰äº†ã€‚ä½†æ˜¯å†…å­˜ä¸­è¿˜æ˜¯å­˜åœ¨çš„ã€‚å½“ä½ appendä¹‹åŽï¼Œåˆé‡æ–°å›žåˆ°äº†æ–‡æ¡£æµä¸­ã€‚å°±åˆæ˜¾ç¤ºå‡ºæ¥äº†ã€‚ 12345678910111213141516171819202122232425 &lt;h3&gt;ç»™é¡µé¢2ä¸ªpå…ƒç´ èŠ‚ç‚¹ç»‘å®šç‚¹å‡»äº‹ä»¶,ç‚¹å‡»åŽå¼¹å‡ºè‡ªå·±æœ¬èº«çš„èŠ‚ç‚¹å†…å®¹&lt;/h3&gt; &lt;p&gt;å…ƒç´ p1ï¼ŒåŒæ—¶ç»‘å®šç‚¹å‡»äº‹ä»¶&lt;/p&gt; &lt;p&gt;å…ƒç´ p2ï¼ŒåŒæ—¶ç»‘å®šç‚¹å‡»äº‹ä»¶&lt;/p&gt; &lt;h3&gt;é€šè¿‡ç‚¹å‡»2ä¸ªæŒ‰é’®åŽè§‚å¯Ÿæ–¹æ³•å¤„ç†çš„åŒºåˆ«&lt;/h3&gt; &lt;button&gt;ç‚¹å‡»é€šè¿‡removeå¤„ç†å…ƒç´ p1&lt;/button&gt; &lt;button&gt;ç‚¹å‡»é€šè¿‡detachå¤„ç†å…ƒç´ p2&lt;/button&gt;&lt;/body&gt;&lt;script type="text/javascript"&gt; //ç»™é¡µé¢ä¸Š2ä¸ªpå…ƒç´ éƒ½ç»‘å®šæ—¶é—´ $('p').click(function(e) &#123; alert(e.target.innerHTML) &#125;) $("button:first").click(function() &#123; var p = $("p:first").remove(); p.css('color','red').text('p1é€šè¿‡removeå¤„ç†åŽ,ç‚¹å‡»è¯¥å…ƒç´ ,äº‹ä»¶ä¸¢å¤±') $("body").append(p); &#125;); $("button:last").click(function() &#123; var p = $("p:first").detach(); p.css('color','blue').text('p2é€šè¿‡detachå¤„ç†åŽ,ç‚¹å‡»è¯¥å…ƒç´ äº‹ä»¶å­˜åœ¨') $("body").append(p); &#125;);&lt;/script&gt; # DOMæ‹·è´clone() å…‹éš†èŠ‚ç‚¹æ˜¯DOMçš„å¸¸è§æ“ä½œï¼ŒjQueryæä¾›ä¸€ä¸ªcloneæ–¹æ³•ï¼Œä¸“é—¨ç”¨äºŽå¤„ç†domçš„å…‹éš† 1.clone()æ–¹æ³•æ·±åº¦ å¤åˆ¶æ‰€æœ‰åŒ¹é…çš„å…ƒç´ é›†åˆï¼ŒåŒ…æ‹¬æ‰€æœ‰åŒ¹é…å…ƒç´ ã€åŒ¹é…å…ƒç´ çš„ä¸‹çº§å…ƒç´ ã€æ–‡å­—èŠ‚ç‚¹ã€‚ cloneæ–¹æ³•æ¯”è¾ƒç®€å•å°±æ˜¯å…‹éš†èŠ‚ç‚¹ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œå¦‚æžœèŠ‚ç‚¹æœ‰äº‹ä»¶æˆ–è€…æ•°æ®ä¹‹ç±»çš„å…¶ä»–å¤„ç†ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡clone(ture)ä¼ é€’ä¸€ä¸ªå¸ƒå°”å€¼tureç”¨æ¥æŒ‡å®šï¼Œè¿™æ ·ä¸ä»…ä»…åªæ˜¯å…‹éš†å•çº¯çš„èŠ‚ç‚¹ç»“æž„ï¼Œè¿˜è¦æŠŠé™„å¸¦çš„äº‹ä»¶ä¸Žæ•°æ®ç»™ä¸€å¹¶å…‹éš†äº† 1234567891011HTMLéƒ¨åˆ†&lt;div&gt;&lt;/div&gt;JavaScriptéƒ¨åˆ†$("div").on('click', function() &#123;//æ‰§è¡Œæ“ä½œ&#125;)//cloneå¤„ç†ä¸€$("div").clone() //åªå…‹éš†äº†ç»“æž„ï¼Œäº‹ä»¶ä¸¢å¤±//cloneå¤„ç†äºŒ$("div").clone(true) //ç»“æž„ã€äº‹ä»¶ä¸Žæ•°æ®éƒ½å…‹éš† ä½¿ç”¨ä¸Šå°±æ˜¯è¿™æ ·ç®€å•ï¼Œä½¿ç”¨å…‹éš†çš„æˆ‘ä»¬éœ€è¦é¢å¤–çŸ¥é“çš„ç»†èŠ‚ï¼š - clone()æ–¹æ³•æ—¶ï¼Œåœ¨å°†å®ƒæ’å…¥åˆ°æ–‡æ¡£ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹å…‹éš†åŽçš„å…ƒç´ æˆ–è€…å…ƒç´ å†…å®¹ï¼Œå¦‚å³è¾¹ä»£ç æˆ‘ $(this).clone().css('color','red') å¢žåŠ äº†ä¸€ä¸ªé¢œè‰² - é€šè¿‡ä¼ é€’trueï¼Œå°†æ‰€æœ‰ç»‘å®šåœ¨åŽŸå§‹å…ƒç´ ä¸Šçš„äº‹ä»¶å¤„ç†å‡½æ•°å¤åˆ¶åˆ°å…‹éš†å…ƒç´ ä¸Š - clone()æ–¹æ³•æ˜¯jQueryæ‰©å±•çš„ï¼Œåªèƒ½å¤„ç†é€šè¿‡jQueryç»‘å®šçš„äº‹ä»¶ä¸Žæ•°æ® - å…ƒç´ æ•°æ®ï¼ˆdataï¼‰å†…å¯¹è±¡å’Œæ•°ç»„ä¸ä¼šè¢«å¤åˆ¶ï¼Œå°†ç»§ç»­è¢«å…‹éš†å…ƒç´ å’ŒåŽŸå§‹å…ƒç´ å…±äº«ã€‚æ·±å¤åˆ¶çš„æ‰€æœ‰æ•°æ®ï¼Œéœ€è¦æ‰‹åŠ¨å¤åˆ¶æ¯ä¸€ä¸ª --- é€šè¿‡cloneå…‹éš†å…ƒç´  1234&lt;div class="left"&gt; &lt;div class="aaron1"&gt;ç‚¹å‡»,cloneæµ…æ‹·è´&lt;/div&gt; &lt;div class="aaron2"&gt;ç‚¹å‡»,cloneæ·±æ‹·è´,å¯ä»¥ç»§ç»­è§¦å‘åˆ›å»º&lt;/div&gt;&lt;/div&gt; 1234567&lt;script type="text/javascript"&gt; //åªå…‹éš†èŠ‚ç‚¹ //ä¸å…‹éš†äº‹ä»¶ $(".aaron1").on('click', function() &#123; $(".left").append( $(this).clone().css('color','red') ) &#125;) &lt;/script&gt; ![image-20190311102443530](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025648.jpg) --- 12345678&lt;script type="text/javascript"&gt; //å…‹éš†èŠ‚ç‚¹ //å…‹éš†äº‹ä»¶ $(".aaron2").on('click', function() &#123; console.log(1) $(".left").append( $(this).clone(true).css('color','blue') ) &#125;) &lt;/script&gt; ![image-20190311102510959](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025654.jpg) --- #DOMæ›¿æ¢replaceWith()å’ŒreplaceAll() **.replaceWith( newContent )**ï¼šç”¨æä¾›çš„å†…å®¹æ›¿æ¢é›†åˆä¸­æ‰€æœ‰åŒ¹é…çš„å…ƒç´ å¹¶ä¸”è¿”å›žè¢«åˆ é™¤å…ƒç´ çš„é›†åˆ ç®€å•æ¥è¯´ï¼šç”¨$()é€‰æ‹©èŠ‚ç‚¹Aï¼Œè°ƒç”¨replaceWithæ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªæ–°çš„å†…å®¹Bï¼ˆHTMLå­—ç¬¦ä¸²ï¼ŒDOMå…ƒç´ ï¼Œæˆ–è€…jQueryå¯¹è±¡ï¼‰ç”¨æ¥æ›¿æ¢é€‰ä¸­çš„èŠ‚ç‚¹A çœ‹ä¸ªç®€å•çš„ä¾‹å­ï¼šä¸€æ®µHTMLä»£ç  12345&lt;div&gt; &lt;p&gt;ç¬¬ä¸€æ®µ&lt;/p&gt; &lt;p&gt;ç¬¬äºŒæ®µ&lt;/p&gt; &lt;p&gt;ç¬¬ä¸‰æ®µ&lt;/p&gt;&lt;/div&gt; æ›¿æ¢ç¬¬äºŒæ®µçš„èŠ‚ç‚¹ä¸Žå†…å®¹ 1$(&quot;p:eq(1)&quot;).replaceWith(&apos;&lt;a style=&quot;color:red&quot;&gt;æ›¿æ¢ç¬¬äºŒæ®µçš„å†…å®¹&lt;/a&gt;&apos;) é€šè¿‡jQueryç­›é€‰å‡ºç¬¬äºŒä¸ªpå…ƒç´ ï¼Œè°ƒç”¨replaceWithè¿›è¡Œæ›¿æ¢ï¼Œç»“æžœå¦‚ä¸‹ 12345&lt;div&gt; &lt;p&gt;ç¬¬ä¸€æ®µ&lt;/p&gt; &lt;a style=&quot;color:red&quot;&gt;æ›¿æ¢ç¬¬äºŒæ®µçš„å†…å®¹&lt;/a&gt;&apos; &lt;p&gt;ç¬¬ä¸‰æ®µ&lt;/p&gt;&lt;/div&gt; **.replaceAll( target )** **ï¼š**ç”¨é›†åˆçš„åŒ¹é…å…ƒç´ æ›¿æ¢æ¯ä¸ªç›®æ ‡å…ƒç´  .replaceAll()å’Œ.replaceWith()åŠŸèƒ½ç±»ä¼¼ï¼Œä½†æ˜¯ç›®æ ‡å’Œæºç›¸åï¼Œç”¨ä¸Šè¿°çš„HTMLç»“æž„ï¼Œæˆ‘ä»¬ç”¨replaceAllå¤„ç† 1$(&apos;&lt;a style=&quot;color:red&quot;&gt;æ›¿æ¢ç¬¬äºŒæ®µçš„å†…å®¹&lt;/a&gt;&apos;).replaceAll(&apos;p:eq(1)&apos;) æ€»ç»“ï¼š - .replaceAll()å’Œ.replaceWith()åŠŸèƒ½ç±»ä¼¼ï¼Œä¸»è¦æ˜¯ç›®æ ‡å’Œæºçš„ä½ç½®åŒºåˆ« - .replaceWith()ä¸Ž.replaceAll() æ–¹æ³•ä¼šåˆ é™¤ä¸ŽèŠ‚ç‚¹ç›¸å…³è”çš„æ‰€æœ‰æ•°æ®å’Œäº‹ä»¶å¤„ç†ç¨‹åº - .replaceWith()æ–¹æ³•ï¼Œå’Œå¤§éƒ¨åˆ†å…¶ä»–jQueryæ–¹æ³•ä¸€æ ·ï¼Œè¿”å›žjQueryå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥å’Œå…¶ä»–æ–¹æ³•é“¾æŽ¥ä½¿ç”¨ - .replaceWith()æ–¹æ³•è¿”å›žçš„jQueryå¯¹è±¡å¼•ç”¨çš„æ˜¯æ›¿æ¢å‰çš„èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯é€šè¿‡replaceWith/replaceAllæ–¹æ³•æ›¿æ¢åŽçš„èŠ‚ç‚¹ 1234567891011121314151617&lt;h2&gt;replaceWith()å’ŒreplaceAll()&lt;/h2&gt; &lt;div class="left"&gt; &lt;button class="bt1"&gt;ç‚¹å‡»,é€šè¿‡replaceWithæ›¿æ¢å†…å®¹&lt;/button&gt; &lt;button class="bt2"&gt;ç‚¹å‡»,é€šè¿‡rreplaceAllæ›¿æ¢å†…å®¹&lt;/button&gt; &lt;/div&gt; &lt;div class="right"&gt; &lt;div&gt; &lt;p&gt;ç¬¬ä¸€æ®µ&lt;/p&gt; &lt;p&gt;ç¬¬äºŒæ®µ&lt;/p&gt; &lt;p&gt;ç¬¬ä¸‰æ®µ&lt;/p&gt; &lt;/div&gt; &lt;div&gt; &lt;p&gt;ç¬¬å››æ®µ&lt;/p&gt; &lt;p&gt;ç¬¬äº”æ®µ&lt;/p&gt; &lt;p&gt;ç¬¬å…­æ®µ&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; 12345678&lt;script type="text/javascript"&gt; //åªå…‹éš†èŠ‚ç‚¹ //ä¸å…‹éš†äº‹ä»¶ $(".bt1").on('click', function() &#123; //æ‰¾åˆ°å†…å®¹ä¸ºç¬¬äºŒæ®µçš„på…ƒç´  //é€šè¿‡replaceWithåˆ é™¤å¹¶æ›¿æ¢è¿™ä¸ªèŠ‚ç‚¹ $(".right &gt; div:first p:eq(1)").replaceWith('&lt;a style="color:red"&gt;replaceWithæ›¿æ¢ç¬¬äºŒæ®µçš„å†…å®¹&lt;/a&gt;') &#125;) 1234567&lt;script type="text/javascript"&gt; //æ‰¾åˆ°å†…å®¹ä¸ºç¬¬å…­æ®µçš„på…ƒç´  //é€šè¿‡replaceAllåˆ é™¤å¹¶æ›¿æ¢è¿™ä¸ªèŠ‚ç‚¹ $(".bt2").on('click', function() &#123; $('&lt;a style="color:red"&gt;replaceAllæ›¿æ¢ç¬¬å…­æ®µçš„å†…å®¹&lt;/a&gt;').replaceAll('.right &gt; div:last p:last'); &#125;) &lt;/script&gt; # DOMåŒ…è£¹wrap()æ–¹æ³• å¦‚æžœè¦å°†å…ƒç´ ç”¨å…¶ä»–å…ƒç´ åŒ…è£¹èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯ç»™å®ƒå¢žåŠ ä¸€ä¸ªçˆ¶å…ƒç´ ï¼Œé’ˆå¯¹è¿™æ ·çš„å¤„ç†ï¼ŒJQueryæä¾›äº†ä¸€ä¸ªwrapæ–¹æ³• **.wrap( wrappingElement )****ï¼š**åœ¨é›†åˆä¸­åŒ¹é…çš„æ¯ä¸ªå…ƒç´ å‘¨å›´åŒ…è£¹ä¸€ä¸ªHTMLç»“æž„ ç®€å•çš„çœ‹ä¸€æ®µä»£ç ï¼š 1&lt;p&gt;på…ƒç´ &lt;/p&gt; ç»™på…ƒç´ å¢žåŠ ä¸€ä¸ªdivåŒ…è£¹ 1$(&apos;p&apos;).wrap(&apos;&lt;div&gt;&lt;/div&gt;&apos;) æœ€åŽçš„ç»“æž„ï¼Œpå…ƒç´ å¢žåŠ äº†ä¸€ä¸ªçˆ¶divçš„ç»“æž„ 123&lt;div&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt;&lt;/div&gt; **.wrap( function )** **ï¼š**ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œè¿”å›žç”¨äºŽåŒ…è£¹åŒ¹é…å…ƒç´ çš„ HTML å†…å®¹æˆ– jQuery å¯¹è±¡ ä½¿ç”¨åŽçš„æ•ˆæžœä¸Žç›´æŽ¥ä¼ é€’å‚æ•°æ˜¯ä¸€æ ·ï¼Œåªä¸è¿‡å¯ä»¥æŠŠä»£ç å†™åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œå†™æ³•ä¸åŒè€Œå·² ä»¥ç¬¬ä¸€ä¸ªæ¡ˆä¾‹ä¸ºä¾‹ï¼š 123$(&apos;p&apos;).wrap(function() &#123; return &apos;&lt;div&gt;&lt;/div&gt;&apos;; //ä¸Žç¬¬ä¸€ç§ç±»ä¼¼ï¼Œåªæ˜¯å†™æ³•ä¸ä¸€æ ·&#125;) .wrap()å‡½æ•°å¯ä»¥æŽ¥å—ä»»ä½•å­—ç¬¦ä¸²æˆ–å¯¹è±¡ï¼Œå¯ä»¥ä¼ é€’ç»™$()å·¥åŽ‚å‡½æ•°æ¥æŒ‡å®šä¸€ä¸ªDOMç»“æž„ã€‚è¿™ç§ç»“æž„å¯ä»¥åµŒå¥—äº†å¥½å‡ å±‚æ·±ï¼Œä½†åº”è¯¥åªåŒ…å«ä¸€ä¸ªæ ¸å¿ƒçš„å…ƒç´ ã€‚æ¯ä¸ªåŒ¹é…çš„å…ƒç´ éƒ½ä¼šè¢«è¿™ç§ç»“æž„åŒ…è£¹ã€‚è¯¥æ–¹æ³•è¿”å›žåŽŸå§‹çš„å…ƒç´ é›†ï¼Œä»¥ä¾¿ä¹‹åŽä½¿ç”¨é“¾å¼æ–¹æ³•ã€‚ DOMåŒ…è£¹wrap()æ–¹æ³• 123456789101112&lt;div class="left"&gt; &lt;button class="aaron1"&gt;ç‚¹å‡»,é€šè¿‡wrapæ–¹æ³•ç»™på…ƒç´ å¢žåŠ çˆ¶å®¹å™¨div&lt;/button&gt; &lt;button class="aaron2"&gt;ç‚¹å‡»,é€šè¿‡wrapçš„å›žè°ƒæ–¹æ³•ç»™aå…ƒç´ å¢žåŠ çˆ¶å®¹å™¨div&lt;/div&gt;&lt;/div&gt;&lt;div class="right"&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt;&lt;/div&gt;&lt;div class="left"&gt; &lt;a&gt;aå…ƒç´ &lt;/a&gt; &lt;a&gt;aå…ƒç´ &lt;/a&gt;&lt;/div&gt; 12345678910111213&lt;script type="text/javascript"&gt; $(".aaron1").on('click', function() &#123; //ç»™æ‰€æœ‰på…ƒç´ ï¼Œå¢žåŠ çˆ¶å®¹å™¨div $('p').wrap('&lt;div&gt;&lt;/div&gt;') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $(".aaron2").on('click', function() &#123; $('a').wrap(function() &#123; return '&lt;div class="' + $(this).text() + '" /&gt;'; &#125;) &#125;) &lt;/script&gt; ![image-20190311103309520](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025658.jpg) --- # DOMåŒ…è£¹unwrap()æ–¹æ³• æˆ‘ä»¬å¯ä»¥é€šè¿‡wrapæ–¹æ³•ç»™é€‰ä¸­å…ƒç´ å¢žåŠ ä¸€ä¸ªåŒ…è£¹çš„çˆ¶å…ƒç´ ã€‚ç›¸åï¼Œå¦‚æžœåˆ é™¤é€‰ä¸­å…ƒç´ çš„çˆ¶å…ƒç´ è¦å¦‚ä½•å¤„ç† ? jQueryæä¾›äº†ä¸€ä¸ªunwrap()æ–¹æ³• ï¼Œä½œç”¨ä¸Žwrapæ–¹æ³•æ˜¯ç›¸åçš„ã€‚å°†åŒ¹é…å…ƒç´ é›†åˆçš„çˆ¶çº§å…ƒç´ åˆ é™¤ï¼Œä¿ç•™è‡ªèº«ï¼ˆå’Œå…„å¼Ÿå…ƒç´ ï¼Œå¦‚æžœå­˜åœ¨ï¼‰åœ¨åŽŸæ¥çš„ä½ç½®ã€‚ çœ‹ä¸€æ®µç®€å•æ¡ˆä¾‹ï¼š 123&lt;div&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt;&lt;/div&gt; æˆ‘è¦åˆ é™¤è¿™æ®µä»£ç ä¸­çš„divï¼Œä¸€èˆ¬å¸¸è§„çš„æ–¹æ³•ä¼šç›´æŽ¥é€šè¿‡removeæˆ–è€…emptyæ–¹æ³• 1$(&apos;div&apos;).remove(); ä½†æ˜¯å¦‚æžœæˆ‘è¿˜è¦ä¿ç•™å†…éƒ¨å…ƒç´ pï¼Œè¿™æ ·å°±æ„å‘³ç€éœ€è¦å¤šåšå¾ˆå¤šå¤„ç†ï¼Œæ­¥éª¤ç›¸å¯¹è¦éº»çƒ¦å¾ˆå¤šï¼Œä¸ºäº†æ›´ä¾¿æ·ï¼ŒjQueryæä¾›äº†unwrapæ–¹æ³•å¾ˆæ–¹ä¾¿çš„å¤„ç†äº†è¿™ä¸ªé—®é¢˜ 1$(&apos;p&apos;).unwrap(); æ‰¾åˆ°på…ƒç´ ï¼Œç„¶åŽè°ƒç”¨unwrapæ–¹æ³•ï¼Œè¿™æ ·åªä¼šåˆ é™¤çˆ¶è¾ˆdivå…ƒç´ äº† ç»“æžœï¼š 1&lt;p&gt;på…ƒç´ &lt;/p&gt; è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œä¹Ÿä¸æŽ¥å—ä»»ä½•å‚æ•°ï¼Œæ³¨æ„å‚è€ƒä¸‹æ¡ˆä¾‹çš„ä½¿ç”¨å³å¯ 123456789101112131415161718192021&lt;h2&gt;DOMåŒ…è£¹unwrap()æ–¹æ³•&lt;/h2&gt; &lt;div class="left"&gt; &lt;div class="aaron1"&gt;ç‚¹å‡»,é€šè¿‡unwrapæ–¹æ³•ç»™på…ƒç´ åˆ é™¤çˆ¶å®¹å™¨div&lt;/div&gt; &lt;div class="aaron2"&gt;ç‚¹å‡»,é€šè¿‡unwrapçš„å›žè°ƒæ–¹æ³•ç»™aå…ƒç´ åˆ é™¤çˆ¶å®¹å™¨div&lt;/div&gt; &lt;/div&gt; &lt;div class="right"&gt; &lt;div&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt; &lt;/div&gt; &lt;div&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="left"&gt; &lt;div&gt; &lt;a&gt;aå…ƒç´ &lt;/a&gt; &lt;/div&gt; &lt;div&gt; &lt;a&gt;aå…ƒç´ &lt;/a&gt; &lt;/div&gt; &lt;/div&gt; --- 1234567891011121314&lt;script type="text/javascript"&gt; $(".aaron1").on('click', function() &#123; //æ‰¾åˆ°æ‰€æœ‰på…ƒç´ ï¼Œåˆ é™¤çˆ¶å®¹å™¨div $('p').unwrap('&lt;div&gt;&lt;/div&gt;') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $(".aaron2").on('click', function() &#123; //æ‰¾åˆ°æ‰€æœ‰på…ƒç´ ï¼Œåˆ é™¤çˆ¶å®¹å™¨div $('a').unwrap(function() &#123; return '&lt;div&gt;&lt;/div&gt;'; &#125;) &#125;) &lt;/script&gt; ![image-20190311103603895](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025701.jpg) --- # DOMåŒ…è£¹wrapAll()æ–¹æ³• wrapæ˜¯é’ˆå¯¹å•ä¸ªdomå…ƒç´ å¤„ç†ï¼Œå¦‚æžœè¦å°†**é›†****åˆä¸­**çš„å…ƒç´ ç”¨å…¶ä»–å…ƒç´ åŒ…è£¹èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯ç»™ä»–ä»¬å¢žåŠ ä¸€ä¸ªçˆ¶å…ƒç´ ï¼Œé’ˆå¯¹è¿™æ ·çš„å¤„ç†ï¼ŒJQueryæä¾›äº†ä¸€ä¸ªwrapAllæ–¹æ³• **.wrapAll( wrappingElement )****ï¼š**ç»™é›†åˆä¸­åŒ¹é…çš„å…ƒç´ å¢žåŠ ä¸€ä¸ªå¤–é¢åŒ…è£¹HTMLç»“æž„ ç®€å•çš„çœ‹ä¸€æ®µä»£ç ï¼š 12&lt;p&gt;på…ƒç´ &lt;/p&gt;&lt;p&gt;på…ƒç´ &lt;/p&gt; ç»™æ‰€æœ‰på…ƒç´ å¢žåŠ ä¸€ä¸ªdivåŒ…è£¹ 1$(&apos;p&apos;).wrapAll(&apos;&lt;div&gt;&lt;/div&gt;&apos;) æœ€åŽçš„ç»“æž„ï¼Œ2ä¸ªPå…ƒç´ éƒ½å¢žåŠ äº†ä¸€ä¸ªçˆ¶divçš„ç»“æž„ 1234&lt;div&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt;&lt;/div&gt; **.wrapAll( function )** **ï¼š**ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œè¿”å›žç”¨äºŽåŒ…è£¹åŒ¹é…å…ƒç´ çš„ HTML å†…å®¹æˆ– jQuery å¯¹è±¡ é€šè¿‡å›žè°ƒçš„æ–¹å¼å¯ä»¥å•ç‹¬å¤„ç†æ¯ä¸€ä¸ªå…ƒç´  ä»¥ä¸Šé¢æ¡ˆä¾‹ä¸ºä¾‹ï¼Œ 123$(&apos;p&apos;).wrapAll(function() &#123; return &apos;&lt;div&gt;&lt;div/&gt;&apos;; &#125;) ä»¥ä¸Šçš„å†™æ³•çš„ç»“æžœå¦‚ä¸‹ï¼Œç­‰åŒäºŽwarpçš„å¤„ç†äº† 123456&lt;div&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt;på…ƒç´ &lt;/p&gt;&lt;/div&gt; --- æ³¨æ„ï¼š .wrapAll()å‡½æ•°å¯ä»¥æŽ¥å—ä»»ä½•å­—ç¬¦ä¸²æˆ–å¯¹è±¡ï¼Œå¯ä»¥ä¼ é€’ç»™$()å·¥åŽ‚å‡½æ•°æ¥æŒ‡å®šä¸€ä¸ªDOMç»“æž„ã€‚è¿™ç§ç»“æž„å¯ä»¥åµŒå¥—å¤šå±‚ï¼Œä½†æ˜¯æœ€å†…å±‚åªèƒ½æœ‰ä¸€ä¸ªå…ƒç´ ã€‚æ‰€æœ‰åŒ¹é…å…ƒç´ å°†ä¼šè¢«å½“ä½œæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œåœ¨è¿™ä¸ªæ•´ä½“çš„å¤–éƒ¨ç”¨æŒ‡å®šçš„ HTML ç»“æž„è¿›è¡ŒåŒ…è£¹ã€‚ --- DOMåŒ…è£¹wrapAll()æ–¹æ³• ç‚¹å‡»,é€šè¿‡wrapAllæ–¹æ³•ç»™æ‰€æœ‰På…ƒç´ å¢žåŠ çˆ¶å®¹å™¨div ç‚¹å‡»,é€šè¿‡wrapAllçš„å›žè°ƒæ–¹æ³•ç»™æ¯ä¸ªaå…ƒç´ å¢žåŠ çˆ¶å®¹å™¨div på…ƒç´  på…ƒç´  aå…ƒç´  aå…ƒç´  123456789101112131415&lt;script type="text/javascript"&gt; $(".aaron1").on('click', function() &#123; //ç»™æ‰€æœ‰på…ƒç´ ï¼Œå¢žåŠ çˆ¶å®¹å™¨div $('p').wrapAll('&lt;div&gt;&lt;/div&gt;'); &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $(".aaron2").on('click', function() &#123; //wrapAllæŽ¥å—ä¸€ä¸ªå›žè°ƒå‡½æ•° //æ¯ä¸€æ¬¡éåŽ†thiséƒ½æŒ‡å‘äº†åˆé›†ä¸­æ¯ä¸€ä¸ªaå…ƒç´  $('a').wrapAll(function() &#123; return '&lt;div&gt;&lt;/div&gt;' &#125;) &#125;) &lt;/script&gt; ![image-20190311103935500](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025702.jpg) --- # DOMåŒ…è£¹wrapInner()æ–¹æ³• 12345678910111213&lt;h2&gt;DOMåŒ…è£¹wrapInner()æ–¹æ³•&lt;/h2&gt; &lt;div class="left"&gt; &lt;div class="aaron1"&gt;ç‚¹å‡»,é€šè¿‡wrapInneræ–¹æ³•ç»™æ‰€æœ‰divå…ƒç´ å¢žåŠ å†…éƒ¨çˆ¶å®¹å™¨p&lt;/div&gt; &lt;div class="aaron2"&gt;ç‚¹å‡»,é€šè¿‡wrapInnerçš„å›žè°ƒæ–¹æ³•ç»™æ¯ä¸ªdivå…ƒç´ å¢žåŠ å†…éƒ¨çˆ¶å®¹å™¨a&lt;/div&gt; &lt;/div&gt; &lt;div class="right"&gt; &lt;div class="right1"&gt;på…ƒç´ &lt;/div&gt; &lt;div class="right1"&gt;på…ƒç´ &lt;/div&gt; &lt;/div&gt; &lt;div class="left"&gt; &lt;div class="left1"&gt;aå…ƒç´ &lt;/div&gt; &lt;div class="left1"&gt;aå…ƒç´ &lt;/div&gt; &lt;/div&gt; 123456789101112131415&lt;script type="text/javascript"&gt; $(".aaron1").on('click', function() &#123; //ç»™æ‰€æœ‰class=right1çš„divå…ƒç´ ï¼Œå¢žåŠ å†…éƒ¨åŒ…è£¹çˆ¶å®¹å™¨p $('.right1').wrapInner('&lt;p&gt;&lt;/p&gt;'); &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $(".aaron2").on('click', function() &#123; //wrapInneræŽ¥å—ä¸€ä¸ªå›žè°ƒå‡½æ•° //æ¯ä¸€æ¬¡éåŽ†thiséƒ½æŒ‡å‘äº†åˆé›†ä¸­æ¯ä¸€ä¸ªclass=left1çš„divå…ƒç´  $('.left1').wrapInner(function() &#123; return '&lt;a&gt;&lt;/a&gt;' &#125;) &#125;) &lt;/script&gt; ![image-20190311104323744](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025713.jpg) ---- # jQueryéåŽ†ä¹‹children()æ–¹æ³• jQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œå¦‚æžœæƒ³å¿«é€ŸæŸ¥æ‰¾åˆé›†é‡Œé¢çš„ç¬¬ä¸€çº§å­å…ƒç´ ï¼Œæ­¤æ—¶å¯ä»¥ç”¨children()æ–¹æ³•ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼š.children(selector) æ–¹æ³•æ˜¯è¿”å›žåŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„æ‰€æœ‰å­å…ƒç´ ï¼ˆä»…å„¿å­è¾ˆï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºå°±æ˜¯çˆ¶äº²-å„¿å­çš„å…³ç³»ï¼‰ **ç†è§£èŠ‚ç‚¹æŸ¥æ‰¾å…³ç³»ï¼š** 12345&lt;div class=&quot;div&quot;&gt; &lt;ul class=&quot;son&quot;&gt; &lt;li class=&quot;grandson&quot;&gt;1&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; ä»£ç å¦‚æžœæ˜¯$("div").children()ï¼Œé‚£ä¹ˆæ„å‘³ç€åªèƒ½æ‰¾åˆ°ulï¼Œå› ä¸ºdivä¸Žulæ˜¯çˆ¶å­å…³ç³»ï¼Œliä¸Ždivæ˜¯ç¥–è¾ˆå…³ç³»ï¼Œå› æ­¤æ— æ³•æ‰¾åˆ°ã€‚ **children()****æ— å‚æ•°** å…è®¸æˆ‘ä»¬é€šè¿‡åœ¨DOMæ ‘ä¸­å¯¹è¿™äº›å…ƒç´ çš„ç›´æŽ¥å­å…ƒç´ è¿›è¡Œæœç´¢ï¼Œå¹¶ä¸”æž„é€ ä¸€ä¸ªæ–°çš„åŒ¹é…å…ƒç´ çš„jQueryå¯¹è±¡ 1æ³¨æ„ï¼šjQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡childrenæ˜¯åŒ¹é…åˆé›†ä¸­æ¯ä¸€ç»™å…ƒç´ çš„ç¬¬ä¸€çº§å­å…ƒç´  .**children()****æ–¹æ³•é€‰æ‹©æ€§åœ°æŽ¥å—åŒä¸€ç±»åž‹é€‰æ‹©å™¨è¡¨è¾¾å¼** 1$(&quot;div&quot;).children(&quot;.selected&quot;) åŒæ ·çš„ä¹Ÿæ˜¯å› ä¸ºjQueryæ˜¯åˆé›†å¯¹è±¡ï¼Œå¯èƒ½éœ€è¦å¯¹è¿™ä¸ªåˆé›†å¯¹è±¡è¿›è¡Œä¸€å®šçš„ç­›é€‰ï¼Œæ‰¾å‡ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥å…è®¸ä¼ ä¸€ä¸ªé€‰æ‹©å™¨çš„è¡¨è¾¾å¼ 12345678910111213&lt;script type="text/javascript"&gt; $("#bt1").click(function() &#123; $('div').children(); &#125;)f &lt;/script&gt; &lt;script type="text/javascript"&gt; $("#bt2").click(function() &#123; //æ‰¾åˆ°æ‰€æœ‰class=divçš„å…ƒç´  //æ‰¾åˆ°å…¶å¯¹åº”çš„å­å…ƒç´ ulï¼Œç„¶åŽç­›é€‰å‡ºæœ€åŽä¸€ä¸ªï¼Œç»™è¾¹å®½åŠ ä¸Šé¢œè‰² $('.div').children(':last').css('border', '3px solid blue') &#125;) &lt;/script&gt; # jQueryéåŽ†ä¹‹find()æ–¹æ³• jQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œå¦‚æžœæƒ³å¿«é€ŸæŸ¥æ‰¾DOMæ ‘ä¸­çš„è¿™äº›å…ƒç´ çš„åŽä»£å…ƒç´ ï¼Œæ­¤æ—¶å¯ä»¥ç”¨find()æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯å¼€å‘ä½¿ç”¨é¢‘çŽ‡å¾ˆé«˜çš„æ–¹æ³•ã€‚è¿™é‡Œè¦æ³¨æ„ childrenä¸Žfindæ–¹æ³•çš„åŒºåˆ«ï¼Œchildrenæ˜¯çˆ¶å­å…³ç³»æŸ¥æ‰¾ï¼Œfindæ˜¯åŽä»£å…³ç³»ï¼ˆåŒ…å«çˆ¶å­å…³ç³») **ç†è§£èŠ‚ç‚¹æŸ¥æ‰¾å…³ç³»ï¼š** 12345&lt;div class=&quot;div&quot;&gt; &lt;ul class=&quot;son&quot;&gt; &lt;li class=&quot;grandson&quot;&gt;1&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; ä»£ç å¦‚æžœæ˜¯$("div").find("li")ï¼Œæ­¤æ—¶ï¼Œliä¸Ždivæ˜¯ç¥–è¾ˆå…³ç³»ï¼Œé€šè¿‡findæ–¹æ³•å°±å¯ä»¥å¿«é€Ÿçš„æŸ¥æ‰¾åˆ°äº† **.find()æ–¹æ³•è¦æ³¨æ„çš„çŸ¥è¯†ç‚¹ï¼š** - findæ˜¯éåŽ†å½“å‰å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„åŽä»£ã€‚åªè¦ç¬¦åˆï¼Œä¸ç®¡æ˜¯å„¿å­è¾ˆï¼Œå­™å­è¾ˆéƒ½å¯ä»¥ã€‚ - ä¸Žå…¶ä»–çš„æ ‘éåŽ†æ–¹æ³•ä¸åŒï¼Œé€‰æ‹©å™¨è¡¨è¾¾å¼å¯¹äºŽ .find() æ˜¯å¿…éœ€çš„å‚æ•°ã€‚å¦‚æžœæˆ‘ä»¬éœ€è¦å®žçŽ°å¯¹æ‰€æœ‰åŽä»£å…ƒç´ çš„å–å›žï¼Œå¯ä»¥ä¼ é€’é€šé…é€‰æ‹©å™¨ '*'ã€‚ - findåªåœ¨åŽä»£ä¸­éåŽ†ï¼Œä¸åŒ…æ‹¬è‡ªå·±ã€‚ - é€‰æ‹©å™¨ context æ˜¯ç”± .find() æ–¹æ³•å®žçŽ°çš„ï¼›å› æ­¤ï¼Œ$('.item-ii').find('li') ç­‰ä»·äºŽ $('li', '.item-ii')(æ‰¾åˆ°ç±»åä¸ºitem-iiçš„æ ‡ç­¾ä¸‹çš„liæ ‡ç­¾)ã€‚ **æ³¨æ„é‡ç‚¹ï¼š** 123.find()å’Œ.children()æ–¹æ³•æ˜¯ç›¸ä¼¼çš„1.childrenåªæŸ¥æ‰¾ç¬¬ä¸€çº§çš„å­èŠ‚ç‚¹2.findæŸ¥æ‰¾èŒƒå›´åŒ…æ‹¬å­èŠ‚ç‚¹çš„æ‰€æœ‰åŽä»£èŠ‚ç‚¹ --- 12345678910111213&lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.left').find('li:last').css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //æ‰¾åˆ°æ‰€æœ‰på…ƒç´ ï¼Œç„¶åŽç­›é€‰å‡ºå­å…ƒç´ æ˜¯spanæ ‡ç­¾çš„èŠ‚ç‚¹ //æ”¹å˜å…¶å­—ä½“é¢œè‰² var $spans = $('span'); $("p").find($spans).css('color', 'red'); &#125;) &lt;/script&gt; --- # jQueryéåŽ†ä¹‹parent()æ–¹æ³• jQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œå¦‚æžœæƒ³å¿«é€ŸæŸ¥æ‰¾åˆé›†é‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ çš„çˆ¶å…ƒç´ ï¼ˆè¿™é‡Œå¯ä»¥ç†è§£ä¸ºå°±æ˜¯çˆ¶äº²-å„¿å­çš„å…³ç³»ï¼‰ï¼Œæ­¤æ—¶å¯ä»¥ç”¨parent()æ–¹æ³• å› ä¸ºæ˜¯çˆ¶å…ƒç´ ï¼Œè¿™ä¸ªæ–¹æ³•åªä¼šå‘ä¸ŠæŸ¥æ‰¾ä¸€çº§ **ç†è§£èŠ‚ç‚¹æŸ¥æ‰¾å…³ç³»ï¼š** 12345&lt;div class=&quot;div&quot;&gt; &lt;ul class=&quot;son&quot;&gt; &lt;li class=&quot;grandson&quot;&gt;1&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; æŸ¥æ‰¾ulçš„çˆ¶å…ƒç´ div, $(ul).parent()ï¼Œå°±æ˜¯è¿™æ ·ç®€å•çš„è¡¨è¾¾ **parent()****æ— å‚æ•°** parent()æ–¹æ³•å…è®¸æˆ‘ä»¬èƒ½å¤Ÿåœ¨DOMæ ‘ä¸­æœç´¢åˆ°è¿™äº›å…ƒç´ çš„çˆ¶çº§å…ƒç´ ï¼Œä»Žæœ‰åºçš„å‘ä¸ŠåŒ¹é…å…ƒç´ ï¼Œå¹¶æ ¹æ®åŒ¹é…çš„å…ƒç´ åˆ›å»ºä¸€ä¸ªæ–°çš„ jQuery å¯¹è±¡ 1æ³¨æ„ï¼šjQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡parentæ˜¯åŒ¹é…åˆé›†ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„çˆ¶å…ƒç´  **parent()****æ–¹æ³•é€‰æ‹©æ€§åœ°æŽ¥å—åŒä¸€åž‹é€‰æ‹©å™¨è¡¨è¾¾å¼** 1åŒæ ·çš„ä¹Ÿæ˜¯å› ä¸ºjQueryæ˜¯åˆé›†å¯¹è±¡ï¼Œå¯èƒ½éœ€è¦å¯¹è¿™ä¸ªåˆé›†å¯¹è±¡è¿›è¡Œä¸€å®šçš„ç­›é€‰ï¼Œæ‰¾å‡ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥å…è®¸ä¼ ä¸€ä¸ªé€‰æ‹©å™¨çš„è¡¨è¾¾å¼ 12345678910111213&lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.level-3').parent().css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //æ‰¾åˆ°æ‰€æœ‰class=item-açš„çˆ¶å…ƒç´  //ç„¶åŽç»™æ¯ä¸ªul,ç„¶åŽç­›é€‰å‡ºæœ€åŽä¸€ä¸ªï¼ŒåŠ ä¸Šè“è‰²çš„è¾¹ $('.item-a').parent(':last').css('border', '1px solid blue') &#125;) &lt;/script&gt; --- #jQueryéåŽ†ä¹‹closest()æ–¹æ³• ä»¥é€‰å®šçš„å…ƒç´ ä¸ºä¸­å¿ƒï¼Œå¾€å†…æŸ¥æ‰¾å¯ä»¥é€šè¿‡findã€childrenæ–¹æ³•ã€‚å¦‚æžœå¾€ä¸ŠæŸ¥æ‰¾ï¼Œä¹Ÿå°±æ˜¯æŸ¥æ‰¾å½“å‰å…ƒç´ çš„çˆ¶è¾ˆç¥–è¾ˆå…ƒç´ ï¼ŒjQueryæä¾›äº†closest()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ç±»ä¼¼parentsä½†æ˜¯åˆæœ‰ä¸€äº›ç»†å¾®çš„åŒºåˆ«ï¼Œå±žäºŽä½¿ç”¨é¢‘çŽ‡å¾ˆé«˜çš„æ–¹æ³• **closest()****æ–¹æ³•æŽ¥å—ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„é€‰æ‹©å™¨å­—ç¬¦ä¸²** ä»Žå…ƒç´ æœ¬èº«å¼€å§‹ï¼Œåœ¨DOM æ ‘ä¸Šé€çº§å‘ä¸Šçº§å…ƒç´ åŒ¹é…ï¼Œå¹¶è¿”å›žæœ€å…ˆåŒ¹é…çš„ç¥–å…ˆå…ƒç´  ä¾‹å¦‚ï¼šåœ¨divå…ƒç´ ä¸­ï¼Œå¾€ä¸ŠæŸ¥æ‰¾æ‰€æœ‰çš„liå…ƒç´ ï¼Œå¯ä»¥è¿™æ ·è¡¨è¾¾ 1$(&quot;div&quot;).closet(&quot;li&apos;) **æ³¨æ„ï¼šjQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡closestæ˜¯åŒ¹é…åˆé›†ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„ç¥–å…ˆå…ƒç´ ** **closest()****æ–¹æ³•ç»™å®šçš„****jQuery****é›†åˆæˆ–å…ƒç´ æ¥è¿‡æ»¤å…ƒç´ ** åŒæ ·çš„ä¹Ÿæ˜¯å› ä¸ºjQueryæ˜¯åˆé›†å¯¹è±¡ï¼Œå¯èƒ½éœ€è¦å¯¹è¿™ä¸ªåˆé›†å¯¹è±¡è¿›è¡Œä¸€å®šçš„ç­›é€‰ï¼Œæ‰¾å‡ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥å…è®¸ä¼ ä¸€ä¸ªjQueryçš„å¯¹è±¡ **æ³¨æ„äº‹é¡¹ï¼š**åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦ç‰¹åˆ«æ³¨æ„ä¸‹ ç²—çœ‹.parents()å’Œ.closest()æ˜¯æœ‰ç‚¹ç›¸ä¼¼çš„ï¼Œéƒ½æ˜¯å¾€ä¸ŠéåŽ†ç¥–è¾ˆå…ƒç´ ï¼Œä½†æ˜¯ä¸¤è€…è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Œå¦åˆ™å°±æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰äº† 1. èµ·å§‹ä½ç½®ä¸åŒï¼š.closestå¼€å§‹äºŽå½“å‰å…ƒç´  .parentså¼€å§‹äºŽçˆ¶å…ƒç´  2. éåŽ†çš„ç›®æ ‡ä¸åŒï¼š.closestè¦æ‰¾åˆ°æŒ‡å®šçš„ç›®æ ‡ï¼Œ.parentséåŽ†åˆ°æ–‡æ¡£æ ¹å…ƒç´ ï¼Œclosestå‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„å°±åœæ­¢æŸ¥æ‰¾ï¼Œparentsä¸€ç›´æŸ¥æ‰¾åˆ°æ ¹å…ƒç´ ï¼Œå¹¶å°†åŒ¹é…çš„å…ƒç´ åŠ å…¥é›†åˆ 3. ç»“æžœä¸åŒï¼š.closestè¿”å›žçš„æ˜¯åŒ…å«é›¶ä¸ªæˆ–ä¸€ä¸ªå…ƒç´ çš„jqueryå¯¹è±¡ï¼Œparentsè¿”å›žçš„æ˜¯åŒ…å«é›¶ä¸ªæˆ–ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„jqueryå¯¹è±¡ --- 123456789101112131415&lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('li.item-1') .closest('.level-2') .css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; var itemB = $('.item-b') $('li.item-1') .closest(itemB) .css('border', '1px solid blue'); &#125;) &lt;/script&gt; ## jQueryéåŽ†ä¹‹next()æ–¹æ³• jQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œå¦‚æžœæƒ³å¿«é€ŸæŸ¥æ‰¾æŒ‡å®šå…ƒç´ é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ ç´§é‚»çš„åŽé¢åŒè¾ˆå…ƒç´ çš„å…ƒç´ é›†åˆï¼Œæ­¤æ—¶å¯ä»¥ç”¨next()æ–¹æ³• **ç†è§£èŠ‚ç‚¹æŸ¥æ‰¾å…³ç³»ï¼š** å¦‚ä¸‹class="item-1"å…ƒç´ å°±æ˜¯çº¢è‰²éƒ¨åˆ†ï¼Œé‚£è“è‰²çš„class="item-2"å°±æ˜¯å®ƒçš„å…„å¼Ÿå…ƒç´  12345&lt;ul class=&quot;level-3&quot;&gt; &lt;li class=&quot;item-1&quot;&gt;1&lt;/li&gt; &lt;li class=&quot;item-2&quot;&gt;2&lt;/li&gt; &lt;li class=&quot;item-3&quot;&gt;3&lt;/li&gt;&lt;/ul&gt; **next****()****æ— å‚æ•°** å…è®¸æˆ‘ä»¬æ‰¾éå…ƒç´ é›†åˆä¸­ç´§è·Ÿç€è¿™äº›å…ƒç´ çš„ç›´æŽ¥å…„å¼Ÿå…ƒç´ ï¼Œå¹¶æ ¹æ®åŒ¹é…çš„å…ƒç´ åˆ›å»ºä¸€ä¸ªæ–°çš„ jQuery å¯¹è±¡ã€‚ 1æ³¨æ„ï¼šjQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡nextåŒ¹é…åˆé›†ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´  **next****()****æ–¹æ³•é€‰æ‹©æ€§åœ°æŽ¥å—åŒä¸€ç±»åž‹é€‰æ‹©å™¨è¡¨è¾¾å¼** 1åŒæ ·çš„ä¹Ÿæ˜¯å› ä¸ºjQueryæ˜¯åˆé›†å¯¹è±¡ï¼Œå¯èƒ½éœ€è¦å¯¹è¿™ä¸ªåˆé›†å¯¹è±¡è¿›è¡Œä¸€å®šçš„ç­›é€‰ï¼Œæ‰¾å‡ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥å…è®¸ä¼ ä¸€ä¸ªé€‰æ‹©å™¨çš„è¡¨è¾¾å¼ 12345678910111213&lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.item-1').next().css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //æ‰¾åˆ°æ‰€æœ‰class=item-3çš„li //ç„¶åŽç­›é€‰å‡ºç¬¬ä¸€ä¸ªliï¼ŒåŠ ä¸Šè“è‰²çš„è¾¹ $('.item-2').next(':first').css('border', '1px solid blue') &#125;) &lt;/script&gt; # jQueryéåŽ†ä¹‹prev()æ–¹æ³• jQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œå¦‚æžœæƒ³å¿«é€ŸæŸ¥æ‰¾æŒ‡å®šå…ƒç´ é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ ç´§é‚»çš„å‰é¢åŒè¾ˆå…ƒç´ çš„å…ƒç´ é›†åˆï¼Œæ­¤æ—¶å¯ä»¥ç”¨prev()æ–¹æ³• **ç†è§£èŠ‚ç‚¹æŸ¥æ‰¾å…³ç³»ï¼š** å¦‚ä¸‹è“è‰²çš„class="item-2"çš„liå…ƒç´ ï¼Œçº¢è‰²çš„èŠ‚ç‚¹å°±æ˜¯å®ƒçš„prevå…„å¼ŸèŠ‚ç‚¹ 12345&lt;ul class=&quot;level-3&quot;&gt; &lt;li class=&quot;item-1&quot;&gt;1&lt;/li&gt; &lt;li class=&quot;item-2&quot;&gt;2&lt;/li&gt; &lt;li class=&quot;item-3&quot;&gt;3&lt;/li&gt;&lt;/ul&gt; **prev()****æ— å‚æ•°** å–å¾—ä¸€ä¸ªåŒ…å«åŒ¹é…çš„å…ƒç´ é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ ç´§é‚»çš„å‰ä¸€ä¸ªåŒè¾ˆå…ƒç´ çš„å…ƒç´ é›†åˆ 1æ³¨æ„ï¼šjQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡prevæ˜¯åŒ¹é…åˆé›†ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„ä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´  **prev()****æ–¹æ³•é€‰æ‹©æ€§åœ°æŽ¥å—åŒä¸€ç±»åž‹é€‰æ‹©å™¨è¡¨è¾¾å¼** 1åŒæ ·çš„ä¹Ÿæ˜¯å› ä¸ºjQueryæ˜¯åˆé›†å¯¹è±¡ï¼Œå¯èƒ½éœ€è¦å¯¹è¿™ä¸ªåˆé›†å¯¹è±¡è¿›è¡Œä¸€å®šçš„ç­›é€‰ï¼Œæ‰¾å‡ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥å…è®¸ä¼ ä¸€ä¸ªé€‰æ‹©å™¨çš„è¡¨è¾¾å¼ --- 123456789101112131415&lt;button&gt;ç‚¹å‡»ï¼šprevæ— å‚æ•°&lt;/button&gt; &lt;button&gt;ç‚¹å‡»ï¼šprevä¼ é€’é€‰æ‹©å™¨&lt;/button&gt; &lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.item-2').prev().css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //æ‰¾åˆ°æ‰€æœ‰class=item-2çš„li //ç„¶åŽç­›é€‰å‡ºæœ€åŽä¸€ä¸ªï¼ŒåŠ ä¸Šè“è‰²çš„è¾¹ $('.item-3').prev(':last').css('border', '1px solid blue') &#125;) &lt;/script&gt; --- # jQueryéåŽ†ä¹‹siblings() Queryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œå¦‚æžœæƒ³å¿«é€ŸæŸ¥æ‰¾æŒ‡å®šå…ƒç´ é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„åŒè¾ˆå…ƒç´ ï¼Œæ­¤æ—¶å¯ä»¥ç”¨siblings()æ–¹æ³• **ç†è§£èŠ‚ç‚¹æŸ¥æ‰¾å…³ç³»ï¼š** å¦‚ä¸‹è“è‰²çš„class="item-2"çš„liå…ƒç´ ï¼Œçº¢è‰²çš„èŠ‚ç‚¹å°±æ˜¯å®ƒçš„siblingså…„å¼ŸèŠ‚ç‚¹ 12345&lt;ul class=&quot;level-3&quot;&gt; &lt;li class=&quot;item-1&quot;&gt;1&lt;/li&gt; &lt;li class=&quot;item-2&quot;&gt;2&lt;/li&gt; &lt;li class=&quot;item-3&quot;&gt;3&lt;/li&gt;&lt;/ul&gt; **siblings()****æ— å‚æ•°** å–å¾—ä¸€ä¸ªåŒ…å«åŒ¹é…çš„å…ƒç´ é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„åŒè¾ˆå…ƒç´ çš„å…ƒç´ é›†åˆ 1æ³¨æ„ï¼šjQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡siblingsæ˜¯åŒ¹é…åˆé›†ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„åŒè¾ˆå…ƒç´  **siblings()****æ–¹æ³•é€‰æ‹©æ€§åœ°æŽ¥å—åŒä¸€ç±»åž‹é€‰æ‹©å™¨è¡¨è¾¾å¼** 1åŒæ ·çš„ä¹Ÿæ˜¯å› ä¸ºjQueryæ˜¯åˆé›†å¯¹è±¡ï¼Œå¯èƒ½éœ€è¦å¯¹è¿™ä¸ªåˆé›†å¯¹è±¡è¿›è¡Œä¸€å®šçš„ç­›é€‰ï¼Œæ‰¾å‡ºç›®æ ‡å…ƒç´ ï¼Œæ‰€ä»¥å…è®¸ä¼ ä¸€ä¸ªé€‰æ‹©å™¨çš„è¡¨è¾¾å¼ --- 123456789101112131415&lt;button&gt;ç‚¹å‡»ï¼šsiblingsvæ— å‚æ•°&lt;/button&gt; &lt;button&gt;ç‚¹å‡»ï¼šsiblingsä¼ é€’é€‰æ‹©å™¨&lt;/button&gt; &lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.item-2').siblings().css('border', '2px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //æ‰¾åˆ°class=item-2çš„æ‰€æœ‰å…„å¼ŸèŠ‚ç‚¹ //ç„¶åŽç­›é€‰å‡ºæœ€åŽä¸€ä¸ªï¼ŒåŠ ä¸Šè“è‰²çš„è¾¹ $('.item-2').siblings(':last').css('border', '2px solid blue') &#125;) &lt;/script&gt; # jQueryéåŽ†ä¹‹add()æ–¹æ³• jQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œé€šè¿‡$()æ–¹æ³•æ‰¾åˆ°æŒ‡å®šçš„å…ƒç´ åˆé›†åŽå¯ä»¥è¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œã€‚$()ä¹‹åŽå°±æ„å‘³ç€è¿™ä¸ªåˆé›†å¯¹è±¡å·²ç»æ˜¯ç¡®å®šçš„ï¼Œå¦‚æžœåŽæœŸéœ€è¦å†å¾€è¿™ä¸ªåˆé›†ä¸­æ·»åŠ ä¸€æ–°çš„å…ƒç´ è¦å¦‚ä½•å¤„ç†ï¼ŸjQueryä¸ºæ­¤æä¾›addæ–¹æ³•ï¼Œç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„jQueryå¯¹è±¡ ï¼Œå…ƒç´ æ·»åŠ åˆ°åŒ¹é…çš„å…ƒç´ é›†åˆä¸­ 1.add()çš„å‚æ•°å¯ä»¥å‡ ä¹ŽæŽ¥å—ä»»ä½•çš„$()ï¼ŒåŒ…æ‹¬ä¸€ä¸ªjQueryé€‰æ‹©å™¨è¡¨è¾¾å¼ï¼ŒDOMå…ƒç´ ï¼Œæˆ–HTMLç‰‡æ®µå¼•ç”¨ã€‚ ç®€å•çš„çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼š æ“ä½œï¼šé€‰æ‹©æ‰€æœ‰çš„liå…ƒç´ ï¼Œä¹‹åŽæŠŠpå…ƒç´ ä¹ŸåŠ å…¥åˆ°liçš„åˆé›†ä¸­ 12345&lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 3&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æ–°çš„på…ƒç´ &lt;/p&gt; å¤„ç†ä¸€ï¼šä¼ é€’é€‰æ‹©å™¨ 1$(&apos;li&apos;).add(&apos;p&apos;) å¤„ç†äºŒï¼šä¼ é€’domå…ƒç´  1$(&apos;li&apos;).add(document.getElementsByTagName(&apos;p&apos;)[0]) è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯åŠ¨æ€åˆ›å»ºPæ ‡ç­¾åŠ å…¥åˆ°åˆé›†ï¼Œç„¶åŽæ’å…¥åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œä½†æ˜¯è¿™æ ·å°±æ”¹å˜å…ƒç´ çš„æœ¬èº«çš„æŽ’åˆ—äº† 1$(&apos;li&apos;).add(&apos;&lt;p&gt;æ–°çš„på…ƒç´ &lt;/p&gt;&apos;).appendTo(ç›®æ ‡ä½ç½®) $("button:last").click(function() { //æŠŠhtmlç»“æž„'æ–°çš„på…ƒç´ ' //åŠ å…¥åˆ°liçš„åˆé›†ä¸­ï¼Œä¸ºäº†èƒ½å¤Ÿåœ¨é¡µé¢ä¸Šæ˜¾ç¤º //éœ€è¦å†é‡æ–°appendToåˆ°æŒ‡å®šçš„èŠ‚ç‚¹å¤„ //å€¼å¾—æ³¨æ„ï¼šæ•´ä¸ªç»“æž„ä½ç½®éƒ½æ”¹å˜äº† $('li').add('æ–°çš„på…ƒç´ ').appendTo($('.right')) }) jQueryéåŽ†ä¹‹each()jQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œé€šè¿‡$()æ–¹æ³•æ‰¾åˆ°æŒ‡å®šçš„å…ƒç´ åˆé›†åŽå¯ä»¥è¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œã€‚æ¯”å¦‚æˆ‘ä»¬æ“ä½œ$(â€œliâ€).css(â€˜â€™) ç»™æ‰€æœ‰çš„liè®¾ç½®styleå€¼ï¼Œå› ä¸ºjQueryæ˜¯ä¸€ä¸ªåˆé›†å¯¹è±¡ï¼Œæ‰€ä»¥cssæ–¹æ³•å†…éƒ¨å°±å¿…é¡»å°è£…ä¸€ä¸ªéåŽ†çš„æ–¹æ³•ï¼Œè¢«ç§°ä¸ºéšå¼è¿­ä»£çš„è¿‡ç¨‹ã€‚è¦ä¸€ä¸ªä¸€ä¸ªç»™åˆé›†ä¸­æ¯ä¸€ä¸ªliè®¾ç½®é¢œè‰²ï¼Œè¿™é‡Œæ–¹æ³•å°±æ˜¯each .each() æ–¹æ³•å°±æ˜¯ä¸€ä¸ªforå¾ªçŽ¯çš„è¿­ä»£å™¨ï¼Œå®ƒä¼šè¿­ä»£jQueryå¯¹è±¡åˆé›†ä¸­çš„æ¯ä¸€ä¸ªDOMå…ƒç´ ã€‚æ¯æ¬¡å›žè°ƒå‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šä¼ é€’å½“å‰å¾ªçŽ¯æ¬¡æ•°ä½œä¸ºå‚æ•°(ä»Ž0å¼€å§‹è®¡æ•° æ‰€ä»¥å¤§ä½“ä¸Šäº†è§£3ä¸ªé‡ç‚¹ï¼š 123eachæ˜¯ä¸€ä¸ªforå¾ªçŽ¯çš„åŒ…è£…è¿­ä»£å™¨eaché€šè¿‡å›žè°ƒçš„æ–¹å¼å¤„ç†ï¼Œå¹¶ä¸”ä¼šæœ‰2ä¸ªå›ºå®šçš„å®žå‚ï¼Œç´¢å¼•ä¸Žå…ƒç´ eachå›žè°ƒæ–¹æ³•ä¸­çš„thisæŒ‡å‘å½“å‰è¿­ä»£çš„domå…ƒç´  12345$(&quot;li&quot;).each(function(index, element) &#123; index ç´¢å¼• 0,1 elementæ˜¯å¯¹åº”çš„lièŠ‚ç‚¹ li,li this æŒ‡å‘çš„æ˜¯li&#125;) è¿™æ ·å¯ä»¥åœ¨å¾ªçŽ¯ä½“ä¼šåšä¸€äº›é€»è¾‘æ“ä½œäº†ï¼Œå¦‚æžœéœ€è¦æå‰é€€å‡ºï¼Œå¯ä»¥ä»¥é€šè¿‡è¿”å›ž falseä»¥ä¾¿åœ¨å›žè°ƒå‡½æ•°å†…ä¸­æ­¢å¾ª 1234567891011121314151617&lt;h2&gt;eachæ–¹æ³•&lt;/h2&gt; &lt;div class="left first-div"&gt; &lt;div class="div"&gt; &lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2&lt;/li&gt; &lt;li&gt;list item 3&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;ul&gt; &lt;li&gt;list item 4&lt;/li&gt; &lt;li&gt;list item 5&lt;/li&gt; &lt;li&gt;list item 6&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; 1234567891011121314151617181920212223&lt;button&gt;ç‚¹å‡»ï¼šeachæ–¹æ³•éåŽ†å…ƒç´ &lt;/button&gt; &lt;button&gt;ç‚¹å‡»ï¼šeachæ–¹æ³•å›žè°ƒåˆ¤æ–­&lt;/button&gt; &lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; //éåŽ†æ‰€æœ‰çš„li //ä¿®æ”¹æ¯ä¸ªliå†…çš„å­—ä½“é¢œè‰² $("li").each(function(index, element) &#123; $(this).css('color','red') &#125;) &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //éåŽ†æ‰€æœ‰çš„li //ä¿®æ”¹å¶æ•°liå†…çš„å­—ä½“é¢œè‰² $("li").each(function(index, element) &#123; if (index % 2) &#123; $(this).css('color','blue') &#125; &#125;) &#125;) &lt;/script&gt;]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JqueråŸºç¡€ (ä¸€)â€”æ ·å¼ç¯‡]]></title>
    <url>%2F2019%2F03%2F09%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%9F%BA%E7%A1%80%20%E6%85%95%E8%AF%BE%E7%BD%91%2F</url>
    <content type="text"><![CDATA[JqueryueryåŸºç¡€ (ä¸€)â€”æ ·å¼ç¯‡jQueryHelloWorldä½“éªŒ HTMLä»£ç /æ–‡æœ¬/å€¼1åœ¨ä¸€ä¸ª HTML æ–‡æ¡£ä¸­, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ .html() æ–¹æ³•æ¥èŽ·å–ä»»æ„ä¸€ä¸ªå…ƒç´ çš„å†…å®¹ã€‚ å¦‚æžœé€‰æ‹©å™¨åŒ¹é…å¤šäºŽä¸€ä¸ªçš„å…ƒç´ ï¼Œé‚£ä¹ˆåªæœ‰ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ HTML å†…å®¹ä¼šè¢«èŽ·å–ã€‚ 12345val ç”¨äºŽè®¾å®šHTMLå†…å®¹çš„å€¼function(index, html) æ­¤å‡½æ•°è¿”å›žä¸€ä¸ªHTMLå­—ç¬¦ä¸²ã€‚æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œindexä¸ºå…ƒç´ åœ¨é›†åˆä¸­çš„ç´¢å¼•ä½ç½®ï¼Œhtmlä¸ºåŽŸå…ˆçš„HTMLå€¼ è¿”å›žpå…ƒç´ çš„å†…å®¹ã€‚ 1$(&apos;p&apos;).html(); å‚æ•°val æè¿°:è®¾ç½®æ‰€æœ‰ p å…ƒç´ çš„å†…å®¹ 1$(&quot;p&quot;).html(&quot;Hello &lt;b&gt;world&lt;/b&gt;!&quot;); ä½¿ç”¨å‡½æ•°æ¥è®¾ç½®æ‰€æœ‰åŒ¹é…å…ƒç´ çš„å†…å®¹ã€‚ 123$(&quot;p&quot;).html(function(n)&#123; return &quot;è¿™ä¸ª p å…ƒç´ çš„ index æ˜¯ï¼š&quot; + n; &#125;); #jQueryå¯¹è±¡ä¸ŽDOMå¯¹è±¡ 123é€šè¿‡jQueryæ–¹æ³•åŒ…è£…åŽçš„å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ã€‚å®ƒä¸ŽDOMå¯¹è±¡å®Œå…¨ä¸åŒï¼Œå”¯ä¸€ç›¸ä¼¼çš„æ˜¯å®ƒä»¬éƒ½èƒ½æ“ä½œDOMã€‚é€šè¿‡jQueryå¤„ç†DOMçš„æ“ä½œï¼Œå¯ä»¥è®©å¼€å‘è€…æ›´ä¸“æ³¨ä¸šåŠ¡é€»è¾‘çš„å¼€å‘ï¼Œè€Œä¸éœ€è¦æˆ‘ä»¬å…·ä½“çŸ¥é“å“ªä¸ªDOMèŠ‚ç‚¹æœ‰é‚£äº›æ–¹æ³•ï¼Œä¹Ÿä¸éœ€è¦å…³å¿ƒä¸åŒæµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡jQueryæä¾›çš„APIè¿›è¡Œå¼€å‘ï¼Œä»£ç ä¹Ÿä¼šæ›´åŠ ç²¾çŸ­ã€‚ 12345678910111213141516171819202122232425262728293031 &lt;!-- ä½¿ç”¨JSåŽŸç”Ÿè¯­æ³• --&gt; &lt;script type="text/javascript"&gt; window.onload = function()&#123; // é€šè¿‡åŽŸç”ŸJSè¯­æ³•èŽ·å–idä¸ºimooc1çš„å…ƒç´ p var p = document.getElementById('imooc1'); // å°†å…ƒç´ påœ¨htmlä¸­å†…å®¹æ”¹å˜ p.innerHTML = 'P1ï¼šæ‚¨å¥½ï¼é€šè¿‡æ…•è¯¾ç½‘å­¦ä¹ jQueryæ‰æ˜¯æœ€ä½³çš„é€”å¾„'; // å°†å…ƒç´ pçš„å†…å®¹é¢œè‰²æ”¹ä¸ºçº¢è‰² p.style.color = 'red'; &#125; &lt;/script&gt; &lt;!-- ä½¿ç”¨jQueryè¯­æ³• --&gt; &lt;script type="text/javascript"&gt; $(document).ready(function() &#123; /** * é€šè¿‡jQueryè¯­æ³•èŽ·å–idä¸ºimooc2çš„å…ƒç´ èŽ·å¾—ä¸€ä¸ªjQueryå¯¹è±¡ * è°ƒç”¨è¯¥å¯¹è±¡çš„html()æ–¹æ³•è¿›è¡Œæ›´æ”¹å†…å®¹ * è°ƒç”¨è¯¥å¯¹è±¡çš„css()æ–¹æ³•è¿›è¡Œæ›´æ”¹é¢œè‰²æ ·å¼ */ var $p = $('#imooc2'); $p.html('P2ï¼šæ‚¨å¥½ï¼é€šè¿‡æ…•è¯¾ç½‘å­¦ä¹ jQueryæ‰æ˜¯æœ€ä½³çš„é€”å¾„').css('color','red'); &#125;); &lt;/script&gt; &lt;/head&gt;&lt;body&gt; &lt;p id="imooc1"&gt;&lt;/p&gt; &lt;p id="imooc2"&gt;&lt;/p&gt;&lt;/body&gt; jQueryçš„å¤„ç†ï¼š 12var $p = $(&apos;#imooc&apos;);$p.html(&apos;æ‚¨å¥½ï¼é€šè¿‡æ…•è¯¾ç½‘å­¦ä¹ jQueryæ‰æ˜¯æœ€ä½³çš„é€”å¾„&apos;).css(&apos;color&apos;,&apos;red&apos;); é€šè¿‡$(â€˜#imoocâ€™)æ–¹æ³•ä¼šå¾—åˆ°ä¸€ä¸ªâ€‹$pçš„jQueryå¯¹è±¡ï¼Œ$pæ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡é‡Œé¢åŒ…å«äº†DOMå¯¹è±¡çš„ä¿¡æ¯ï¼Œç„¶åŽå°è£…äº†å¾ˆå¤šæ“ä½œæ–¹æ³•ï¼Œè°ƒç”¨è‡ªå·±çš„æ–¹æ³•htmlä¸Žcssï¼Œå¾—åˆ°çš„æ•ˆæžœä¸Žæ ‡å‡†çš„JavaScriptå¤„ç†ç»“æžœæ˜¯ä¸€è‡´çš„ã€‚ jQueryå¯¹è±¡è½¬åŒ–æˆDOMå¯¹è±¡ jQueryæ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œè€ŒDOMå¯¹è±¡å°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„DOMå…ƒç´ ã€‚ å¦‚ä½•æŠŠjQueryå¯¹è±¡è½¬æˆDOMå¯¹è±¡ï¼Ÿ åˆ©ç”¨æ•°ç»„ä¸‹æ ‡çš„æ–¹å¼è¯»å–åˆ°jQueryä¸­çš„DOMå¯¹è±¡ HTMLä»£ç  123&lt;div&gt;å…ƒç´ ä¸€&lt;/div&gt;&lt;div&gt;å…ƒç´ äºŒ&lt;/div&gt;&lt;div&gt;å…ƒç´ ä¸‰&lt;/div&gt; JavaScriptä»£ç  123var $div = $(&apos;div&apos;) //jQueryå¯¹è±¡var div = $div[0] //è½¬åŒ–æˆDOMå¯¹è±¡div.style.color = &apos;red&apos; //æ“ä½œdomå¯¹è±¡çš„å±žæ€§ ç”¨jQueryæ‰¾åˆ°æ‰€æœ‰çš„divå…ƒç´ ï¼ˆ3ä¸ªï¼‰ï¼Œå› ä¸ºjQueryå¯¹è±¡ä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„ç»“æž„ï¼Œå¯ä»¥é€šè¿‡æ•°ç»„ä¸‹æ ‡ç´¢å¼•æ‰¾åˆ°ç¬¬ä¸€ä¸ªdivå…ƒç´ ï¼Œé€šè¿‡è¿”å›žçš„divå¯¹è±¡ï¼Œè°ƒç”¨å®ƒçš„styleå±žæ€§ä¿®æ”¹ç¬¬ä¸€ä¸ªdivå…ƒç´ çš„é¢œè‰²ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæ•°ç»„çš„ç´¢å¼•æ˜¯ä»Ž0å¼€å§‹çš„ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡æ˜¯0 é€šè¿‡jQueryè‡ªå¸¦çš„get()æ–¹æ³• jQueryå¯¹è±¡è‡ªèº«æä¾›ä¸€ä¸ª.get() æ–¹æ³•å…è®¸æˆ‘ä»¬ç›´æŽ¥è®¿é—®jQueryå¯¹è±¡ä¸­ç›¸å…³çš„DOMèŠ‚ç‚¹ï¼Œgetæ–¹æ³•ä¸­æä¾›ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼š 123var $div = $(&apos;div&apos;) //jQueryå¯¹è±¡var div = $div.get(0) //é€šè¿‡getæ–¹æ³•ï¼Œè½¬åŒ–æˆDOMå¯¹è±¡div.style.color = &apos;red&apos; //æ“ä½œdomå¯¹è±¡çš„å±žæ€§ DOMå¯¹è±¡è½¬åŒ–æˆjQueryå¯¹è±¡ç›¸æ¯”è¾ƒjQueryè½¬åŒ–æˆDOMï¼Œå¼€å‘ä¸­æ›´å¤šçš„æƒ…å†µæ˜¯æŠŠä¸€ä¸ªdomå¯¹è±¡åŠ å·¥æˆjQueryå¯¹è±¡ã€‚$(å‚æ•°)æ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½çš„æ–¹æ³•ï¼Œé€šè¿‡ä¼ é€’ä¸åŒçš„å‚æ•°è€Œäº§ç”Ÿä¸åŒçš„ä½œç”¨ã€‚ 1å¦‚æžœä¼ é€’ç»™$(DOM)å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªDOMå¯¹è±¡ï¼ŒjQueryæ–¹æ³•ä¼šæŠŠè¿™ä¸ªDOMå¯¹è±¡ç»™åŒ…è£…æˆä¸€ä¸ªæ–°çš„jQueryå¯¹è±¡ é€šè¿‡$(dom)æ–¹æ³•å°†æ™®é€šçš„domå¯¹è±¡åŠ å·¥æˆjQueryå¯¹è±¡ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥è°ƒç”¨jQueryçš„æ–¹æ³•äº† 123&lt;div&gt;å…ƒç´ ä¸€&lt;/div&gt;&lt;div&gt;å…ƒç´ äºŒ&lt;/div&gt;&lt;div&gt;å…ƒç´ ä¸‰&lt;/div&gt; 1234567891011&lt;script type="text/javascript"&gt; var div = document.getElementsByTagName('div'); //domå¯¹è±¡ //å°†domèŠ‚ç‚¹divè½¬åŒ–ä¸º$divçš„jqueryå¯¹è±¡ $jqueryå¯¹è±¡=$(domå¯¹è±¡) var $div = $(div);//jqueryå¯¹è±¡ var $first = $div.first(); //æ‰¾åˆ°ç¬¬ä¸€ä¸ªdivå…ƒç´  $first.css('color', 'red'); //ç»™ç¬¬ä¸€ä¸ªå…ƒç´ è®¾ç½®é¢œè‰² jQueryé€‰æ‹©å™¨ä¹‹idé€‰æ‹©å™¨idé€‰æ‹©å™¨ï¼šä¸€ä¸ªç”¨æ¥æŸ¥æ‰¾çš„IDï¼Œå³å…ƒç´ çš„idå±žæ€§ 1$( &quot;#id&quot; ) idé€‰æ‹©å™¨ä¹Ÿæ˜¯åŸºæœ¬çš„é€‰æ‹©å™¨ï¼ŒjQueryå†…éƒ¨ä½¿ç”¨JavaScriptå‡½æ•°document.getElementById()æ¥å¤„ç†IDçš„èŽ·å–ã€‚åŽŸç”Ÿè¯­æ³•çš„æ”¯æŒæ€»æ˜¯éžå¸¸é«˜æ•ˆçš„ï¼Œæ‰€ä»¥åœ¨æ“ä½œDOMçš„èŽ·å–ä¸Šï¼Œå¦‚æžœèƒ½é‡‡ç”¨idçš„è¯å°½ç„¶è€ƒè™‘ç”¨è¿™ä¸ªé€‰æ‹©å™¨ 1idæ˜¯å”¯ä¸€çš„ï¼Œæ¯ä¸ªidå€¼åœ¨ä¸€ä¸ªé¡µé¢ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚å¦‚æžœå¤šä¸ªå…ƒç´ åˆ†é…äº†ç›¸åŒçš„idï¼Œå°†åªåŒ¹é…è¯¥idé€‰æ‹©é›†åˆçš„ç¬¬ä¸€ä¸ªDOMå…ƒç´ ã€‚ä½†è¿™ç§è¡Œä¸ºä¸åº”è¯¥å‘ç”Ÿ;æœ‰è¶…è¿‡ä¸€ä¸ªå…ƒç´ çš„é¡µé¢ä½¿ç”¨ç›¸åŒçš„idæ˜¯æ— æ•ˆçš„ 1234567891011121314151617181920iv id="imooc"&gt; &lt;p&gt;id="imooc"&lt;/p&gt; &lt;p&gt;jQueryé€‰ä¸­&lt;/p&gt; &lt;/div&gt; &lt;div id="imooc"&gt; &lt;p&gt;id="imooc"&lt;/p&gt; &lt;p&gt;jQueryæœªé€‰ä¸­&lt;/p&gt; &lt;/div&gt; &lt;script type="text/javascript"&gt; //é€šè¿‡åŽŸç”Ÿæ–¹æ³•å¤„ç† var div = document.getElementById('aaron'); div.style.border = "3px solid blue"; &lt;/script&gt; &lt;script type="text/javascript"&gt; //é€šè¿‡jQueryç›´æŽ¥ä¼ å…¥id //idçš„å”¯ä¸€ï¼Œåªé€‰æ‹©åˆ°äº†ç¬¬ä¸€ä¸ªåŒ¹é…çš„idä¸ºimoocçš„divèŠ‚ç‚¹ $("imooc").css("border", "3px solid red"); &lt;/script&gt; #jQueryé€‰æ‹©å™¨ä¹‹ç±»é€‰æ‹©å™¨ ç±»é€‰æ‹©å™¨ï¼Œé¡¾åæ€ä¹‰ï¼Œé€šè¿‡classæ ·å¼ç±»åæ¥èŽ·å–èŠ‚ç‚¹ æè¿°ï¼š 1$( &quot;.class&quot; ) ç±»é€‰æ‹©å™¨ï¼Œç›¸å¯¹idé€‰æ‹©å™¨æ¥è¯´ï¼Œæ•ˆçŽ‡ç›¸å¯¹ä¼šä½Žä¸€ç‚¹ï¼Œä½†æ˜¯ä¼˜åŠ¿å°±æ˜¯å¯ä»¥å¤šé€‰ 1jQueryé™¤äº†é€‰æ‹©ä¸Šçš„ç®€å•ï¼Œè€Œä¸”æ²¡æœ‰å†æ¬¡ä½¿ç”¨å¾ªçŽ¯å¤„ç† //é€šè¿‡åŽŸç”Ÿæ–¹æ³•å¤„ç† //æ ·å¼æ˜¯å¯ä»¥å¤šé€‰çš„ï¼Œæ‰€ä»¥å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåˆé›† //éœ€è¦é€šè¿‡å¾ªçŽ¯ç»™åˆé›†ä¸­æ¯ä¸€ä¸ªå…ƒç´ ä¿®æ”¹æ ·å¼ var divs = document.getElementsByClassName('aaron'); for (var i = 0; i < divs.length; i++) { divs[i].style.border = "3px solid blue"; } --- //é€šè¿‡jQueryç›´æŽ¥ä¼ å…¥class //classé€‰æ‹©å™¨å¯ä»¥é€‰æ‹©å¤šä¸ªå…ƒç´  $(".imooc").css("border", "3px solid red"); --- # jQueryçš„é€‰æ‹©å™¨ä¹‹å…ƒç´ é€‰æ‹©å™¨ å…ƒç´ é€‰æ‹©å™¨ï¼šæ ¹æ®ç»™å®šï¼ˆHTMLï¼‰æ ‡è®°åç§°é€‰æ‹©æ‰€æœ‰çš„å…ƒç´  æè¿°ï¼š 1$ï¼ˆâ€œå…ƒç´ â€ï¼‰ æœç´¢æŒ‡å®šå…ƒç´ æ ‡ç­¾åçš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªåˆé›†çš„æ“ä½œã€‚åŒæ ·çš„ä¹Ÿæœ‰åŽŸç”Ÿæ–¹æ³•çš„getElementsByTagNameï¼ˆï¼‰å‡½æ•°æ”¯æŒ ç¬¬ä¸€ç»„ï¼šé€šè¿‡çš„getElementsByTagNameæ–¹æ³•å¾—åˆ°é¡µé¢æ‰€æœ‰çš„å…ƒç´  1var divs = document.getElementsByTagNameï¼ˆ&apos;div&apos;ï¼‰; çš„divæ˜¯DOMåˆé›†å¯¹è±¡ï¼Œé€šè¿‡å¾ªçŽ¯ç»™æ¯ä¸€ä¸ªåˆé›†ä¸­çš„å…ƒç´ èµ‹äºˆæ–°çš„è¾¹ç•Œæ ·å¼ ç¬¬äºŒç»„ï¼šåŒæ ·çš„æ•ˆæžœï¼Œ$ï¼ˆ â€œPâ€ï¼‰é€‰å–æ‰€æœ‰çš„å…ƒç´ ï¼Œé€šè¿‡CSSæ–¹æ³•ç›´æŽ¥èµ‹äºˆæ ·å¼ # jQueryé€‰æ‹©å™¨ä¹‹å…¨é€‰æ‹©å™¨ï¼ˆ*é€‰æ‹©å™¨ï¼‰ åœ¨CSSä¸­ï¼Œç»å¸¸ä¼šåœ¨ç¬¬ä¸€è¡Œå†™ä¸‹è¿™æ ·ä¸€æ®µæ ·å¼ 1* &#123;padding: 0; margin: 0;&#125; é€šé…ç¬¦*æ„å‘³ç€ç»™æ‰€æœ‰çš„å…ƒç´ è®¾ç½®é»˜è®¤çš„è¾¹è·ã€‚jQueryä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’*é€‰æ‹©å™¨æ¥é€‰ä¸­æ–‡æ¡£é¡µé¢ä¸­çš„å…ƒç´  æè¿°ï¼š 1$( &quot;*&quot; ) //èŽ·å–é¡µé¢ä¸­æ‰€æœ‰çš„å…ƒç´  var elements2 = $("*") ; //åŽŸç”Ÿä¸ŽjQueryæ–¹æ³•æ¯”è¾ƒ //===è¡¨ç¤ºæ•°æ®å’Œç±»åž‹éƒ½ç›¸ç­‰ if(elements2.length === elements1.length){ elements2.css("border","1px solid red"); } --- # jQueryé€‰æ‹©å™¨ä¹‹å±‚çº§é€‰æ‹©å™¨ æ–‡æ¡£ä¸­çš„æ‰€æœ‰çš„èŠ‚ç‚¹ä¹‹é—´éƒ½æ˜¯æœ‰è¿™æ ·æˆ–è€…é‚£æ ·çš„å…³ç³»ã€‚æˆ‘ä»¬å¯ä»¥æŠŠèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»å¯ä»¥ç”¨ä¼ ç»Ÿçš„å®¶æ—å…³ç³»æ¥æè¿°ï¼Œå¯ä»¥æŠŠæ–‡æ¡£æ ‘å½“ä½œä¸€ä¸ªå®¶è°±ï¼Œé‚£ä¹ˆèŠ‚ç‚¹ä¸ŽèŠ‚ç‚¹ç›´æŽ¥å°±ä¼šå­˜åœ¨çˆ¶å­ï¼Œå…„å¼Ÿï¼Œç¥–å­™çš„å…³ç³»äº†ã€‚ é€‰æ‹©å™¨ä¸­çš„å±‚çº§é€‰æ‹©å™¨å°±æ˜¯ç”¨æ¥å¤„ç†è¿™ç§å…³ç³» 1å­å…ƒç´  åŽä»£å…ƒç´  å…„å¼Ÿå…ƒç´  ç›¸é‚»å…ƒç´  é€šè¿‡ä¸€ä¸ªåˆ—è¡¨ï¼Œå¯¹æ¯”å±‚çº§é€‰æ‹©å™¨çš„åŒºåˆ« ![image-20190309113655370](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024821.jpg) ä»”ç»†è§‚å¯Ÿå±‚çº§é€‰æ‹©å™¨ä¹‹é—´è¿˜æ˜¯æœ‰å¾ˆå¤šç›¸ä¼¼ä¸Žä¸åŒç‚¹ 1. å±‚çº§é€‰æ‹©å™¨éƒ½æœ‰ä¸€ä¸ªå‚è€ƒèŠ‚ç‚¹ 2. åŽä»£é€‰æ‹©å™¨åŒ…å«å­é€‰æ‹©å™¨çš„é€‰æ‹©çš„å†…å®¹ 3. ä¸€èˆ¬å…„å¼Ÿé€‰æ‹©å™¨åŒ…å«ç›¸é‚»å…„å¼Ÿé€‰æ‹©çš„å†…å®¹ 4. ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨å’Œä¸€èˆ¬å…„å¼Ÿé€‰æ‹©å™¨æ‰€é€‰æ‹©åˆ°çš„å…ƒç´ ï¼Œå¿…é¡»åœ¨åŒä¸€ä¸ªçˆ¶å…ƒç´ ä¸‹ --- å­é€‰æ‹©å™¨ä¸ŽåŽä»£é€‰æ‹©å™¨ 12345678910111213141516171819202122&lt;div class="left"&gt; &lt;div class="aaron"&gt; &lt;p&gt;divä¸‹çš„ç¬¬ä¸€ä¸ªpå…ƒç´ &lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;divä¸‹çš„ç¬¬ä¸€ä¸ªpå…ƒç´ &lt;/p&gt; &lt;/div&gt;&lt;/div&gt;&lt;div class="right"&gt; &lt;div class="imooc"&gt; &lt;article&gt; &lt;p&gt;divä¸‹çš„articleä¸‹çš„på…ƒç´ &lt;/p&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class="imooc"&gt; &lt;article&gt; &lt;p&gt;divä¸‹çš„articleä¸‹çš„på…ƒç´ &lt;/p&gt; &lt;/article&gt; &lt;/div&gt;&lt;/div&gt; 12345&lt;script type="text/javascript"&gt; //å­é€‰æ‹©å™¨ //$('div &gt; p') é€‰æ‹©æ‰€æœ‰divå…ƒç´ é‡Œé¢çš„å­å…ƒç´ P ä»…ä»…åªæ˜¯åœ¨&lt;div &gt;ä¸‹é¢çš„å…ƒç´ P ä¸åŒ…æ‹¬ä¸‹é¢çš„ä¸‹é¢çš„ $('div &gt; p').css("border", "1px groove blue"); &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //åŽä»£é€‰æ‹©å™¨ //$('div p') é€‰æ‹©æ‰€æœ‰divå…ƒç´ é‡Œé¢çš„på…ƒç´  åªè¦æ˜¯&lt;div&gt;ä¸‹é¢çš„&lt;p&gt;å…ƒç´  å…¨éƒ¨é€‰ä¸­ $('div p').css("border", "1px groove red"); &lt;/script&gt; ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ä¸Žä¸€èˆ¬å…„å¼Ÿé€‰æ‹©å™¨ 1234567891011&lt;h2&gt;ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ä¸Žä¸€èˆ¬å…„å¼Ÿé€‰æ‹©å™¨&lt;/h2&gt; &lt;div class="bottom"&gt; &lt;div&gt;å…„å¼ŸèŠ‚ç‚¹div, +~é€‰æ‹©å™¨ä¸èƒ½å‘å‰é€‰æ‹©&lt;/div&gt; &lt;span class="prev"&gt;é€‰æ‹©å™¨spanå…ƒç´ &lt;/span&gt; &lt;div&gt;spanåŽç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹div&lt;/div&gt; &lt;div&gt;å…„å¼ŸèŠ‚ç‚¹div &lt;div class="small"&gt;å­å…ƒç´ div&lt;/div&gt; &lt;/div&gt; &lt;span&gt;å…„å¼ŸèŠ‚ç‚¹span,ä¸å¯é€‰&lt;/span&gt; &lt;div&gt;å…„å¼ŸèŠ‚ç‚¹div&lt;/div&gt; &lt;/div&gt; 12345&lt;script type="text/javascript"&gt; //ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ //é€‰å–prevåŽé¢çš„ç¬¬ä¸€ä¸ªçš„divå…„å¼ŸèŠ‚ç‚¹ $(".prev+div") $(".prev+div").css("border", "3px groove blue"); &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //ä¸€èˆ¬ç›¸é‚»é€‰æ‹©å™¨ //é€‰å–prevåŽé¢çš„æ‰€æœ‰çš„divå…„å¼ŸèŠ‚ç‚¹ $(".prev ~ div") $(".prev ~ div").css("border", "3px groove yellow"); &lt;/script&gt; # jQueryé€‰æ‹©å™¨ä¹‹åŸºæœ¬ç­›é€‰é€‰æ‹©å™¨ ç­›é€‰é€‰æ‹©å™¨çš„ç”¨æ³•ä¸ŽCSSä¸­çš„ä¼ªå…ƒç´ ç›¸ä¼¼ï¼Œé€‰æ‹©å™¨ç”¨å†’å·â€œï¼šâ€å¼€å¤´ï¼Œé€šè¿‡ä¸€ä¸ªåˆ—è¡¨ï¼Œçœ‹çœ‹åŸºæœ¬ç­›é€‰å™¨çš„æè¿°ï¼š ![image-20190309115232270](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024822.jpg) --- æ³¨æ„äº‹é¡¹ï¼š 1. :eq(), :lt(), :gt(), :even, :odd ç”¨æ¥ç­›é€‰ä»–ä»¬å‰é¢çš„åŒ¹é…è¡¨è¾¾å¼çš„é›†åˆå…ƒç´ ï¼Œæ ¹æ®ä¹‹å‰åŒ¹é…çš„å…ƒç´ åœ¨è¿›ä¸€æ­¥ç­›é€‰ï¼Œæ³¨æ„jQueryåˆé›†éƒ½æ˜¯ä»Ž0å¼€å§‹ç´¢å¼• 2. gtæ˜¯ä¸€ä¸ªæ®µè½ç­›é€‰ï¼Œä»ŽæŒ‡å®šç´¢å¼•çš„ä¸‹ä¸€ä¸ªå¼€å§‹ï¼Œgt(1) å®žé™…ä»Ž2å¼€å§‹ â€” 12345678910111213141516171819202122232425&lt;body&gt; &lt;h2&gt;åŸºæœ¬ç­›é€‰å™¨&lt;/h2&gt; &lt;h3&gt;:first/:last/:even/:odd&lt;/h3&gt; &lt;div class="left"&gt; &lt;div class="div"&gt; &lt;p&gt;div:first&lt;/p&gt; &lt;p&gt;:even&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:odd&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:even&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:odd&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:even&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;div:last&lt;/p&gt; &lt;p&gt;:odd&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; ![image-20190309115721147](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024845.jpg) --- 1234&lt;script type="text/javascript"&gt; //æ‰¾åˆ°ç¬¬ä¸€ä¸ªdiv æ ¹æ®ç±»é€‰æ‹©å™¨æ¥é€‰æ‹©çš„ $(".div:first").css("color", "#CD00CE"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //æ‰¾åˆ°æœ€åŽä¸€ä¸ªdiv $(".div:last").css("color", "#CD00CE"); &lt;/script&gt; ![image-20190309120036431](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024846.jpg) --- ![image-20190309120200550](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024849.jpg) 1234&lt;script type="text/javascript"&gt; //:even é€‰æ‹©æ‰€å¼•å€¼ä¸ºå¶æ•°çš„å…ƒç´ ï¼Œä»Ž 0 å¼€å§‹è®¡æ•° $(".div:even").css("color", "#CD00CE"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //:odd é€‰æ‹©æ‰€å¼•å€¼ä¸ºå¥‡æ•°çš„å…ƒç´ ï¼Œä»Ž 0 å¼€å§‹è®¡æ•° $(".div:odd").css("color", "#CD00CE"); &lt;/script&gt; ## æ³¨æ„ è¿‡æ»¤å™¨éƒ½æ˜¯åœ¨divé‡Œé¢è¿‡æ»¤çš„ 1234567891011121314151617181920&lt;h3&gt;:eq/:gt/:lt&lt;/h3&gt; &lt;div class="left"&gt; &lt;div class="aaron"&gt; &lt;p&gt;:lt(3)&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;:lt(3)&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;:eq(2)&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;:gt(3)&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;:gt(3)&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; 12345&lt;script type="text/javascript"&gt; //:eq //é€‰æ‹©å•ä¸ª $(".aaron:eq(2)").css("border", "3px groove blue"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //:gt é€‰æ‹©åŒ¹é…é›†åˆä¸­æ‰€æœ‰ç´¢å¼•å€¼å¤§äºŽç»™å®šindexå‚æ•°çš„å…ƒç´ $(".aaron:gt(2)").css("border", "3px groove blue"); &lt;/script&gt; 12345 &lt;script type="text/javascript"&gt;//:lt é€‰æ‹©åŒ¹é…é›†åˆä¸­æ‰€æœ‰ç´¢å¼•å€¼å°äºŽç»™å®šindexå‚æ•°çš„å…ƒç´ //ä¸Ž:gtç›¸å$(".aaron:gt(2)").css("color", "#CD00CD");&lt;/script&gt; 123456 &lt;script type="text/javascript"&gt; //:not é€‰æ‹©æ‰€æœ‰å…ƒç´ åŽ»é™¤ä¸åŒ¹é…ç»™å®šçš„é€‰æ‹©å™¨çš„å…ƒç´  //é€‰ä¸­æ‰€æœ‰ç´§æŽ¥ç€æ²¡æœ‰checkedå±žæ€§çš„inputå…ƒç´ åŽçš„på…ƒç´ ï¼Œèµ‹äºˆé¢œè‰² $("input:not(:checked) + p").css("background-color", "#CD00CD");&lt;/script&gt; # jQueryé€‰æ‹©å™¨ä¹‹å†…å®¹ç­›é€‰é€‰æ‹©å™¨ åŸºæœ¬ç­›é€‰é€‰æ‹©å™¨é’ˆå¯¹çš„éƒ½æ˜¯å…ƒç´ DOMèŠ‚ç‚¹ï¼Œå¦‚æžœæˆ‘ä»¬è¦é€šè¿‡å†…å®¹æ¥è¿‡æ»¤ï¼ŒjQueryä¹Ÿæä¾›äº†ä¸€ç»„å†…å®¹ç­›é€‰é€‰æ‹©å™¨ï¼Œå½“ç„¶å…¶è§„åˆ™ä¹Ÿä¼šä½“çŽ°åœ¨å®ƒæ‰€åŒ…å«çš„å­å…ƒç´ æˆ–è€…æ–‡æœ¬å†…å®¹ä¸Š å†…å®¹è¿‡æ»¤å™¨æè¿°å¦‚ä¸‹è¡¨ï¼š ![image-20190309120754082](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-24850.jpg) --- **æ³¨æ„äº‹é¡¹ï¼š** 1. :containsä¸Ž:haséƒ½æœ‰æŸ¥æ‰¾çš„æ„æ€ï¼Œä½†æ˜¯containsæŸ¥æ‰¾åŒ…å«â€œæŒ‡å®šæ–‡æœ¬â€çš„å…ƒç´ ï¼ŒhasæŸ¥æ‰¾åŒ…å«â€œæŒ‡å®šå…ƒç´ â€çš„å…ƒç´  2. å¦‚æžœ:containsåŒ¹é…çš„æ–‡æœ¬åŒ…å«åœ¨å…ƒç´ çš„å­å…ƒç´ ä¸­ï¼ŒåŒæ ·è®¤ä¸ºæ˜¯ç¬¦åˆæ¡ä»¶çš„ã€‚ 3. :parentä¸Ž:emptyæ˜¯ç›¸åçš„ï¼Œä¸¤è€…æ‰€æ¶‰åŠçš„å­å…ƒç´ ï¼ŒåŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹ 123456789101112131415161718&lt;h2&gt;å†…å®¹ç­›é€‰å™¨&lt;/h2&gt; &lt;h3&gt;:contains/:has&lt;/h3&gt; &lt;div class="left"&gt; &lt;div class="div"&gt; &lt;p&gt;:contains&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:contains&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt; &lt;span&gt;:has&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:contains&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; ![image-20190309121007202](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024851.jpg) 12345&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰class='div'ä¸­DOMå…ƒç´ ä¸­åŒ…å«"contains"çš„å…ƒç´ èŠ‚ç‚¹æ–‡æœ¬ç±»å®¹ //å¹¶ä¸”è®¾ç½®é¢œè‰² $(".div:contains(':contains')").css("color", "#CD00CD");&lt;/script&gt; 123456&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰class='div'ä¸­DOMå…ƒç´ ä¸­åŒ…å«"span"çš„å…ƒç´ èŠ‚ç‚¹ //å¹¶ä¸”è®¾ç½®é¢œè‰² $(".div:has(span)").css("color", "blue");&lt;/script&gt; 123456789101112131415&lt;h3&gt;:parent/:empty&lt;/h3&gt; &lt;div class="left"&gt; &lt;div class="aaron"&gt; &lt;a&gt;:parent&lt;/a&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;a&gt;:parent&lt;/a&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;a&gt;:parent&lt;/a&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;a&gt;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; ![image-20190309134925126](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024852.jpg) //é€‰æ‹©æ‰€æœ‰åŒ…å«å­å…ƒç´ æˆ–è€…æ–‡æœ¬çš„aå…ƒç´  //å¢žåŠ ä¸€ä¸ªè“è‰²çš„è¾¹æ¡† $("a:parent").css("border", "3px groove blue"); 12345&lt;script type="text/javascript"&gt; //é€‰æ‹©æ‰€æœ‰åŒ…å«å­å…ƒç´ æˆ–è€…æ–‡æœ¬çš„aå…ƒç´  //å¢žåŠ ä¸€ä¸ªè“è‰²çš„è¾¹æ¡† $("a:parent").css("border", "3px groove blue"); &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //æ‰¾åˆ°aå…ƒç´ ä¸‹é¢çš„æ‰€æœ‰ç©ºèŠ‚ç‚¹(æ²¡æœ‰å­å…ƒç´ ) //å¢žåŠ ä¸€æ®µæ–‡æœ¬ä¸Žè¾¹æ¡† $("a:empty").text(":empty").css("border", "3px groove red"); &lt;/script&gt; jQueryé€‰æ‹©å™¨ä¹‹å¯è§æ€§ç­›é€‰é€‰æ‹©å™¨å…ƒç´ æœ‰æ˜¾ç¤ºçŠ¶æ€ä¸Žéšè—çŠ¶æ€ï¼ŒjQueryæ ¹æ®å…ƒç´ çš„çŠ¶æ€æ‰©å±•äº†å¯è§æ€§ç­›é€‰é€‰æ‹©å™¨:visibleä¸Ž:hidden æè¿°å¦‚ä¸‹ï¼š è¿™2ä¸ªé€‰æ‹©å™¨éƒ½æ˜¯ jQuery å»¶ä¼¸å‡ºæ¥çš„ï¼Œçœ‹èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å…ƒç´ å¯è§æ€§ä¾èµ–äºŽé€‚ç”¨çš„æ ·å¼ 1:hiddené€‰æ‹©å™¨ï¼Œä¸ä»…ä»…åŒ…å«æ ·å¼æ˜¯display=&quot;none&quot;çš„å…ƒç´ ï¼Œè¿˜åŒ…æ‹¬éšè—è¡¨å•ã€visibilityç­‰ç­‰ æˆ‘ä»¬æœ‰å‡ ç§æ–¹å¼å¯ä»¥éšè—ä¸€ä¸ªå…ƒç´ ï¼š CSS displayçš„å€¼æ˜¯noneã€‚ type=â€hiddenâ€çš„è¡¨å•å…ƒç´ ã€‚ å®½åº¦å’Œé«˜åº¦éƒ½æ˜¾å¼è®¾ç½®ä¸º0ã€‚ ä¸€ä¸ªç¥–å…ˆå…ƒç´ æ˜¯éšè—çš„ï¼Œè¯¥å…ƒç´ æ˜¯ä¸ä¼šåœ¨é¡µé¢ä¸Šæ˜¾ç¤º CSS visibilityçš„å€¼æ˜¯hidden CSS opacityçš„æŒ‡æ˜¯0 123å¦‚æžœå…ƒç´ ä¸­å æ®æ–‡æ¡£ä¸­ä¸€å®šçš„ç©ºé—´,å…ƒç´ è¢«è®¤ä¸ºæ˜¯å¯è§çš„ã€‚å¯è§å…ƒç´ çš„å®½åº¦æˆ–é«˜åº¦ï¼Œæ˜¯å¤§äºŽé›¶ã€‚å…ƒç´ çš„visibility: hidden æˆ– opacity: 0è¢«è®¤ä¸ºæ˜¯å¯è§çš„ï¼Œå› ä¸ºä»–ä»¬ä»ç„¶å ç”¨ç©ºé—´å¸ƒå±€ã€‚ ä¸åœ¨æ–‡æ¡£ä¸­çš„å…ƒç´ æ˜¯è¢«è®¤ä¸ºæ˜¯ä¸å¯è§çš„ï¼Œå¦‚æžœå½“ä»–ä»¬è¢«æ’å…¥åˆ°æ–‡æ¡£ä¸­ï¼ŒjQueryæ²¡æœ‰åŠžæ³•çŸ¥é“ä»–ä»¬æ˜¯å¦æ˜¯å¯è§çš„ï¼Œå› ä¸ºå…ƒç´ å¯è§æ€§ä¾èµ–äºŽé€‚ç”¨çš„æ ·å¼ 1234567891011121314151617181920&lt;h2&gt;å¯è§æ€§ç­›é€‰é€‰æ‹©å™¨&lt;/h2&gt;&lt;h3&gt;:visible/:hidden&lt;/h3&gt;&lt;div class="left"&gt; &lt;div class="div"&gt; &lt;a&gt;display&lt;/a&gt; &lt;p id="div1" style="display:none;"&gt;display&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;a&gt;width&lt;/a&gt; &lt;a&gt;height&lt;/a&gt; &lt;p id="div2" style="width:0;height:0"&gt;width/height&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;a&gt;visibility&lt;/a&gt; &lt;a&gt;opacity&lt;/a&gt; &lt;p id="div3" style="visibility:hidden;opacity:0"&gt;visibility&lt;/p&gt; &lt;/div&gt;&lt;/div&gt;&lt;p id="show"&gt;&lt;/p&gt; 123456789&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾id = div3çš„DOMå…ƒç´ ,æ˜¯å¦å¯è§ show( '#div3:visible' );&lt;/script&gt;&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾id = div1çš„DOMå…ƒç´ ,æ˜¯å¦éšè— show( '#div1:hidden; );&lt;/script&gt; jQueryé€‰æ‹©å™¨ä¹‹å±žæ€§ç­›é€‰é€‰æ‹©å™¨å±žæ€§é€‰æ‹©å™¨è®©ä½ å¯ä»¥åŸºäºŽå±žæ€§æ¥å®šä½ä¸€ä¸ªå…ƒç´ ã€‚å¯ä»¥åªæŒ‡å®šè¯¥å…ƒç´ çš„æŸä¸ªå±žæ€§ï¼Œè¿™æ ·æ‰€æœ‰ä½¿ç”¨è¯¥å±žæ€§è€Œä¸ç®¡å®ƒçš„å€¼ï¼Œè¿™ä¸ªå…ƒç´ éƒ½å°†è¢«å®šä½ï¼Œä¹Ÿå¯ä»¥æ›´åŠ æ˜Žç¡®å¹¶å®šä½åœ¨è¿™äº›å±žæ€§ä¸Šä½¿ç”¨ç‰¹å®šå€¼çš„å…ƒç´ ï¼Œè¿™å°±æ˜¯å±žæ€§é€‰æ‹©å™¨å±•ç¤ºå®ƒä»¬çš„å¨åŠ›çš„åœ°æ–¹ã€‚ 1234åœ¨è¿™ä¹ˆå¤šå±žæ€§é€‰æ‹©å™¨ä¸­[attr="value"]å’Œ[attr*="value"]æ˜¯æœ€å®žç”¨çš„[attr="value"]èƒ½å¸®æˆ‘ä»¬å®šä½ä¸åŒç±»åž‹çš„å…ƒç´ ï¼Œç‰¹åˆ«æ˜¯è¡¨å•formå…ƒç´ çš„æ“ä½œï¼Œæ¯”å¦‚è¯´input[type="text"],input[type="checkbox"]ç­‰[attr*="value"]èƒ½åœ¨ç½‘ç«™ä¸­å¸®åŠ©æˆ‘ä»¬åŒ¹é…ä¸åŒç±»åž‹çš„æ–‡ä»¶ 12345678910111213141516&lt;h2&gt;å±žæ€§ç­›é€‰é€‰æ‹©å™¨&lt;/h2&gt; &lt;h3&gt;[att=val]ã€[att]ã€[att|=val]ã€[att~=val]&lt;/h3&gt; &lt;div class="left" testattr="true" &gt; &lt;div class="div" testattr="true" name='p1'&gt; &lt;a&gt;[att=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" p2&gt; &lt;a&gt;[att]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" name="-"&gt; &lt;a&gt;[att|=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" name="a b"&gt; &lt;a&gt;[att~=val]&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; 1234&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰divä¸­ï¼Œå±žæ€§name=p1çš„divå…ƒç´  &lt;div class="div" testattr="true" name='p1'&gt; $('div[name=p1]').css("border", "3px groove red"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰divä¸­ï¼Œæœ‰å±žæ€§p2çš„divå…ƒç´  &lt;div class="div" testattr="true" p2&gt; $('div[p2]').css("border", "3px groove blue"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰divä¸­ï¼Œæœ‰å±žæ€§nameä¸­çš„å€¼åªåŒ…å«ä¸€ä¸ªè¿žå­—ç¬¦â€œ-â€çš„divå…ƒç´  'div[name|="-"]" $('div[name|="-"]').css("border", "3px groove #00FF00"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰divä¸­ï¼Œæœ‰å±žæ€§nameä¸­çš„å€¼åŒ…å«ä¸€ä¸ªè¿žå­—ç¬¦â€œç©ºâ€å’Œâ€œaâ€çš„divå…ƒç´  $('div[name~="a"]').css("border", "3px groove #668B8B"); &lt;/script&gt; 123456789101112131415&lt;h3&gt;[att^=val]ã€[att*=val]ã€[att$=val]ã€[att!=val]&lt;/h3&gt; &lt;div class="left" testattr="true" &gt; &lt;div class="div" testattr="true" name='imooc-aaorn'&gt; &lt;a&gt;[att^=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" name='aaorn-imooc'&gt; &lt;a&gt;[att$=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" name="attr-test-selector"&gt; &lt;a&gt;[att*=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" name="a b"&gt; &lt;a&gt;[att!=val]&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; 123456789&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰divä¸­ï¼Œå±žæ€§nameçš„å€¼æ˜¯ç”¨imoocå¼€å¤´çš„ $('div[name^=imooc]').css("border", "3px groove red"); &lt;/script&gt;&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰divä¸­ï¼Œå±žæ€§nameçš„å€¼æ˜¯ç”¨imoocç»“å°¾çš„ $('div[name$=imooc]').css("border", "3px groove blue"); &lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; //æŸ¥æ‰¾æ‰€æœ‰divä¸­ï¼Œæœ‰å±žæ€§nameä¸­çš„å€¼åŒ…å«ä¸€ä¸ªtestå­—ç¬¦ä¸²çš„divå…ƒç´  $(&apos;div*=test&apos;).css(&quot;border&quot;, &quot;3px groove #00FF00&quot;); &lt;/script&gt; 1234&lt;script type=&quot;text/javascript&quot;&gt; //æŸ¥æ‰¾æ‰€æœ‰divä¸­ï¼Œæœ‰å±žæ€§nameä¸­çš„å€¼åŒ…å«ä¸€ä¸ªtestå­—ç¬¦ä¸²çš„divå…ƒç´  $(&apos;div*=test&apos;).css(&quot;border&quot;, &quot;3px groove #00FF00&quot;); &lt;/script&gt; jQueryé€‰æ‹©å™¨ä¹‹å­å…ƒç´ ç­›é€‰é€‰æ‹©å™¨å­å…ƒç´ ç­›é€‰é€‰æ‹©å™¨ä¸å¸¸ä½¿ç”¨ï¼Œå…¶ç­›é€‰è§„åˆ™æ¯”èµ·å…¶å®ƒçš„é€‰æ‹©å™¨ç¨å¾®è¦å¤æ‚ç‚¹ æ³¨æ„äº‹é¡¹ï¼š :firståªåŒ¹é…ä¸€ä¸ªå•ç‹¬çš„å…ƒç´ ï¼Œä½†æ˜¯:first-childé€‰æ‹©å™¨å¯ä»¥åŒ¹é…å¤šä¸ªï¼šå³ä¸ºæ¯ä¸ªçˆ¶çº§å…ƒç´ åŒ¹é…ç¬¬ä¸€ä¸ªå­å…ƒç´ ã€‚è¿™ç›¸å½“äºŽ:nth-child(1) :last åªåŒ¹é…ä¸€ä¸ªå•ç‹¬çš„å…ƒç´ ï¼Œ :last-child é€‰æ‹©å™¨å¯ä»¥åŒ¹é…å¤šä¸ªå…ƒç´ ï¼šå³ï¼Œä¸ºæ¯ä¸ªçˆ¶çº§å…ƒç´ åŒ¹é…æœ€åŽä¸€ä¸ªå­å…ƒç´  å¦‚æžœå­å…ƒç´ åªæœ‰ä¸€ä¸ªçš„è¯ï¼Œ:first-childä¸Ž:last-childæ˜¯åŒä¸€ä¸ª :only-childåŒ¹é…æŸä¸ªå…ƒç´ æ˜¯çˆ¶å…ƒç´ ä¸­å”¯ä¸€çš„å­å…ƒç´ ï¼Œå°±æ˜¯è¯´å½“å‰å­å…ƒç´ æ˜¯çˆ¶å…ƒç´ ä¸­å”¯ä¸€çš„å…ƒç´ ï¼Œåˆ™åŒ¹é… jQueryå®žçŽ°:nth-child(n)æ˜¯ä¸¥æ ¼æ¥è‡ªCSSè§„èŒƒï¼Œæ‰€ä»¥nå€¼æ˜¯â€œç´¢å¼•â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»Ž1å¼€å§‹è®¡æ•°ï¼Œ:nth-child(index)ä»Ž1å¼€å§‹çš„ï¼Œè€Œeq(index)æ˜¯ä»Ž0å¼€å§‹çš„ nth-child(n) ä¸Ž :nth-last-child(n) çš„åŒºåˆ«å‰è€…æ˜¯ä»Žå‰å¾€åŽè®¡ç®—ï¼ŒåŽè€…ä»ŽåŽå¾€å‰è®¡ç®— 12345&lt;script type=&quot;text/javascript&quot;&gt; //æŸ¥æ‰¾class=&quot;first-div&quot;ä¸‹çš„ç¬¬ä¸€ä¸ªaå…ƒç´  //é’ˆå¯¹æ‰€æœ‰çˆ¶çº§ä¸‹çš„ç¬¬ä¸€ä¸ª $(&apos;.first-div a:first-child&apos;).css(&quot;color&quot;, &quot;#CD00CD&quot;); &lt;/script&gt; 123456&lt;script type=&quot;text/javascript&quot;&gt; //æŸ¥æ‰¾class=&quot;first-div&quot;ä¸‹çš„æœ€åŽä¸€ä¸ªaå…ƒç´  //é’ˆå¯¹æ‰€æœ‰çˆ¶çº§ä¸‹çš„æœ€åŽä¸€ä¸ª //å¦‚æžœåªæœ‰ä¸€ä¸ªå…ƒç´ çš„è¯ï¼Œlastä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´  $(&apos;.first-div a:last-child&apos;).css(&quot;color&quot;, &quot;red&quot;); &lt;/script&gt; 12345&lt;script type=&quot;text/javascript&quot;&gt; //æŸ¥æ‰¾class=&quot;first-div&quot;ä¸‹çš„åªæœ‰ä¸€ä¸ªå­å…ƒç´ çš„aå…ƒç´  $(&apos;.first-div a:only-child&apos;).css(&quot;color&quot;, &quot;blue&quot;);&lt;/script&gt; 1234&lt;script type=&quot;text/javascript&quot;&gt; //æŸ¥æ‰¾class=&quot;last-div&quot;ä¸‹çš„ç¬¬äºŒä¸ªaå…ƒç´  $(&apos;.last-div a:nth-child(2)&apos;).css(&quot;color&quot;, &quot;#CD00CD&quot;);&lt;/script&gt; 1234&lt;script type=&quot;text/javascript&quot;&gt; //æŸ¥æ‰¾class=&quot;last-div&quot;ä¸‹çš„å€’æ•°ç¬¬äºŒä¸ªaå…ƒç´  $(&apos;.last-div a:nth-last-child(2)&apos;.css(&quot;color&quot;, &quot;red&quot;);&lt;/script&gt; jQueryé€‰æ‹©å™¨ä¹‹è¡¨å•å…ƒç´ é€‰æ‹©å™¨æ— è®ºæ˜¯æäº¤è¿˜æ˜¯ä¼ é€’æ•°æ®ï¼Œè¡¨å•å…ƒç´ åœ¨åŠ¨æ€äº¤äº’é¡µé¢çš„ä½œç”¨æ˜¯éžå¸¸é‡è¦çš„ã€‚jQueryä¸­ä¸“é—¨åŠ å…¥äº†è¡¨å•é€‰æ‹©å™¨ï¼Œä»Žè€Œèƒ½å¤Ÿæžå…¶æ–¹ä¾¿åœ°èŽ·å–åˆ°æŸä¸ªç±»åž‹çš„è¡¨å•å…ƒç´  è¡¨å•é€‰æ‹©å™¨çš„å…·ä½“æ–¹æ³•æè¿°ï¼š é™¤äº†inputç­›é€‰é€‰æ‹©å™¨ï¼Œå‡ ä¹Žæ¯ä¸ªè¡¨å•ç±»åˆ«ç­›é€‰å™¨éƒ½å¯¹åº”ä¸€ä¸ªinputå…ƒç´ çš„typeå€¼ã€‚å¤§éƒ¨åˆ†è¡¨å•ç±»åˆ«ç­›é€‰å™¨å¯ä»¥ä½¿ç”¨å±žæ€§ç­›é€‰å™¨æ›¿æ¢ã€‚æ¯”å¦‚ $(â€˜:passwordâ€™) == $(â€˜[type=password]â€™) å­å…ƒç´ ç­›é€‰é€‰æ‹©å™¨123456789101112131415&lt;h3&gt;inputã€textã€passwordã€radioã€checkbox&lt;/h3&gt;&lt;h3&gt;submitã€imageã€resetã€buttonã€file&lt;/h3&gt;&lt;div class="left first-div"&gt; &lt;form&gt; &lt;input type="text" value="textç±»åž‹"/&gt; &lt;input type="password" value="password"/&gt; &lt;input type="radio"/&gt; &lt;input type="checkbox"/&gt; &lt;input type="submit" /&gt; &lt;input type="image" /&gt; &lt;input type="reset" /&gt; &lt;input type="button" value="Button" /&gt; &lt;input type="file" /&gt; &lt;/form&gt;&lt;/div&gt; 12345&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰ input, textarea, select å’Œ button å…ƒç´  //:input é€‰æ‹©å™¨åŸºæœ¬ä¸Šé€‰æ‹©æ‰€æœ‰è¡¨å•æŽ§ä»¶ $(':input').css("border", "1px groove red"); &lt;/script&gt; jQueryé€‰æ‹©å™¨ä¹‹è¡¨å•å¯¹è±¡å±žæ€§ç­›é€‰é€‰æ‹©å™¨é™¤äº†è¡¨å•å…ƒç´ é€‰æ‹©å™¨å¤–ï¼Œè¡¨å•å¯¹è±¡å±žæ€§ç­›é€‰é€‰æ‹©å™¨ä¹Ÿæ˜¯ä¸“é—¨é’ˆå¯¹è¡¨å•å…ƒç´ çš„é€‰æ‹©å™¨ï¼Œå¯ä»¥é™„åŠ åœ¨å…¶ä»–é€‰æ‹©å™¨çš„åŽé¢ï¼Œä¸»è¦åŠŸèƒ½æ˜¯å¯¹æ‰€é€‰æ‹©çš„è¡¨å•å…ƒç´ è¿›è¡Œç­›é€‰ æ³¨æ„äº‹é¡¹ï¼š é€‰æ‹©å™¨é€‚ç”¨äºŽå¤é€‰æ¡†å’Œå•é€‰æ¡†ï¼Œå¯¹äºŽä¸‹æ‹‰æ¡†å…ƒç´ , ä½¿ç”¨ :selected é€‰æ‹©å™¨ åœ¨æŸäº›æµè§ˆå™¨ä¸­ï¼Œé€‰æ‹©å™¨:checkedå¯èƒ½ä¼šé”™è¯¯é€‰å–åˆ°å…ƒç´ ï¼Œæ‰€ä»¥ä¿é™©èµ·è§æ¢ç”¨é€‰æ‹©å™¨input:checkedï¼Œç¡®ä¿åªä¼šé€‰å–å…ƒç´  12345&lt;form&gt; &lt;input type="text" value="æœªè®¾ç½®disabled" /&gt; &lt;input type="text" value="è®¾ç½®disabled" disabled="disabled" /&gt; &lt;input type="text" value="æœªè®¾ç½®disabled" /&gt; &lt;/form&gt; 12345678910&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰inputæ‰€æœ‰å¯ç”¨çš„ï¼ˆæœªè¢«ç¦ç”¨çš„å…ƒç´ ï¼‰inputå…ƒç´ ã€‚ $('input:enabled').css("border", "2px groove red");&lt;/script&gt;&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰inputæ‰€æœ‰ä¸å¯ç”¨çš„ï¼ˆè¢«ç¦ç”¨çš„å…ƒç´ ï¼‰inputå…ƒç´ ã€‚ $('input:disabled').css("border", "2px groove blue");&lt;/script&gt; 123456789101112131415&lt;h3&gt;checkedã€selected&lt;/h3&gt; &lt;form&gt; &lt;input type="checkbox" checked="checked"&gt; &lt;input type="checkbox"&gt; &lt;input type="radio" checked&gt; &lt;input type="radio"&gt; &lt;select name="garden" multiple="multiple"&gt; &lt;option&gt;imooc&lt;/option&gt; &lt;option selected="selected"&gt;æ…•è¯¾ç½‘&lt;/option&gt; &lt;option&gt;aaron&lt;/option&gt; &lt;option selected="selected"&gt;åšå®¢å›­&lt;/option&gt; &lt;/select&gt; &lt;/form&gt; 123456&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰inputæ‰€æœ‰å‹¾é€‰çš„å…ƒç´ (å•é€‰æ¡†,å¤é€‰æ¡†) //ç§»é™¤inputçš„checkedå±žæ€§ $('input:checked').removeAttr('checked')&lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //æŸ¥æ‰¾æ‰€æœ‰optionå…ƒç´ ä¸­,æœ‰selectedå±žæ€§è¢«é€‰ä¸­çš„é€‰é¡¹ //ç§»é™¤optionçš„selectedå±žæ€§ $('input:selected').removeAttr('selected')&lt;/script&gt; jQueryé€‰æ‹©å™¨ä¹‹ç‰¹æ®Šé€‰æ‹©å™¨thisç›¸ä¿¡å¾ˆå¤šåˆšæŽ¥è§¦jQueryçš„äººï¼Œå¾ˆå¤šéƒ½ä¼šå¯¹$(this)å’Œthisçš„åŒºåˆ«æ¨¡ç³Šä¸æ¸…ï¼Œé‚£ä¹ˆè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ thisæ˜¯JavaScriptä¸­çš„å…³é”®å­—ï¼ŒæŒ‡çš„æ˜¯å½“å‰çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œç®€å•çš„è¯´å°±æ˜¯æ–¹æ³•/å±žæ€§çš„æ‰€æœ‰è€… 12345678var imooc = &#123; name:&quot;æ…•è¯¾ç½‘&quot;, getName:function()&#123; //this,å°±æ˜¯imoocå¯¹è±¡ return this.name; &#125;&#125;imooc.getName(); //æ…•è¯¾ç½‘ å½“ç„¶åœ¨JavaScriptä¸­thisæ˜¯åŠ¨æ€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡éƒ½æ˜¯å¯ä»¥è¢«åŠ¨æ€æ”¹å˜çš„(å¯ä»¥é€šè¿‡call,applyç­‰æ–¹æ³•)ï¼Œå…·ä½“çš„å¤§å®¶å¯ä»¥æŸ¥é˜…ç›¸å…³èµ„æ–™ åŒæ ·çš„åœ¨DOMä¸­thiså°±æ˜¯æŒ‡å‘äº†è¿™ä¸ªhtmlå…ƒç´ å¯¹è±¡ï¼Œå› ä¸ºthiså°±æ˜¯DOMå…ƒç´ æœ¬èº«çš„ä¸€ä¸ªå¼•ç”¨ å‡å¦‚ç»™é¡µé¢ä¸€ä¸ªPå…ƒç´ ç»‘å®šä¸€ä¸ªäº‹ä»¶: 123456p.addEventListener(&apos;click&apos;,function()&#123; //this === p //ä»¥ä¸‹ä¸¤è€…çš„ä¿®æ”¹éƒ½æ˜¯ç­‰ä»·çš„ this.style.color = &quot;red&quot;; p.style.color = &quot;red&quot;;&#125;,false); é€šè¿‡addEventListenerç»‘å®šçš„äº‹ä»¶å›žè°ƒä¸­ï¼ŒthisæŒ‡å‘çš„æ˜¯å½“å‰çš„domå¯¹è±¡ï¼Œæ‰€ä»¥å†æ¬¡ä¿®æ”¹è¿™æ ·å¯¹è±¡çš„æ ·å¼ï¼Œåªéœ€è¦é€šè¿‡thisèŽ·å–åˆ°å¼•ç”¨å³å¯ 1this.style.color = &quot;red&quot; ä½†æ˜¯è¿™æ ·çš„æ“ä½œå…¶å®žè¿˜æ˜¯å¾ˆä¸æ–¹ä¾¿çš„ï¼Œè¿™é‡Œé¢å°±è¦æ¶‰åŠä¸€å¤§å †çš„æ ·å¼å…¼å®¹ï¼Œå¦‚æžœé€šè¿‡jQueryå¤„ç†å°±ä¼šç®€å•å¤šäº†ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠthisåŠ å·¥æˆjQueryå¯¹è±¡ 12345$(&apos;p&apos;).click(function()&#123; //æŠŠpå…ƒç´ è½¬åŒ–æˆjQueryçš„å¯¹è±¡ var $this= $(this) $this.css(&apos;color&apos;,&apos;red&apos;)&#125;) é€šè¿‡æŠŠ$()æ–¹æ³•ä¼ å…¥å½“å‰çš„å…ƒç´ å¯¹è±¡çš„å¼•ç”¨thisï¼ŒæŠŠè¿™ä¸ªthisåŠ å·¥æˆjQueryå¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨jQueryæä¾›çš„å¿«æ·æ–¹æ³•ç›´æŽ¥å¤„ç†æ ·å¼äº† 12thisï¼Œè¡¨ç¤ºå½“å‰çš„ä¸Šä¸‹æ–‡å¯¹è±¡æ˜¯ä¸€ä¸ªhtmlå¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨htmlå¯¹è±¡æ‰€æ‹¥æœ‰çš„å±žæ€§å’Œæ–¹æ³•ã€‚$(this),ä»£è¡¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡æ˜¯ä¸€ä¸ªjqueryçš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨jQueryçš„æ–¹æ³•å’Œå±žæ€§å€¼ã€‚ 1234567891011121314151617181920&lt;h2&gt;ç‰¹æ®Šé€‰æ‹©å™¨this&lt;/h2&gt;&lt;p id="test1"&gt;ç‚¹å‡»æµ‹è¯•ï¼šé€šè¿‡åŽŸç”ŸDOMå¤„ç†&lt;/p&gt;&lt;p id="test2"&gt;ç‚¹å‡»æµ‹è¯•ï¼šé€šè¿‡åŽŸç”ŸjQueryå¤„ç†&lt;/p&gt;&lt;script type="text/javascript"&gt; var p1 = document.getElementById('test1') p1.addEventListener('click',function()&#123; //ç›´æŽ¥é€šè¿‡domçš„æ–¹æ³•æ”¹å˜é¢œè‰² this.style.color = "red"; &#125;,false);&lt;/script&gt;&lt;script type="text/javascript"&gt; $('#test2').click(function()&#123; //é€šè¿‡åŒ…è£…æˆjQueryå¯¹è±¡æ”¹å˜é¢œè‰² $(this).css('color','blue'); &#125;)&lt;/script&gt; jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹.attr()ä¸Ž.removeAttr()æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§çš„ç”¨é€”å°±æ˜¯ç»™å‡ºç›¸åº”å…ƒç´ æˆ–è€…å…¶å†…å®¹çš„é™„åŠ ä¿¡æ¯ã€‚å¦‚ï¼šåœ¨imgå…ƒç´ ä¸­ï¼Œsrcå°±æ˜¯å…ƒç´ çš„ç‰¹æ€§ï¼Œç”¨æ¥æ ‡è®°å›¾ç‰‡çš„åœ°å€ã€‚ æ“ä½œç‰¹æ€§çš„DOMæ–¹æ³•ä¸»è¦æœ‰3ä¸ªï¼ŒgetAttributeæ–¹æ³•ã€setAttributeæ–¹æ³•å’ŒremoveAttributeæ–¹æ³•ï¼Œå°±ç®—å¦‚æ­¤åœ¨å®žé™…æ“ä½œä¸­è¿˜æ˜¯ä¼šå­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œè¿™é‡Œå…ˆä¸è¯´ã€‚è€Œåœ¨jQueryä¸­ç”¨ä¸€ä¸ªattr()ä¸ŽremoveAttr()å°±å¯ä»¥å…¨éƒ¨æžå®šäº†ï¼ŒåŒ…æ‹¬å…¼å®¹é—®é¢˜ 1jQueryä¸­ç”¨attr()æ–¹æ³•æ¥èŽ·å–å’Œè®¾ç½®å…ƒç´ å±žæ€§,attræ˜¯attributeï¼ˆå±žæ€§ï¼‰çš„ç¼©å†™ï¼Œåœ¨jQuery DOMæ“ä½œä¸­ä¼šç»å¸¸ç”¨åˆ°attr() attr()æœ‰4ä¸ªè¡¨è¾¾å¼ attr(ä¼ å…¥å±žæ€§å)ï¼šèŽ·å–å±žæ€§çš„å€¼ attr(å±žæ€§å, å±žæ€§å€¼)ï¼šè®¾ç½®å±žæ€§çš„å€¼ attr(å±žæ€§å,å‡½æ•°å€¼)ï¼šè®¾ç½®å±žæ€§çš„å‡½æ•°å€¼ attr(attributes)ï¼šç»™æŒ‡å®šå…ƒç´ è®¾ç½®å¤šä¸ªå±žæ€§å€¼ï¼Œå³ï¼š{å±žæ€§åä¸€: â€œå±žæ€§å€¼ä¸€â€ , å±žæ€§åäºŒ: â€œå±žæ€§å€¼äºŒâ€ , â€¦ â€¦ } removeAttr()åˆ é™¤æ–¹æ³• .removeAttr( attributeName ) : ä¸ºåŒ¹é…çš„å…ƒç´ é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ ä¸­ç§»é™¤ä¸€ä¸ªå±žæ€§ï¼ˆattributeï¼‰ ä¼˜ç‚¹ï¼š attrã€removeAttréƒ½æ˜¯jQueryä¸ºäº†å±žæ€§æ“ä½œå°è£…çš„ï¼Œç›´æŽ¥åœ¨ä¸€ä¸ª jQuery å¯¹è±¡ä¸Šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¾ˆå®¹æ˜“å¯¹å±žæ€§è¿›è¡Œæ“ä½œï¼Œä¹Ÿä¸éœ€è¦åŽ»ç‰¹æ„çš„ç†è§£æµè§ˆå™¨çš„å±žæ€§åä¸åŒçš„é—®é¢˜ æ³¨æ„çš„é—®é¢˜ï¼š domä¸­æœ‰ä¸ªæ¦‚å¿µçš„åŒºåˆ†ï¼šAttributeå’ŒPropertyç¿»è¯‘å‡ºæ¥éƒ½æ˜¯â€œå±žæ€§â€ï¼Œã€Šjsé«˜çº§ç¨‹åºè®¾è®¡ã€‹ä¹¦ä¸­ç¿»è¯‘ä¸ºâ€œç‰¹æ€§â€å’Œâ€œå±žæ€§â€ã€‚ç®€å•ç†è§£ï¼ŒAttributeå°±æ˜¯domèŠ‚ç‚¹è‡ªå¸¦çš„å±žæ€§ ä¾‹å¦‚ï¼šhtmlä¸­å¸¸ç”¨çš„idã€classã€titleã€alignç­‰ï¼š 1&lt;div id=&quot;immooc&quot; title=&quot;æ…•è¯¾ç½‘&quot;&gt;&lt;/div&gt; è€ŒPropertyæ˜¯è¿™ä¸ªDOMå…ƒç´ ä½œä¸ºå¯¹è±¡ï¼Œå…¶é™„åŠ çš„å†…å®¹ï¼Œä¾‹å¦‚,tagName, nodeName, nodeType,, defaultChecked, å’Œ defaultSelected ä½¿ç”¨.prop()æ–¹æ³•è¿›è¡Œå–å€¼æˆ–èµ‹å€¼ç­‰ 1èŽ·å–Attributeå°±éœ€è¦ç”¨attrï¼ŒèŽ·å–Propertyå°±éœ€è¦ç”¨prop 12345678&lt;h2&gt;.attr()ä¸Ž.removeAttr()&lt;/h2&gt; &lt;h3&gt;.attr&lt;/h3&gt; &lt;form&gt; &lt;input type="text" value="è®¾ç½®value" /&gt; &lt;input type="text" value="èŽ·å–value"/&gt; &lt;input type="text" value="å›žè°ƒæ‹¼æŽ¥value" /&gt; &lt;input type="text" value="åˆ é™¤value" /&gt; &lt;/form&gt; 1234 &lt;script type="text/javascript"&gt;//æ‰¾åˆ°ç¬¬ä¸€ä¸ªinputï¼Œé€šè¿‡attrè®¾ç½®å±žæ€§valueçš„å€¼ value="è®¾ç½®value"æ”¹ä¸º value=attributeNameï¼Œvalue $("input:first").attr('value','.attr( attributeName, value )') &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //æ‰¾åˆ°ç¬¬äºŒä¸ªinputï¼Œé€šè¿‡attrèŽ·å–å±žæ€§valueçš„å€¼ var $atr=$('input:eq(1)').attr('value'); alert($atr);&lt;/script&gt; 12345678&lt;script type="text/javascript"&gt; //æ‰¾åˆ°ç¬¬ä¸‰ä¸ªinputï¼Œé€šè¿‡ä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ¥è®¾ç½®å±žæ€§ //å¯ä»¥æ ¹æ®è¯¥å…ƒç´ ä¸Šçš„å…¶å®ƒå±žæ€§å€¼è¿”å›žæœ€ç»ˆæ‰€éœ€çš„å±žæ€§å€¼ //ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ–°çš„å€¼ä¸ŽçŽ°æœ‰çš„å€¼è”ç³»åœ¨ä¸€èµ·ï¼š $('input:eq(2)').attr('value',function(i, val)&#123; return 'é€šè¿‡functionè®¾ç½®' + val &#125;) &lt;/script&gt; 1234567 &lt;script type="text/javascript"&gt; //æ‰¾åˆ°ç¬¬å››ä¸ªinputï¼Œé€šè¿‡ä½¿ç”¨removeAttråˆ é™¤å±žæ€§ $('input:eq(3)').removeAttr('value') &lt;/script&gt;1:å±žæ€§åç§°ã€‚2:è¿”å›žå±žæ€§å€¼çš„å‡½æ•°,ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå½“å‰å…ƒç´ çš„ç´¢å¼•å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºåŽŸå…ˆçš„å±žæ€§å€¼ã€‚ jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹html()åŠ.text()è¯»å–ã€ä¿®æ”¹å…ƒç´ çš„htmlç»“æž„æˆ–è€…å…ƒç´ çš„æ–‡æœ¬å†…å®¹æ˜¯å¸¸è§çš„DOMæ“ä½œï¼ŒjQueryé’ˆå¯¹è¿™æ ·çš„å¤„ç†æä¾›äº†2ä¸ªä¾¿æ·çš„æ–¹æ³•.html()ä¸Ž.text() .html()æ–¹æ³• èŽ·å–é›†åˆä¸­ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„HTMLå†…å®¹ æˆ– è®¾ç½®æ¯ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„htmlå†…å®¹ï¼Œå…·ä½“æœ‰3ç§ç”¨æ³•ï¼š .html() ä¸ä¼ å…¥å€¼ï¼Œå°±æ˜¯èŽ·å–é›†åˆä¸­ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„HTMLå†…å®¹ .html( htmlString ) è®¾ç½®æ¯ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„htmlå†…å®¹ .html( function(index, oldhtml) ) ç”¨æ¥è¿”å›žè®¾ç½®HTMLå†…å®¹çš„ä¸€ä¸ªå‡½æ•° 1.html()æ–¹æ³•å†…éƒ¨ä½¿ç”¨çš„æ˜¯DOMçš„innerHTMLå±žæ€§æ¥å¤„ç†çš„ï¼Œæ‰€ä»¥åœ¨è®¾ç½®ä¸ŽèŽ·å–ä¸Šéœ€è¦æ³¨æ„çš„ä¸€ä¸ªæœ€é‡è¦çš„é—®é¢˜ï¼Œè¿™ä¸ªæ“ä½œæ˜¯é’ˆå¯¹æ•´ä¸ªHTMLå†…å®¹ï¼ˆä¸ä»…ä»…åªæ˜¯æ–‡æœ¬å†…å®¹ï¼‰ .text()æ–¹æ³• å¾—åˆ°åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„æ–‡æœ¬å†…å®¹ç»“åˆï¼ŒåŒ…æ‹¬ä»–ä»¬çš„åŽä»£ï¼Œæˆ–è®¾ç½®åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„æ–‡æœ¬å†…å®¹ä¸ºæŒ‡å®šçš„æ–‡æœ¬å†…å®¹ã€‚ï¼Œå…·ä½“æœ‰3ç§ç”¨æ³•ï¼š .text() å¾—åˆ°åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„åˆå¹¶æ–‡æœ¬ï¼ŒåŒ…æ‹¬ä»–ä»¬çš„åŽä»£ .text( textString ) ç”¨äºŽè®¾ç½®åŒ¹é…å…ƒç´ å†…å®¹çš„æ–‡æœ¬ .text( function(index, text) ) ç”¨æ¥è¿”å›žè®¾ç½®æ–‡æœ¬å†…å®¹çš„ä¸€ä¸ªå‡½æ•° æ³¨æ„äº‹é¡¹ï¼š 1.text()ç»“æžœè¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«æ‰€æœ‰åŒ¹é…å…ƒç´ çš„åˆå¹¶æ–‡æœ¬ .htmlä¸Ž.textçš„å¼‚åŒ: .htmlä¸Ž.textçš„æ–¹æ³•æ“ä½œæ˜¯ä¸€æ ·ï¼Œåªæ˜¯åœ¨å…·ä½“é’ˆå¯¹å¤„ç†å¯¹è±¡ä¸åŒ .htmlå¤„ç†çš„æ˜¯å…ƒç´ å†…å®¹ï¼Œ.textå¤„ç†çš„æ˜¯æ–‡æœ¬å†…å®¹ .htmlåªèƒ½ä½¿ç”¨åœ¨HTMLæ–‡æ¡£ä¸­ï¼Œ.text åœ¨XML å’Œ HTML æ–‡æ¡£ä¸­éƒ½èƒ½ä½¿ç”¨ å¦‚æžœå¤„ç†çš„å¯¹è±¡åªæœ‰ä¸€ä¸ªå­æ–‡æœ¬èŠ‚ç‚¹ï¼Œé‚£ä¹ˆhtmlå¤„ç†çš„ç»“æžœä¸Žtextæ˜¯ä¸€æ ·çš„ ç«ç‹ä¸æ”¯æŒinnerTextå±žæ€§ï¼Œç”¨äº†ç±»ä¼¼çš„textContentå±žæ€§ï¼Œ.text()æ–¹æ³•ç»¼åˆäº†2ä¸ªå±žæ€§çš„æ”¯æŒï¼Œæ‰€ä»¥å¯ä»¥å…¼å®¹æ‰€æœ‰æµè§ˆå™¨ 12345678910111213141516171819&lt;h3&gt;.html()ä¸Ž.text()&lt;/h3&gt; &lt;div class="left first-div"&gt; &lt;div class="div"&gt; &lt;a&gt;:first-child&lt;/a&gt; &lt;a&gt;ç¬¬äºŒä¸ªå…ƒç´ &lt;/a&gt; &lt;a&gt;:last-child&lt;/a&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;a&gt;:first-child&lt;/a&gt; &lt;a&gt;ç¬¬äºŒä¸ªå…ƒç´ &lt;/a&gt; &lt;a&gt;:last-child&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;h4&gt;æ˜¾ç¤ºé€šè¿‡htmlæ–¹æ³•èŽ·å–åˆ°çš„å†…å®¹&lt;/h4&gt; &lt;p&gt;&lt;/p&gt; &lt;h4&gt;æ˜¾ç¤ºé€šè¿‡textæ–¹æ³•èŽ·å–åˆ°çš„å†…å®¹&lt;/h4&gt; &lt;p&gt;&lt;/p&gt; 123456&lt;script type="text/javascript"&gt; //æ˜¾ç¤ºå‡ºhtmlæ–¹æ³•èŽ·å–åˆ°çš„å†…å®¹ //.html()æ˜¯æ•´ä¸ªhtmlæ–‡æ¡£ç»“æž„ $('p:first').text( $(".first-div").html()); &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //æ˜¾ç¤ºå‡ºtextæ–¹æ³•èŽ·å–åˆ°çš„å†…å®¹ //.text()æ˜¯æ–‡æœ¬å†…å®¹çš„åˆé›† $('p:last').text( $(".first-div").text() ) &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //é€šè¿‡.text()æ–¹æ³•æ›¿æ¢æ–‡æœ¬å†…å®¹ $(".left a:first").html('æ›¿æ¢ç¬¬ä¸€ä¸ªaå…ƒç´ çš„å†…å®¹') &lt;/script&gt; 123456789101112&lt;script type="text/javascript"&gt; //é€šè¿‡.html()æ–¹æ³•æ›¿æ¢htmlç»“æž„ $(".left div:first").html('æ•´ä¸ªdivçš„å­èŠ‚ç‚¹éƒ½è¢«æ›¿æ¢äº†') &lt;/script&gt; &lt;script type="text/javascript"&gt; //é€šè¿‡.text()çš„å›žè°ƒï¼ŒèŽ·å–åŽŸæœ¬çš„å†…å®¹ï¼Œä¿®æ”¹ï¼Œåœ¨é‡æ–°èµ‹å€¼ $(".left a:first").text(function(idnex,text)&#123; return 'å¢žåŠ æ–°çš„æ–‡æœ¬å†…å®¹' + text &#125;) &lt;/script&gt; jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹.val()1jQueryä¸­æœ‰ä¸€ä¸ª.val()æ–¹æ³•ä¸»è¦æ˜¯ç”¨äºŽå¤„ç†è¡¨å•å…ƒç´ çš„å€¼ï¼Œæ¯”å¦‚ input, select å’Œ textareaã€‚ .val()æ–¹æ³• .val()æ— å‚æ•°ï¼ŒèŽ·å–åŒ¹é…çš„å…ƒç´ é›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„å½“å‰å€¼ .val( value )ï¼Œè®¾ç½®åŒ¹é…çš„å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„å€¼ .val( function ) ï¼Œä¸€ä¸ªç”¨æ¥è¿”å›žè®¾ç½®å€¼çš„å‡½æ•° æ³¨æ„äº‹é¡¹ï¼š é€šè¿‡.val()å¤„ç†selectå…ƒç´ ï¼Œ å½“æ²¡æœ‰é€‰æ‹©é¡¹è¢«é€‰ä¸­ï¼Œå®ƒè¿”å›žnull .val()æ–¹æ³•å¤šç”¨æ¥è®¾ç½®è¡¨å•çš„å­—æ®µçš„å€¼ å¦‚æžœselectå…ƒç´ æœ‰multipleï¼ˆå¤šé€‰ï¼‰å±žæ€§ï¼Œå¹¶ä¸”è‡³å°‘ä¸€ä¸ªé€‰æ‹©é¡¹è¢«é€‰ä¸­ï¼Œ .val()æ–¹æ³•è¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„åŒ…å«æ¯ä¸ªé€‰ä¸­é€‰æ‹©é¡¹çš„å€¼ .html(),.text()å’Œ.val()çš„å·®å¼‚æ€»ç»“ï¼š .html(),.text(),.val()ä¸‰ç§æ–¹æ³•éƒ½æ˜¯ç”¨æ¥è¯»å–é€‰å®šå…ƒç´ çš„å†…å®¹ï¼› åªä¸è¿‡.html()æ˜¯ç”¨æ¥è¯»å–å…ƒç´ çš„htmlå†…å®¹ï¼ˆåŒ…æ‹¬htmlæ ‡ç­¾ï¼‰ï¼Œ .text()ç”¨æ¥è¯»å–å…ƒç´ çš„çº¯æ–‡æœ¬å†…å®¹ï¼ŒåŒ…æ‹¬å…¶åŽä»£å…ƒç´ ï¼Œ .val()æ˜¯ç”¨æ¥è¯»å–è¡¨å•å…ƒç´ çš„â€valueâ€å€¼ã€‚ å…¶ä¸­.html()å’Œ.text()æ–¹æ³•ä¸èƒ½ä½¿ç”¨åœ¨è¡¨å•å…ƒç´ ä¸Š,è€Œ.val()åªèƒ½ä½¿ç”¨åœ¨è¡¨å•å…ƒç´ ä¸Šï¼› å¦å¤–.html()æ–¹æ³•ä½¿ç”¨åœ¨å¤šä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œåªè¯»å–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼› .val()æ–¹æ³•å’Œ.html()ç›¸åŒï¼Œå¦‚æžœå…¶åº”ç”¨åœ¨å¤šä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œåªèƒ½è¯»å–ç¬¬ä¸€ä¸ªè¡¨å•å…ƒç´ çš„â€valueâ€å€¼ï¼Œ ä½†æ˜¯.text()å’Œä»–ä»¬ä¸ä¸€æ ·ï¼Œå¦‚æžœ.text()åº”ç”¨åœ¨å¤šä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œå°†ä¼šè¯»å–æ‰€æœ‰é€‰ä¸­å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚ .html(htmlString),.text(textString)å’Œ.val(value)ä¸‰ç§æ–¹æ³•éƒ½æ˜¯ç”¨æ¥æ›¿æ¢é€‰ä¸­å…ƒç´ çš„å†…å®¹ï¼Œå¦‚æžœä¸‰ä¸ªæ–¹æ³•åŒæ—¶è¿ç”¨åœ¨å¤šä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œé‚£ä¹ˆå°†ä¼šæ›¿æ¢æ‰€æœ‰é€‰ä¸­å…ƒç´ çš„å†…å®¹ã€‚ .html(),.text(),.val()éƒ½å¯ä»¥ä½¿ç”¨å›žè°ƒå‡½æ•°çš„è¿”å›žå€¼æ¥åŠ¨æ€çš„æ”¹å˜å¤šä¸ªå…ƒç´ çš„å†…å®¹ã€‚ 123456789101112131415161718192021222324252627&lt;select id="single"&gt; &lt;option&gt;æ…•è¯¾ç½‘&lt;/option&gt; &lt;option&gt;åšå®¢å›­&lt;/option&gt; &lt;/select&gt; &lt;select id="multiple" multiple="multiple"&gt; &lt;option selected="selected"&gt;imocc&lt;/option&gt; &lt;option&gt;æ…•è¯¾ç½‘&lt;/option&gt; &lt;option selected="selected"&gt;åšå®¢å›­&lt;/option&gt; &lt;/select&gt; &lt;input type="text" value="click a button" /&gt; &lt;p&gt;&lt;/p&gt; &lt;script type="text/javascript"&gt; //å•ä¸ªselectï¼Œè¿”å›žç¬¬ä¸€ä¸ª $("p").text( $("#single").val() ) &lt;/script&gt; &lt;script type="text/javascript"&gt; //å¤šä¸ªselectè¢«é€‰æ‹©ï¼Œè¿”å›ž["imocc", "åšå®¢å›­"] $("p").text( $("#multiple").val() ) &lt;/script&gt; &lt;script type="text/javascript"&gt; //é€‰æ‹©ä¸€ä¸ªè¡¨å•ï¼Œä¿®æ”¹valueçš„å€¼ $("input[type='text']").val('ä¿®æ”¹è¡¨å•çš„å­—æ®µ') &lt;/script&gt; #jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹å¢žåŠ æ ·å¼.addClass() jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹åˆ é™¤æ ·å¼.removeClass()jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹åˆ‡æ¢æ ·å¼.toggleClass()#jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹æ ·å¼æ“ä½œ.css() jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹.css()ä¸Ž.addClass()è®¾ç½®æ ·å¼çš„åŒºåˆ«jQueryçš„å±žæ€§ä¸Žæ ·å¼ä¹‹å…ƒç´ çš„æ•°æ®å­˜å‚¨]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jquery2]]></title>
    <url>%2F2019%2F03%2F08%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%AD%A6%E4%B9%A03%E6%9D%8E%E6%B1%9F%E5%8D%97%2F</url>
    <content type="text"><![CDATA[01-åˆè¯†jQuer1234567891011121314151617181920212223242526272829303132333435&lt;script&gt; window.onload = function (ev) &#123; // 1.åˆ©ç”¨åŽŸç”Ÿçš„JSæŸ¥æ‰¾DOMå…ƒç´  var div1 = document.getElementsByTagName("div")[0]; var div2 = document.getElementsByClassName("box1")[0]; var div3 = document.getElementById("box2"); // console.log(div1); // console.log(div2); // console.log(div3); // 2.åˆ©ç”¨åŽŸç”Ÿçš„JSä¿®æ”¹èƒŒæ™¯é¢œè‰² // div1.style.backgroundColor = "red"; // div2.style.backgroundColor = "blue"; // div3.style.backgroundColor = "yellow"; &#125; $(function () &#123; var $div1 = $("div"); var $div2 = $(".box1"); var $div3 = $("#box2"); // console.log($div1); // console.log($div2); // console.log($div3); $div1.css(&#123; background: "red", width: "200px", height: "200px" &#125;); $div2.css(&#123; background: "blue" &#125;); $div3.css(&#123; background: "yellow" &#125;); &#125;); &lt;/script&gt; 02-jQuery-HelloWorld123456789&lt;script&gt; // 1.åŽŸç”ŸJSçš„å›ºå®šå†™æ³• window.onload = function (ev) &#123; &#125; // 2.jQueryçš„å›ºå®šå†™æ³• $(document).ready(function () &#123; alert("hello lnj"); &#125;); &lt;/script&gt; 03-jQueryå’ŒJSå…¥å£å‡½æ•°çš„åŒºåˆ«12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849 &lt;script&gt; /* window.onload = function (ev) &#123; // 1.é€šè¿‡åŽŸç”Ÿçš„JSå…¥å£å‡½æ•°å¯ä»¥æ‹¿åˆ°DOMå…ƒç´  var images = document.getElementsByTagName("images")[0]; console.log(images); // 2.é€šè¿‡åŽŸç”Ÿçš„JSå…¥å£å‡½æ•°å¯ä»¥æ‹¿åˆ°DOMå…ƒç´ çš„å®½é«˜ var width = window.getComputedStyle(images).width; console.log("onload", width); &#125; */ /* * 1.åŽŸç”ŸJSå’ŒjQueryå…¥å£å‡½æ•°çš„åŠ è½½æ¨¡å¼ä¸åŒ * åŽŸç”ŸJSä¼šç­‰åˆ°DOMå…ƒç´ åŠ è½½å®Œæ¯•,å¹¶ä¸”å›¾ç‰‡ä¹ŸåŠ è½½å®Œæ¯•æ‰ä¼šæ‰§è¡Œ * jQueryä¼šç­‰åˆ°DOMå…ƒç´ åŠ è½½å®Œæ¯•,ä½†ä¸ä¼šç­‰åˆ°å›¾ç‰‡ä¹ŸåŠ è½½å®Œæ¯•å°±ä¼šæ‰§è¡Œ * */ /* $(document).ready(function () &#123; // 1.é€šè¿‡jQueryå…¥å£å‡½æ•°å¯ä»¥æ‹¿åˆ°DOMå…ƒç´  var $images = $("images"); console.log($images); // 2.é€šè¿‡jQueryå…¥å£å‡½æ•°ä¸å¯ä»¥æ‹¿åˆ°DOMå…ƒç´ çš„å®½é«˜ var $width = $images.width(); console.log("ready", $width); &#125;); */ /* 1.åŽŸç”Ÿçš„JSå¦‚æžœç¼–å†™äº†å¤šä¸ªå…¥å£å‡½æ•°,åŽé¢ç¼–å†™çš„ä¼šè¦†ç›–å‰é¢ç¼–å†™çš„ 2.jQueryä¸­ç¼–å†™å¤šä¸ªå…¥å£å‡½æ•°,åŽé¢çš„ä¸ä¼šè¦†ç›–å‰é¢çš„ */ // window.onload = function (ev) &#123; // alert("hello lnj1"); // &#125; // window.onload = function (ev) &#123; // alert("hello lnj2"); // &#125; $(document).ready(function () &#123; alert("hello lnj1"); &#125;); $(document).ready(function () &#123; alert("hello lnj2"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;img src="https://img.alicdn.com/tfs/TB1P_MofwmTBuNjy1XbXXaMrVXa-190-140.gif" alt=""&gt; 04-jQueryå…¥å£å‡½æ•°çš„å…¶å®ƒå†™æ³•123456789101112131415161718192021&lt;script&gt; // 1.ç¬¬ä¸€ç§å†™æ³• $(document).ready(function () &#123; // alert("hello lnj"); &#125;); // 2.ç¬¬äºŒç§å†™æ³• jQuery(document).ready(function () &#123; // alert("hello lnj"); &#125;); // 3.ç¬¬ä¸‰ç§å†™æ³•(æŽ¨è) $(function () &#123; // alert("hello lnj"); &#125;); // 4.ç¬¬å››ç§å†™æ³• jQuery(function () &#123; alert("hello lnj"); &#125;); &lt;/script&gt; 05-jQueryå†²çªé—®é¢˜1234567891011&lt;script&gt; // 1.é‡Šæ”¾$çš„ä½¿ç”¨æƒ // æ³¨æ„ç‚¹: é‡Šæ”¾æ“ä½œå¿…é¡»åœ¨ç¼–å†™å…¶å®ƒjQueryä»£ç ä¹‹å‰ç¼–å†™ // é‡Šæ”¾ä¹‹åŽå°±ä¸èƒ½å†ä½¿ç”¨$,æ”¹ä¸ºä½¿ç”¨jQuery // jQueryåŽŸç†.noConflict(); // 2.è‡ªå®šä¹‰ä¸€ä¸ªè®¿é—®ç¬¦å· var nj = jQuery.noConflict(); nj(function () &#123; alert("hello lnj"); &#125;); &lt;/script&gt; 06-jQueryæ ¸å¿ƒå‡½æ•°1234567891011121314151617181920212223242526&lt;script&gt; // $();/jQueryåŽŸç†();å°±ä»£è¡¨è°ƒç”¨jQueryçš„æ ¸å¿ƒå‡½æ•° // 1.æŽ¥æ”¶ä¸€ä¸ªå‡½æ•° $(function () &#123; alert("hello lnj"); // 2.æŽ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸² // 2.1æŽ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²é€‰æ‹©å™¨ // è¿”å›žä¸€ä¸ªjQueryå¯¹è±¡, å¯¹è±¡ä¸­ä¿å­˜äº†æ‰¾åˆ°çš„DOMå…ƒç´  var $box1 = $(".box1"); var $box2 = $("#box2"); console.log($box1); console.log($box2); // 2.2æŽ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä»£ç ç‰‡æ®µ // è¿”å›žä¸€ä¸ªjQueryå¯¹è±¡, å¯¹è±¡ä¸­ä¿å­˜äº†åˆ›å»ºçš„DOMå…ƒç´  var $p = $("&lt;p&gt;æˆ‘æ˜¯æ®µè½&lt;/p&gt;"); console.log($p); $box1.append($p); // 3.æŽ¥æ”¶ä¸€ä¸ªDOMå…ƒç´  // ä¼šè¢«åŒ…è£…æˆä¸€ä¸ªjQueryå¯¹è±¡è¿”å›žç»™æˆ‘ä»¬ var span = document.getElementsByTagName("span")[0]; console.log(span); var $span = $(span); console.log($span); &#125;); &lt;/script&gt; 07-jQueryå¯¹è±¡12345678910111213141516&lt;script&gt; $(function () &#123; /* * 1.ä»€ä¹ˆæ˜¯jQueryå¯¹è±¡ * jQueryå¯¹è±¡æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ * * 2.ä»€ä¹ˆæ˜¯ä¼ªæ•°ç»„? * æœ‰0åˆ°length-1çš„å±žæ€§, å¹¶ä¸”æœ‰lengthå±žæ€§ */ var $div = $("div"); console.log($div); var arr = [1, 3, 5]; console.log(arr); &#125;); &lt;/script&gt; 08-é™æ€æ–¹æ³•å’Œå®žä¾‹æ–¹æ³•12345678910111213141516171819202122&lt;script&gt; // 1.å®šä¹‰ä¸€ä¸ªç±» function AClass() &#123; &#125; // 2.ç»™è¿™ä¸ªç±»æ·»åŠ ä¸€ä¸ªé™æ€æ–¹æ³• // ç›´æŽ¥æ·»åŠ ç»™ç±»çš„å°±æ˜¯é™æ€æ–¹æ³• AClass.staticMethod = function () &#123; alert("staticMethod"); &#125; // é™æ€æ–¹æ³•é€šè¿‡ç±»åè°ƒç”¨ AClass.staticMethod(); // 3.ç»™è¿™ä¸ªç±»æ·»åŠ ä¸€ä¸ªå®žä¾‹æ–¹æ³• AClass.prototype.instanceMethod = function () &#123; alert("instanceMethod"); &#125; // å®žä¾‹æ–¹æ³•é€šè¿‡ç±»çš„å®žä¾‹è°ƒç”¨ // åˆ›å»ºä¸€ä¸ªå®žä¾‹(åˆ›å»ºä¸€ä¸ªå¯¹è±¡) var a = new AClass(); // é€šè¿‡å®žä¾‹è°ƒç”¨å®žä¾‹æ–¹æ³• a.instanceMethod(); &lt;/script&gt; 09-é™æ€æ–¹æ³•eachæ–¹æ³•123456789101112131415161718192021222324252627282930&lt;script&gt; var arr = [1, 3, 5, 7, 9]; var obj = &#123;0:1, 1:3, 2:5, 3:7, 4:9, length:5&#125;; /* ç¬¬ä¸€ä¸ªå‚æ•°: éåŽ†åˆ°çš„å…ƒç´  ç¬¬äºŒä¸ªå‚æ•°: å½“å‰éåŽ†åˆ°çš„ç´¢å¼• æ³¨æ„ç‚¹: åŽŸç”Ÿçš„forEachæ–¹æ³•åªèƒ½éåŽ†æ•°ç»„, ä¸èƒ½éåŽ†ä¼ªæ•°ç»„ */ // arr.forEach(function (value, index) &#123; // console.log(index, value); // &#125;); // obj.forEach(function (value, index) &#123; // console.log(index, value); // &#125;); // 1.åˆ©ç”¨jQueryçš„eaché™æ€æ–¹æ³•éåŽ†æ•°ç»„ /* ç¬¬ä¸€ä¸ªå‚æ•°: å½“å‰éåŽ†åˆ°çš„ç´¢å¼• ç¬¬äºŒä¸ªå‚æ•°: éåŽ†åˆ°çš„å…ƒç´  æ³¨æ„ç‚¹: jQueryçš„eachæ–¹æ³•æ˜¯å¯ä»¥éåŽ†ä¼ªæ•°ç»„çš„ */ // $.each(arr, function (index, value) &#123; // console.log(index, value); // &#125;); $.each(obj, function (index, value) &#123; console.log(index, value); &#125;); &lt;/script&gt; 10-é™æ€æ–¹æ³•mapæ–¹æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;script&gt; var arr = [1, 3, 5, 7, 9]; var obj = &#123;0:1, 1:3, 2:5, 3:7, 4:9, length:5&#125;; // 1.åˆ©ç”¨åŽŸç”ŸJSçš„mapæ–¹æ³•éåŽ† /* ç¬¬ä¸€ä¸ªå‚æ•°: å½“å‰éåŽ†åˆ°çš„å…ƒç´  ç¬¬äºŒä¸ªå‚æ•°: å½“å‰éåŽ†åˆ°çš„ç´¢å¼• ç¬¬ä¸‰ä¸ªå‚æ•°: å½“å‰è¢«éåŽ†çš„æ•°ç»„ æ³¨æ„ç‚¹: å’ŒåŽŸç”Ÿçš„forEachä¸€æ ·,ä¸èƒ½éåŽ†çš„ä¼ªæ•°ç»„ */ // arr.map(function (value, index, array) &#123; // console.log(index, value, array); // &#125;); // obj.map(function (value, index, array) &#123; // console.log(index, value, array); // &#125;); /* ç¬¬ä¸€ä¸ªå‚æ•°: è¦éåŽ†çš„æ•°ç»„ ç¬¬äºŒä¸ªå‚æ•°: æ¯éåŽ†ä¸€ä¸ªå…ƒç´ ä¹‹åŽæ‰§è¡Œçš„å›žè°ƒå‡½æ•° å›žè°ƒå‡½æ•°çš„å‚æ•°: ç¬¬ä¸€ä¸ªå‚æ•°: éåŽ†åˆ°çš„å…ƒç´  ç¬¬äºŒä¸ªå‚æ•°: éåŽ†åˆ°çš„ç´¢å¼• æ³¨æ„ç‚¹: å’ŒjQueryä¸­çš„eaché™æ€æ–¹æ³•ä¸€æ ·, mapé™æ€æ–¹æ³•ä¹Ÿå¯ä»¥éåŽ†ä¼ªæ•°ç»„ */ // $.map(arr, function (value, index) &#123; // console.log(index, value); // &#125;); var res = $.map(obj, function (value, index) &#123; console.log(index, value); return value + index; &#125;); var res2 = $.each(obj, function (index, value) &#123; console.log(index, value); return value + index; &#125;); /* jQueryä¸­çš„eaché™æ€æ–¹æ³•å’Œmapé™æ€æ–¹æ³•çš„åŒºåˆ«: eaché™æ€æ–¹æ³•é»˜è®¤çš„è¿”å›žå€¼å°±æ˜¯, éåŽ†è°å°±è¿”å›žè° mapé™æ€æ–¹æ³•é»˜è®¤çš„è¿”å›žå€¼æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ eaché™æ€æ–¹æ³•ä¸æ”¯æŒåœ¨å›žè°ƒå‡½æ•°ä¸­å¯¹éåŽ†çš„æ•°ç»„è¿›è¡Œå¤„ç† mapé™æ€æ–¹æ³•å¯ä»¥åœ¨å›žè°ƒå‡½æ•°ä¸­é€šè¿‡returnå¯¹éåŽ†çš„æ•°ç»„è¿›è¡Œå¤„ç†, ç„¶åŽç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°ç»„è¿”å›ž */ console.log(res); console.log(res2); &lt;/script&gt; 11-jQueryä¸­çš„å…¶å®ƒé™æ€æ–¹æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;script&gt; /* $.trim(); ä½œç”¨: åŽ»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ å‚æ•°: éœ€è¦åŽ»é™¤ç©ºæ ¼çš„å­—ç¬¦ä¸² è¿”å›žå€¼: åŽ»é™¤ç©ºæ ¼ä¹‹åŽçš„å­—ç¬¦ä¸² */ /* var str = " lnj "; var res = $.trim(str); console.log("---"+str+"---"); console.log("---"+res+"---"); */ // çœŸæ•°ç»„ var arr = [1, 3, 5, 7, 9]; // ä¼ªæ•°ç»„ var arrlike = &#123;0:1, 1:3, 2:5, 3:7, 4:9, length:5&#125;; // å¯¹è±¡ var obj = &#123;"name":"lnj", age:"33"&#125;; // å‡½æ•° var fn = function()&#123;&#125;; // windowå¯¹è±¡ var w = window; /* $.isWindow(); ä½œç”¨: åˆ¤æ–­ä¼ å…¥çš„å¯¹è±¡æ˜¯å¦æ˜¯windowå¯¹è±¡ è¿”å›žå€¼: true/false */ /* var res = $.isWindow(w); console.log(res); */ /* $.isArray(); ä½œç”¨: åˆ¤æ–­ä¼ å…¥çš„å¯¹è±¡æ˜¯å¦æ˜¯çœŸæ•°ç»„ è¿”å›žå€¼: true/false */ /* var res = $.isArray(w); console.log(res); */ /* $.isArray(); ä½œç”¨: åˆ¤æ–­ä¼ å…¥çš„å¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªå‡½æ•° è¿”å›žå€¼: true/false æ³¨æ„ç‚¹: jQueryæ¡†æž¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•° (function( window, undefined ) &#123; &#125;)( window ); */ var res = $.isFunction(jQuery); console.log(res); &lt;/script&gt; 12-é™æ€æ–¹æ³•holdReadyæ–¹æ³•12345678910111213141516 &lt;script&gt; // $.holdReady(true); ä½œç”¨: æš‚åœreadyæ‰§è¡Œ $.holdReady(true); $(document).ready(function () &#123; alert("ready"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;å›žå¤readyäº‹ä»¶&lt;/button&gt;&lt;script&gt; var btn = document.getElementsByTagName("button")[0]; btn.onclick = function () &#123; $.holdReady(false); &#125;&lt;/script&gt; 13-é€šè¿‡webstormç®€åŒ–æ“ä½œ1234567891011&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;13-é€šè¿‡webstormç®€åŒ–æ“ä½œ&lt;/title&gt; &lt;script src="js/jquery-1.12.4.js"&gt;&lt;/script&gt; &lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  alert("hello lnj"); &#125;); &lt;/script&gt;&lt;/head&gt; 14-jQueryå†…å®¹é€‰æ‹©å™¨1234567891011121314151617181920212223242526272829 &lt;script src="js/jquery-1.12.4.js"&gt;&lt;/script&gt; &lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  // :empty ä½œç”¨:æ‰¾åˆ°æ—¢æ²¡æœ‰æ–‡æœ¬å†…å®¹ä¹Ÿæ²¡æœ‰å­å…ƒç´ çš„æŒ‡å®šå…ƒç´  var $div = $("div:empty"); console.log($div); // :parent ä½œç”¨: æ‰¾åˆ°æœ‰æ–‡æœ¬å†…å®¹æˆ–æœ‰å­å…ƒç´ çš„æŒ‡å®šå…ƒç´  var $div = $("div:parent"); console.log($div); // :contains(text) ä½œç”¨: æ‰¾åˆ°åŒ…å«æŒ‡å®šæ–‡æœ¬å†…å®¹çš„æŒ‡å®šå…ƒç´  var $div = $("div:contains('æˆ‘æ˜¯div')"); console.log($div); // :has(selector) ä½œç”¨: æ‰¾åˆ°åŒ…å«æŒ‡å®šå­å…ƒç´ çš„æŒ‡å®šå…ƒç´  var $div = $("div:has('span')"); console.log($div); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;æˆ‘æ˜¯div&lt;/div&gt;&lt;div&gt;ä»–ä»¬æˆ‘æ˜¯div123&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt; 15-å±žæ€§å’Œå±žæ€§èŠ‚ç‚¹123456789101112131415161718192021222324252627282930313233343536373839404142434445 &lt;script&gt; $(function () &#123; /* 1.ä»€ä¹ˆæ˜¯å±žæ€§? å¯¹è±¡èº«ä¸Šä¿å­˜çš„å˜é‡å°±æ˜¯å±žæ€§ 2.å¦‚ä½•æ“ä½œå±žæ€§? å¯¹è±¡.å±žæ€§åç§° = å€¼; å¯¹è±¡.å±žæ€§åç§°; å¯¹è±¡["å±žæ€§åç§°"] = å€¼; å¯¹è±¡["å±žæ€§åç§°"]; 3.ä»€ä¹ˆæ˜¯å±žæ€§èŠ‚ç‚¹? &lt;span name = "it666"&gt;&lt;/span&gt; åœ¨ç¼–å†™HTMLä»£ç æ—¶,åœ¨HTMLæ ‡ç­¾ä¸­æ·»åŠ çš„å±žæ€§å°±æ˜¯å±žæ€§èŠ‚ç‚¹ åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°spanè¿™ä¸ªDOMå…ƒç´ ä¹‹åŽ, å±•å¼€çœ‹åˆ°çš„éƒ½æ˜¯å±žæ€§ åœ¨attributeså±žæ€§ä¸­ä¿å­˜çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯å±žæ€§èŠ‚ç‚¹ 4.å¦‚ä½•æ“ä½œå±žæ€§èŠ‚ç‚¹? DOMå…ƒç´ .setAttribute("å±žæ€§åç§°", "å€¼"); DOMå…ƒç´ .getAttribute("å±žæ€§åç§°"); 5.å±žæ€§å’Œå±žæ€§èŠ‚ç‚¹æœ‰ä»€ä¹ˆåŒºåˆ«? ä»»ä½•å¯¹è±¡éƒ½æœ‰å±žæ€§, ä½†æ˜¯åªæœ‰DOMå¯¹è±¡æ‰æœ‰å±žæ€§èŠ‚ç‚¹ */ function Person() &#123; &#125; var p = new Person(); // p.name = "lnj"; p["name"] = "zs"; // console.log(p.name); console.log(p["name"]); var span = document.getElementsByTagName("span")[0]; span.setAttribute("name", "lnj"); console.log(span.getAttribute("name")); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;span name = "it666"&gt;&lt;/span&gt; 16-jQueryçš„attræ–¹æ³•1234567891011121314151617181920212223242526272829303132 &lt;script&gt; $(function () &#123; /* 1.attr(name|pro|key,val|fn) ä½œç”¨: èŽ·å–æˆ–è€…è®¾ç½®å±žæ€§èŠ‚ç‚¹çš„å€¼ å¯ä»¥ä¼ é€’ä¸€ä¸ªå‚æ•°, ä¹Ÿå¯ä»¥ä¼ é€’ä¸¤ä¸ªå‚æ•° å¦‚æžœä¼ é€’ä¸€ä¸ªå‚æ•°, ä»£è¡¨èŽ·å–å±žæ€§èŠ‚ç‚¹çš„å€¼ å¦‚æžœä¼ é€’ä¸¤ä¸ªå‚æ•°, ä»£è¡¨è®¾ç½®å±žæ€§èŠ‚ç‚¹çš„å€¼ æ³¨æ„ç‚¹: å¦‚æžœæ˜¯èŽ·å–:æ— è®ºæ‰¾åˆ°å¤šå°‘ä¸ªå…ƒç´ , éƒ½åªä¼šè¿”å›žç¬¬ä¸€ä¸ªå…ƒç´ æŒ‡å®šçš„å±žæ€§èŠ‚ç‚¹çš„å€¼ å¦‚æžœæ˜¯è®¾ç½®:æ‰¾åˆ°å¤šå°‘ä¸ªå…ƒç´ å°±ä¼šè®¾ç½®å¤šå°‘ä¸ªå…ƒç´  å¦‚æžœæ˜¯è®¾ç½®: å¦‚æžœè®¾ç½®çš„å±žæ€§èŠ‚ç‚¹ä¸å­˜åœ¨, é‚£ä¹ˆç³»ç»Ÿä¼šè‡ªåŠ¨æ–°å¢ž 2.removeAttr(name) åˆ é™¤å±žæ€§èŠ‚ç‚¹ æ³¨æ„ç‚¹: ä¼šåˆ é™¤æ‰€æœ‰æ‰¾åˆ°å…ƒç´ æŒ‡å®šçš„å±žæ€§èŠ‚ç‚¹ */ // console.log($("span").attr("class")); $("span").attr("class", "box"); // $("span").attr("abc", "123"); // $("span").removeAttr("class name"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;span class="span1" name="it666"&gt;&lt;/span&gt;&lt;span class="span2" name="lnj"&gt;&lt;/span&gt; 17-jQueryçš„propæ–¹æ³•1234567891011121314151617181920212223242526272829303132333435 &lt;script&gt; $(function () &#123; /* 1.propæ–¹æ³• ç‰¹ç‚¹å’Œattræ–¹æ³•ä¸€è‡´ 2.removePropæ–¹æ³• ç‰¹ç‚¹å’ŒremoveAttræ–¹æ³•ä¸€è‡´ */ /* $("span").eq(0).prop("demo", "it666"); $("span").eq(1).prop("demo", "lnj"); console.log($("span").prop("demo")); $("span").removeProp("demo"); */ /* æ³¨æ„ç‚¹: propæ–¹æ³•ä¸ä»…èƒ½å¤Ÿæ“ä½œå±žæ€§, ä»–è¿˜èƒ½æ“ä½œå±žæ€§èŠ‚ç‚¹ å®˜æ–¹æŽ¨èåœ¨æ“ä½œå±žæ€§èŠ‚ç‚¹æ—¶,å…·æœ‰ true å’Œ false ä¸¤ä¸ªå±žæ€§çš„å±žæ€§èŠ‚ç‚¹ï¼Œå¦‚ checked, selected æˆ–è€… disabled ä½¿ç”¨prop()ï¼Œå…¶ä»–çš„ä½¿ç”¨ attr() */ // console.log($("span").prop("class")); // $("span").prop("class", "box"); console.log($("input").prop("checked")); // true / false console.log($("input").attr("checked")); // checked / undefined &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;span class="span1" name="it666"&gt;&lt;/span&gt;&lt;span class="span2" name="lnj"&gt;&lt;/span&gt;&lt;input type="checkbox"&gt; 18-attrå’Œpropæ–¹æ³•ç»ƒä¹ 1234567891011121314151617181920script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  // 1.ç»™æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ var btn = document.getElementsByTagName("button")[0]; btn.onclick = function () &#123; // 2.èŽ·å–è¾“å…¥æ¡†è¾“å…¥çš„å†…å®¹ var input = document.getElementsByTagName("input")[0]; var text = input.value; // 3.ä¿®æ”¹imgçš„srcå±žæ€§èŠ‚ç‚¹çš„å€¼ $("img").attr("src", text); // $("images").prop("src", text); &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;input type="text"&gt;&lt;button&gt;åˆ‡æ¢å›¾ç‰‡&lt;/button&gt;&lt;br&gt;&lt;img src="https://www.baidu.com/img/bd_logo1.png?where=super" alt=""&gt; 19-jQueryæ“ä½œç±»ç›¸å…³çš„æ–¹æ³•1234567891011121314151617181920212223242526272829303132333435 &lt;script&gt; $(function () &#123; /* 1.addClass(class|fn) ä½œç”¨: æ·»åŠ ä¸€ä¸ªç±» å¦‚æžœè¦æ·»åŠ å¤šä¸ª, å¤šä¸ªç±»åä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€å³å¯ 2.removeClass([class|fn]) ä½œç”¨: åˆ é™¤ä¸€ä¸ªç±» å¦‚æžœæƒ³åˆ é™¤å¤šä¸ª, å¤šä¸ªç±»åä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€å³å¯ 3.toggleClass(class|fn[,sw]) ä½œç”¨: åˆ‡æ¢ç±» æœ‰å°±åˆ é™¤, æ²¡æœ‰å°±æ·»åŠ  */ var btns = document.getElementsByTagName("button"); btns[0].onclick = function () &#123; // $("div").addClass("class1"); $("div").addClass("class1 class2"); &#125; btns[1].onclick = function () &#123; // $("div").removeClass("class2"); $("div").removeClass("class2 class1"); &#125; btns[2].onclick = function () &#123; $("div").toggleClass("class2 class1"); &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;æ·»åŠ ç±»&lt;/button&gt;&lt;button&gt;åˆ é™¤ç±»&lt;/button&gt;&lt;button&gt;åˆ‡æ¢ç±»&lt;/button&gt;&lt;div&gt;&lt;/div&gt; 20-jQueryæ–‡æœ¬å€¼ç›¸å…³çš„æ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940 &lt;script&gt; $(function () &#123; /* 1.html([val|fn]) å’ŒåŽŸç”ŸJSä¸­çš„innerHTMLä¸€æ¨¡ä¸€æ · 2.text([val|fn]) å’ŒåŽŸç”ŸJSä¸­çš„innerTextä¸€æ¨¡ä¸€æ · 3.val([val|fn|arr]) */ var btns = document.getElementsByTagName("button"); btns[0].onclick = function () &#123; $("div").html("&lt;p&gt;æˆ‘æ˜¯æ®µè½&lt;span&gt;æˆ‘æ˜¯span&lt;/span&gt;&lt;/p&gt;"); &#125; btns[1].onclick = function () &#123; console.log($("div").html()); &#125; btns[2].onclick = function () &#123; $("div").text("&lt;p&gt;æˆ‘æ˜¯æ®µè½&lt;span&gt;æˆ‘æ˜¯span&lt;/span&gt;&lt;/p&gt;"); &#125; btns[3].onclick = function () &#123; console.log($("div").text()); &#125; btns[4].onclick = function () &#123; $("input").val("è¯·è¾“å…¥å†…å®¹"); &#125; btns[5].onclick = function () &#123; console.log($("input").val());; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;è®¾ç½®html&lt;/button&gt;&lt;button&gt;èŽ·å–html&lt;/button&gt;&lt;button&gt;è®¾ç½®text&lt;/button&gt;&lt;button&gt;èŽ·å–text&lt;/button&gt;&lt;button&gt;è®¾ç½®value&lt;/button&gt;&lt;button&gt;èŽ·å–value&lt;/button&gt;&lt;div&gt;&lt;/div&gt;&lt;input type="text"&gt; 21-jQueryæ“ä½œCSSæ ·å¼çš„æ–¹æ³•1234567891011121314151617181920212223&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  // 1.é€ä¸ªè®¾ç½® $("div").css("width", "100px"); $("div").css("height", "100px"); $("div").css("background", "red"); // 2.é“¾å¼è®¾ç½® // æ³¨æ„ç‚¹: é“¾å¼æ“ä½œå¦‚æžœå¤§äºŽ3æ­¥, å»ºè®®åˆ†å¼€ $("div").css("width", "100px").css("height", "100px").css("background", "blue"); // 3.æ‰¹é‡è®¾ç½® $("div").css(&#123; width: "100px", height: "100px", background: "red" &#125;); // 4.èŽ·å–CSSæ ·å¼å€¼ console.log($("div").css("background"));; &#125;); &lt;/script&gt; 22-jQueryä½ç½®å’Œå°ºå¯¸æ“ä½œçš„æ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  var btns = document.getElementsByTagName("button"); // ç›‘å¬èŽ·å– btns[0].onclick = function () &#123; // èŽ·å–å…ƒç´ çš„å®½åº¦ // console.log($(".father").width()); // offset([coordinates]) // ä½œç”¨: èŽ·å–å…ƒç´ è·ç¦»çª—å£çš„åç§»ä½ // console.log($(".son").offset().left); // position() // ä½œç”¨: èŽ·å–å…ƒç´ è·ç¦»å®šä½å…ƒç´ çš„åç§»ä½ console.log($(".son").position().left); &#125; // ç›‘å¬è®¾ç½® btns[1].onclick = function () &#123; // è®¾ç½®å…ƒç´ çš„å®½åº¦ // $(".father").width("500px") // $(".son").offset(&#123; // left: 10 // &#125;); // æ³¨æ„ç‚¹: positionæ–¹æ³•åªèƒ½èŽ·å–ä¸èƒ½è®¾ç½® // $(".son").position(&#123; // left: 10 // &#125;); $(".son").css(&#123; left: "10px" &#125;); &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="father"&gt; &lt;div class="son"&gt;&lt;/div&gt;&lt;/div&gt;&lt;button&gt;èŽ·å–&lt;/button&gt;&lt;button&gt;è®¾ç½®&lt;/button&gt; 23-jQueryçš„scrollTopæ–¹æ³•123456789101112131415161718192021&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  var btns = document.getElementsByTagName("button"); // ç›‘å¬èŽ·å– btns[0].onclick = function () &#123; // èŽ·å–æ»šåŠ¨çš„åç§»ä½ // console.log($(".scroll").scrollTop()); // èŽ·å–ç½‘é¡µæ»šåŠ¨çš„åç§»ä½ // æ³¨æ„ç‚¹: ä¸ºäº†ä¿è¯æµè§ˆå™¨çš„å…¼å®¹, èŽ·å–ç½‘é¡µæ»šåŠ¨çš„åç§»ä½éœ€è¦æŒ‰ç…§å¦‚ä¸‹å†™æ³• console.log($("body").scrollTop()+$("html").scrollTop()); &#125; btns[1].onclick = function () &#123; // è®¾ç½®æ»šåŠ¨çš„åç§»ä½ $(".scroll").scrollTop(300); // è®¾ç½®ç½‘é¡µæ»šåŠ¨åç§»ä½ // æ³¨æ„ç‚¹: ä¸ºäº†ä¿è¯æµè§ˆå™¨çš„å…¼å®¹, è®¾ç½®ç½‘é¡µæ»šåŠ¨åç§»ä½çš„æ—¶å€™å¿…é¡»æŒ‰ç…§å¦‚ä¸‹å†™æ³• $("html,body").scrollTop(300); &#125; &#125;); &lt;/script&gt; 24-jQueryäº‹ä»¶ç»‘å®š123456789101112131415161718192021222324252627282930313233343536373839&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  /* jQueryä¸­æœ‰ä¸¤ç§ç»‘å®šäº‹ä»¶æ–¹å¼ 1.eventName(fn); ç¼–ç æ•ˆçŽ‡ç•¥é«˜/ éƒ¨åˆ†äº‹ä»¶jQueryæ²¡æœ‰å®žçŽ°,æ‰€ä»¥ä¸èƒ½æ·»åŠ  2.on(eventName, fn); ç¼–ç æ•ˆçŽ‡ç•¥ä½Ž/ æ‰€æœ‰jsäº‹ä»¶éƒ½å¯ä»¥æ·»åŠ  æ³¨æ„ç‚¹: å¯ä»¥æ·»åŠ å¤šä¸ªç›¸åŒæˆ–è€…ä¸åŒç±»åž‹çš„äº‹ä»¶,ä¸ä¼šè¦†ç›– */ // $("button").click(function () &#123; // alert("hello lnj"); // &#125;); // $("button").click(function () &#123; // alert("hello 123"); // &#125;); // $("button").mouseleave(function () &#123; // alert("hello mouseleave"); // &#125;); // $("button").mouseenter(function () &#123; // alert("hello mouseenter"); // &#125;); $("button").on("click", function () &#123; alert("hello click1"); &#125;); $("button").on("click", function () &#123; alert("hello click2"); &#125;); $("button").on("mouseleave", function () &#123; alert("hello mouseleave"); &#125;); $("button").on("mouseenter", function () &#123; alert("hello mouseenter"); &#125;); &#125;); &lt;/script&gt; 25-jQueryäº‹ä»¶ç§»é™¤1234567891011121314151617181920212223242526&lt;script&gt; $(function () &#123; function test1() &#123; alert("hello lnj"); &#125; function test2() &#123; alert("hello 123"); &#125; // ç¼–å†™jQueryç›¸å…³ä»£ç  $("button").click(test1); $("button").click(test2); $("button").mouseleave(function () &#123; alert("hello mouseleave"); &#125;); $("button").mouseenter(function () &#123; alert("hello mouseenter"); &#125;); // offæ–¹æ³•å¦‚æžœä¸ä¼ é€’å‚æ•°, ä¼šç§»é™¤æ‰€æœ‰çš„äº‹ä»¶ // $("button").off(); // offæ–¹æ³•å¦‚æžœä¼ é€’ä¸€ä¸ªå‚æ•°, ä¼šç§»é™¤æ‰€æœ‰æŒ‡å®šç±»åž‹çš„äº‹ä»¶ // $("button").off("click"); // offæ–¹æ³•å¦‚æžœä¼ é€’ä¸¤ä¸ªå‚æ•°, ä¼šç§»é™¤æ‰€æœ‰æŒ‡å®šç±»åž‹çš„æŒ‡å®šäº‹ä»¶ $("button").off("click", test1); &#125;); &lt;/script&gt; 26-jQueryäº‹ä»¶å†’æ³¡å’Œé»˜è¡Œä¸º123456789101112131415161718192021222324252627282930313233343536 &lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  /* 1.ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡? 2.å¦‚ä½•é˜»æ­¢äº‹ä»¶å†’æ³¡ 3.ä»€ä¹ˆæ˜¯é»˜è®¤è¡Œä¸º? 4.å¦‚ä½•é˜»æ­¢é»˜è®¤è¡Œä¸º */ /* $(".son").click(function (event) &#123; alert("son"); // return false; event.stopPropagation(); &#125;); $(".father").click(function () &#123; alert("father"); &#125;); */ $("a").click(function (event) &#123; alert("å¼¹å‡ºæ³¨å†Œæ¡†"); // return false; event.preventDefault(); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="father"&gt; &lt;div class="son"&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.baidu.com"&gt;æ³¨å†Œ&lt;/a&gt;&lt;form action="http://www.taobao.com"&gt; &lt;input type="text"&gt; &lt;input type="submit"&gt;&lt;/form&gt; 26-jQueryäº‹ä»¶å†’æ³¡å’Œé»˜è¡Œä¸º12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  $(".son").click(function (event) &#123; alert("son"); &#125;); $(".father").click(function () &#123; alert("father"); &#125;); // $(".father").trigger("click"); // $(".father").triggerHandler("click"); /* trigger: å¦‚æžœåˆ©ç”¨triggerè‡ªåŠ¨è§¦å‘äº‹ä»¶,ä¼šè§¦å‘äº‹ä»¶å†’æ³¡ triggerHandler: å¦‚æžœåˆ©ç”¨triggerHandlerè‡ªåŠ¨è§¦å‘äº‹ä»¶, ä¸ä¼šè§¦å‘äº‹ä»¶å†’æ³¡ */ // $(".son").trigger("click"); // $(".son").triggerHandler("click"); $("input[type='submit']").click(function () &#123; alert("submit"); &#125;); /* trigger: å¦‚æžœåˆ©ç”¨triggerè‡ªåŠ¨è§¦å‘äº‹ä»¶,ä¼šè§¦å‘é»˜è®¤è¡Œä¸º triggerHandler: å¦‚æžœåˆ©ç”¨triggerHandlerè‡ªåŠ¨è§¦å‘äº‹ä»¶, ä¸ä¼šè§¦å‘é»˜è®¤è¡Œä¸º */ // $("input[type='submit']").trigger("click"); // $("input[type='submit']").triggerHandler("click"); $("span").click(function () &#123; alert("a"); &#125;); // $("a").triggerHandler("click"); $("span").trigger("click"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="father"&gt; &lt;div class="son"&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.baidu.com"&gt;&lt;span&gt;æ³¨å†Œ&lt;/span&gt;&lt;/a&gt;&lt;form action="http://www.taobao.com"&gt; &lt;input type="text"&gt; &lt;input type="submit"&gt;&lt;/form&gt; 26-jQueryäº‹ä»¶å†’æ³¡å’Œé»˜è¡Œä¸º1234567891011121314151617&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  // $(".son").myClick(function (event) &#123; // alert("son"); // &#125;); /* æƒ³è¦è‡ªå®šä¹‰äº‹ä»¶, å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ 1.äº‹ä»¶å¿…é¡»æ˜¯é€šè¿‡onç»‘å®šçš„ 2.äº‹ä»¶å¿…é¡»é€šè¿‡triggeræ¥è§¦å‘ */ $(".son").on("myClick", function () &#123; alert("son"); &#125;); $(".son").triggerHandler("myClick"); &#125;); &lt;/script&gt; 26-jQueryäº‹ä»¶è‡ªåŠ¨è§¦å‘123456789101112131415161718192021222324252627282930313233343536373839&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  $(".son").click(function (event) &#123; alert("son"); &#125;); $(".father").click(function () &#123; alert("father"); &#125;); // $(".father").trigger("click"); // $(".father").triggerHandler("click"); /* trigger: å¦‚æžœåˆ©ç”¨triggerè‡ªåŠ¨è§¦å‘äº‹ä»¶,ä¼šè§¦å‘äº‹ä»¶å†’æ³¡ triggerHandler: å¦‚æžœåˆ©ç”¨triggerHandlerè‡ªåŠ¨è§¦å‘äº‹ä»¶, ä¸ä¼šè§¦å‘äº‹ä»¶å†’æ³¡ */ // $(".son").trigger("click"); // $(".son").triggerHandler("click"); $("input[type='submit']").click(function () &#123; alert("submit"); &#125;); /* trigger: å¦‚æžœåˆ©ç”¨triggerè‡ªåŠ¨è§¦å‘äº‹ä»¶,ä¼šè§¦å‘é»˜è®¤è¡Œä¸º triggerHandler: å¦‚æžœåˆ©ç”¨triggerHandlerè‡ªåŠ¨è§¦å‘äº‹ä»¶, ä¸ä¼šè§¦å‘é»˜è®¤è¡Œä¸º */ // $("input[type='submit']").trigger("click"); // $("input[type='submit']").triggerHandler("click"); $("span").click(function () &#123; alert("a"); &#125;); // $("a").triggerHandler("click"); $("span").trigger("click"); &#125;); &lt;/script&gt; 28 Jqueryè‡ªå®šä¹‰äº‹ä»¶12345678910111213141516171819202122232425262728 &lt;script src="js/jquery-1.12.4.js"&gt;&lt;/script&gt; &lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  // $(".son").myClick(function (event) &#123; // alert("son"); // &#125;); /* æƒ³è¦è‡ªå®šä¹‰äº‹ä»¶, å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ 1.äº‹ä»¶å¿…é¡»æ˜¯é€šè¿‡onç»‘å®šçš„ 2.äº‹ä»¶å¿…é¡»é€šè¿‡triggeræ¥è§¦å‘ */ $(".son").on("myClick", function () &#123; alert("son"); &#125;); $(".son").triggerHandler("myClick"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="father"&gt; &lt;div class="son"&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.baidu.com"&gt;&lt;span&gt;æ³¨å†Œ&lt;/span&gt;&lt;/a&gt;&lt;form action="http://www.taobao.com"&gt; &lt;input type="text"&gt; &lt;input type="submit"&gt;&lt;/form&gt; 29Jqueryäº‹ä»¶å‘½åç©ºé—´123456789101112131415161718&lt;script&gt; $(function () &#123; /* æƒ³è¦äº‹ä»¶çš„å‘½åç©ºé—´æœ‰æ•ˆ,å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ 1.äº‹ä»¶æ˜¯é€šè¿‡onæ¥ç»‘å®šçš„ 2.é€šè¿‡triggerè§¦å‘äº‹ä»¶ */ $(".son").on("click.zs", function () &#123; alert("click1"); &#125;); $(".son").on("click.ls", function () &#123; alert("click2"); &#125;); // $(".son").trigger("click.zs"); $(".son").trigger("click.ls"); &#125;); &lt;/script&gt; 30Jqueryå‘½åç©ºé—´é¢è¯•é¢˜1234567891011121314151617181920&lt;script&gt; $(function () &#123; $(".father").on("click.ls", function () &#123; alert("father click1"); &#125;); $(".father").on("click", function () &#123; alert("father click2"); &#125;); $(".son").on("click.ls", function () &#123; alert("son click1"); &#125;); /* åˆ©ç”¨triggerè§¦å‘å­å…ƒç´ å¸¦å‘½åç©ºé—´çš„äº‹ä»¶, é‚£ä¹ˆçˆ¶å…ƒç´ å¸¦ç›¸åŒå‘½åç©ºé—´çš„äº‹ä»¶ä¹Ÿä¼šè¢«è§¦å‘. è€Œçˆ¶å…ƒç´ æ²¡æœ‰å‘½åç©ºé—´çš„äº‹ä»¶ä¸ä¼šè¢«è§¦å‘ åˆ©ç”¨triggerè§¦å‘å­å…ƒç´ ä¸å¸¦å‘½åç©ºé—´çš„äº‹ä»¶,é‚£ä¹ˆå­å…ƒç´ æ‰€æœ‰ç›¸åŒç±»åž‹çš„äº‹ä»¶å’Œçˆ¶å…ƒç´ æ‰€æœ‰ç›¸åŒç±»åž‹çš„äº‹ä»¶éƒ½ä¼šè¢«è§¦å‘ */ // $(".son").trigger("click.ls"); $(".son").trigger("click"); &#125;); &lt;/script&gt; 31-jQueryäº‹ä»¶å§”æ‰˜1234567891011121314151617181920212223242526&lt;script&gt; $(function () &#123; /* 1.ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜? è¯·åˆ«äººå¸®å¿™åšäº‹æƒ…, ç„¶åŽå°†åšå®Œçš„ç»“æžœåé¦ˆç»™æˆ‘ä»¬ */ $("button").click(function () &#123; $("ul").append("&lt;li&gt;æˆ‘æ˜¯æ–°å¢žçš„li&lt;/li&gt;"); &#125;) /* åœ¨jQueryä¸­,å¦‚æžœé€šè¿‡æ ¸å¿ƒå‡½æ•°æ‰¾åˆ°çš„å…ƒç´ ä¸æ­¢ä¸€ä¸ª, é‚£ä¹ˆåœ¨æ·»åŠ äº‹ä»¶çš„æ—¶å€™,jQueryä¼šéåŽ†æ‰€æœ‰æ‰¾åˆ°çš„å…ƒç´ ,ç»™æ‰€æœ‰æ‰¾åˆ°çš„å…ƒç´ æ·»åŠ äº‹ä»¶ */ // $("ul&gt;li").click(function () &#123; // console.log($(this).html()); // &#125;); /* ä»¥ä¸‹ä»£ç çš„å«ä¹‰, è®©ulå¸®liç›‘å¬clickäº‹ä»¶ ä¹‹æ‰€ä»¥èƒ½å¤Ÿç›‘å¬, æ˜¯å› ä¸ºå…¥å£å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ulå°±å·²ç»å­˜åœ¨äº†, æ‰€ä»¥èƒ½å¤Ÿæ·»åŠ äº‹ä»¶ ä¹‹æ‰€ä»¥thisæ˜¯li,æ˜¯å› ä¸ºæˆ‘ä»¬ç‚¹å‡»çš„æ˜¯li, è€Œliæ²¡æœ‰clickäº‹ä»¶, æ‰€ä»¥äº‹ä»¶å†’æ³¡ä¼ é€’ç»™äº†ul,ulå“åº”äº†äº‹ä»¶, æ—¢ç„¶äº‹ä»¶æ˜¯ä»Žliä¼ é€’è¿‡æ¥çš„,æ‰€ä»¥ulå¿…ç„¶æŒ‡å®šthisæ˜¯è° */ $("ul").delegate("li", "click", function () &#123; console.log($(this).html()); &#125;); &#125;); &lt;/script&gt; 32-jQueryäº‹ä»¶å§”æ‰˜ç»ƒä¹ 1234567891011121314151617181920&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  $("a").click(function () &#123; var $mask = $("&lt;div class=\"mask\"&gt;\n" + " &lt;div class=\"login\"&gt;\n" + " &lt;img src=\"images/login.png\" alt=\"\"&gt;\n" + " &lt;span&gt;&lt;/span&gt;\n" + " &lt;/div&gt;\n" + "&lt;/div&gt;"); // æ·»åŠ è’™ç‰ˆ $("body").append($mask); $("body").delegate(".login&gt;span", "click", function () &#123; // ç§»é™¤è’™ç‰ˆ $mask.remove(); &#125;); return false; &#125;); &#125;); &lt;/script&gt; 33-jQueryç§»å…¥ç§»å‡ºäº‹ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  /* mouseover/mouseoutäº‹ä»¶, å­å…ƒç´ è¢«ç§»å…¥ç§»å‡ºä¹Ÿä¼šè§¦å‘çˆ¶å…ƒç´ çš„äº‹ä»¶ */ /* $(".father").mouseover(function () &#123; console.log("fatherè¢«ç§»å…¥äº†"); &#125;); $(".father").mouseout(function () &#123; console.log("fatherè¢«ç§»å‡ºäº†"); &#125;); */ /* mouseenter/mouseleaveäº‹ä»¶, å­å…ƒç´ è¢«ç§»å…¥ç§»å‡ºä¸ä¼šè§¦å‘çˆ¶å…ƒç´ çš„äº‹ä»¶ æŽ¨èå¤§å®¶ä½¿ç”¨ */ /* $(".father").mouseenter(function () &#123; console.log("fatherè¢«ç§»å…¥äº†"); &#125;); $(".father").mouseleave(function () &#123; console.log("fatherè¢«ç§»å‡ºäº†"); &#125;); */ /* $(".father").hover(function () &#123; console.log("fatherè¢«ç§»å…¥äº†"); &#125;,function () &#123; console.log("fatherè¢«ç§»å‡ºäº†"); &#125;); */ $(".father").hover(function () &#123; console.log("fatherè¢«ç§»å…¥ç§»å‡ºäº†"); &#125;); &#125;); &lt;/script&gt; 34-ç”µå½±æŽ’è¡Œæ¦œä¸Š1234567891011121314151617181920&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  /* // 1.ç›‘å¬liçš„ç§»å…¥äº‹ä»¶ $(&quot;li&quot;).mouseenter(function () &#123; $(this).addClass(&quot;current&quot;); &#125;); // 2.ç›‘å¬liçš„ç§»å‡ºäº‹ä»¶ $(&quot;li&quot;).mouseleave(function () &#123; $(this).removeClass(&quot;current&quot;); &#125;); */ $(&quot;li&quot;).hover(function () &#123; $(this).addClass(&quot;current&quot;); &#125;, function () &#123; $(this).removeClass(&quot;current&quot;); &#125;); &#125;); &lt;/script&gt; 36-TABé€‰é¡¹å¡ä¸Š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374&lt;script&gt; $(function () &#123; // 1.ç›‘å¬é€‰é¡¹å¡çš„ç§»å…¥äº‹ä»¶ $(&quot;.nav&gt;li&quot;).mouseenter(function () &#123; // 1.1ä¿®æ”¹è¢«ç§»å…¥é€‰é¡¹å¡çš„èƒŒæ™¯é¢œè‰² $(this).addClass(&quot;current&quot;); // 1.2èŽ·å–å½“å‰ç§»å…¥é€‰é¡¹å¡çš„ç´¢å¼• var index = $(this).index(); // 1.3æ ¹æ®ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„å›¾ç‰‡ var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.4æ˜¾ç¤ºæ‰¾åˆ°çš„å›¾ç‰‡ $li.addClass(&quot;show&quot;); &#125;); // 1.ç›‘å¬é€‰é¡¹å¡çš„ç§»å‡ºäº‹ä»¶ $(&quot;.nav&gt;li&quot;).mouseleave(function () &#123; // 1.1è¿˜åŽŸé€‰é¡¹å¡çš„èƒŒæ™¯é¢œè‰² $(this).removeClass(&quot;current&quot;); // 1.2èŽ·å–å½“å‰ç§»å‡ºé€‰é¡¹å¡çš„ç´¢å¼• var index = $(this).index(); // 1.3æ ¹æ®ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„å›¾ç‰‡ var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.4éšè—å¯¹åº”çš„å›¾ç‰‡ $li.removeClass(&quot;show&quot;); &#125;); &#125;); &lt;/script&gt; &lt;script&gt; $(function () &#123; /* // 1.ç›‘å¬é€‰é¡¹å¡çš„ç§»å…¥äº‹ä»¶ $(&quot;.nav&gt;li&quot;).mouseenter(function () &#123; // 1.1ä¿®æ”¹è¢«ç§»å…¥é€‰é¡¹å¡çš„èƒŒæ™¯é¢œè‰² $(this).addClass(&quot;current&quot;); // 1.2èŽ·å–å½“å‰ç§»å…¥é€‰é¡¹å¡çš„ç´¢å¼• var index = $(this).index(); // 1.3æ ¹æ®ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„å›¾ç‰‡ var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.4æ˜¾ç¤ºæ‰¾åˆ°çš„å›¾ç‰‡ $li.addClass(&quot;show&quot;); &#125;); // 1.ç›‘å¬é€‰é¡¹å¡çš„ç§»å‡ºäº‹ä»¶ $(&quot;.nav&gt;li&quot;).mouseleave(function () &#123; // 1.1è¿˜åŽŸé€‰é¡¹å¡çš„èƒŒæ™¯é¢œè‰² $(this).removeClass(&quot;current&quot;); // 1.2èŽ·å–å½“å‰ç§»å‡ºé€‰é¡¹å¡çš„ç´¢å¼• var index = $(this).index(); // 1.3æ ¹æ®ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„å›¾ç‰‡ var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.4éšè—å¯¹åº”çš„å›¾ç‰‡ $li.removeClass(&quot;show&quot;); &#125;); */ // 1.ç›‘å¬é€‰é¡¹å¡çš„ç§»å…¥äº‹ä»¶ $(&quot;.nav&gt;li&quot;).mouseenter(function () &#123; // 1.1ä¿®æ”¹è¢«ç§»å…¥é€‰é¡¹å¡çš„èƒŒæ™¯é¢œè‰² $(this).addClass(&quot;current&quot;); // 1.2è¿˜åŽŸå…¶å®ƒå…„å¼Ÿé€‰é¡¹å¡çš„èƒŒæ™¯é¢œè‰² $(this).siblings().removeClass(&quot;current&quot;); // 1.3èŽ·å–å½“å‰ç§»å‡ºé€‰é¡¹å¡çš„ç´¢å¼• var index = $(this).index(); // 1.4æ ¹æ®ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„å›¾ç‰‡ var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.5éšè—éžå½“å‰çš„å…¶å®ƒå›¾ç‰‡ $li.siblings().removeClass(&quot;show&quot;); // 1.6æ˜¾ç¤ºå¯¹åº”çš„å›¾ç‰‡ $li.addClass(&quot;show&quot;); &#125;); &#125;); &lt;/script&gt; 39-jQueryæ˜¾ç¤ºå’Œéšè—åŠ¨ç”»123456789101112131415161718192021222324&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  $("button").eq(0).click(function () &#123; // $("div").css("display", "block"); // æ³¨æ„: è¿™é‡Œçš„æ—¶é—´æ˜¯æ¯«ç§’ $("div").show(1000, function () &#123; // ä½œç”¨: åŠ¨ç”»æ‰§è¡Œå®Œæ¯•ä¹‹åŽè°ƒç”¨ alert("æ˜¾ç¤ºåŠ¨ç”»æ‰§è¡Œå®Œæ¯•"); &#125;); &#125;); $("button").eq(1).click(function () &#123; // $("div").css("display", "none"); $("div").hide(1000, function () &#123; alert("éšè—åŠ¨ç”»æ‰§è¡Œå®Œæ¯•"); &#125;); &#125;); $("button").eq(2).click(function () &#123; $("div").toggle(1000, function () &#123; alert("åˆ‡æ¢åŠ¨ç”»æ‰§è¡Œå®Œæ¯•"); &#125;); &#125;); &#125;); &lt;/script&gt; 40-å¯¹è”å¹¿å‘Š123456789101112131415161718&lt;script&gt; $(function () &#123; // 1.ç›‘å¬ç½‘é¡µçš„æ»šåŠ¨ $(window).scroll(function () &#123; // 1.1èŽ·å–ç½‘é¡µæ»šåŠ¨çš„åç§»ä½ var offset = $("html,body").scrollTop(); // 1.2åˆ¤æ–­ç½‘é¡µæ˜¯å¦æ»šåŠ¨åˆ°äº†æŒ‡å®šçš„ä½ç½® if(offset &gt;= 500)&#123; // 1.3æ˜¾ç¤ºå¹¿å‘Š $("img").show(1000); &#125;else&#123; // 1.4éšè—å¹¿å‘Š $("img").hide(1000); &#125; &#125;); &#125;); &lt;/script&gt; 41-jQueryå±•å¼€å’Œæ”¶èµ·åŠ¨ç”»1234567891011121314151617181920&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  $("button").eq(0).click(function () &#123; $("div").slideDown(1000, function () &#123; alert("å±•å¼€å®Œæ¯•"); &#125;); &#125;); $("button").eq(1).click(function () &#123; $("div").slideUp(1000, function () &#123; alert("æ”¶èµ·å®Œæ¯•"); &#125;); &#125;); $("button").eq(2).click(function () &#123; $("div").slideToggle(1000, function () &#123; alert("æ”¶èµ·å®Œæ¯•"); &#125;); &#125;); &#125;); &lt;/script&gt; 43-æŠ˜å èœå•ä¸‹12345678910111213141516171819&lt;script&gt; $(function () &#123; // 1.ç›‘å¬ä¸€çº§èœå•çš„ç‚¹å‡»äº‹ä»¶ $(&quot;.nav&gt;li&quot;).click(function () &#123; // 1.1æ‹¿åˆ°äºŒçº§èœå• var $sub = $(this).children(&quot;.sub&quot;); // 1.2è®©äºŒçº§èœå•å±•å¼€ $sub.slideDown(1000); // 1.3æ‹¿åˆ°æ‰€æœ‰éžå½“å‰çš„äºŒçº§èœå• var otherSub = $(this).siblings().children(&quot;.sub&quot;); // 1.4è®©æ‰€æœ‰éžå½“å‰çš„äºŒçº§èœå•æ”¶èµ· otherSub.slideUp(1000); // 1.5è®©è¢«ç‚¹å‡»çš„ä¸€çº§èœå•ç®­å¤´æ—‹è½¬ $(this).addClass(&quot;current&quot;); // 1.6è®©æ‰€æœ‰éžè¢«ç‚¹å‡»çš„ä¸€çº§èœå•ç®­å¤´è¿˜åŽŸ $(this).siblings().removeClass(&quot;current&quot;); &#125;); &#125;); &lt;/script&gt; 44-ä¸‹æ‹‰èœå•1234567891011121314151617181920212223242526&lt;script&gt; $(function () &#123; /* åœ¨jQueryä¸­å¦‚æžœéœ€è¦æ‰§è¡ŒåŠ¨ç”», å»ºè®®åœ¨æ‰§è¡ŒåŠ¨ç”»ä¹‹å‰å…ˆè°ƒç”¨stopæ–¹æ³•,ç„¶åŽå†æ‰§è¡ŒåŠ¨ç”» */ // 1.ç›‘å¬ä¸€çº§èœå•çš„ç§»å…¥äº‹ä»¶ $(&quot;.nav&gt;li&quot;).mouseenter(function () &#123; // 1.1æ‹¿åˆ°äºŒçº§èœå• var $sub = $(this).children(&quot;.sub&quot;); // åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„åŠ¨ç”»ï¼š $sub.stop(); // 1.2è®©äºŒçº§èœå•å±•å¼€ $sub.slideDown(1000); &#125;); // 2.ç›‘å¬ä¸€çº§èœå•çš„ç§»å‡ºäº‹ä»¶ $(&quot;.nav&gt;li&quot;).mouseleave(function () &#123; // 1.1æ‹¿åˆ°äºŒçº§èœå• var $sub = $(this).children(&quot;.sub&quot;); // åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„åŠ¨ç”»ï¼š $sub.stop(); // 1.2è®©äºŒçº§èœå•æ”¶èµ· $sub.slideUp(1000); &#125;); &#125;); &lt;/script&gt; 45-jQueryæ·¡å…¥æ·¡å‡ºåŠ¨ç”»12345678910111213141516171819202122232425&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  $(&quot;button&quot;).eq(0).click(function () &#123; $(&quot;div&quot;).fadeIn(1000, function () &#123; alert(&quot;æ·¡å…¥å®Œæ¯•&quot;); &#125;); &#125;); $(&quot;button&quot;).eq(1).click(function () &#123; $(&quot;div&quot;).fadeOut(1000, function () &#123; alert(&quot;æ·¡å‡ºå®Œæ¯•&quot;); &#125;); &#125;); $(&quot;button&quot;).eq(2).click(function () &#123; $(&quot;div&quot;).fadeToggle(1000, function () &#123; alert(&quot;åˆ‡æ¢å®Œæ¯•&quot;); &#125;); &#125;); $(&quot;button&quot;).eq(3).click(function () &#123; $(&quot;div&quot;).fadeTo(1000, 0.2, function () &#123; alert(&quot;æ·¡å…¥å®Œæ¯•&quot;); &#125;) &#125;); &#125;); &lt;/script&gt; 46-å¼¹çª—å¹¿å‘Š12345678910111213141516171819&lt;script&gt; $(function () &#123; // 1.ç›‘å¬spançš„ç‚¹å‡»äº‹ä»¶ $(&quot;span&quot;).click(function () &#123; $(&quot;.ad&quot;).remove(); &#125;); // 2.æ‰§è¡Œå¹¿å‘ŠåŠ¨ç”» /* $(&quot;.ad&quot;).slideDown(1000, function () &#123; $(&quot;.ad&quot;).fadeOut(1000, function () &#123; $(&quot;.ad&quot;).fadeIn(1000); &#125;); &#125;); */ $(&quot;.ad&quot;).stop().slideDown(1000).fadeOut(1000).fadeIn(1000); &#125;); &lt;/script&gt; 47-jQueryè‡ªå®šä¹‰åŠ¨ç”»123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  $(&quot;button&quot;).eq(0).click(function () &#123; /* $(&quot;.one&quot;).animate(&#123; width: 500 &#125;, 1000, function () &#123; alert(&quot;è‡ªå®šä¹‰åŠ¨ç”»æ‰§è¡Œå®Œæ¯•&quot;); &#125;); */ $(&quot;.one&quot;).animate(&#123; marginLeft: 500 &#125;, 5000, function () &#123; // alert(&quot;è‡ªå®šä¹‰åŠ¨ç”»æ‰§è¡Œå®Œæ¯•&quot;); &#125;); /* ç¬¬ä¸€ä¸ªå‚æ•°: æŽ¥æ”¶ä¸€ä¸ªå¯¹è±¡, å¯ä»¥åœ¨å¯¹è±¡ä¸­ä¿®æ”¹å±žæ€§ ç¬¬äºŒä¸ªå‚æ•°: æŒ‡å®šåŠ¨ç”»æ—¶é•¿ ç¬¬ä¸‰ä¸ªå‚æ•°: æŒ‡å®šåŠ¨ç”»èŠ‚å¥, é»˜è®¤å°±æ˜¯swing ç¬¬å››ä¸ªå‚æ•°: åŠ¨ç”»æ‰§è¡Œå®Œæ¯•ä¹‹åŽçš„å›žè°ƒå‡½æ•° */ $(&quot;.two&quot;).animate(&#123; marginLeft: 500 &#125;, 5000, &quot;linear&quot;, function () &#123; // alert(&quot;è‡ªå®šä¹‰åŠ¨ç”»æ‰§è¡Œå®Œæ¯•&quot;); &#125;); &#125;) $(&quot;button&quot;).eq(1).click(function () &#123; $(&quot;.one&quot;).animate(&#123; width: &quot;+=100&quot; &#125;, 1000, function () &#123; alert(&quot;è‡ªå®šä¹‰åŠ¨ç”»æ‰§è¡Œå®Œæ¯•&quot;); &#125;); &#125;); $(&quot;button&quot;).eq(2).click(function () &#123; $(&quot;.one&quot;).animate(&#123; // width: &quot;hide&quot; width: &quot;toggle&quot; &#125;, 1000, function () &#123; alert(&quot;è‡ªå®šä¹‰åŠ¨ç”»æ‰§è¡Œå®Œæ¯•&quot;); &#125;); &#125;) &#125;); &lt;/script&gt; 48-jQueryçš„stopå’Œdelayæ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;script&gt; $(function () &#123; // ç¼–å†™jQueryç›¸å…³ä»£ç  $(&quot;button&quot;).eq(0).click(function () &#123; /* åœ¨jQueryçš„&#123;&#125;ä¸­å¯ä»¥åŒæ—¶ä¿®æ”¹å¤šä¸ªå±žæ€§, å¤šä¸ªå±žæ€§çš„åŠ¨ç”»ä¹Ÿä¼šåŒæ—¶æ‰§è¡Œ */ /* $(&quot;.one&quot;).animate(&#123; width: 500 // height: 500 &#125;, 1000); $(&quot;.one&quot;).animate(&#123; height: 500 &#125;, 1000); */ /* delayæ–¹æ³•çš„ä½œç”¨å°±æ˜¯ç”¨äºŽå‘Šè¯‰ç³»ç»Ÿå»¶è¿Ÿæ—¶é•¿ */ /* $(&quot;.one&quot;).animate(&#123; width: 500 // height: 500 &#125;, 1000).delay(2000).animate(&#123; height: 500 &#125;, 1000); */ $(&quot;.one&quot;).animate(&#123; width: 500 &#125;, 1000); $(&quot;.one&quot;).animate(&#123; height: 500 &#125;, 1000); $(&quot;.one&quot;).animate(&#123; width: 100 &#125;, 1000); $(&quot;.one&quot;).animate(&#123; height: 100 &#125;, 1000); &#125;); $(&quot;button&quot;).eq(1).click(function () &#123; // ç«‹å³åœæ­¢å½“å‰åŠ¨ç”», ç»§ç»­æ‰§è¡ŒåŽç»­çš„åŠ¨ç”» // $(&quot;div&quot;).stop(); // $(&quot;div&quot;).stop(false); // $(&quot;div&quot;).stop(false, false); // ç«‹å³åœæ­¢å½“å‰å’ŒåŽç»­æ‰€æœ‰çš„åŠ¨ç”» // $(&quot;div&quot;).stop(true); // $(&quot;div&quot;).stop(true, false); // ç«‹å³å®Œæˆå½“å‰çš„, ç»§ç»­æ‰§è¡ŒåŽç»­åŠ¨ç”» // $(&quot;div&quot;).stop(false, true); // ç«‹å³å®Œæˆå½“å‰çš„, å¹¶ä¸”åœæ­¢åŽç»­æ‰€æœ‰çš„ $(&quot;div&quot;).stop(true, true); &#125;); &#125;); &lt;/script&gt; 49-å›¾æ ‡ç‰¹æ•ˆ1234567891011121314151617181920212223242526&lt;script&gt; $(function () &#123; // 1.éåŽ†æ‰€æœ‰çš„li $(&quot;li&quot;).each(function (index, ele) &#123; // 1.1ç”Ÿæˆæ–°çš„å›¾ç‰‡ä½ç½® var $url = &quot;url(\&quot;images/bg.png\&quot;) no-repeat 0 &quot;+(index * -24)+&quot;px&quot; // 1.2è®¾ç½®æ–°çš„å›¾ç‰‡ä½ç½® $(this).children(&quot;span&quot;).css(&quot;background&quot;, $url); &#125;); // 2.ç›‘å¬liç§»å…¥äº‹ä»¶ $(&quot;li&quot;).mouseenter(function () &#123; // 2.1å°†å›¾æ ‡å¾€ä¸Šç§»åŠ¨ $(this).children(&quot;span&quot;).animate(&#123; top: -50 &#125;, 1000, function () &#123; // 2.2å°†å›¾ç‰‡å¾€ä¸‹ç§»åŠ¨ $(this).css(&quot;top&quot;, &quot;50px&quot;); // 2.3å°†å›¾ç‰‡å¤ä½ $(this).animate(&#123; top: 0 &#125;, 1000); &#125;); &#125;); &#125;); &lt;/script&gt; 50-æ— é™å¾ªçŽ¯æ»šåŠ¨123456789101112131415161718192021222324252627282930313233&lt;script&gt; $(function () &#123; // 0.å®šä¹‰å˜é‡ä¿å­˜åç§»ä½ var offset = 0; // 1.è®©å›¾ç‰‡æ»šåŠ¨èµ·æ¥ var timer; function autoPlay()&#123; timer = setInterval(function () &#123; offset += -10; if(offset &lt;= -1200)&#123; offset = 0; &#125; $(&quot;ul&quot;).css(&quot;marginLeft&quot;, offset); &#125;, 50); &#125; autoPlay(); // 2.ç›‘å¬liçš„ç§»å…¥å’Œç§»å‡ºäº‹ä»¶ $(&quot;li&quot;).hover(function () &#123; // åœæ­¢æ»šåŠ¨ clearInterval(timer); // ç»™éžå½“å‰é€‰ä¸­æ·»åŠ è’™ç‰ˆ $(this).siblings().fadeTo(100, 0.5); // åŽ»é™¤å½“å‰é€‰ä¸­çš„è’™ç‰ˆ $(this).fadeTo(100, 1); &#125;, function () &#123; // ç»§ç»­æ»šåŠ¨ autoPlay(); // åŽ»é™¤æ‰€æœ‰çš„è’™ç‰ˆ $(&quot;li&quot;).fadeTo(100, 1); &#125;); &#125;); &lt;/script&gt; 51-jQueryæ·»åŠ èŠ‚ç‚¹ç›¸å…³æ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849 &lt;script&gt; $(function () &#123; /* å†…éƒ¨æ’å…¥ append(content|fn) appendTo(content) ä¼šå°†å…ƒç´ æ·»åŠ åˆ°æŒ‡å®šå…ƒç´ å†…éƒ¨çš„æœ€åŽ prepend(content|fn) prependTo(content) ä¼šå°†å…ƒç´ æ·»åŠ åˆ°æŒ‡å®šå…ƒç´ å†…éƒ¨çš„æœ€å‰é¢ å¤–éƒ¨æ’å…¥ after(content|fn) ä¼šå°†å…ƒç´ æ·»åŠ åˆ°æŒ‡å®šå…ƒç´ å¤–éƒ¨çš„åŽé¢ before(content|fn) ä¼šå°†å…ƒç´ æ·»åŠ åˆ°æŒ‡å®šå…ƒç´ å¤–éƒ¨çš„å‰é¢ insertAfter(content) insertBefore(content) */ $("button").click(function () &#123; // 1.åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ var $li = $("&lt;li&gt;æ–°å¢žçš„li&lt;/li&gt;"); // 2.æ·»åŠ èŠ‚ç‚¹ $("ul").append($li); $("ul").prepend($li); // $li.appendTo("ul"); // $li.prependTo("ul"); // $("ul").after($li); // $("ul").before($li); // $li.insertAfter("ul"); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;æ·»åŠ èŠ‚ç‚¹&lt;/button&gt;&lt;ul&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬1ä¸ªli&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬2ä¸ªli&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬3ä¸ªli&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;æˆ‘æ˜¯div&lt;/div&gt; 52-jQueryåˆ é™¤èŠ‚ç‚¹ç›¸å…³æ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637 &lt;script&gt; $(function () &#123; /* åˆ é™¤ remove([expr]) åˆ é™¤æŒ‡å®šå…ƒç´  empty() åˆ é™¤æŒ‡å®šå…ƒç´ çš„å†…å®¹å’Œå­å…ƒç´ , æŒ‡å®šå…ƒç´ è‡ªèº«ä¸ä¼šè¢«åˆ é™¤ detach([expr]) */ $("button").click(function () &#123; // $("div").remove(); // $("div").empty(); // $("li").remove(".item"); // åˆ©ç”¨removeåˆ é™¤ä¹‹åŽå†é‡æ–°æ·»åŠ ,åŽŸæœ‰çš„äº‹ä»¶æ— æ³•å“åº” // var $div = $("div").remove(); // åˆ©ç”¨detachåˆ é™¤ä¹‹åŽå†é‡æ–°æ·»åŠ ,åŽŸæœ‰äº‹ä»¶å¯ä»¥å“åº” var $div = $("div").detach(); // console.log($div); $("body").append($div); &#125;); $("div").click(function () &#123; alert("divè¢«ç‚¹å‡»äº†"); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;åˆ é™¤èŠ‚ç‚¹&lt;/button&gt;&lt;ul&gt; &lt;li class="item"&gt;æˆ‘æ˜¯ç¬¬1ä¸ªli&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬2ä¸ªli&lt;/li&gt; &lt;li class="item"&gt;æˆ‘æ˜¯ç¬¬3ä¸ªli&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬4ä¸ªli&lt;/li&gt; &lt;li class="item"&gt;æˆ‘æ˜¯ç¬¬5ä¸ªli&lt;/li&gt;&lt;/ul&gt; 53-jQueryæ›¿æ¢èŠ‚ç‚¹ç›¸å…³æ–¹æ³•1234567891011121314151617181920212223 &lt;script&gt; $(function () &#123; /* æ›¿æ¢ replaceWith(content|fn) replaceAll(selector) æ›¿æ¢æ‰€æœ‰åŒ¹é…çš„å…ƒç´ ä¸ºæŒ‡å®šçš„å…ƒç´  */ $("button").click(function () &#123; // 1.æ–°å»ºä¸€ä¸ªå…ƒç´  var $h6 = $("&lt;h6&gt;æˆ‘æ˜¯æ ‡é¢˜6&lt;/h6&gt;"); // 2.æ›¿æ¢å…ƒç´  // $("h1").replaceWith($h6); $h6.replaceAll("h1"); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;æ›¿æ¢èŠ‚ç‚¹&lt;/button&gt;&lt;h1&gt;æˆ‘æ˜¯æ ‡é¢˜1&lt;/h1&gt;&lt;h1&gt;æˆ‘æ˜¯æ ‡é¢˜1&lt;/h1&gt;&lt;p&gt;æˆ‘æ˜¯æ®µè½&lt;/p&gt; 54-jQueryå¤åˆ¶èŠ‚ç‚¹ç›¸å…³æ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637&lt;script&gt; $(function () &#123; // clone([Even[,deepEven]]) /* å¦‚æžœä¼ å…¥falseå°±æ˜¯æµ…å¤åˆ¶, å¦‚æžœä¼ å…¥trueå°±æ˜¯æ·±å¤åˆ¶ æµ…å¤åˆ¶åªä¼šå¤åˆ¶å…ƒç´ , ä¸ä¼šå¤åˆ¶å…ƒç´ çš„äº‹ä»¶ æ·±å¤åˆ¶ä¼šå¤åˆ¶å…ƒç´ , è€Œä¸”è¿˜ä¼šå¤åˆ¶å…ƒç´ çš„äº‹ä»¶ */ $("button").eq(0).click(function () &#123; // 1.æµ…å¤åˆ¶ä¸€ä¸ªå…ƒç´  var $li = $("li:first").clone(false); // 2.å°†å¤åˆ¶çš„å…ƒç´ æ·»åŠ åˆ°ulä¸­ $("ul").append($li); &#125;); $("button").eq(1).click(function () &#123; // 1.æ·±å¤åˆ¶ä¸€ä¸ªå…ƒç´  var $li = $("li:first").clone(true); // 2.å°†å¤åˆ¶çš„å…ƒç´ æ·»åŠ åˆ°ulä¸­ $("ul").append($li); &#125;); $("li").click(function () &#123; alert($(this).html()); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;æµ…å¤åˆ¶èŠ‚ç‚¹&lt;/button&gt;&lt;button&gt;æ·±å¤åˆ¶èŠ‚ç‚¹&lt;/button&gt;&lt;ul&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬1ä¸ªli&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬2ä¸ªli&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬3ä¸ªli&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬4ä¸ªli&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬5ä¸ªli&lt;/li&gt;&lt;/ul&gt; Ajax12345678910111213141516171819202122232425262728293031323334353637383940&lt;!--1.å¯ä»¥é€šè¿‡formæ ‡ç­¾çš„methodå±žæ€§æŒ‡å®šå‘é€è¯·æ±‚çš„ç±»åž‹2.å¦‚æžœæ˜¯getè¯·æ±‚ä¼šå°†æäº¤çš„æ•°æ®æ‹¼æŽ¥åˆ°URLåŽé¢?userName=lnj&amp;userPwd=1234563.å¦‚æžœæ˜¯postè¯·æ±‚ä¼šå°†æäº¤çš„æ•°æ®æ”¾åˆ°è¯·æ±‚å¤´ä¸­4.GETè¯·æ±‚å’ŒPOSTè¯·æ±‚çš„å¼‚åŒ4.1ç›¸åŒç‚¹:éƒ½æ˜¯å°†æ•°æ®æäº¤åˆ°è¿œç¨‹æœåŠ¡å™¨4.2ä¸åŒç‚¹:4.2.1æäº¤æ•°æ®å­˜å‚¨çš„ä½ç½®ä¸åŒGETè¯·æ±‚ä¼šå°†æ•°æ®æ”¾åˆ°URLåŽé¢POSTè¯·æ±‚ä¼šå°†æ•°æ®æ”¾åˆ°è¯·æ±‚å¤´ä¸­4.2.2æäº¤æ•°æ®å¤§å°é™åˆ¶ä¸åŒGETè¯·æ±‚å¯¹æ•°æ®æœ‰å¤§å°é™åˆ¶POSTè¯·æ±‚å¯¹æ•°æ®æ²¡æœ‰å¤§å°é™åˆ¶5.GET/POSTè¯·æ±‚åº”ç”¨åœºæ™¯GETè¯·æ±‚ç”¨äºŽæäº¤éžæ•æ„Ÿæ•°æ®å’Œå°æ•°æ®POSTè¯·æ±‚ç”¨äºŽæäº¤æ•æ„Ÿæ•°æ®å’Œå¤§æ•°æ®&lt;--æ³¨æ„:1.ä¸Šä¼ æ–‡ä»¶ä¸€èˆ¬ä½¿ç”¨POSTæäº¤2.ä¸Šä¼ æ–‡ä»¶å¿…é¡»è®¾ç½®enctype=&quot;multipart/form-data&quot;3.ä¸Šä¼ çš„æ–‡ä»¶åœ¨PHPä¸­å¯ä»¥é€šè¿‡$_FILESèŽ·å–4.PHPä¸­æ–‡ä»¶é»˜è®¤ä¼šä¸Šä¼ åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•, æŽ¥æ”¶å®Œæ¯•ä¹‹åŽä¼šè‡ªåŠ¨åˆ é™¤--&gt;&lt;!--é»˜è®¤æƒ…å†µä¸‹æœåŠ¡å™¨å¯¹ä¸Šä¼ æ–‡ä»¶çš„å¤§å°æ˜¯æœ‰é™åˆ¶çš„, å¦‚æžœæƒ³ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶çš„é™åˆ¶å¯ä»¥ä¿®æ”¹php.iniæ–‡ä»¶file_uploads = On ; æ˜¯å¦å…è®¸ä¸Šä¼ æ–‡ä»¶ On/Off é»˜è®¤æ˜¯Onupload_max_filesize = 2048M ; ä¸Šä¼ æ–‡ä»¶çš„æœ€å¤§é™åˆ¶post_max_size = 2048M ; é€šè¿‡Postæäº¤çš„æœ€å¤šæ•°æ®max_execution_time = 30000 ; è„šæœ¬æœ€é•¿çš„æ‰§è¡Œæ—¶é—´ å•ä½ä¸ºç§’max_input_time = 30000 ; æŽ¥æ”¶æäº¤çš„æ•°æ®çš„æ—¶é—´é™åˆ¶ å•ä½ä¸ºç§’memory_limit = 2048M ; æœ€å¤§çš„å†…å­˜æ¶ˆè€—--&gt; 04-ajax-get12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;!-- 1.ä»€ä¹ˆæ˜¯Ajax? AJAX æ˜¯ä¸ŽæœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶æ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„è‰ºæœ¯ï¼Œåœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ã€‚ --&gt; &lt;script&gt; window.onload = function (ev) &#123; var oBtn = document.querySelector(&quot;button&quot;); oBtn.onclick = function (ev1) &#123; // 1.åˆ›å»ºä¸€ä¸ªå¼‚æ­¥å¯¹è±¡ var xmlhttp=new XMLHttpRequest(); // 2.è®¾ç½®è¯·æ±‚æ–¹å¼å’Œè¯·æ±‚åœ°å€ /* methodï¼šè¯·æ±‚çš„ç±»åž‹ï¼›GET æˆ– POST urlï¼šæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ä½ç½® asyncï¼štrueï¼ˆå¼‚æ­¥ï¼‰æˆ– falseï¼ˆåŒæ­¥ï¼‰ */ xmlhttp.open(&quot;GET&quot;, &quot;04-ajax-get.php&quot;, true); // 3.å‘é€è¯·æ±‚ xmlhttp.send(); // 4.ç›‘å¬çŠ¶æ€çš„å˜åŒ– xmlhttp.onreadystatechange = function (ev2) &#123; /* 0: è¯·æ±‚æœªåˆå§‹åŒ– 1: æœåŠ¡å™¨è¿žæŽ¥å·²å»ºç«‹ 2: è¯·æ±‚å·²æŽ¥æ”¶ 3: è¯·æ±‚å¤„ç†ä¸­ 4: è¯·æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª */ if(xmlhttp.readyState === 4)&#123; // åˆ¤æ–­æ˜¯å¦è¯·æ±‚æˆåŠŸ if(xmlhttp.status &gt;= 200 &amp;&amp; xmlhttp.status &lt; 300 || xmlhttp.status === 304)&#123; // 5.å¤„ç†è¿”å›žçš„ç»“æžœ console.log(&quot;æŽ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›žçš„æ•°æ®&quot;); &#125;else&#123; console.log(&quot;æ²¡æœ‰æŽ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›žçš„æ•°æ®&quot;); &#125; &#125; &#125; &#125; &#125; &lt;/script&gt; 05-ajax-get123456789101112131415161718192021222324252627282930313233343536373839&lt;script&gt; window.onload = function (ev) &#123; var oBtn = document.querySelector(&quot;button&quot;); oBtn.onclick = function (ev1) &#123; var xhr; if (window.XMLHttpRequest) &#123;// code for IE7+, Firefox, Chrome, Opera, Safari xhr=new XMLHttpRequest(); &#125; else &#123;// code for IE6, IE5 xhr=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); &#125; // var xhr = new XMLHttpRequest(); /* åœ¨IEæµè§ˆå™¨ä¸­, å¦‚æžœé€šè¿‡Ajaxå‘é€GETè¯·æ±‚, é‚£ä¹ˆIEæµè§ˆå™¨è®¤ä¸º åŒä¸€ä¸ªURLåªæœ‰ä¸€ä¸ªç»“æžœ 05-ajax-get.txt === abc console.log(Math.random()); console.log(new Date().getTime()); */ xhr.open(&quot;GET&quot;,&quot;05-ajax-get.txt?t=&quot;+(new Date().getTime()),true); xhr.send(); xhr.onreadystatechange = function (ev2) &#123; if(xhr.readyState === 4)&#123; if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300 || xhr.status === 304)&#123; // alert(&quot;è¯·æ±‚æˆåŠŸ&quot;); alert(xhr.responseText); &#125;else&#123; alert(&quot;è¯·æ±‚å¤±è´¥&quot;); &#125; &#125; &#125; &#125; &#125;&lt;/script&gt; 10-ajax-test123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687 &lt;script src=&quot;myAjax2.js&quot;&gt;&lt;/script&gt; &lt;script&gt; window.onload = function (ev) &#123; // 1.èŽ·å–éœ€è¦è®¾ç½®çš„å…ƒç´  var oTitle = document.querySelector(&quot;#title&quot;); var oDes = document.querySelector(&quot;#des&quot;); var oImg = document.querySelector(&quot;img&quot;); // 2.èŽ·å–æ‰€æœ‰æŒ‰é’® var oBtns = document.querySelectorAll(&quot;button&quot;); // 3.ç»™æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ oBtns[0].onclick = function () &#123; var self = this; // 4.å‘é€Aajxè¯·æ±‚åˆ°æœåŠ¡å™¨ ajax(&#123; type:&quot;get&quot;, url:&quot;10-ajax-test.php&quot;, data:&#123;&quot;name&quot;:this.getAttribute(&quot;name&quot;)&#125;, timeout: 3000, success: function (xhr) &#123; /* // alert(xhr.responseText); var res = xhr.responseText.split(&quot;|&quot;); // console.log(res); oTitle.innerHTML = res[0]; oDes.innerHTML = res[1]; oImg.setAttribute(&quot;src&quot;, res[2]); */ /* var name = self.getAttribute(&quot;name&quot;); var res = xhr.responseXML; var title = res.querySelector(name+&quot;&gt;title&quot;).innerHTML; var des = res.querySelector(name+&quot;&gt;des&quot;).innerHTML; var image = res.querySelector(name+&quot;&gt;image&quot;).innerHTML; oTitle.innerHTML = title; oDes.innerHTML = des; oImg.setAttribute(&quot;src&quot;, image); */ var name = self.getAttribute(&quot;name&quot;); var str = xhr.responseText; var obj = JSON.parse(str); // console.log(obj); var subObj = obj[name]; // console.log(subObj); oTitle.innerHTML = subObj.title; oDes.innerHTML = subObj.des; oImg.setAttribute(&quot;src&quot;, subObj.image); &#125;, error: function (xhr) &#123; alert(xhr.status); &#125; &#125;); &#125; oBtns[1].onclick = function () &#123; &#125; oBtns[2].onclick = function () &#123; &#125; &#125; &lt;/script&gt; -------- &lt;script&gt; window.onload = function (ev) &#123; var oBtn = document.querySelector(&quot;button&quot;); oBtn.onclick = function (ev1) &#123; ajax(&#123; type:&quot;get&quot;, url:&quot;11-ajax-xml.php&quot;, success: function (xhr) &#123; // console.log(xhr.responseXML); // console.log(document); var res = xhr.responseXML; console.log(res.querySelector(&quot;name&quot;).innerHTML); console.log(res.querySelector(&quot;age&quot;).innerHTML); &#125;, error: function (xhr) &#123; console.log(xhr.status); &#125; &#125;) &#125; &#125; &lt;/script&gt;&lt;/head&gt;]]></content>
      <tags>
        <tag>JqueryæŽæ±Ÿå—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mysqlä¸»å±‚å¤åˆ¶]]></title>
    <url>%2F2019%2F03%2F08%2FMysql%2FMysql%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mybatis]]></title>
    <url>%2F2019%2F03%2F08%2FMybatis%2FresultType%20resultMap%2F</url>
    <content type="text"></content>
      <tags>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jquery2]]></title>
    <url>%2F2019%2F03%2F03%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%AD%A6%E4%B9%A02%2F</url>
    <content type="text"><![CDATA[1 $.getJson()jQueryä¸­çš„$.getJSON( )æ–¹æ³•å‡½æ•°ä¸»è¦ç”¨æ¥ä»ŽæœåŠ¡å™¨åŠ è½½jsonç¼–ç çš„æ•°æ®ï¼Œå®ƒä½¿ç”¨çš„æ˜¯GET HTTPè¯·æ±‚ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š 1$.getJSON( url [, data ] [, success(data, textStatus, jqXHR) ] ) urlæ˜¯å¿…é€‰å‚æ•°ï¼Œè¡¨ç¤ºjsonæ•°æ®çš„åœ°å€ï¼›dataæ˜¯å¯é€‰å‚æ•°ï¼Œç”¨äºŽè¯·æ±‚æ•°æ®æ—¶å‘é€æ•°æ®å‚æ•°ï¼›successæ˜¯å¯å‚æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œç”¨äºŽå¤„ç†è¯·æ±‚åˆ°çš„æ•°æ®ã€‚ èŽ·å–jsonæ•°æ®ä¸¾ä¾‹ 12345$.getJson('test.json',function(data)&#123; for(var i=0;i&lt;data.rows.length;i++)&#123; $('#test').append('&lt;p&gt;'+data.rows[i].realName+'&lt;/p&gt;') &#125;&#125;); åœ¨WEBå¼€å‘ä¸­å¼‚æ­¥è¯·æ±‚æ–¹å¼æ™®éä½¿ç”¨ï¼ŒajaxæŠ€æœ¯å‡å°‘ç¨‹åºå‘˜çš„å·¥ä½œé‡ï¼Œä¹Ÿæå‡ç”¨æˆ·äº¤äº’ä½“éªŒã€‚AJAXçš„å››ç§å¼‚æ­¥è¯·æ±‚æ–¹å¼éƒ½èƒ½å®žçŽ°åŸºæœ¬éœ€æ±‚ï¼Œé—²è¯ä¸å¤šè¯´ï¼Œç›´æŽ¥åˆ‡å…¥æ­£é¢˜ã€‚ .$.getJSON $.getJSON()æ˜¯ä¸“é—¨ä¸ºajaxèŽ·å–jsonæ•°æ®è€Œè®¾ç½®çš„ï¼Œå¹¶ä¸”æ”¯æŒè·¨åŸŸè°ƒç”¨ï¼Œå…¶è¯­æ³•çš„æ ¼å¼ä¸ºï¼š 123451 $.getJSON(2 url, //è¯·æ±‚URL3 [data], //ä¼ å‚ï¼Œå¯é€‰å‚æ•°4 [callback] //å›žè°ƒå‡½æ•°ï¼Œå¯é€‰å‚æ•°5 ); 123urlï¼šstringç±»åž‹ï¼Œ å‘é€è¯·æ±‚åœ°å€ data ï¼šå¯é€‰å‚æ•°ï¼Œ å¾…å‘é€ Key/value å‚æ•° ï¼ŒåŒgetï¼Œpostç±»åž‹çš„data callback ï¼šå¯é€‰å‚æ•°ï¼Œè½½å…¥æˆåŠŸæ—¶å›žè°ƒå‡½æ•°ï¼ŒåŒgetï¼Œpostç±»åž‹çš„callback 4.$.ajax $.ajaxæ˜¯ä¸€ç§å¸¸ç”¨çš„æ™®é€šå°è£…å¼‚æ­¥æ–¹å¼ã€‚ 11 $.ajax(options)ï¼› optionsæ˜¯ä¸€ä¸ªobjectç±»åž‹ï¼Œå®ƒæŒ‡æ˜Žäº†æœ¬æ¬¡ajaxè°ƒç”¨çš„å…·ä½“å‚æ•°ã€‚å‘ˆä¸Šä»£ç ï¼š 123456789101112131415//ç¤ºä¾‹.ajax( url: "/legalconsult/layer/update-info", datatype:"json", type:'post', beforeSend:function()&#123; //å‡½æ•°ä½“ï¼Œæ•°æ®å‘é€å‰æ‰§è¡Œã€‚ &#125; successï¼šfunction()&#123; //å‡½æ•°ä½“ï¼Œæ•°æ®å‘é€æˆåŠŸå›žè°ƒ &#125; error: function()&#123; //å‡½æ•°ä½“ï¼Œæ•°æ®å‘é€é”™è¯¯æ—¶æ‰§è¡Œ &#125; ); https://www.cnblogs.com/dongsh/p/3235487.html 1.æœåŠ¡å™¨è¿”å›žçš„Jsonæ•°æ®å¿…é¡»ä¸¥æ ¼ç¬¦åˆJSINè¯­æ³•ï¼Œä¾‹å¦‚ï¼šæ‰€æœ‰å±žæ€§åç§°å¿…é¡»åŠ åŒå¼•å·ï¼Œæ‰€æœ‰å­—ç¬¦ä¸²å€¼å¿…é¡»åŠ åŒå¼•å·ï¼ˆä¸å¯ä»¥æ˜¯å•å¼•å·ï¼‰ 123456789è¯­æ³•ï¼š Jquery.getJSON( url [,data][,success]) url: Stringç±»åž‹ æŒ‡å®šè¯·æ±‚çš„ç›®æ ‡URL data:å¯é€‰ å‘é€è¯·æ±‚ä¼ é€’çš„æ•°æ® success: è¯·æ±‚æˆåŠŸæ—¶æ‰§è¡Œçš„å›žè°ƒå‡½æ•°ã€‚ å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼šä¸€ æ˜¯è¯·æ±‚è¿”å›žçš„æ•°æ® äºŒ è¯·æ±‚çŠ¶æ€æ–‡æœ¬ï¼ˆä¾‹å¦‚"success","notmodified"ï¼‰,ä¸‰ å½“å‰jqXHRå¯¹è±¡ 2 JQuery.getJSON(url,data,success); //ç­‰ä»·äºŽ 12345678910111213$.ajax(&#123; url:url, type:"GET", data:data, success:success, datatype:"json"&#125;);]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HttpServletRequestä»‹ç»]]></title>
    <url>%2F2019%2F03%2F03%2FjavaWeb%2FHttpServletRequest%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[https://www.cnblogs.com/xdp-gacl/p/3798347.html javawebå­¦ä¹ æ€»ç»“(å)â€”â€”HttpServletRequestå¯¹è±¡(ä¸€)ä¸€ã€HttpServletRequestä»‹ç» HttpServletRequestå¯¹è±¡ä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå½“å®¢æˆ·ç«¯é€šè¿‡HTTPåè®®è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒHTTPè¯·æ±‚å¤´ä¸­çš„æ‰€æœ‰ä¿¡æ¯éƒ½å°è£…åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡æä¾›çš„æ–¹æ³•ï¼Œå¯ä»¥èŽ·å¾—å®¢æˆ·ç«¯è¯·æ±‚çš„æ‰€æœ‰ä¿¡æ¯ã€‚ æ‰€æœ‰ä¿¡æ¯ã€‚ äºŒã€Requestå¸¸ç”¨æ–¹æ³•2.1ã€èŽ·å¾—å®¢æˆ·æœºä¿¡æ¯ getRequestURLæ–¹æ³•è¿”å›žå®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚æ—¶çš„å®Œæ•´URLã€‚ getRequestURIæ–¹æ³•è¿”å›žè¯·æ±‚è¡Œä¸­çš„èµ„æºåéƒ¨åˆ†ã€‚ getQueryString æ–¹æ³•è¿”å›žè¯·æ±‚è¡Œä¸­çš„å‚æ•°éƒ¨åˆ†ã€‚ getPathInfoæ–¹æ³•è¿”å›žè¯·æ±‚URLä¸­çš„é¢å¤–è·¯å¾„ä¿¡æ¯ã€‚é¢å¤–è·¯å¾„ä¿¡æ¯æ˜¯è¯·æ±‚URLä¸­çš„ä½äºŽServletçš„è·¯å¾„ä¹‹åŽå’ŒæŸ¥è¯¢å‚æ•°ä¹‹å‰çš„å†…å®¹ï¼Œå®ƒä»¥â€œ/â€å¼€å¤´ã€‚ getRemoteAddræ–¹æ³•è¿”å›žå‘å‡ºè¯·æ±‚çš„å®¢æˆ·æœºçš„IPåœ°å€ã€‚ èŒƒä¾‹ï¼šé€šè¿‡requestå¯¹è±¡èŽ·å–å®¢æˆ·ç«¯è¯·æ±‚ä¿¡æ¯ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package gacl.request.study;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;/** * @author gacl * é€šè¿‡requestå¯¹è±¡èŽ·å–å®¢æˆ·ç«¯è¯·æ±‚ä¿¡æ¯ */public class RequestDemo01 extends HttpServlet &#123; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; /** * 1.èŽ·å¾—å®¢æˆ·æœºä¿¡æ¯ */ String requestUrl = request.getRequestURL().toString();//å¾—åˆ°è¯·æ±‚çš„URLåœ°å€ String requestUri = request.getRequestURI();//å¾—åˆ°è¯·æ±‚çš„èµ„æº String queryString = request.getQueryString();//å¾—åˆ°è¯·æ±‚çš„URLåœ°å€ä¸­é™„å¸¦çš„å‚æ•° String remoteAddr = request.getRemoteAddr();//å¾—åˆ°æ¥è®¿è€…çš„IPåœ°å€ String remoteHost = request.getRemoteHost(); int remotePort = request.getRemotePort(); String remoteUser = request.getRemoteUser(); String method = request.getMethod();//å¾—åˆ°è¯·æ±‚URLåœ°å€æ—¶ä½¿ç”¨çš„æ–¹æ³• String pathInfo = request.getPathInfo(); String localAddr = request.getLocalAddr();//èŽ·å–WEBæœåŠ¡å™¨çš„IPåœ°å€ String localName = request.getLocalName();//èŽ·å–WEBæœåŠ¡å™¨çš„ä¸»æœºå response.setCharacterEncoding("UTF-8");//è®¾ç½®å°†å­—ç¬¦ä»¥"UTF-8"ç¼–ç è¾“å‡ºåˆ°å®¢æˆ·ç«¯æµè§ˆå™¨ //é€šè¿‡è®¾ç½®å“åº”å¤´æŽ§åˆ¶æµè§ˆå™¨ä»¥UTF-8çš„ç¼–ç æ˜¾ç¤ºæ•°æ®ï¼Œå¦‚æžœä¸åŠ è¿™å¥è¯ï¼Œé‚£ä¹ˆæµè§ˆå™¨æ˜¾ç¤ºçš„å°†æ˜¯ä¹±ç  response.setHeader("content-type", "text/html;charset=UTF-8"); PrintWriter out = response.getWriter(); out.write("èŽ·å–åˆ°çš„å®¢æˆ·æœºä¿¡æ¯å¦‚ä¸‹ï¼š"); out.write("&lt;hr/&gt;"); out.write("è¯·æ±‚çš„URLåœ°å€ï¼š"+requestUrl); out.write("&lt;br/&gt;"); out.write("è¯·æ±‚çš„èµ„æºï¼š"+requestUri); out.write("&lt;br/&gt;"); out.write("è¯·æ±‚çš„URLåœ°å€ä¸­é™„å¸¦çš„å‚æ•°ï¼š"+queryString); out.write("&lt;br/&gt;"); out.write("æ¥è®¿è€…çš„IPåœ°å€ï¼š"+remoteAddr); out.write("&lt;br/&gt;"); out.write("æ¥è®¿è€…çš„ä¸»æœºåï¼š"+remoteHost); out.write("&lt;br/&gt;"); out.write("ä½¿ç”¨çš„ç«¯å£å·ï¼š"+remotePort); out.write("&lt;br/&gt;"); out.write("remoteUserï¼š"+remoteUser); out.write("&lt;br/&gt;"); out.write("è¯·æ±‚ä½¿ç”¨çš„æ–¹æ³•ï¼š"+method); out.write("&lt;br/&gt;"); out.write("pathInfoï¼š"+pathInfo); out.write("&lt;br/&gt;"); out.write("localAddrï¼š"+localAddr); out.write("&lt;br/&gt;"); out.write("localNameï¼š"+localName); &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125;&#125; 2.2ã€èŽ·å¾—å®¢æˆ·æœºè¯·æ±‚å¤´ getHeader(string name)æ–¹æ³•:String getHeaders(String name)æ–¹æ³•:Enumeration getHeaderNames()æ–¹æ³• èŒƒä¾‹ï¼šé€šè¿‡requestå¯¹è±¡èŽ·å–å®¢æˆ·ç«¯è¯·æ±‚å¤´ä¿¡æ¯ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package gacl.request.study;import java.io.IOException;import java.io.PrintWriter;import java.util.Enumeration;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;/** * @author gacl * èŽ·å–å®¢æˆ·ç«¯è¯·æ±‚å¤´ä¿¡æ¯ * å®¢æˆ·ç«¯è¯·æ±‚å¤´ï¼š * */public class RequestDemo02 extends HttpServlet &#123; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; response.setCharacterEncoding("UTF-8");//è®¾ç½®å°†å­—ç¬¦ä»¥"UTF-8"ç¼–ç è¾“å‡ºåˆ°å®¢æˆ·ç«¯æµè§ˆå™¨ //é€šè¿‡è®¾ç½®å“åº”å¤´æŽ§åˆ¶æµè§ˆå™¨ä»¥UTF-8çš„ç¼–ç æ˜¾ç¤ºæ•°æ® response.setHeader("content-type", "text/html;charset=UTF-8"); PrintWriter out = response.getWriter(); Enumeration&lt;String&gt; reqHeadInfos = request.getHeaderNames();//èŽ·å–æ‰€æœ‰çš„è¯·æ±‚å¤´ out.write("èŽ·å–åˆ°çš„å®¢æˆ·ç«¯æ‰€æœ‰çš„è¯·æ±‚å¤´ä¿¡æ¯å¦‚ä¸‹ï¼š"); out.write("&lt;hr/&gt;"); while (reqHeadInfos.hasMoreElements()) &#123; String headName = (String) reqHeadInfos.nextElement(); String headValue = request.getHeader(headName);//æ ¹æ®è¯·æ±‚å¤´çš„åå­—èŽ·å–å¯¹åº”çš„è¯·æ±‚å¤´çš„å€¼ out.write(headName+":"+headValue); out.write("&lt;br/&gt;"); &#125; out.write("&lt;br/&gt;"); out.write("èŽ·å–åˆ°çš„å®¢æˆ·ç«¯Accept-Encodingè¯·æ±‚å¤´çš„å€¼ï¼š"); out.write("&lt;hr/&gt;"); String value = request.getHeader("Accept-Encoding");//èŽ·å–Accept-Encodingè¯·æ±‚å¤´å¯¹åº”çš„å€¼ out.write(value); Enumeration&lt;String&gt; e = request.getHeaders("Accept-Encoding"); while (e.hasMoreElements()) &#123; String string = (String) e.nextElement(); System.out.println(string); &#125; &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125;&#125; 2.3ã€èŽ·å¾—å®¢æˆ·æœºè¯·æ±‚å‚æ•°(å®¢æˆ·ç«¯æäº¤çš„æ•°æ®) getParameter(String)æ–¹æ³•(å¸¸ç”¨) getParameterValues(String name)æ–¹æ³•(å¸¸ç”¨) getParameterNames()æ–¹æ³•(ä¸å¸¸ç”¨) getParameterMap()æ–¹æ³•(ç¼–å†™æ¡†æž¶æ—¶å¸¸ç”¨) æ¯”å¦‚çŽ°åœ¨æœ‰å¦‚ä¸‹çš„formè¡¨å• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Htmlçš„Formè¡¨å•å…ƒç´ &lt;/title&gt;&lt;/head&gt;&lt;fieldset style=&quot;width:500px;&quot;&gt; &lt;legend&gt;Htmlçš„Formè¡¨å•å…ƒç´ &lt;/legend&gt; &lt;!--formè¡¨å•çš„actionå±žæ€§è§„å®šå½“æäº¤è¡¨å•æ—¶ï¼Œå‘ä½•å¤„å‘é€è¡¨å•æ•°æ®ï¼Œmethodå±žæ€§æŒ‡æ˜Žè¡¨å•çš„æäº¤æ–¹å¼ï¼Œåˆ†ä¸ºgetå’Œpostï¼Œé»˜è®¤ä¸ºget--&gt; &lt;form action=&quot;$&#123;pageContext.request.contextPath&#125;/servlet/RequestDemo03&quot; method=&quot;post&quot;&gt; &lt;!--è¾“å…¥æ–‡æœ¬æ¡†ï¼ŒSIZEè¡¨ç¤ºæ˜¾ç¤ºé•¿åº¦ï¼Œmaxlengthè¡¨ç¤ºæœ€å¤šè¾“å…¥é•¿åº¦--&gt; ç¼–&amp;nbsp;&amp;nbsp;å·(æ–‡æœ¬æ¡†)ï¼š &lt;input type=&quot;text&quot; name=&quot;userid&quot; value=&quot;NO.&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;br&gt; &lt;!--è¾“å…¥æ–‡æœ¬æ¡†ï¼Œé€šè¿‡valueæŒ‡å®šå…¶æ˜¾ç¤ºçš„é»˜è®¤å€¼--&gt; ç”¨æˆ·å(æ–‡æœ¬æ¡†)ï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;&gt;&lt;br&gt; &lt;!--å¯†ç æ¡†ï¼Œå…¶ä¸­æ‰€æœ‰è¾“å…¥çš„å†…å®¹éƒ½ä»¥å¯†æ–‡çš„å½¢å¼æ˜¾ç¤º--&gt; å¯†&amp;nbsp;&amp;nbsp;ç (å¯†ç æ¡†)ï¼š &lt;!--&amp;nbsp;è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç©ºæ ¼--&gt; &lt;input type=&quot;password&quot; name=&quot;userpass&quot; value=&quot;è¯·è¾“å…¥å¯†ç &quot;&gt;&lt;br&gt; &lt;!--å•é€‰æŒ‰é’®ï¼Œé€šè¿‡checkedæŒ‡å®šé»˜è®¤é€‰ä¸­ï¼Œåç§°å¿…é¡»ä¸€æ ·ï¼Œå…¶ä¸­valueä¸ºçœŸæ­£éœ€è¦çš„å†…å®¹--&gt; æ€§&amp;nbsp;&amp;nbsp;åˆ«(å•é€‰æ¡†)ï¼š &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;ç”·&quot; checked&gt;ç”· &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;å¥³&quot;&gt;å¥³&lt;br&gt; &lt;!--ä¸‹æ‹‰åˆ—è¡¨æ¡†ï¼Œé€šè¿‡&lt;option&gt;å…ƒç´ æŒ‡å®šä¸‹æ‹‰çš„é€‰é¡¹--&gt; éƒ¨&amp;nbsp;&amp;nbsp;é—¨(ä¸‹æ‹‰æ¡†)ï¼š &lt;select name=&quot;dept&quot;&gt; &lt;option value=&quot;æŠ€æœ¯éƒ¨&quot;&gt;æŠ€æœ¯éƒ¨&lt;/option&gt; &lt;option value=&quot;é”€å”®éƒ¨&quot; SELECTED&gt;é”€å”®éƒ¨&lt;/option&gt; &lt;option value=&quot;è´¢åŠ¡éƒ¨&quot;&gt;è´¢åŠ¡éƒ¨&lt;/option&gt; &lt;/select&gt;&lt;br&gt; &lt;!--å¤é€‰æ¡†ï¼Œå¯ä»¥åŒæ—¶é€‰æ‹©å¤šä¸ªé€‰é¡¹ï¼Œåç§°å¿…é¡»ä¸€æ ·ï¼Œå…¶ä¸­valueä¸ºçœŸæ­£éœ€è¦çš„å†…å®¹--&gt; å…´&amp;nbsp;&amp;nbsp;è¶£(å¤é€‰æ¡†)ï¼š &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;å”±æ­Œ&quot;&gt;å”±æ­Œ &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;æ¸¸æ³³&quot;&gt;æ¸¸æ³³ &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;è·³èˆž&quot;&gt;è·³èˆž &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;ç¼–ç¨‹&quot; checked&gt;ç¼–ç¨‹ &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;ä¸Šç½‘&quot;&gt;ä¸Šç½‘ &lt;br&gt; &lt;!--å¤§æ–‡æœ¬è¾“å…¥æ¡†ï¼Œå®½åº¦ä¸º34åˆ—ï¼Œé«˜åº¦ä¸º5è¡Œ--&gt; è¯´&amp;nbsp;&amp;nbsp;æ˜Ž(æ–‡æœ¬åŸŸ)ï¼š &lt;textarea name=&quot;note&quot; cols=&quot;34&quot; rows=&quot;5&quot;&gt; &lt;/textarea&gt; &lt;br&gt; &lt;!--éšè—åŸŸï¼Œåœ¨é¡µé¢ä¸Šæ— æ³•çœ‹åˆ°ï¼Œä¸“é—¨ç”¨æ¥ä¼ é€’å‚æ•°æˆ–è€…ä¿å­˜å‚æ•°--&gt; &lt;input type=&quot;hidden&quot; name=&quot;hiddenField&quot; value=&quot;hiddenvalue&quot;/&gt; &lt;!--æäº¤è¡¨å•æŒ‰é’®ï¼Œå½“ç‚¹å‡»æäº¤åŽï¼Œæ‰€æœ‰å¡«å†™çš„è¡¨å•å†…å®¹éƒ½ä¼šè¢«ä¼ è¾“åˆ°æœåŠ¡å™¨ç«¯--&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤(æäº¤æŒ‰é’®)&quot;&gt; &lt;!--é‡ç½®è¡¨å•æŒ‰é’®ï¼Œå½“ç‚¹å‡»é‡ç½®åŽï¼Œæ‰€æœ‰è¡¨å•æ¢å¤åŽŸå§‹æ˜¾ç¤ºå†…å®¹--&gt; &lt;input type=&quot;reset&quot; value=&quot;é‡ç½®(é‡ç½®æŒ‰é’®)&quot;&gt;&lt;/form&gt;&lt;!--è¡¨å•ç»“æŸ--&gt;&lt;/fieldset&gt;&lt;/body&gt;&lt;!--å®Œç»“æ ‡è®°--&gt;&lt;/html&gt;&lt;!--å®Œç»“æ ‡è®°--&gt; åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨getParameteræ–¹æ³•å’ŒgetParameterValuesæ–¹æ³•æŽ¥æ”¶è¡¨å•å‚æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071package gacl.request.study;import java.io.IOException;import java.text.MessageFormat;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;/** * @author gacl * èŽ·å–å®¢æˆ·ç«¯é€šè¿‡Formè¡¨å•æäº¤ä¸Šæ¥çš„å‚æ•° */public class RequestDemo03 extends HttpServlet &#123; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; //å®¢æˆ·ç«¯æ˜¯ä»¥UTF-8ç¼–ç æäº¤è¡¨å•æ•°æ®çš„ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®æœåŠ¡å™¨ç«¯ä»¥UTF-8çš„ç¼–ç è¿›è¡ŒæŽ¥æ”¶ï¼Œå¦åˆ™å¯¹äºŽä¸­æ–‡æ•°æ®å°±ä¼šäº§ç”Ÿä¹±ç  request.setCharacterEncoding("UTF-8"); /** * ç¼–&amp;nbsp;&amp;nbsp;å·(æ–‡æœ¬æ¡†)ï¼š &lt;input type="text" name="userid" value="NO." size="2" maxlength="2"&gt; */ String userid = request.getParameter("userid");//èŽ·å–å¡«å†™çš„ç¼–å·ï¼Œuseridæ˜¯æ–‡æœ¬æ¡†çš„åå­—ï¼Œ&lt;input type="text" name="userid"&gt; /** * ç”¨æˆ·å(æ–‡æœ¬æ¡†)ï¼š&lt;input type="text" name="username" value="è¯·è¾“å…¥ç”¨æˆ·å"&gt; */ String username = request.getParameter("username");//èŽ·å–å¡«å†™çš„ç”¨æˆ·å /** * å¯†&amp;nbsp;&amp;nbsp;ç (å¯†ç æ¡†)ï¼š&lt;input type="password" name="userpass" value="è¯·è¾“å…¥å¯†ç "&gt; */ String userpass = request.getParameter("userpass");//èŽ·å–å¡«å†™çš„å¯†ç  String sex = request.getParameter("sex");//èŽ·å–é€‰ä¸­çš„æ€§åˆ« String dept = request.getParameter("dept");//èŽ·å–é€‰ä¸­çš„éƒ¨é—¨ //èŽ·å–é€‰ä¸­çš„å…´è¶£ï¼Œå› ä¸ºå¯ä»¥é€‰ä¸­å¤šä¸ªå€¼ï¼Œæ‰€ä»¥èŽ·å–åˆ°çš„å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨getParameterValuesæ–¹æ³•æ¥èŽ·å– String[] insts = request.getParameterValues("inst"); String note = request.getParameter("note");//èŽ·å–å¡«å†™çš„è¯´æ˜Žä¿¡æ¯ String hiddenField = request.getParameter("hiddenField");//èŽ·å–éšè—åŸŸçš„å†…å®¹ String instStr=""; /** * èŽ·å–æ•°ç»„æ•°æ®çš„æŠ€å·§ï¼Œå¯ä»¥é¿å…instsæ•°ç»„ä¸ºnullæ—¶å¼•å‘çš„ç©ºæŒ‡é’ˆå¼‚å¸¸é”™è¯¯ï¼ */ for (int i = 0; insts!=null &amp;&amp; i &lt; insts.length; i++) &#123; if (i == insts.length-1) &#123; instStr+=insts[i]; &#125;else &#123; instStr+=insts[i]+","; &#125; &#125; String htmlStr = "&lt;table&gt;" + "&lt;tr&gt;&lt;td&gt;å¡«å†™çš„ç¼–å·ï¼š&lt;/td&gt;&lt;td&gt;&#123;0&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;å¡«å†™çš„ç”¨æˆ·åï¼š&lt;/td&gt;&lt;td&gt;&#123;1&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;å¡«å†™çš„å¯†ç ï¼š&lt;/td&gt;&lt;td&gt;&#123;2&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;é€‰ä¸­çš„æ€§åˆ«ï¼š&lt;/td&gt;&lt;td&gt;&#123;3&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;é€‰ä¸­çš„éƒ¨é—¨ï¼š&lt;/td&gt;&lt;td&gt;&#123;4&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;é€‰ä¸­çš„å…´è¶£ï¼š&lt;/td&gt;&lt;td&gt;&#123;5&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;å¡«å†™çš„è¯´æ˜Žï¼š&lt;/td&gt;&lt;td&gt;&#123;6&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;éšè—åŸŸçš„å†…å®¹ï¼š&lt;/td&gt;&lt;td&gt;&#123;7&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;/table&gt;"; htmlStr = MessageFormat.format(htmlStr, userid,username,userpass,sex,dept,instStr,note,hiddenField); response.setCharacterEncoding("UTF-8");//è®¾ç½®æœåŠ¡å™¨ç«¯ä»¥UTF-8ç¼–ç è¾“å‡ºæ•°æ®åˆ°å®¢æˆ·ç«¯ response.setContentType("text/html;charset=UTF-8");//è®¾ç½®å®¢æˆ·ç«¯æµè§ˆå™¨ä»¥UTF-8ç¼–ç è§£æžæ•°æ® response.getWriter().write(htmlStr);//è¾“å‡ºhtmlStré‡Œé¢çš„å†…å®¹åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨æ˜¾ç¤º &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125;&#125; 12345&lt;form action="login"&gt;è´¦å·:&lt;input type="text" name="username"/&gt;&lt;br&gt;è´¦å·:&lt;input type="text" name="password"/&gt;&lt;br&gt;&lt;input type="submit" name="ç™»é™†"/&gt;&lt;br&gt;&lt;/form&gt; String username = request.getParameter(â€œusernameâ€); String password= request.getParameter(â€œpasswordâ€); ä½¿ç”¨getParameteræ–¹æ³•å–å‡ºusername]]></content>
      <tags>
        <tag>javaweb</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F03%2F02%2F%E9%9D%A2%E8%AF%95%2F%E4%B8%AD%E5%8D%8E%E7%9F%B3%E6%9D%89%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[æ…•è¯¾ç½‘SpringBoot+Dubboæ‰“é€ è®¿çŒ«çœ¼é¡¹ç›®]]></title>
    <url>%2F2019%2F03%2F01%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2FDubbo%E6%89%93%E9%80%A0%E7%8C%AB%E7%9C%BC%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[1 å¾®æœåŠ¡]]></content>
      <tags>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F02%2F28%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2Fjava%E4%BB%BF%E6%85%95%E8%AF%BE%E7%BD%91%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[zookeeperçš„ä½¿ç”¨]]></title>
    <url>%2F2019%2F02%2F23%2FDubbo%2FZookeeper%2F</url>
    <content type="text"><![CDATA[Zookeeperçš„ä½¿ç”¨ 1 å®‰è£…JDK https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html scp /Users/apple/Downloads/jdk-8u201-linux-x64.tar.gz root@94.191.24.33:vim /etc/profile1234567export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL``export ZOOKEEPER_HOME=/root/zookeeper-3.4.10``export JAVA_HOME=/root/jdk1.8.0_201``export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jar``export PATH=$PATH:$JAVA_HOME/bin` source /etc/profile javaçŽ¯å¢ƒé…ç½® 1234export JAVA_HOME=/root/jdk1.8.0_201export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jarexport PATH=$PATH:$JAVA_HOME/bin 2 å®‰è£…zookeeper12345678910111213# export ZOOKEEPER_HOME=/root/zookeeper-3.4.10` `export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jar``export JAVA_HOME=/root/jdk1.8.0_201``export ZOOKEEPER_HOME=/root/zookeeper-3.4.10` # `export PATH=$PATH:$JAVA_HOME/bin``export PATH=$PATH:$ZOOKEEPER_HOME/bin:$JAVA_HOME/bin` Bug 12345671. uname -a ä¸Šå›¾ä¸­i686è¡¨æ˜Žç³»ç»Ÿå®‰è£…çš„æ˜¯32ä½çš„ï¼Œä½†æ˜¯è¿™ä¸ªç»“æžœå¹¶ä¸æ˜Žæ˜¾ï¼Œå¯¹linuxç³»ç»Ÿä¸ç†Ÿçš„æ˜¯æ— æ³•åˆ†è¾¨å‡ºæ˜¯32ä½è¿˜æ˜¯64ä½çš„ã€‚2. getconf LONG_BITï¼ˆæŽ¨èä½¿ç”¨ï¼‰ 32 bitç»“æžœéžå¸¸ç›´è§‚æ˜Žæ˜¾ã€‚]]></content>
      <tags>
        <tag>zookeeper</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F02%2F22%2FSpring%20Boot%2FSpringBoot%E9%9B%B7%E4%B8%B0%E9%98%B3%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[Springæ³¨è§£]]></title>
    <url>%2F2019%2F02%2F19%2FSpring%2F%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[@Component1ã€@controller æŽ§åˆ¶å™¨ï¼ˆæ³¨å…¥æœåŠ¡ï¼‰ ç”¨äºŽæ ‡æ³¨æŽ§åˆ¶å±‚ï¼Œç›¸å½“äºŽstrutsä¸­çš„actionå±‚2ã€@service æœåŠ¡ï¼ˆæ³¨å…¥daoï¼‰ ç”¨äºŽæ ‡æ³¨æœåŠ¡å±‚ï¼Œä¸»è¦ç”¨æ¥è¿›è¡Œä¸šåŠ¡çš„é€»è¾‘å¤„ç†3ã€@repositoryï¼ˆå®žçŽ°daoè®¿é—®ï¼‰ ç”¨äºŽæ ‡æ³¨æ•°æ®è®¿é—®å±‚ï¼Œä¹Ÿå¯ä»¥è¯´ç”¨äºŽæ ‡æ³¨æ•°æ®è®¿é—®ç»„ä»¶ï¼Œå³DAOç»„ä»¶.4ã€@component ï¼ˆæŠŠæ™®é€špojoå®žä¾‹åŒ–åˆ°springå®¹å™¨ä¸­ï¼Œç›¸å½“äºŽé…ç½®æ–‡ä»¶ä¸­çš„ ï¼‰ æ³›æŒ‡å„ç§ç»„ä»¶ï¼Œå°±æ˜¯è¯´å½“æˆ‘ä»¬çš„ç±»ä¸å±žäºŽå„ç§å½’ç±»çš„æ—¶å€™ï¼ˆä¸å±žäºŽ@Controllerã€@Servicesç­‰çš„æ—¶å€™ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨@Componentæ¥æ ‡æ³¨è¿™ä¸ªç±»ã€‚æ¡ˆä¾‹ï¼š&lt;context:component-scan base-package=â€com.*â€&gt;ä¸Šé¢çš„è¿™ä¸ªä¾‹å­æ˜¯å¼•å…¥Componentç»„ä»¶çš„ä¾‹å­ï¼Œå…¶ä¸­base-packageè¡¨ç¤ºä¸ºéœ€è¦æ‰«æçš„æ‰€æœ‰å­åŒ…ã€‚ å…±åŒç‚¹ï¼šè¢«@controller ã€@serviceã€@repository ã€@component æ³¨è§£çš„ç±»ï¼Œéƒ½ä¼šæŠŠè¿™äº›ç±»çº³å…¥è¿›springå®¹å™¨ä¸­è¿›è¡Œç®¡ç† @RequestParamGETå’ŒPOSTè¯·æ±‚ä¼ çš„å‚æ•°ä¼šè‡ªåŠ¨è½¬æ¢èµ‹å€¼åˆ°@RequestParam æ‰€æ³¨è§£çš„å˜é‡ä¸Š\1. @RequestParamï¼ˆorg.springframework.web.bind.annotation.RequestParamï¼‰ç”¨äºŽå°†æŒ‡å®šçš„è¯·æ±‚å‚æ•°èµ‹å€¼ç»™æ–¹æ³•ä¸­çš„å½¢å‚ã€‚ä¾‹ï¼š(1) getè¯·æ±‚ï¼š urlè¯·æ±‚ï¼šhttp://localhost:8080/WxProgram/findAllBookByTag?tagId=1&amp;pageIndex=3 userTest.jsp 123456&lt;form action=&quot;/WxProgram/json/requestParamTest&quot; method=&quot;get&quot;&gt; requestParam Test&lt;br&gt; ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt; ç”¨æˆ·æ˜µç§°ï¼š&lt;input type=&quot;text&quot; name=&quot;usernick&quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;&lt;/form&gt; UserController.java ;) 1234567@RequestMapping(value=&quot;/requestParamTest&quot;, method = RequestMethod.GET)public String requestParamTest(@RequestParam(value=&quot;username&quot;) String userName, @RequestParam(value=&quot;usernick&quot;) String userNick)&#123; System.out.println(&quot;requestParam Test&quot;); System.out.println(&quot;username: &quot; + userName); System.out.println(&quot;usernick: &quot; + userNick); return &quot;hello&quot;;&#125; ;) ä¸Šè¿°ä»£ç ä¼šå°†è¯·æ±‚ä¸­çš„usernameå‚æ•°çš„å€¼èµ‹ç»™usernameå˜é‡ã€‚ ç­‰ä»·äºŽï¼š ;) 12345678@RequestMapping(value=&quot;/requestParamTest&quot;, method = RequestMethod.GET)public String requestParamTest(String username, HttpServletRequest request)&#123; System.out.println(&quot;requestParam Test&quot;); System.out.println(&quot;username: &quot; + username); String usernick = request.getParameter(&quot;usernick&quot;); System.out.println(&quot;usernick: &quot; + usernick); return &quot;hello&quot;;&#125; ;) ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨@RequestParamï¼Œç›´æŽ¥æŽ¥æ”¶ï¼Œæ­¤æ—¶è¦æ±‚controlleræ–¹æ³•ä¸­çš„å‚æ•°åç§°è¦è·Ÿformä¸­nameåç§°ä¸€è‡´ ;) 1234567@RequestMapping(value=&quot;/requestParamTest&quot;, method = RequestMethod.GET)public String requestParamTest(String username, String usernick)&#123; System.out.println(&quot;requestParam Test&quot;); System.out.println(&quot;username: &quot; + username); System.out.println(&quot;usernick: &quot; + usernick); return &quot;hello&quot;;&#125; ;) æ€»ç»“ï¼š æŽ¥æ”¶è¯·æ±‚å‚æ•°çš„æ–¹å¼ï¼š 123@RequestParam(value=&quot;username&quot;) String userName, @RequestParam(value=&quot;usernick&quot;) String userNick //valueä¸­çš„å‚æ•°åç§°è¦è·Ÿnameä¸­å‚æ•°åç§°ä¸€è‡´String username, String usernick// æ­¤æ—¶è¦å‚æ•°åç§°ä¸€è‡´HttpServletRequest request //request.getParameter(&quot;usernick&quot;) @ResponseBodyå‘¢ï¼Ÿ @ResponseBodyæ˜¯ä½œç”¨åœ¨æ–¹æ³•ä¸Šçš„ï¼Œ@ResponseBody è¡¨ç¤ºè¯¥æ–¹æ³•çš„è¿”å›žç»“æžœç›´æŽ¥å†™å…¥ HTTP response body ä¸­ï¼Œä¸€èˆ¬åœ¨å¼‚æ­¥èŽ·å–æ•°æ®æ—¶ä½¿ç”¨ã€ä¹Ÿå°±æ˜¯AJAXã€‘ï¼Œåœ¨ä½¿ç”¨ @RequestMappingåŽï¼Œè¿”å›žå€¼é€šå¸¸è§£æžä¸ºè·³è½¬è·¯å¾„ï¼Œä½†æ˜¯åŠ ä¸Š @ResponseBody åŽè¿”å›žç»“æžœä¸ä¼šè¢«è§£æžä¸ºè·³è½¬è·¯å¾„ï¼Œè€Œæ˜¯ç›´æŽ¥å†™å…¥ HTTP response body ä¸­ã€‚ æ¯”å¦‚å¼‚æ­¥èŽ·å– json æ•°æ®ï¼ŒåŠ ä¸Š @ResponseBody åŽï¼Œä¼šç›´æŽ¥è¿”å›ž json æ•°æ®ã€‚@RequestBody å°† HTTP è¯·æ±‚æ­£æ–‡æ’å…¥æ–¹æ³•ä¸­ï¼Œä½¿ç”¨é€‚åˆçš„ HttpMessageConverter å°†è¯·æ±‚ä½“å†™å…¥æŸä¸ªå¯¹è±¡ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š å‰å°å¼‚æ­¥è¯·æ±‚ï¼š ;) 1234567891011121314151617181920212223242526272829303132333435&gt; function loginAction() &#123;&gt; &gt; // èŽ·å–ç”¨æˆ·è¾“å…¥çš„è´¦å·å’Œå¯†ç &gt; var name = $(&apos;#count&apos;).val();&gt; var password = $(&apos;#password&apos;).val();&gt; &gt; $.ajax(&#123;&gt; url : &apos;account/login.do&apos;,&gt; type : &apos;post&apos;,&gt; // dataå¯¹è±¡ä¸­çš„å±žæ€§åè¦å’ŒæœåŠ¡ç«¯æŽ§åˆ¶å™¨çš„å‚æ•°åä¸€è‡´ login(name, password)&gt; data : &#123;&gt; &apos;name&apos; : name,&gt; &apos;password&apos; : password&gt; &#125;,&gt; dataType : &apos;json&apos;,&gt; success : function(result) &#123;&gt; if (result.state == 0) &#123;&gt; // ç™»å½•æˆåŠŸï¼Œè®¾ç½®cookieå¹¶è·³è½¬edit.html&gt; addCookie(&apos;userId&apos;, result.data.id);&gt; addCookie(&apos;nick&apos;, result.data.nick);&gt; location.href = &apos;edit.html&apos;;&gt; &#125; else &#123;&gt; // ç™»å½•å¤±è´¥&gt; var msg = result.message;&gt; $(&apos;#sig_in&apos;).next().html(msg);&gt; $(&apos;#sig_in&apos;).next().css(&quot;color&quot;, &quot;red&quot;);&gt; &#125;&gt; &#125;,&gt; error : function(e) &#123;&gt; alert(&quot;ç³»ç»Ÿå¼‚å¸¸&quot;);&gt; &#125;&gt; &#125;);&gt; $(&apos;#password&apos;).val(&quot;&quot;);&gt; &#125;&gt; ;) åŽå° Controllerç±»ä¸­å¯¹åº”çš„æ–¹æ³•ï¼š ;) 12345678&gt; @RequestMapping(&quot;/login.do&quot;)&gt; @ResponseBody&gt; public Object login(String name, String password, HttpSession session) &#123;&gt; user = userService.checkLogin(name, password);&gt; session.setAttribute(&quot;user&quot;, user);&gt; return new JsonResult(user);&gt; &#125;&gt; ;) @RequestBodyå‘¢ â€‹ @RequestBodyæ˜¯ä½œç”¨åœ¨å½¢å‚åˆ—è¡¨ä¸Šï¼Œç”¨äºŽå°†å‰å°å‘é€è¿‡æ¥å›ºå®šæ ¼å¼çš„æ•°æ®ã€xml æ ¼å¼æˆ–è€… jsonç­‰ã€‘å°è£…ä¸ºå¯¹åº”çš„ JavaBean å¯¹è±¡ï¼Œå°è£…æ—¶ä½¿ç”¨åˆ°çš„ä¸€ä¸ªå¯¹è±¡æ˜¯ç³»ç»Ÿé»˜è®¤é…ç½®çš„ HttpMessageConverterè¿›è¡Œè§£æžï¼Œç„¶åŽå°è£…åˆ°å½¢å‚ä¸Šã€‚ æ¯”å¦‚ä¸Šé¢çš„ç™»å½•åŽå°ä»£ç å¯ä»¥æ”¹ä¸ºï¼š ;) 12345678&gt; @RequestMapping(&quot;/login.do&quot;)&gt; @ResponseBody&gt; public Object login(@RequestBody User loginUuser, HttpSession session) &#123;&gt; user = userService.checkLogin(loginUser);&gt; session.setAttribute(&quot;user&quot;, user);&gt; return new JsonResult(user);&gt; &#125;&gt;]]></content>
      <tags>
        <tag>SpringBootæ³¨è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PathVariablå’Œ@RequestParamç”¨æ³•ä¸ŽåŒºåˆ«]]></title>
    <url>%2F2019%2F02%2F13%2FSpring%20MVC%2F%E6%B3%A8%E8%A7%A3%40PathParam%2F</url>
    <content type="text"><![CDATA[ã€1ã€‘paramsparamsï¼š æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«æŸäº›å‚æ•°å€¼æ˜¯ï¼Œæ‰è®©è¯¥æ–¹æ³•å¤„ç†ã€‚ @RequestMapping(value = &quot;testParamsAndHeaders&quot;, params = { &quot;username&quot;,&quot;age!=10&quot; }) public String testParamsAndHeaders() { System.out.println(&quot;testParamsAndHeaders&quot;); return SUCCESS; } params åªæ˜¯åˆ¤æ–­url æˆ–è€… form data ä¸­çš„å‚æ•°æ˜¯å¦å¤åˆparamsçš„å®šä¹‰ï¼Œå¹¶ä¸ä¼šç›´æŽ¥ç»‘å®šæ•°æ®åˆ°æ–¹æ³•çš„å‚æ•°ä¸­ï¼2 @PathVariablç»‘å®šè·¯å¾„ä¸­çš„å ä½ç¬¦å‚æ•°åˆ°æ–¹æ³•å‚æ•°å˜é‡ä¸­ï¼›åªèƒ½ç»‘å®šè·¯å¾„ä¸­çš„å ä½ç¬¦å‚æ•°ï¼Œä¸”è·¯å¾„ä¸­å¿…é¡»æœ‰å‚æ•°ã€‚æ— è®ºæ˜¯ GET æˆ–è€…POST åªè¦ URLä¸­æœ‰å‚æ•°å³å¯ï¼å®žä¾‹å¦‚ä¸‹ï¼šGETRequest URL:http://localhost:8080/SpringMVC-1/springmvc/testPathVariable/1 123456&lt;form action=&quot;springmvc/testPathVariable/1&quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;text&quot; name=&quot;age&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;text&quot; name=&quot;sex&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;submit&quot; value=&quot;submit&quot;/&gt;&lt;/form&gt; ã€æ³¨æ„ã€‘å¦‚æžœURLä¸­æ— å‚æ•°ï¼Œå°†ä¼šå‡ºé”™ï¼›å¦‚æžœURLæœ‰å‚æ•°ï¼Œä½†æ˜¯æ²¡æœ‰ä½¿ç”¨@PathVariablè¯¥æ³¨è§£ï¼Œé‚£ä¹ˆURLçš„å‚æ•°ä¸ä¼šé»˜è®¤ä¸Žæ–¹æ³•å‚æ•°ç»‘å®šï¼æ–¹æ³•é‡Œçš„å‚æ•°ä¼šé»˜è®¤ç»‘å®šè¡¨å•é‡Œé¢å¯¹åº”çš„å‚æ•°ï¼ åŽå°code å¦‚æžœå‚æ•°åä¸Žå ä½ç¬¦ä¸€è‡´ï¼Œåˆ™å¯ç›´æŽ¥ä½¿ç”¨@PathVariableï¼›å¦‚æžœä¸ä¸€è‡´ï¼Œåˆ™åœ¨@PathVariable( )æ‹¬å·å†…ç»‘å®šå ä½ç¬¦ã€‚@RequestMapping(&quot;/testPathVariable/{id}&quot;) public String testPathVariable(@PathVariable(&quot;id&quot;) Integer id2) { System.out.println(&quot;testPathVariable: &quot; + id2); return SUCCESS; } ã€3ã€‘@RequestParamè¯¥æ³¨è§£ç›¸å…³å±žæ€§å¦‚ä¸‹ï¼š valueï¼šå‚æ•°keyï¼Œå¯ä»¥ä¸å†™ï¼Œé»˜è®¤ä¸ºâ€â€ï¼› nameï¼šå’Œvalueä½œç”¨ä¸€æ ·ï¼› requiredï¼šé»˜è®¤å€¼ä¸ºtrueï¼Œå¯ä»¥ä¸å†™ï¼› èŽ·å–URLæˆ–è€… form data ä¸­çš„å‚æ•° å‰å°è¯·æ±‚å®žä¾‹å¦‚ä¸‹ï¼š GET 1POST &lt;form action=&quot;springmvc/testRequestParam&quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;userName&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;text&quot; name=&quot;age&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;text&quot; name=&quot;sex&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;submit&quot; value=&quot;submit&quot;/&gt; &lt;/form&gt; æ³¨æ„ ï¼š GETä¸­çš„å‚æ•°å½¢å¼ä¸ºï¼šusername=tom&amp;age=11&amp;sex=boy POSTä¸­çš„å‚æ•°å½¢å¼ä¸ºï¼šä»¥é”®å€¼å¯¹å½¢å¼ä¿å­˜åœ¨form data åŽå°ä»£ç ç¤ºä¾‹ï¼š @RequestMapping(value=&quot;/regist&quot;,produces=&quot;application/json;charset=utf-8&quot;) @ResponseBody public String regist(SysUser sysUser , @RequestParam(required=true,name=&quot;sex&quot;) String sex){ String userName = sysUser.getUserName(); String age = sysUser.getAge(); //... return &quot;regist success&quot;; } æ€»å¾—æ¥è¯´ï¼Œå‡æ˜¯é”®å€¼å¯¹å½¢å¼ï¼Œä¸Ž@PathVariablä¸­çš„å ä½ç¬¦å½¢å¼ä¸åŒï¼ï¼ï¼ #@RequestParamæ³¨è§£ @RequestParamæ³¨è§£æ¯”è¾ƒç®€å•ï¼Œå®ƒç”¨äºŽå°†è¯·æ±‚å‚æ•°åŒºæ•°æ®æ˜ å°„åˆ°åŠŸèƒ½å¤„ç†æ–¹æ³•çš„å‚æ•°ä¸Šï¼Œè‡ªSpringMVC4.2ä¹‹åŽï¼Œ@RequestParamæ³¨è§£å†…éƒ¨æœ‰4ä¸ªå‚æ•°ï¼š String name String value boolean required String defaultValue 1.nameä¸Žvalueå±žæ€§ï¼Œå…¶ä¸­nameå’Œvalueåˆ†åˆ«æ˜¯URLå‚æ•°çš„åç§°ï¼Œå³äºŒè€…æ²¡åŒºåˆ«ï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢ç”¨nameï¼Œå› ä¸ºåœ¨HTMLçš„è¡¨å•ä¸­æˆ‘ä»¬éƒ½æ˜¯ç”¨nameå±žæ€§æ¥è®¾ç½®URLå‚æ•°åç§°çš„ï¼Œæ‰€ä»¥åœ¨æ³¨è§£ä¸Šä¹Ÿä½¿ç”¨nameè¿™ä¸ªå±žæ€§çš„è¯ï¼Œä¼šæ›´ç›´è§‚ä¸€äº›ã€‚ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223package org.zero01.test;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;@Controller@RequestMapping("/test")public class Test &#123; @RequestMapping("test.do") // æŒ‡å®šå°†usernameå‚æ•°çš„å€¼ä¼ é€’åˆ°è¯¥æ–¹æ³•çš„nameå‚æ•°ä¸Š public void test(@RequestParam(name = "username") String name) &#123; System.out.println(name); &#125; @RequestMapping("user.do") // æŒ‡å®šå°†usernameå‚æ•°çš„å€¼ä¼ é€’åˆ°è¯¥æ–¹æ³•çš„userå‚æ•°ä¸Šï¼Œaliaså‚æ•°çš„å€¼åˆ™ä¼ é€’åˆ°è¯¥æ–¹æ³•çš„aå‚æ•°ä¸Š public void userAndAlias(@RequestParam(name = "username")String user, @RequestParam(name = "alias")String a) &#123; System.out.println(user); System.out.println(a); &#125;&#125; 2.requiredå±žæ€§ï¼Œè¯¥å±žæ€§ç”¨äºŽæŒ‡å®šæŸä¸ªå‚æ•°æ˜¯å¦æ˜¯å¿…é¡»çš„ï¼Œé»˜è®¤å€¼ä¸ºtrueï¼Œè¡¨ç¤ºè¯·æ±‚ä¸­ä¸€å®šè¦æœ‰ç›¸åº”çš„å‚æ•°ï¼Œå¦åˆ™å°†æŠ¥404é”™è¯¯ç ï¼Œç¤ºä¾‹ï¼š 1234567891011121314151617181920212223package org.zero01.test;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;@Controller@RequestMapping("/test")public class Test &#123; @RequestMapping("test.do") // æŒ‡å®šusernameå‚æ•°æ˜¯å¿…é¡»çš„ï¼Œå¦‚æžœurlä¸Šæ²¡æœ‰çš„è¯å°±ä¼šæŠ¥é”™ public void test(@RequestParam(name = "username", required = true) String name) &#123; System.out.println(name); &#125; @RequestMapping("user.do") // æŒ‡å®šusernameä¸Žaliaså‚æ•°ä¸æ˜¯å¿…é¡»çš„ï¼Œå³ä¾¿urlä¸Šæ²¡æœ‰ä¹Ÿä¸ä¼šæŠ¥é”™ public void userAndAlias(@RequestParam(name = "username", required = false) String user, @RequestParam(name = "alias", required = false) String a) &#123; System.out.println(user); System.out.println(a); &#125;&#125; 3.defaultValueå±žæ€§ï¼Œè¯¥å±žæ€§ç”¨äºŽæŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œè¡¨ç¤ºå¦‚æžœè¯·æ±‚ä¸­æ²¡æœ‰åŒåå‚æ•°æ—¶çš„é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼å¯ä»¥æ˜¯SpELè¡¨è¾¾å¼ï¼Œå¦‚â€œ#{systemProperties[â€˜java.vm.versionâ€™]}â€ã€‚ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223package org.zero01.test;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;@Controller@RequestMapping("/test")public class Test &#123; @RequestMapping("test.do") // urlä¸Šæ²¡æœ‰usernameå‚æ•°æ—¶ï¼Œç»™å®ƒè®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ä¸ºnothing public void test(@RequestParam(name = "username", defaultValue = "nothing") String name) &#123; System.out.println(name); &#125; @RequestMapping("user.do") // urlä¸Šæ²¡æœ‰usernameä»¥åŠaliaså‚æ•°æ—¶ï¼Œç»™å®ƒè®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ä¸ºnothing public void userAndAlias(@RequestParam(name = "username", defaultValue = "nothing") String user, @RequestParam(name = "alias", defaultValue = "nothing") String a) &#123; System.out.println(user); System.out.println(a); &#125;&#125;]]></content>
      <tags>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ…•è¯¾ç½‘ å‰åŽç«¯åˆ†ç¦» å¼€å‘å¤§ä¼—ç‚¹è¯„é¡¹ç›®]]></title>
    <url>%2F2019%2F02%2F12%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E5%A4%A7%E4%BC%97%E7%82%B9%E8%AF%84%E6%85%95%E8%AF%BE%E7%BD%91%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[ç¬¬1ç«  è¯¾ç¨‹æ¦‚è§ˆ ç¬¬äºŒç«  å¼€å‘å‡†å¤‡1 è¿è¡Œå‰ç«¯é¡¹ç›® 12345cd /xxxå‰ç«¯é¡¹ç›®npm installnpm run mock]]></content>
      <tags>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F02%2F12%2FTest%2F</url>
    <content type="text"><![CDATA[17100621962å¯†ç dh932581 å¸¸ç”¨ä»£ç å—1$&#123;pageContext.request.contextPath&#125;/xxx/xxx/xx 1234mvn test# 17100621962å¯†ç dh93258# 17100621962å¯†ç dh93258# 17100621962å¯†ç dh93258 é‡åˆ°é”™è¯¯å…ˆä»Žå°çš„å¼€å§‹ ä»Ždemoå¼€å§‹è°ƒè¯• åŒ–ç¹ä¸ºç®€]]></content>
  </entry>
  <entry>
    <title><![CDATA[åˆ†å¸ƒå¼session]]></title>
    <url>%2F2019%2F02%2F05%2F%E6%8A%80%E6%9C%AF%E6%A0%88%2F%E5%88%86%E5%B8%83%E5%BC%8Fsession%2F%E5%88%86%E5%B8%83%E5%BC%8FSession%2F</url>
    <content type="text"><![CDATA[åˆ†å¸ƒå¼session]]></content>
      <tags>
        <tag>å¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBootæ•´åˆRedis]]></title>
    <url>%2F2019%2F02%2F05%2FRedis%2FSpringBoot%20Redis%2F</url>
    <content type="text"><![CDATA[1 ä¾èµ–1234567891011121314151617&lt;!--redisçº¯æ´çš„å¾®ç¬‘--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!--redis çº¯æ´çš„å¾®ç¬‘--&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt; &lt;version&gt;2.6.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.netty&lt;/groupId&gt; &lt;artifactId&gt;netty-codec&lt;/artifactId&gt; &lt;version&gt;4.1.31.Final&lt;/version&gt; &lt;/dependency&gt; 2 é…ç½®æ–‡ä»¶12345678spring.redis.database=1spring.redis.host=127.0.0.1spring.redis.port=6379spring.redis.password=spring.redis.lettuce.pool.max-active=8spring.redis.lettuce.pool.max-wait=-1spring.redis.lettuce.pool.max-idle=8spring.redis.lettuce.pool.min-idle=0 3.RedisConfig1234567891011121314151617181920212223242526272829303132package com.imooc.miaosha.Redis_new;import com.fasterxml.jackson.annotation.JsonAutoDetect;import com.fasterxml.jackson.annotation.PropertyAccessor;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.cache.annotation.CachingConfigurerSupport;import org.springframework.cache.annotation.EnableCaching;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.data.redis.connection.RedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.core.StringRedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;@Configuration@EnableCaching//å¼€å¯ç¼“å­˜public class RedisConfig extends CachingConfigurerSupport &#123; @Bean public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate template = new StringRedisTemplate(factory); Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class); ObjectMapper om = new ObjectMapper(); om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); jackson2JsonRedisSerializer.setObjectMapper(om); template.setValueSerializer(jackson2JsonRedisSerializer); template.afterPropertiesSet(); return template; &#125;&#125; 4.Controller123456789101112131415161718192021222324@Controller@RequestMapping("/redis")public class RedisTestController &#123; @Autowired private RedisTemplate&lt;String, String&gt; redisTemplate; @RequestMapping("/string") @ResponseBody public void testString() &#123; redisTemplate.opsForValue().set("neo", "redis"); &#125; @RequestMapping("/get") @ResponseBody public void getString() &#123; redisTemplate.opsForValue().get("neo"); &#125; @RequestMapping("/test") @ResponseBody public void test() &#123; redisTemplate.opsForValue().set("hhh", "hexo"); &#125;&#125; RedisConfigï¼ˆé™„å½•ï¼‰1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071package com.imooc.miaosha.Redis_new;import com.fasterxml.jackson.annotation.JsonAutoDetect;import com.fasterxml.jackson.annotation.PropertyAccessor;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.cache.CacheManager;import org.springframework.cache.annotation.CachingConfigurerSupport;import org.springframework.cache.annotation.EnableCaching;import org.springframework.cache.interceptor.KeyGenerator;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.data.redis.cache.RedisCacheConfiguration;import org.springframework.data.redis.cache.RedisCacheManager;import org.springframework.data.redis.connection.RedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.core.StringRedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;import java.lang.reflect.Method;import java.time.Duration;import java.util.HashMap;import java.util.HashSet;import java.util.Map;import java.util.Set;@Configuration@EnableCaching//å¼€å¯ç¼“å­˜public class RedisConfig extends CachingConfigurerSupport &#123; @Bean public KeyGenerator keyGenerator() &#123; return new KeyGenerator() &#123; @Override public Object generate(Object target, Method method, Object... params) &#123; StringBuilder sb = new StringBuilder(); sb.append(target.getClass().getName()); sb.append(method.getName()); for (Object obj : params) &#123; sb.append(obj.toString()); &#125; return sb.toString(); &#125; &#125;; &#125; @Bean public CacheManager cacheManager(RedisConnectionFactory factory) &#123; RedisCacheManager cacheManager = RedisCacheManager.create(factory); return cacheManager; &#125; @Bean public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate template = new StringRedisTemplate(factory); Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class); ObjectMapper om = new ObjectMapper(); om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); jackson2JsonRedisSerializer.setObjectMapper(om); template.setValueSerializer(jackson2JsonRedisSerializer); template.afterPropertiesSet(); return template; &#125; @Bean public StringRedisTemplate stringRedisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate stringRedisTemplate = new StringRedisTemplate(); stringRedisTemplate.setConnectionFactory(factory); return stringRedisTemplate; &#125;&#125; å‚è€ƒèµ„æ–™ https://blog.csdn.net/sy793314598/article/details/80719224 https://blog.csdn.net/long290046464/article/details/76596103 https://blog.csdn.net/long290046464/article/details/76596103 https://segmentfault.com/q/1010000015203664/a-1020000015204174]]></content>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èŒƒåž‹]]></title>
    <url>%2F2019%2F02%2F05%2Fjava%E5%9F%BA%E7%A1%80%2F%E8%8C%83%E5%9E%8B%2F</url>
    <content type="text"></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[extendså…³é”®å­—]]></title>
    <url>%2F2019%2F02%2F04%2Fjava%E5%9F%BA%E7%A1%80%2Fextends%2F</url>
    <content type="text"></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[abstractå…³é”®å­—]]></title>
    <url>%2F2019%2F02%2F04%2Fjava%E5%9F%BA%E7%A1%80%2Fabstract%2F</url>
    <content type="text"><![CDATA[æŠ½è±¡ï¼šä¸å…·ä½“ï¼Œçœ‹ä¸æ˜Žç™½ã€‚ æŠ½è±¡ç±»è¡¨è±¡ä½“çŽ°ã€‚ åœ¨ä¸æ–­æŠ½å–è¿‡ç¨‹ä¸­ï¼Œå°†å…±æ€§å†…å®¹ä¸­çš„æ–¹æ³•å£°æ˜ŽæŠ½å–ï¼Œä½†æ˜¯æ–¹æ³•ä¸ä¸€æ ·ï¼Œæ²¡æœ‰æŠ½å–ï¼Œè¿™æ—¶æŠ½å–åˆ°çš„æ–¹æ³•ï¼Œå¹¶ä¸å…·ä½“ï¼Œéœ€è¦è¢«æŒ‡å®šå…³é”®å­—abstractæ‰€æ ‡ç¤ºï¼Œå£°æ˜Žä¸ºæŠ½è±¡æ–¹æ³•ã€‚ æŠ½è±¡æ–¹æ³•æ‰€åœ¨ç±»ä¸€å®šè¦æ ‡ç¤ºä¸ºæŠ½è±¡ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥ç±»éœ€è¦è¢«abstractå…³é”®å­—æ‰€ä¿®é¥°ã€‚ æŠ½è±¡ç±»çš„ç‰¹ç‚¹ï¼š 1ï¼šæŠ½è±¡æ–¹æ³•åªèƒ½å®šä¹‰åœ¨æŠ½è±¡ç±»ä¸­ï¼ŒæŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•å¿…é¡»ç”±abstractå…³é”®å­—ä¿®é¥°ï¼ˆå¯ä»¥æè¿°ç±»å’Œæ–¹æ³•ï¼Œä¸å¯ä»¥æè¿°å˜é‡ï¼‰ã€‚ 2ï¼šæŠ½è±¡æ–¹æ³•åªå®šä¹‰æ–¹æ³•å£°æ˜Žï¼Œå¹¶ä¸å®šä¹‰æ–¹æ³•å®žçŽ°ã€‚ 3ï¼šæŠ½è±¡ç±»ä¸å¯ä»¥è¢«åˆ›å»ºå¯¹è±¡(å®žä¾‹åŒ–)ã€‚ 4ï¼šåªæœ‰é€šè¿‡å­ç±»ç»§æ‰¿æŠ½è±¡ç±»å¹¶è¦†ç›–äº†æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•åŽï¼Œè¯¥å­ç±»æ‰å¯ä»¥å®žä¾‹åŒ–ã€‚å¦åˆ™ï¼Œè¯¥å­ç±»è¿˜æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚ æŠ½è±¡ç±»çš„ç»†èŠ‚ï¼š 1ï¼šæŠ½è±¡ç±»ä¸­æ˜¯å¦æœ‰æž„é€ å‡½æ•°ï¼Ÿæœ‰ï¼Œç”¨äºŽç»™å­ç±»å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ã€‚ 2ï¼šæŠ½è±¡ç±»ä¸­æ˜¯å¦å¯ä»¥å®šä¹‰éžæŠ½è±¡æ–¹æ³•ï¼Ÿ å¯ä»¥ã€‚å…¶å®žï¼ŒæŠ½è±¡ç±»å’Œä¸€èˆ¬ç±»æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œéƒ½æ˜¯åœ¨æè¿°äº‹ç‰©ï¼Œåªä¸è¿‡æŠ½è±¡ç±»åœ¨æè¿°äº‹ç‰©æ—¶ï¼Œæœ‰äº›åŠŸèƒ½ä¸å…·ä½“ã€‚æ‰€ä»¥æŠ½è±¡ç±»å’Œä¸€èˆ¬ç±»åœ¨å®šä¹‰ä¸Šï¼Œéƒ½æ˜¯éœ€è¦å®šä¹‰å±žæ€§å’Œè¡Œä¸ºçš„ã€‚åªä¸è¿‡ï¼Œæ¯”ä¸€èˆ¬ç±»å¤šäº†ä¸€ä¸ªæŠ½è±¡å‡½æ•°ã€‚è€Œä¸”æ¯”ä¸€èˆ¬ç±»å°‘äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„éƒ¨åˆ†ã€‚ 3ï¼šæŠ½è±¡å…³é”®å­—abstractå’Œå“ªäº›ä¸å¯ä»¥å…±å­˜ï¼Ÿfinal , private , static 4ï¼šæŠ½è±¡ç±»ä¸­å¯ä¸å¯ä»¥ä¸å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼Ÿå¯ä»¥ã€‚æŠ½è±¡æ–¹æ³•ç›®çš„ä»…ä»…ä¸ºäº†ä¸è®©è¯¥ç±»åˆ›å»ºå¯¹è±¡ã€‚]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[thiså…³é”®å­—]]></title>
    <url>%2F2019%2F02%2F04%2Fjava%E5%9F%BA%E7%A1%80%2FThis%2F</url>
    <content type="text"><![CDATA[Javaä¸­thiså…³é”®å­—åœ¨æž„é€ æ–¹æ³•ä¸­çš„ä½¿ç”¨\1. Javaä¸­thiså…³é”®å­—ä»£è¡¨å¯¹è±¡æœ¬èº«ã€‚ç”¨thiså…³é”®å­—å¯ä»¥åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨å±žæ€§å’Œæ–¹æ³•ï¼Œè¿™æ ·ä»£ç çš„å¯è¯»æ€§æ¯”è¾ƒé«˜ï¼Œå› ä¸ºå®ƒæ˜Žç¡®çš„æŒ‡å‡ºäº†è¿™ä¸ªå±žæ€§æˆ–æ–¹æ³•çš„æ¥æºã€‚ \2. åŒæ—¶åœ¨æž„é€ å‡½æ•°ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨thiså…³é”®å­—è°ƒç”¨æœ¬ç±»ä¸­çš„å…¶å®ƒæž„é€ å‡½æ•°ï¼Œä½†æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š æž„é€ å‡½æ•°è°ƒç”¨å…¶å®ƒæž„é€ å‡½æ•°ï¼Œéœ€è¦å°†thiså†™åœ¨æž„é€ å‡½æ•°çš„ç¬¬ä¸€è¡Œã€‚ æž„é€ å‡½æ•°ä¸å¯é€’å½’ï¼Œé˜²æ­¢æ­»å¾ªçŽ¯ã€‚ \3. ä¸€ä¸ªç±»çš„æž„é€ å‡½æ•°åˆ†ä¸ºæ— å‚å’Œæœ‰å‚æž„é€ å‡½æ•°ã€‚é€šå¸¸åšæ³•æ˜¯æŒ‡å®šå†™å¥½ä¸€ä¸ªåŒ…å«æ‰€æœ‰å­—æ®µçš„æž„é€ å‡½æ•°ï¼Œç„¶åŽå…¶å®ƒæž„é€ å‡½æ•°å¯ä»¥ç›´æŽ¥è°ƒç”¨è¯¥å‡½æ•°ï¼Œå®žçŽ°ä»£ç é‡ç”¨ https://www.cnblogs.com/yougewe/p/9468960.html è¯´åˆ°æŠ½è±¡ï¼Œæƒ³å¿…å¤§å®¶ç¬¬ä¸€ä¸ªè”æƒ³åˆ°çš„å°±æ˜¯æŠ½è±¡ç”»ï¼ŒåŸºæœ¬ä¸Šçœ‹ä¸æ‡‚ç”»çš„æ˜¯å•¥ï¼Œåªèƒ½è¯´å®ƒåœ¨è¡¨è¾¾æŸä¸ªæ¦‚å¿µã€‚åœ¨javaä¸­æˆ‘ä»¬ä¸­abstractå…³é”®å­—æ¥è¡¨è¾¾æŠ½è±¡ã€‚ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬è¯´è½¦å­éƒ½å¯ä»¥è·‘(run)ã€‚ä½†æœ‰å‡ ä¸ªè½®å­ï¼Œæ€Žä¹ˆè·‘ï¼Œå¯¹äºŽä¸åŒçš„è½¦æœ‰ä¸åŒçš„ç»“æžœã€‚è‡ªè¡Œè½¦éœ€è¦äººè¸©ç€è·‘ï¼Œæ±½è½¦å‘åŠ¨æœºæŽ¨åŠ¨è·‘ç­‰ç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è½¦è¡¨è¾¾ä¸ºæŠ½è±¡ç±»ã€‚ /** è½¦å­ç±» */ public abstract class Car { public abstract void run(); } /** è‡ªè¡Œè½¦ */ class Bicycle extends Car{ @Override public void run() { System.out.println(&quot;äººè¸©ç€è·‘ã€‚ã€‚ã€‚&quot;); } }/*** æ±½è½¦ */ class Automobile extends Car{ @Override public void run() { System.out.println(&quot;å‘åŠ¨æœºé©±åŠ¨è·‘ã€‚ã€‚ã€‚&quot;); } }1234567891011121314151617181920212223242526272829å‡å¦‚åŽé¢å„ç§è½¦ï¼Œå€’ç€è·‘ã€æ‚¬åœ¨ç©ºä¸­è·‘éšä½ æ€Žä¹ˆè·‘ï¼Œåªéœ€è¦ç»§æ‰¿æŠ½è±¡ç±»å®žçŽ°è‡ªå·±çš„ä¸šåŠ¡å°±è¡Œäº†ã€‚ç›¸ä¿¡å¤§å®¶å¯¹javaæŠ½è±¡å·²æœ‰ä¸€ä¸ªåˆæ­¥çš„å°è±¡äº†ã€‚ æŠ½è±¡æ–¹æ³•ï¼š 1ã€ä»Žä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŠ½è±¡æ–¹æ³•è·Ÿæ™®é€šæ–¹æ³•æ˜¯æœ‰åŒºåˆ«çš„ï¼Œå®ƒæ²¡æœ‰è‡ªå·±çš„ä¸»ä½“ï¼ˆæ²¡æœ‰{}åŒ…èµ·æ¥çš„ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œè·ŸæŽ¥å£ä¸­çš„æ–¹æ³•æœ‰ç‚¹ç±»ä¼¼ã€‚æ‰€ä»¥æˆ‘ä»¬æ²¡æ³•ç›´æŽ¥è°ƒç”¨æŠ½è±¡æ–¹æ³• 2ã€æŠ½è±¡æ–¹æ³•ä¸èƒ½ç”¨privateä¿®é¥°ï¼Œå› ä¸ºæŠ½è±¡æ–¹æ³•å¿…é¡»è¢«å­ç±»å®žçŽ°ï¼ˆè¦†å†™ï¼‰ï¼Œè€Œprivateæƒé™å¯¹äºŽå­ç±»æ¥è¯´æ˜¯ä¸èƒ½è®¿é—®çš„ï¼Œæ‰€ä»¥å°±ä¼šäº§ç”ŸçŸ›ç›¾ 3ã€æŠ½è±¡æ–¹æ³•ä¹Ÿä¸èƒ½ç”¨staticä¿®é¥°ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æžœç”¨staticä¿®é¥°äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æŽ¥é€šè¿‡ç±»åè°ƒç”¨ï¼Œè€ŒæŠ½è±¡æ–¹æ³•åŽ‹æ ¹å°±æ²¡æœ‰ä¸»ä½“ï¼Œæ²¡æœ‰ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œè¿™æ ·å°±æ¯«æ— æ„ä¹‰äº†ã€‚12345678æŠ½è±¡ç±»ï¼š 1ã€ç”¨abstractå…³é”®å­—æ¥è¡¨è¾¾çš„ç±»ï¼Œå…¶è¡¨è¾¾å½¢å¼ä¸ºï¼šï¼ˆpublicï¼‰abstract class ç±»å{} 2ã€æŠ½è±¡ç±»ä¸èƒ½è¢«å®žä¾‹åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ²¡æ³•ç›´æŽ¥new ä¸€ä¸ªæŠ½è±¡ç±»ã€‚æŠ½è±¡ç±»æœ¬èº«å°±ä»£è¡¨äº†ä¸€ä¸ªç±»åž‹ï¼Œæ— æ³•ç¡®å®šä¸ºä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½å®žä¾‹åŒ–å°±åˆä¹Žæƒ…ç†äº†ï¼Œåªèƒ½æœ‰å®ƒçš„ç»§æ‰¿ç±»å®žä¾‹åŒ–ã€‚ 3ã€æŠ½è±¡ç±»è™½ç„¶ä¸èƒ½è¢«å®žä¾‹åŒ–ï¼Œä½†æœ‰è‡ªå·±çš„æž„é€ æ–¹æ³•ï¼ˆè¿™ä¸ªåŽé¢å†è®¨è®ºï¼‰ 4ã€æŠ½è±¡ç±»ä¸ŽæŽ¥å£ï¼ˆinterfaceï¼‰æœ‰å¾ˆå¤§çš„ä¸åŒä¹‹å¤„ï¼ŒæŽ¥å£ä¸­ä¸èƒ½æœ‰å®žä¾‹æ–¹æ³•åŽ»å®žçŽ°ä¸šåŠ¡é€»è¾‘ï¼Œè€ŒæŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰å®žä¾‹æ–¹æ³•ï¼Œå¹¶å®žçŽ°ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥åœ¨æŠ½è±¡ç±»ä¸­åˆ›å»ºå’Œé”€æ¯ä¸€ä¸ªçº¿ç¨‹æ± ã€‚ 5ã€æŠ½è±¡ç±»ä¸èƒ½ä½¿ç”¨finallyå…³é”®å­—ä¿®é¥°ï¼Œå› ä¸ºfinallyä¿®é¥°çš„ç±»æ˜¯æ— æ³•è¢«ç»§æ‰¿ï¼Œè€Œå¯¹äºŽæŠ½è±¡ç±»æ¥è¯´å°±æ˜¯éœ€è¦é€šè¿‡ç»§æ‰¿åŽ»å®žçŽ°æŠ½è±¡æ–¹æ³•ï¼Œè¿™åˆä¼šäº§ç”ŸçŸ›ç›¾ã€‚ï¼ˆåŽé¢å°†å†™ä¸€ç¯‡å…³äºŽfinallyçš„æ–‡ç« è¯¦ç»†è®¨è®ºï¼‰123456789101112æŠ½è±¡ç±»ä¸ŽæŠ½è±¡æ–¹æ³•çš„å…³è”ï¼š å¦‚æžœä¸€ä¸ªç±»ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¸€å®šæ˜¯æŠ½è±¡ç±»ï¼Œä½†åä¹‹åˆ™ä¸ç„¶ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªæŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†æ­¤ç±»ä¸èƒ½è¢«å®žä¾‹åŒ–ã€‚ å¦‚æžœä¸€ä¸ªç±»ç»§æ‰¿äº†ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»å…¨éƒ¨è¦†å†™æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸å…¨éƒ¨è¦†å†™ï¼Œå¦‚æžœä¸è¦†å†™å…¨éƒ¨æŠ½è±¡æ–¹æ³•åˆ™è¿™ä¸ªå­ç±»ä¹Ÿå¿…é¡»æ˜¯æŠ½è±¡ç±»ï¼ˆè¿™æ ·åšå°±æ— æ„ä¹‰äº†ï¼‰12345public abstract class Car { public void mothod1(){ } public abstract void mothod2(); public abstract void method3(); }class Bicycle extends Car{ @Override public void mothod2() {//éœ€è¦è¦†å†™æŠ½è±¡æ–¹æ³•mothod2 } @Override public void method3() {//éœ€è¦è¦†å†™æŠ½è±¡æ–¹æ³•mothod3 } }123456789101112131415161718192021æŠ½è±¡ç±»çš„æž„é€ å™¨ï¼š å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š public abstract class Car { Car(){ System.out.println(&quot;æŠ½è±¡æ–¹æ³•æ— å‚æž„é€ å‡½æ•°&quot;); } Car(String a){ System.out.println(&quot;æŠ½è±¡æœ‰å‚æž„é€ æ–¹æ³•&quot;); } public void mothod1(){ System.out.println(this.getClass()); System.out.println(&quot;æŠ½è±¡ç±»çš„å®žä¾‹æ–¹æ³•&quot;); } public abstract void mothod2(); }/** è‡ªè¡Œè½¦ */ class Bicycle extends Car{ Bicycle(){ System.out.println(&quot;å­ç±»æ— å‚æž„é€ å‡½æ•°&quot;); } @Override public void mothod2() {//éœ€è¦è¦†å†™æŠ½è±¡æ–¹æ³•mothod2 } } /å¦ä¸€ä¸ªåŒ…çš„æµ‹è¯•ç±»/ public class Test { public static void main(String[] args) { Bicycle b = new Bicycle(); b.mothod1(); } } ç»“æžœï¼š æŠ½è±¡æ–¹æ³•æ— å‚æž„é€ å‡½æ•° å­ç±»æ— å‚æž„é€ å‡½æ•° class com.shaolin.service.impl.Bicycle æŠ½è±¡ç±»çš„å®žä¾‹æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 ä»Žä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼š 1ã€æŠ½è±¡ç±»æ˜¯æœ‰æž„é€ æ–¹æ³•çš„ï¼ˆå½“ç„¶å¦‚æžœæˆ‘ä»¬ä¸å†™ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨é»˜è®¤ä¸€ä¸ªæ— å‚æž„é€ æ–¹æ³•ï¼‰ã€‚è€Œä¸”ä»Žç»“æžœæ¥çœ‹ï¼Œå’Œæ™®é€šçš„ç»§æ‰¿ç±»ä¸€æ ·ï¼Œåœ¨new ä¸€ä¸ªå­ç±»å¯¹è±¡æ—¶ä¼šä¼˜å…ˆè°ƒç”¨çˆ¶ç±»ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯æŠ½è±¡ç±»Carï¼‰çš„æž„é€ å™¨åˆå§‹åŒ–ï¼Œç„¶åŽå†è°ƒç”¨å­ç±»çš„æž„é€ å™¨ã€‚è‡³æ­¤ç›¸ä¿¡å¤§å®¶éƒ½ä¼šæœ‰è¿™æ ·ä¸€ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆæŠ½è±¡æ–¹æ³•ä¸èƒ½å®žä¾‹åŒ–å´æœ‰æž„é€ å™¨å‘¢ï¼Ÿ å¯¹äºŽè¿™ä¸ªé—®é¢˜ç½‘ä¸Šä¹Ÿä¸­è¯´çº·çº­ï¼Œæ²¡æœ‰ç¡®å®šç­”æ¡ˆã€‚æˆ‘æ˜¯è¿™æ ·æƒ³çš„ï¼šæ—¢ç„¶å®ƒä¹Ÿå±žäºŽç»§æ‰¿çš„èŒƒç•´ï¼Œé‚£ä¹ˆå½“å­ç±»åˆ›å»ºå¯¹è±¡æ—¶å¿…ç„¶è¦ä¼˜å…ˆåˆå§‹åŒ–çˆ¶ç±»çš„å±žæ€§å˜é‡å’Œå®žä¾‹æ–¹æ³•ï¼Œä¸ç„¶å­ç±»æ€Žä¹ˆç»§æ‰¿å’Œè°ƒç”¨å‘¢ï¼Ÿè€Œå®ƒæœ¬èº«ä¸èƒ½å®žä¾‹åŒ–ï¼Œå› ä¸ºå®ƒæœ¬èº«å°±æ˜¯ä¸ç¡®å®šçš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æžœå®ƒèƒ½è¢«å®žä¾‹åŒ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šè¿‡å®ƒçš„å¯¹è±¡æ¥è°ƒç”¨å®ƒæœ¬èº«çš„æŠ½è±¡æ–¹æ³•æ˜¯ä¸æ˜¯æœ‰é—®é¢˜ã€‚æ‰€ä»¥ä¸èƒ½å®žä¾‹åŒ–æœ‰åœ¨æƒ…ç†ä¹‹ä¸­ã€‚å› æ­¤å¤§å®¶åªè¦è®°ä½è¿™ä¸ªè§„å®šå°±è¡Œã€‚ 2ã€å¯¹äºŽæŠ½è±¡ç±»ä¸­çš„éžstatci(é™æ€)å’Œéžabstract(æŠ½è±¡)æ–¹æ³•ä¸­çš„thiså…³é”®å­—ï¼ˆé™æ€æ–¹æ³•ä¸­ä¸èƒ½æœ‰å…³é”®å­—thisä¹‹å‰å·²ç»è®¨è®ºè¿‡å¯ä»¥å‚è€ƒ å…³äºŽé™æ€staticé‚£äº›äº‹ï¼‰ä»£è¡¨çš„æ˜¯å®ƒçš„ç»§æ‰¿ç±»ï¼Œè€ŒéžæŠ½è±¡ç±»æœ¬èº«ï¼Œè¿™ä¸ªå¥½ç†è§£ï¼Œå› ä¸ºæŠ½è±¡ç±»æœ¬èº«ä¸èƒ½è¢«å®žä¾‹åŒ–ã€‚å¦‚æžœæœ‰å¤šä¸ªç»§æ‰¿ç±»ï¼Œè°è°ƒç”¨thiså°±ä»£è¡¨è°ã€‚ æŠ½è±¡ç±»æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ1ã€ç”±äºŽæŠ½è±¡ç±»ä¸èƒ½è¢«å®žä¾‹åŒ–ï¼Œæœ€å¤§çš„å¥½å¤„å°±æ˜¯é€šè¿‡æ–¹æ³•çš„è¦†ç›–æ¥å®žçŽ°å¤šæ€çš„å±žæ€§ã€‚ä¹Ÿå°±æ˜¯è¿è¡ŒæœŸç»‘å®š2ã€æŠ½è±¡ç±»å°†äº‹ç‰©çš„å…±æ€§çš„ä¸œè¥¿æå–å‡ºæ¥ï¼Œç”±å­ç±»ç»§æ‰¿åŽ»å®žçŽ°ï¼Œä»£ç æ˜“æ‰©å±•ã€æ˜“ç»´æŠ¤ã€‚]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç™»é™†æ¨¡å—çš„è®¾è®¡]]></title>
    <url>%2F2019%2F02%2F03%2F%E4%BB%A3%E7%A0%81snip%2Fsnip1%2F%E7%99%BB%E9%99%86%E6%A8%A1%E5%9D%97%E7%9A%84%E8%AE%BE%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[1.ç»Ÿä¸€æ¶ˆæ¯å¤„ç† å‰åŽç«¯åˆ†ç¦»12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class Result&lt;T&gt; &#123; private int code; private String msg; private T data;//å¤±è´¥çš„æ—¶å€™è°ƒç”¨ private Result(CodeMsg cm) &#123; if(cm=null) &#123; return; &#125; this.code=cm.getCode(); this.msg=cm.getMsg(); &#125;//æˆåŠŸçš„æ—¶å€™è°ƒç”¨ private Result(T data)&#123; this.code=0; this.msg="SUCCESS"; this.data=data; &#125; //å¤±è´¥çš„æ—¶å€™è°ƒç”¨ public static &lt;T&gt; Result&lt;T&gt; Error(CodeMsg cm)&#123; return new Result&lt;T&gt;(cm); &#125; //æˆåŠŸçš„æ—¶å€™è°ƒç”¨ public static &lt;T&gt; Result&lt;T&gt; Success(T data)&#123; return new Result&lt;T&gt;(data); &#125; //ç”Ÿæˆæž„é€ æ–¹æ³• public Result(int code)&#123; this.code=code; &#125; public Result(String msg)&#123; this.msg=msg; &#125; //ç”Ÿæˆset/getæ–¹æ³• public int getCode()&#123; return code; &#125; public void setCode(int code)&#123; this.code=code; &#125; public int getMsg()&#123; return msg; &#125; public void setMsg(String msg)&#123; this.msg=msg; &#125; public T getData()&#123; return data; &#125; public void setData(T data)&#123; this.data=data; &#125;&#125; 123456789101112131415161718192021222324public class CodeMsg&#123; private int code; private String msg; //é€šç”¨å¼‚å¸¸public static CodeMsg SUCCESS=new CodeMsg(0, "success");public static CodeMsg ERROR =new CodeMsg(-1, "error"); private CodeMsg(int code,String msg)&#123; this.code=code; this.msg=msg; &#125; public int getCode()&#123; return code; &#125; public String getMsg()&#123; return msg; &#125;&#125; 2 åœ¨Controllerä¸­ä½¿ç”¨@ResponseBodyæ³¨è§£ è¿”å›žJSONæ•°æ® return 12345678910@Controller@RequestMappingpublic class DemoTestController &#123; @RequestMapping("/") @ResponseBody//é€šå¸¸ç”¨æ¥è¿”å›žJSONæ•°æ®æˆ–è€…æ˜¯XML/ String home() &#123; return "hello world"; &#125; 1234567891011121314151617181920212223242526@RequestMapping("/resultsuccess")@ResponseBodypublic Result&lt;String&gt; resultsuccess() &#123; //â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ /**1.è¿”å›žæˆåŠŸçš„æ—¶å€™è°ƒç”¨ * public static &lt;T&gt; Result&lt;T&gt; success(T data) &#123; * return new Result&lt;T&gt;(data); * &#125; * * private Result(T data) &#123; * this.code = 0; * this.msg = "success"; * this.data = data; * &#125; * 1.Result.success(data); * ç»“æžœï¼š * &#123; * "code": 0, * "msg": "success", * "data": "hello immooc" * &#125; */ return Result.success("hello immooc");&#125; 12345678910111213141516171819202122232425262728293031323334@RequestMapping("/resulterror") @ResponseBody public Result&lt;String&gt; resultError() &#123; /** * 2ã€‚å¤±è´¥çš„æ—¶å€™è°ƒç”¨ * public static &lt;T&gt; Result&lt;T&gt; error(CodeMsg cm) &#123; * return new Result&lt;T&gt;(cm); * &#125; * * private Result(CodeMsg cm) &#123; * if (cm == null) &#123; * return; * &#125; * this.code = cm.getCode(); * this.msg = cm.getMsg(); * &#125; * 2 Result.error(CodeMsg.SERVER_NAME) * public static CodeMsg SERVER_NAME = new CodeMsg(50001, "æœåŠ¡ç«¯å¼‚å¸¸"); * * ç»“æžœ &#123; * "code": 50001, * "msg": "æœåŠ¡ç«¯å¼‚å¸¸", * "data": null * &#125; * åˆ†æžï¼š * å› ä¸ºCodeMsg SUCCESS ç”¨staticä¿®é¥°äº† * public static CodeMsg SUCCESS = new CodeMsg(0, "success"); * æ‰€ä»¥å¯ä»¥ä½¿ç”¨ç±».å±žæ€§.å±žæ€§çš„æ–¹å¼èŽ·å¾— * CodeMsg.SUCCESS.code=50001 * CodeMsg.SUCCESS.msg="æœåŠ¡ç«¯å¼‚å¸¸" */ return Result.error(CodeMsg.SERVER_NAME); &#125; 3 å‰åŽçš„åˆ†ç¦»çš„åˆ†æž 4 Controller å±‚çš„ä»£ç ç¼–å†™ snipLoginController123456789101112131415161718192021222324@Controller@RequestMapping("/login")public class LoginController &#123; //self4æ—¥å¿—å¤„ç† private static Logger logger = LoggerFactory.getLogger(LoginController.class); @Autowired private MiaoShaoUserServiceImpl miaoShaoUserService; @RequestMapping("/to_login") public String toLogin() &#123; return "login";//è·³è½¬åˆ°ç™»é™†é¡µé¢login.html &#125; @RequestMapping("/do_login") @ResponseBody //loginVoç”¨æˆ·ç™»é™†çš„POJO public Result doLogin(@Valid LoginVo loginVo) &#123; logger.info(loginVo.toString()); //æ ¸å¿ƒä»£ç  â­ï¸â­ï¸ miaoShaoUserService.login(loginVo); return Result.success(true); &#125;&#125; POJO loginVo12345678910111213141516171819202122232425262728293031323334package com.imooc.miaosha.domain;import com.imooc.miaosha.validate.IsMobile;import org.hibernate.validator.constraints.Length;import javax.validation.constraints.NotNull;public class LoginVo &#123; @NotNull //è‡ªå®šä¹‰validator @IsMobile private String mobile; @NotNull @Length(min = 32) private String password; public String getMobile() &#123; return mobile; &#125; public void setMobile(String mobile) &#123; this.mobile = mobile; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; @Override public String toString() &#123; return "LoginVo&#123;" + "mobile='" + mobile + '\'' + ", password='" + password + '\'' + '&#125;'; &#125;&#125; MiaoShaoUserService.12345678910111213141516171819202122232425262728293031323334353637383940@Servicepublic class MiaoShaoUserServiceImpl implements MiaoShaoUserService &#123; @Autowired private MiaoshaUserMapper miaoshaUserMapper; @Override //å¾—åˆ°æ•°æ®åº“é‡Œé¢çš„Userç”¨æˆ·çš„æ‰€æœ‰å­—æ®µ getById(long id) public MiaoshaUser getById(long id) &#123; return miaoshaUserMapper.selectByPrimaryKey(id); &#125; //æ£€æµ‹æ˜¯å¦ç™»é™† loginVoå’Œå‰ç«¯ajax dataç»‘å®šäº† public boolean login(LoginVo loginVo) &#123; if (loginVo == null) &#123; throw new GlobalException(CodeMsg.SERVER_ERROR); &#125; // æ‹¿åˆ°é¡µé¢ä¸­çš„æ‰‹æœºå·ç  String form_mobile = loginVo.getMobile(); // æ‹¿åˆ°é¡µé¢ä¸­çš„å¯†ç  String form_Password = loginVo.getPassword(); //åˆ¤æ–­æ‰‹æœºå·æ˜¯å¦å­˜åœ¨getById==selectByPrimaryKey(id) çœ‹çœ‹æ•°æ®åº“ä¸­å­˜ä¸å­˜åœ¨è¿™ä¸ªæ•°æ® //å°†æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®å˜æˆmiaoshaUser MiaoshaUser miaoshaUser = getById(Long.parseLong(form_mobile)); if (miaoshaUser == null) &#123; throw new GlobalException(CodeMsg.MOBILE_NOT_EXIST); &#125; //å¦‚æžœç”¨æˆ·å­˜åœ¨ //1 éªŒè¯å¯†ç  //æ•°æ®åº“é‡Œé¢çš„å¯†ç  dbPassword b7797cce01b4b131b433b6acf4add 449 String dbPassword = miaoshaUser.getPassword();//Md5Utils.inputPassToDbPass()=dbPass //æ•°æ®åº“é‡Œé¢çš„ç›å€¼ String dbSalt = miaoshaUser.getSalt(); //ç»è¿‡è®¡ç®—å¾—åˆ°çš„å¯†ç  åŽŸå¯†ç  123456 calcpass= d3b1294a61a07da9b49b6e22b2cbd7 f9 String calcPass = MD5Util.fromPassToDBPass(form_Password, dbSalt); //==inputPassToDbPass=calcPass if (!calcPass.equals(dbPassword)) &#123; throw new GlobalException(CodeMsg.PASSWORED_ERROR); &#125; return true; &#125;&#125; MiaoshaUserMapperâ€“selectByPrimaryKey12345@Mapperpublic interface MiaoshaUserMapper &#123; //id=æ‰‹æœºå·ç  è¿”å›žä¸€ä¸ªMiaoshaUserå¯¹è±¡ MiaoshaUser selectByPrimaryKey(Long id);&#125; 123456&lt;select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap"&gt; select id, nickname, `password`, salt, head, registerr_date, login_count from miaosha_user where id = #&#123;id,jdbcType=BIGINT&#125; &lt;/select&gt; MD5Utils å¯†ç åŠ å¯†12345678910111213141516171819202122232425262728293031323334353637383940414243444546package com.imooc.miaosha.utils;import org.apache.commons.codec.digest.DigestUtils;public class MD5Util &#123; public static void main(String args[]) &#123; System.out.println(inputPassToFormPass("123456")); //d3b1294a61a07da9b49b6e22b2cbd7 f9 System.out.println(fromPassToDBPass("123456", "1a2b3c4d")); //d3b1294a61a07da9b49b6e22b2cbd7 f9 System.out.println(inputPassToDbPass("123456","1a2b3c4d")); //b7797cce01b4b131b433b6acf4add 449 &#125; /*å›ºå®šç›å€¼*/ private static final String salt = "1a2b3c4d"; //æ³¨æ„å¯¼åŒ…ä¸ºcodecä¸­çš„DigestUtilsç±».codec.digest.DigestUtils; public static String md5(String src) &#123; //è®¡ç®—MD5æ‘˜è¦å¹¶ä»¥32ä¸ªå­—ç¬¦åå…­è¿›åˆ¶å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›žå€¼ã€‚ return DigestUtils.md5Hex(src); &#125; /** * ç¬¬ä¸€æ¬¡md5 ï¼š * ç”¨äºŽ é€šè¿‡è¾“å…¥çš„å¯†ç ç”Ÿæˆ * ä¼ è¾“çš„å¯†ç  ï¼š æ–¹æ³• é€šè¿‡å›ºå®šç›å€¼å’Œæ˜Žæ–‡å¯†ç ä¹‹é—´çš„æ‹¼æŽ¥åœ¨ç”Ÿæˆmd5 */ public static String inputPassToFormPass(String inputPass) &#123; String str = "" + salt.charAt(0) + salt.charAt(2) + inputPass + salt.charAt(5) + salt.charAt(4); return md5(str); &#125; /** * ç¬¬äºŒæ¬¡md5 ï¼š */ public static String fromPassToDBPass(String formpasss, String salt) &#123; String str = "" + salt.charAt(0) + salt.charAt(2) + formpasss + salt.charAt(5) + salt.charAt(4); return md5(str); &#125; //å°†å¯†ç å°è£…åˆ°æ•°æ®åº“ä¸­ public static String inputPassToDbPass(String input, String saltDB) &#123; String s = inputPassToFormPass(input); String formPass = fromPassToDBPass(s, saltDB); return formPass; &#125;&#125; Ajax12345678910111213141516171819202122232425262728293031function doLogin() &#123; ..å¯†ç å¤„ç† var inputpass = $("#password").val(); var salt = "1a2b3c4d"; var str = "" + salt.charAt(0) + salt.charAt(2) + inputpass + salt.charAt(5) + salt.charAt(4); var password = md5(str); $.ajax(&#123; url: "/login/do_login", type: "POST", data: &#123; mobile: $("#mobile").val(), password: password &#125;, success: function (data) &#123; layer.closeAll(); if (data.code == 0) &#123; layer.msg("æˆåŠŸ"); &#125; else &#123; layer.msg(data.msg); &#125; console.log(data); &#125;, error: function () &#123; layer.closeAll(); &#125; &#125;);&#125; MD5.min.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110/** * [js-md5]&#123;@link https://github.com/emn178/js-md5&#125; * * @namespace md5 * @version 0.7.2 * @author Chen, Yi-Cyuan [emn178@gmail.com] * @copyright Chen, Yi-Cyuan 2014-2017 * @license MIT */!function () &#123; "use strict"; function Md5(t) &#123; if (t) blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0, this.blocks = blocks, this.buffer8 = buffer8; else if (ARRAY_BUFFER) &#123; var r = new ArrayBuffer(68); this.buffer8 = new Uint8Array(r), this.blocks = new Uint32Array(r) &#125; else this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0, this.finalized = this.hashed = !1, this.first = !0 &#125; var ERROR = "input is invalid type", WINDOW = "object" == typeof window, root = WINDOW ? window : &#123;&#125;; root.JS_MD5_NO_WINDOW &amp;&amp; (WINDOW = !1); var WEB_WORKER = !WINDOW &amp;&amp; "object" == typeof self, NODE_JS = !root.JS_MD5_NO_NODE_JS &amp;&amp; "object" == typeof process &amp;&amp; process.versions &amp;&amp; process.versions.node; NODE_JS ? root = global : WEB_WORKER &amp;&amp; (root = self); var COMMON_JS = !root.JS_MD5_NO_COMMON_JS &amp;&amp; "object" == typeof module &amp;&amp; module.exports, AMD = "function" == typeof define &amp;&amp; define.amd, ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER &amp;&amp; "undefined" != typeof ArrayBuffer, HEX_CHARS = "0123456789abcdef".split(""), EXTRA = [128, 32768, 8388608, -2147483648], SHIFT = [0, 8, 16, 24], OUTPUT_TYPES = ["hex", "array", "digest", "buffer", "arrayBuffer", "base64"], BASE64_ENCODE_CHAR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""), blocks = [], buffer8; if (ARRAY_BUFFER) &#123; var buffer = new ArrayBuffer(68); buffer8 = new Uint8Array(buffer), blocks = new Uint32Array(buffer) &#125; (root.JS_MD5_NO_NODE_JS || !Array.isArray) &amp;&amp; (Array.isArray = function (t) &#123; return "[object Array]" === Object.prototype.toString.call(t) &#125;), !ARRAY_BUFFER || !root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW &amp;&amp; ArrayBuffer.isView || (ArrayBuffer.isView = function (t) &#123; return "object" == typeof t &amp;&amp; t.buffer &amp;&amp; t.buffer.constructor === ArrayBuffer &#125;); var createOutputMethod = function (t) &#123; return function (r) &#123; return new Md5(!0).update(r)[t]() &#125; &#125;, createMethod = function () &#123; var t = createOutputMethod("hex"); NODE_JS &amp;&amp; (t = nodeWrap(t)), t.create = function () &#123; return new Md5 &#125;, t.update = function (r) &#123; return t.create().update(r) &#125;; for (var r = 0; r &lt; OUTPUT_TYPES.length; ++r) &#123; var e = OUTPUT_TYPES[r]; t[e] = createOutputMethod(e) &#125; return t &#125;, nodeWrap = function (method) &#123; var crypto = eval("require('crypto')"), Buffer = eval("require('buffer').Buffer"), nodeMethod = function (t) &#123; if ("string" == typeof t) return crypto.createHash("md5").update(t, "utf8").digest("hex"); if (null === t || void 0 === t) throw ERROR; return t.constructor === ArrayBuffer &amp;&amp; (t = new Uint8Array(t)), Array.isArray(t) || ArrayBuffer.isView(t) || t.constructor === Buffer ? crypto.createHash("md5").update(new Buffer(t)).digest("hex") : method(t) &#125;; return nodeMethod &#125;; Md5.prototype.update = function (t) &#123; if (!this.finalized) &#123; var r, e = typeof t; if ("string" !== e) &#123; if ("object" !== e) throw ERROR; if (null === t) throw ERROR; if (ARRAY_BUFFER &amp;&amp; t.constructor === ArrayBuffer) t = new Uint8Array(t); else if (!(Array.isArray(t) || ARRAY_BUFFER &amp;&amp; ArrayBuffer.isView(t))) throw ERROR; r = !0 &#125; for (var s, i, o = 0, h = t.length, f = this.blocks, a = this.buffer8; h &gt; o;) &#123; if (this.hashed &amp;&amp; (this.hashed = !1, f[0] = f[16], f[16] = f[1] = f[2] = f[3] = f[4] = f[5] = f[6] = f[7] = f[8] = f[9] = f[10] = f[11] = f[12] = f[13] = f[14] = f[15] = 0), r) if (ARRAY_BUFFER) for (i = this.start; h &gt; o &amp;&amp; 64 &gt; i; ++o) a[i++] = t[o]; else for (i = this.start; h &gt; o &amp;&amp; 64 &gt; i; ++o) f[i &gt;&gt; 2] |= t[o] &lt;&lt; SHIFT[3 &amp; i++]; else if (ARRAY_BUFFER) for (i = this.start; h &gt; o &amp;&amp; 64 &gt; i; ++o) s = t.charCodeAt(o), 128 &gt; s ? a[i++] = s : 2048 &gt; s ? (a[i++] = 192 | s &gt;&gt; 6, a[i++] = 128 | 63 &amp; s) : 55296 &gt; s || s &gt;= 57344 ? (a[i++] = 224 | s &gt;&gt; 12, a[i++] = 128 | s &gt;&gt; 6 &amp; 63, a[i++] = 128 | 63 &amp; s) : (s = 65536 + ((1023 &amp; s) &lt;&lt; 10 | 1023 &amp; t.charCodeAt(++o)), a[i++] = 240 | s &gt;&gt; 18, a[i++] = 128 | s &gt;&gt; 12 &amp; 63, a[i++] = 128 | s &gt;&gt; 6 &amp; 63, a[i++] = 128 | 63 &amp; s); else for (i = this.start; h &gt; o &amp;&amp; 64 &gt; i; ++o) s = t.charCodeAt(o), 128 &gt; s ? f[i &gt;&gt; 2] |= s &lt;&lt; SHIFT[3 &amp; i++] : 2048 &gt; s ? (f[i &gt;&gt; 2] |= (192 | s &gt;&gt; 6) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | 63 &amp; s) &lt;&lt; SHIFT[3 &amp; i++]) : 55296 &gt; s || s &gt;= 57344 ? (f[i &gt;&gt; 2] |= (224 | s &gt;&gt; 12) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | s &gt;&gt; 6 &amp; 63) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | 63 &amp; s) &lt;&lt; SHIFT[3 &amp; i++]) : (s = 65536 + ((1023 &amp; s) &lt;&lt; 10 | 1023 &amp; t.charCodeAt(++o)), f[i &gt;&gt; 2] |= (240 | s &gt;&gt; 18) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | s &gt;&gt; 12 &amp; 63) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | s &gt;&gt; 6 &amp; 63) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | 63 &amp; s) &lt;&lt; SHIFT[3 &amp; i++]); this.lastByteIndex = i, this.bytes += i - this.start, i &gt;= 64 ? (this.start = i - 64, this.hash(), this.hashed = !0) : this.start = i &#125; return this.bytes &gt; 4294967295 &amp;&amp; (this.hBytes += this.bytes / 4294967296 &lt;&lt; 0, this.bytes = this.bytes % 4294967296), this &#125; &#125;, Md5.prototype.finalize = function () &#123; if (!this.finalized) &#123; this.finalized = !0; var t = this.blocks, r = this.lastByteIndex; t[r &gt;&gt; 2] |= EXTRA[3 &amp; r], r &gt;= 56 &amp;&amp; (this.hashed || this.hash(), t[0] = t[16], t[16] = t[1] = t[2] = t[3] = t[4] = t[5] = t[6] = t[7] = t[8] = t[9] = t[10] = t[11] = t[12] = t[13] = t[14] = t[15] = 0), t[14] = this.bytes &lt;&lt; 3, t[15] = this.hBytes &lt;&lt; 3 | this.bytes &gt;&gt; 29, this.hash() &#125; &#125;, Md5.prototype.hash = function () &#123; var t, r, e, s, i, o, h = this.blocks; this.first ? (t = h[0] - 680876937, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) - 271733879 &lt;&lt; 0, s = (-1732584194 ^ 2004318071 &amp; t) + h[1] - 117830708, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e = (-271733879 ^ s &amp; (-271733879 ^ t)) + h[2] - 1126478375, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r = (t ^ e &amp; (s ^ t)) + h[3] - 1316259209, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0) : (t = this.h0, r = this.h1, e = this.h2, s = this.h3, t += (s ^ r &amp; (e ^ s)) + h[0] - 680876936, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) + r &lt;&lt; 0, s += (e ^ t &amp; (r ^ e)) + h[1] - 389564586, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e += (r ^ s &amp; (t ^ r)) + h[2] + 606105819, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r += (t ^ e &amp; (s ^ t)) + h[3] - 1044525330, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0), t += (s ^ r &amp; (e ^ s)) + h[4] - 176418897, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) + r &lt;&lt; 0, s += (e ^ t &amp; (r ^ e)) + h[5] + 1200080426, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e += (r ^ s &amp; (t ^ r)) + h[6] - 1473231341, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r += (t ^ e &amp; (s ^ t)) + h[7] - 45705983, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0, t += (s ^ r &amp; (e ^ s)) + h[8] + 1770035416, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) + r &lt;&lt; 0, s += (e ^ t &amp; (r ^ e)) + h[9] - 1958414417, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e += (r ^ s &amp; (t ^ r)) + h[10] - 42063, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r += (t ^ e &amp; (s ^ t)) + h[11] - 1990404162, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0, t += (s ^ r &amp; (e ^ s)) + h[12] + 1804603682, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) + r &lt;&lt; 0, s += (e ^ t &amp; (r ^ e)) + h[13] - 40341101, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e += (r ^ s &amp; (t ^ r)) + h[14] - 1502002290, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r += (t ^ e &amp; (s ^ t)) + h[15] + 1236535329, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0, t += (e ^ s &amp; (r ^ e)) + h[1] - 165796510, t = (t &lt;&lt; 5 | t &gt;&gt;&gt; 27) + r &lt;&lt; 0, s += (r ^ e &amp; (t ^ r)) + h[6] - 1069501632, s = (s &lt;&lt; 9 | s &gt;&gt;&gt; 23) + t &lt;&lt; 0, e += (t ^ r &amp; (s ^ t)) + h[11] + 643717713, e = (e &lt;&lt; 14 | e &gt;&gt;&gt; 18) + s &lt;&lt; 0, r += (s ^ t &amp; (e ^ s)) + h[0] - 373897302, r = (r &lt;&lt; 20 | r &gt;&gt;&gt; 12) + e &lt;&lt; 0, t += (e ^ s &amp; (r ^ e)) + h[5] - 701558691, t = (t &lt;&lt; 5 | t &gt;&gt;&gt; 27) + r &lt;&lt; 0, s += (r ^ e &amp; (t ^ r)) + h[10] + 38016083, s = (s &lt;&lt; 9 | s &gt;&gt;&gt; 23) + t &lt;&lt; 0, e += (t ^ r &amp; (s ^ t)) + h[15] - 660478335, e = (e &lt;&lt; 14 | e &gt;&gt;&gt; 18) + s &lt;&lt; 0, r += (s ^ t &amp; (e ^ s)) + h[4] - 405537848, r = (r &lt;&lt; 20 | r &gt;&gt;&gt; 12) + e &lt;&lt; 0, t += (e ^ s &amp; (r ^ e)) + h[9] + 568446438, t = (t &lt;&lt; 5 | t &gt;&gt;&gt; 27) + r &lt;&lt; 0, s += (r ^ e &amp; (t ^ r)) + h[14] - 1019803690, s = (s &lt;&lt; 9 | s &gt;&gt;&gt; 23) + t &lt;&lt; 0, e += (t ^ r &amp; (s ^ t)) + h[3] - 187363961, e = (e &lt;&lt; 14 | e &gt;&gt;&gt; 18) + s &lt;&lt; 0, r += (s ^ t &amp; (e ^ s)) + h[8] + 1163531501, r = (r &lt;&lt; 20 | r &gt;&gt;&gt; 12) + e &lt;&lt; 0, t += (e ^ s &amp; (r ^ e)) + h[13] - 1444681467, t = (t &lt;&lt; 5 | t &gt;&gt;&gt; 27) + r &lt;&lt; 0, s += (r ^ e &amp; (t ^ r)) + h[2] - 51403784, s = (s &lt;&lt; 9 | s &gt;&gt;&gt; 23) + t &lt;&lt; 0, e += (t ^ r &amp; (s ^ t)) + h[7] + 1735328473, e = (e &lt;&lt; 14 | e &gt;&gt;&gt; 18) + s &lt;&lt; 0, r += (s ^ t &amp; (e ^ s)) + h[12] - 1926607734, r = (r &lt;&lt; 20 | r &gt;&gt;&gt; 12) + e &lt;&lt; 0, i = r ^ e, t += (i ^ s) + h[5] - 378558, t = (t &lt;&lt; 4 | t &gt;&gt;&gt; 28) + r &lt;&lt; 0, s += (i ^ t) + h[8] - 2022574463, s = (s &lt;&lt; 11 | s &gt;&gt;&gt; 21) + t &lt;&lt; 0, o = s ^ t, e += (o ^ r) + h[11] + 1839030562, e = (e &lt;&lt; 16 | e &gt;&gt;&gt; 16) + s &lt;&lt; 0, r += (o ^ e) + h[14] - 35309556, r = (r &lt;&lt; 23 | r &gt;&gt;&gt; 9) + e &lt;&lt; 0, i = r ^ e, t += (i ^ s) + h[1] - 1530992060, t = (t &lt;&lt; 4 | t &gt;&gt;&gt; 28) + r &lt;&lt; 0, s += (i ^ t) + h[4] + 1272893353, s = (s &lt;&lt; 11 | s &gt;&gt;&gt; 21) + t &lt;&lt; 0, o = s ^ t, e += (o ^ r) + h[7] - 155497632, e = (e &lt;&lt; 16 | e &gt;&gt;&gt; 16) + s &lt;&lt; 0, r += (o ^ e) + h[10] - 1094730640, r = (r &lt;&lt; 23 | r &gt;&gt;&gt; 9) + e &lt;&lt; 0, i = r ^ e, t += (i ^ s) + h[13] + 681279174, t = (t &lt;&lt; 4 | t &gt;&gt;&gt; 28) + r &lt;&lt; 0, s += (i ^ t) + h[0] - 358537222, s = (s &lt;&lt; 11 | s &gt;&gt;&gt; 21) + t &lt;&lt; 0, o = s ^ t, e += (o ^ r) + h[3] - 722521979, e = (e &lt;&lt; 16 | e &gt;&gt;&gt; 16) + s &lt;&lt; 0, r += (o ^ e) + h[6] + 76029189, r = (r &lt;&lt; 23 | r &gt;&gt;&gt; 9) + e &lt;&lt; 0, i = r ^ e, t += (i ^ s) + h[9] - 640364487, t = (t &lt;&lt; 4 | t &gt;&gt;&gt; 28) + r &lt;&lt; 0, s += (i ^ t) + h[12] - 421815835, s = (s &lt;&lt; 11 | s &gt;&gt;&gt; 21) + t &lt;&lt; 0, o = s ^ t, e += (o ^ r) + h[15] + 530742520, e = (e &lt;&lt; 16 | e &gt;&gt;&gt; 16) + s &lt;&lt; 0, r += (o ^ e) + h[2] - 995338651, r = (r &lt;&lt; 23 | r &gt;&gt;&gt; 9) + e &lt;&lt; 0, t += (e ^ (r | ~s)) + h[0] - 198630844, t = (t &lt;&lt; 6 | t &gt;&gt;&gt; 26) + r &lt;&lt; 0, s += (r ^ (t | ~e)) + h[7] + 1126891415, s = (s &lt;&lt; 10 | s &gt;&gt;&gt; 22) + t &lt;&lt; 0,e += (t ^ (s | ~r)) + h[14] - 1416354905,e = (e &lt;&lt; 15 | e &gt;&gt;&gt; 17) + s &lt;&lt; 0,r += (s ^ (e | ~t)) + h[5] - 57434055,r = (r &lt;&lt; 21 | r &gt;&gt;&gt; 11) + e &lt;&lt; 0,t += (e ^ (r | ~s)) + h[12] + 1700485571,t = (t &lt;&lt; 6 | t &gt;&gt;&gt; 26) + r &lt;&lt; 0,s += (r ^ (t | ~e)) + h[3] - 1894986606,s = (s &lt;&lt; 10 | s &gt;&gt;&gt; 22) + t &lt;&lt; 0,e += (t ^ (s | ~r)) + h[10] - 1051523,e = (e &lt;&lt; 15 | e &gt;&gt;&gt; 17) + s &lt;&lt; 0,r += (s ^ (e | ~t)) + h[1] - 2054922799,r = (r &lt;&lt; 21 | r &gt;&gt;&gt; 11) + e &lt;&lt; 0,t += (e ^ (r | ~s)) + h[8] + 1873313359,t = (t &lt;&lt; 6 | t &gt;&gt;&gt; 26) + r &lt;&lt; 0,s += (r ^ (t | ~e)) + h[15] - 30611744,s = (s &lt;&lt; 10 | s &gt;&gt;&gt; 22) + t &lt;&lt; 0,e += (t ^ (s | ~r)) + h[6] - 1560198380,e = (e &lt;&lt; 15 | e &gt;&gt;&gt; 17) + s &lt;&lt; 0,r += (s ^ (e | ~t)) + h[13] + 1309151649,r = (r &lt;&lt; 21 | r &gt;&gt;&gt; 11) + e &lt;&lt; 0,t += (e ^ (r | ~s)) + h[4] - 145523070,t = (t &lt;&lt; 6 | t &gt;&gt;&gt; 26) + r &lt;&lt; 0,s += (r ^ (t | ~e)) + h[11] - 1120210379,s = (s &lt;&lt; 10 | s &gt;&gt;&gt; 22) + t &lt;&lt; 0,e += (t ^ (s | ~r)) + h[2] + 718787259,e = (e &lt;&lt; 15 | e &gt;&gt;&gt; 17) + s &lt;&lt; 0,r += (s ^ (e | ~t)) + h[9] - 343485551,r = (r &lt;&lt; 21 | r &gt;&gt;&gt; 11) + e &lt;&lt; 0,this.first ? (this.h0 = t + 1732584193 &lt;&lt; 0, this.h1 = r - 271733879 &lt;&lt; 0, this.h2 = e - 1732584194 &lt;&lt; 0, this.h3 = s + 271733878 &lt;&lt; 0, this.first = !1) : (this.h0 = this.h0 + t &lt;&lt; 0, this.h1 = this.h1 + r &lt;&lt; 0, this.h2 = this.h2 + e &lt;&lt; 0, this.h3 = this.h3 + s &lt;&lt; 0) &#125;, Md5.prototype.hex = function () &#123; this.finalize(); var t = this.h0, r = this.h1, e = this.h2, s = this.h3; return HEX_CHARS[t &gt;&gt; 4 &amp; 15] + HEX_CHARS[15 &amp; t] + HEX_CHARS[t &gt;&gt; 12 &amp; 15] + HEX_CHARS[t &gt;&gt; 8 &amp; 15] + HEX_CHARS[t &gt;&gt; 20 &amp; 15] + HEX_CHARS[t &gt;&gt; 16 &amp; 15] + HEX_CHARS[t &gt;&gt; 28 &amp; 15] + HEX_CHARS[t &gt;&gt; 24 &amp; 15] + HEX_CHARS[r &gt;&gt; 4 &amp; 15] + HEX_CHARS[15 &amp; r] + HEX_CHARS[r &gt;&gt; 12 &amp; 15] + HEX_CHARS[r &gt;&gt; 8 &amp; 15] + HEX_CHARS[r &gt;&gt; 20 &amp; 15] + HEX_CHARS[r &gt;&gt; 16 &amp; 15] + HEX_CHARS[r &gt;&gt; 28 &amp; 15] + HEX_CHARS[r &gt;&gt; 24 &amp; 15] + HEX_CHARS[e &gt;&gt; 4 &amp; 15] + HEX_CHARS[15 &amp; e] + HEX_CHARS[e &gt;&gt; 12 &amp; 15] + HEX_CHARS[e &gt;&gt; 8 &amp; 15] + HEX_CHARS[e &gt;&gt; 20 &amp; 15] + HEX_CHARS[e &gt;&gt; 16 &amp; 15] + HEX_CHARS[e &gt;&gt; 28 &amp; 15] + HEX_CHARS[e &gt;&gt; 24 &amp; 15] + HEX_CHARS[s &gt;&gt; 4 &amp; 15] + HEX_CHARS[15 &amp; s] + HEX_CHARS[s &gt;&gt; 12 &amp; 15] + HEX_CHARS[s &gt;&gt; 8 &amp; 15] + HEX_CHARS[s &gt;&gt; 20 &amp; 15] + HEX_CHARS[s &gt;&gt; 16 &amp; 15] + HEX_CHARS[s &gt;&gt; 28 &amp; 15] + HEX_CHARS[s &gt;&gt; 24 &amp; 15] &#125;, Md5.prototype.toString = Md5.prototype.hex, Md5.prototype.digest = function () &#123; this.finalize(); var t = this.h0, r = this.h1, e = this.h2, s = this.h3; return [255 &amp; t, t &gt;&gt; 8 &amp; 255, t &gt;&gt; 16 &amp; 255, t &gt;&gt; 24 &amp; 255, 255 &amp; r, r &gt;&gt; 8 &amp; 255, r &gt;&gt; 16 &amp; 255, r &gt;&gt; 24 &amp; 255, 255 &amp; e, e &gt;&gt; 8 &amp; 255, e &gt;&gt; 16 &amp; 255, e &gt;&gt; 24 &amp; 255, 255 &amp; s, s &gt;&gt; 8 &amp; 255, s &gt;&gt; 16 &amp; 255, s &gt;&gt; 24 &amp; 255] &#125;, Md5.prototype.array = Md5.prototype.digest, Md5.prototype.arrayBuffer = function () &#123; this.finalize(); var t = new ArrayBuffer(16), r = new Uint32Array(t); return r[0] = this.h0, r[1] = this.h1, r[2] = this.h2, r[3] = this.h3, t &#125;, Md5.prototype.buffer = Md5.prototype.arrayBuffer, Md5.prototype.base64 = function () &#123; for (var t, r, e, s = "", i = this.array(), o = 0; 15 &gt; o;) t = i[o++], r = i[o++], e = i[o++], s += BASE64_ENCODE_CHAR[t &gt;&gt;&gt; 2] + BASE64_ENCODE_CHAR[63 &amp; (t &lt;&lt; 4 | r &gt;&gt;&gt; 4)] + BASE64_ENCODE_CHAR[63 &amp; (r &lt;&lt; 2 | e &gt;&gt;&gt; 6)] + BASE64_ENCODE_CHAR[63 &amp; e]; return t = i[o], s += BASE64_ENCODE_CHAR[t &gt;&gt;&gt; 2] + BASE64_ENCODE_CHAR[t &lt;&lt; 4 &amp; 63] + "==" &#125;; var exports = createMethod(); COMMON_JS ? module.exports = exports : (root.md5 = exports, AMD &amp;&amp; define(function () &#123; return exports &#125;))&#125;(); 5 MD5 UtilsåŠ å¯†12345678910111213141516171819//å°†æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®å˜æˆmiaoshaUser MiaoshaUser miaoshaUser = getById(Long.parseLong(form_mobile)); if (miaoshaUser == null) &#123; throw new GlobalException(CodeMsg.MOBILE_NOT_EXIST); &#125; //å¦‚æžœç”¨æˆ·å­˜åœ¨ //1 éªŒè¯å¯†ç  //æ•°æ®åº“é‡Œé¢çš„å¯†ç  dbPassword b7797cce01b4b131b433b6acf4add 449 String dbPassword = miaoshaUser.getPassword();//Md5Utils.inputPassToDbPass()=dbPass //æ•°æ®åº“é‡Œé¢çš„ç›å€¼ String dbSalt = miaoshaUser.getSalt(); //ç»è¿‡è®¡ç®—å¾—åˆ°çš„å¯†ç  åŽŸå¯†ç  123456 calcpass= d3b1294a61a07da9b49b6e22b2cbd7 f9 String calcPass = MD5Util.fromPassToDBPass(form_Password, dbSalt); //==inputPassToDbPass=calcPass if (!calcPass.equals(dbPassword)) &#123; throw new GlobalException(CodeMsg.PASSWORED_ERROR); &#125; return true; 123456789101112131415//éªŒè¯å¯†ç //æ•°æ®åº“é‡Œé¢çš„å¯†ç  bPasswordString dbPassword = miaoshaUser.getPassword();//æ•°æ®åº“é‡Œé¢çš„ç›å€¼String dbSalt = miaoshaUser.getSalt();String calcPass = MD5Util.fromPassToDBPass(form_Password, dbSalt);//d3b1294a61a07da9b49b6e22b2cbd7f9System.err.println("============");System.err.println(form_mobile + "form_mobile ajax md5åŠ å¯†çš„å¯†ç ");System.err.println(dbPassword + "dbPasswordæ•°æ®åº“é‡Œé¢çš„å¯†ç ");System.err.println(calcPass + "calcPassç»è¿‡è®¡ç®—çš„å¯†ç  fromPassToDBPass(form_Password, dbSalt)");System.err.println("inputPassToFormPass=" + "d3b1294a61a07da9b49b6e22b2cbd7f9");System.err.println("fromPassToDBPass=" + "d3b1294a61a07da9b49b6e22b2cbd7f9");System.err.println("inputPassToDbPass=" + "b7797cce01b4b131b433b6acf4add449");System.err.println("============"); inputPassToFormPass(String input). Md5Utils===md5(str). Ajax inputPassToDbPass(String input ,String saltDb) =====Md5Utils.fomPassDBPass(form_password),dbSalt); ä¸¤æ¬¡MD5å°è£… å…¶æœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚ 6 JSR 303 æ ¡éªŒ1dependency12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; &lt;version&gt;2.0.6.RELEASE&lt;/version&gt; &lt;/dependency&gt; 2 .@Valid1234567@RequestMapping("/do_login")@ResponseBodypublic Result doLogin(@Valid LoginVo loginVo) &#123; logger.info(loginVo.toString()); miaoShaoUserService.login(loginVo); return Result.success(true);&#125; 3 POJO12345678public class LoginVo &#123; @NotNull //è‡ªå®šä¹‰validator @IsMobile private String mobile; @NotNull @Length(min = 32) 4 è‡ªå®šä¹‰çš„ @IsMobile 123456789101112131415161718192021package com.imooc.miaosha.validate;import javax.validation.Constraint;import javax.validation.Payload;import java.lang.annotation.Documented;import java.lang.annotation.Repeatable;import java.lang.annotation.Retention;import java.lang.annotation.Target;import static java.lang.annotation.ElementType.*;import static java.lang.annotation.ElementType.TYPE_USE;import static java.lang.annotation.RetentionPolicy.RUNTIME;@Target(&#123;METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE&#125;)@Retention(RUNTIME)@Documented@Constraint(validatedBy = &#123;IsMobileValidator.class&#125;)public @interface IsMobile &#123; boolean required() default true; String message() default "æ‰‹æœºå·ä¸æ­£ç¡®~~ -,- ~~~~"; Class&lt;?&gt;[] groups() default &#123;&#125;; Class&lt;? extends Payload&gt;[] payload() default &#123;&#125;;&#125; 123456789101112131415161718192021222324252627package com.imooc.miaosha.validate;import javax.validation.ConstraintValidator;import javax.validation.ConstraintValidatorContext;import java.util.regex.Pattern;//æ‰‹æœºå·ç çš„validatoræ ¡éªŒpublic class IsMobileValidator implements ConstraintValidator&lt;IsMobile, String&gt; &#123; private boolean required; // é‡å†™initializeæ–¹æ³•èŽ·å–æ³¨è§£å®žä¾‹ @Override public void initialize(IsMobile ca) &#123; // é‡æ³¨è§£å®žä¾‹ä¸­èŽ·ä¿¡æ¯ required = ca.required(); &#125; @Override public boolean isValid(String value, ConstraintValidatorContext context) &#123; // valueå°±æ˜¯è¦æ ¡éªŒçš„æ•°æ®äº† if (value != null &amp;&amp; required) &#123; // æ‰‹æœºå·æ ¡éªŒè§„åˆ™ System.out.println(value); String regexp = "^(((\\+\\d&#123;2&#125;-)?0\\d&#123;2,3&#125;-\\d&#123;7,8&#125;)|((\\+\\d&#123;2&#125;-)?(\\d&#123;2,3&#125;-)?([1][3,4,5,7,8][0-9]\\d&#123;8&#125;)))$"; boolean matches = Pattern.matches(regexp, value); System.out.println(matches); return matches; &#125; return false; &#125;&#125; 7ç»Ÿä¸€å¼‚å¸¸å¤„ç† 1234567891011121314151617181920212223242526272829303132333435package com.imooc.miaosha.Exception;import com.imooc.miaosha.result.CodeMsg;import com.imooc.miaosha.result.Result;import org.springframework.validation.BindException;import org.springframework.validation.ObjectError;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.ResponseBody;import javax.servlet.http.HttpServletRequest;import java.util.List;//å®šä¹‰å…¨å±€å¼‚å¸¸å¤„ç†å™¨ Advice@ControllerAdvice@ResponseBody//è¿”å›žJSONæ•°æ®public class GlobleExceptionHandler &#123; @ExceptionHandler(value = Exception.class) public Result&lt;String&gt; exceptionHandler(HttpServletRequest httpServletRequest, Exception e) &#123; if (e instanceof BindException) &#123; BindException ex = (BindException) e; List&lt;ObjectError&gt; allErrors = ex.getAllErrors(); ObjectError objectError = allErrors.get(0); String defaultMessage = objectError.getDefaultMessage(); return Result.error(CodeMsg.BINDD_ERROR.fillArgs(defaultMessage)); &#125; else &#123; return Result.error(CodeMsg.SERVER_ERROR); &#125; &#125;&#125; 1234567891011public class CodeMsg &#123;private int code; private String msg; //é€šç”¨å¼‚å¸¸ public static CodeMsg BINDD_ERROR = new CodeMsg(50008, "å‚æ•°ç»‘å®šå¼‚å¸¸ :%s"); //â­ï¸ ä¸æ‡‚ ä¸ç†è§£ æŸ¥æ–‡æ¡£ public CodeMsg fillArgs(Object... args) &#123; int code = this.code; String message = String.format(this.msg, args); return new CodeMsg(code, message); &#125; æ€è€ƒðŸ¤” å‚æ•°ç»‘å®šå¼‚å¸¸ï¼šæ‰‹æœºå·ç ä¸æ­£ç¡®â€“ â€“ï¼Œâ€” å“ªæ¥çš„ Ajax dataçš„ç†è§£ã€‚ äº”è§’æ˜Ÿâ­ï¸123456789101112131415161718192021$.ajax(&#123; url: "/login/do_login", type: "POST", data: &#123; mobile: $("#mobile").val(), password: password &#125;, success: function (data) &#123; layer.closeAll(); if (data.code === 0) &#123; layer.msg("æˆåŠŸ åŠ æ²¹Boy"); &#125; else &#123; layer.msg(data.msg); layer.msg(data.data); &#125; console.log(data); &#125;, error: function () &#123; layer.closeAll(); &#125;&#125;); è¿™é‡Œé¢ä¼ å…¥çš„ data.code data.msg data.data åº”è¯¥å°±æ˜¯æ³¨è§£@ResponseBodyè¿”å›žçš„JSONæ•°å°±æ˜¯Conlseä¸‹Objectçš„å€¼ æˆ–è€…æ˜¯å…¨å±€å¼‚å¸¸ å’Œç»Ÿä¸€å¼‚å¸¸è¿”å›žå“åº”çš„ç»“æžœã€‚ Return è¯­å¥è¿”å›žçš„å€¼data.dataçš„å€¼ä¸å­˜åœ¨ã€‚ ä¼šæŠ¥é”™ã€‚ layer.js:2 Uncaught TypeError: Cannot read property â€˜parentsâ€™ of null 123456789101112131415161718192021222324ControllerAdviceç”¨æ³•è§£æžç®€ä»‹ é€šè¿‡@ControllerAdviceæ³¨è§£å¯ä»¥å°†å¯¹äºŽæŽ§åˆ¶å™¨çš„å…¨å±€é…ç½®æ”¾åœ¨åŒä¸€ä¸ªä½ç½®ã€‚ æ³¨è§£äº†@Controllerçš„ç±»çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨@ExceptionHandlerã€@InitBinderã€@ModelAttributeæ³¨è§£åˆ°æ–¹æ³•ä¸Šã€‚ @ControllerAdviceæ³¨è§£å°†ä½œç”¨åœ¨æ‰€æœ‰æ³¨è§£äº†@RequestMappingçš„æŽ§åˆ¶å™¨çš„æ–¹æ³•ä¸Š @ExceptionHandlerï¼šç”¨äºŽå…¨å±€å¤„ç†æŽ§åˆ¶å™¨é‡Œçš„å¼‚å¸¸ã€‚ç”¨æ³•@ControllerAdvice@ResponseBodypublic class BusinessExceptionHandler &#123; @ExceptionHandler(value = Exception.class) public JsonBackData exceptionHandler(HttpServletRequest request, Exception e) &#123; e.printStackTrace(); JsonBackData back = new JsonBackData(); if (e instanceof BusinessException) &#123; BusinessException ex = (BusinessException) e; back.setSuccess(false); back.setBackMsg(ex.getMessage()); &#125; return back; &#125; 8.å…¨å±€å¼‚å¸¸å¤„ç†1234public boolean login(LoginVo loginVo) &#123; if (loginVo == null) &#123; throw new GlobalException(CodeMsg.SERVER_ERROR); &#125; 123456789101112131415package com.imooc.miaosha.Exception;import com.imooc.miaosha.result.CodeMsg;public class GlobalException extends RuntimeException &#123; private CodeMsg cm; public GlobalException(CodeMsg cm) &#123; super(cm.toString()); this.cm = cm; &#125; public CodeMsg getCm() &#123; return cm; &#125; public void setCm(CodeMsg cm) &#123; this.cm = cm; &#125;&#125; 1234567891011@ControllerAdvice@ResponseBodypublic class GlobleExceptionHandler &#123; @ExceptionHandler(value = Exception.class) public Result&lt;String&gt; exceptionHandler(HttpServletRequest httpServletRequest, Exception e) &#123; if (e instanceof GlobalException) &#123; GlobalException ex = (GlobalException) e; return Result.error(ex.getCm()); &#125; &#125; &#125;]]></content>
      <tags>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¡¹ç›®å¼€å‘å¸¸è§é—®é¢˜æ€»ç»“]]></title>
    <url>%2F2019%2F02%2F01%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2F%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[1. @ResponseBody åœ¨ä½ çš„controllerå±‚å¯¹åº”çš„æ–¹æ³•è¿”å›žhtmlè·¯å¾„åŠåç§°æ—¶ï¼Œåœ¨å‰é¢å¤šåŠ äº†ä¸€ä¸ª/ ã€‚ ä¾‹å¦‚return â€œ/indexâ€ï¼Œæ­£å¼è¿™ä¸ª/å¯¼è‡´æŠ¥é”™çš„ï¼Œè§£å†³ï¼šåŽ»æŽ‰è¿”å›žå‰é¢çš„/å³å¯ï¼Œä¾‹å¦‚return â€œ/indexâ€ ã€‚ åœ¨ä½¿ç”¨springbootçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœä½¿ç”¨thymeleafä½œä¸ºæ¨¡æ¿æ–‡ä»¶ï¼Œåˆ™è¦æ±‚HTMLæ ¼å¼å¿…é¡»ä¸ºä¸¥æ ¼çš„html5æ ¼å¼ï¼Œå¿…é¡»æœ‰ç»“æŸæ ‡ç­¾ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ è§£å†³åŠžæ³•å¦‚ä¸‹ï¼š åœ¨application.ymlä¸­æ·»åŠ ä»¥ä¸‹é…ç½® spring.thymeleaf.content-type: text/htmlspring.thymeleaf.cache: falsespring.thymeleaf.mode: LEGACYHTML5 å†åœ¨pom.xml æ·»åŠ ä»¥ä¸‹ä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;net.sourceforge.nekohtml&lt;/groupId&gt; &lt;artifactId&gt;nekohtml&lt;/artifactId&gt; &lt;version&gt;1.9.22&lt;/version&gt; &lt;/dependency&gt; èµ„æºæ–‡ä»¶çš„è·¯å¾„è¢«ä¿®æ”¹ï¼Œå¦‚æžœä½ å…¶ä»–çš„è¯·æ±‚éƒ½æ­£å¸¸è¿”å›žåˆ™å¯å¿½ç•¥è¿™æ¡ã€‚ è§£å†³ï¼šåœ¨pom.xmlæ–‡ä»¶çš„ä¸­åŠ å…¥ 123&lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt;&lt;/resource&gt; æ·»åŠ @ResponseBodyæ³¨è§£ ç„¶åŽè¿”å›žJSONæ ¼å¼ã€‚åŽç«¯æ˜¯æ— æ³•æŸ¥çœ‹çš„ è¦é€šè¿‡å‰ç«¯Googleæ£€æŸ¥å…ƒç´ æŸ¥çœ‹ï¼Ÿ å‰åŽç«¯åˆ†ç¦»2 Redis è¿œç¨‹æœåŠ¡å™¨ liux è…¾è®¯äº‘ https://www.cnblogs.com/KKSJS/p/9622815.html é˜¿é‡Œäº‘éƒ¨ç½²RedisæœåŠ¡å™¨è¿œç¨‹è¿žæŽ¥é—®é¢˜æ˜¨å¤©åœ¨é˜¿é‡Œäº‘å…è´¹é¢†äº†ä¸€ä¸ªæœˆçš„äº‘æœåŠ¡å™¨ï¼Œå°±ç€æœ€è¿‘å­¦çš„SpringBootï¼Œå‡†å¤‡åšä¸€ä¸ªSpringBootä¸ŽRedisçš„æ•´åˆã€‚ å› ä¸ºä»¥å‰ç”¨çš„Rediséƒ½æ˜¯å®‰è£…åœ¨æœ¬åœ°çš„ï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­æ²¡é‡åˆ°ä»€ä¹ˆå¤§é—®é¢˜ï¼Œå¯æ˜¯ä¸€æ—¦éƒ¨ç½²åˆ°çœŸå®žçš„äº‘æœåŠ¡å™¨ä¸Šå°±å‡ºçŽ°äº†ä¸€å¤§å †é—®é¢˜ï¼Œä¸”å¬æˆ‘æ…¢æ…¢é“æ¥ã€‚ åœ¨å®‰è£…Rediså‰ï¼Œäº‘æœåŠ¡å™¨å®žä¾‹æ˜¯å®Œå…¨çº¯å‡€çš„ã€‚é¦–å…ˆæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä¸‹è½½å¹¶å®‰è£…redisï¼š 12345678//ä¸‹è½½wget http://download.redis.io/releases/redis-4.0.9.tar.gz//è§£åŽ‹tar xzf redis-4.0.9.tar.gz//è¿›å…¥è§£åŽ‹åŽçš„ç›®å½•cd redis-4.0.9//å®‰è£…åˆ°å½“å‰ç›®å½•make å¦‚æžœmakeå¤±è´¥ï¼Œä¸€èˆ¬æ˜¯ç³»ç»Ÿä¸­è¿˜æœªå®‰è£…gccé€ æˆçš„ï¼Œå› ä¸ºRedisæ˜¯ç”¨Cè¯­è¨€å†™æˆçš„ï¼Œæ‰€ä»¥éœ€è¦å…ˆé€šè¿‡yum install gccå®‰è£…Cè¯­è¨€çŽ¯å¢ƒã€‚ å®‰è£…RedisåŽï¼Œå…ˆåˆ«æ…Œç€å¯åŠ¨ï¼Œå› ä¸ºRediså¯¹è¿œç¨‹è¿žæŽ¥è¦æ±‚æ¯”è¾ƒè‹›åˆ»ï¼Œå…·ä½“åˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š RedisæœåŠ¡é»˜è®¤åªè®©æœ¬æœºè®¿é—®ï¼Œå› ä¸ºçŽ°åœ¨Redisæ˜¯åœ¨äººå®¶é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹æˆè®©å¤–ç½‘ä¹Ÿèƒ½è®¿é—®ã€‚ä¸»è¦æ˜¯ä¿®æ”¹Redisçš„é»˜è®¤é…ç½®æ–‡ä»¶reidis.confã€‚ æ³¨é‡ŠæŽ‰bind 127.0.0.1è¿™ä¸€è¡Œï¼Œè¿™æ ·å¯ä»¥ä½¿æ‰€æœ‰çš„ipè®¿é—®redis ä¿®æ”¹ protected-modeï¼Œå€¼æ”¹ä¸ºnoï¼Œç”Ÿäº§çŽ¯å¢ƒä¸‹è¦æ”¹ä¸ºyes ä¸ºäº†Redisçš„å®‰å…¨ï¼Œéœ€è¦æŠŠ#requirepass foobaredåŽ»æŽ‰æ³¨é‡Šï¼Œfoobaredæ”¹ä¸ºè‡ªå·±çš„å¯†ç ï¼Œä¾‹å¦‚å¯ä»¥æ”¹ä¸ºrequirepass 123456 ç»è¿‡ä»¥ä¸Šå‡ æ­¥åŽï¼Œç†è®ºä¸Šå°±å¯ä»¥é€šè¿‡å¤–ç½‘è®¿é—®åˆ°äº‘æœåŠ¡å™¨ä¸Šçš„Redisäº†ã€‚å¦‚æžœçŽ°åœ¨åŽ»å¯åŠ¨Redisçš„æœåŠ¡ç«¯ï¼Œä¼šå‘çŽ°Redisåªèƒ½æ˜¯å‰å°å¯åŠ¨ï¼Œåœ¨è¿™é‡Œå¯ä»¥é€šè¿‡ä¿®æ”¹redis.confé‡Œçš„daemonizeä¸ºyesè®©rediså¼€å¯åŽå°å¯åŠ¨ã€‚ å› ä¸ºredisé‡‡ç”¨çš„æ˜¯å•è¿›ç¨‹å¤šçº¿ç¨‹çš„æ¨¡å¼ã€‚å½“redis.confä¸­é€‰é¡¹daemonizeè®¾ç½®æˆyesæ—¶ï¼Œä»£è¡¨å¼€å¯å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œredisä¼šåœ¨åŽå°è¿è¡Œï¼Œå¹¶å°†è¿›ç¨‹pidå·å†™å…¥è‡³redis.confé€‰é¡¹pidfileè®¾ç½®çš„æ–‡ä»¶ä¸­ï¼Œæ­¤æ—¶rediså°†ä¸€ç›´è¿è¡Œï¼Œé™¤éžæ‰‹åŠ¨killè¯¥è¿›ç¨‹ã€‚ åœ¨ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åŽï¼Œæˆ‘ä»¬è¿›å…¥redis-4.0.9çš„scrç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨Redisçš„æœåŠ¡ç«¯ï¼š 1./redis-server ../redis.conf è¿™æ ·Rediså°±åœ¨äº‘æœåŠ¡å™¨ä¸Šä»¥åŽå°çš„æ–¹å¼å¯åŠ¨äº†ï¼ŒæŽ¥ä¸‹æ¥æˆ‘åœ¨æœ¬åœ°å¿«é€Ÿæ­å»ºäº†ä¸€ä¸ªSpringBootæ•´åˆRedisçš„æ¡ˆä¾‹ã€‚åœ¨application.propertiesæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 1234#è®¾ç½®redisä¸»æœºipspring.redis.host= #ä½ çš„äº‘æœåŠ¡å™¨IPåœ°å€#è¿žæŽ¥redisæœåŠ¡çš„å¯†ç spring.redis.password= #åˆšåˆšåœ¨redis.confä¸­è®¾ç½®çš„å¯†ç  æ·»åŠ controllerå¦‚ä¸‹ï¼š 1234567891011@RestControllerpublic class TestRedis &#123; @Autowired private StringRedisTemplate strTplRedis; @GetMapping(&quot;/testredis&quot;) public String testRedis()&#123; strTplRedis.opsForValue().set(&quot;testkey&quot;, &quot;testvalue&quot;); strTplRedis.opsForValue().get(&quot;testkey&quot;); return &quot;success&quot;; &#125;&#125; æ­¤æ—¶æˆ‘ä»¬å¯åŠ¨é¡¹ç›®åŽï¼Œè®¿é—®localhost:8080/testredisï¼Œå‡ºçŽ°å¦‚ä¸‹é”™è¯¯ï¼š è¿™é‡Œé—®é¢˜å°±æ¥äº†ï¼Œæ˜¾ç¤ºæ— æ³•è¿žæŽ¥åˆ°Redisï¼Œæ­¤æ—¶é…ç½®æ–‡ä»¶é‡Œé¢è¯¥æ”¹åˆ°çš„éƒ½å·²ç»æ”¹äº†ï¼ŒåŽæ¥æˆ‘åˆæƒ³åˆ°åº”è¯¥æ˜¯é˜²ç«å¢™çš„é—®é¢˜ï¼Œå› ä¸ºredisçš„ç«¯å£æ˜¯6379ï¼ŒæœåŠ¡å™¨é»˜è®¤æ˜¯ä¸å¼€å¯è¿™ä¸ªç«¯å£çš„ï¼Œæ‰€ä»¥æˆ‘æ‰§è¡Œä¸‹é¢å‘½ä»¤å…³é—­äº†é˜²ç«å¢™ï¼š 1sudo service iptables stop é‡æ–°è®¿é—®urlï¼Œå‘çŽ°è¿˜æ˜¯æŠ¥åŒæ ·çš„é”™â€¦â€¦ äºŽæ˜¯åŽ»è¯·æ•™å¤§ç¥žï¼Œç»è¿‡å¤§ç¥žçš„ä¸€é¡¿æŽ’æŸ¥ï¼Œæœ€åŽå‘Šè¯‰æˆ‘åº”è¯¥æ˜¯æˆ‘æœåŠ¡å™¨çš„å®‰å…¨ç»„è§„åˆ™çš„é—®é¢˜ã€‚ åŽŸæ¥ï¼Œæ–°å»ºçš„é˜¿é‡Œäº‘æœåŠ¡å™¨å®žä¾‹ï¼Œæ˜¯é»˜è®¤ä¸è®©å¤–ç½‘è®¿é—®çš„ï¼Œä¸€ä¸ªå®žä¾‹å±žäºŽä¸€ä¸ªå®‰å…¨ç»„ï¼Œè¿™ä¸ªå®‰å…¨ç»„é‡Œä¸€å¼€å§‹æœ‰é˜¿é‡Œäº‘ä¸ºæˆ‘ä»¬å®šä¹‰çš„è§„åˆ™ï¼Œé»˜è®¤æ˜¯ä¸å¼€æ”¾ä»»ä½•tcpç«¯å£çš„ï¼Œå…·ä½“çš„å¯ä»¥æŸ¥çœ‹å®˜æ–¹çš„ä»‹ç»ï¼šæ·»åŠ å®‰å…¨ç»„è§„åˆ™ã€‚ åœ¨ä¿®æ”¹å¥½å®‰å…¨ç»„è§„åˆ™åŽï¼Œå†è®¿é—®é¡µé¢urlï¼Œé¡µé¢æ˜¾ç¤ºsuccessï¼Œè¿™ä¸‹æ€»ç®—æ˜¯å°†æ•°æ®å­˜è¿›åŽ»äº†ï¼Œä½¿ç”¨Redisçš„æ¡Œé¢å®¢æˆ·ç«¯ä¹Ÿèƒ½è¿œç¨‹è¿žæŽ¥åˆ°Redisï¼Œæ˜¾ç¤ºRedisé‡Œé¢çš„æ•°æ®å¦‚ä¸‹ï¼š å›žå¤´çœ‹æ¥ï¼Œè¿œç¨‹è¿žæŽ¥Redisçš„å‘åŸºæœ¬ä¸Šæ˜¯è¢«æˆ‘è¸©å®Œäº†â€¦â€¦ 3 åŠ å…¥mavenä¾èµ– CodeC/MessageToByteEncoder]]></content>
  </entry>
  <entry>
    <title><![CDATA[Redis+SPringBoot Utils]]></title>
    <url>%2F2019%2F01%2F31%2F%E6%8A%80%E6%9C%AF%E6%A0%88%2FRedis%E9%9B%86%E6%88%90SpringBoot%E5%B0%81%E8%A3%85utils%2FRedisUtils%2F</url>
    <content type="text"><![CDATA[1. Redisä¾èµ–&lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;/dependency&gt; 2. Redisçš„é…ç½®æ–‡ä»¶1234567redis.host=192.168.220.128redis.port=6379redis.timeout=3redis.password=123456redis.poolMaxTotal=10redis.poolMaxIdle=10redis.poolMaxWait=3 3. RedisConfig1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.imooc.miaosha.redis;@Component@ConfigurationProperties(prefix="redis")public class RedisConfig &#123; private String host; private int port; private int timeout;//ç§’ private String password; private int poolMaxTotal; private int poolMaxIdle; private int poolMaxWait;//ç§’ public String getHost() &#123; return host; &#125; public void setHost(String host) &#123; this.host = host; &#125; public int getPort() &#123; return port; &#125; public void setPort(int port) &#123; this.port = port; &#125; public int getTimeout() &#123; return timeout; &#125; public void setTimeout(int timeout) &#123; this.timeout = timeout; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; public int getPoolMaxTotal() &#123; return poolMaxTotal; &#125; public void setPoolMaxTotal(int poolMaxTotal) &#123; this.poolMaxTotal = poolMaxTotal; &#125; public int getPoolMaxIdle() &#123; return poolMaxIdle; &#125; public void setPoolMaxIdle(int poolMaxIdle) &#123; this.poolMaxIdle = poolMaxIdle; &#125; public int getPoolMaxWait() &#123; return poolMaxWait; &#125; public void setPoolMaxWait(int poolMaxWait) &#123; this.poolMaxWait = poolMaxWait; &#125;&#125; 4. RedisPoolFactory1234567891011121314151617181920package com.imooc.miaosha.redis;@Servicepublic class RedisPoolFactory &#123; @Autowired RedisConfig redisConfig; @Bean public JedisPool JedisPoolFactory() &#123; JedisPoolConfig poolConfig = new JedisPoolConfig(); poolConfig.setMaxIdle(redisConfig.getPoolMaxIdle()); poolConfig.setMaxTotal(redisConfig.getPoolMaxTotal()); poolConfig.setMaxWaitMillis(redisConfig.getPoolMaxWait() * 1000); JedisPool jp = new JedisPool(poolConfig, redisConfig.getHost(), redisConfig.getPort(), redisConfig.getTimeout()*1000, redisConfig.getPassword(), 0); return jp; &#125; &#125; 5.RedisService123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133package com.imooc.miaosha.redis;@Servicepublic class RedisService &#123; @Autowired JedisPool jedisPool; /** * èŽ·å–å½“ä¸ªå¯¹è±¡ * */ public &lt;T&gt; T get(KeyPrefix prefix, String key, Class&lt;T&gt; clazz) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); //ç”ŸæˆçœŸæ­£çš„key String realKey = prefix.getPrefix() + key; String str = jedis.get(realKey); T t = stringToBean(str, clazz); return t; &#125;finally &#123; returnToPool(jedis); &#125; &#125; /** * è®¾ç½®å¯¹è±¡ * */ public &lt;T&gt; boolean set(KeyPrefix prefix, String key, T value) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); String str = beanToString(value); if(str == null || str.length() &lt;= 0) &#123; return false; &#125; //ç”ŸæˆçœŸæ­£çš„key String realKey = prefix.getPrefix() + key; int seconds = prefix.expireSeconds(); if(seconds &lt;= 0) &#123; jedis.set(realKey, str); &#125;else &#123; jedis.setex(realKey, seconds, str); &#125; return true; &#125;finally &#123; returnToPool(jedis); &#125; &#125; /** * åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ * */ public &lt;T&gt; boolean exists(KeyPrefix prefix, String key) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); //ç”ŸæˆçœŸæ­£çš„key String realKey = prefix.getPrefix() + key; return jedis.exists(realKey); &#125;finally &#123; returnToPool(jedis); &#125; &#125; /** * å¢žåŠ å€¼ * */ public &lt;T&gt; Long incr(KeyPrefix prefix, String key) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); //ç”ŸæˆçœŸæ­£çš„key String realKey = prefix.getPrefix() + key; return jedis.incr(realKey); &#125;finally &#123; returnToPool(jedis); &#125; &#125; /** * å‡å°‘å€¼ * */ public &lt;T&gt; Long decr(KeyPrefix prefix, String key) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); //ç”ŸæˆçœŸæ­£çš„key String realKey = prefix.getPrefix() + key; return jedis.decr(realKey); &#125;finally &#123; returnToPool(jedis); &#125; &#125; private &lt;T&gt; String beanToString(T value) &#123; if(value == null) &#123; return null; &#125; Class&lt;?&gt; clazz = value.getClass(); if(clazz == int.class || clazz == Integer.class) &#123; return &quot;&quot;+value; &#125;else if(clazz == String.class) &#123; return (String)value; &#125;else if(clazz == long.class || clazz == Long.class) &#123; return &quot;&quot;+value; &#125;else &#123; return JSON.toJSONString(value); &#125; &#125; @SuppreWarnings(&quot;unchecked&quot;) private &lt;T&gt; T stringToBean(String str, Class&lt;T&gt; clazz) &#123; if(str == null || str.length() &lt;= 0 || clazz == null) &#123; return null; &#125; if(clazz == int.class || clazz == Integer.class) &#123; return (T)Integer.valueOf(str); &#125;else if(clazz == String.class) &#123; return (T)str; &#125;else if(clazz == long.class || clazz == Long.class) &#123; return (T)Long.valueOf(str); &#125;else &#123; return JSON.toJavaObject(JSON.parseObject(str), clazz); &#125; &#125; private void returnToPool(Jedis jedis) &#123; if(jedis != null) &#123; jedis.close(); &#125; &#125;&#125; 6 KeyPrefix123456789package com.imooc.miaosha.redis;public interface KeyPrefix &#123; public int expireSeconds(); public String getPrefix(); &#125; 7 BasePrefix123456789101112131415161718192021222324252627package com.imooc.miaosha.redis;public abstract class BasePrefix implements KeyPrefix&#123; private int expireSeconds; private String prefix; public BasePrefix(String prefix) &#123;//0ä»£è¡¨æ°¸ä¸è¿‡æœŸ this(0, prefix); &#125; public BasePrefix( int expireSeconds, String prefix) &#123; this.expireSeconds = expireSeconds; this.prefix = prefix; &#125; public int expireSeconds() &#123;//é»˜è®¤0ä»£è¡¨æ°¸ä¸è¿‡æœŸ return expireSeconds; &#125; public String getPrefix() &#123; String className = getClass().getSimpleName(); return className+":" + prefix; &#125;&#125; #8 UserKey 12345678910package com.imooc.miaosha.redis;public class UserKey extends BasePrefix&#123; private UserKey(String prefix) &#123; super(prefix); &#125; public static UserKey getById = new UserKey("id"); public static UserKey getByName = new UserKey("name");&#125; 9 OrderKey123456789package com.imooc.miaosha.redis;public class OrderKey extends BasePrefix &#123; public OrderKey(int expireSeconds, String prefix) &#123; super(expireSeconds, prefix); &#125;&#125; 12345678910package com.imooc.miaosha.redis;public class MiaoshaUserKey extends BasePrefix&#123; public static final int TOKEN_EXPIRE = 3600*24 * 2; private MiaoshaUserKey(int expireSeconds, String prefix) &#123; super(expireSeconds, prefix); &#125; public static MiaoshaUserKey token = new MiaoshaUserKey(TOKEN_EXPIRE, "tk");&#125;]]></content>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[staticå…³é”®å­—]]></title>
    <url>%2F2019%2F01%2F31%2Fjava%E5%9F%BA%E7%A1%80%2Fstatic%E5%85%B3%E9%94%AE%E5%AD%97%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324public class ClassTest &#123; public static void main(String[] args) &#123; int age = ClassTest.classTest.age; System.out.println(age); String name = ClassTest.classTest.name; System.out.println(name); System.out.println(ClassTest.classTest); &#125; private String name; private int age; static ClassTest classTest = new ClassTest(&quot;yhp&quot;, 23); public ClassTest(String name) &#123; this.name = name; &#125; public ClassTest(int age) &#123; this.age = age; &#125; public ClassTest(String name, int age) &#123; this.name = name; this.age = age;]]></content>
      <tags>
        <tag>static</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»Ÿä¸€å°è£…è¿”å›žä¿¡æ¯]]></title>
    <url>%2F2019%2F01%2F31%2F%E6%8A%80%E6%9C%AF%E6%A0%88%2F%E7%BB%9F%E4%B8%80%E5%B0%81%E8%A3%85%E8%BF%94%E5%9B%9E%E4%BF%A1%E6%81%AF%20%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%2F%E7%BB%9F%E4%B8%80%E5%B0%81%E8%A3%85%E8%BF%94%E5%9B%9E%E4%BF%A1%E6%81%AF%7Bcode%2Cmsg%2Cdata%7D%2F</url>
    <content type="text"><![CDATA[1 Result123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package com.imooc.miaosha.result;public class Result&lt;T&gt; &#123; private int code; private String msg; private T data; //â­ï¸ private Result(CodeMsg cm) &#123; if (cm == null) &#123; return; &#125; this.code = cm.getCode(); this.msg = cm.getMsg(); &#125; private Result(T data) &#123; this.code = 0; this.msg = &quot;success&quot;; this.data = data; &#125; /** * å¤±è´¥çš„æ—¶å€™è°ƒç”¨ */ public static &lt;T&gt; Result&lt;T&gt; error(CodeMsg cm) &#123; return new Result&lt;T&gt;(cm); &#125; /** * æˆåŠŸçš„æ—¶å€™è°ƒç”¨ * * @param code */ public static &lt;T&gt; Result&lt;T&gt; success(T data) &#123; return new Result&lt;T&gt;(data); &#125; //2 ç”Ÿæˆæž„é€ æ–¹æ³• public Result(int code) &#123; this.code = code; &#125; public Result(String msg) &#123; this.msg = msg; &#125; //3ã€‚get/setæ–¹æ³• public int getCode() &#123; return code; &#125; public void setCode(int code) &#123; this.code = code; &#125; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; public T getData() &#123; return data; &#125; public void setData(T data) &#123; this.data = data; &#125;&#125; 2 CodeMsg12345678910111213141516171819202122232425262728293031323334package com.imooc.miaosha.result;public class CodeMsg &#123; private int code; private String msg; //é€šç”¨å¼‚å¸¸ public static CodeMsg SUCCESS = new CodeMsg(0, "success"); public static CodeMsg SERVER_NAME = new CodeMsg(50001, "æœåŠ¡ç«¯å¼‚å¸¸"); //ç™»å½•æ¨¡å— 5002XX //å•†å“æ¨¡å— 5003XX //è®¢å•æ¨¡å— 5004XX //ç§’æ€æ¨¡å— 5005XX private CodeMsg(int code, String msg) &#123; this.code = code; this.msg = msg; &#125; public int getCode() &#123; return code; &#125; public String getMsg() &#123; return msg; &#125; public static CodeMsg getSUCCESS() &#123; return SUCCESS; &#125; public static CodeMsg getServerName() &#123; return SERVER_NAME; &#125;&#125; 3 è°ƒç”¨è¦âž•@ResponseBodyæ³¨è§£123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869@RequestMapping("/resultsuccess")@ResponseBodypublic Result&lt;String&gt; resultsuccess() &#123; //â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ /**1.è¿”å›žæˆåŠŸçš„æ—¶å€™è°ƒç”¨ * public static &lt;T&gt; Result&lt;T&gt; success(T data) &#123; * return new Result&lt;T&gt;(data); * &#125; * * private Result(T data) &#123; * this.code = 0; * this.msg = "success"; * this.data = data; * &#125; * 1.Result.success(data); * ç»“æžœï¼š * &#123; * "code": 0, * "msg": "success", * "data": "hello immooc" * &#125; */ return Result.success("hello immooc");&#125;======================================================================@RequestMapping("/resulterror")@ResponseBodypublic Result&lt;String&gt; resultError() &#123; /** * 2ã€‚å¤±è´¥çš„æ—¶å€™è°ƒç”¨ * public static &lt;T&gt; Result&lt;T&gt; error(CodeMsg cm) &#123; * return new Result&lt;T&gt;(cm); * &#125; * * private Result(CodeMsg cm) &#123; * if (cm == null) &#123; * return; * &#125; * this.code = cm.getCode(); * this.msg = cm.getMsg(); * &#125; * 2 Result.error(CodeMsg.SERVER_NAME) * public static CodeMsg SERVER_NAME = new CodeMsg(50001, "æœåŠ¡ç«¯å¼‚å¸¸"); * * ç»“æžœ &#123; * "code": 50001, * "msg": "æœåŠ¡ç«¯å¼‚å¸¸", * "data": null * &#125; * åˆ†æžï¼š * å› ä¸ºCodeMsg SUCCESS ç”¨staticä¿®é¥°äº† * public static CodeMsg SUCCESS = new CodeMsg(0, "success"); * æ‰€ä»¥å¯ä»¥ä½¿ç”¨ç±».å±žæ€§.å±žæ€§çš„æ–¹å¼èŽ·å¾— * CodeMsg.SUCCESS.code=50001 * CodeMsg.SUCCESS.msg="æœåŠ¡ç«¯å¼‚å¸¸" */ return Result.error(CodeMsg.SERVER_NAME);&#125;]]></content>
      <tags>
        <tag>å¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸¤æ¬¡MD5æ˜Žæ–‡åŠ å¯†]]></title>
    <url>%2F2019%2F01%2F31%2F%E6%8A%80%E6%9C%AF%E6%A0%88%2FMD5%E6%98%8E%E6%96%87%E5%8A%A0%E5%AF%86%2F%E4%B8%A4%E6%AC%A1MD5%E6%98%8E%E6%96%87%E5%8A%A0%E5%AF%86%2F</url>
    <content type="text"><![CDATA[1 .ä¾èµ–12345678910111213&lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;&lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.11&lt;/version&gt;&lt;/dependency&gt;------------------------------------------------------------------------------------------&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.4&lt;/version&gt;&lt;/dependency&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041424344package com.imooc.miaosha.utils;import org.apache.commons.codec.digest.DigestUtils;public class MD5Util &#123; /*å›ºå®šç›å€¼*/ private static final String salt = &quot;1a2b3c4d&quot;; //æ³¨æ„å¯¼åŒ…ä¸ºcodecä¸­çš„DigestUtilsç±».codec.digest.DigestUtils; public static String md5(String src) &#123; //è®¡ç®—MD5æ‘˜è¦å¹¶ä»¥32ä¸ªå­—ç¬¦åå…­è¿›åˆ¶å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›žå€¼ã€‚ return DigestUtils.md5Hex(src); &#125; /** * ç¬¬ä¸€æ¬¡md5 ï¼š * ç”¨äºŽ é€šè¿‡è¾“å…¥çš„å¯†ç ç”Ÿæˆ * ä¼ è¾“çš„å¯†ç  ï¼š æ–¹æ³• é€šè¿‡å›ºå®šç›å€¼å’Œæ˜Žæ–‡å¯†ç ä¹‹é—´çš„æ‹¼æŽ¥åœ¨ç”Ÿæˆmd5 */ public static String inputPassFormPass(String inputPass) &#123; String str = &quot;&quot; + salt.charAt(0) + salt.charAt(2) + inputPass + salt.charAt(5) + salt.charAt(4); return md5(str); &#125; /** * ç¬¬äºŒæ¬¡md5 ï¼š */ public static String fromPassFormPass(String formpasss, String salt) &#123; String str = &quot;&quot; + salt.charAt(0) + salt.charAt(2) + formpasss + salt.charAt(5) + salt.charAt(4); return md5(str); &#125; //å°†å¯†ç å°è£…åˆ°æ•°æ®åº“ä¸­ public static String inputPassToDbPass(String input, String saltDB) &#123; String s = inputPassFormPass(input); String formPass = fromPassFormPass(s, saltDB); return formPass; &#125; public static void main(String args[]) &#123; //System.out.println(s);//d3b1294a61a07da9b49b6e22b2cbd7f9 //System.out.println(inputPassToDbPass(&quot;123456&quot;, &quot;1a2b3c4d&quot;)); &#125;&#125; è°ƒç”¨]]></content>
      <tags>
        <tag>MD5</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaç§’æ€ç³»ç»Ÿæ–¹æ¡ˆä¼˜åŒ–]]></title>
    <url>%2F2019%2F01%2F30%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2Fjava%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ï¼]]></content>
      <tags>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é»‘é©¬ä¹å‹å•†åŸŽ-day02-è®¤è¯†å¾®æœåŠ¡]]></title>
    <url>%2F2019%2F01%2F30%2FSpringCloud%2F%E9%BB%91%E9%A9%AC%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E-day02-%E8%AE%A4%E8%AF%86%E5%BE%AE%E6%9C%8D%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[0.å­¦ä¹ ç›®æ ‡ äº†è§£ç³»ç»Ÿæž¶æž„çš„æ¼”å˜ äº†è§£RPCä¸ŽHttpçš„åŒºåˆ« æŽŒæ¡HttpClientçš„ç®€å•ä½¿ç”¨ çŸ¥é“ä»€ä¹ˆæ˜¯SpringCloud ç‹¬ç«‹æ­å»ºEurekaæ³¨å†Œä¸­å¿ƒ ç‹¬ç«‹é…ç½®Robbinè´Ÿè½½å‡è¡¡ -Xms128m -Xmx128m 1.ç³»ç»Ÿæž¶æž„æ¼”å˜éšç€äº’è”ç½‘çš„å‘å±•ï¼Œç½‘ç«™åº”ç”¨çš„è§„æ¨¡ä¸æ–­æ‰©å¤§ã€‚éœ€æ±‚çš„æ¿€å¢žï¼Œå¸¦æ¥çš„æ˜¯æŠ€æœ¯ä¸Šçš„åŽ‹åŠ›ã€‚ç³»ç»Ÿæž¶æž„ä¹Ÿå› æ­¤ä¹Ÿä¸æ–­çš„æ¼”è¿›ã€å‡çº§ã€è¿­ä»£ã€‚ä»Žå•ä¸€åº”ç”¨ï¼Œåˆ°åž‚ç›´æ‹†åˆ†ï¼Œåˆ°åˆ†å¸ƒå¼æœåŠ¡ï¼Œåˆ°SOAï¼Œä»¥åŠçŽ°åœ¨ç«çƒ­çš„å¾®æœåŠ¡æž¶æž„ï¼Œè¿˜æœ‰åœ¨Googleå¸¦é¢†ä¸‹æ¥åŠ¿æ±¹æ¶Œçš„Service Meshã€‚æˆ‘ä»¬åˆ°åº•æ˜¯è¯¥ä¹˜åå¾®æœåŠ¡çš„èˆ¹åªé©¶å‘è¿œæ–¹ï¼Œè¿˜æ˜¯åå®‰ä¸€éš…å¾—è¿‡ä¸”è¿‡ï¼Ÿ å…¶å®žç”Ÿæ´»ä¸æ­¢çœ¼å‰çš„è‹Ÿä¸”ï¼Œè¿˜æœ‰è¯—å’Œè¿œæ–¹ã€‚æ‰€ä»¥æˆ‘ä»¬ä»Šå¤©å°±å›žé¡¾åŽ†å²ï¼Œçœ‹ä¸€çœ‹ç³»ç»Ÿæž¶æž„æ¼”å˜çš„åŽ†ç¨‹ï¼›æŠŠæ¡çŽ°åœ¨ï¼Œå­¦ä¹ çŽ°åœ¨æœ€ç«çš„æŠ€æœ¯æž¶æž„ï¼›å±•æœ›æœªæ¥ï¼Œäº‰å–æˆä¸ºä¸€åä¼˜ç§€çš„Javaå·¥ç¨‹å¸ˆã€‚ 1.1. é›†ä¸­å¼æž¶æž„å½“ç½‘ç«™æµé‡å¾ˆå°æ—¶ï¼Œåªéœ€ä¸€ä¸ªåº”ç”¨ï¼Œå°†æ‰€æœ‰åŠŸèƒ½éƒ½éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä»¥å‡å°‘éƒ¨ç½²èŠ‚ç‚¹å’Œæˆæœ¬ã€‚æ­¤æ—¶ï¼Œç”¨äºŽç®€åŒ–å¢žåˆ æ”¹æŸ¥å·¥ä½œé‡çš„æ•°æ®è®¿é—®æ¡†æž¶(ORM)æ˜¯å½±å“é¡¹ç›®å¼€å‘çš„å…³é”®ã€‚ å­˜åœ¨çš„é—®é¢˜ï¼š ä»£ç è€¦åˆï¼Œå¼€å‘ç»´æŠ¤å›°éš¾ æ— æ³•é’ˆå¯¹ä¸åŒæ¨¡å—è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ– æ— æ³•æ°´å¹³æ‰©å±• å•ç‚¹å®¹é”™çŽ‡ä½Žï¼Œå¹¶å‘èƒ½åŠ›å·® 1.2.åž‚ç›´æ‹†åˆ†å½“è®¿é—®é‡é€æ¸å¢žå¤§ï¼Œå•ä¸€åº”ç”¨æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œæ­¤æ—¶ä¸ºäº†åº”å¯¹æ›´é«˜çš„å¹¶å‘å’Œä¸šåŠ¡éœ€æ±‚ï¼Œæˆ‘ä»¬æ ¹æ®ä¸šåŠ¡åŠŸèƒ½å¯¹ç³»ç»Ÿè¿›è¡Œæ‹†åˆ†ï¼š ä¼˜ç‚¹ï¼š ç³»ç»Ÿæ‹†åˆ†å®žçŽ°äº†æµé‡åˆ†æ‹…ï¼Œè§£å†³äº†å¹¶å‘é—®é¢˜ å¯ä»¥é’ˆå¯¹ä¸åŒæ¨¡å—è¿›è¡Œä¼˜åŒ– æ–¹ä¾¿æ°´å¹³æ‰©å±•ï¼Œè´Ÿè½½å‡è¡¡ï¼Œå®¹é”™çŽ‡æé«˜ ç¼ºç‚¹ï¼š ç³»ç»Ÿé—´ç›¸äº’ç‹¬ç«‹ï¼Œä¼šæœ‰å¾ˆå¤šé‡å¤å¼€å‘å·¥ä½œï¼Œå½±å“å¼€å‘æ•ˆçŽ‡ 1.3.åˆ†å¸ƒå¼æœåŠ¡å½“åž‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚æ­¤æ—¶ï¼Œç”¨äºŽæé«˜ä¸šåŠ¡å¤ç”¨åŠæ•´åˆçš„åˆ†å¸ƒå¼è°ƒç”¨æ˜¯å…³é”®ã€‚ ä¼˜ç‚¹ï¼š å°†åŸºç¡€æœåŠ¡è¿›è¡Œäº†æŠ½å–ï¼Œç³»ç»Ÿé—´ç›¸äº’è°ƒç”¨ï¼Œæé«˜äº†ä»£ç å¤ç”¨å’Œå¼€å‘æ•ˆçŽ‡ ç¼ºç‚¹ï¼š ç³»ç»Ÿé—´è€¦åˆåº¦å˜é«˜ï¼Œè°ƒç”¨å…³ç³»é”™ç»¼å¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤ 1.4.æœåŠ¡æ²»ç†ï¼ˆSOAï¼‰å½“æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå®¹é‡çš„è¯„ä¼°ï¼Œå°æœåŠ¡èµ„æºçš„æµªè´¹ç­‰é—®é¢˜é€æ¸æ˜¾çŽ°ï¼Œæ­¤æ—¶éœ€å¢žåŠ ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒåŸºäºŽè®¿é—®åŽ‹åŠ›å®žæ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨çŽ‡ã€‚æ­¤æ—¶ï¼Œç”¨äºŽæé«˜æœºå™¨åˆ©ç”¨çŽ‡çš„èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA)æ˜¯å…³é”® ä»¥å‰å‡ºçŽ°äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œéœ€è¦ç®¡ç†æ¯ä¸ªæœåŠ¡çš„åœ°å€ è°ƒç”¨å…³ç³»é”™ç»¼å¤æ‚ï¼Œéš¾ä»¥ç†æ¸…ä¾èµ–å…³ç³» æœåŠ¡è¿‡å¤šï¼ŒæœåŠ¡çŠ¶æ€éš¾ä»¥ç®¡ç†ï¼Œæ— æ³•æ ¹æ®æœåŠ¡æƒ…å†µåŠ¨æ€ç®¡ç† æœåŠ¡æ²»ç†è¦åšä»€ä¹ˆï¼Ÿ æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œå®žçŽ°æœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘çŽ°ï¼Œæ— éœ€äººä¸ºè®°å½•æœåŠ¡åœ°å€ æœåŠ¡è‡ªåŠ¨è®¢é˜…ï¼ŒæœåŠ¡åˆ—è¡¨è‡ªåŠ¨æŽ¨é€ï¼ŒæœåŠ¡è°ƒç”¨é€æ˜ŽåŒ–ï¼Œæ— éœ€å…³å¿ƒä¾èµ–å…³ç³» åŠ¨æ€ç›‘æŽ§æœåŠ¡çŠ¶æ€ç›‘æŽ§æŠ¥å‘Šï¼Œäººä¸ºæŽ§åˆ¶æœåŠ¡çŠ¶æ€ ç¼ºç‚¹ï¼š æœåŠ¡é—´ä¼šæœ‰ä¾èµ–å…³ç³»ï¼Œä¸€æ—¦æŸä¸ªçŽ¯èŠ‚å‡ºé”™ä¼šå½±å“è¾ƒå¤§ æœåŠ¡å…³ç³»å¤æ‚ï¼Œè¿ç»´ã€æµ‹è¯•éƒ¨ç½²å›°éš¾ï¼Œä¸ç¬¦åˆDevOpsæ€æƒ³ 1.5.å¾®æœåŠ¡å‰é¢è¯´çš„SOAï¼Œè‹±æ–‡ç¿»è¯‘è¿‡æ¥æ˜¯é¢å‘æœåŠ¡ã€‚å¾®æœåŠ¡ï¼Œä¼¼ä¹Žä¹Ÿæ˜¯æœåŠ¡ï¼Œéƒ½æ˜¯å¯¹ç³»ç»Ÿè¿›è¡Œæ‹†åˆ†ã€‚å› æ­¤ä¸¤è€…éžå¸¸å®¹æ˜“æ··æ·†ï¼Œä½†å…¶å®žç¼ºæœ‰ä¸€äº›å·®åˆ«ï¼š å¾®æœåŠ¡çš„ç‰¹ç‚¹ï¼š å•ä¸€èŒè´£ï¼šå¾®æœåŠ¡ä¸­æ¯ä¸€ä¸ªæœåŠ¡éƒ½å¯¹åº”å”¯ä¸€çš„ä¸šåŠ¡èƒ½åŠ›ï¼Œåšåˆ°å•ä¸€èŒè´£ å¾®ï¼šå¾®æœåŠ¡çš„æœåŠ¡æ‹†åˆ†ç²’åº¦å¾ˆå°ï¼Œä¾‹å¦‚ä¸€ä¸ªç”¨æˆ·ç®¡ç†å°±å¯ä»¥ä½œä¸ºä¸€ä¸ªæœåŠ¡ã€‚æ¯ä¸ªæœåŠ¡è™½å°ï¼Œä½†â€œäº”è„ä¿±å…¨â€ã€‚ é¢å‘æœåŠ¡ï¼šé¢å‘æœåŠ¡æ˜¯è¯´æ¯ä¸ªæœåŠ¡éƒ½è¦å¯¹å¤–æš´éœ²æœåŠ¡æŽ¥å£APIã€‚å¹¶ä¸å…³å¿ƒæœåŠ¡çš„æŠ€æœ¯å®žçŽ°ï¼Œåšåˆ°ä¸Žå¹³å°å’Œè¯­è¨€æ— å…³ï¼Œä¹Ÿä¸é™å®šç”¨ä»€ä¹ˆæŠ€æœ¯å®žçŽ°ï¼Œåªè¦æä¾›Restçš„æŽ¥å£å³å¯ã€‚ è‡ªæ²»ï¼šè‡ªæ²»æ˜¯è¯´æœåŠ¡é—´äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰° å›¢é˜Ÿç‹¬ç«‹ï¼šæ¯ä¸ªæœåŠ¡éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€å‘å›¢é˜Ÿï¼Œäººæ•°ä¸èƒ½è¿‡å¤šã€‚ æŠ€æœ¯ç‹¬ç«‹ï¼šå› ä¸ºæ˜¯é¢å‘æœåŠ¡ï¼Œæä¾›RestæŽ¥å£ï¼Œä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ²¡æœ‰åˆ«äººå¹²æ¶‰ å‰åŽç«¯åˆ†ç¦»ï¼šé‡‡ç”¨å‰åŽç«¯åˆ†ç¦»å¼€å‘ï¼Œæä¾›ç»Ÿä¸€RestæŽ¥å£ï¼ŒåŽç«¯ä¸ç”¨å†ä¸ºPCã€ç§»åŠ¨æ®µå¼€å‘ä¸åŒæŽ¥å£ æ•°æ®åº“åˆ†ç¦»ï¼šæ¯ä¸ªæœåŠ¡éƒ½ä½¿ç”¨è‡ªå·±çš„æ•°æ®æº éƒ¨ç½²ç‹¬ç«‹ï¼ŒæœåŠ¡é—´è™½ç„¶æœ‰è°ƒç”¨ï¼Œä½†è¦åšåˆ°æœåŠ¡é‡å¯ä¸å½±å“å…¶å®ƒæœåŠ¡ã€‚æœ‰åˆ©äºŽæŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ã€‚æ¯ä¸ªæœåŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„ç»„ä»¶ï¼Œå¯å¤ç”¨ï¼Œå¯æ›¿æ¢ï¼Œé™ä½Žè€¦åˆï¼Œæ˜“ç»´æŠ¤ å¾®æœåŠ¡ç»“æž„å›¾ï¼š 2.è¿œç¨‹è°ƒç”¨æ–¹å¼æ— è®ºæ˜¯å¾®æœåŠ¡è¿˜æ˜¯SOAï¼Œéƒ½é¢ä¸´ç€æœåŠ¡é—´çš„è¿œç¨‹è°ƒç”¨ã€‚é‚£ä¹ˆæœåŠ¡é—´çš„è¿œç¨‹è°ƒç”¨æ–¹å¼æœ‰å“ªäº›å‘¢ï¼Ÿ å¸¸è§çš„è¿œç¨‹è°ƒç”¨æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š RPCï¼šRemote Produce Callè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œç±»ä¼¼çš„è¿˜æœ‰RMIã€‚è‡ªå®šä¹‰æ•°æ®æ ¼å¼ï¼ŒåŸºäºŽåŽŸç”ŸTCPé€šä¿¡ï¼Œé€Ÿåº¦å¿«ï¼Œæ•ˆçŽ‡é«˜ã€‚æ—©æœŸçš„webserviceï¼ŒçŽ°åœ¨çƒ­é—¨çš„dubboï¼Œéƒ½æ˜¯RPCçš„å…¸åž‹ Httpï¼šhttpå…¶å®žæ˜¯ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼ŒåŸºäºŽTCPï¼Œè§„å®šäº†æ•°æ®ä¼ è¾“çš„æ ¼å¼ã€‚çŽ°åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸ŽæœåŠ¡ç«¯é€šä¿¡åŸºæœ¬éƒ½æ˜¯é‡‡ç”¨Httpåè®®ã€‚ä¹Ÿå¯ä»¥ç”¨æ¥è¿›è¡Œè¿œç¨‹æœåŠ¡è°ƒç”¨ã€‚ç¼ºç‚¹æ˜¯æ¶ˆæ¯å°è£…è‡ƒè‚¿ã€‚ çŽ°åœ¨çƒ­é—¨çš„Resté£Žæ ¼ï¼Œå°±å¯ä»¥é€šè¿‡httpåè®®æ¥å®žçŽ°ã€‚ 2.1.è®¤è¯†RPCRPCï¼Œå³ Remote Procedure Callï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰ï¼Œæ˜¯ä¸€ä¸ªè®¡ç®—æœºé€šä¿¡åè®®ã€‚ è¯¥åè®®å…è®¸è¿è¡ŒäºŽä¸€å°è®¡ç®—æœºçš„ç¨‹åºè°ƒç”¨å¦ä¸€å°è®¡ç®—æœºçš„å­ç¨‹åºï¼Œè€Œç¨‹åºå‘˜æ— éœ€é¢å¤–åœ°ä¸ºè¿™ä¸ªäº¤äº’ä½œç”¨ç¼–ç¨‹ã€‚è¯´å¾—é€šä¿—ä¸€ç‚¹å°±æ˜¯ï¼šAè®¡ç®—æœºæä¾›ä¸€ä¸ªæœåŠ¡ï¼ŒBè®¡ç®—æœºå¯ä»¥åƒè°ƒç”¨æœ¬åœ°æœåŠ¡é‚£æ ·è°ƒç”¨Aè®¡ç®—æœºçš„æœåŠ¡ã€‚ é€šè¿‡ä¸Šé¢çš„æ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå®žçŽ°RPCä¸»è¦æ˜¯åšåˆ°ä¸¤ç‚¹ï¼š å®žçŽ°è¿œç¨‹è°ƒç”¨å…¶ä»–è®¡ç®—æœºçš„æœåŠ¡ è¦å®žçŽ°è¿œç¨‹è°ƒç”¨ï¼Œè‚¯å®šæ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“æ•°æ®ã€‚Aç¨‹åºæä¾›æœåŠ¡ï¼ŒBç¨‹åºé€šè¿‡ç½‘ç»œå°†è¯·æ±‚å‚æ•°ä¼ é€’ç»™Aï¼ŒAæœ¬åœ°æ‰§è¡ŒåŽå¾—åˆ°ç»“æžœï¼Œå†å°†ç»“æžœè¿”å›žç»™Bç¨‹åºã€‚è¿™é‡Œéœ€è¦å…³æ³¨çš„æœ‰ä¸¤ç‚¹ï¼š 1ï¼‰é‡‡ç”¨ä½•ç§ç½‘ç»œé€šè®¯åè®®ï¼Ÿ çŽ°åœ¨æ¯”è¾ƒæµè¡Œçš„RPCæ¡†æž¶ï¼Œéƒ½ä¼šé‡‡ç”¨TCPä½œä¸ºåº•å±‚ä¼ è¾“åè®® 2ï¼‰æ•°æ®ä¼ è¾“çš„æ ¼å¼æ€Žæ ·ï¼Ÿ ä¸¤ä¸ªç¨‹åºè¿›è¡Œé€šè®¯ï¼Œå¿…é¡»çº¦å®šå¥½æ•°æ®ä¼ è¾“æ ¼å¼ã€‚å°±å¥½æ¯”ä¸¤ä¸ªäººèŠå¤©ï¼Œè¦ç”¨åŒä¸€ç§è¯­è¨€ï¼Œå¦åˆ™æ— æ³•æ²Ÿé€šã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¿…é¡»å®šä¹‰å¥½è¯·æ±‚å’Œå“åº”çš„æ ¼å¼ã€‚å¦å¤–ï¼Œæ•°æ®åœ¨ç½‘è·¯ä¸­ä¼ è¾“éœ€è¦è¿›è¡Œåºåˆ—åŒ–ï¼Œæ‰€ä»¥è¿˜éœ€è¦çº¦å®šç»Ÿä¸€çš„åºåˆ—åŒ–çš„æ–¹å¼ã€‚ åƒè°ƒç”¨æœ¬åœ°æœåŠ¡ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡ å¦‚æžœä»…ä»…æ˜¯è¿œç¨‹è°ƒç”¨ï¼Œè¿˜ä¸ç®—æ˜¯RPCï¼Œå› ä¸ºRPCå¼ºè°ƒçš„æ˜¯è¿‡ç¨‹è°ƒç”¨ï¼Œè°ƒç”¨çš„è¿‡ç¨‹å¯¹ç”¨æˆ·è€Œè¨€æ˜¯åº”è¯¥æ˜¯é€æ˜Žçš„ï¼Œç”¨æˆ·ä¸åº”è¯¥å…³å¿ƒè°ƒç”¨çš„ç»†èŠ‚ï¼Œå¯ä»¥åƒè°ƒç”¨æœ¬åœ°æœåŠ¡ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡ã€‚æ‰€ä»¥RPCä¸€å®šè¦å¯¹è°ƒç”¨çš„è¿‡ç¨‹è¿›è¡Œå°è£… RPCè°ƒç”¨æµç¨‹å›¾ï¼š æƒ³è¦äº†è§£è¯¦ç»†çš„RPCå®žçŽ°ï¼Œç»™å¤§å®¶æŽ¨èä¸€ç¯‡æ–‡ç« ï¼šè‡ªå·±åŠ¨æ‰‹å®žçŽ°RPC 2.2.è®¤è¯†HttpHttpåè®®ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯ä¸€ç§åº”ç”¨å±‚åè®®ã€‚è§„å®šäº†ç½‘ç»œä¼ è¾“çš„è¯·æ±‚æ ¼å¼ã€å“åº”æ ¼å¼ã€èµ„æºå®šä½å’Œæ“ä½œçš„æ–¹å¼ç­‰ã€‚ä½†æ˜¯åº•å±‚é‡‡ç”¨ä»€ä¹ˆç½‘ç»œä¼ è¾“åè®®ï¼Œå¹¶æ²¡æœ‰è§„å®šï¼Œä¸è¿‡çŽ°åœ¨éƒ½æ˜¯é‡‡ç”¨TCPåè®®ä½œä¸ºåº•å±‚ä¼ è¾“åè®®ã€‚è¯´åˆ°è¿™é‡Œï¼Œå¤§å®¶å¯èƒ½è§‰å¾—ï¼ŒHttpä¸ŽRPCçš„è¿œç¨‹è°ƒç”¨éžå¸¸åƒï¼Œéƒ½æ˜¯æŒ‰ç…§æŸç§è§„å®šå¥½çš„æ•°æ®æ ¼å¼è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œæœ‰è¯·æ±‚ï¼Œæœ‰å“åº”ã€‚æ²¡é”™ï¼Œåœ¨è¿™ç‚¹æ¥çœ‹ï¼Œä¸¤è€…éžå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›ç»†å¾®å·®åˆ«ã€‚ RPCå¹¶æ²¡æœ‰è§„å®šæ•°æ®ä¼ è¾“æ ¼å¼ï¼Œè¿™ä¸ªæ ¼å¼å¯ä»¥ä»»æ„æŒ‡å®šï¼Œä¸åŒçš„RPCåè®®ï¼Œæ•°æ®æ ¼å¼ä¸ä¸€å®šç›¸åŒã€‚ Httpä¸­è¿˜å®šä¹‰äº†èµ„æºå®šä½çš„è·¯å¾„ï¼ŒRPCä¸­å¹¶ä¸éœ€è¦ æœ€é‡è¦çš„ä¸€ç‚¹ï¼šRPCéœ€è¦æ»¡è¶³åƒè°ƒç”¨æœ¬åœ°æœåŠ¡ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡ï¼Œä¹Ÿå°±æ˜¯å¯¹è°ƒç”¨è¿‡ç¨‹åœ¨APIå±‚é¢è¿›è¡Œå°è£…ã€‚Httpåè®®æ²¡æœ‰è¿™æ ·çš„è¦æ±‚ï¼Œå› æ­¤è¯·æ±‚ã€å“åº”ç­‰ç»†èŠ‚éœ€è¦æˆ‘ä»¬è‡ªå·±åŽ»å®žçŽ°ã€‚ ä¼˜ç‚¹ï¼šRPCæ–¹å¼æ›´åŠ é€æ˜Žï¼Œå¯¹ç”¨æˆ·æ›´æ–¹ä¾¿ã€‚Httpæ–¹å¼æ›´çµæ´»ï¼Œæ²¡æœ‰è§„å®šAPIå’Œè¯­è¨€ï¼Œè·¨è¯­è¨€ã€è·¨å¹³å° ç¼ºç‚¹ï¼šRPCæ–¹å¼éœ€è¦åœ¨APIå±‚é¢è¿›è¡Œå°è£…ï¼Œé™åˆ¶äº†å¼€å‘çš„è¯­è¨€çŽ¯å¢ƒã€‚ ä¾‹å¦‚æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨è®¿é—®ç½‘ç«™ï¼Œå°±æ˜¯é€šè¿‡Httpåè®®ã€‚åªä¸è¿‡æµè§ˆå™¨æŠŠè¯·æ±‚å°è£…ï¼Œå‘èµ·è¯·æ±‚ä»¥åŠæŽ¥æ”¶å“åº”ï¼Œè§£æžå“åº”çš„äº‹æƒ…éƒ½å¸®æˆ‘ä»¬åšäº†ã€‚å¦‚æžœæ˜¯ä¸é€šè¿‡æµè§ˆå™¨ï¼Œé‚£ä¹ˆè¿™äº›äº‹æƒ…éƒ½éœ€è¦è‡ªå·±åŽ»å®Œæˆã€‚ 2.3.å¦‚ä½•é€‰æ‹©ï¼Ÿæ—¢ç„¶ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®žçŽ°è¿œç¨‹è°ƒç”¨ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ é€Ÿåº¦æ¥çœ‹ï¼ŒRPCè¦æ¯”httpæ›´å¿«ï¼Œè™½ç„¶åº•å±‚éƒ½æ˜¯TCPï¼Œä½†æ˜¯httpåè®®çš„ä¿¡æ¯å¾€å¾€æ¯”è¾ƒè‡ƒè‚¿ï¼Œä¸è¿‡å¯ä»¥é‡‡ç”¨gzipåŽ‹ç¼©ã€‚ éš¾åº¦æ¥çœ‹ï¼ŒRPCå®žçŽ°è¾ƒä¸ºå¤æ‚ï¼Œhttpç›¸å¯¹æ¯”è¾ƒç®€å• çµæ´»æ€§æ¥çœ‹ï¼Œhttpæ›´èƒœä¸€ç­¹ï¼Œå› ä¸ºå®ƒä¸å…³å¿ƒå®žçŽ°ç»†èŠ‚ï¼Œè·¨å¹³å°ã€è·¨è¯­è¨€ã€‚ å› æ­¤ï¼Œä¸¤è€…éƒ½æœ‰ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼š å¦‚æžœå¯¹æ•ˆçŽ‡è¦æ±‚æ›´é«˜ï¼Œå¹¶ä¸”å¼€å‘è¿‡ç¨‹ä½¿ç”¨ç»Ÿä¸€çš„æŠ€æœ¯æ ˆï¼Œé‚£ä¹ˆç”¨RPCè¿˜æ˜¯ä¸é”™çš„ã€‚ å¦‚æžœéœ€è¦æ›´åŠ çµæ´»ï¼Œè·¨è¯­è¨€ã€è·¨å¹³å°ï¼Œæ˜¾ç„¶httpæ›´åˆé€‚ é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€Žä¹ˆé€‰æ‹©å‘¢ï¼Ÿ å¾®æœåŠ¡ï¼Œæ›´åŠ å¼ºè°ƒçš„æ˜¯ç‹¬ç«‹ã€è‡ªæ²»ã€çµæ´»ã€‚è€ŒRPCæ–¹å¼çš„é™åˆ¶è¾ƒå¤šï¼Œå› æ­¤å¾®æœåŠ¡æ¡†æž¶ä¸­ï¼Œä¸€èˆ¬éƒ½ä¼šé‡‡ç”¨åŸºäºŽHttpçš„Resté£Žæ ¼æœåŠ¡ã€‚ 3.Httpå®¢æˆ·ç«¯å·¥å…·æ—¢ç„¶å¾®æœåŠ¡é€‰æ‹©äº†Httpï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦è€ƒè™‘è‡ªå·±æ¥å®žçŽ°å¯¹è¯·æ±‚å’Œå“åº”çš„å¤„ç†ã€‚ä¸è¿‡å¼€æºä¸–ç•Œå·²ç»æœ‰å¾ˆå¤šçš„httpå®¢æˆ·ç«¯å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åšè¿™äº›äº‹æƒ…ï¼Œä¾‹å¦‚ï¼š HttpClient OKHttp URLConnection æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸€èµ·äº†è§£ä¸€æ¬¾æ¯”è¾ƒæµè¡Œçš„å®¢æˆ·ç«¯å·¥å…·ï¼šHttpClient 3.1.HttpClient3.1.1.ä»‹ç»HttpClientæ˜¯Apacheå…¬å¸çš„äº§å“ï¼Œæ˜¯Http Componentsä¸‹çš„ä¸€ä¸ªç»„ä»¶ã€‚ å®˜ç½‘åœ°å€ï¼šhttp://hc.apache.org/index.html ç‰¹ç‚¹ï¼š åŸºäºŽæ ‡å‡†ã€çº¯å‡€çš„Javaè¯­è¨€ã€‚å®žçŽ°äº†Http1.0å’ŒHttp1.1 ä»¥å¯æ‰©å±•çš„é¢å‘å¯¹è±¡çš„ç»“æž„å®žçŽ°äº†Httpå…¨éƒ¨çš„æ–¹æ³•ï¼ˆGET, POST, PUT, DELETE, HEAD, OPTIONS, and TRACEï¼‰ æ”¯æŒHTTPSåè®®ã€‚ é€šè¿‡Httpä»£ç†å»ºç«‹é€æ˜Žçš„è¿žæŽ¥ã€‚ è‡ªåŠ¨å¤„ç†Set-Cookieä¸­çš„Cookieã€‚ 3.1.2.ä½¿ç”¨æˆ‘ä»¬å¯¼å…¥è¯¾å‰èµ„æ–™æä¾›çš„demoå·¥ç¨‹ï¼šã€Šhttp-demoã€‹ å‘èµ·getè¯·æ±‚ï¼š 123456@Testpublic void testGet() throws IOException &#123; HttpGet request = new HttpGet("http://www.baidu.com"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response);&#125; å‘èµ·Postè¯·æ±‚ï¼š 12345678@Testpublic void testPost() throws IOException &#123; HttpPost request = new HttpPost("http://www.oschina.net/"); request.setHeader("User-Agent", "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response);&#125; å°è¯•è®¿é—®æ˜¨å¤©ç¼–å†™çš„æŽ¥å£ï¼šhttp://localhost/hello è¿™ä¸ªæŽ¥å£è¿”å›žä¸€ä¸ªUserå¯¹è±¡ 123456@Testpublic void testGetPojo() throws IOException &#123; HttpGet request = new HttpGet("http://localhost/hello"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response);&#125; æˆ‘ä»¬å®žé™…å¾—åˆ°çš„æ˜¯ä¸€ä¸ªjsonå­—ç¬¦ä¸²ï¼š 123456789101112&#123; "id": 8, "userName": "liuyan", "password": "123456", "name": "æŸ³å²©", "age": 21, "sex": 2, "birthday": "1995-08-07T16:00:00.000+0000", "created": "2014-09-20T03:41:15.000+0000", "updated": "2014-09-20T03:41:15.000+0000", "note": "æŸ³å²©åŒå­¦åœ¨ä¼ æ™ºæ’­å®¢å­¦è¡¨æ¼”"&#125; å¦‚æžœæƒ³è¦å¾—åˆ°å¯¹è±¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ‰‹åŠ¨è¿›è¡ŒJsonååºåˆ—åŒ–ï¼Œè¿™ä¸€ç‚¹æ¯”è¾ƒéº»çƒ¦ã€‚ 3.1.3.Jsonè½¬æ¢å·¥å…·HttpClientè¯·æ±‚æ•°æ®åŽæ˜¯jsonå­—ç¬¦ä¸²ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æŠŠJsonå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºå¯¹è±¡ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨JacksonJsonå·¥å…·æ¥å®žçŽ°ã€‚ JacksonJsonæ˜¯SpringMVCå†…ç½®çš„jsonå¤„ç†å·¥å…·ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªObjectMapperç±»ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®žçŽ°å¯¹jsonçš„å¤„ç†ï¼š å¯¹è±¡è½¬json12345678910111213// jsonå¤„ç†å·¥å…· private ObjectMapper mapper = new ObjectMapper(); @Test public void testJson() throws JsonProcessingException &#123; User user = new User(); user.setId(8L); user.setAge(21); user.setName("æŸ³å²©"); user.setUserName("liuyan"); // åºåˆ—åŒ– String json = mapper.writeValueAsString(user); System.out.println("json = " + json); &#125; ç»“æžœï¼š jsonè½¬æ™®é€šå¯¹è±¡12345678910111213141516// jsonå¤„ç†å·¥å…·private ObjectMapper mapper = new ObjectMapper();@Testpublic void testJson() throws IOException &#123; User user = new User(); user.setId(8L); user.setAge(21); user.setName("æŸ³å²©"); user.setUserName("liuyan"); // åºåˆ—åŒ– String json = mapper.writeValueAsString(user); // ååºåˆ—åŒ–ï¼ŒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šjsonæ•°æ®ï¼Œååºåˆ—åŒ–çš„ç›®æ ‡ç±»å­—èŠ‚ç  User result = mapper.readValue(json, User.class); System.out.println("result = " + result);&#125; ç»“æžœï¼š jsonè½¬é›†åˆjsonè½¬é›†åˆæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºä½ æ— æ³•åŒæ—¶æŠŠé›†åˆçš„classå’Œå…ƒç´ çš„classåŒæ—¶ä¼ é€’åˆ°ä¸€ä¸ªå‚æ•°ã€‚ å› æ­¤Jacksonåšäº†ä¸€ä¸ªç±»åž‹å·¥åŽ‚ï¼Œç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š 12345678910111213141516171819// jsonå¤„ç†å·¥å…·private ObjectMapper mapper = new ObjectMapper();@Testpublic void testJson() throws IOException &#123; User user = new User(); user.setId(8L); user.setAge(21); user.setName("æŸ³å²©"); user.setUserName("liuyan"); // åºåˆ—åŒ–,å¾—åˆ°å¯¹è±¡é›†åˆçš„jsonå­—ç¬¦ä¸² String json = mapper.writeValueAsString(Arrays.asList(user, user)); // ååºåˆ—åŒ–ï¼ŒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šjsonæ•°æ®ï¼Œååºåˆ—åŒ–çš„ç›®æ ‡ç±»å­—èŠ‚ç  List&lt;User&gt; users = mapper.readValue(json, mapper.getTypeFactory().constructCollectionType(List.class, User.class)); for (User u : users) &#123; System.out.println("u = " + u); &#125;&#125; ç»“æžœï¼š jsonè½¬ä»»æ„å¤æ‚ç±»åž‹å½“å¯¹è±¡æ³›åž‹å…³ç³»å¤æ‚æ—¶ï¼Œç±»åž‹å·¥åŽ‚ä¹Ÿä¸å¥½ä½¿äº†ã€‚è¿™ä¸ªæ—¶å€™Jacksonæä¾›äº†TypeReferenceæ¥æŽ¥æ”¶ç±»åž‹æ³›åž‹ï¼Œç„¶åŽåº•å±‚é€šè¿‡åå°„æ¥èŽ·å–æ³›åž‹ä¸Šçš„å…·ä½“ç±»åž‹ã€‚å®žçŽ°æ•°æ®è½¬æ¢ã€‚ 12345678910111213141516171819// jsonå¤„ç†å·¥å…·private ObjectMapper mapper = new ObjectMapper();@Testpublic void testJson() throws IOException &#123; User user = new User(); user.setId(8L); user.setAge(21); user.setName("æŸ³å²©"); user.setUserName("liuyan"); // åºåˆ—åŒ–,å¾—åˆ°å¯¹è±¡é›†åˆçš„jsonå­—ç¬¦ä¸² String json = mapper.writeValueAsString(Arrays.asList(user, user)); // ååºåˆ—åŒ–ï¼ŒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šjsonæ•°æ®ï¼Œååºåˆ—åŒ–çš„ç›®æ ‡ç±»å­—èŠ‚ç  List&lt;User&gt; users = mapper.readValue(json, new TypeReference&lt;List&lt;User&gt;&gt;()&#123;&#125;); for (User u : users) &#123; System.out.println("u = " + u); &#125;&#125; ç»“æžœï¼š 3.3.Springçš„RestTemplateSpringæä¾›äº†ä¸€ä¸ªRestTemplateæ¨¡æ¿å·¥å…·ç±»ï¼Œå¯¹åŸºäºŽHttpçš„å®¢æˆ·ç«¯è¿›è¡Œäº†å°è£…ï¼Œå¹¶ä¸”å®žçŽ°äº†å¯¹è±¡ä¸Žjsonçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œéžå¸¸æ–¹ä¾¿ã€‚RestTemplateå¹¶æ²¡æœ‰é™å®šHttpçš„å®¢æˆ·ç«¯ç±»åž‹ï¼Œè€Œæ˜¯è¿›è¡Œäº†æŠ½è±¡ï¼Œç›®å‰å¸¸ç”¨çš„3ç§éƒ½æœ‰æ”¯æŒï¼š HttpClient OkHttp JDKåŽŸç”Ÿçš„URLConnectionï¼ˆé»˜è®¤çš„ï¼‰ é¦–å…ˆåœ¨é¡¹ç›®ä¸­æ³¨å†Œä¸€ä¸ªRestTemplateå¯¹è±¡ï¼Œå¯ä»¥åœ¨å¯åŠ¨ç±»ä½ç½®æ³¨å†Œï¼š 12345678910111213@SpringBootApplicationpublic class HttpDemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(HttpDemoApplication.class, args); &#125; @Bean public RestTemplate restTemplate() &#123; // é»˜è®¤çš„RestTemplateï¼Œåº•å±‚æ˜¯èµ°JDKçš„URLConnectionæ–¹å¼ã€‚ return new RestTemplate(); &#125;&#125; åœ¨æµ‹è¯•ç±»ä¸­ç›´æŽ¥@Autowiredæ³¨å…¥ï¼š 12345678910111213@RunWith(SpringRunner.class)@SpringBootTest(classes = HttpDemoApplication.class)public class HttpDemoApplicationTests &#123; @Autowired private RestTemplate restTemplate; @Test public void httpGet() &#123; User user = this.restTemplate.getForObject("http://localhost/hello", User.class); System.out.println(user); &#125;&#125; é€šè¿‡RestTemplateçš„getForObject()æ–¹æ³•ï¼Œä¼ é€’urlåœ°å€åŠå®žä½“ç±»çš„å­—èŠ‚ç ï¼ŒRestTemplateä¼šè‡ªåŠ¨å‘èµ·è¯·æ±‚ï¼ŒæŽ¥æ”¶å“åº”ï¼Œå¹¶ä¸”å¸®æˆ‘ä»¬å¯¹å“åº”ç»“æžœè¿›è¡Œååºåˆ—åŒ–ã€‚ å­¦ä¹ å®Œäº†Httpå®¢æˆ·ç«¯å·¥å…·ï¼ŒæŽ¥ä¸‹æ¥å°±å¯ä»¥æ­£å¼å­¦ä¹ å¾®æœåŠ¡äº†ã€‚ 4.åˆå§‹SpringCloudå¾®æœåŠ¡æ˜¯ä¸€ç§æž¶æž„æ–¹å¼ï¼Œæœ€ç»ˆè‚¯å®šéœ€è¦æŠ€æœ¯æž¶æž„åŽ»å®žæ–½ã€‚ å¾®æœåŠ¡çš„å®žçŽ°æ–¹å¼å¾ˆå¤šï¼Œä½†æ˜¯æœ€ç«çš„èŽ«è¿‡äºŽSpring Cloudäº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ åŽå°ç¡¬ï¼šä½œä¸ºSpringå®¶æ—çš„ä¸€å‘˜ï¼Œæœ‰æ•´ä¸ªSpringå…¨å®¶æ¡¶é å±±ï¼ŒèƒŒæ™¯ååˆ†å¼ºå¤§ã€‚ æŠ€æœ¯å¼ºï¼šSpringä½œä¸ºJavaé¢†åŸŸçš„å‰è¾ˆï¼Œå¯ä»¥è¯´æ˜¯åŠŸåŠ›æ·±åŽšã€‚æœ‰å¼ºåŠ›çš„æŠ€æœ¯å›¢é˜Ÿæ”¯æ’‘ï¼Œä¸€èˆ¬äººè¿˜çœŸæ¯”ä¸äº† ç¾¤ä¼—åŸºç¡€å¥½ï¼šå¯ä»¥è¯´å¤§å¤šæ•°ç¨‹åºå‘˜çš„æˆé•¿éƒ½ä¼´éšç€Springæ¡†æž¶ï¼Œè¯•é—®ï¼šçŽ°åœ¨æœ‰å‡ å®¶å…¬å¸å¼€å‘ä¸ç”¨Springï¼ŸSpringCloudä¸ŽSpringçš„å„ä¸ªæ¡†æž¶æ— ç¼æ•´åˆï¼Œå¯¹å¤§å®¶æ¥è¯´ä¸€åˆ‡éƒ½æ˜¯ç†Ÿæ‚‰çš„é…æ–¹ï¼Œç†Ÿæ‚‰çš„å‘³é“ã€‚ ä½¿ç”¨æ–¹ä¾¿ï¼šç›¸ä¿¡å¤§å®¶éƒ½ä½“ä¼šåˆ°äº†SpringBootç»™æˆ‘ä»¬å¼€å‘å¸¦æ¥çš„ä¾¿åˆ©ï¼Œè€ŒSpringCloudå®Œå…¨æ”¯æŒSpringBootçš„å¼€å‘ï¼Œç”¨å¾ˆå°‘çš„é…ç½®å°±èƒ½å®Œæˆå¾®æœåŠ¡æ¡†æž¶çš„æ­å»º 4.1.ç®€ä»‹SpringCloudæ˜¯Springæ——ä¸‹çš„é¡¹ç›®ä¹‹ä¸€ï¼Œå®˜ç½‘åœ°å€ï¼šhttp://projects.spring.io/spring-cloud/ Springæœ€æ“…é•¿çš„å°±æ˜¯é›†æˆï¼ŒæŠŠä¸–ç•Œä¸Šæœ€å¥½çš„æ¡†æž¶æ‹¿è¿‡æ¥ï¼Œé›†æˆåˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ã€‚ SpringCloudä¹Ÿæ˜¯ä¸€æ ·ï¼Œå®ƒå°†çŽ°åœ¨éžå¸¸æµè¡Œçš„ä¸€äº›æŠ€æœ¯æ•´åˆåˆ°ä¸€èµ·ï¼Œå®žçŽ°äº†è¯¸å¦‚ï¼šé…ç½®ç®¡ç†ï¼ŒæœåŠ¡å‘çŽ°ï¼Œæ™ºèƒ½è·¯ç”±ï¼Œè´Ÿè½½å‡è¡¡ï¼Œç†”æ–­å™¨ï¼ŒæŽ§åˆ¶æ€»çº¿ï¼Œé›†ç¾¤çŠ¶æ€ç­‰ç­‰åŠŸèƒ½ã€‚å…¶ä¸»è¦æ¶‰åŠçš„ç»„ä»¶åŒ…æ‹¬ï¼š netflix Eurekaï¼šæ³¨å†Œä¸­å¿ƒ Zuulï¼šæœåŠ¡ç½‘å…³ Ribbonï¼šè´Ÿè½½å‡è¡¡ Feignï¼šæœåŠ¡è°ƒç”¨ Hystixï¼šç†”æ–­å™¨ ä»¥ä¸Šåªæ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ï¼Œæž¶æž„å›¾ï¼š 4.2.ç‰ˆæœ¬SpringCloudçš„ç‰ˆæœ¬å‘½åæ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯è®¸å¤šç»„ä»¶çš„é›†åˆï¼Œå®ƒçš„å‘½åæ˜¯ä»¥Aåˆ°Zçš„ä¸ºé¦–å­—æ¯çš„ä¸€äº›å•è¯ç»„æˆï¼š æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ï¼Œä¼šæ˜¯ä»¥Finchleyçš„ç‰ˆæœ¬ã€‚ å…¶ä¸­åŒ…å«çš„ç»„ä»¶ï¼Œä¹Ÿéƒ½æœ‰å„è‡ªçš„ç‰ˆæœ¬ï¼Œå¦‚ä¸‹è¡¨ï¼š Component Edgware.SR3 Finchley.RC1 Finchley.BUILD-SNAPSHOT spring-cloud-aws 1.2.2.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-bus 1.3.2.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-cli 1.4.1.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-commons 1.3.3.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-contract 1.2.4.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-config 1.4.3.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-netflix 1.4.4.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-security 1.2.2.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-cloudfoundry 1.1.1.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-consul 1.3.3.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-sleuth 1.3.3.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-stream Ditmars.SR3 Elmhurst.RELEASE Elmhurst.BUILD-SNAPSHOT spring-cloud-zookeeper 1.2.1.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-boot 1.5.10.RELEASE 2.0.1.RELEASE 2.0.0.BUILD-SNAPSHOT spring-cloud-task 1.2.2.RELEASE 2.0.0.RC1 2.0.0.RELEASE spring-cloud-vault 1.1.0.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-gateway 1.0.1.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-openfeign 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸€ä¸€å­¦ä¹ SpringCloudä¸­çš„é‡è¦ç»„ä»¶ã€‚ 5.å¾®æœåŠ¡åœºæ™¯æ¨¡æ‹Ÿé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ¨¡æ‹Ÿä¸€ä¸ªæœåŠ¡è°ƒç”¨çš„åœºæ™¯ã€‚æ–¹ä¾¿åŽé¢å­¦ä¹ å¾®æœåŠ¡æž¶æž„ 5.1.æœåŠ¡æä¾›è€…æˆ‘ä»¬æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå¯¹å¤–æä¾›æŸ¥è¯¢ç”¨æˆ·çš„æœåŠ¡ã€‚ 5.1.1.Springè„šæ‰‹æž¶åˆ›å»ºå·¥ç¨‹å€ŸåŠ©äºŽSpringæä¾›çš„å¿«é€Ÿæ­å»ºå·¥å…·ï¼š å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼š æ·»åŠ webä¾èµ–ï¼š æ·»åŠ mybatisä¾èµ–ï¼š å¡«å†™é¡¹ç›®ä½ç½®ï¼š ç”Ÿæˆçš„é¡¹ç›®ç»“æž„ï¼š ä¾èµ–ä¹Ÿå·²ç»å…¨éƒ¨è‡ªåŠ¨å¼•å…¥ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.leyou.demo&lt;/groupId&gt; &lt;artifactId&gt;user-service-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;user-service-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; å½“ç„¶ï¼Œå› ä¸ºè¦ä½¿ç”¨é€šç”¨mapperï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åŠ ä¸€æ¡ä¾èµ–ï¼š 12345&lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.0.2&lt;/version&gt;&lt;/dependency&gt; éžå¸¸å¿«æ·å•Šï¼ 5.1.2.ç¼–å†™ä»£ç æ·»åŠ ä¸€ä¸ªå¯¹å¤–æŸ¥è¯¢çš„æŽ¥å£ï¼š 123456789101112@RestController@RequestMapping("user")public class UserController &#123; @Autowired private UserService userService; @GetMapping("/&#123;id&#125;") public User queryById(@PathVariable("id") Long id) &#123; return this.userService.queryById(id); &#125;&#125; Serviceï¼š 12345678910@Servicepublic class UserService &#123; @Autowired private UserMapper userMapper; public User queryById(Long id) &#123; return this.userMapper.selectByPrimaryKey(id); &#125;&#125; mapper: 123@Mapperpublic interface UserMapper extends tk.mybatis.mapper.common.Mapper&lt;User&gt;&#123;&#125; å®žä½“ç±»ï¼š 1234567891011121314151617181920212223242526272829303132333435363738@Table(name = "tb_user")public class User implements Serializable &#123; private static final long serialVersionUID = 1L; @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id; // ç”¨æˆ·å private String userName; // å¯†ç  private String password; // å§“å private String name; // å¹´é¾„ private Integer age; // æ€§åˆ«ï¼Œ1ç”·æ€§ï¼Œ2å¥³æ€§ private Integer sex; // å‡ºç”Ÿæ—¥æœŸ private Date birthday; // åˆ›å»ºæ—¶é—´ private Date created; // æ›´æ–°æ—¶é—´ private Date updated; // å¤‡æ³¨ private String note; // ã€‚ã€‚ã€‚çœç•¥getterså’Œsetters&#125; å±žæ€§æ–‡ä»¶,è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨äº†yamlè¯­æ³•ï¼Œè€Œä¸æ˜¯propertiesï¼š 123456789101112server: port: 8081spring: datasource: url: jdbc:mysql://localhost:3306/mydb01 username: root password: 123 hikari: maximum-pool-size: 20 minimum-idle: 10mybatis: type-aliases-package: com.leyou.userservice.pojo é¡¹ç›®ç»“æž„ï¼š 5.1.3.å¯åŠ¨å¹¶æµ‹è¯•ï¼šå¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®æŽ¥å£ï¼šhttp://localhost:8081/user/7 5.2.æœåŠ¡è°ƒç”¨è€…5.2.1.åˆ›å»ºå·¥ç¨‹ä¸Žä¸Šé¢ç±»ä¼¼ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è°ƒç”¨user-serviceçš„åŠŸèƒ½ï¼Œå› æ­¤ä¸éœ€è¦mybatisç›¸å…³ä¾èµ–äº†ã€‚ pomï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.leyou.demo&lt;/groupId&gt; &lt;artifactId&gt;user-consumer-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;user-consumer-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- æ·»åŠ OkHttpæ”¯æŒ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;version&gt;3.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 5.2.2.ç¼–å†™ä»£ç é¦–å…ˆåœ¨å¯åŠ¨ç±»ä¸­æ³¨å†ŒRestTemplateï¼š 12345678910111213@SpringBootApplicationpublic class UserConsumerDemoApplication &#123; @Bean public RestTemplate restTemplate() &#123; // è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨äº†OkHttpå®¢æˆ·ç«¯,åªéœ€è¦æ³¨å…¥å·¥åŽ‚å³å¯ return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); &#125; public static void main(String[] args) &#123; SpringApplication.run(UserConsumerDemoApplication.class, args); &#125;&#125; ç„¶åŽç¼–å†™UserDaoï¼Œæ³¨æ„ï¼Œè¿™é‡Œä¸æ˜¯è°ƒç”¨mapperæŸ¥æ•°æ®åº“ï¼Œè€Œæ˜¯é€šè¿‡RestTemplateè¿œç¨‹æŸ¥è¯¢user-service-demoä¸­çš„æŽ¥å£ï¼š 1234567891011@Componentpublic class UserDao &#123; @Autowired private RestTemplate restTemplate; public User queryUserById(Long id)&#123; String url = "http://localhost:8081/user/" + id; return this.restTemplate.getForObject(url, User.class); &#125;&#125; ç„¶åŽç¼–å†™user-serviceï¼Œå¾ªçŽ¯æŸ¥è¯¢UserDAOä¿¡æ¯ï¼š 123456789101112131415@Servicepublic class UserService &#123; @Autowired private UserDao userDao; public List&lt;User&gt; querUserByIds(List&lt;Long&gt; ids)&#123; List&lt;User&gt; users = new ArrayList&lt;&gt;(); for (Long id : ids) &#123; User user = this.userDao.queryUserById(id); users.add(user); &#125; return users; &#125;&#125; ç¼–å†™controllerï¼š 123456789101112@RestController@RequestMapping("consume")public class ConsumerController &#123; @Autowired private UserService userService; @GetMapping public List&lt;User&gt; consume(@RequestParam("ids") List&lt;Long&gt; ids) &#123; return this.userService.queryUserByIds(ids); &#125;&#125; 5.2.3.å¯åŠ¨æµ‹è¯•ï¼šå› ä¸ºæˆ‘ä»¬æ²¡æœ‰é…ç½®ç«¯å£ï¼Œé‚£ä¹ˆé»˜è®¤å°±æ˜¯8080ï¼Œæˆ‘ä»¬è®¿é—®ï¼šhttp://localhost:8080/consume?ids=6,7,8 ä¸€ä¸ªç®€å•çš„è¿œç¨‹æœåŠ¡è°ƒç”¨æ¡ˆä¾‹å°±å®žçŽ°äº†ã€‚ 5.3.æœ‰æ²¡æœ‰é—®é¢˜ï¼Ÿç®€å•å›žé¡¾ä¸€ä¸‹ï¼Œåˆšæ‰æˆ‘ä»¬å†™äº†ä»€ä¹ˆï¼š use-service-demoï¼šä¸€ä¸ªæä¾›æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·çš„å¾®æœåŠ¡ consumer-demoï¼šä¸€ä¸ªæœåŠ¡è°ƒç”¨è€…ï¼Œé€šè¿‡RestTemplateè¿œç¨‹è°ƒç”¨user-service-demo æµç¨‹å¦‚ä¸‹ï¼š å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ åœ¨consumerä¸­ï¼Œæˆ‘ä»¬æŠŠurlåœ°å€ç¡¬ç¼–ç åˆ°äº†ä»£ç ä¸­ï¼Œä¸æ–¹ä¾¿åŽæœŸç»´æŠ¤ consumeréœ€è¦è®°å¿†user-serviceçš„åœ°å€ï¼Œå¦‚æžœå‡ºçŽ°å˜æ›´ï¼Œå¯èƒ½å¾—ä¸åˆ°é€šçŸ¥ï¼Œåœ°å€å°†å¤±æ•ˆ consumerä¸æ¸…æ¥šuser-serviceçš„çŠ¶æ€ï¼ŒæœåŠ¡å®•æœºä¹Ÿä¸çŸ¥é“ user-serviceåªæœ‰1å°æœåŠ¡ï¼Œä¸å…·å¤‡é«˜å¯ç”¨æ€§ å³ä¾¿user-serviceå½¢æˆé›†ç¾¤ï¼Œconsumerè¿˜éœ€è‡ªå·±å®žçŽ°è´Ÿè½½å‡è¡¡ å…¶å®žä¸Šé¢è¯´çš„é—®é¢˜ï¼Œæ¦‚æ‹¬ä¸€ä¸‹å°±æ˜¯åˆ†å¸ƒå¼æœåŠ¡å¿…ç„¶è¦é¢ä¸´çš„é—®é¢˜ï¼š æœåŠ¡ç®¡ç† å¦‚ä½•è‡ªåŠ¨æ³¨å†Œå’Œå‘çŽ° å¦‚ä½•å®žçŽ°çŠ¶æ€ç›‘ç®¡ å¦‚ä½•å®žçŽ°åŠ¨æ€è·¯ç”± æœåŠ¡å¦‚ä½•å®žçŽ°è´Ÿè½½å‡è¡¡ æœåŠ¡å¦‚ä½•è§£å†³å®¹ç¾é—®é¢˜ æœåŠ¡å¦‚ä½•å®žçŽ°ç»Ÿä¸€é…ç½® ä»¥ä¸Šçš„é—®é¢˜ï¼Œæˆ‘ä»¬éƒ½å°†åœ¨SpringCloudä¸­å¾—åˆ°ç­”æ¡ˆã€‚ 6.Eurekaæ³¨å†Œä¸­å¿ƒ6.1.è®¤è¯†Eurekaé¦–å…ˆæˆ‘ä»¬æ¥è§£å†³ç¬¬ä¸€é—®é¢˜ï¼ŒæœåŠ¡çš„ç®¡ç†ã€‚ é—®é¢˜åˆ†æž åœ¨åˆšæ‰çš„æ¡ˆä¾‹ä¸­ï¼Œuser-serviceå¯¹å¤–æä¾›æœåŠ¡ï¼Œéœ€è¦å¯¹å¤–æš´éœ²è‡ªå·±çš„åœ°å€ã€‚è€Œconsumerï¼ˆè°ƒç”¨è€…ï¼‰éœ€è¦è®°å½•æœåŠ¡æä¾›è€…çš„åœ°å€ã€‚å°†æ¥åœ°å€å‡ºçŽ°å˜æ›´ï¼Œè¿˜éœ€è¦åŠæ—¶æ›´æ–°ã€‚è¿™åœ¨æœåŠ¡è¾ƒå°‘çš„æ—¶å€™å¹¶ä¸è§‰å¾—æœ‰ä»€ä¹ˆï¼Œä½†æ˜¯åœ¨çŽ°åœ¨æ—¥ç›Šå¤æ‚çš„äº’è”ç½‘çŽ¯å¢ƒï¼Œä¸€ä¸ªé¡¹ç›®è‚¯å®šä¼šæ‹†åˆ†å‡ºåå‡ ï¼Œç”šè‡³æ•°åä¸ªå¾®æœåŠ¡ã€‚æ­¤æ—¶å¦‚æžœè¿˜äººä¸ºç®¡ç†åœ°å€ï¼Œä¸ä»…å¼€å‘å›°éš¾ï¼Œå°†æ¥æµ‹è¯•ã€å‘å¸ƒä¸Šçº¿éƒ½ä¼šéžå¸¸éº»çƒ¦ï¼Œè¿™ä¸ŽDevOpsçš„æ€æƒ³æ˜¯èƒŒé“è€Œé©°çš„ã€‚ ç½‘çº¦è½¦ è¿™å°±å¥½æ¯”æ˜¯ ç½‘çº¦è½¦å‡ºçŽ°ä»¥å‰ï¼Œäººä»¬å‡ºé—¨å«è½¦åªèƒ½å«å‡ºç§Ÿè½¦ã€‚ä¸€äº›ç§å®¶è½¦æƒ³åšå‡ºç§Ÿå´æ²¡æœ‰èµ„æ ¼ï¼Œè¢«ç§°ä¸ºé»‘è½¦ã€‚è€Œå¾ˆå¤šäººæƒ³è¦çº¦è½¦ï¼Œä½†æ˜¯æ— å¥ˆå‡ºç§Ÿè½¦å¤ªå°‘ï¼Œä¸æ–¹ä¾¿ã€‚ç§å®¶è½¦å¾ˆå¤šå´ä¸æ•¢æ‹¦ï¼Œè€Œä¸”æ»¡å¤§è¡—çš„è½¦ï¼Œè°çŸ¥é“å“ªä¸ªæ‰æ˜¯æ„¿æ„è½½äººçš„ã€‚ä¸€ä¸ªæƒ³è¦ï¼Œä¸€ä¸ªæ„¿æ„ç»™ï¼Œå°±æ˜¯ç¼ºå°‘å¼•å­ï¼Œç¼ºä¹ç®¡ç†å•Šã€‚ æ­¤æ—¶æ»´æ»´è¿™æ ·çš„ç½‘çº¦è½¦å¹³å°å‡ºçŽ°äº†ï¼Œæ‰€æœ‰æƒ³è½½å®¢çš„ç§å®¶è½¦å…¨éƒ¨åˆ°æ»´æ»´æ³¨å†Œï¼Œè®°å½•ä½ çš„è½¦åž‹ï¼ˆæœåŠ¡ç±»åž‹ï¼‰ï¼Œèº«ä»½ä¿¡æ¯ï¼ˆè”ç³»æ–¹å¼ï¼‰ã€‚è¿™æ ·æä¾›æœåŠ¡çš„ç§å®¶è½¦ï¼Œåœ¨æ»´æ»´é‚£é‡Œéƒ½èƒ½æ‰¾åˆ°ï¼Œä¸€ç›®äº†ç„¶ã€‚ æ­¤æ—¶è¦å«è½¦çš„äººï¼Œåªéœ€è¦æ‰“å¼€APPï¼Œè¾“å…¥ä½ çš„ç›®çš„åœ°ï¼Œé€‰æ‹©è½¦åž‹ï¼ˆæœåŠ¡ç±»åž‹ï¼‰ï¼Œæ»´æ»´è‡ªåŠ¨å®‰æŽ’ä¸€ä¸ªç¬¦åˆéœ€æ±‚çš„è½¦åˆ°ä½ é¢å‰ï¼Œä¸ºä½ æœåŠ¡ï¼Œå®Œç¾Žï¼ Eurekaåšä»€ä¹ˆï¼Ÿ Eurekaå°±å¥½æ¯”æ˜¯æ»´æ»´ï¼Œè´Ÿè´£ç®¡ç†ã€è®°å½•æœåŠ¡æä¾›è€…çš„ä¿¡æ¯ã€‚æœåŠ¡è°ƒç”¨è€…æ— éœ€è‡ªå·±å¯»æ‰¾æœåŠ¡ï¼Œè€Œæ˜¯æŠŠè‡ªå·±çš„éœ€æ±‚å‘Šè¯‰Eurekaï¼Œç„¶åŽEurekaä¼šæŠŠç¬¦åˆä½ éœ€æ±‚çš„æœåŠ¡å‘Šè¯‰ä½ ã€‚ åŒæ—¶ï¼ŒæœåŠ¡æä¾›æ–¹ä¸ŽEurekaä¹‹é—´é€šè¿‡â€œå¿ƒè·³â€æœºåˆ¶è¿›è¡Œç›‘æŽ§ï¼Œå½“æŸä¸ªæœåŠ¡æä¾›æ–¹å‡ºçŽ°é—®é¢˜ï¼ŒEurekaè‡ªç„¶ä¼šæŠŠå®ƒä»ŽæœåŠ¡åˆ—è¡¨ä¸­å‰”é™¤ã€‚ è¿™å°±å®žçŽ°äº†æœåŠ¡çš„è‡ªåŠ¨æ³¨å†Œã€å‘çŽ°ã€çŠ¶æ€ç›‘æŽ§ã€‚ 6.2.åŽŸç†å›¾ åŸºæœ¬æž¶æž„ï¼š Eurekaï¼šå°±æ˜¯æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªé›†ç¾¤ï¼‰ï¼Œå¯¹å¤–æš´éœ²è‡ªå·±çš„åœ°å€ æä¾›è€…ï¼šå¯åŠ¨åŽå‘Eurekaæ³¨å†Œè‡ªå·±ä¿¡æ¯ï¼ˆåœ°å€ï¼Œæä¾›ä»€ä¹ˆæœåŠ¡ï¼‰ æ¶ˆè´¹è€…ï¼šå‘Eurekaè®¢é˜…æœåŠ¡ï¼ŒEurekaä¼šå°†å¯¹åº”æœåŠ¡çš„æ‰€æœ‰æä¾›è€…åœ°å€åˆ—è¡¨å‘é€ç»™æ¶ˆè´¹è€…ï¼Œå¹¶ä¸”å®šæœŸæ›´æ–° å¿ƒè·³(ç»­çº¦)ï¼šæä¾›è€…å®šæœŸé€šè¿‡httpæ–¹å¼å‘Eurekaåˆ·æ–°è‡ªå·±çš„çŠ¶æ€ 6.3.å…¥é—¨æ¡ˆä¾‹6.3.1.ç¼–å†™EurekaServeræŽ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå¯åŠ¨ä¸€ä¸ªEurekaServerï¼š ä¾ç„¶ä½¿ç”¨springæä¾›çš„å¿«é€Ÿæ­å»ºå·¥å…·ï¼š é€‰æ‹©ä¾èµ–ï¼š å®Œæ•´çš„Pomæ–‡ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.leyou.demo&lt;/groupId&gt; &lt;artifactId&gt;eureka-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;eureka-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;!-- SpringCloudç‰ˆæœ¬ï¼Œæ˜¯æœ€æ–°çš„Fç³»åˆ— --&gt; &lt;spring-cloud.version&gt;Finchley.RC1&lt;/spring-cloud.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- EurekaæœåŠ¡ç«¯ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;!-- SpringCloudä¾èµ–ï¼Œä¸€å®šè¦æ”¾åˆ°dependencyManagementä¸­ï¼Œèµ·åˆ°ç®¡ç†ç‰ˆæœ¬çš„ä½œç”¨å³å¯ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;spring-milestones&lt;/id&gt; &lt;name&gt;Spring Milestones&lt;/name&gt; &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt; &lt;/repositories&gt;&lt;/project&gt; ç¼–å†™å¯åŠ¨ç±»ï¼š 12345678@SpringBootApplication@EnableEurekaServer // å£°æ˜Žè¿™ä¸ªåº”ç”¨æ˜¯ä¸€ä¸ªEurekaServerpublic class EurekaDemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(EurekaDemoApplication.class, args); &#125;&#125; ç¼–å†™é…ç½®ï¼š 1234567891011server: port: 10086 # ç«¯å£spring: application: name: eureka-server # åº”ç”¨åç§°ï¼Œä¼šåœ¨Eurekaä¸­æ˜¾ç¤ºeureka: client: register-with-eureka: false # æ˜¯å¦æ³¨å†Œè‡ªå·±çš„ä¿¡æ¯åˆ°EurekaServerï¼Œé»˜è®¤æ˜¯true fetch-registry: false # æ˜¯å¦æ‹‰å–å…¶å®ƒæœåŠ¡çš„ä¿¡æ¯ï¼Œé»˜è®¤æ˜¯true service-url: # EurekaServerçš„åœ°å€ï¼ŒçŽ°åœ¨æ˜¯è‡ªå·±çš„åœ°å€ï¼Œå¦‚æžœæ˜¯é›†ç¾¤ï¼Œéœ€è¦åŠ ä¸Šå…¶å®ƒServerçš„åœ°å€ã€‚ defaultZone: http://127.0.0.1:$&#123;server.port&#125;/eureka å¯åŠ¨æœåŠ¡ï¼Œå¹¶è®¿é—®ï¼šhttp://127.0.0.1:10086/eureka 6.3.2.å°†user-serviceæ³¨å†Œåˆ°Eurekaæ³¨å†ŒæœåŠ¡ï¼Œå°±æ˜¯åœ¨æœåŠ¡ä¸Šæ·»åŠ Eurekaçš„å®¢æˆ·ç«¯ä¾èµ–ï¼Œå®¢æˆ·ç«¯ä»£ç ä¼šè‡ªåŠ¨æŠŠæœåŠ¡æ³¨å†Œåˆ°EurekaServerä¸­ã€‚ æˆ‘ä»¬åœ¨user-service-demoä¸­æ·»åŠ Eurekaå®¢æˆ·ç«¯ä¾èµ–ï¼š å…ˆæ·»åŠ SpringCloudä¾èµ–ï¼š 1234567891011121314151617181920212223&lt;!-- SpringCloudçš„ä¾èµ– --&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Finchley.RC1&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;!-- Springçš„ä»“åº“åœ°å€ --&gt;&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;spring-milestones&lt;/id&gt; &lt;name&gt;Spring Milestones&lt;/name&gt; &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt;&lt;/repositories&gt; ç„¶åŽæ˜¯Eurekaå®¢æˆ·ç«¯ï¼š 12345&lt;!-- Eurekaå®¢æˆ·ç«¯ --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;&lt;/dependency&gt; åœ¨å¯åŠ¨ç±»ä¸Šå¼€å¯Eurekaå®¢æˆ·ç«¯åŠŸèƒ½ é€šè¿‡æ·»åŠ @EnableDiscoveryClientæ¥å¼€å¯Eurekaå®¢æˆ·ç«¯åŠŸèƒ½ 1234567@SpringBootApplication@EnableDiscoveryClient // å¼€å¯EurekaClientåŠŸèƒ½public class UserServiceDemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(UserServiceDemoApplication.class, args); &#125;&#125; ç¼–å†™é…ç½® 123456789101112131415161718192021server: port: 8081spring: datasource: url: jdbc:mysql://localhost:3306/mydb01 username: root password: 123 hikari: maximum-pool-size: 20 minimum-idle: 10 application: name: user-service # åº”ç”¨åç§°mybatis: type-aliases-package: com.leyou.userservice.pojoeureka: client: service-url: # EurekaServeråœ°å€ defaultZone: http://127.0.0.1:10086/eureka instance: prefer-ip-address: true # å½“è°ƒç”¨getHostnameèŽ·å–å®žä¾‹çš„hostnameæ—¶ï¼Œè¿”å›žipè€Œä¸æ˜¯hoståç§° ip-address: 127.0.0.1 # æŒ‡å®šè‡ªå·±çš„ipä¿¡æ¯ï¼Œä¸æŒ‡å®šçš„è¯ä¼šè‡ªå·±å¯»æ‰¾ æ³¨æ„ï¼š è¿™é‡Œæˆ‘ä»¬æ·»åŠ äº†spring.application.nameå±žæ€§æ¥æŒ‡å®šåº”ç”¨åç§°ï¼Œå°†æ¥ä¼šä½œä¸ºåº”ç”¨çš„idä½¿ç”¨ã€‚ ä¸ç”¨æŒ‡å®šregister-with-eurekaå’Œfetch-registryï¼Œå› ä¸ºé»˜è®¤æ˜¯true é‡å¯é¡¹ç›®ï¼Œè®¿é—®Eurekaç›‘æŽ§é¡µé¢æŸ¥çœ‹ æˆ‘ä»¬å‘çŽ°user-serviceæœåŠ¡å·²ç»æ³¨å†ŒæˆåŠŸäº† 6.3.3.æ¶ˆè´¹è€…ä»ŽEurekaèŽ·å–æœåŠ¡æŽ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹consumer-demoï¼Œå°è¯•ä»ŽEurekaServerèŽ·å–æœåŠ¡ã€‚ æ–¹æ³•ä¸Žæ¶ˆè´¹è€…ç±»ä¼¼ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­æ·»åŠ EurekaClientä¾èµ–ï¼Œå°±å¯ä»¥é€šè¿‡æœåŠ¡åç§°æ¥èŽ·å–ä¿¡æ¯äº†ï¼ 1ï¼‰æ·»åŠ ä¾èµ–ï¼š å…ˆæ·»åŠ SpringCloudä¾èµ–ï¼š 1234567891011121314151617181920212223&lt;!-- SpringCloudçš„ä¾èµ– --&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Finchley.RC1&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;!-- Springçš„ä»“åº“åœ°å€ --&gt;&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;spring-milestones&lt;/id&gt; &lt;name&gt;Spring Milestones&lt;/name&gt; &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt;&lt;/repositories&gt; ç„¶åŽæ˜¯Eurekaå®¢æˆ·ç«¯ï¼š 12345&lt;!-- Eurekaå®¢æˆ·ç«¯ --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;&lt;/dependency&gt; 2ï¼‰åœ¨å¯åŠ¨ç±»å¼€å¯Eurekaå®¢æˆ·ç«¯ 1234567891011@SpringBootApplication@EnableDiscoveryClient // å¼€å¯Eurekaå®¢æˆ·ç«¯public class UserConsumerDemoApplication &#123; @Bean public RestTemplate restTemplate() &#123; return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); &#125; public static void main(String[] args) &#123; SpringApplication.run(UserConsumerDemoApplication.class, args); &#125;&#125; 3ï¼‰ä¿®æ”¹é…ç½®ï¼š 123456789101112server: port: 8080spring: application: name: consumer # åº”ç”¨åç§°eureka: client: service-url: # EurekaServeråœ°å€ defaultZone: http://127.0.0.1:10086/eureka instance: prefer-ip-address: true # å½“å…¶å®ƒæœåŠ¡èŽ·å–åœ°å€æ—¶æä¾›ipè€Œä¸æ˜¯hostname ip-address: 127.0.0.1 # æŒ‡å®šè‡ªå·±çš„ipä¿¡æ¯ï¼Œä¸æŒ‡å®šçš„è¯ä¼šè‡ªå·±å¯»æ‰¾ 4ï¼‰ä¿®æ”¹ä»£ç ï¼Œç”¨DiscoveryClientç±»çš„æ–¹æ³•ï¼Œæ ¹æ®æœåŠ¡åç§°ï¼ŒèŽ·å–æœåŠ¡å®žä¾‹ï¼š 12345678910111213141516171819202122232425262728293031@Servicepublic class UserService &#123; @Autowired private RestTemplate restTemplate; @Autowired private DiscoveryClient discoveryClient;// Eurekaå®¢æˆ·ç«¯ï¼Œå¯ä»¥èŽ·å–åˆ°æœåŠ¡å®žä¾‹ä¿¡æ¯ public List&lt;User&gt; queryUserByIds(List&lt;Long&gt; ids) &#123; List&lt;User&gt; users = new ArrayList&lt;&gt;(); // String baseUrl = "http://localhost:8081/user/"; // æ ¹æ®æœåŠ¡åç§°ï¼ŒèŽ·å–æœåŠ¡å®žä¾‹ List&lt;ServiceInstance&gt; instances = discoveryClient.getInstances("user-service"); // å› ä¸ºåªæœ‰ä¸€ä¸ªUserService,å› æ­¤æˆ‘ä»¬ç›´æŽ¥get(0)èŽ·å– ServiceInstance instance = instances.get(0); // èŽ·å–ipå’Œç«¯å£ä¿¡æ¯ String baseUrl = "http://"+instance.getHost() + ":" + instance.getPort()+"/user/"; ids.forEach(id -&gt; &#123; // æˆ‘ä»¬æµ‹è¯•å¤šæ¬¡æŸ¥è¯¢ï¼Œ users.add(this.restTemplate.getForObject(baseUrl + id, User.class)); // æ¯æ¬¡é—´éš”500æ¯«ç§’ try &#123; Thread.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); return users; &#125;&#125; 5ï¼‰Debugè·Ÿè¸ªè¿è¡Œï¼š ç”Ÿæˆçš„URLï¼š è®¿é—®ç»“æžœï¼š 6.4.Eurekaè¯¦è§£æŽ¥ä¸‹æ¥æˆ‘ä»¬è¯¦ç»†è®²è§£Eurekaçš„åŽŸç†åŠé…ç½®ã€‚ 6.4.1.åŸºç¡€æž¶æž„Eurekaæž¶æž„ä¸­çš„ä¸‰ä¸ªæ ¸å¿ƒè§’è‰²ï¼š æœåŠ¡æ³¨å†Œä¸­å¿ƒ Eurekaçš„æœåŠ¡ç«¯åº”ç”¨ï¼Œæä¾›æœåŠ¡æ³¨å†Œå’Œå‘çŽ°åŠŸèƒ½ï¼Œå°±æ˜¯åˆšåˆšæˆ‘ä»¬å»ºç«‹çš„eureka-demo æœåŠ¡æä¾›è€… æä¾›æœåŠ¡çš„åº”ç”¨ï¼Œå¯ä»¥æ˜¯SpringBootåº”ç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒä»»æ„æŠ€æœ¯å®žçŽ°ï¼Œåªè¦å¯¹å¤–æä¾›çš„æ˜¯Resté£Žæ ¼æœåŠ¡å³å¯ã€‚æœ¬ä¾‹ä¸­å°±æ˜¯æˆ‘ä»¬å®žçŽ°çš„user-service-demo æœåŠ¡æ¶ˆè´¹è€… æ¶ˆè´¹åº”ç”¨ä»Žæ³¨å†Œä¸­å¿ƒèŽ·å–æœåŠ¡åˆ—è¡¨ï¼Œä»Žè€Œå¾—çŸ¥æ¯ä¸ªæœåŠ¡æ–¹çš„ä¿¡æ¯ï¼ŒçŸ¥é“åŽ»å“ªé‡Œè°ƒç”¨æœåŠ¡æ–¹ã€‚æœ¬ä¾‹ä¸­å°±æ˜¯æˆ‘ä»¬å®žçŽ°çš„consumer-demo 6.4.2.é«˜å¯ç”¨çš„Eureka ServerEureka Serverå³æœåŠ¡çš„æ³¨å†Œä¸­å¿ƒï¼Œåœ¨åˆšæ‰çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªEurekaServerï¼Œäº‹å®žä¸ŠEurekaServerä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªé›†ç¾¤ï¼Œå½¢æˆé«˜å¯ç”¨çš„Eurekaä¸­å¿ƒã€‚ æœåŠ¡åŒæ­¥ å¤šä¸ªEureka Serverä¹‹é—´ä¹Ÿä¼šäº’ç›¸æ³¨å†Œä¸ºæœåŠ¡ï¼Œå½“æœåŠ¡æä¾›è€…æ³¨å†Œåˆ°Eureka Serveré›†ç¾¤ä¸­çš„æŸä¸ªèŠ‚ç‚¹æ—¶ï¼Œè¯¥èŠ‚ç‚¹ä¼šæŠŠæœåŠ¡çš„ä¿¡æ¯åŒæ­¥ç»™é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œä»Žè€Œå®žçŽ°æ•°æ®åŒæ­¥ã€‚å› æ­¤ï¼Œæ— è®ºå®¢æˆ·ç«¯è®¿é—®åˆ°Eureka Serveré›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéƒ½å¯ä»¥èŽ·å–åˆ°å®Œæ•´çš„æœåŠ¡åˆ—è¡¨ä¿¡æ¯ã€‚ åŠ¨æ‰‹æ­å»ºé«˜å¯ç”¨çš„EurekaServer æˆ‘ä»¬å‡è®¾è¦æ­å»ºä¸¤æ¡EurekaServerçš„é›†ç¾¤ï¼Œç«¯å£åˆ†åˆ«ä¸ºï¼š10086å’Œ10087 1ï¼‰æˆ‘ä»¬ä¿®æ”¹åŽŸæ¥çš„EurekaServeré…ç½®ï¼š 123456789server: port: 10086 # ç«¯å£spring: application: name: eureka-server # åº”ç”¨åç§°ï¼Œä¼šåœ¨Eurekaä¸­æ˜¾ç¤ºeureka: client: service-url: # é…ç½®å…¶ä»–EurekaæœåŠ¡çš„åœ°å€ï¼Œè€Œä¸æ˜¯è‡ªå·±ï¼Œæ¯”å¦‚10087 defaultZone: http://127.0.0.1:10087/eureka æ‰€è°“çš„é«˜å¯ç”¨æ³¨å†Œä¸­å¿ƒï¼Œå…¶å®žå°±æ˜¯æŠŠEurekaServerè‡ªå·±ä¹Ÿä½œä¸ºä¸€ä¸ªæœåŠ¡è¿›è¡Œæ³¨å†Œï¼Œè¿™æ ·å¤šä¸ªEurekaServerä¹‹é—´å°±èƒ½äº’ç›¸å‘çŽ°å¯¹æ–¹ï¼Œä»Žè€Œå½¢æˆé›†ç¾¤ã€‚å› æ­¤æˆ‘ä»¬åšäº†ä»¥ä¸‹ä¿®æ”¹ï¼š åˆ é™¤äº†register-with-eureka=falseå’Œfetch-registry=falseä¸¤ä¸ªé…ç½®ã€‚å› ä¸ºé»˜è®¤å€¼æ˜¯trueï¼Œè¿™æ ·å°±ä¼šå§è‡ªå·±æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒäº†ã€‚ æŠŠservice-urlçš„å€¼æ”¹æˆäº†å¦å¤–ä¸€å°EurekaServerçš„åœ°å€ï¼Œè€Œä¸æ˜¯è‡ªå·± 2ï¼‰å¦å¤–ä¸€å°é…ç½®æ°å¥½ç›¸åï¼š 123456789server: port: 10087 # ç«¯å£spring: application: name: eureka-server # åº”ç”¨åç§°ï¼Œä¼šåœ¨Eurekaä¸­æ˜¾ç¤ºeureka: client: service-url: # é…ç½®å…¶ä»–EurekaæœåŠ¡çš„åœ°å€ï¼Œè€Œä¸æ˜¯è‡ªå·±ï¼Œæ¯”å¦‚10087 defaultZone: http://127.0.0.1:10086/eureka æ³¨æ„ï¼šideaä¸­ä¸€ä¸ªåº”ç”¨ä¸èƒ½å¯åŠ¨ä¸¤æ¬¡ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°é…ç½®ä¸€ä¸ªå¯åŠ¨å™¨ï¼š ç„¶åŽå¯åŠ¨å³å¯ã€‚ 3ï¼‰å¯åŠ¨æµ‹è¯•ï¼š 4ï¼‰å®¢æˆ·ç«¯æ³¨å†ŒæœåŠ¡åˆ°é›†ç¾¤ å› ä¸ºEurekaServerä¸æ­¢ä¸€ä¸ªï¼Œå› æ­¤æ³¨å†ŒæœåŠ¡çš„æ—¶å€™ï¼Œservice-urlå‚æ•°éœ€è¦å˜åŒ–ï¼š 1234eureka: client: service-url: # EurekaServeråœ°å€,å¤šä¸ªåœ°å€ä»¥','éš”å¼€ defaultZone: http://127.0.0.1:10086/eureka,http://127.0.0.1:10087/eureka 6.4.3.æœåŠ¡æä¾›è€…æœåŠ¡æä¾›è€…è¦å‘EurekaServeræ³¨å†ŒæœåŠ¡ï¼Œå¹¶ä¸”å®ŒæˆæœåŠ¡ç»­çº¦ç­‰å·¥ä½œã€‚ æœåŠ¡æ³¨å†Œ æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œä¼šæ£€æµ‹é…ç½®å±žæ€§ä¸­çš„ï¼šeureka.client.register-with-erueka=trueå‚æ•°æ˜¯å¦æ­£ç¡®ï¼Œäº‹å®žä¸Šé»˜è®¤å°±æ˜¯trueã€‚å¦‚æžœå€¼ç¡®å®žä¸ºtrueï¼Œåˆ™ä¼šå‘EurekaServerå‘èµ·ä¸€ä¸ªRestè¯·æ±‚ï¼Œå¹¶æºå¸¦è‡ªå·±çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ŒEureka Serverä¼šæŠŠè¿™äº›ä¿¡æ¯ä¿å­˜åˆ°ä¸€ä¸ªåŒå±‚Mapç»“æž„ä¸­ã€‚ç¬¬ä¸€å±‚Mapçš„Keyå°±æ˜¯æœåŠ¡åç§°ï¼Œç¬¬äºŒå±‚Mapçš„keyæ˜¯æœåŠ¡çš„å®žä¾‹idã€‚ æœåŠ¡ç»­çº¦ åœ¨æ³¨å†ŒæœåŠ¡å®Œæˆä»¥åŽï¼ŒæœåŠ¡æä¾›è€…ä¼šç»´æŒä¸€ä¸ªå¿ƒè·³ï¼ˆå®šæ—¶å‘EurekaServerå‘èµ·Restè¯·æ±‚ï¼‰ï¼Œå‘Šè¯‰EurekaServerï¼šâ€œæˆ‘è¿˜æ´»ç€â€ã€‚è¿™ä¸ªæˆ‘ä»¬ç§°ä¸ºæœåŠ¡çš„ç»­çº¦ï¼ˆrenewï¼‰ï¼› æœ‰ä¸¤ä¸ªé‡è¦å‚æ•°å¯ä»¥ä¿®æ”¹æœåŠ¡ç»­çº¦çš„è¡Œä¸ºï¼š 1234eureka: instance: lease-expiration-duration-in-seconds: 90 lease-renewal-interval-in-seconds: 30 lease-renewal-interval-in-secondsï¼šæœåŠ¡ç»­çº¦(renew)çš„é—´éš”ï¼Œé»˜è®¤ä¸º30ç§’ lease-expiration-duration-in-secondsï¼šæœåŠ¡å¤±æ•ˆæ—¶é—´ï¼Œé»˜è®¤å€¼90ç§’ ä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹æ¯ä¸ª30ç§’æœåŠ¡ä¼šå‘æ³¨å†Œä¸­å¿ƒå‘é€ä¸€æ¬¡å¿ƒè·³ï¼Œè¯æ˜Žè‡ªå·±è¿˜æ´»ç€ã€‚å¦‚æžœè¶…è¿‡90ç§’æ²¡æœ‰å‘é€å¿ƒè·³ï¼ŒEurekaServerå°±ä¼šè®¤ä¸ºè¯¥æœåŠ¡å®•æœºï¼Œä¼šä»ŽæœåŠ¡åˆ—è¡¨ä¸­ç§»é™¤ï¼Œè¿™ä¸¤ä¸ªå€¼åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸è¦ä¿®æ”¹ï¼Œé»˜è®¤å³å¯ã€‚ ä½†æ˜¯åœ¨å¼€å‘æ—¶ï¼Œè¿™ä¸ªå€¼æœ‰ç‚¹å¤ªé•¿äº†ï¼Œç»å¸¸æˆ‘ä»¬å…³æŽ‰ä¸€ä¸ªæœåŠ¡ï¼Œä¼šå‘çŽ°Eurekaä¾ç„¶è®¤ä¸ºæœåŠ¡åœ¨æ´»ç€ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å¼€å‘é˜¶æ®µå¯ä»¥é€‚å½“è°ƒå°ã€‚ 1234eureka: instance: lease-expiration-duration-in-seconds: 10 # 10ç§’å³è¿‡æœŸ lease-renewal-interval-in-seconds: 5 # 5ç§’ä¸€æ¬¡å¿ƒè·³ å®žä¾‹id å…ˆæ¥çœ‹ä¸€ä¸‹æœåŠ¡çŠ¶æ€ä¿¡æ¯ï¼š åœ¨Eurekaç›‘æŽ§é¡µé¢ï¼ŒæŸ¥çœ‹æœåŠ¡æ³¨å†Œä¿¡æ¯ï¼š åœ¨statusä¸€åˆ—ä¸­ï¼Œæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š UP(1)ï¼šä»£è¡¨çŽ°åœ¨æ˜¯å¯åŠ¨äº†1ä¸ªç¤ºä¾‹ï¼Œæ²¡æœ‰é›†ç¾¤ DESKTOP-2MVEC12:user-service:8081ï¼šæ˜¯ç¤ºä¾‹çš„åç§°ï¼ˆinstance-idï¼‰ï¼Œ é»˜è®¤æ ¼å¼æ˜¯ï¼š${hostname} + ${spring.application.name} + ${server.port} instance-idæ˜¯åŒºåˆ†åŒä¸€æœåŠ¡çš„ä¸åŒå®žä¾‹çš„å”¯ä¸€æ ‡å‡†ï¼Œå› æ­¤ä¸èƒ½é‡å¤ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡instance-idå±žæ€§æ¥ä¿®æ”¹å®ƒçš„æž„æˆï¼š 123eureka: instance: instance-id: $&#123;spring.application.name&#125;:$&#123;server.port&#125; é‡å¯æœåŠ¡å†è¯•è¯•çœ‹ï¼š 6.4.4.æœåŠ¡æ¶ˆè´¹è€… èŽ·å–æœåŠ¡åˆ—è¡¨ å½“æœåŠ¡æ¶ˆè´¹è€…å¯åŠ¨æ˜¯ï¼Œä¼šæ£€æµ‹eureka.client.fetch-registry=trueå‚æ•°çš„å€¼ï¼Œå¦‚æžœä¸ºtrueï¼Œåˆ™ä¼šä»ŽEureka ServeræœåŠ¡çš„åˆ—è¡¨åªè¯»å¤‡ä»½ï¼Œç„¶åŽç¼“å­˜åœ¨æœ¬åœ°ã€‚å¹¶ä¸”æ¯éš”30ç§’ä¼šé‡æ–°èŽ·å–å¹¶æ›´æ–°æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‚æ•°æ¥ä¿®æ”¹ï¼š 123eureka: client: registry-fetch-interval-seconds: 5 ç”Ÿäº§çŽ¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¿®æ”¹è¿™ä¸ªå€¼ã€‚ ä½†æ˜¯ä¸ºäº†å¼€å‘çŽ¯å¢ƒä¸‹ï¼Œèƒ½å¤Ÿå¿«é€Ÿå¾—åˆ°æœåŠ¡çš„æœ€æ–°çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è®¾ç½®å°ä¸€ç‚¹ã€‚ 6.4.5.å¤±æ•ˆå‰”é™¤å’Œè‡ªæˆ‘ä¿æŠ¤ å¤±æ•ˆå‰”é™¤ æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬çš„æœåŠ¡æä¾›æ–¹å¹¶ä¸ä¸€å®šä¼šæ­£å¸¸ä¸‹çº¿ï¼Œå¯èƒ½å› ä¸ºå†…å­˜æº¢å‡ºã€ç½‘ç»œæ•…éšœç­‰åŽŸå› å¯¼è‡´æœåŠ¡æ— æ³•æ­£å¸¸å·¥ä½œã€‚Eureka Serveréœ€è¦å°†è¿™æ ·çš„æœåŠ¡å‰”é™¤å‡ºæœåŠ¡åˆ—è¡¨ã€‚å› æ­¤å®ƒä¼šå¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¯éš”60ç§’å¯¹æ‰€æœ‰å¤±æ•ˆçš„æœåŠ¡ï¼ˆè¶…è¿‡90ç§’æœªå“åº”ï¼‰è¿›è¡Œå‰”é™¤ã€‚ å¯ä»¥é€šè¿‡eureka.server.eviction-interval-timer-in-mså‚æ•°å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå•ä½æ˜¯æ¯«ç§’ï¼Œç”ŸæˆçŽ¯å¢ƒä¸è¦ä¿®æ”¹ã€‚ è¿™ä¸ªä¼šå¯¹æˆ‘ä»¬å¼€å‘å¸¦æ¥æžå¤§çš„ä¸å˜ï¼Œä½ å¯¹æœåŠ¡é‡å¯ï¼Œéš”äº†60ç§’Eurekaæ‰ååº”è¿‡æ¥ã€‚å¼€å‘é˜¶æ®µå¯ä»¥é€‚å½“è°ƒæ•´ï¼Œæ¯”å¦‚10S è‡ªæˆ‘ä¿æŠ¤ æˆ‘ä»¬å…³åœä¸€ä¸ªæœåŠ¡ï¼Œå°±ä¼šåœ¨Eurekaé¢æ¿çœ‹åˆ°ä¸€æ¡è­¦å‘Šï¼š è¿™æ˜¯è§¦å‘äº†Eurekaçš„è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ã€‚å½“ä¸€ä¸ªæœåŠ¡æœªæŒ‰æ—¶è¿›è¡Œå¿ƒè·³ç»­çº¦æ—¶ï¼ŒEurekaä¼šç»Ÿè®¡æœ€è¿‘15åˆ†é’Ÿå¿ƒè·³å¤±è´¥çš„æœåŠ¡å®žä¾‹çš„æ¯”ä¾‹æ˜¯å¦è¶…è¿‡äº†85%ã€‚åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸‹ï¼Œå› ä¸ºç½‘ç»œå»¶è¿Ÿç­‰åŽŸå› ï¼Œå¿ƒè·³å¤±è´¥å®žä¾‹çš„æ¯”ä¾‹å¾ˆæœ‰å¯èƒ½è¶…æ ‡ï¼Œä½†æ˜¯æ­¤æ—¶å°±æŠŠæœåŠ¡å‰”é™¤åˆ—è¡¨å¹¶ä¸å¦¥å½“ï¼Œå› ä¸ºæœåŠ¡å¯èƒ½æ²¡æœ‰å®•æœºã€‚Eurekaå°±ä¼šæŠŠå½“å‰å®žä¾‹çš„æ³¨å†Œä¿¡æ¯ä¿æŠ¤èµ·æ¥ï¼Œä¸äºˆå‰”é™¤ã€‚ç”Ÿäº§çŽ¯å¢ƒä¸‹è¿™å¾ˆæœ‰æ•ˆï¼Œä¿è¯äº†å¤§å¤šæ•°æœåŠ¡ä¾ç„¶å¯ç”¨ã€‚ ä½†æ˜¯è¿™ç»™æˆ‘ä»¬çš„å¼€å‘å¸¦æ¥äº†éº»çƒ¦ï¼Œ å› æ­¤å¼€å‘é˜¶æ®µæˆ‘ä»¬éƒ½ä¼šå…³é—­è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ï¼š 1234eureka: server: enable-self-preservation: false # å…³é—­è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ï¼ˆç¼ºçœä¸ºæ‰“å¼€ï¼‰ eviction-interval-timer-in-ms: 1000 # æ‰«æå¤±æ•ˆæœåŠ¡çš„é—´éš”æ—¶é—´ï¼ˆç¼ºçœä¸º60*1000msï¼‰ 7.è´Ÿè½½å‡è¡¡Robbinåœ¨åˆšæ‰çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯åŠ¨äº†ä¸€ä¸ªuser-serviceï¼Œç„¶åŽé€šè¿‡DiscoveryClientæ¥èŽ·å–æœåŠ¡å®žä¾‹ä¿¡æ¯ï¼Œç„¶åŽèŽ·å–ipå’Œç«¯å£æ¥è®¿é—®ã€‚ ä½†æ˜¯å®žé™…çŽ¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šå¼€å¯å¾ˆå¤šä¸ªuser-serviceçš„é›†ç¾¤ã€‚æ­¤æ—¶æˆ‘ä»¬èŽ·å–çš„æœåŠ¡åˆ—è¡¨ä¸­å°±ä¼šæœ‰å¤šä¸ªï¼Œåˆ°åº•è¯¥è®¿é—®å“ªä¸€ä¸ªå‘¢ï¼Ÿ ä¸€èˆ¬è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å°±éœ€è¦ç¼–å†™è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œåœ¨å¤šä¸ªå®žä¾‹åˆ—è¡¨ä¸­è¿›è¡Œé€‰æ‹©ã€‚ ä¸è¿‡Eurekaä¸­å·²ç»å¸®æˆ‘ä»¬é›†æˆäº†è´Ÿè½½å‡è¡¡ç»„ä»¶ï¼šRibbonï¼Œç®€å•ä¿®æ”¹ä»£ç å³å¯ä½¿ç”¨ã€‚ ä»€ä¹ˆæ˜¯Ribbonï¼š æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥ä½¿ç”¨Ribbonå®žçŽ°è´Ÿè½½å‡è¡¡ã€‚ 7.1.å¯åŠ¨ä¸¤ä¸ªæœåŠ¡å®žä¾‹é¦–å…ˆæˆ‘ä»¬å¯åŠ¨ä¸¤ä¸ªuser-serviceå®žä¾‹ï¼Œä¸€ä¸ª8081ï¼Œä¸€ä¸ª8082ã€‚ Eurekaç›‘æŽ§é¢æ¿ï¼š 7.2.å¼€å¯è´Ÿè½½å‡è¡¡å› ä¸ºEurekaä¸­å·²ç»é›†æˆäº†Ribbonï¼Œæ‰€ä»¥æˆ‘ä»¬æ— éœ€å¼•å…¥æ–°çš„ä¾èµ–ã€‚ç›´æŽ¥ä¿®æ”¹ä»£ç ï¼š åœ¨RestTemplateçš„é…ç½®æ–¹æ³•ä¸Šæ·»åŠ @LoadBalancedæ³¨è§£ï¼š 12345@Bean@LoadBalancedpublic RestTemplate restTemplate() &#123; return new RestTemplate(new OkHttp3ClientHttpRequestFactory());&#125; ä¿®æ”¹è°ƒç”¨æ–¹å¼ï¼Œä¸å†æ‰‹åŠ¨èŽ·å–ipå’Œç«¯å£ï¼Œè€Œæ˜¯ç›´æŽ¥é€šè¿‡æœåŠ¡åç§°è°ƒç”¨ï¼š 1234567891011121314151617181920212223242526@Servicepublic class UserService &#123; @Autowired private RestTemplate restTemplate; @Autowired private DiscoveryClient discoveryClient; public List&lt;User&gt; queryUserByIds(List&lt;Long&gt; ids) &#123; List&lt;User&gt; users = new ArrayList&lt;&gt;(); // åœ°å€ç›´æŽ¥å†™æœåŠ¡åç§°å³å¯ String baseUrl = "http://user-service/user/"; ids.forEach(id -&gt; &#123; // æˆ‘ä»¬æµ‹è¯•å¤šæ¬¡æŸ¥è¯¢ï¼Œ users.add(this.restTemplate.getForObject(baseUrl + id, User.class)); // æ¯æ¬¡é—´éš”500æ¯«ç§’ try &#123; Thread.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); return users; &#125;&#125; è®¿é—®é¡µé¢ï¼ŒæŸ¥çœ‹ç»“æžœï¼š å®Œç¾Žï¼ 7.3.æºç è·Ÿè¸ªä¸ºä»€ä¹ˆæˆ‘ä»¬åªè¾“å…¥äº†serviceåç§°å°±å¯ä»¥è®¿é—®äº†å‘¢ï¼Ÿä¹‹å‰è¿˜è¦èŽ·å–ipå’Œç«¯å£ã€‚ æ˜¾ç„¶æœ‰äººå¸®æˆ‘ä»¬æ ¹æ®serviceåç§°ï¼ŒèŽ·å–åˆ°äº†æœåŠ¡å®žä¾‹çš„ipå’Œç«¯å£ã€‚å®ƒå°±æ˜¯LoadBalancerInterceptor æˆ‘ä»¬è¿›è¡Œæºç è·Ÿè¸ªï¼š ç»§ç»­è·Ÿå…¥executeæ–¹æ³•ï¼šå‘çŽ°èŽ·å–äº†8082ç«¯å£çš„æœåŠ¡ å†è·Ÿä¸‹ä¸€æ¬¡ï¼Œå‘çŽ°èŽ·å–çš„æ˜¯8081ï¼š 7.4.è´Ÿè½½å‡è¡¡ç­–ç•¥Ribboné»˜è®¤çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æ˜¯ç®€å•çš„è½®è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼š ç¼–å†™æµ‹è¯•ç±»ï¼Œåœ¨åˆšæ‰çš„æºç ä¸­æˆ‘ä»¬çœ‹åˆ°æ‹¦æˆªä¸­æ˜¯ä½¿ç”¨RibbonLoadBalanceClientæ¥è¿›è¡Œè´Ÿè½½å‡è¡¡çš„ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªchooseæ–¹æ³•ï¼Œæ˜¯è¿™æ ·ä»‹ç»çš„ï¼š çŽ°åœ¨è¿™ä¸ªå°±æ˜¯è´Ÿè½½å‡è¡¡èŽ·å–å®žä¾‹çš„æ–¹æ³•ã€‚ æˆ‘ä»¬å¯¹æ³¨å…¥è¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œç„¶åŽå¯¹å…¶æµ‹è¯•ï¼š 123456789101112131415@RunWith(SpringRunner.class)@SpringBootTest(classes = UserConsumerDemoApplication.class)public class LoadBalanceTest &#123; @Autowired RibbonLoadBalancerClient client; @Test public void test()&#123; for (int i = 0; i &lt; 100; i++) &#123; ServiceInstance instance = this.client.choose("user-service"); System.out.println(instance.getHost() + ":" + instance.getPort()); &#125; &#125;&#125; ç»“æžœï¼š ç¬¦åˆäº†æˆ‘ä»¬çš„é¢„æœŸæŽ¨æµ‹ï¼Œç¡®å®žæ˜¯è½®è¯¢æ–¹å¼ã€‚ æˆ‘ä»¬æ˜¯å¦å¯ä»¥ä¿®æ”¹è´Ÿè½½å‡è¡¡çš„ç­–ç•¥å‘¢ï¼Ÿ ç»§ç»­è·Ÿè¸ªæºç ï¼Œå‘çŽ°è¿™ä¹ˆä¸€æ®µä»£ç ï¼š æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªruleæ˜¯è°ï¼š è¿™é‡Œçš„ruleé»˜è®¤å€¼æ˜¯ä¸€ä¸ªRoundRobinRuleï¼Œçœ‹ç±»çš„ä»‹ç»ï¼š è¿™ä¸å°±æ˜¯è½®è¯¢çš„æ„æ€å˜›ã€‚ æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œè¿™ä¸ªç±»å…¶å®žæ˜¯å®žçŽ°äº†æŽ¥å£IRuleçš„ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ï¼š å®šä¹‰è´Ÿè½½å‡è¡¡çš„è§„åˆ™æŽ¥å£ã€‚ å®ƒæœ‰ä»¥ä¸‹å®žçŽ°ï¼š SpringBootä¹Ÿå¸®æˆ‘ä»¬æä¾›äº†ä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™çš„é…ç½®å…¥å£ï¼š 123user-service: ribbon: NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule æ ¼å¼æ˜¯ï¼š{æœåŠ¡åç§°}.ribbon.NFLoadBalancerRuleClassNameï¼Œå€¼å°±æ˜¯IRuleçš„å®žçŽ°ç±»ã€‚ å†æ¬¡æµ‹è¯•ï¼Œå‘çŽ°ç»“æžœå˜æˆäº†éšæœºï¼š 7.5.é‡è¯•æœºåˆ¶Eurekaçš„æœåŠ¡æ²»ç†å¼ºè°ƒäº†CAPåŽŸåˆ™ä¸­çš„APï¼Œå³å¯ç”¨æ€§å’Œå¯é æ€§ã€‚å®ƒä¸ŽZookeeperè¿™ä¸€ç±»å¼ºè°ƒCPï¼ˆä¸€è‡´æ€§ï¼Œå¯é æ€§ï¼‰çš„æœåŠ¡æ²»ç†æ¡†æž¶æœ€å¤§çš„åŒºåˆ«åœ¨äºŽï¼šEurekaä¸ºäº†å®žçŽ°æ›´é«˜çš„æœåŠ¡å¯ç”¨æ€§ï¼Œç‰ºç‰²äº†ä¸€å®šçš„ä¸€è‡´æ€§ï¼Œæžç«¯æƒ…å†µä¸‹å®ƒå®æ„¿æŽ¥æ”¶æ•…éšœå®žä¾‹ä¹Ÿä¸æ„¿ä¸¢æŽ‰å¥åº·å®žä¾‹ï¼Œæ­£å¦‚æˆ‘ä»¬ä¸Šé¢æ‰€è¯´çš„è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ã€‚ ä½†æ˜¯ï¼Œæ­¤æ—¶å¦‚æžœæˆ‘ä»¬è°ƒç”¨äº†è¿™äº›ä¸æ­£å¸¸çš„æœåŠ¡ï¼Œè°ƒç”¨å°±ä¼šå¤±è´¥ï¼Œä»Žè€Œå¯¼è‡´å…¶å®ƒæœåŠ¡ä¸èƒ½æ­£å¸¸å·¥ä½œï¼è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æ„¿æ„çœ‹åˆ°çš„ã€‚ æˆ‘ä»¬çŽ°åœ¨å…³é—­ä¸€ä¸ªuser-serviceå®žä¾‹ï¼š å› ä¸ºæœåŠ¡å‰”é™¤çš„å»¶è¿Ÿï¼Œconsumerå¹¶ä¸ä¼šç«‹å³å¾—åˆ°æœ€æ–°çš„æœåŠ¡åˆ—è¡¨ï¼Œæ­¤æ—¶å†æ¬¡è®¿é—®ä½ ä¼šå¾—åˆ°é”™è¯¯æç¤ºï¼š ä½†æ˜¯æ­¤æ—¶ï¼Œ8081æœåŠ¡å…¶å®žæ˜¯æ­£å¸¸çš„ã€‚ å› æ­¤Spring Cloud æ•´åˆäº†Spring Retry æ¥å¢žå¼ºRestTemplateçš„é‡è¯•èƒ½åŠ›ï¼Œå½“ä¸€æ¬¡æœåŠ¡è°ƒç”¨å¤±è´¥åŽï¼Œä¸ä¼šç«‹å³æŠ›å‡ºä¸€æ¬¡ï¼Œè€Œæ˜¯å†æ¬¡é‡è¯•å¦ä¸€ä¸ªæœåŠ¡ã€‚ åªéœ€è¦ç®€å•é…ç½®å³å¯å®žçŽ°Ribbonçš„é‡è¯•ï¼š 123456789101112spring: cloud: loadbalancer: retry: enabled: true # å¼€å¯Spring Cloudçš„é‡è¯•åŠŸèƒ½user-service: ribbon: ConnectTimeout: 250 # Ribbonçš„è¿žæŽ¥è¶…æ—¶æ—¶é—´ ReadTimeout: 1000 # Ribbonçš„æ•°æ®è¯»å–è¶…æ—¶æ—¶é—´ OkToRetryOnAllOperations: true # æ˜¯å¦å¯¹æ‰€æœ‰æ“ä½œéƒ½è¿›è¡Œé‡è¯• MaxAutoRetriesNextServer: 1 # åˆ‡æ¢å®žä¾‹çš„é‡è¯•æ¬¡æ•° MaxAutoRetries: 1 # å¯¹å½“å‰å®žä¾‹çš„é‡è¯•æ¬¡æ•° æ ¹æ®å¦‚ä¸Šé…ç½®ï¼Œå½“è®¿é—®åˆ°æŸä¸ªæœåŠ¡è¶…æ—¶åŽï¼Œå®ƒä¼šå†æ¬¡å°è¯•è®¿é—®ä¸‹ä¸€ä¸ªæœåŠ¡å®žä¾‹ï¼Œå¦‚æžœä¸è¡Œå°±å†æ¢ä¸€ä¸ªå®žä¾‹ï¼Œå¦‚æžœä¸è¡Œï¼Œåˆ™è¿”å›žå¤±è´¥ã€‚åˆ‡æ¢æ¬¡æ•°å–å†³äºŽMaxAutoRetriesNextServerå‚æ•°çš„å€¼ å¼•å…¥spring-retryä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt; &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;&lt;/dependency&gt; æˆ‘ä»¬é‡å¯user-consumer-demoï¼Œæµ‹è¯•ï¼Œå‘çŽ°å³ä½¿user-service2å®•æœºï¼Œä¹Ÿèƒ½é€šè¿‡å¦ä¸€å°æœåŠ¡å®žä¾‹èŽ·å–åˆ°ç»“æžœï¼]]></content>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æžšä¸¾]]></title>
    <url>%2F2019%2F01%2F29%2Fjava%E5%9F%BA%E7%A1%80%2F%E6%9E%9A%E4%B8%BE%2F</url>
    <content type="text"><![CDATA[1.æžšä¸¾ç”¨æ³•ä¸€ï¼šå¸¸é‡åœ¨JDK1.5 ä¹‹å‰ï¼Œæˆ‘ä»¬å®šä¹‰å¸¸é‡éƒ½æ˜¯ï¼š public static finalâ€¦. ã€‚çŽ°åœ¨å¥½äº†ï¼Œæœ‰äº†æžšä¸¾ï¼Œå¯ä»¥æŠŠç›¸å…³çš„å¸¸é‡åˆ†ç»„åˆ°ä¸€ä¸ªæžšä¸¾ç±»åž‹é‡Œï¼Œè€Œä¸”æžšä¸¾æä¾›äº†æ¯”å¸¸é‡æ›´å¤šçš„æ–¹æ³•ã€‚ Javaä»£ç  123public enum Color &#123; RED, GREEN, BLANK, YELLOW &#125; ç”¨æ³•ä¸‰ï¼šå‘æžšä¸¾ä¸­æ·»åŠ æ–°æ–¹æ³•å¦‚æžœæ‰“ç®—è‡ªå®šä¹‰è‡ªå·±çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨enumå®žä¾‹åºåˆ—çš„æœ€åŽæ·»åŠ ä¸€ä¸ªåˆ†å·ã€‚è€Œä¸” Java è¦æ±‚å¿…é¡»å…ˆå®šä¹‰ enum å®žä¾‹ã€‚ Javaä»£ç  123456789101112131415161718192021222324252627282930313233public enum Color &#123; RED("çº¢è‰²", 1), GREEN("ç»¿è‰²", 2), BLANK("ç™½è‰²", 3), YELLO("é»„è‰²", 4); // æˆå‘˜å˜é‡ private String name; private int index; // æž„é€ æ–¹æ³• private Color(String name, int index) &#123; this.name = name; this.index = index; &#125; // æ™®é€šæ–¹æ³• public static String getName(int index) &#123; for (Color c : Color.values()) &#123; if (c.getIndex() == index) &#123; return c.name; &#125; &#125; return null; &#125; // get set æ–¹æ³• public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getIndex() &#123; return index; &#125; public void setIndex(int index) &#123; this.index = index; &#125; &#125; https://blog.csdn.net/qq_27093465/article/details/52180865 https://www.cnblogs.com/sister/p/4700702.html 1.values()èŽ·å–å­˜å‚¨æžšä¸¾ä¸­æ‰€æœ‰å¸¸é‡å®žä¾‹çš„æ•°ç»„ã€‚å¸¸é…åˆforeachå®ŒæˆéåŽ† 123for(ColorEnum temp:ColorEnum.values())&#123; System.out.println(temp);&#125; è¿è¡Œç»“æžœï¼š 123 RED GREEN BLUE 2.æž„é€ æ–¹æ³•ï¼Œæžšä¸¾çš„æž„é€ æ–¹æ³•åªèƒ½ç”¨privateä¿®é¥°ç¬¦ä¿®é¥°ï¼ŒåŽŸå› å°±ä¸éœ€è¦è§£é‡Šäº†â€¦â€¦ 3.valueOf()é€šè¿‡å¸¸é‡åèŽ·å–å¯¹åº”çš„æžšä¸¾å®žä¾‹ã€‚ 12 ColorEnum red = ColorEnum.valueOf(&quot;RED&quot;); System.out.println(red); 123456789101112131415161718192021222324252627//æžšä¸¾ç±»çš„åŽç¼€å»ºè®®ä¸ºEnumï¼Œæžšä¸¾ç±»åž‹çš„å®žä¾‹å¯¹è±¡å»ºè®®å…¨å¤§å†™ï¼ˆè¿™æ ·åšç¬¦åˆJAVAçš„è§„èŒƒ//å½“æˆ‘ä»¬åˆ›å»ºSeasonEnumè¿™ä¸ªæžšä¸¾ç±»æ—¶ï¼Œ// å¯ä¸å¯ä»¥è®©SeasonEnumä¸­çš„æ¯ä¸€ä¸ªå®žä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªgetChinese()æ–¹æ³•å‘¢ã€‚\// ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œè€Œä¸”è¿™ç§åšæ³•åœ¨ä¼ä¸šå¼€å‘ä¸­å¾ˆå¸¸è§ã€‚public enum SeasonEnum &#123; SPRING("æ˜¥å¤©"), SUMMER("å¤å¤©"), AUTUMN("ç§‹å¤©"), WINTER("å†¬å¤©");// è¿™æ ·ä¹ä¸€çœ‹æ˜¯ä¸æ˜¯æœ‰ç‚¹åƒæˆ‘ä»¬å¹³æ—¶åˆ›å»ºä¸€èˆ¬å®žä½“ç±»ä¸€æ ·ã€‚// å…¶å®žæžšä¸¾ç±»åž‹å¯ä»¥çœ‹åšæˆ‘ä»¬å¹³æ—¶æ–°å»º.classå·®ä¸å¤šï¼Œ// åªæ˜¯æžšä¸¾ç±»é™åˆ¶äº†æ­¤ç±»çš„å®žä¾‹å¯¹è±¡// å½“ç„¶ï¼Œæžšä¸¾ç±»å¯ä»¥æœ‰è‡ªå·±çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€‚// ä¸Šé¢çš„SeasonEnum æžšä¸¾ç±»æœ‰äº†chineseè¿™ä¸ªæˆå‘˜å˜é‡ï¼Œ// æ‰€ä»¥æˆ‘ä»¬åœ¨å®šä¹‰å®žä¾‹å¯¹è±¡æ—¶å°±è¦ç»´æŠ¤è¿™ä¸ªchineseæˆå‘˜å˜é‡ã€‚// çŽ°åœ¨å†æ¥çœ‹çœ‹ï¼Œæˆ‘ä»¬æ˜¯æ€Žä¹ˆä½¿ç”¨è¿™ä¸ªæžšä¸¾ç±»ç®€åŒ–æˆ‘ä»¬çš„ä»£ç  private String chinese; SeasonEnum(String chinese) &#123; this.chinese = chinese; &#125; public String getChinese() &#123; return chinese; &#125;&#125; 123456789public class Test &#123; public static void main(String[] args) &#123; SeasonEnum spring = SeasonEnum.SPRING; System.out.println(spring.getChinese()); &#125;&#125; https://blog.csdn.net/cauchy6317/article/details/82313088 1234567891011121314151617181920212223242526272829303132333435363738394041424344public enum Weekday &#123; SUN(0),MON(1),TUS(2),WED(3),THU(4),FRI(5),SAT(6); private int value; private Weekday(int value)&#123; this.value = value; &#125; public static Weekday getNextDay(Weekday nowDay)&#123; int nextDayValue = nowDay.value; if (++nextDayValue == 7)&#123; nextDayValue =0; &#125; return getWeekdayByValue(nextDayValue); &#125;//é‡è¦çš„ä»£ç æ®µ public static Weekday getWeekdayByValue(int value) &#123; for (Weekday c : Weekday.values()) &#123; if (c.value == value) &#123; return c; &#125; &#125; return null; &#125;&#125;class Test2&#123; public static void main(String[] args) &#123; System.out.println("nowday ====&gt; " + Weekday.SAT); System.out.println("nowday int ====&gt; " + Weekday.SAT.ordinal()); System.out.println("nextday ====&gt; " + Weekday.getNextDay(Weekday.SAT)); // è¾“å‡º SUN //è¾“å‡ºï¼š //nowday ====&gt; SAT //nowday int ====&gt; 6 //nextday ====&gt; SUN &#125;&#125; è¿™æ ·å°±å®Œæˆäº†æˆ‘ä»¬çš„ç›®æ ‡ï¼Œå’Œä¹‹å‰çš„ä»£ç æ¯”èµ·æ¥ï¼Œæœ‰æ²¡æœ‰è§‰å¾—çªç„¶é«˜å¤§ä¸Šäº†è®¸å¤šï¼Ÿæ²¡æœ‰é‚£ä¹ˆå¤šçƒ¦äººçš„ifelseï¼Œä¸–ç•Œéƒ½æ¸…å‡€äº†ã€‚å¥½äº†ï¼ŒçŽ°åœ¨ä½ å¤§æ¦‚çŸ¥é“ä¸ºä»€ä¹ˆè¦å¼•å…¥æžšä¸¾ç±»äº†å§ï¼Ÿå°±æ˜¯å› ä¸ºåœ¨æ²¡æœ‰æžšä¸¾ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªæœ‰é™çš„åºåˆ—ï¼Œæ¯”å¦‚æ˜ŸæœŸå‡ ï¼Œç”·äººå¥³äººï¼Œæ˜¥å¤ç§‹å†¬ï¼Œä¸€èˆ¬ä¼šé€šè¿‡ä¸Šé¢é‚£ç§é™æ€å˜é‡çš„å½¢å¼ï¼Œä½†æ˜¯ä½¿ç”¨é‚£æ ·çš„å½¢å¼å¦‚æžœéœ€è¦ä¸€äº›å…¶ä»–çš„åŠŸèƒ½ï¼Œéœ€è¦äº›å¾ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„ä»£ç ã€‚æ‰€ä»¥ï¼Œæžšä¸¾ç±»çš„å‡ºçŽ°ï¼Œå°±æ˜¯ä¸ºäº†ç®€åŒ–è¿™ç§æ“ä½œ Weekdayå¯ä»¥è°ƒç”¨çš„æ–¹æ³•å’Œå‚æ•°ã€‚å‘çŽ°å®ƒæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼švalue()å’ŒvalueOf()ã€‚è¿˜æœ‰æˆ‘ä»¬åˆšåˆšå®šä¹‰çš„ä¸ƒä¸ªå˜é‡ã€‚è¿™äº›äº‹æžšä¸¾å˜é‡çš„æ–¹æ³•ã€‚æˆ‘ä»¬æŽ¥ä¸‹æ¥ä¼šæ¼”ç¤ºå‡ ä¸ªæ¯”è¾ƒé‡è¦çš„ï¼š public enum Weekday { SUN,MON,TUS,WED,THU,FRI,SAT} class Test3{ public static void main(String[] args) { System.out.println(Weekday.valueOf(â€œmonâ€.toUpperCase())); //MON for (Weekday w : Weekday.values()){ System.out.println(w + &quot;.ordinal() ====&gt;&quot; +w.ordinal()); } //SUN.ordinal() ====&gt;0 //MON.ordinal() ====&gt;1 //TUS.ordinal() ====&gt;2 //WED.ordinal() ====&gt;3 //THU.ordinal() ====&gt;4 //FRI.ordinal() ====&gt;5 //SAT.ordinal() ====&gt;6 System.out.println(&quot;Weekday.MON.compareTo(Weekday.FRI) ===&gt; &quot; + Weekday.MON.compareTo(Weekday.FRI)); System.out.println(&quot;Weekday.MON.compareTo(Weekday.MON) ===&gt; &quot; + Weekday.MON.compareTo(Weekday.MON)); System.out.println(&quot;Weekday.MON.compareTo(Weekday.SUM) ===&gt; &quot; + Weekday.MON.compareTo(Weekday.SUN)); //Weekday.MON.compareTo(Weekday.FRI) ===&gt; -4 //Weekday.MON.compareTo(Weekday.MON) ===&gt; 0 //Weekday.MON.compareTo(Weekday.SUM) ===&gt; 1 System.out.println(&quot;Weekday.MON.name() ====&gt; &quot; + Weekday.MON.name()); //Weekday.MON.name() ====&gt; MON } Weekday.valueOf() æ–¹æ³•ï¼š å®ƒçš„ä½œç”¨æ˜¯ä¼ æ¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åŽå°†å®ƒè½¬å˜ä¸ºå¯¹åº”çš„æžšä¸¾å˜é‡ã€‚å‰ææ˜¯ä½ ä¼ çš„å­—ç¬¦ä¸²å’Œå®šä¹‰æžšä¸¾å˜é‡çš„å­—ç¬¦ä¸²ä¸€æŠ¹ä¸€æ ·ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚å¦‚æžœä½ ä¼ äº†ä¸€ä¸ªä¸å­˜åœ¨çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ Weekday.values()æ–¹æ³•ã€‚ è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›žåŒ…æ‹¬æ‰€æœ‰æžšä¸¾å˜é‡çš„æ•°ç»„ã€‚åœ¨è¯¥ä¾‹ä¸­ï¼Œè¿”å›žçš„å°±æ˜¯åŒ…å«äº†ä¸ƒä¸ªæ˜ŸæœŸçš„Weekday[]ã€‚å¯ä»¥æ–¹ä¾¿çš„ç”¨æ¥åšå¾ªçŽ¯ã€‚ æžšä¸¾å˜é‡çš„toString()æ–¹æ³•ã€‚ è¯¥æ–¹æ³•ç›´æŽ¥è¿”å›žæžšä¸¾å®šä¹‰æžšä¸¾å˜é‡çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚MONå°±è¿”å›žã€â€MONâ€ã€‘ã€‚ å¥½äº†ï¼Œä½ å¾ˆèªæ˜Žï¼Œä½ å·²ç»æŽŒæ¡äº†ä¸Šé¢çš„çŸ¥è¯†ï¼Œä½ æƒ³ï¼Œæ—¢ç„¶èƒ½è‡ªå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œèƒ½ä¸èƒ½è‡ªå®šä¹‰ä¸¤ä¸ªå‘¢ï¼Ÿ å½“ç„¶å¯ä»¥ï¼š public enum Weekday { MON(1,â€monâ€),TUS(2,â€tusâ€),WED(3,â€wedâ€),THU(4,â€thuâ€),FRI(5,â€friâ€),SAT(6,â€satâ€),SUN(0,â€sunâ€); private int value; private String label; private Weekday(int value,String label){ this.value = value; this.label = label; } ä½ å¯ä»¥å®šä¹‰ä»»ä½•ä½ æƒ³è¦çš„å˜é‡ã€‚å­¦å®Œäº†è¿™äº›ï¼Œå¤§æ¦‚æžšä¸¾ç±»ä½ ä¹Ÿåº”è¯¥æŽŒæ¡äº†ï¼Œä½†æ˜¯ï¼Œè¿˜æœ‰æ²¡æœ‰å…¶ä»–ç”¨æ³•å‘¢? 1234567891011121314151617181920212223242526272829303132333435363738394041 1. **package** com.think.enumeration; 2. 3. **public** **enum** Season &#123; 4. â€‹ //Javaè¦æ±‚å¿…é¡»å…ˆå®šä¹‰æžšä¸¾å®žä¾‹ï¼Œ 5. â€‹ SPRING(10,20), 6. â€‹ SUMMER(20,32), 7. â€‹ FULL(10,20), 8. â€‹ //è¿™å°±æ˜¯å“ˆå°”æ»¨çš„çœŸå®žå†™ç…§ 9. â€‹ WINTER(-40,-5);//æ³¨æ„è¿™ä¸ªåˆ†å·ï¼Œæ¯”ä¸å¯å°‘ 10. â€‹ 11. â€‹ **private** **double** lowTemp; 12. â€‹ **private** **double** highTemp; 13. â€‹ //ä¸€æ—¦enumå®šä¹‰ç»“æŸï¼Œç¼–è¯‘å™¨å°±ä¸å…è®¸æˆ‘ä»¬å†ä½¿ç”¨ 14. â€‹ //å…¶æž„é€ å™¨æ¥åˆ›å»ºä»»ä½•å®žä¾‹äº†ï¼Œæ‰€ä»¥å³ä½¿ä¸æ˜¯privateä¹Ÿæ²¡å…³ç³» 15. â€‹ **private** Season(**double** low,**double** high) &#123; 16. â€‹ lowTemp = low; 17. â€‹ highTemp = high; 18. â€‹ &#125; 19. â€‹ 20. â€‹ //è‡ªå®šä¹‰çš„æ–¹æ³•ï¼Œå°±åƒåœ¨æ™®é€šçš„ç±»ä¸­ä¸€æ · 21. â€‹ **public** **void** setLow(**double** low) &#123; 22. â€‹ **this**.lowTemp = low; 23. â€‹ &#125; 24. â€‹ 25. â€‹ //è¿˜å¯ä»¥è¦†ç›–çˆ¶ç±»ä¸­çš„æ–¹æ³• 26. â€‹ @Override 27. â€‹ **public** String toString() &#123; 28. â€‹ **return** "(" + lowTemp + "," + highTemp + ")"; 29. â€‹ &#125; 30. â€‹ 31. â€‹ //ç”šè‡³è¿˜å¯ä»¥æœ‰mainæ–¹æ³• 32. â€‹ **public** **static** **void** main(String[] args) &#123; 33. â€‹ **for**(Season e : Season.values()) &#123; 34. â€‹ **if**(e == SPRING) 35. â€‹ e.setLow(-10); 36. â€‹ System.out.println(e); 37. â€‹ &#125; 38. â€‹ &#125; 39. &#125; æˆ‘ä»¬ä¸€å®šè¦æŠ“ä½enumçš„æœ¬è´¨ï¼š å®ƒæ˜¯ä¸€ç»„å¸¸é‡çš„é›†åˆ ã€‚æ‰€ä»¥å¾ˆå¤šé™åˆ¶éƒ½æ˜¯ä¸ºäº†ç¡®ä¿â€œå¸¸é‡æ€§â€ï¼Œæ¯”å¦‚åœ¨å®šä¹‰æžšä¸¾ç±»æ—¶ï¼Œå¿…é¡»å…ˆå®šä¹‰enumï¼Œå®ƒçš„æž„é€ æ–¹æ³•åœ¨å®šä¹‰enumå®žä¾‹ç»“æŸåŽå°±ä¸èƒ½ä½¿ç”¨ã€‚å‡ºäº†å›´ç»•å¸¸é‡æ€§çš„é™åˆ¶ä¹‹å¤–ï¼Œå…¶ä»–çš„è¯­æ³•ä¸Žæ™®é€šç±»æ— å¼‚ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æ™®é€šæ–¹æ³•ï¼Œå¯ä»¥è¦†ç›–çˆ¶ç±»æ–¹æ³•ç­‰ã€‚åœ¨æ‰€æœ‰çš„ç‰¹æ€§ä¸­ï¼Œæœ€å…·ç‰¹è‰²çš„è¦æ•°åœ¨enumä¸­é™¤äº†ç»™enumç±»åž‹æ·»åŠ æ–¹æ³•ä¹‹å¤–ï¼Œæ¯ä¸ªå®žä¾‹è¿˜å¯ä»¥æœ‰è‡ªå·±çš„æ–¹æ³•ï¼Œè¿™æ ·çš„æ–¹æ³•å«åšå¸¸é‡ç›¸å…³æ–¹æ³•ï¼šå¯¹äºŽåŒä¸€ä¸ªæ–¹æ³•ï¼Œä¸åŒçš„å®žä¾‹å¯ä»¥å®žçŽ°è‡ªå·±çš„è¡Œä¸ºã€‚è¿™æ ·ç”šè‡³æœ‰äº†å¤šæ€æ€§ã€‚å®žçŽ°å¸¸é‡ç›¸å…³çš„æ–¹æ³•æ—¶ï¼Œå¯ä»¥å°†ä¸€ä¸ªæ–¹æ³•å®žçŽ°æˆæŠ½è±¡æ–¹æ³•ï¼Œæ¯ä¸ªå®žä¾‹æä¾›å…·ä½“å®žçŽ°ï¼›ä¹Ÿå¯ä»¥æŠŠæ–¹æ³•å®žçŽ°æˆæ™®é€šæ–¹æ³•ï¼Œæ¯ä¸ªå®žä¾‹æ ¹æ®éœ€æ±‚ï¼Œé€‰æ‹©æ˜¯å¦è¦†ç›–è¯¥æ–¹æ³•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTPåè®®]]></title>
    <url>%2F2019%2F01%2F26%2F%E9%9D%A2%E8%AF%95%2FHTTP%2F</url>
    <content type="text"><![CDATA[1.HTTP 2 .ç½‘ç»œåè®®åˆ†å±‚ #3 HTTP ä¸‰æ¬¡æ¡æ‰‹ 4 URI URL URN åŒ…æ‹¬URL å’ŒURN ftpåè®® 5 HTTP æŠ¥æ–‡ 6Httpå®¢æˆ·ç«¯ CURL]]></content>
      <tags>
        <tag>Http</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ…•è¯¾ç½‘Javaæ ¡æ‹›é¢è¯• Googleé¢è¯•å®˜äº²æŽˆ]]></title>
    <url>%2F2019%2F01%2F26%2F%E9%9D%A2%E8%AF%95%2F%E9%9D%A2%E8%AF%95Google%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸€ç«  ç½‘ç»œ]]></content>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSMæ•´åˆ]]></title>
    <url>%2F2019%2F01%2F24%2FSSM%20%2FSSM%E6%95%B4%E5%90%882%2F</url>
    <content type="text"><![CDATA[SSMæ•´åˆ1 Spring - dao123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!-- é…ç½®æ•´åˆmybatisè¿‡ç¨‹ --&gt; &lt;!-- 1.é…ç½®æ•°æ®åº“ç›¸å…³å‚æ•°propertiesçš„å±žæ€§ï¼š$&#123;url&#125; --&gt; &lt;context:property-placeholder location="classpath:jdbc.properties"/&gt; &lt;!-- 2.æ•°æ®åº“è¿žæŽ¥æ±  --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;!-- é…ç½®è¿žæŽ¥æ± å±žæ€§ --&gt; &lt;property name="driverClass" value="$&#123;jdbc.driver&#125;"/&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;"/&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;"/&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;"/&gt; &lt;!-- c3p0è¿žæŽ¥æ± çš„ç§æœ‰å±žæ€§ --&gt; &lt;property name="maxPoolSize" value="30"/&gt; &lt;property name="minPoolSize" value="10"/&gt; &lt;!-- å…³é—­è¿žæŽ¥åŽä¸è‡ªåŠ¨commit --&gt; &lt;property name="autoCommitOnClose" value="false"/&gt; &lt;!-- èŽ·å–è¿žæŽ¥è¶…æ—¶æ—¶é—´ --&gt; &lt;property name="checkoutTimeout" value="10000"/&gt; &lt;!-- å½“èŽ·å–è¿žæŽ¥å¤±è´¥é‡è¯•æ¬¡æ•° --&gt; &lt;property name="acquireRetryAttempts" value="2"/&gt; &lt;/bean&gt; &lt;!-- 3.é…ç½®SqlSessionFactoryå¯¹è±¡ --&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿žæŽ¥æ±  --&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;!-- é…ç½®MyBatieså…¨å±€é…ç½®æ–‡ä»¶:mybatis-config.xml --&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml"/&gt; &lt;!-- æ‰«æentityåŒ… ä½¿ç”¨åˆ«å --&gt; &lt;property name="typeAliasesPackage" value="o2o.entity"/&gt; &lt;!-- æ‰«æsqlé…ç½®æ–‡ä»¶:mapperéœ€è¦çš„xmlæ–‡ä»¶ --&gt; &lt;property name="mapperLocations" value="classpath:mapper/*.xml"/&gt; &lt;/bean&gt; &lt;!-- 4.é…ç½®æ‰«æDaoæŽ¥å£åŒ…ï¼ŒåŠ¨æ€å®žçŽ°DaoæŽ¥å£ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ --&gt; &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;!-- æ³¨å…¥sqlSessionFactory --&gt; &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"/&gt; &lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæŽ¥å£åŒ… --&gt; &lt;property name="basePackage" value="o2o.dao"/&gt; &lt;/bean&gt;&lt;/beans&gt; 2 Spring -service123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;!-- æ‰«æserviceåŒ…ä¸‹æ‰€æœ‰ä½¿ç”¨æ³¨è§£çš„ç±»åž‹ --&gt; &lt;context:component-scan base-package="o2o.service" /&gt; &lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿žæŽ¥æ±  --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;/bean&gt; &lt;!-- é…ç½®åŸºäºŽæ³¨è§£çš„å£°æ˜Žå¼äº‹åŠ¡ --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;&lt;/beans&gt; 3 Spring-web123456789101112131415161718192021222324252627282930313233343536&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd"&gt; &lt;!-- é…ç½®SpringMVC --&gt; &lt;!-- 1.å¼€å¯SpringMVCæ³¨è§£æ¨¡å¼ --&gt; &lt;!-- ç®€åŒ–é…ç½®ï¼š (1)è‡ªåŠ¨æ³¨å†ŒDefaultAnootationHandlerMapping,AnotationMethodHandlerAdapter (2)æä¾›ä¸€äº›åˆ—ï¼šæ•°æ®ç»‘å®šï¼Œæ•°å­—å’Œæ—¥æœŸçš„format @NumberFormat, @DateTimeFormat, xml,jsoné»˜è®¤è¯»å†™æ”¯æŒ --&gt; &lt;mvc:annotation-driven /&gt; &lt;!-- 2.é™æ€èµ„æºé»˜è®¤servleté…ç½® (1)åŠ å…¥å¯¹é™æ€èµ„æºçš„å¤„ç†ï¼šjs,gif,png (2)å…è®¸ä½¿ç”¨"/"åšæ•´ä½“æ˜ å°„ --&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- 3.é…ç½®jsp æ˜¾ç¤ºViewResolver --&gt; &lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="viewClass" value="org.springframework.web.servlet.view.JstlView" /&gt; &lt;property name="prefix" value="/WEB-INF/jsp/" /&gt; &lt;property name="suffix" value=".jsp" /&gt; &lt;/bean&gt; &lt;!-- 4.æ‰«æwebç›¸å…³çš„bean --&gt; &lt;context:component-scan base-package="o2o.web" /&gt;&lt;!--controllerå±‚ web--&gt;&lt;/beans&gt; 4 myhbatis-config1234567891011121314151617&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;!-- é…ç½®å…¨å±€å±žæ€§ --&gt; &lt;settings&gt; &lt;!-- ä½¿ç”¨jdbcçš„getGeneratedKeysèŽ·å–æ•°æ®åº“è‡ªå¢žä¸»é”®å€¼ --&gt; &lt;setting name="useGeneratedKeys" value="true" /&gt; &lt;!-- ä½¿ç”¨åˆ—æ ‡ç­¾æ›¿æ¢åˆ«å é»˜è®¤:true --&gt; &lt;setting name="useColumnLabel" value="true" /&gt; &lt;!-- å¼€å¯é©¼å³°å‘½åè½¬æ¢:Table&#123;create_time&#125; -&gt; Entity&#123;createTime&#125; --&gt; &lt;setting name="mapUnderscoreToCamelCase" value="true" /&gt; &lt;/settings&gt;&lt;/configuration&gt; 5 web.xml123456789101112131415161718192021222324&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1" metadata-complete="true"&gt; &lt;!-- å¦‚æžœæ˜¯ç”¨mvnå‘½ä»¤ç”Ÿæˆçš„xmlï¼Œéœ€è¦ä¿®æ”¹servletç‰ˆæœ¬ä¸º3.1 --&gt; &lt;!-- é…ç½®DispatcherServlet --&gt; &lt;servlet&gt; &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- é…ç½®springMVCéœ€è¦åŠ è½½çš„é…ç½®æ–‡ä»¶ spring-dao.xml,spring-service.xml,spring-web.xml Mybatis - &gt; spring -&gt; springmvc --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/spring-*.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt; &lt;!-- é»˜è®¤åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; 6 jdbc.properties1234jdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/o2o?useUnicode=true&amp;characterEncoding=utf8jdbc.username=rootjdbc.password=YHP836143 7 Logbackæ—¥å¿—é…ç½®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;&lt;configuration debug="false"&gt; &lt;appender name="INFO-FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/info/info.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/info/info.%d&#123;yyyy-MM-dd&#125;.%i.log.zip&lt;/fileNamePattern&gt; &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt; &lt;maxFileSize&gt;1024MB&lt;/maxFileSize&gt; &lt;/timeBasedFileNamingAndTriggeringPolicy&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - %msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name="ACCESS-FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt; $&#123;catalina.base&#125;/webapps/myo2o/logs/access/access.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;FileNamePattern&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/access/access.%d&#123;yyyy-MM-dd&#125;.%i.log.zip&lt;/FileNamePattern&gt; &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt; &lt;maxFileSize&gt;1024MB&lt;/maxFileSize&gt; &lt;/timeBasedFileNamingAndTriggeringPolicy&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - %msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;logger name="com.imooc.myo2o" level="DEBUG" additivity="false"&gt; &lt;appender-ref ref="ACCESS-FILE" /&gt; &lt;/logger&gt; &lt;root level="INFO"&gt; &lt;appender-ref ref="INFO-FILE" /&gt; &lt;/root&gt;&lt;/configuration&gt; &lt;!--======================================================--&gt;&lt;!--&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;--&gt;&lt;!--&lt;configuration debug="false" scan="true" scanPeriod="50 seconds"&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;å®šä¹‰å‚æ•°å¸¸é‡&amp;ndash;&amp;gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;TRACE&lt;DEBUG&lt;INFO&lt;WARN&lt;ERROR&amp;ndash;&amp;gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;logger.info("msg") logger.debug("msg") logger.error("msg")&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;property name="log.level" value="debug"&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&lt;property name="log.maxHistory" value="30"&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&lt;property name="log.filePath" value="$&#123;catalina.base&#125;/logs/webapps"&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&lt;property name="log.pattern" value="%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - --&gt; &lt;!--%msg%n"&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;æŽ§åˆ¶å°è®¾ç½®&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;appender name="consoleApperder" class="ch.qos.logback.core.ConsoleAppender"&gt;--&gt; &lt;!--&lt;encoder&gt;--&gt; &lt;!--&lt;pattern&gt;$&#123;log.pattern&#125;&lt;/pattern&gt;--&gt; &lt;!--&lt;/encoder&gt;--&gt; &lt;!--&lt;/appender&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;Debug&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;appender name="debugAppender" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;æ–‡ä»¶è·¯å¾„&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;file&gt;--&gt; &lt;!--$&#123;log.filePath&#125;/debug.log--&gt; &lt;!--&lt;/file&gt;--&gt; &lt;!--&lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;æ–‡ä»¶åç§°&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;fileNamePattern&gt;--&gt; &lt;!--&lt;/fileNamePattern&gt;--&gt; &lt;!--&lt;MaxHistory&gt;--&gt; &lt;!----&gt; &lt;!--&lt;/MaxHistory&gt;--&gt; &lt;!--&lt;/rollingPolicy&gt;--&gt; &lt;!--&lt;/appender&gt;--&gt;&lt;!--&lt;/configuration&gt;--&gt; 8 æ—¥å¿—æ–‡ä»¶ 9 pom æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICEccNSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.--&gt;&lt;!-- $Id: pom.xml 642118 2008-03-28 08:04:16Z reinhard $ --&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;o2o&lt;/name&gt; &lt;groupId&gt;com.imooc.o2o&lt;/groupId&gt; &lt;artifactId&gt;o2o&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;properties&gt; &lt;spring.version&gt;4.3.7.RELEASE&lt;/spring.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- å•å…ƒæµ‹è¯• --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 1.æ—¥å¿— --&gt; &lt;!-- å®žçŽ°slf4jæŽ¥å£å¹¶æ•´åˆ --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2.æ•°æ®åº“ --&gt; &lt;!--&lt;dependency&gt;--&gt; &lt;!--&lt;groupId&gt;mysql&lt;/groupId&gt;--&gt; &lt;!--&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt; &lt;!--&lt;version&gt;5.1.37&lt;/version&gt;--&gt; &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt; &lt;!--&lt;/dependency&gt;--&gt; &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.14&lt;/version&gt; &lt;/dependency&gt; &lt;!--&lt;dependency&gt;--&gt; &lt;!--&lt;groupId&gt;c3p0&lt;/groupId&gt;--&gt; &lt;!--&lt;artifactId&gt;c3p0&lt;/artifactId&gt;--&gt; &lt;!--&lt;version&gt;0.9.1.2&lt;/version&gt;--&gt; &lt;!--&lt;/dependency&gt;--&gt; &lt;!-- https://mvnrepository.com/artifact/com.mchange/c3p0 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- DAO: MyBatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3.Servlet web --&gt; &lt;dependency&gt; &lt;groupId&gt;taglibs&lt;/groupId&gt; &lt;artifactId&gt;standard&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;jstl&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4.Spring --&gt; &lt;!-- 1)Springæ ¸å¿ƒ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2)Spring DAOå±‚ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3)Spring web --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4)Spring test --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Mapå·¥å…·ç±» --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt; &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt; &lt;version&gt;6.1.7&lt;/version&gt; &lt;configuration&gt; &lt;connectors&gt; &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt; &lt;port&gt;8888&lt;/port&gt; &lt;maxIdleTime&gt;30000&lt;/maxIdleTime&gt; &lt;/connector&gt; &lt;/connectors&gt; &lt;webAppSourceDirectory&gt;$&#123;project.build.directory&#125;/$&#123;pom.artifactId&#125;-$&#123;pom.version&#125; &lt;/webAppSourceDirectory&gt; &lt;contextPath&gt;/&lt;/contextPath&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 10 éªŒè¯DAO12345678/*é…ç½®Springå’ŒJunitæ•´åˆ Junitå¯åŠ¨æ—¶åŠ è½½SpringIOCå®¹å™¨ */@RunWith(SpringJUnit4ClassRunner.class)//å‘Šè¯‰Junit Springé…ç½®æ–‡ä»¶çš„ä½ç½®@ContextConfiguration(&#123;"classpath:spring/spring-dao.xml"&#125;)public class BaseTest &#123;&#125; 12345678910public class TbAreaMapperTest extends BaseTest &#123; @Autowired private TbAreaMapper tbAreaMapper; @Test public void testQueryArea() &#123; List&lt;TbArea&gt; tbAreas = tbAreaMapper.queryArea(); System.err.println(tbAreas); &#125;&#125; 11 éªŒè¯Service12345678910public class TbAreaServiceTest extends BaseTest &#123; @Autowired private AreaService areaService; @Test public void testGetAreaList() &#123; List&lt;TbArea&gt; areaList = areaService.getAreaList(); System.out.println(areaList); &#125;&#125; 12éªŒè¯Controller123456789101112131415161718192021@Controller@RequestMapping("/superadmin")public class AreaController &#123; @Autowired private AreaService areaService; @RequestMapping(value = "/listArea", method = RequestMethod.GET) @ResponseBody private Map&lt;String, Object&gt; listArea() &#123; Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(); try &#123; List&lt;TbArea&gt; areaList = areaService.getAreaList(); map.put("rows", areaList); map.put("total", areaList.size()); &#125; catch (Exception e) &#123; e.printStackTrace(); map.put("success", false); map.put("errMsg", e.toString()); &#125; return map; &#125; æ³¨æ„âš ï¸Mysql8.0.14 å°†pomæ–‡ä»¶æ¢æˆæœ€é«˜ç‰ˆæœ¬çš„ è¦ä¸ç„¶ä¼šè¿žæŽ¥å¤±è´¥ 12345&lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.2&lt;/version&gt;&lt;/dependency&gt; 12345&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.14&lt;/version&gt;&lt;/dependency&gt;]]></content>
      <tags>
        <tag>SSM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gunså®žæˆ˜]]></title>
    <url>%2F2019%2F01%2F24%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2FGuns%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[MongoDB]]></title>
    <url>%2F2019%2F01%2F18%2FMongoDB%2FMongoDB%2F</url>
    <content type="text"><![CDATA[1.å®‰è£…ä¸Žç®€ä»‹ 1sudo mkdir -p /data/db ä½¿ç”¨ brew å®‰è£…æ­¤å¤–ä½ è¿˜å¯ä»¥ä½¿ç”¨ OSX çš„ brew æ¥å®‰è£… mongodbï¼š 1sudo brew install mongodb å¦‚æžœè¦å®‰è£…æ”¯æŒ TLS/SSL å‘½ä»¤å¦‚ä¸‹ï¼š 1sudo brew install mongodb --with-openssl å®‰è£…æœ€æ–°å¼€å‘ç‰ˆæœ¬ï¼š 1sudo brew install mongodb --devel è¿è¡Œ MongoDB1ã€é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ•°æ®åº“å­˜å‚¨ç›®å½• /data/dbï¼š 1sudo mkdir -p /data/db å¯åŠ¨ mongodbï¼Œé»˜è®¤æ•°æ®åº“ç›®å½•å³ä¸º /data/dbï¼š 12345sudo mongod# å¦‚æžœæ²¡æœ‰åˆ›å»ºå…¨å±€è·¯å¾„ PATHï¼Œéœ€è¦è¿›å…¥ä»¥ä¸‹ç›®å½•cd /usr/local/mongodb/binsudo ./mongod å†æ‰“å¼€ä¸€ä¸ªç»ˆç«¯è¿›å…¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 12345678910$ cd /usr/local/(Cellar)/mongodb/bin $ ./mongoMongoDB shell version v3.4.2connecting to: mongodb://127.0.0.1:27017MongoDB server version: 3.4.2Welcome to the MongoDB shell.â€¦â€¦&gt; 1 + 12&gt; 1.å¯åŠ¨mongodb Mongodb é…ç½®æ–‡ä»¶è·¯å¾„ 2 åŸºæœ¬ä½¿ç”¨ 3æ–‡æ¡£ä¹‹é—´çš„å…³ç³» ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š ã€é‡è¦ã€‘ 4 sort å’ŒæŠ•å½± 5 Mongoose Node.js ä¿®æ”¹æ–‡æ¡£12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061/* ä¿®æ”¹ db.collection.update(æŸ¥è¯¢æ¡ä»¶,æ–°å¯¹è±¡) - update()é»˜è®¤æƒ…å†µä¸‹ä¼šä½¿ç”¨æ–°å¯¹è±¡æ¥æ›¿æ¢æ—§çš„å¯¹è±¡ - å¦‚æžœéœ€è¦ä¿®æ”¹æŒ‡å®šçš„å±žæ€§ï¼Œè€Œä¸æ˜¯æ›¿æ¢éœ€è¦ä½¿ç”¨â€œä¿®æ”¹æ“ä½œç¬¦â€æ¥å®Œæˆä¿®æ”¹ $set å¯ä»¥ç”¨æ¥ä¿®æ”¹æ–‡æ¡£ä¸­çš„æŒ‡å®šå±žæ€§ $unset å¯ä»¥ç”¨æ¥åˆ é™¤æ–‡æ¡£çš„æŒ‡å®šå±žæ€§ - update()é»˜è®¤åªä¼šä¿®æ”¹ä¸€ä¸ª db.collection.updateMany() - åŒæ—¶ä¿®æ”¹å¤šä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collection.updateOne() - ä¿®æ”¹ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collection.replaceOne() - æ›¿æ¢ä¸€ä¸ªæ–‡æ¡£*/db.stus.find(&#123;&#125;);//æ›¿æ¢db.stus.update(&#123;name:"æ²™å’Œå°š"&#125;,&#123;age:28&#125;);db.stus.update( &#123;"_id" : ObjectId("59c219689410bc1dbecc0709")&#125;, &#123;$set:&#123; gender:"ç”·", address:"æµæ²™æ²³" &#125;&#125; )db.stus.update( &#123;"_id" : ObjectId("59c219689410bc1dbecc0709")&#125;, &#123;$unset:&#123; address:1 &#125;&#125; )db.stus.updateMany( &#123;"name" : "çŒªå…«æˆ’"&#125;, &#123; $set:&#123; address:"çŒªè€åº„" &#125; &#125; ); db.stus.update( &#123;"name" : "çŒªå…«æˆ’"&#125;, &#123; $set:&#123; address:"å‘µå‘µå‘µ" &#125; &#125; , &#123; multi:true &#125; )db.stus.find() åˆ é™¤æ–‡æ¡£123456789101112131415161718192021222324252627282930313233/* db.collection.remove() - åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œå¯ä»¥ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ä¸€ä¸ªtrueï¼Œåˆ™åªä¼šåˆ é™¤ä¸€ä¸ª - å¦‚æžœä¼ é€’ä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œåˆ™ä¼šåˆ é™¤æ‰€æœ‰çš„ db.collection.deleteOne() db.collection.deleteMany() db.collection.drop() åˆ é™¤é›†åˆ db.dropDatabase() åˆ é™¤æ•°æ®åº“ - ä¸€èˆ¬æ•°æ®åº“ä¸­çš„æ•°æ®éƒ½ä¸ä¼šåˆ é™¤ï¼Œæ‰€ä»¥åˆ é™¤çš„æ–¹æ³•å¾ˆå°‘è°ƒç”¨ ä¸€èˆ¬ä¼šåœ¨æ•°æ®ä¸­æ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œæ¥è¡¨ç¤ºæ•°æ®æ˜¯å¦è¢«åˆ é™¤*/ db.stus.insert([ &#123; name:"zbj", isDel:0 &#125;, &#123; name:"shs", isDel:0 &#125;, &#123; name:"ts", isDel:0 &#125;]);db.stus.updateOne(&#123;name:"ts"&#125;,&#123;$set:&#123;isDel:1&#125;&#125;); db.stus.find(&#123;isDel:0&#125;) æ’å…¥æ–‡æ¡£1234567891011121314151617181920212223242526/* å‘æ•°æ®åº“æ’å…¥æ–‡æ¡£ db.&lt;collection&gt;.insert() - å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ - å½“æˆ‘ä»¬å‘é›†åˆä¸­æ’å…¥æ–‡æ¡£æ—¶ï¼Œå¦‚æžœæ²¡æœ‰ç»™æ–‡æ¡£æŒ‡å®š_idå±žæ€§ï¼Œåˆ™æ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºæ–‡æ¡£æ·»åŠ _id è¯¥å±žæ€§ç”¨æ¥ä½œä¸ºæ–‡æ¡£çš„å”¯ä¸€æ ‡è¯† - _idæˆ‘ä»¬å¯ä»¥è‡ªå·±æŒ‡å®šï¼Œå¦‚æžœæˆ‘ä»¬æŒ‡å®šäº†æ•°æ®åº“å°±ä¸ä¼šåœ¨æ·»åŠ äº†ï¼Œå¦‚æžœè‡ªå·±æŒ‡å®š_id ä¹Ÿå¿…é¡»ç¡®ä¿å®ƒçš„å”¯ä¸€æ€§ db.collection.insertOne() - æ’å…¥ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡ db.collection.insertMany() - æ’å…¥å¤šä¸ªæ–‡æ¡£å¯¹è±¡*/db.stus.insert(&#123;name:"çŒªå…«æˆ’",age:28,gender:"ç”·"&#125;);db.stus.insert([ &#123;name:"æ²™å’Œå°š",age:38,gender:"ç”·"&#125;, &#123;name:"ç™½éª¨ç²¾",age:16,gender:"å¥³"&#125;, &#123;name:"èœ˜è››ç²¾",age:14,gender:"å¥³"&#125;]);db.stus.insert(&#123;_id:"hello",name:"çŒªå…«æˆ’",age:28,gender:"ç”·"&#125;);db.stus.find();ObjectId() æ–‡æ¡£æŸ¥è¯¢12345678910111213141516171819202122/* æŸ¥è¯¢ db.collection.find() - find()ç”¨æ¥æŸ¥è¯¢é›†åˆä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ - find()å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ¡ä»¶å‚æ•° &#123;&#125; è¡¨ç¤ºæŸ¥è¯¢é›†åˆä¸­æ‰€æœ‰çš„æ–‡æ¡£ &#123;å±žæ€§:å€¼&#125; æŸ¥è¯¢å±žæ€§æ˜¯æŒ‡å®šå€¼çš„æ–‡æ¡£ - find()è¿”å›žçš„æ˜¯ä¸€ä¸ªæ•°ç»„ db.collection.findOne() - ç”¨æ¥æŸ¥è¯¢é›†åˆä¸­ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£ - findOne()è¿”å›žçš„æ˜¯ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡ db.collection.find(&#123;&#125;).count() - æŸ¥è¯¢æ‰€æœ‰ç»“æžœçš„æ•°é‡*/db.stus.find(&#123;_id:"hello"&#125;);db.stus.find(&#123;age:16 , name:"ç™½éª¨ç²¾"&#125;);db.stus.find(&#123;age:28&#125;);db.stus.findOne(&#123;age:28&#125;);db.stus.find(&#123;&#125;).count(); ç¬”è®°MongoDB - MongoDBæ˜¯ä¸€ä¸ªNoSQLçš„æ•°æ®åº“ - MongoDBæ˜¯ä¸€æ¬¾æ–‡æ¡£åž‹æ•°æ®åº“ - æ•°æ®åº“æŒ‡çš„å°±æ˜¯ä¸€ä¸ªå­˜å‚¨æ•°æ®çš„ä»“åº“ æ•°æ®åº“å¯ä»¥ä½¿æˆ‘ä»¬å®Œæˆå¯¹æ•°æ®çš„æŒä¹…åŒ–çš„æ“ä½œ - MongoDBæ•°æ®åº“ä¸­å­˜å‚¨çš„æ•°æ®çš„åŸºæœ¬å•ä½å°±æ˜¯æ–‡æ¡£ï¼Œ MongoDBä¸­å­˜å‚¨çš„å°±æ˜¯æ–‡æ¡£ï¼Œæ‰€è°“æ–‡æ¡£å…¶å®žå°±æ˜¯ä¸€ä¸ªâ€œJSONâ€ - MongoDBä¸­çš„â€œJSONâ€æˆ‘ä»¬ç§°ä¸ºBSONï¼Œæ¯”æ™®é€šçš„JSONçš„åŠŸèƒ½è¦æ›´åŠ çš„å¼ºå¤§ - MongoDBæ•°æ®åº“ä½¿ç”¨çš„æ˜¯JavaScriptè¿›è¡Œæ“ä½œçš„ï¼Œåœ¨MongoDBå«æœ‰ä¸€ä¸ªå¯¹ESæ ‡å‡†å®žçŽ°çš„å¼•æ“Žï¼Œ åœ¨MongoDBä¸­æ‰€æœ‰ESä¸­çš„è¯­æ³•ä¸­éƒ½å¯ä»¥ä½¿ç”¨ - MongoDBçš„åŸºæœ¬çš„æŒ‡ä»¤ - å¯åŠ¨æœåŠ¡å™¨ mongod --dbpath è·¯å¾„ --port ç«¯å£å· - å¯åŠ¨å®¢æˆ·ç«¯ mongo - MongoDBçš„CRUDçš„æ“ä½œ - åŸºæœ¬æ“ä½œ use æ•°æ®åº“ - è¿›å…¥æŒ‡å®šçš„æ•°æ®åº“ show dbs - æ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ®åº“ show collections - æ˜¾ç¤ºæ•°æ®åº“ä¸­æ‰€æœ‰çš„é›†åˆ db - æ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„æ•°æ®åº“ - å‘æ•°æ®åº“ä¸­æ’å…¥æ–‡æ¡£ - db.collection.insert() - insert()å¯ä»¥å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ - db.collection.insertOne() - å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£ - db.collection.insertMany() - å‘é›†åˆä¸­æ’å…¥å¤šä¸ªæ–‡æ¡£ - æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ–‡æ¡£ - db.collection.find() - å¯ä»¥æ ¹æ®æŒ‡å®šæ¡ä»¶ä»Žé›†åˆä¸­æŸ¥è¯¢æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ - è¿”å›žçš„æ˜¯ä¸€ä¸ªæ•°ç»„ - db.collection.findOne() - æŸ¥è¯¢ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ - è¿”å›žçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ - db.collection.find().count() - æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£çš„æ•°é‡ - ä¿®æ”¹æ•°æ®åº“ä¸­çš„æ–‡æ¡£ - db.collection.update() - å¯ä»¥ä¿®æ”¹ã€æ›¿æ¢é›†åˆä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ - db.collection.updateOne() - ä¿®æ”¹é›†åˆä¸­çš„ä¸€ä¸ªæ–‡æ¡£ - db.collection.updateMany() - ä¿®æ”¹é›†åˆä¸­çš„å¤šä¸ªæ–‡æ¡£ - db.collection.replaceOne() - æ›¿æ¢é›†åˆä¸­çš„ä¸€ä¸ªæ–‡æ¡£ - åˆ é™¤é›†åˆä¸­çš„æ–‡æ¡£ - db.collection.remove() - åˆ é™¤é›†åˆä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ï¼ˆé»˜è®¤åˆ é™¤å¤šä¸ªï¼‰ - db.collection.deleteOne() - åˆ é™¤é›†åˆä¸­çš„ä¸€ä¸ªæ–‡æ¡£ - db.collection.deleteMany() - åˆ é™¤é›†åˆä¸­çš„å¤šä¸ªæ–‡æ¡£ - æ¸…ç©ºä¸€ä¸ªé›†åˆ db.collection.remove({}) - åˆ é™¤ä¸€ä¸ªé›†åˆ db.collection.drop() - åˆ é™¤ä¸€ä¸ªæ•°æ®åº“ db.dropDatabase() ç»ƒä¹ 11234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283//1.è¿›å…¥my_testæ•°æ®åº“use my_test//2.å‘æ•°æ®åº“çš„useré›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£ db.users.insert(&#123; username:"sunwukong"&#125;);//3.æŸ¥è¯¢useré›†åˆä¸­çš„æ–‡æ¡£db.users.find();//4.å‘æ•°æ®åº“çš„useré›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£ db.users.insert(&#123; username:"zhubajie"&#125;); //5.æŸ¥è¯¢æ•°æ®åº“useré›†åˆä¸­çš„æ–‡æ¡£db.users.find();//6.ç»Ÿè®¡æ•°æ®åº“useré›†åˆä¸­çš„æ–‡æ¡£æ•°é‡db.users.find().count();//7.æŸ¥è¯¢æ•°æ®åº“useré›†åˆä¸­usernameä¸ºsunwukongçš„æ–‡æ¡£db.users.find(&#123;username:"sunwukong"&#125;);//8.å‘æ•°æ®åº“useré›†åˆä¸­çš„usernameä¸ºsunwukongçš„æ–‡æ¡£ï¼Œæ·»åŠ ä¸€ä¸ªaddresså±žæ€§ï¼Œå±žæ€§å€¼ä¸ºhuaguoshandb.users.update(&#123;username:"sunwukong"&#125;,&#123;$set:&#123;address:"huaguoshan"&#125;&#125;);//9.ä½¿ç”¨&#123;username:"tangseng"&#125; æ›¿æ¢ username ä¸º zhubajieçš„æ–‡æ¡£db.users.replaceOne(&#123;username:"zhubajie"&#125;,&#123;username:"tangseng"&#125;); //10.åˆ é™¤usernameä¸ºsunwukongçš„æ–‡æ¡£çš„addresså±žæ€§db.users.update(&#123;username:"sunwukong"&#125;,&#123;$unset:&#123;address:1&#125;&#125;);//11.å‘usernameä¸ºsunwukongçš„æ–‡æ¡£ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªhobby:&#123;cities:["beijing","shanghai","shenzhen"] , movies:["sanguo","hero"]&#125;//MongoDBçš„æ–‡æ¡£çš„å±žæ€§å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œå½“ä¸€ä¸ªæ–‡æ¡£çš„å±žæ€§å€¼æ˜¯ä¸€ä¸ªæ–‡æ¡£æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªæ–‡æ¡£å«åš å†…åµŒæ–‡æ¡£db.users.update(&#123;username:"sunwukong"&#125;,&#123;$set:&#123;hobby:&#123;cities:["beijing","shanghai","shenzhen"] , movies:["sanguo","hero"]&#125;&#125;&#125;);db.users.find();//12.å‘usernameä¸ºtangsengçš„æ–‡æ¡£ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªhobby:&#123;movies:["A Chinese Odyssey","King of comedy"]&#125;db.users.update(&#123;username:"tangseng"&#125;,&#123;$set:&#123;hobby:&#123;movies:["A Chinese Odyssey","King of comedy"]&#125;&#125;&#125;)//13.æŸ¥è¯¢å–œæ¬¢ç”µå½±heroçš„æ–‡æ¡£//MongoDBæ”¯æŒç›´æŽ¥é€šè¿‡å†…åµŒæ–‡æ¡£çš„å±žæ€§è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æžœè¦æŸ¥è¯¢å†…åµŒæ–‡æ¡£åˆ™å¯ä»¥é€šè¿‡.çš„å½¢å¼æ¥åŒ¹é…//å¦‚æžœè¦é€šè¿‡å†…åµŒæ–‡æ¡£æ¥å¯¹æ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢ï¼Œæ­¤æ—¶å±žæ€§åå¿…é¡»ä½¿ç”¨å¼•å· db.users.find(&#123;'hobby.movies':"hero"&#125;);//14.å‘tangsengä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ç”µå½±Interstellar//$push ç”¨äºŽå‘æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ //$addToSet å‘æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  ï¼Œ å¦‚æžœæ•°ç»„ä¸­å·²ç»å­˜åœ¨äº†è¯¥å…ƒç´ ï¼Œåˆ™ä¸ä¼šæ·»åŠ db.users.update(&#123;username:"tangseng"&#125;,&#123;$push:&#123;"hobby.movies":"Interstellar"&#125;&#125;);db.users.update(&#123;username:"tangseng"&#125;,&#123;$addToSet:&#123;"hobby.movies":"Interstellar"&#125;&#125;);db.users.find();//15.åˆ é™¤å–œæ¬¢beijingçš„ç”¨æˆ·db.users.remove(&#123;"hobby.cities":"beijing"&#125;);//16.åˆ é™¤useré›†åˆdb.users.remove(&#123;&#125;);db.users.drop();show dbs;//17.å‘numbersä¸­æ’å…¥20000æ¡æ•°æ® 7.2sfor(var i=1 ; i&lt;=20000 ; i++)&#123; db.numbers.insert(&#123;num:i&#125;);&#125;db.numbers.find()db.numbers.remove(&#123;&#125;);//0.4svar arr = [];for(var i=1 ; i&lt;=20000 ; i++)&#123; arr.push(&#123;num:i&#125;);&#125;db.numbers.insert(arr); ç»ƒä¹ 21234567891011121314151617181920212223242526272829303132333435363738394041424344//18.æŸ¥è¯¢numbersä¸­numä¸º500çš„æ–‡æ¡£db.numbers.find(&#123;num:500&#125;)//19.æŸ¥è¯¢numbersä¸­numå¤§äºŽ5000çš„æ–‡æ¡£db.numbers.find(&#123;num:&#123;$gt:500&#125;&#125;);db.numbers.find(&#123;num:&#123;$eq:500&#125;&#125;);//20.æŸ¥è¯¢numbersä¸­numå°äºŽ30çš„æ–‡æ¡£db.numbers.find(&#123;num:&#123;$lt:30&#125;&#125;);//21.æŸ¥è¯¢numbersä¸­numå¤§äºŽ40å°äºŽ50çš„æ–‡æ¡£db.numbers.find(&#123;num:&#123;$gt:40 , $lt:50&#125;&#125;);//22.æŸ¥è¯¢numbersä¸­numå¤§äºŽ19996çš„æ–‡æ¡£db.numbers.find(&#123;num:&#123;$gt:19996&#125;&#125;);//23.æŸ¥çœ‹numbersé›†åˆä¸­çš„å‰10æ¡æ•°æ®db.numbers.find(&#123;num:&#123;$lte:10&#125;&#125;);//limit()è®¾ç½®æ˜¾ç¤ºæ•°æ®çš„ä¸Šé™db.numbers.find().limit(10);//åœ¨å¼€å‘æ—¶ï¼Œæˆ‘ä»¬ç»å¯¹ä¸ä¼šæ‰§è¡Œä¸å¸¦æ¡ä»¶çš„æŸ¥è¯¢db.numbers.find();//24.æŸ¥çœ‹numbersé›†åˆä¸­çš„ç¬¬11æ¡åˆ°20æ¡æ•°æ®/* åˆ†é¡µ æ¯é¡µæ˜¾ç¤º10æ¡ 1-10 0 11-20 10 21-30 20 ã€‚ã€‚ã€‚ skip((é¡µç -1) * æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°).limit(æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°); skip()ç”¨äºŽè·³è¿‡æŒ‡å®šæ•°é‡çš„æ•°æ® MongoDBä¼šè‡ªåŠ¨è°ƒæ•´skipå’Œlimitçš„ä½ç½®*/db.numbers.find().skip(10).limit(10);//25.æŸ¥çœ‹numbersé›†åˆä¸­çš„ç¬¬21æ¡åˆ°30æ¡æ•°æ®db.numbers.find().skip(20).limit(10);db.numbers.find().limit(10).skip(10); ç»ƒä¹ 312345678910111213141516171819202122232425262728//26.å°†deptå’Œempé›†åˆå¯¼å…¥åˆ°æ•°æ®åº“ä¸­db.dept.find()db.emp.find()//27.æŸ¥è¯¢å·¥èµ„å°äºŽ2000çš„å‘˜å·¥db.emp.find(&#123;sal:&#123;$lt:2000&#125;&#125;);//28.æŸ¥è¯¢å·¥èµ„åœ¨1000-2000ä¹‹é—´çš„å‘˜å·¥db.emp.find(&#123;sal:&#123;$lt:2000 , $gt:1000&#125;&#125;);//29.æŸ¥è¯¢å·¥èµ„å°äºŽ1000æˆ–å¤§äºŽ2500çš„å‘˜å·¥db.emp.find(&#123;$or:[&#123;sal:&#123;$lt:1000&#125;&#125; , &#123;sal:&#123;$gt:2500&#125;&#125;]&#125;);//30.æŸ¥è¯¢è´¢åŠ¡éƒ¨çš„æ‰€æœ‰å‘˜å·¥//(depno)var depno = db.dept.findOne(&#123;dname:"è´¢åŠ¡éƒ¨"&#125;).deptno;db.emp.find(&#123;depno:depno&#125;);//31.æŸ¥è¯¢é”€å”®éƒ¨çš„æ‰€æœ‰å‘˜å·¥var depno = db.dept.findOne(&#123;dname:"é”€å”®éƒ¨"&#125;).deptno;db.emp.find(&#123;depno:depno&#125;);//32.æŸ¥è¯¢æ‰€æœ‰mgrä¸º7698çš„æ‰€æœ‰å‘˜å·¥db.emp.find(&#123;mgr:7698&#125;)//33.ä¸ºæ‰€æœ‰è–ªèµ„ä½ŽäºŽ1000çš„å‘˜å·¥å¢žåŠ å·¥èµ„400å…ƒdb.emp.updateMany(&#123;sal:&#123;$lte:1000&#125;&#125; , &#123;$inc:&#123;sal:400&#125;&#125;);db.emp.find() æ–‡æ¡£é—´çš„å…³ç³»123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384 /* æ–‡æ¡£ä¹‹é—´çš„å…³ç³» ä¸€å¯¹ä¸€ï¼ˆone to oneï¼‰ - å¤«å¦» (ä¸€ä¸ªä¸ˆå¤« å¯¹åº” ä¸€ä¸ªå¦»å­) - åœ¨MongoDBï¼Œå¯ä»¥é€šè¿‡å†…åµŒæ–‡æ¡£çš„å½¢å¼æ¥ä½“çŽ°å‡ºä¸€å¯¹ä¸€çš„å…³ç³» ä¸€å¯¹å¤šï¼ˆone to manyï¼‰/å¤šå¯¹ä¸€(many to one) - çˆ¶æ¯ - å­©å­ ç”¨æˆ· - è®¢å• æ–‡ç«  - è¯„è®º - ä¹Ÿå¯ä»¥é€šè¿‡å†…åµŒæ–‡æ¡£æ¥æ˜ å°„ä¸€å¯¹å¤šçš„å…³ç³» å¤šå¯¹å¤š(many to many) - åˆ†ç±» - å•†å“ è€å¸ˆ - å­¦ç”Ÿ */db.wifeAndHusband.insert([ &#123; name:"é»„è“‰", husband:&#123; name:"éƒ­é–" &#125; &#125;,&#123; name:"æ½˜é‡‘èŽ²", husband:&#123; name:"æ­¦å¤§éƒŽ" &#125; &#125;]);db.wifeAndHusband.find();//ä¸€å¯¹å¤š ç”¨æˆ·(users) å’Œ è®¢å•(orders)db.users.insert([&#123; username:"swk" &#125;,&#123; username:"zbj"&#125;]);db.order.insert(&#123; list:["ç‰›è‚‰","æ¼«ç”»"], user_id: ObjectId("59c47e35241d8d36a1d50de0") &#125;);db.users.find()db.order.find()//æŸ¥æ‰¾ç”¨æˆ·swkçš„è®¢å•var user_id = db.users.findOne(&#123;username:"zbj"&#125;)._id;db.order.find(&#123;user_id:user_id&#125;);//å¤šå¯¹å¤šdb.teachers.insert([ &#123;name:"æ´ªä¸ƒå…¬"&#125;, &#123;name:"é»„è¯å¸ˆ"&#125;, &#123;name:"é¾Ÿä»™äºº"&#125;]);db.stus.insert([ &#123; name:"éƒ­é–", tech_ids:[ ObjectId("59c4806d241d8d36a1d50de4"), ObjectId("59c4806d241d8d36a1d50de5") ] &#125;,&#123; name:"å­™æ‚Ÿç©º", tech_ids:[ ObjectId("59c4806d241d8d36a1d50de4"), ObjectId("59c4806d241d8d36a1d50de5"), ObjectId("59c4806d241d8d36a1d50de6") ] &#125;])db.teachers.find()db.stus.find() Sortå’ŒæŠ•å½±1234567891011//æŸ¥è¯¢æ–‡æ¡£æ—¶ï¼Œé»˜è®¤æƒ…å†µæ˜¯æŒ‰ç…§_idçš„å€¼è¿›è¡ŒæŽ’åˆ—ï¼ˆå‡åºï¼‰//sort()å¯ä»¥ç”¨æ¥æŒ‡å®šæ–‡æ¡£çš„æŽ’åºçš„è§„åˆ™,sort()éœ€è¦ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ¥æŒ‡å®šæŽ’åºè§„åˆ™ 1è¡¨ç¤ºå‡åº -1è¡¨ç¤ºé™åº//limit skip sort å¯ä»¥ä»¥ä»»æ„çš„é¡ºåºè¿›è¡Œè°ƒç”¨db.emp.find(&#123;&#125;).sort(&#123;sal:1,empno:-1&#125;);//åœ¨æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥åœ¨ç¬¬äºŒä¸ªå‚æ•°çš„ä½ç½®æ¥è®¾ç½®æŸ¥è¯¢ç»“æžœçš„ æŠ•å½±db.emp.find(&#123;&#125;,&#123;ename:1 , _id:0 , sal:1&#125;); â€‹ â€‹ â€‹ â€‹ 12&gt; brew services start mongodb&gt; SpringBoot æ•´åˆmongodb]]></content>
      <tags>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®žæˆ˜ç”µå•†é¡¹ç›®]]></title>
    <url>%2F2019%2F01%2F18%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E6%85%95%E8%AF%BE%E7%BD%91%20Java%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"><![CDATA[12 ç¬¬ä¸€ç« è¯¾ç¨‹ä»‹ç»ç¬¬äºŒç« å¼€å‘çŽ¯å¢ƒçš„å®‰è£…é¢„é…ç½®è®²è§£ç¬¬ä¸‰ç« æ•°æ®åº“è¡¨è®¾è®¡ mysql ç´¢å¼•æ€Žä¹ˆå¼„ æ™®é€šç´¢å¼• åˆ›å»ºç´¢å¼• è¿™æ˜¯æœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œå®ƒæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚å®ƒæœ‰ä»¥ä¸‹å‡ ç§åˆ›å»ºæ–¹å¼ï¼š 1CREATE INDEX indexName ON mytable(username(length)); å¦‚æžœæ˜¯CHARï¼ŒVARCHARç±»åž‹ï¼Œlengthå¯ä»¥å°äºŽå­—æ®µå®žé™…é•¿åº¦ï¼›å¦‚æžœæ˜¯BLOBå’ŒTEXTç±»åž‹ï¼Œå¿…é¡»æŒ‡å®š lengthã€‚ ä¿®æ”¹è¡¨ç»“æž„(æ·»åŠ ç´¢å¼•) 1ALTER table tableName ADD INDEX indexName(columnName) åˆ›å»ºè¡¨çš„æ—¶å€™ç›´æŽ¥æŒ‡å®š 123456789CREATE TABLE mytable( ID INT NOT NULL, username VARCHAR(16) NOT NULL, INDEX [indexName] (username(length)) ); åˆ é™¤ç´¢å¼•çš„è¯­æ³• 1DROP INDEX [indexName] ON mytable; å”¯ä¸€ç´¢å¼• å®ƒä¸Žå‰é¢çš„æ™®é€šç´¢å¼•ç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚å¦‚æžœæ˜¯ç»„åˆç´¢å¼•ï¼Œåˆ™åˆ—å€¼çš„ç»„åˆå¿…é¡»å”¯ä¸€ã€‚å®ƒæœ‰ä»¥ä¸‹å‡ ç§åˆ›å»ºæ–¹å¼ï¼š åˆ›å»ºç´¢å¼• 1CREATE UNIQUE INDEX indexName ON mytable(username(length)) ä¿®æ”¹è¡¨ç»“æž„ 1ALTER table mytable ADD UNIQUE [indexName] (username(length)) åˆ›å»ºè¡¨çš„æ—¶å€™ç›´æŽ¥æŒ‡å®š 123456789CREATE TABLE mytable( ID INT NOT NULL, username VARCHAR(16) NOT NULL, UNIQUE [indexName] (username(length)) ); ç¬¬å››ç«  é¡¹ç›®åˆå§‹åŒ– 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com&lt;/groupId&gt; &lt;artifactId&gt;mmall&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;name&gt;mmall Maven Webapp&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt; &lt;org.springframework.version&gt;4.0.0.RELEASE&lt;/org.springframework.version&gt; &lt;org.mybatis.version&gt;3.4.1&lt;/org.mybatis.version&gt; &lt;org.mybatis.spring.version&gt;1.3.0&lt;/org.mybatis.spring.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt; &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt; &lt;version&gt;7.0.64&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.7.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mybatis.spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mybatis.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;1.6.11&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt; &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt; &lt;version&gt;1.9.12&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-dbcp&lt;/groupId&gt; &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt; &lt;version&gt;1.4&lt;/version&gt; &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-core&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;20.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;joda-time&lt;/groupId&gt; &lt;artifactId&gt;joda-time&lt;/artifactId&gt; &lt;version&gt;2.3&lt;/version&gt; &lt;/dependency&gt; &lt;!-- idåŠ å¯†è§£å¯† --&gt; &lt;dependency&gt; &lt;groupId&gt;org.hashids&lt;/groupId&gt; &lt;artifactId&gt;hashids&lt;/artifactId&gt; &lt;version&gt;1.0.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- ftpclient --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-net&lt;/groupId&gt; &lt;artifactId&gt;commons-net&lt;/artifactId&gt; &lt;version&gt;3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- file upload --&gt; &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.0.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mybatis pager --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.miemiedev&lt;/groupId&gt; &lt;artifactId&gt;mybatis-paginator&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt; &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt; &lt;version&gt;0.9.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- alipay --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-configuration&lt;/groupId&gt; &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-lang&lt;/groupId&gt; &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;version&gt;1.1.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.zxing&lt;/groupId&gt; &lt;artifactId&gt;core&lt;/artifactId&gt; &lt;version&gt;2.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt; &lt;artifactId&gt;gson&lt;/artifactId&gt; &lt;version&gt;2.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.hamcrest&lt;/groupId&gt; &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt; &lt;version&gt;1.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;mmall&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;configuration&gt; &lt;verbose&gt;true&lt;/verbose&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;!-- geelynote mavençš„æ ¸å¿ƒæ’ä»¶ä¹‹-complieræ’ä»¶é»˜è®¤åªæ”¯æŒç¼–è¯‘Java 1.4ï¼Œå› æ­¤éœ€è¦åŠ ä¸Šæ”¯æŒé«˜ç‰ˆæœ¬jreçš„é…ç½®ï¼Œåœ¨pom.xmlé‡Œé¢åŠ ä¸Š å¢žåŠ ç¼–è¯‘æ’ä»¶ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.7&lt;/source&gt; &lt;target&gt;1.7&lt;/target&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;compilerArguments&gt; &lt;extdirs&gt;$&#123;project.basedir&#125;/src/main/webapp/WEB-INF/lib&lt;/extdirs&gt; &lt;/compilerArguments&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; æ—¶é—´æˆ³ now () mybatis-plugin é«˜æ¸…å°é¸Ÿå¤§å›¾ ðŸ¦ Spring å®˜ç½‘ä»£ç  å® ç‰©åŒ»é™¢ã€‚ç»¿æˆ¿å­ https://github.com/spring-projects/spring-mvc-showcase https://github.com/spring-projects/spring-petclinic https://github.com/spring-projects/greenhouse ä»£ç é…ç½® é…ç½®web.xmlé…ç½®1.è®¾ç½®è¿‡æ»¤å™¨ è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜123456789101112131415161718&lt;!--è®¾ç½®è¿‡æ»¤å™¨ è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜--&gt; &lt;filter&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;!--æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ èµ°è¿™ä¸ªfilter--&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; 2 ç›‘å¬å™¨123456789101112131415&lt;!--ç›‘å¬å™¨1 è´Ÿè´£ç›‘å¬webå®¹å™¨çš„å¯åŠ¨å’Œå…³é—­ RequestContextListener--&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!--ç›‘å¬å™¨2 å°†Springå’Œwebå®¹å™¨æ•´åˆçš„ç›‘å¬å™¨ ContextLoaderListener--&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!--é€šè¿‡ContextLoaderListeneråŠ è½½applicationContext.xml--&gt;&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:applicationContext.xml &lt;/param-value&gt;&lt;/context-param&gt; 3 spring mvcçš„é…ç½®12345678910111213&lt;!--SpringMVC çš„é…ç½®--&gt;&lt;servlet&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!--ä¼˜å…ˆçº§å¯åŠ¨é¡ºåº--&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; web.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;&lt;!--è®¾ç½®è¿‡æ»¤å™¨ è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜--&gt;&lt;filter&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt;&lt;/filter&gt;&lt;!--æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚ èµ°è¿™ä¸ªfilter--&gt;&lt;filter-mapping&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;&lt;!--ç›‘å¬å™¨1 è´Ÿè´£ç›‘å¬webå®¹å™¨çš„å¯åŠ¨å’Œå…³é—­ RequestContextListener--&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!--ç›‘å¬å™¨2 å°†Springå’Œwebå®¹å™¨æ•´åˆçš„ç›‘å¬å™¨ ContextLoaderListener--&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!--é€šè¿‡ContextLoaderListeneråŠ è½½applicationContext.xml--&gt;&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:applicationContext.xml &lt;/param-value&gt;&lt;/context-param&gt;&lt;!--SpringMVC çš„é…ç½®--&gt;&lt;servlet&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!--ä¼˜å…ˆçº§å¯åŠ¨é¡ºåº--&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;&lt;/web-app&gt; Springçš„é…ç½®1. Springçš„ä¸»é…ç½®1234567&lt;!-- æ‰«æçš„åŸºæœ¬åŒ…è·¯å¾„ --&gt; &lt;!-- æ˜¯å¦æ¿€æ´»å±žæ€§æ³¨å…¥æ³¨è§£ --&gt; &lt;context:component-scan base-package="com.mmall" annotation-config="true"/&gt; &lt;!--&lt;context:annotation-config/&gt;--&gt; &lt;aop:aspectj-autoproxy/&gt; &lt;!--åˆ†ç¦»Springé…ç½®æ–‡ä»¶--&gt; &lt;import resource="applicationContext-datasource.xml"/&gt; 2.Springæ•°æ®åº“çš„é…ç½®2.1 é…ç½®Springæ–‡ä»¶çš„æ—¶å€™å°†å¸¸é‡è¿›è¡Œåˆ†ç¦»123456789101112&lt;!--é…ç½®Springæ–‡ä»¶çš„æ—¶å€™å°†å¸¸é‡è¿›è¡Œåˆ†ç¦»--&gt;&lt;bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"&gt; &lt;property name="order" value="2"/&gt; &lt;property name="ignoreUnresolvablePlaceholders" value="true"/&gt; &lt;property name="locations"&gt; &lt;list&gt; &lt;value&gt;classpath:datasource.properties&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="fileEncoding" value="utf-8"/&gt;&lt;/bean&gt; 2.2 æ•°æ®åº“è¿žæŽ¥æ± 1234567891011121314151617181920212223242526272829303132&lt;bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close"&gt; &lt;property name="driverClassName" value="$&#123;db.driverClassName&#125;"/&gt; &lt;property name="url" value="$&#123;db.url&#125;"/&gt; &lt;property name="username" value="$&#123;db.username&#125;"/&gt; &lt;property name="password" value="$&#123;db.password&#125;"/&gt; &lt;!-- è¿žæŽ¥æ± å¯åŠ¨æ—¶çš„åˆå§‹å€¼ --&gt; &lt;property name="initialSize" value="$&#123;db.initialSize&#125;"/&gt; &lt;!-- è¿žæŽ¥æ± çš„æœ€å¤§å€¼ --&gt; &lt;property name="maxActive" value="$&#123;db.maxActive&#125;"/&gt; &lt;!-- æœ€å¤§ç©ºé—²å€¼.å½“ç»è¿‡ä¸€ä¸ªé«˜å³°æ—¶é—´åŽï¼Œè¿žæŽ¥æ± å¯ä»¥æ…¢æ…¢å°†å·²ç»ç”¨ä¸åˆ°çš„è¿žæŽ¥æ…¢æ…¢é‡Šæ”¾ä¸€éƒ¨åˆ†ï¼Œä¸€ç›´å‡å°‘åˆ°maxIdleä¸ºæ­¢ --&gt; &lt;property name="maxIdle" value="$&#123;db.maxIdle&#125;"/&gt; &lt;!-- æœ€å°ç©ºé—²å€¼.å½“ç©ºé—²çš„è¿žæŽ¥æ•°å°‘äºŽé˜€å€¼æ—¶ï¼Œè¿žæŽ¥æ± å°±ä¼šé¢„ç”³è¯·åŽ»ä¸€äº›è¿žæŽ¥ï¼Œä»¥å…æ´ªå³°æ¥æ—¶æ¥ä¸åŠç”³è¯· --&gt; &lt;property name="minIdle" value="$&#123;db.minIdle&#125;"/&gt; &lt;!-- æœ€å¤§å»ºç«‹è¿žæŽ¥ç­‰å¾…æ—¶é—´ã€‚å¦‚æžœè¶…è¿‡æ­¤æ—¶é—´å°†æŽ¥åˆ°å¼‚å¸¸ã€‚è®¾ä¸ºï¼1è¡¨ç¤ºæ— é™åˆ¶ --&gt; &lt;property name="maxWait" value="$&#123;db.maxWait&#125;"/&gt; &lt;!--#ç»™å‡ºä¸€æ¡ç®€å•çš„sqlè¯­å¥è¿›è¡ŒéªŒè¯ --&gt; &lt;!--&lt;property name="validationQuery" value="select getdate()" /&gt;--&gt; &lt;property name="defaultAutoCommit" value="$&#123;db.defaultAutoCommit&#125;"/&gt; &lt;!-- å›žæ”¶è¢«é—å¼ƒçš„ï¼ˆä¸€èˆ¬æ˜¯å¿˜äº†é‡Šæ”¾çš„ï¼‰æ•°æ®åº“è¿žæŽ¥åˆ°è¿žæŽ¥æ± ä¸­ --&gt; &lt;!--&lt;property name="removeAbandoned" value="true" /&gt;--&gt; &lt;!-- æ•°æ®åº“è¿žæŽ¥è¿‡å¤šé•¿æ—¶é—´ä¸ç”¨å°†è¢«è§†ä¸ºè¢«é—å¼ƒè€Œæ”¶å›žè¿žæŽ¥æ± ä¸­ --&gt; &lt;!--&lt;property name="removeAbandonedTimeout" value="120" /&gt;--&gt; &lt;!-- #è¿žæŽ¥çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸ºåŠå°æ—¶ã€‚ --&gt; &lt;property name="minEvictableIdleTimeMillis" value="$&#123;db.minEvictableIdleTimeMillis&#125;"/&gt; &lt;!--# å¤±æ•ˆæ£€æŸ¥çº¿ç¨‹è¿è¡Œæ—¶é—´é—´éš”ï¼Œè¦å°äºŽMySQLé»˜è®¤--&gt; &lt;property name="timeBetweenEvictionRunsMillis" value="40000"/&gt; &lt;!--# æ£€æŸ¥è¿žæŽ¥æ˜¯å¦æœ‰æ•ˆ--&gt; &lt;property name="testWhileIdle" value="true"/&gt; &lt;!--# æ£€æŸ¥è¿žæŽ¥æœ‰æ•ˆæ€§çš„SQLè¯­å¥--&gt; &lt;property name="validationQuery" value="SELECT 1 FROM dual"/&gt;&lt;/bean&gt; 2.3 myBatisçš„é…ç½®1234567&lt;!--mybatisçš„é…ç½®sqlSessionFactory--&gt;&lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;!--mybatisçš„é…ç½® è¯»å–mapper.xmlæ–‡ä»¶--&gt; &lt;property name="mapperLocations" value="classpath*:mappers/*Mapper.xml"&gt; &lt;/property&gt; 1234&lt;!--mybatisçš„æ‰«æDaoå±‚ MapperScannerConfigurer--&gt;&lt;bean name="mapperScannerConfigurer" class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;property name="basePackage" value="com.mmall.dao"/&gt;&lt;/bean&gt; 2.4 åˆ†é¡µæ’ä»¶123456789101112&lt;!-- åˆ†é¡µæ’ä»¶ --&gt;&lt;property name="plugins"&gt; &lt;array&gt; &lt;bean class="com.github.pagehelper.PageHelper"&gt; &lt;property name="properties"&gt; &lt;value&gt; dialect=mysql &lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/array&gt;&lt;/property&gt; 2.5 @Transaction1234567&lt;!-- ä½¿ç”¨@Transactionalè¿›è¡Œå£°æ˜Žå¼äº‹åŠ¡ç®¡ç†éœ€è¦å£°æ˜Žä¸‹é¢è¿™è¡Œ --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="true"/&gt; &lt;!-- äº‹åŠ¡ç®¡ç† --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;property name="rollbackOnCommitFailure" value="true"/&gt; &lt;/bean&gt; application.xml1234567891011121314151617181920&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jdbc="http://www.springframework.org/schema/jdbc" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation=" http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"&gt; &lt;!-- æ‰«æçš„åŸºæœ¬åŒ…è·¯å¾„ --&gt; &lt;!-- æ˜¯å¦æ¿€æ´»å±žæ€§æ³¨å…¥æ³¨è§£ --&gt; &lt;context:component-scan base-package="com.mmall" annotation-config="true"/&gt; &lt;!--&lt;context:annotation-config/&gt;--&gt; &lt;aop:aspectj-autoproxy/&gt; &lt;!--åˆ†ç¦»Springé…ç½®æ–‡ä»¶--&gt; &lt;import resource="applicationContext-datasource.xml"/&gt;&lt;/beans&gt; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jdbc="http://www.springframework.org/schema/jdbc" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation=" http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"&gt; &lt;context:component-scan base-package="com.mmall" annotation-config="true"/&gt; &lt;!--é…ç½®Springæ–‡ä»¶çš„æ—¶å€™å°†å¸¸é‡è¿›è¡Œåˆ†ç¦»--&gt; &lt;bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"&gt; &lt;property name="order" value="2"/&gt; &lt;property name="ignoreUnresolvablePlaceholders" value="true"/&gt; &lt;property name="locations"&gt; &lt;list&gt; &lt;value&gt;classpath:datasource.properties&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="fileEncoding" value="utf-8"/&gt; &lt;/bean&gt; &lt;bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close"&gt; &lt;property name="driverClassName" value="$&#123;db.driverClassName&#125;"/&gt; &lt;property name="url" value="$&#123;db.url&#125;"/&gt; &lt;property name="username" value="$&#123;db.username&#125;"/&gt; &lt;property name="password" value="$&#123;db.password&#125;"/&gt; &lt;!-- è¿žæŽ¥æ± å¯åŠ¨æ—¶çš„åˆå§‹å€¼ --&gt; &lt;property name="initialSize" value="$&#123;db.initialSize&#125;"/&gt; &lt;!-- è¿žæŽ¥æ± çš„æœ€å¤§å€¼ --&gt; &lt;property name="maxActive" value="$&#123;db.maxActive&#125;"/&gt; &lt;!-- æœ€å¤§ç©ºé—²å€¼.å½“ç»è¿‡ä¸€ä¸ªé«˜å³°æ—¶é—´åŽï¼Œè¿žæŽ¥æ± å¯ä»¥æ…¢æ…¢å°†å·²ç»ç”¨ä¸åˆ°çš„è¿žæŽ¥æ…¢æ…¢é‡Šæ”¾ä¸€éƒ¨åˆ†ï¼Œä¸€ç›´å‡å°‘åˆ°maxIdleä¸ºæ­¢ --&gt; &lt;property name="maxIdle" value="$&#123;db.maxIdle&#125;"/&gt; &lt;!-- æœ€å°ç©ºé—²å€¼.å½“ç©ºé—²çš„è¿žæŽ¥æ•°å°‘äºŽé˜€å€¼æ—¶ï¼Œè¿žæŽ¥æ± å°±ä¼šé¢„ç”³è¯·åŽ»ä¸€äº›è¿žæŽ¥ï¼Œä»¥å…æ´ªå³°æ¥æ—¶æ¥ä¸åŠç”³è¯· --&gt; &lt;property name="minIdle" value="$&#123;db.minIdle&#125;"/&gt; &lt;!-- æœ€å¤§å»ºç«‹è¿žæŽ¥ç­‰å¾…æ—¶é—´ã€‚å¦‚æžœè¶…è¿‡æ­¤æ—¶é—´å°†æŽ¥åˆ°å¼‚å¸¸ã€‚è®¾ä¸ºï¼1è¡¨ç¤ºæ— é™åˆ¶ --&gt; &lt;property name="maxWait" value="$&#123;db.maxWait&#125;"/&gt; &lt;!--#ç»™å‡ºä¸€æ¡ç®€å•çš„sqlè¯­å¥è¿›è¡ŒéªŒè¯ --&gt; &lt;!--&lt;property name="validationQuery" value="select getdate()" /&gt;--&gt; &lt;property name="defaultAutoCommit" value="$&#123;db.defaultAutoCommit&#125;"/&gt; &lt;!-- å›žæ”¶è¢«é—å¼ƒçš„ï¼ˆä¸€èˆ¬æ˜¯å¿˜äº†é‡Šæ”¾çš„ï¼‰æ•°æ®åº“è¿žæŽ¥åˆ°è¿žæŽ¥æ± ä¸­ --&gt; &lt;!--&lt;property name="removeAbandoned" value="true" /&gt;--&gt; &lt;!-- æ•°æ®åº“è¿žæŽ¥è¿‡å¤šé•¿æ—¶é—´ä¸ç”¨å°†è¢«è§†ä¸ºè¢«é—å¼ƒè€Œæ”¶å›žè¿žæŽ¥æ± ä¸­ --&gt; &lt;!--&lt;property name="removeAbandonedTimeout" value="120" /&gt;--&gt; &lt;!-- #è¿žæŽ¥çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸ºåŠå°æ—¶ã€‚ --&gt; &lt;property name="minEvictableIdleTimeMillis" value="$&#123;db.minEvictableIdleTimeMillis&#125;"/&gt; &lt;!--# å¤±æ•ˆæ£€æŸ¥çº¿ç¨‹è¿è¡Œæ—¶é—´é—´éš”ï¼Œè¦å°äºŽMySQLé»˜è®¤--&gt; &lt;property name="timeBetweenEvictionRunsMillis" value="40000"/&gt; &lt;!--# æ£€æŸ¥è¿žæŽ¥æ˜¯å¦æœ‰æ•ˆ--&gt; &lt;property name="testWhileIdle" value="true"/&gt; &lt;!--# æ£€æŸ¥è¿žæŽ¥æœ‰æ•ˆæ€§çš„SQLè¯­å¥--&gt; &lt;property name="validationQuery" value="SELECT 1 FROM dual"/&gt; &lt;/bean&gt; &lt;!--mybatisçš„é…ç½®--&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;property name="mapperLocations" value="classpath*:mappers/*Mapper.xml"&gt; &lt;/property&gt; &lt;!-- åˆ†é¡µæ’ä»¶ --&gt; &lt;property name="plugins"&gt; &lt;array&gt; &lt;bean class="com.github.pagehelper.PageHelper"&gt; &lt;property name="properties"&gt; &lt;value&gt; dialect=mysql &lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/array&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!--mybatisçš„æ‰«æDaoå±‚--&gt; &lt;bean name="mapperScannerConfigurer" class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;property name="basePackage" value="com.mmall.dao"/&gt; &lt;/bean&gt; &lt;!-- ä½¿ç”¨@Transactionalè¿›è¡Œå£°æ˜Žå¼äº‹åŠ¡ç®¡ç†éœ€è¦å£°æ˜Žä¸‹é¢è¿™è¡Œ --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="true"/&gt; &lt;!-- äº‹åŠ¡ç®¡ç† --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;property name="rollbackOnCommitFailure" value="true"/&gt; &lt;/bean&gt;&lt;/beans&gt; Spring MVC çš„é…ç½®1 ç¼–ç é…ç½®123456789&lt;!--é…ç½®ç¼–ç --&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; 2 JSONé…ç½®12345678&lt;!--é…ç½®JSONæ ¼å¼--&gt; &lt;bean class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; 3 æ–‡ä»¶ä¸Šä¼ é…ç½®12345678&lt;!-- æ–‡ä»¶ä¸Šä¼  --&gt;&lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="maxUploadSize" value="10485760"/&gt; &lt;!-- 10m --&gt; &lt;property name="maxInMemorySize" value="4096"/&gt; &lt;property name="defaultEncoding" value="UTF-8"&gt; &lt;/property&gt;&lt;/bean&gt; SpringMVC.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:aop="http://www.springframework.org/schema/aop" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd"&gt; &lt;!--Spring MVCçš„é…ç½®--&gt; &lt;!--åŒ…æ‰«æ--&gt; &lt;context:component-scan base-package="com.mmall" annotation-config="true"/&gt; &lt;mvc:annotation-driven&gt; &lt;mvc:message-converters&gt; &lt;!--é…ç½®ç¼–ç --&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!--é…ç½®JSONæ ¼å¼--&gt; &lt;bean class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/mvc:message-converters&gt; &lt;/mvc:annotation-driven&gt; &lt;!-- æ–‡ä»¶ä¸Šä¼  --&gt; &lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="maxUploadSize" value="10485760"/&gt; &lt;!-- 10m --&gt; &lt;property name="maxInMemorySize" value="4096"/&gt; &lt;property name="defaultEncoding" value="UTF-8"&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; LogBackçš„é…ç½®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;configuration scan="true" scanPeriod="60 seconds" debug="false"&gt; &lt;!----&gt; &lt;appender name="console" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;encoder&gt; &lt;pattern&gt;[%d&#123;HH:mm:ss.SSS&#125;][%p][%c&#123;40&#125;][%t] %m%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;filter class="ch.qos.logback.classic.filter.ThresholdFilter"&gt; &lt;level&gt;DEBUG&lt;/level&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;appender name="mmall" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;!--&lt;File&gt;d:/mmalllog/mmall.log&lt;/File&gt;--&gt; &lt;File&gt;/developer/apache-tomcat-7.0.73/logs/mmall.log&lt;/File&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;/developer/apache-tomcat-7.0.73/logs/mmall.log.%d&#123;yyyy-MM-dd&#125;.gz&lt;/fileNamePattern&gt; &lt;append&gt;true&lt;/append&gt; &lt;maxHistory&gt;10&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;[%d&#123;HH:mm:ss.SSS&#125;][%p][%c&#123;40&#125;][%t] %m%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;appender name="error" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;!--&lt;File&gt;d:/mmalllog/error.log&lt;/File&gt;--&gt; &lt;File&gt;/developer/apache-tomcat-7.0.73/logs/error.log&lt;/File&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;/devsoft/apache-tomcat-7.0.73/logs/error.log.%d&#123;yyyy-MM-dd&#125;.gz&lt;/fileNamePattern&gt; &lt;!--&lt;fileNamePattern&gt;d:/mmalllog/error.log.%d&#123;yyyy-MM-dd&#125;.gz&lt;/fileNamePattern&gt;--&gt; &lt;append&gt;true&lt;/append&gt; &lt;maxHistory&gt;10&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;[%d&#123;HH:mm:ss.SSS&#125;][%p][%c&#123;40&#125;][%t] %m%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;logger name="com.mmall" additivity="false" level="INFO" &gt; &lt;appender-ref ref="mmall" /&gt; &lt;appender-ref ref="console"/&gt; &lt;/logger&gt; &lt;!-- geelynote mybatis log æ—¥å¿— --&gt; &lt;logger name="com.mmall.dao" level="DEBUG"/&gt; &lt;!--&lt;logger name="com.ibatis.sqlmap.engine.impl.SqlMapClientDelegate" level="DEBUG" &gt;--&gt; &lt;!--&lt;appender-ref ref="console"/&gt;--&gt; &lt;!--&lt;/logger&gt;--&gt; &lt;!--&lt;logger name="java.sql.Connection" level="DEBUG"&gt;--&gt; &lt;!--&lt;appender-ref ref="console"/&gt;--&gt; &lt;!--&lt;/logger&gt;--&gt; &lt;!--&lt;logger name="java.sql.Statement" level="DEBUG"&gt;--&gt; &lt;!--&lt;appender-ref ref="console"/&gt;--&gt; &lt;!--&lt;/logger&gt;--&gt; &lt;!--&lt;logger name="java.sql.PreparedStatement" level="DEBUG"&gt;--&gt; &lt;!--&lt;appender-ref ref="console"/&gt;--&gt; &lt;!--&lt;/logger&gt;--&gt; &lt;root level="DEBUG"&gt; &lt;appender-ref ref="console"/&gt; &lt;appender-ref ref="error"/&gt; &lt;/root&gt;&lt;/configuration&gt; FtpæœåŠ¡å™¨çš„é…ç½® ä¸Šä¼ å›¾ç‰‡123456ftp.server.ip=ä½ çš„FTPæœåŠ¡å™¨ipåœ°å€ftp.user=mmallftpftp.pass=ftppasswordftp.server.http.prefix=http://img.happymmall.com/alipay.callback.url=http://www.happymmall.com/order/alipay_callback.dopassword.salt=geelysdafaqj23ou89ZXcj@#$@#$#@KJdjklj;D../dSF., Ideaçš„æ³¨å…¥å’Œè‡ªåŠ¨ç¼–è¯‘é…ç½® å®žæ—¶ç¼–è¯‘ BUG Error:Maven Resources Compiler: Maven project configuration required for module â€˜mmallâ€™ isnâ€™t available. Compilation of Maven projects is supported only if external build is started from an IDE. è§£å†³æ–¹æ¡ˆï¼š AutowiredæŠ¥é”™çš„è§£å†³æ–¹æ¡ˆ ## ä¸¤ä¸ªæé«˜å·¥ä½œæ•ˆçŽ‡çš„ç¥žå™¨-Restlet Clientå’ŒfeåŠ©æ‰‹ https://restlet.com/modules/client/ https://chrome.google.com/webstore/category/extensions?utm_source=chrome-ntp-icon ç¬¬äº”ç«  ç”¨æˆ·æ¨¡å—å¼€å‘ 1 Coding1.1 é«˜å¤ç”¨æœåŠ¡å™¨å“åº”å¯¹è±¡çš„è®¾è®¡1234åœ¨webå¼€å‘ä¸­ï¼ŒåŽå°å¼€å‘ä¸Žå‰ç«¯äº¤äº’ä¸»è¦æ˜¯é€šè¿‡jsonçš„æ–¹å¼ï¼ŒåŽå°é€šè¿‡ç»Ÿä¸€çš„è¿”å›žæ ·å¼ï¼Œå¯ä»¥ä½¿å‰åŽç«¯æ›´å¥½çš„äº¤äº’ï¼Œåœ¨ä¸€æ¬¡é¡¹ç›®ä¸­ï¼Œæˆ‘æ¯æ¬¡è¿”å›žä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ—¶å€™ï¼Œéƒ½æ˜¯ç”¨ä¸€ä¸ªåŒ¿åå¯¹è±¡åºåˆ—åŒ–æˆjsonæ ¼å¼çš„æ•°æ®è¿”å›žå‰ç«¯ï¼Œç”±äºŽè¿™ä¸ªé¡¹ç›®å‰åŽå°éƒ½æ˜¯æˆ‘ä¸€ä¸ªäººå®Œæˆï¼Œæ‰€ä»¥æˆ‘èƒ½æ¯”è¾ƒæ¸…æ¥šè¿”å›žçš„ä¸œè¥¿ï¼Œä½†æ˜¯å¦‚æžœæ˜¯å‰åŽç«¯åˆ†å¼€è¿›è¡Œå¼€å‘æˆ–è€…å‰æœŸæ˜¯ä¸€ä¸ªäººå¼€å‘ï¼ŒåŽæœŸè¿›è¡Œå‰åŽç«¯ç¦»å°±ä¼šå˜å¾—å¼‚å¸¸å›°éš¾ã€‚ å› æ­¤ï¼Œè§„èŒƒè¿”å›žçš„æ ¼å¼æ˜¾å¾—å¾ˆé‡è¦ï¼ŒäºŽæ˜¯ä¹Žæˆ‘ä¾¿å°è£…äº†ä¸€ä¸ªç®€å•çš„é«˜å¤å¯ç”¨çš„å¯¹è±¡ç”¨äºŽå“åº”æ•°æ®ã€‚å…·ä½“æ€è·¯å¦‚ä¸‹ï¼š--------------------- åŽŸæ–‡ï¼šhttps://blog.csdn.net/x1032019725/article/details/77919079 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113è®¾è®¡æ€è·¯ï¼šä½¿ç”¨æ³›åž‹è®©è¿”å›žæ•°æ®å¤šæ ·åŒ–ï¼Œä¸”å¯ä»¥è®©è¿”å›žå¯¹è±¡ç»Ÿä¸€å£°æ˜ŽçŠ¶æ€å­—æ®µï¼Œè¡¨ç¤ºæœåŠ¡å“åº”çŠ¶æ€å£°æ˜Žæè¿°å­—æ®µï¼Œæè¿°å½“å‰çŠ¶æ€çš„åŽŸå› å£°æ˜Žæ³›åž‹æ•°æ®å­—æ®µï¼Œç”¨äºŽè¿”å›žå¤šç§ç±»åž‹çš„æ•°æ®ï¼Œå®žçŽ°é«˜å¤ç”¨ ä¸»è¦ä»£ç å¦‚ä¸‹ï¼šimport org.codehaus.jackson.annotate.JsonIgnore;import org.codehaus.jackson.map.annotate.JsonSerialize;import java.io.Serializable;/** * Created by *** on 2017/8/16. */@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)//é¡¹ç›®ä½¿ç”¨çš„æ˜¯JacksonåŒ…ï¼Œæ·»åŠ è¯¥æ³¨è§£ï¼Œä¿è¯jsonåºåˆ—åŒ–çš„æ—¶å€™ï¼Œä¸è¿”å›žkey-nullè¿™ç§ç±»åž‹çš„æ•°æ®public class ServerResponse&lt;T&gt; implements Serializable &#123; private int status; private String msg; private T data; //ç§æœ‰åŒ–æž„é€ æ–¹æ³•ï¼Œé€šè¿‡å“åº”çŠ¶æ€æ¥åˆ›å»º private ServerResponse(int status)&#123; this.status = status; &#125; private ServerResponse(int status,T data)&#123; this.status = status; this.data = data; &#125; private ServerResponse(int status,String msg,T data)&#123; this.status = status; this.msg = msg; this.data = data; &#125; private ServerResponse(int status,String msg)&#123; this.status = status; this.msg = msg; &#125;@JsonIgnore//jsonåºåˆ—åŒ–è¿”å›žå‰ç«¯çš„æ—¶å€™ï¼Œå¿½ç•¥è¯¥æ–¹æ³•ï¼Œä¸éœ€è¦è¿”å›ž public boolean isSuccess() &#123; return this.status == ResponseCode.SUCCESS.getCode(); &#125; //æŠŠå­—æ®µå°è£…æˆå±žæ€§ï¼Œå¼€æ”¾getæ–¹æ³• public int getStatus()&#123; return status; &#125; public String getMsg()&#123; return msg; &#125; public T getData()&#123; return data; &#125; //å£°æ˜Žåˆ›å»ºå¯¹è±¡çš„é™æ€æ–¹æ³•ï¼Œé€šè¿‡ä¸‹é¢è¿™äº›æ–¹æ³•æ¥è°ƒç”¨ç§æœ‰æž„é€ æ–¹æ³•ï¼Œå¹¶ä¸”setçŠ¶æ€ //çŠ¶æ€è¢«å£°æ˜Žåœ¨æžšä¸¾ResponseCodeä¸­ public static &lt;T&gt; ServerResponse&lt;T&gt; createBySuccess()&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode()); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createBySuccessMessage(String msg)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),msg); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createBySuccess(T data)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),data); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createBySuccess(String msg,T data)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),msg,data); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createByError()&#123; return new ServerResponse&lt;T&gt;(ResponseCode.ERROR.getCode(),ResponseCode.ERROR.getDesc()); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createByErrorMessage(String errorMessage)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.ERROR.getCode(),errorMessage); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createByErrorCodeMessage(int errorCode,String errorMessage)&#123; return new ServerResponse&lt;T&gt;(errorCode,errorMessage); &#125;&#125; ä¸‹é¢æ˜¯ResponseCodeçš„ä¸»è¦ä»£ç public enum ResponseCode &#123; SUCCESS(0,&quot;SUCCESS&quot;), ERROR(1,&quot;ERROR&quot;), NEED_LOGIN(10,&quot;NEED_LOGIN&quot;), ILLEGAL_ARGUMENT(2,&quot;ILLEGAL_ARGUMENT&quot;); private final int code; private final String desc; ResponseCode(int code,String desc)&#123; this.code = code; this.desc = desc; &#125; public int getCode()&#123; return this.code; &#125; public String getDesc()&#123; return this.desc; &#125;&#125; æ€»ç»“ï¼šä½¿ç”¨ServeResponseè¿™ä¸ªå“åº”ç±»åŽ»è¿›è¡Œjsonåºåˆ—åŒ–ï¼Œç„¶åŽå“åº”å‰ç«¯ï¼Œæˆ–è€…ç”¨äºŽåŽå°çš„å„å±‚ä¹‹é—´è¿›è¡Œäº¤äº’ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§ï¼Œå¹¶ä¸”å¢žåŠ ä»£ç çš„é‡ç”¨ã€‚--------------------- ä½œè€…ï¼šæž_æ™“ æ¥æºï¼šCSDN åŽŸæ–‡ï¼šhttps://blog.csdn.net/x1032019725/article/details/77919079 ç‰ˆæƒå£°æ˜Žï¼šæœ¬æ–‡ä¸ºåšä¸»åŽŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·é™„ä¸Šåšæ–‡é“¾æŽ¥ï¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778é«˜å¤ç”¨æœåŠ¡å“åº”å¯¹è±¡çš„è®¾è®¡ä¸Žä½¿ç”¨ä¸€.ä»€ä¹ˆæ˜¯é«˜å¤ç”¨æœåŠ¡å“åº”å¯¹è±¡ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ 1.è¿™æ¬¡é¡¹ç›®ä¸­ï¼Œä¸ºäº†å®žçŽ°å‰åŽç«¯åˆ†ç¦»ï¼Œè®¾è®¡äº†ä¸€ä¸ªæ‰€æœ‰æŽ¥å£éƒ½ä½¿ç”¨ï¼Œå°è£…åŽå°ä¸šåŠ¡æ•°æ®æ”¾å›žjsonæ•°æ®ç»™å‰ç«¯çš„å¯¹è±¡ï¼Œç”¨äºŽå®žçŽ°å‰åŽç«¯çš„åˆ†ç¦»ï¼Œå¼€å‘æ•ˆçŽ‡æœ‰äº†æ˜Žæ˜¾çš„æé«˜ã€‚ äºŒ.æ€Žä¹ˆä½¿ç”¨ï¼Ÿ 1.é¦–å…ˆï¼Œè¦æ˜Žç¡®ï¼Œè¿™ä¸ªå¯¹è±¡è¦å®žçŽ°åºåˆ—åŒ–æŽ¥å£ã€‚å®ƒä¸»è¦å°è£…äº†ä¸‰ä¸ªå±žæ€§ï¼Œæ³›åž‹çš„è¿”å›žæ•°æ®ï¼Œå­—ç¬¦ä¸²ç±»åž‹çš„æç¤ºä¿¡æ¯ä»¥åŠæ•´åž‹çš„çŠ¶æ€ç ï¼Œä»¥åŠå››ä¸ªç§æœ‰çš„æž„é€ å‡½æ•°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“T çš„ç±»åž‹ä¹Ÿå°±æ˜¯æ•°æ®ç±»åž‹æ˜¯Stringç±»åž‹æ—¶ï¼Œå¥½åƒä¼šå’Œä¸‹é¢çš„String msgé‡åˆï¼Œåˆ°åº•ä¼šè°ƒç”¨å“ªä¸€ä¸ªå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œå½“Tä¸ºStringæ—¶ï¼Œçš„ç¡®ä¼šè°ƒç”¨ç¬¬äºŒä¸ªï¼Œè¿™æ ·ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“è¿”å›žçš„æ•°æ®å°±æ˜¯Stringï¼Œå¦‚æžœè¿™æ ·å°±ä¼šç”¨åˆ°msgçš„é‚£ä¸ªæž„é€ å‡½æ•°ï¼Œä¼ åˆ°ä¿¡æ¯é‚£è¾¹åŽ»äº†ã€‚è§£å†³æ–¹æ³•åœ¨åŽé¢ï¼Œæ‰€ä»¥å…·ä½“å¦‚ä¸‹ï¼š//ä¿è¯åœ¨åºåˆ—åŒ–jsonæ—¶ï¼Œå¦‚æžœä¸ºç©ºçš„å€¼ï¼Œkeyä¹Ÿä¼šæ¶ˆå¤±ï¼Œæ¯”å¦‚åªè¦è¿”å›žçŠ¶æ€ç æ—¶ï¼Œmsgå’Œdataå°±ä¼šå¿½ç•¥ä¸è¿”å›ž //ä¿è¯åœ¨åºåˆ—åŒ–jsonæ—¶ï¼Œå¦‚æžœä¸ºç©ºçš„å€¼ï¼Œkeyä¹Ÿä¼šæ¶ˆå¤±@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)public class ServerResponse&lt;T&gt; implements Serializable &#123; private int status; private String msg; private T data; private ServerResponse(int status)&#123; this.status = status; &#125; private ServerResponse(int status,String msg)&#123; this.status = status; this.msg = msg; &#125; private ServerResponse(int status,String msg,T data)&#123; this.status = status; this.msg = msg; this.data = data; &#125; private ServerResponse(int status,T data)&#123; this.data = data;&#125; 2.æˆå‘˜å˜é‡çš„getæ–¹æ³•ï¼Œä»¥åŠä¸€ä¸ªåˆ¤æ–­çŠ¶æ€ç æˆ–è€…è¯´åˆ¤æ–­å“åº”æ˜¯å¦æˆåŠŸçš„æ–¹æ³•ï¼Œå…·ä½“å¦‚ä¸‹ï¼š @JsonIgnore//åœ¨åºåˆ—åŒ–æ—¶å¿½ç•¥ public boolean isSuccess()&#123; return this.status==ResponseCode.SUCCESS.getCode(); &#125; public int getStatus()&#123; return status; &#125; public String getMsg()&#123; return msg; &#125; public T getData()&#123; return data; &#125; 3.æä¾›å¯¹å¤–è®¿é—®çš„ä¸ƒä¸ªæž„é€ æ–¹æ³•ï¼ŒæˆåŠŸçš„æœ‰å››ä¸ªï¼Œå¤±è´¥çš„ä¸‰ä¸ªï¼Œå…·ä½“å¦‚ä¸‹ï¼šå¤åˆ¶ä»£ç public static &lt;T&gt; ServerResponse&lt;T&gt; creatBySuccess()&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode()); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatBySuccessMessage(String msg)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),msg); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatBySuccess(T data)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),data); &#125; //è¿™ä¸ªæ–¹æ³•å°±è§£å†³äº†msgå’ŒStringç±»åž‹çš„æ•°æ®å†²çªçš„é—®é¢˜ public static &lt;T&gt; ServerResponse&lt;T&gt; creatBySuccess(String msg,T data)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),msg,data); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatByError()&#123; return new ServerResponse&lt;T&gt;(ResponseCode.ERROR.getCode(),ResponseCode.ERROR.getDesc()); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatByErrorMessage(String errorMessage)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.ERROR.getCode(),errorMessage); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatByErrorCodeMessage(int errorCode,String errorMessage)&#123; return new ServerResponse&lt;T&gt;(errorCode,errorMessage); &#125;å¤åˆ¶ä»£ç ä¸‰.æ€»ç»“ è¿™æ¬¡çš„é«˜å¤ç”¨æœåŠ¡å“åº”å¯¹è±¡çš„è®¾è®¡ä¸Žä½¿ç”¨æ¶‰åŠåˆ°æ³›åž‹ç±»ï¼ŒåŽç«¯çš„æ•°æ®çš„å¤„ç†æ¨¡å¼ï¼Œæžšä¸¾ç±»çš„ä½¿ç”¨ï¼Œä»¥åŠå‰åŽç«¯æ•°æ®äº¤äº’ç­‰çŸ¥è¯†ï¼Œåœ¨åŽæœŸä½¿ç”¨Restlet Clintè¿›è¡ŒæŽ¥å£åŠŸèƒ½æµ‹è¯•æ—¶æ›´åŠ ç›´è§‚åœ°çœ‹åˆ°äº†è¿™ä¸ªå¯¹è±¡çš„ä½œç”¨ã€‚ https://blog.csdn.net/qq_27093465/article/details/52180865]]></content>
  </entry>
  <entry>
    <title><![CDATA[Redis å°šç¡…è°·]]></title>
    <url>%2F2019%2F01%2F16%2FRedis%2FRedis%20%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"><![CDATA[1 ä¸‹è½½ â¬ https://redis.io/download å®˜ç½‘ä¸‹è½½åœ°å€ 2 ä½¿ç”¨ HelloWord å…ˆcd åˆ°redis ï¼ˆrootï¼‰ä¸‹é¢ ç„¶åŽls æ‰¾åˆ°src ç„¶åŽ./redis-server ç„¶åŽæ–°å¼€ä¸€ä¸ªç»ˆç«¯ ç„¶åŽls æ‰¾åˆ°src ./redis-cli 3 Redis_å¯åŠ¨åŽæ‚é¡¹åŸºç¡€çŸ¥è¯† 4 Redisçš„äº”å¤§æ•°æ®ç±»åž‹ 5.Redis é”® key1.keys * ï¼šåˆ—å‡ºæ‰€æœ‰key 2.exists keyçš„åå­— åˆ¤æ–­æŸä¸ªkeyæ˜¯å¦å­˜åœ¨ 3. move key db â€”&gt;å½“å‰åº“å°±æ²¡æœ‰äº† è¢«ç§»é™¤äº† 4.expire key ç§’é’Ÿ ä¸ºç»™å®šçš„keyè®¾ç½®è¿‡æœŸæ—¶é—´5.ttl key æŸ¥çœ‹è¿˜æœ‰å¤šå°‘ç§’è¿‡æœŸ -1è¡¨ç¤ºæ°¸ä¸è¿‡æœŸ -2è¡¨ç¤ºå·²è¿‡æœŸ 6.Redis String å•å€¼å•value 1.get/set/del/append/strlen Incr/decr/incrby/decrbyä¸€å®šæ˜¯è¦æ•°å­—æ‰èƒ½åŠ å‡ Get range/setrange setexé”®ç§’å€¼/setnx 7 Redis -List å•å€¼ å¤švalueLPUSH RPUSHLRANGE LPOP RPOP å–å‡ºæ ˆé¡¶å…ƒç´  lindex æŒ‰ç…§ç´¢å¼•èŽ·å¾—å…ƒç´  ä»Žä¸Šåˆ°ä¸‹ llen é•¿åº¦ lrem key åˆ é™¤N ä¸ªvalue åˆ é™¤2ä¸ª value=3çš„value 8 Redis set 9 Redis Hash é‡è¦ KVæ¨¡å¼ä¸å˜ ä½†væ˜¯ä¸€ä¸ªç®­å€¼å¯¹ 10 Redis Zset 11 Redis é…ç½®æ–‡ä»¶ä»‹ç» 12 Redis_æŒä¹…åŒ–ä¹‹RDB 13 Redis æŒä¹…åŒ– ä¹‹AOF 14 Redisäº‹åŠ¡ 15 Redies æ¶ˆæ¯è®¢é˜… 16 Redisä¸»ä»Žå¤åˆ¶ã€‚è¯»å†™åˆ†ç¦» å“¨å…µæ¨¡å¼ 17 JRedis JRedis Pool]]></content>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Elasticsearch]]></title>
    <url>%2F2019%2F01%2F16%2FELasticseach%2FElsearch%2F</url>
    <content type="text"><![CDATA[å¿«é€Ÿå…¥é—¨ç¯‡è¯¾ç¨‹ä»‹ç»Elasticsearchï¼Œæ˜¯ç›®å‰è¡Œä¸šä¸­éžå¸¸çƒ­é—¨çš„ä¸€ä¸ªæŠ€æœ¯ã€‚Elasticsearchæ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„æµ·é‡æ•°æ®æœç´¢ä¸Žåˆ†æžçš„æŠ€æœ¯ï¼Œå¯ä»¥ç”¨äºŽç”µå•†ç½‘ç«™ã€é—¨æˆ·ç½‘ç«™ã€ä¼ä¸šITç³»ç»Ÿç­‰å„ç§åœºæ™¯ä¸‹çš„æœç´¢å¼•æ“Žï¼Œä¹Ÿå¯ä»¥ç”¨äºŽå¯¹æµ·é‡çš„æ•°æ®è¿›è¡Œè¿‘å®žæ—¶çš„æ•°æ®åˆ†æžã€‚ç›¸è¾ƒäºŽLuceneæ¥è¯´ï¼ŒElasticsearchå¤©ç„¶çš„åˆ†å¸ƒå¼ç‰¹æ€§ï¼Œè®©å…¶å¯ä»¥æ”¯æŒæµ·é‡çš„ã€PBçº§çš„å¤§æ•°æ®æœç´¢ã€‚ç›¸å¯¹äºŽSpark Streamingã€Stormç­‰å¤§æ•°æ®å®žæ—¶è®¡ç®—å¼•æ“Žæ¥è¯´ï¼ŒElasticsearchå¤©ç”Ÿä¸ºåˆ†å¸ƒå¼æ‰§è¡Œæ•°æ®åˆ†æžæ“ä½œè€Œç”Ÿçš„æž¶æž„ï¼Œæµ·é‡æ•°æ®é‡çº§ä¸‹çš„è¿‘å®žæ—¶ï¼ˆç§’çº§ï¼‰æ€§èƒ½æ”¯æŒï¼Œä»¥åŠæ— æ¯”å¼ºå¤§çš„æœç´¢å’Œèšåˆåˆ†æžçš„è¯­æ³•æ”¯æŒï¼Œè®©ESæ›´åŠ é€‚åˆè¿›è¡Œå¤§æ•°æ®åœºæ™¯ä¸‹çš„æ•°æ®åˆ†æžåº”ç”¨ã€‚ Spark Streamingè¿›è¡Œå®žæ—¶æ•°æ®åˆ†æžï¼Œæœ‰å¤©ç„¶çš„æ— æ³•å…¨é‡å¤šæ•°æ®æµjoinã€å†…æ ¸shuffleè¿‡ç¨‹å¤§é‡åŸºäºŽç£ç›˜è½åœ°ç­‰ç¼ºé™·ï¼Œå¯¼è‡´å…¶å®žæ—¶æ•°æ®åˆ†æžåŠŸèƒ½è¾ƒå·®ï¼Œå®žæ—¶æ•°æ®åˆ†æžæ€§èƒ½ä¹Ÿè¾ƒå·®ã€‚Stormåˆ™ä½œä¸ºå®žæ—¶è®¡ç®—å¼•æ“Žçš„é¼»ç¥–ï¼Œç”±äºŽå…¶å¯¹SQLçš„æ”¯æŒå¾ˆå¼±ï¼Œå¯¼è‡´å…¶éžå¸¸ä¸é€‚åˆè¿›è¡Œå®žæ—¶æ•°æ®åˆ†æžï¼Œå¼€å‘æˆæœ¬å·¨å¤§ã€‚è€ŒElasticsearchå…‹æœäº†ä¸Šè¿°å¤§æ•°æ®æŠ€æœ¯çš„ç¼ºç‚¹ï¼Œæ›´åŠ é€‚åˆè¿›è¡Œå¤§æ•°æ®åœºæ™¯ä¸‹çš„æ•°æ®åˆ†æžæ“ä½œã€‚ æœ¬è¯¾ç¨‹æ·±å…¥æµ…å‡ºå‰–æžäº†Elasticsearchçš„æ ¸å¿ƒåŸºç¡€çŸ¥è¯†ï¼Œå¸¦ç€å¤§å®¶ä¸€æ­¥ä¸€æ­¥ï¼Œä»Žå¿«é€Ÿå…¥é—¨ï¼Œåˆ°ç†è§£Elasticsearchçš„å·¥ä½œåŽŸç†ã€å†…æ ¸çº§åŽŸç†ï¼Œå†åˆ°åŠ¨æ‰‹å®žæˆ˜æ“ä½œElasticsearchçš„å„ç§æ ¸å¿ƒåŠŸèƒ½ï¼Œåˆ°æœ€åŽå¯ä»¥åŸºäºŽJavaå¼€å‘åŸºæœ¬çš„æœç´¢å’Œåˆ†æžåº”ç”¨ç¨‹åºã€‚ è¯¾ç¨‹ç‰¹ç‚¹å¦‚ä¸‹ï¼š 1ã€åŸºäºŽElasticsearchæœ€æ–°ç‰ˆæœ¬ï¼Œ5.2ç‰ˆæœ¬ï¼Œè¿›è¡Œè¯¾ç¨‹çš„è®²è§£ï¼Œè®©å¤§å®¶å­¦å¥½æŠ€æœ¯åŽï¼Œç»å¯¹ä¸ä¼šè½ä¼ã€‚è€Œå¸‚é¢ä¸Šçš„ä¹¦ç±å’Œè§†é¢‘ï¼Œä½¿ç”¨çš„Elasticsearchç‰ˆæœ¬éƒ½éžå¸¸é™ˆæ—§ï¼Œä¸€èˆ¬éƒ½æ˜¯1.xï¼Œæˆ–è€…2.xï¼Œå³ä½¿å­¦äº†ï¼Œä¹Ÿå®Œå…¨è·ŸçŽ°åœ¨æœ€æ–°çš„ç‰ˆæœ¬æ— æ³•å…¼å®¹ï¼Œæ— æ³•è®©åŒå­¦ä»¬å­¦ä»¥è‡´ç”¨ã€‚ 2ã€å¤§ç™½è¯è®²è§£å„ç§å¤æ‚çŸ¥è¯†ç‚¹ï¼Œä¸ç”¨å¤ªå®˜æ–¹å’Œå­¦æœ¯çš„è¯­è¨€ç…§ç€pptç®€å•è®²è§£ï¼Œè€Œæ˜¯é‡‡ç”¨ä¸Žæœ‹å‹èŠå¤©å¼çš„æ–¹å¼ï¼Œè¿›è¡Œå¯¹è¯å’Œè®²è§£ï¼Œå°½é‡é‡‡ç”¨æœ€é€šä¿—çš„è¯­è¨€æ¥è§£é‡Šå„ç§å¤æ‚çš„æŠ€æœ¯é—®é¢˜ï¼Œè¿˜æœ‰åº•å±‚åŽŸç†ã€‚ 3ã€è¯¾ç¨‹çŸ¥è¯†ä½“ç³»è®¾è®¡çš„è¶³å¤Ÿè¯¦ç»†ï¼Œå°†ä¸€é—¨æŠ€æœ¯çš„å„ä¸ªçŸ¥è¯†ç‚¹å’ŒæŠ€æœ¯ç‚¹ï¼Œå…¨éƒ¨åŒ…å«åœ¨è¯¾ç¨‹ä¸­ï¼Œä¸€ç‚¹ä¸€ç‚¹çš„ç»†è‡´å‰–æžå’Œå±•å¼€è®²è§£ï¼Œç»ä¸è®©å¤§å®¶é—æ¼ä»»ä½•æœ‰ç”¨çš„çŸ¥è¯†ç‚¹ï¼Œå°½é‡åšåˆ°ï¼Œè¯¾ç¨‹çŸ¥è¯†ä½“ç³»å®Œæ•´ï¼Œç³»ç»ŸåŒ–ï¼Œæœ‰å¹¿åº¦ï¼Œè€Œä¸”ä¹Ÿæœ‰æ·±åº¦ã€‚æ¯”å¦‚è¯´æœ¬å¥—è¯¾ç¨‹ä¸­ï¼Œæ—¢å…¨é¢åŒ…æ‹¬äº†ä»Žå…¥é—¨ä½¿ç”¨ï¼Œåˆ°åˆ†å¸ƒå¼æ–‡æ¡£ç³»ç»Ÿæ“ä½œï¼Œåˆ°æœç´¢å¼•æ“Žæ“ä½œï¼Œåˆ°ç´¢å¼•ç®¡ç†ï¼Œæœ€åŽåˆ°Java APIä½¿ç”¨ï¼Œè¿™æ ·å®Œæ•´çš„çŸ¥è¯†ä½“ç³»ã€‚åŒæ—¶è¿˜ç»†è‡´åˆ°åŒ…å«å¾ˆå¤šç‹¬å®¶çš„çŸ¥è¯†ç‚¹ï¼Œæ¯”å¦‚è¯´Elasticsearchå¦‚ä½•çªç ´æ‰©å®¹ç“¶é¢ˆï¼Œsearch timeoutæœºåˆ¶ï¼Œå¦‚ä½•å®šä½ä¸åˆæ³•çš„æœç´¢ï¼Œç­‰ç­‰ã€‚ 4ã€åŒ…å«å¾ˆå¤šç‹¬å®¶çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹å’ŒæŠ€æœ¯ï¼Œæ¯”å¦‚ä¹è§‚é”å¹¶å‘æŽ§åˆ¶ï¼Œå†™ä¸€è‡´æ€§ä¸Žquorumæœºåˆ¶ï¼Œbulk apiåº•å±‚æ€§èƒ½ä¼˜åŒ–ï¼Œdeep-pagingæ€§èƒ½é—®é¢˜ï¼Œå¤§æ•°æ®é‡é›¶åœæœºé‡å»ºç´¢å¼•ï¼Œç­‰ç­‰ã€‚ 5ã€è¯¾ç¨‹çš„åŽŸç†æ€§è®²è§£è¶³å¤Ÿæ·±å…¥ï¼Œä¸€ç›´å‰–æžåˆ°ESçš„å†…æ ¸å±‚é¢ï¼Œè€Œä¸”å‡ ä¹Žæ‰€æœ‰åŽŸç†çŸ¥è¯†ç‚¹çš„è®²è§£100%éƒ½ä½¿ç”¨çŽ°åœºä¸€ç‚¹ä¸€ç‚¹æ‰‹å·¥ç”»å›¾çš„æ–¹å¼æ¥å‰–æžå’Œè®²è§£ã€‚æ¯”å¦‚ESå®¹é”™æœºåˆ¶ï¼Œdocumentæ•°æ®è·¯ç”±ï¼Œobjectç±»åž‹åº•å±‚ç»“æž„ï¼Œç›¸å…³åº¦è¯„åˆ†TF/IDFç®—æ³•ï¼Œdoc valueï¼Œtypeåº•å±‚æ•°æ®ç»“æž„ï¼Œå†…æ ¸çº§æ•°æ®å†™å…¥æµç¨‹ï¼Œindex segmentã€memory bufferã€filesystem cacheã€flushã€commitç­‰å†…æ ¸çº§åŽŸç†ã€‚ 6ã€å¤§é‡çš„ä¸ŠæœºåŠ¨æ‰‹å®žéªŒï¼Œå‡ ä¹Žæ‰€æœ‰åŠŸèƒ½éƒ½ä¼šå¸¦ç€å¤§å®¶ä¸ŠæœºåŠ¨æ‰‹å®žæˆ˜æ“ä½œï¼Œæ¼”ç»ƒï¼ŒæŽŒæ¡åŠŸèƒ½çš„ä½¿ç”¨ã€‚æ¯”å¦‚å…¥é—¨çº§çš„ç”µå•†ç½‘ç«™å•†å“ç®¡ç†æ¡ˆä¾‹ï¼ŒåŸºäºŽç‰ˆæœ¬å·è¿›è¡Œä¹è§‚é”å¹¶å‘æŽ§åˆ¶çš„å®žéªŒï¼Œmget+bulkæ‰¹é‡å¤„ç†çš„å®žéªŒï¼Œscollæ»šåŠ¨æœç´¢å¤§é‡æ•°æ®çš„å®žéªŒï¼Œscoll+bulk+aliasé›¶åœæœºé‡å»ºç´¢å¼•çš„å®žéªŒï¼ŒåŸºäºŽJavaå¼€å‘çš„å‘˜å·¥ç®¡ç†æ¡ˆä¾‹ï¼Œç­‰ç­‰ã€‚ æœ¬å¥—è¯¾ç¨‹å­¦å®Œä»¥åŽèƒ½å¤Ÿè¾¾åˆ°çš„æ•ˆæžœï¼š 1ã€å¿«é€ŸæŽŒæ¡Elasticsearchçš„å„ç§ä½¿ç”¨ï¼ŒåŒ…æ‹¬documentç®¡ç†ï¼Œç´¢å¼•ç®¡ç†ï¼Œæœç´¢ï¼Œèšåˆåˆ†æžï¼Œç­‰ç­‰ã€‚2ã€ç»†è‡´æŽŒæ¡Elasticsearchçš„å„ç§é«˜çº§æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ŒåŒ…æ‹¬ä¹è§‚é”å¹¶å‘æŽ§åˆ¶ï¼Œmget+bulkæ‰¹å¤„ç†ï¼Œé›¶åœæœºåœºæ™¯ä¸‹é‡å»ºç´¢å¼•ï¼Œdynamic mappingæ¨¡æ¿å®šåˆ¶ï¼Œåˆ†è¯å™¨å®šåˆ¶ï¼Œç­‰ç­‰ã€‚3ã€æ·±å…¥ç†è§£Elasticsearchçš„å„ç§æ ¸å¿ƒåŽŸç†ï¼ŒåŒ…æ‹¬åˆ†å¸ƒå¼æž¶æž„åŽŸç†ï¼Œåˆ†å¸ƒå¼æ–‡æ¡£ç³»ç»ŸåŽŸç†ï¼Œåˆ†å¸ƒå¼æœç´¢å¼•æ“ŽåŽŸç†ï¼Œå†…æ ¸çº§åŽŸç†ã€‚4ã€å¿«é€ŸæŽŒæ¡åŸºäºŽJavaæ¥å¼€å‘Elasticsearchçš„ç®€å•åº”ç”¨ç¨‹åºï¼Œå®žçŽ°åŒ…æ‹¬documentå¢žåˆ æ”¹æŸ¥ï¼Œå¸¸è§çš„æœç´¢æ“ä½œï¼Œå¸¸è§çš„èšåˆåˆ†æžæ“ä½œã€‚5ã€åŸºäºŽä¸Šè¿°4ç‚¹çš„æŽŒæ¡ï¼Œå¯ä»¥ä¸ºæ›´åŠ è¿›ä¸€æ­¥æ·±å…¥å­¦ä¹ Elasticsearchè¿™é—¨æŠ€æœ¯æ‰“å¥½åŸºç¡€ã€‚ ã€ŠElasticsearché¡¶å°–é«˜æ‰‹ç³»åˆ—è¯¾ç¨‹ï¼šæ ¸å¿ƒçŸ¥è¯†ç¯‡ï¼ˆä¸‹åŠå­£ï¼‰ã€‹é¢„å‘Šï¼š æ ¸å¿ƒçŸ¥è¯†ç¯‡è¿˜ä¼šæœ‰ä¸‹åŠå­£ï¼Œä¼šåœ¨è¿™åŠå­£çš„åŸºç¡€ä¸Šæ›´åŠ æ·±å…¥çš„åŽ»è®²è§£Elasticsearchçš„æ ¸å¿ƒçŸ¥è¯†ï¼Œè®©å¤§å®¶ä¸€ç«™å¼å½»åº•æŽŒæ¡å’Œç²¾é€šESçš„æ ¸å¿ƒçŸ¥è¯†ä½“ç³» 1ã€æ·±åº¦æŽ¢ç§˜Elasticsearchçš„æœç´¢åŠŸèƒ½ï¼Œå½»åº•è®²è§£ESæœç´¢ç›¸å…³çš„æ‰€æœ‰çŸ¥è¯†ç‚¹ï¼ŒåŒ…æ‹¬å¤æ‚å¤šæ¡ä»¶ç»„åˆæœç´¢ï¼Œæœç´¢æƒé‡æŽ§åˆ¶ï¼Œå¤šåŸŸ/è·¨åŸŸæœç´¢ï¼Œè¿‘ä¼¼åŒ¹é…æœç´¢ï¼Œsearch as you typeï¼Œç›¸å…³åº¦è¯„åˆ†å½»åº•æŽŒæŽ§ï¼ŒStemmerï¼Œæ¨¡ç³ŠåŒ¹é…å’Œè‡ªåŠ¨çº é”™ï¼Œç­‰ç­‰ã€‚ 2ã€å½»åº•è§£æžESçš„æ•°æ®èšåˆåˆ†æžåŠŸèƒ½ï¼ŒåŒ…æ‹¬åŸºäºŽæ—¶é—´è·¨åº¦çš„èšåˆåˆ†æžï¼Œèšåˆç»“æžœæŽ’åºï¼Œè¿‘ä¼¼èšåˆç®—æ³•ï¼Œdoc valueå’Œfielddataå¤§æ­ç§˜ï¼Œç­‰ç­‰ã€‚ 3ã€æ·±å…¥è®²è§£ESçš„æ•°æ®å»ºæ¨¡ï¼ŒåŒ…æ‹¬çˆ¶å­å…³ç³»æ•°æ®å»ºæ¨¡ï¼ŒåµŒå¥—å…³ç³»æ•°æ®å»ºæ¨¡ï¼Œè¶…å¤§æ•°æ®é‡åœºæ™¯ä¸‹ï¼Œæœç´¢å’Œåˆ†æžåº”ç”¨çš„æ•°æ®å»ºæ¨¡ä¸Žè®¾è®¡åŽŸåˆ™ï¼Œç­‰ç­‰ã€‚ 4ã€åŸºäºŽJavaå½»åº•çŽ©è½¬Elasticsearchï¼ŒåŒ…æ‹¬åŸºäºŽJavaå®žçŽ°bulkï¼Œscollï¼Œå¤æ‚æœç´¢ï¼Œå¤æ‚èšåˆï¼Œç´¢å¼•ç®¡ç†ï¼Œç­‰ç­‰ã€‚ 5ã€é¡¹ç›®å®žæˆ˜ï¼šæ–°é—»é—¨æˆ·ç½‘ç«™çš„å°åž‹æœç´¢å¼•æ“Ž&amp;æ•°æ®åˆ†æžç³»ç»Ÿ Elasticsearchçš„åŠŸèƒ½ ç‰¹ç‚¹ é€‚ç”¨åœºæ™¯è¯¾ç¨‹å¤§çº² 1ã€Elasticsearchçš„åŠŸèƒ½ï¼Œå¹²ä»€ä¹ˆçš„2ã€Elasticsearchçš„é€‚ç”¨åœºæ™¯ï¼Œèƒ½åœ¨ä»€ä¹ˆåœ°æ–¹å‘æŒ¥ä½œç”¨3ã€Elasticsearchçš„ç‰¹ç‚¹ï¼Œè·Ÿå…¶ä»–ç±»ä¼¼çš„ä¸œè¥¿ä¸åŒçš„åœ°æ–¹åœ¨å“ªé‡Œ 1ã€Elasticsearchçš„åŠŸèƒ½ ï¼ˆ1ï¼‰åˆ†å¸ƒå¼çš„æœç´¢å¼•æ“Žå’Œæ•°æ®åˆ†æžå¼•æ“Ž æœç´¢ï¼šç™¾åº¦ï¼Œç½‘ç«™çš„ç«™å†…æœç´¢ï¼ŒITç³»ç»Ÿçš„æ£€ç´¢æ•°æ®åˆ†æžï¼šç”µå•†ç½‘ç«™ï¼Œæœ€è¿‘7å¤©ç‰™è†è¿™ç§å•†å“é”€é‡æŽ’åå‰10çš„å•†å®¶æœ‰å“ªäº›ï¼›æ–°é—»ç½‘ç«™ï¼Œæœ€è¿‘1ä¸ªæœˆè®¿é—®é‡æŽ’åå‰3çš„æ–°é—»ç‰ˆå—æ˜¯å“ªäº›åˆ†å¸ƒå¼ï¼Œæœç´¢ï¼Œæ•°æ®åˆ†æž ï¼ˆ2ï¼‰å…¨æ–‡æ£€ç´¢ï¼Œç»“æž„åŒ–æ£€ç´¢ï¼Œæ•°æ®åˆ†æž å…¨æ–‡æ£€ç´¢ï¼šæˆ‘æƒ³æœç´¢å•†å“åç§°åŒ…å«ç‰™è†çš„å•†å“ï¼Œselect from products where product_name like â€œ%ç‰™è†%â€ç»“æž„åŒ–æ£€ç´¢ï¼šæˆ‘æƒ³æœç´¢å•†å“åˆ†ç±»ä¸ºæ—¥åŒ–ç”¨å“çš„å•†å“éƒ½æœ‰å“ªäº›ï¼Œselect from products where category_id=â€™æ—¥åŒ–ç”¨å“â€™éƒ¨åˆ†åŒ¹é…ã€è‡ªåŠ¨å®Œæˆã€æœç´¢çº é”™ã€æœç´¢æŽ¨èæ•°æ®åˆ†æžï¼šæˆ‘ä»¬åˆ†æžæ¯ä¸€ä¸ªå•†å“åˆ†ç±»ä¸‹æœ‰å¤šå°‘ä¸ªå•†å“ï¼Œselect category_id,count(*) from products group by category_id ï¼ˆ3ï¼‰å¯¹æµ·é‡æ•°æ®è¿›è¡Œè¿‘å®žæ—¶çš„å¤„ç† åˆ†å¸ƒå¼ï¼šESè‡ªåŠ¨å¯ä»¥å°†æµ·é‡æ•°æ®åˆ†æ•£åˆ°å¤šå°æœåŠ¡å™¨ä¸ŠåŽ»å­˜å‚¨å’Œæ£€ç´¢æµ·è”æ•°æ®çš„å¤„ç†ï¼šåˆ†å¸ƒå¼ä»¥åŽï¼Œå°±å¯ä»¥é‡‡ç”¨å¤§é‡çš„æœåŠ¡å™¨åŽ»å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ï¼Œè‡ªç„¶è€Œç„¶å°±å¯ä»¥å®žçŽ°æµ·é‡æ•°æ®çš„å¤„ç†äº†è¿‘å®žæ—¶ï¼šæ£€ç´¢ä¸ªæ•°æ®è¦èŠ±è´¹1å°æ—¶ï¼ˆè¿™å°±ä¸è¦è¿‘å®žæ—¶ï¼Œç¦»çº¿æ‰¹å¤„ç†ï¼Œbatch-processingï¼‰ï¼›åœ¨ç§’çº§åˆ«å¯¹æ•°æ®è¿›è¡Œæœç´¢å’Œåˆ†æž è·Ÿåˆ†å¸ƒå¼/æµ·é‡æ•°æ®ç›¸åçš„ï¼šluceneï¼Œå•æœºåº”ç”¨ï¼Œåªèƒ½åœ¨å•å°æœåŠ¡å™¨ä¸Šä½¿ç”¨ï¼Œæœ€å¤šåªèƒ½å¤„ç†å•å°æœåŠ¡å™¨å¯ä»¥å¤„ç†çš„æ•°æ®é‡ 2ã€Elasticsearchçš„é€‚ç”¨åœºæ™¯ å›½å¤– ï¼ˆ1ï¼‰ç»´åŸºç™¾ç§‘ï¼Œç±»ä¼¼ç™¾åº¦ç™¾ç§‘ï¼Œç‰™è†ï¼Œç‰™è†çš„ç»´åŸºç™¾ç§‘ï¼Œå…¨æ–‡æ£€ç´¢ï¼Œé«˜äº®ï¼Œæœç´¢æŽ¨èï¼ˆ2ï¼‰The Guardianï¼ˆå›½å¤–æ–°é—»ç½‘ç«™ï¼‰ï¼Œç±»ä¼¼æœç‹æ–°é—»ï¼Œç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼ˆç‚¹å‡»ï¼Œæµè§ˆï¼Œæ”¶è—ï¼Œè¯„è®ºï¼‰+ç¤¾äº¤ç½‘ç»œæ•°æ®ï¼ˆå¯¹æŸæŸæ–°é—»çš„ç›¸å…³çœ‹æ³•ï¼‰ï¼Œæ•°æ®åˆ†æžï¼Œç»™åˆ°æ¯ç¯‡æ–°é—»æ–‡ç« çš„ä½œè€…ï¼Œè®©ä»–çŸ¥é“ä»–çš„æ–‡ç« çš„å…¬ä¼—åé¦ˆï¼ˆå¥½ï¼Œåï¼Œçƒ­é—¨ï¼Œåžƒåœ¾ï¼Œé„™è§†ï¼Œå´‡æ‹œï¼‰ï¼ˆ3ï¼‰Stack Overflowï¼ˆå›½å¤–çš„ç¨‹åºå¼‚å¸¸è®¨è®ºè®ºå›ï¼‰ï¼ŒITé—®é¢˜ï¼Œç¨‹åºçš„æŠ¥é”™ï¼Œæäº¤ä¸ŠåŽ»ï¼Œæœ‰äººä¼šè·Ÿä½ è®¨è®ºå’Œå›žç­”ï¼Œå…¨æ–‡æ£€ç´¢ï¼Œæœç´¢ç›¸å…³é—®é¢˜å’Œç­”æ¡ˆï¼Œç¨‹åºæŠ¥é”™äº†ï¼Œå°±ä¼šå°†æŠ¥é”™ä¿¡æ¯ç²˜è´´åˆ°é‡Œé¢åŽ»ï¼Œæœç´¢æœ‰æ²¡æœ‰å¯¹åº”çš„ç­”æ¡ˆï¼ˆ4ï¼‰GitHubï¼ˆå¼€æºä»£ç ç®¡ç†ï¼‰ï¼Œæœç´¢ä¸Šåƒäº¿è¡Œä»£ç ï¼ˆ5ï¼‰ç”µå•†ç½‘ç«™ï¼Œæ£€ç´¢å•†å“ï¼ˆ6ï¼‰æ—¥å¿—æ•°æ®åˆ†æžï¼Œlogstashé‡‡é›†æ—¥å¿—ï¼ŒESè¿›è¡Œå¤æ‚çš„æ•°æ®åˆ†æžï¼ˆELKæŠ€æœ¯ï¼Œelasticsearch+logstash+kibanaï¼‰ï¼ˆ7ï¼‰å•†å“ä»·æ ¼ç›‘æŽ§ç½‘ç«™ï¼Œç”¨æˆ·è®¾å®šæŸå•†å“çš„ä»·æ ¼é˜ˆå€¼ï¼Œå½“ä½ŽäºŽè¯¥é˜ˆå€¼çš„æ—¶å€™ï¼Œå‘é€é€šçŸ¥æ¶ˆæ¯ç»™ç”¨æˆ·ï¼Œæ¯”å¦‚è¯´è®¢é˜…ç‰™è†çš„ç›‘æŽ§ï¼Œå¦‚æžœé«˜éœ²æ´ç‰™è†çš„å®¶åº­å¥—è£…ä½ŽäºŽ50å—é’±ï¼Œå°±é€šçŸ¥æˆ‘ï¼Œæˆ‘å°±åŽ»ä¹°ï¼ˆ8ï¼‰BIç³»ç»Ÿï¼Œå•†ä¸šæ™ºèƒ½ï¼ŒBusiness Intelligenceã€‚æ¯”å¦‚è¯´æœ‰ä¸ªå¤§åž‹å•†åœºé›†å›¢ï¼ŒBIï¼Œåˆ†æžä¸€ä¸‹æŸæŸåŒºåŸŸæœ€è¿‘3å¹´çš„ç”¨æˆ·æ¶ˆè´¹é‡‘é¢çš„è¶‹åŠ¿ä»¥åŠç”¨æˆ·ç¾¤ä½“çš„ç»„æˆæž„æˆï¼Œäº§å‡ºç›¸å…³çš„æ•°å¼ æŠ¥è¡¨ï¼Œ**åŒºï¼Œæœ€è¿‘3å¹´ï¼Œæ¯å¹´æ¶ˆè´¹é‡‘é¢å‘ˆçŽ°100%çš„å¢žé•¿ï¼Œè€Œä¸”ç”¨æˆ·ç¾¤ä½“85%æ˜¯é«˜çº§ç™½é¢†ï¼Œå¼€ä¸€ä¸ªæ–°å•†åœºã€‚ESæ‰§è¡Œæ•°æ®åˆ†æžå’ŒæŒ–æŽ˜ï¼ŒKibanaè¿›è¡Œæ•°æ®å¯è§†åŒ– å›½å†… ï¼ˆ9ï¼‰å›½å†…ï¼šç«™å†…æœç´¢ï¼ˆç”µå•†ï¼Œæ‹›è˜ï¼Œé—¨æˆ·ï¼Œç­‰ç­‰ï¼‰ï¼ŒITç³»ç»Ÿæœç´¢ï¼ˆOAï¼ŒCRMï¼ŒERPï¼Œç­‰ç­‰ï¼‰ï¼Œæ•°æ®åˆ†æžï¼ˆESçƒ­é—¨çš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯ï¼‰ 3ã€Elasticsearchçš„ç‰¹ç‚¹ ï¼ˆ1ï¼‰å¯ä»¥ä½œä¸ºä¸€ä¸ªå¤§åž‹åˆ†å¸ƒå¼é›†ç¾¤ï¼ˆæ•°ç™¾å°æœåŠ¡å™¨ï¼‰æŠ€æœ¯ï¼Œå¤„ç†PBçº§æ•°æ®ï¼ŒæœåŠ¡å¤§å…¬å¸ï¼›ä¹Ÿå¯ä»¥è¿è¡Œåœ¨å•æœºä¸Šï¼ŒæœåŠ¡å°å…¬å¸ï¼ˆ2ï¼‰Elasticsearchä¸æ˜¯ä»€ä¹ˆæ–°æŠ€æœ¯ï¼Œä¸»è¦æ˜¯å°†å…¨æ–‡æ£€ç´¢ã€æ•°æ®åˆ†æžä»¥åŠåˆ†å¸ƒå¼æŠ€æœ¯ï¼Œåˆå¹¶åœ¨äº†ä¸€èµ·ï¼Œæ‰å½¢æˆäº†ç‹¬ä¸€æ— äºŒçš„ESï¼›luceneï¼ˆå…¨æ–‡æ£€ç´¢ï¼‰ï¼Œå•†ç”¨çš„æ•°æ®åˆ†æžè½¯ä»¶ï¼ˆä¹Ÿæ˜¯æœ‰çš„ï¼‰ï¼Œåˆ†å¸ƒå¼æ•°æ®åº“ï¼ˆmycatï¼‰ï¼ˆ3ï¼‰å¯¹ç”¨æˆ·è€Œè¨€ï¼Œæ˜¯å¼€ç®±å³ç”¨çš„ï¼Œéžå¸¸ç®€å•ï¼Œä½œä¸ºä¸­å°åž‹çš„åº”ç”¨ï¼Œç›´æŽ¥3åˆ†é’Ÿéƒ¨ç½²ä¸€ä¸‹ESï¼Œå°±å¯ä»¥ä½œä¸ºç”Ÿäº§çŽ¯å¢ƒçš„ç³»ç»Ÿæ¥ä½¿ç”¨äº†ï¼Œæ•°æ®é‡ä¸å¤§ï¼Œæ“ä½œä¸æ˜¯å¤ªå¤æ‚ï¼ˆ4ï¼‰æ•°æ®åº“çš„åŠŸèƒ½é¢å¯¹å¾ˆå¤šé¢†åŸŸæ˜¯ä¸å¤Ÿç”¨çš„ï¼ˆäº‹åŠ¡ï¼Œè¿˜æœ‰å„ç§è”æœºäº‹åŠ¡åž‹çš„æ“ä½œï¼‰ï¼›ç‰¹æ®Šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚å…¨æ–‡æ£€ç´¢ï¼ŒåŒä¹‰è¯å¤„ç†ï¼Œç›¸å…³åº¦æŽ’åï¼Œå¤æ‚æ•°æ®åˆ†æžï¼Œæµ·é‡æ•°æ®çš„è¿‘å®žæ—¶å¤„ç†ï¼›Elasticsearchä½œä¸ºä¼ ç»Ÿæ•°æ®åº“çš„ä¸€ä¸ªè¡¥å……ï¼Œæä¾›äº†æ•°æ®åº“æ‰€ä¸ä¸èƒ½æä¾›çš„å¾ˆå¤šåŠŸèƒ½ æ‰‹å·¥ç”»å›¾å‰–æžElasticsearchæ ¸å¿ƒæ¦‚å¿µï¼šNRTã€ç´¢å¼•ã€åˆ†ç‰‡ã€å‰¯æœ¬è¯¾ç¨‹å¤§çº² 1ã€luceneå’Œelasticsearchçš„å‰ä¸–ä»Šç”Ÿ2ã€elasticsearchçš„æ ¸å¿ƒæ¦‚å¿µ3ã€elasticsearchæ ¸å¿ƒæ¦‚å¿µ vs. æ•°æ®åº“æ ¸å¿ƒæ¦‚å¿µ 1ã€luceneå’Œelasticsearchçš„å‰ä¸–ä»Šç”Ÿ luceneï¼Œæœ€å…ˆè¿›ã€åŠŸèƒ½æœ€å¼ºå¤§çš„æœç´¢åº“ï¼Œç›´æŽ¥åŸºäºŽluceneå¼€å‘ï¼Œéžå¸¸å¤æ‚ï¼Œapiå¤æ‚ï¼ˆå®žçŽ°ä¸€äº›ç®€å•çš„åŠŸèƒ½ï¼Œå†™å¤§é‡çš„javaä»£ç ï¼‰ï¼Œéœ€è¦æ·±å…¥ç†è§£åŽŸç†ï¼ˆå„ç§ç´¢å¼•ç»“æž„ï¼‰ elasticsearchï¼ŒåŸºäºŽluceneï¼Œéšè—å¤æ‚æ€§ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„restful apiæŽ¥å£ã€java apiæŽ¥å£ï¼ˆè¿˜æœ‰å…¶ä»–è¯­è¨€çš„apiæŽ¥å£ï¼‰ï¼ˆ1ï¼‰åˆ†å¸ƒå¼çš„æ–‡æ¡£å­˜å‚¨å¼•æ“Žï¼ˆ2ï¼‰åˆ†å¸ƒå¼çš„æœç´¢å¼•æ“Žå’Œåˆ†æžå¼•æ“Žï¼ˆ3ï¼‰åˆ†å¸ƒå¼ï¼Œæ”¯æŒPBçº§æ•°æ® å¼€ç®±å³ç”¨ï¼Œä¼˜ç§€çš„é»˜è®¤å‚æ•°ï¼Œä¸éœ€è¦ä»»ä½•é¢å¤–è®¾ç½®ï¼Œå®Œå…¨å¼€æº å…³äºŽelasticsearchçš„ä¸€ä¸ªä¼ è¯´ï¼Œæœ‰ä¸€ä¸ªç¨‹åºå‘˜å¤±ä¸šäº†ï¼Œé™ªç€è‡ªå·±è€å©†åŽ»è‹±å›½ä¼¦æ•¦å­¦ä¹ åŽ¨å¸ˆè¯¾ç¨‹ã€‚ç¨‹åºå‘˜åœ¨å¤±ä¸šæœŸé—´æƒ³ç»™è€å©†å†™ä¸€ä¸ªèœè°±æœç´¢å¼•æ“Žï¼Œè§‰å¾—luceneå®žåœ¨å¤ªå¤æ‚äº†ï¼Œå°±å¼€å‘äº†ä¸€ä¸ªå°è£…äº†luceneçš„å¼€æºé¡¹ç›®ï¼Œcompassã€‚åŽæ¥ç¨‹åºå‘˜æ‰¾åˆ°äº†å·¥ä½œï¼Œæ˜¯åšåˆ†å¸ƒå¼çš„é«˜æ€§èƒ½é¡¹ç›®çš„ï¼Œè§‰å¾—compassä¸å¤Ÿï¼Œå°±å†™äº†elasticsearchï¼Œè®©luceneå˜æˆåˆ†å¸ƒå¼çš„ç³»ç»Ÿã€‚ 2ã€elasticsearchçš„æ ¸å¿ƒæ¦‚å¿µ ï¼ˆ1ï¼‰Near Realtimeï¼ˆNRTï¼‰ï¼šè¿‘å®žæ—¶ï¼Œä¸¤ä¸ªæ„æ€ï¼Œä»Žå†™å…¥æ•°æ®åˆ°æ•°æ®å¯ä»¥è¢«æœç´¢åˆ°æœ‰ä¸€ä¸ªå°å»¶è¿Ÿï¼ˆå¤§æ¦‚1ç§’ï¼‰ï¼›åŸºäºŽesæ‰§è¡Œæœç´¢å’Œåˆ†æžå¯ä»¥è¾¾åˆ°ç§’çº§ ï¼ˆ2ï¼‰Clusterï¼šé›†ç¾¤ï¼ŒåŒ…å«å¤šä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å±žäºŽå“ªä¸ªé›†ç¾¤æ˜¯é€šè¿‡ä¸€ä¸ªé…ç½®ï¼ˆé›†ç¾¤åç§°ï¼Œé»˜è®¤æ˜¯elasticsearchï¼‰æ¥å†³å®šçš„ï¼Œå¯¹äºŽä¸­å°åž‹åº”ç”¨æ¥è¯´ï¼Œåˆšå¼€å§‹ä¸€ä¸ªé›†ç¾¤å°±ä¸€ä¸ªèŠ‚ç‚¹å¾ˆæ­£å¸¸ï¼ˆ3ï¼‰Nodeï¼šèŠ‚ç‚¹ï¼Œé›†ç¾¤ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ä¹Ÿæœ‰ä¸€ä¸ªåç§°ï¼ˆé»˜è®¤æ˜¯éšæœºåˆ†é…çš„ï¼‰ï¼ŒèŠ‚ç‚¹åç§°å¾ˆé‡è¦ï¼ˆåœ¨æ‰§è¡Œè¿ç»´ç®¡ç†æ“ä½œçš„æ—¶å€™ï¼‰ï¼Œé»˜è®¤èŠ‚ç‚¹ä¼šåŽ»åŠ å…¥ä¸€ä¸ªåç§°ä¸ºâ€œelasticsearchâ€çš„é›†ç¾¤ï¼Œå¦‚æžœç›´æŽ¥å¯åŠ¨ä¸€å †èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒä»¬ä¼šè‡ªåŠ¨ç»„æˆä¸€ä¸ªelasticsearché›†ç¾¤ï¼Œå½“ç„¶ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥ç»„æˆä¸€ä¸ªelasticsearché›†ç¾¤ ï¼ˆ4ï¼‰Document&amp;fieldï¼šæ–‡æ¡£ï¼Œesä¸­çš„æœ€å°æ•°æ®å•å…ƒï¼Œä¸€ä¸ªdocumentå¯ä»¥æ˜¯ä¸€æ¡å®¢æˆ·æ•°æ®ï¼Œä¸€æ¡å•†å“åˆ†ç±»æ•°æ®ï¼Œä¸€æ¡è®¢å•æ•°æ®ï¼Œé€šå¸¸ç”¨JSONæ•°æ®ç»“æž„è¡¨ç¤ºï¼Œæ¯ä¸ªindexä¸‹çš„typeä¸­ï¼Œéƒ½å¯ä»¥åŽ»å­˜å‚¨å¤šä¸ªdocumentã€‚ä¸€ä¸ªdocumenté‡Œé¢æœ‰å¤šä¸ªfieldï¼Œæ¯ä¸ªfieldå°±æ˜¯ä¸€ä¸ªæ•°æ®å­—æ®µã€‚ product document { â€œproduct_idâ€: â€œ1â€, â€œproduct_nameâ€: â€œé«˜éœ²æ´ç‰™è†â€, â€œproduct_descâ€: â€œé«˜æ•ˆç¾Žç™½â€, â€œcategory_idâ€: â€œ2â€, â€œcategory_nameâ€: â€œæ—¥åŒ–ç”¨å“â€} ï¼ˆ5ï¼‰Indexï¼šç´¢å¼•ï¼ŒåŒ…å«ä¸€å †æœ‰ç›¸ä¼¼ç»“æž„çš„æ–‡æ¡£æ•°æ®ï¼Œæ¯”å¦‚å¯ä»¥æœ‰ä¸€ä¸ªå®¢æˆ·ç´¢å¼•ï¼Œå•†å“åˆ†ç±»ç´¢å¼•ï¼Œè®¢å•ç´¢å¼•ï¼Œç´¢å¼•æœ‰ä¸€ä¸ªåç§°ã€‚ä¸€ä¸ªindexåŒ…å«å¾ˆå¤šdocumentï¼Œä¸€ä¸ªindexå°±ä»£è¡¨äº†ä¸€ç±»ç±»ä¼¼çš„æˆ–è€…ç›¸åŒçš„documentã€‚æ¯”å¦‚è¯´å»ºç«‹ä¸€ä¸ªproduct indexï¼Œå•†å“ç´¢å¼•ï¼Œé‡Œé¢å¯èƒ½å°±å­˜æ”¾äº†æ‰€æœ‰çš„å•†å“æ•°æ®ï¼Œæ‰€æœ‰çš„å•†å“documentã€‚ï¼ˆ6ï¼‰Typeï¼šç±»åž‹ï¼Œæ¯ä¸ªç´¢å¼•é‡Œéƒ½å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªtypeï¼Œtypeæ˜¯indexä¸­çš„ä¸€ä¸ªé€»è¾‘æ•°æ®åˆ†ç±»ï¼Œä¸€ä¸ªtypeä¸‹çš„documentï¼Œéƒ½æœ‰ç›¸åŒçš„fieldï¼Œæ¯”å¦‚åšå®¢ç³»ç»Ÿï¼Œæœ‰ä¸€ä¸ªç´¢å¼•ï¼Œå¯ä»¥å®šä¹‰ç”¨æˆ·æ•°æ®typeï¼Œåšå®¢æ•°æ®typeï¼Œè¯„è®ºæ•°æ®typeã€‚ å•†å“indexï¼Œé‡Œé¢å­˜æ”¾äº†æ‰€æœ‰çš„å•†å“æ•°æ®ï¼Œå•†å“document ä½†æ˜¯å•†å“åˆ†å¾ˆå¤šç§ç±»ï¼Œæ¯ä¸ªç§ç±»çš„documentçš„fieldå¯èƒ½ä¸å¤ªä¸€æ ·ï¼Œæ¯”å¦‚è¯´ç”µå™¨å•†å“ï¼Œå¯èƒ½è¿˜åŒ…å«ä¸€äº›è¯¸å¦‚å”®åŽæ—¶é—´èŒƒå›´è¿™æ ·çš„ç‰¹æ®Šfieldï¼›ç”Ÿé²œå•†å“ï¼Œè¿˜åŒ…å«ä¸€äº›è¯¸å¦‚ç”Ÿé²œä¿è´¨æœŸä¹‹ç±»çš„ç‰¹æ®Šfield typeï¼Œæ—¥åŒ–å•†å“typeï¼Œç”µå™¨å•†å“typeï¼Œç”Ÿé²œå•†å“type æ—¥åŒ–å•†å“typeï¼šproduct_idï¼Œproduct_nameï¼Œproduct_descï¼Œcategory_idï¼Œcategory_nameç”µå™¨å•†å“typeï¼šproduct_idï¼Œproduct_nameï¼Œproduct_descï¼Œcategory_idï¼Œcategory_nameï¼Œservice_periodç”Ÿé²œå•†å“typeï¼šproduct_idï¼Œproduct_nameï¼Œproduct_descï¼Œcategory_idï¼Œcategory_nameï¼Œeat_period æ¯ä¸€ä¸ªtypeé‡Œé¢ï¼Œéƒ½ä¼šåŒ…å«ä¸€å †document { â€œproduct_idâ€: â€œ2â€, â€œproduct_nameâ€: â€œé•¿è™¹ç”µè§†æœºâ€, â€œproduct_descâ€: â€œ4ké«˜æ¸…â€, â€œcategory_idâ€: â€œ3â€, â€œcategory_nameâ€: â€œç”µå™¨â€, â€œservice_periodâ€: â€œ1å¹´â€} { â€œproduct_idâ€: â€œ3â€, â€œproduct_nameâ€: â€œåŸºå›´è™¾â€, â€œproduct_descâ€: â€œçº¯å¤©ç„¶ï¼Œå†°å²›äº§â€, â€œcategory_idâ€: â€œ4â€, â€œcategory_nameâ€: â€œç”Ÿé²œâ€, â€œeat_periodâ€: â€œ7å¤©â€} ï¼ˆ7ï¼‰shardï¼šå•å°æœºå™¨æ— æ³•å­˜å‚¨å¤§é‡æ•°æ®ï¼Œeså¯ä»¥å°†ä¸€ä¸ªç´¢å¼•ä¸­çš„æ•°æ®åˆ‡åˆ†ä¸ºå¤šä¸ªshardï¼Œåˆ†å¸ƒåœ¨å¤šå°æœåŠ¡å™¨ä¸Šå­˜å‚¨ã€‚æœ‰äº†shardå°±å¯ä»¥æ¨ªå‘æ‰©å±•ï¼Œå­˜å‚¨æ›´å¤šæ•°æ®ï¼Œè®©æœç´¢å’Œåˆ†æžç­‰æ“ä½œåˆ†å¸ƒåˆ°å¤šå°æœåŠ¡å™¨ä¸ŠåŽ»æ‰§è¡Œï¼Œæå‡åžåé‡å’Œæ€§èƒ½ã€‚æ¯ä¸ªshardéƒ½æ˜¯ä¸€ä¸ªlucene indexã€‚ï¼ˆ8ï¼‰replicaï¼šä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨éšæ—¶å¯èƒ½æ•…éšœæˆ–å®•æœºï¼Œæ­¤æ—¶shardå¯èƒ½å°±ä¼šä¸¢å¤±ï¼Œå› æ­¤å¯ä»¥ä¸ºæ¯ä¸ªshardåˆ›å»ºå¤šä¸ªreplicaå‰¯æœ¬ã€‚replicaå¯ä»¥åœ¨shardæ•…éšœæ—¶æä¾›å¤‡ç”¨æœåŠ¡ï¼Œä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œå¤šä¸ªreplicaè¿˜å¯ä»¥æå‡æœç´¢æ“ä½œçš„åžåé‡å’Œæ€§èƒ½ã€‚primary shardï¼ˆå»ºç«‹ç´¢å¼•æ—¶ä¸€æ¬¡è®¾ç½®ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œé»˜è®¤5ä¸ªï¼‰ï¼Œreplica shardï¼ˆéšæ—¶ä¿®æ”¹æ•°é‡ï¼Œé»˜è®¤1ä¸ªï¼‰ï¼Œé»˜è®¤æ¯ä¸ªç´¢å¼•10ä¸ªshardï¼Œ5ä¸ªprimary shardï¼Œ5ä¸ªreplica shardï¼Œæœ€å°çš„é«˜å¯ç”¨é…ç½®ï¼Œæ˜¯2å°æœåŠ¡å™¨ã€‚ 3ã€elasticsearchæ ¸å¿ƒæ¦‚å¿µ vs. æ•°æ®åº“æ ¸å¿ƒæ¦‚å¿µ Elasticsearch æ•°æ®åº“ Document è¡ŒType è¡¨Index åº“ åœ¨windowsä¸Šå®‰è£…å’Œå¯åŠ¨Elasticseach1ã€å®‰è£…JDKï¼Œè‡³å°‘1.8.0_73ä»¥ä¸Šç‰ˆæœ¬ï¼Œjava -version2ã€ä¸‹è½½å’Œè§£åŽ‹ç¼©Elasticsearchå®‰è£…åŒ…ï¼Œç›®å½•ç»“æž„3ã€å¯åŠ¨Elasticsearchï¼šbin\elasticsearch.batï¼Œesæœ¬èº«ç‰¹ç‚¹ä¹‹ä¸€å°±æ˜¯å¼€ç®±å³ç”¨ï¼Œå¦‚æžœæ˜¯ä¸­å°åž‹åº”ç”¨ï¼Œæ•°æ®é‡å°‘ï¼Œæ“ä½œä¸æ˜¯å¾ˆå¤æ‚ï¼Œç›´æŽ¥å¯åŠ¨å°±å¯ä»¥ç”¨äº† 4ã€æ£€æŸ¥ESæ˜¯å¦å¯åŠ¨æˆåŠŸï¼šhttp://localhost:9200/?pretty name: nodeåç§°cluster_name: é›†ç¾¤åç§°ï¼ˆé»˜è®¤çš„é›†ç¾¤åç§°å°±æ˜¯elasticsearchï¼‰version.number: 5.2.0ï¼Œesç‰ˆæœ¬å· { â€œnameâ€ : â€œ4onsTYVâ€, â€œcluster_nameâ€ : â€œelasticsearchâ€, â€œcluster_uuidâ€ : â€œnKZ9VK_vQdSQ1J0Dx9gx1Qâ€, â€œversionâ€ : { â€œnumberâ€ : â€œ5.2.0â€, â€œbuild_hashâ€ : â€œ24e05b9â€, â€œbuild_dateâ€ : â€œ2017-01-24T19:52:35.800Zâ€, â€œbuild_snapshotâ€ : false, â€œlucene_versionâ€ : â€œ6.4.0â€ }, â€œtaglineâ€ : â€œYou Know, for Searchâ€} 5ã€ä¿®æ”¹é›†ç¾¤åç§°ï¼šelasticsearch.yml6ã€ä¸‹è½½å’Œè§£åŽ‹ç¼©Kibanaå®‰è£…åŒ…ï¼Œä½¿ç”¨é‡Œé¢çš„å¼€å‘ç•Œé¢ï¼ŒåŽ»æ“ä½œelasticsearchï¼Œä½œä¸ºæˆ‘ä»¬å­¦ä¹ esçŸ¥è¯†ç‚¹çš„ä¸€ä¸ªä¸»è¦çš„ç•Œé¢å…¥å£7ã€å¯åŠ¨Kibanaï¼šbin\kibana.bat8ã€è¿›å…¥Dev Toolsç•Œé¢9ã€GET _cluster/health å¿«é€Ÿå…¥é—¨æ¡ˆä¾‹å®žæˆ˜ä¹‹ç”µå•†ç½‘ç«™å•†å“ç®¡ç†ï¼šé›†ç¾¤å¥åº·æ£€æŸ¥ï¼Œæ–‡æ¡£CRUDè¯¾ç¨‹å¤§çº² 1ã€documentæ•°æ®æ ¼å¼2ã€ç”µå•†ç½‘ç«™å•†å“ç®¡ç†æ¡ˆä¾‹ï¼šèƒŒæ™¯ä»‹ç»3ã€ç®€å•çš„é›†ç¾¤ç®¡ç†4ã€å•†å“çš„CRUDæ“ä½œï¼ˆdocument CRUDæ“ä½œï¼‰ 1ã€documentæ•°æ®æ ¼å¼ é¢å‘æ–‡æ¡£çš„æœç´¢åˆ†æžå¼•æ“Ž ï¼ˆ1ï¼‰åº”ç”¨ç³»ç»Ÿçš„æ•°æ®ç»“æž„éƒ½æ˜¯é¢å‘å¯¹è±¡çš„ï¼Œå¤æ‚çš„ï¼ˆ2ï¼‰å¯¹è±¡æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œåªèƒ½æ‹†è§£å¼€æ¥ï¼Œå˜ä¸ºæ‰å¹³çš„å¤šå¼ è¡¨ï¼Œæ¯æ¬¡æŸ¥è¯¢çš„æ—¶å€™è¿˜å¾—è¿˜åŽŸå›žå¯¹è±¡æ ¼å¼ï¼Œç›¸å½“éº»çƒ¦ï¼ˆ3ï¼‰ESæ˜¯é¢å‘æ–‡æ¡£çš„ï¼Œæ–‡æ¡£ä¸­å­˜å‚¨çš„æ•°æ®ç»“æž„ï¼Œä¸Žé¢å‘å¯¹è±¡çš„æ•°æ®ç»“æž„æ˜¯ä¸€æ ·çš„ï¼ŒåŸºäºŽè¿™ç§æ–‡æ¡£æ•°æ®ç»“æž„ï¼Œeså¯ä»¥æä¾›å¤æ‚çš„ç´¢å¼•ï¼Œå…¨æ–‡æ£€ç´¢ï¼Œåˆ†æžèšåˆç­‰åŠŸèƒ½ï¼ˆ4ï¼‰esçš„documentç”¨jsonæ•°æ®æ ¼å¼æ¥è¡¨è¾¾ public class Employee { private String email; private String firstName; private String lastName; private EmployeeInfo info; private Date joinDate; } private class EmployeeInfo { private String bio; // æ€§æ ¼ private Integer age; private String[] interests; // å…´è¶£çˆ±å¥½ } EmployeeInfo info = new EmployeeInfo();info.setBio(â€œcurious and modestâ€);info.setAge(30);info.setInterests(new String[]{â€œbikeâ€, â€œclimbâ€}); Employee employee = new Employee();employee.setEmail(â€œzhangsan@sina.comâ€œ);employee.setFirstName(â€œsanâ€);employee.setLastName(â€œzhangâ€);employee.setInfo(info);employee.setJoinDate(new Date()); employeeå¯¹è±¡ï¼šé‡Œé¢åŒ…å«äº†Employeeç±»è‡ªå·±çš„å±žæ€§ï¼Œè¿˜æœ‰ä¸€ä¸ªEmployeeInfoå¯¹è±¡ ä¸¤å¼ è¡¨ï¼šemployeeè¡¨ï¼Œemployee_infoè¡¨ï¼Œå°†employeeå¯¹è±¡çš„æ•°æ®é‡æ–°æ‹†å¼€æ¥ï¼Œå˜æˆEmployeeæ•°æ®å’ŒEmployeeInfoæ•°æ®employeeè¡¨ï¼šemailï¼Œfirst_nameï¼Œlast_nameï¼Œjoin_dateï¼Œ4ä¸ªå­—æ®µemployee_infoè¡¨ï¼šbioï¼Œageï¼Œinterestsï¼Œ3ä¸ªå­—æ®µï¼›æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªå¤–é”®å­—æ®µï¼Œæ¯”å¦‚employee_idï¼Œå…³è”ç€employeeè¡¨ { â€œemailâ€: â€œzhangsan@sina.comâ€œ, â€œfirst_nameâ€: â€œsanâ€, â€œlast_nameâ€: â€œzhangâ€, â€œinfoâ€: { â€œbioâ€: â€œcurious and modestâ€, â€œageâ€: 30, â€œinterestsâ€: [ â€œbikeâ€, â€œclimbâ€ ] }, â€œjoin_dateâ€: â€œ2017/01/01â€} æˆ‘ä»¬å°±æ˜Žç™½äº†esçš„documentæ•°æ®æ ¼å¼å’Œæ•°æ®åº“çš„å…³ç³»åž‹æ•°æ®æ ¼å¼çš„åŒºåˆ« 2ã€ç”µå•†ç½‘ç«™å•†å“ç®¡ç†æ¡ˆä¾‹èƒŒæ™¯ä»‹ç» æœ‰ä¸€ä¸ªç”µå•†ç½‘ç«™ï¼Œéœ€è¦ä¸ºå…¶åŸºäºŽESæž„å»ºä¸€ä¸ªåŽå°ç³»ç»Ÿï¼Œæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š ï¼ˆ1ï¼‰å¯¹å•†å“ä¿¡æ¯è¿›è¡ŒCRUDï¼ˆå¢žåˆ æ”¹æŸ¥ï¼‰æ“ä½œï¼ˆ2ï¼‰æ‰§è¡Œç®€å•çš„ç»“æž„åŒ–æŸ¥è¯¢ï¼ˆ3ï¼‰å¯ä»¥æ‰§è¡Œç®€å•çš„å…¨æ–‡æ£€ç´¢ï¼Œä»¥åŠå¤æ‚çš„phraseï¼ˆçŸ­è¯­ï¼‰æ£€ç´¢ï¼ˆ4ï¼‰å¯¹äºŽå…¨æ–‡æ£€ç´¢çš„ç»“æžœï¼Œå¯ä»¥è¿›è¡Œé«˜äº®æ˜¾ç¤ºï¼ˆ5ï¼‰å¯¹æ•°æ®è¿›è¡Œç®€å•çš„èšåˆåˆ†æž 3ã€ç®€å•çš„é›†ç¾¤ç®¡ç† ï¼ˆ1ï¼‰å¿«é€Ÿæ£€æŸ¥é›†ç¾¤çš„å¥åº·çŠ¶å†µ esæä¾›äº†ä¸€å¥—apiï¼Œå«åšcat apiï¼Œå¯ä»¥æŸ¥çœ‹esä¸­å„ç§å„æ ·çš„æ•°æ® GET /_cat/health?v epoch timestamp cluster status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent1488006741 15:12:21 elasticsearch yellow 1 1 1 1 0 0 1 0 - 50.0% epoch timestamp cluster status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent1488007113 15:18:33 elasticsearch green 2 2 2 1 0 0 0 0 - 100.0% epoch timestamp cluster status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent1488007216 15:20:16 elasticsearch yellow 1 1 1 1 0 0 1 0 - 50.0% å¦‚ä½•å¿«é€Ÿäº†è§£é›†ç¾¤çš„å¥åº·çŠ¶å†µï¼Ÿgreenã€yellowã€redï¼Ÿ greenï¼šæ¯ä¸ªç´¢å¼•çš„primary shardå’Œreplica shardéƒ½æ˜¯activeçŠ¶æ€çš„yellowï¼šæ¯ä¸ªç´¢å¼•çš„primary shardéƒ½æ˜¯activeçŠ¶æ€çš„ï¼Œä½†æ˜¯éƒ¨åˆ†replica shardä¸æ˜¯activeçŠ¶æ€ï¼Œå¤„äºŽä¸å¯ç”¨çš„çŠ¶æ€redï¼šä¸æ˜¯æ‰€æœ‰ç´¢å¼•çš„primary shardéƒ½æ˜¯activeçŠ¶æ€çš„ï¼Œéƒ¨åˆ†ç´¢å¼•æœ‰æ•°æ®ä¸¢å¤±äº† ä¸ºä»€ä¹ˆçŽ°åœ¨ä¼šå¤„äºŽä¸€ä¸ªyellowçŠ¶æ€ï¼Ÿ æˆ‘ä»¬çŽ°åœ¨å°±ä¸€ä¸ªç¬”è®°æœ¬ç”µè„‘ï¼Œå°±å¯åŠ¨äº†ä¸€ä¸ªesè¿›ç¨‹ï¼Œç›¸å½“äºŽå°±åªæœ‰ä¸€ä¸ªnodeã€‚çŽ°åœ¨esä¸­æœ‰ä¸€ä¸ªindexï¼Œå°±æ˜¯kibanaè‡ªå·±å†…ç½®å»ºç«‹çš„indexã€‚ç”±äºŽé»˜è®¤çš„é…ç½®æ˜¯ç»™æ¯ä¸ªindexåˆ†é…5ä¸ªprimary shardå’Œ5ä¸ªreplica shardï¼Œè€Œä¸”primary shardå’Œreplica shardä¸èƒ½åœ¨åŒä¸€å°æœºå™¨ä¸Šï¼ˆä¸ºäº†å®¹é”™ï¼‰ã€‚çŽ°åœ¨kibanaè‡ªå·±å»ºç«‹çš„indexæ˜¯1ä¸ªprimary shardå’Œ1ä¸ªreplica shardã€‚å½“å‰å°±ä¸€ä¸ªnodeï¼Œæ‰€ä»¥åªæœ‰1ä¸ªprimary shardè¢«åˆ†é…äº†å’Œå¯åŠ¨äº†ï¼Œä½†æ˜¯ä¸€ä¸ªreplica shardæ²¡æœ‰ç¬¬äºŒå°æœºå™¨åŽ»å¯åŠ¨ã€‚ åšä¸€ä¸ªå°å®žéªŒï¼šæ­¤æ—¶åªè¦å¯åŠ¨ç¬¬äºŒä¸ªesè¿›ç¨‹ï¼Œå°±ä¼šåœ¨esé›†ç¾¤ä¸­æœ‰2ä¸ªnodeï¼Œç„¶åŽé‚£1ä¸ªreplica shardå°±ä¼šè‡ªåŠ¨åˆ†é…è¿‡åŽ»ï¼Œç„¶åŽcluster statuså°±ä¼šå˜æˆgreençŠ¶æ€ã€‚ ï¼ˆ2ï¼‰å¿«é€ŸæŸ¥çœ‹é›†ç¾¤ä¸­æœ‰å“ªäº›ç´¢å¼• GET /_cat/indices?v health status index uuid pri rep docs.count docs.deleted store.size pri.store.sizeyellow open .kibana rUm9n9wMRQCCrRDEhqneBg 1 1 1 0 3.1kb 3.1kb ï¼ˆ3ï¼‰ç®€å•çš„ç´¢å¼•æ“ä½œ åˆ›å»ºç´¢å¼•ï¼šPUT /test_index?pretty health status index uuid pri rep docs.count docs.deleted store.size pri.store.sizeyellow open test_index XmS9DTAtSkSZSwWhhGEKkQ 5 1 0 0 650b 650byellow open .kibana rUm9n9wMRQCCrRDEhqneBg 1 1 1 0 3.1kb 3.1kb åˆ é™¤ç´¢å¼•ï¼šDELETE /test_index?pretty health status index uuid pri rep docs.count docs.deleted store.size pri.store.sizeyellow open .kibana rUm9n9wMRQCCrRDEhqneBg 1 1 1 0 3.1kb 3.1kb 4ã€å•†å“çš„CRUDæ“ä½œ ï¼ˆ1ï¼‰æ–°å¢žå•†å“ï¼šæ–°å¢žæ–‡æ¡£ï¼Œå»ºç«‹ç´¢å¼• PUT /index/type/id{ â€œjsonæ•°æ®â€} PUT /ecommerce/product/1{ â€œnameâ€ : â€œgaolujie yagaoâ€, â€œdescâ€ : â€œgaoxiao meibaiâ€, â€œpriceâ€ : 30, â€œproducerâ€ : â€œgaolujie producerâ€, â€œtagsâ€: [ â€œmeibaiâ€, â€œfangzhuâ€ ]} { â€œ_indexâ€: â€œecommerceâ€, â€œ_typeâ€: â€œproductâ€, â€œ_idâ€: â€œ1â€, â€œ_versionâ€: 1, â€œresultâ€: â€œcreatedâ€, â€œ_shardsâ€: { â€œtotalâ€: 2, â€œsuccessfulâ€: 1, â€œfailedâ€: 0 }, â€œcreatedâ€: true} PUT /ecommerce/product/2{ â€œnameâ€ : â€œjiajieshi yagaoâ€, â€œdescâ€ : â€œyouxiao fangzhuâ€, â€œpriceâ€ : 25, â€œproducerâ€ : â€œjiajieshi producerâ€, â€œtagsâ€: [ â€œfangzhuâ€ ]} PUT /ecommerce/product/3{ â€œnameâ€ : â€œzhonghua yagaoâ€, â€œdescâ€ : â€œcaoben zhiwuâ€, â€œpriceâ€ : 40, â€œproducerâ€ : â€œzhonghua producerâ€, â€œtagsâ€: [ â€œqingxinâ€ ]} esä¼šè‡ªåŠ¨å»ºç«‹indexå’Œtypeï¼Œä¸éœ€è¦æå‰åˆ›å»ºï¼Œè€Œä¸”esé»˜è®¤ä¼šå¯¹documentæ¯ä¸ªfieldéƒ½å»ºç«‹å€’æŽ’ç´¢å¼•ï¼Œè®©å…¶å¯ä»¥è¢«æœç´¢ ï¼ˆ2ï¼‰æŸ¥è¯¢å•†å“ï¼šæ£€ç´¢æ–‡æ¡£ GET /index/type/idGET /ecommerce/product/1 { â€œ_indexâ€: â€œecommerceâ€, â€œ_typeâ€: â€œproductâ€, â€œ_idâ€: â€œ1â€, â€œ_versionâ€: 1, â€œfoundâ€: true, â€œ_sourceâ€: { â€œnameâ€: â€œgaolujie yagaoâ€, â€œdescâ€: â€œgaoxiao meibaiâ€, â€œpriceâ€: 30, â€œproducerâ€: â€œgaolujie producerâ€, â€œtagsâ€: [ â€œmeibaiâ€, â€œfangzhuâ€ ] }} ï¼ˆ3ï¼‰ä¿®æ”¹å•†å“ï¼šæ›¿æ¢æ–‡æ¡£ PUT /ecommerce/product/1{ â€œnameâ€ : â€œjiaqiangban gaolujie yagaoâ€, â€œdescâ€ : â€œgaoxiao meibaiâ€, â€œpriceâ€ : 30, â€œproducerâ€ : â€œgaolujie producerâ€, â€œtagsâ€: [ â€œmeibaiâ€, â€œfangzhuâ€ ]} { â€œ_indexâ€: â€œecommerceâ€, â€œ_typeâ€: â€œproductâ€, â€œ_idâ€: â€œ1â€, â€œ_versionâ€: 1, â€œresultâ€: â€œcreatedâ€, â€œ_shardsâ€: { â€œtotalâ€: 2, â€œsuccessfulâ€: 1, â€œfailedâ€: 0 }, â€œcreatedâ€: true} { â€œ_indexâ€: â€œecommerceâ€, â€œ_typeâ€: â€œproductâ€, â€œ_idâ€: â€œ1â€, â€œ_versionâ€: 2, â€œresultâ€: â€œupdatedâ€, â€œ_shardsâ€: { â€œtotalâ€: 2, â€œsuccessfulâ€: 1, â€œfailedâ€: 0 }, â€œcreatedâ€: false} PUT /ecommerce/product/1{ â€œnameâ€ : â€œjiaqiangban gaolujie yagaoâ€} æ›¿æ¢æ–¹å¼æœ‰ä¸€ä¸ªä¸å¥½ï¼Œå³ä½¿å¿…é¡»å¸¦ä¸Šæ‰€æœ‰çš„fieldï¼Œæ‰èƒ½åŽ»è¿›è¡Œä¿¡æ¯çš„ä¿®æ”¹ ï¼ˆ4ï¼‰ä¿®æ”¹å•†å“ï¼šæ›´æ–°æ–‡æ¡£ POST /ecommerce/product/1/_update{ â€œdocâ€: { â€œnameâ€: â€œjiaqiangban gaolujie yagaoâ€ }} { â€œ_indexâ€: â€œecommerceâ€, â€œ_typeâ€: â€œproductâ€, â€œ_idâ€: â€œ1â€, â€œ_versionâ€: 8, â€œresultâ€: â€œupdatedâ€, â€œ_shardsâ€: { â€œtotalâ€: 2, â€œsuccessfulâ€: 1, â€œfailedâ€: 0 }} æˆ‘çš„é£Žæ ¼ï¼Œå…¶å®žæœ‰é€‰æ‹©çš„æƒ…å†µä¸‹ï¼Œä¸å¤ªå–œæ¬¢å¿µpptï¼Œæˆ–è€…ç…§ç€æ–‡æ¡£åšï¼Œæˆ–è€…ç›´æŽ¥ç²˜è´´å†™å¥½çš„ä»£ç ï¼Œå°½é‡æ˜¯çº¯æ‰‹æ•²ä»£ç  ï¼ˆ5ï¼‰åˆ é™¤å•†å“ï¼šåˆ é™¤æ–‡æ¡£ DELETE /ecommerce/product/1 { â€œfoundâ€: true, â€œ_indexâ€: â€œecommerceâ€, â€œ_typeâ€: â€œproductâ€, â€œ_idâ€: â€œ1â€, â€œ_versionâ€: 9, â€œresultâ€: â€œdeletedâ€, â€œ_shardsâ€: { â€œtotalâ€: 2, â€œsuccessfulâ€: 1, â€œfailedâ€: 0 }} { â€œ_indexâ€: â€œecommerceâ€, â€œ_typeâ€: â€œproductâ€, â€œ_idâ€: â€œ1â€, â€œfoundâ€: false} å¿«é€Ÿå…¥é—¨æ¡ˆä¾‹å®žæˆ˜ä¹‹ç”µå•†ç½‘ç«™å•†å“ç®¡ç†ï¼šå¤šç§æœç´¢æ–¹å¼]]></content>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring IOCè¯¦è§£]]></title>
    <url>%2F2019%2F01%2F01%2FSpring%2FSpring%20IOC%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ç›¸å½“äºŽ@Beanæ³¨è§£å’Œ@Controlleræ³¨è§£]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring @AspectJ]]></title>
    <url>%2F2019%2F01%2F01%2FSpring%2F9.%40Aspect%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F01%2F01%2FSpring%2F8.Spring%20AOP%20API%20imooc%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[Spring Autpwired]]></title>
    <url>%2F2019%2F01%2F01%2FSpring%2F6.%40Autowird%E6%B3%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[Autowired]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽSpringä¾èµ–æ³¨å…¥çš„ä¸€äº›ç†è§£]]></title>
    <url>%2F2018%2F12%2F31%2FSpring%2F2.Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%2F</url>
    <content type="text"><![CDATA[é—®å¤§å®¶ä¸€ä¸ªé—®é¢˜ Springä¸­æ³¨å†Œçš„bean åœ¨xmlä¸­é…ç½® æˆ‘çœ‹å†™çš„ç¨‹åºä¸­æ²¡æœ‰è°ƒç”¨ xxx.getBean(â€œxxxâ€)ã€‚é‚£åœ¨ç¨‹åºä¸­æ˜¯å¦‚ä½•ä½¿ç”¨è¿™ä¸ªbeançš„å‘¢]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQ åƒå³°æ•™è‚²ç¬”è®°]]></title>
    <url>%2F2018%2F12%2F25%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2FRabbit%20MQ%E5%8D%83%E5%B3%B0%2F</url>
    <content type="text"><![CDATA[1.RabbitMQ ç®€ä»‹ 2.Rabbit MQçš„å®‰è£… 3.Rabbit MQæ·»åŠ ç”¨æˆ· 4.Rabbit MQä½¿ç”¨æ•™ç¨‹ â­ï¸4.1æ¶ˆæ¯æ¨¡å¼ç§ç±» 4.2 pom&amp;log4j.properties123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.qianfeng&lt;/groupId&gt; &lt;artifactId&gt;testrabbitmqdemo&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;testrabbitmqdemo&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- https://mvnrepository.com/artifact/com.rabbitmq/amqp-client --&gt; &lt;!-- https://mvnrepository.com/artifact/com.rabbitmq/amqp-client --&gt; =====================amqp-clien========================== ============================ &lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;4.5.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;1.7.25&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.springframework.amqp/spring-rabbitô´ô´ spring ô°šô²‚ô±—,amqp ô°ªô±š rabbitmq ô´‘ô²…ô´’ô´“ --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; ===================spring-rabbit========================= ============================ &lt;dependency&gt; &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt; &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt; &lt;version&gt;1.7.6.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;4.3.7.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 1234567log4j.rootLogger=DEBUG,A1log4j.logger.com.taotao = DEBUGlog4j.logger.org.mybatis = DEBUGlog4j.appender.A1=org.apache.log4j.ConsoleAppenderlog4j.appender.A1.layout=org.apache.log4j.PatternLayoutlog4j.appender.A1.layout.ConversionPattern=%-d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; [%t] [%c]-[%p] %m%n 4.3HelloWorld (ç”Ÿäº§è€… æ¶ˆè´¹è€…)123456789101112131415161718package com.rabbitmq;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;/** * ç”¨äºŽåˆ›å»ºè¿žæŽ¥çš„å·¥å…·ç±» */public class ConnectionUtils &#123; public static Connection getConnection() throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("94.191.24.33");//è¿™ä¸ªHostæ˜¯ipåœ°å€ å¦‚æžœæ˜¯Linuxçš„å°±æ˜¯Linuxçš„ipconfig// å¦åˆ™å°±æ˜¯æœåŠ¡å™¨çš„å…¬ç½‘åœ°å€æ­¤å¤„æ˜¯è…¾è®¯äº‘çš„å…¬ç½‘ipåœ°å€ connectionFactory.setPort(5672);//5672æ˜¯æœåŠ¡å™¨çš„ç«¯å£ 15672æ˜¯ç½‘é¡µçš„ç«¯å£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); connectionFactory.setVirtualHost("/"); return connectionFactory.newConnection(); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334package com.rabbitmq;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;//ç”Ÿäº§è€…public class Sender &#123; private final static String QUEUEName = "RabbitmqName";//å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; //1ã€‚èŽ·å–è¿žæŽ¥ Connection connection = ConnectionUtils.getConnection(); //2ã€‚åˆ›å»ºé€šé“ Channel channel = connection.createChannel(); //3ã€‚å£°æ˜Žé˜Ÿåˆ— /** * å¦‚æžœé˜Ÿåˆ—å­˜åœ¨åˆ™ä»€ä¹ˆéƒ½ä¸åš å¦‚æžœä¸å­˜åœ¨æ‰åˆ›å»º * QUEUEName ï¼š å‚æ•°1 é˜Ÿåˆ—çš„åå­— * durable : å‚æ•°2 æ˜¯å¦æŒä¹…åŒ–é˜Ÿåˆ— * &gt; æˆ‘ä»¬çš„é˜Ÿåˆ—æ¨¡å¼æ˜¯åœ¨å†…å­˜ä¸­çš„ å¦‚æžœrabbitmq é‡å¯ ä¼šä¸¢å¤± * &gt; å¦‚æžœè®¾ç½®ä¸ºtrue ,åˆ™ä¼šä¿å­˜åˆ°erlangè‡ªå¸¦çš„æ•°æ®åº“ä¸­ï¼Œé‡å¯åŽä¼šé‡æ–°è¯»å– *exclusive: å‚æ•°3 æ˜¯å¦æŽ’é™¤ æœ‰ä¸¤ä¸ªä½œç”¨ * &gt; ä½œç”¨1ï¼š ç¬¬ä¸€ä¸ªå½“æˆ‘ä»¬çš„è¿žæŽ¥å…³é—­åŽæ˜¯å¦ä¼šè‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * &gt; ä½œç”¨2ï¼šæ˜¯å¦ç§æœ‰å½“å‰é˜Ÿåˆ— å¦‚æžœç§æœ‰äº†å…¶ä»–é€šé“ä¸å¯ä»¥è®¿é—®å½“å‰å¯¹åˆ— * &gt; å¦‚æžœä¸ºtrue ä¸€èˆ¬æ˜¯ä¸€ä¸ªé˜Ÿåˆ—åªé€‚ç”¨äºŽä¸€ä¸ªæ¶ˆè´¹è€…çš„æ—¶å€™ *autodeleteï¼š å‚æ•°4ï¼šæ˜¯å¦è‡ªåŠ¨åˆ é™¤ * å‚æ•°5ï¼šä¸€åˆ‡å…¶ä»–å‚æ•° */ channel.queueDeclare(QUEUEName, false, false, false, null); //4ã€‚å‘é€å†…å®¹ channel.basicPublish("", QUEUEName, null, "å‘é€çš„æ¶ˆæ¯".getBytes()); //5ã€‚å…³é—­è¿žæŽ¥ connection.close(); channel.close(); &#125;&#125; 123456789101112131415161718192021222324252627package com.rabbitmq;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.QueueingConsumer;//æ¶ˆè´¹è€…public class Recver &#123; private final static String QUEUEName = "RabbitmqName";//å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; Connection connection = ConnectionUtils.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUEName, false, false, false, null); //å®šä¹‰ä¸€ä¸ªæ¶ˆè´¹è€… QueueingConsumer consumer = new QueueingConsumer(channel); //æŽ¥å—å‚æ•° å‚æ•°2æ˜¯è‡ªåŠ¨ç¡®è®¤ channel.basicConsume(QUEUEName, true, consumer); while (true) &#123; //èŽ·å–æ¶ˆæ¯ //å¦‚æžœæ²¡æœ‰æ¶ˆæ¯ä¼šç­‰å¾… æœ‰çš„è¯å°±èŽ·å–æ‰§è¡Œç„¶åŽé”€æ¯æ˜¯ä¸€æ¬¡æ€§çš„ QueueingConsumer.Delivery delivery = consumer.nextDelivery(); String s = new String(delivery.getBody()); System.out.println(s); &#125; &#125;&#125; RabbitMQè¿žæŽ¥å·¥å…· 4.4 æ¶ˆæ¯é˜Ÿåˆ—ä¹‹RabbitMq-work æ¨¡å¼ 12345678910111213141516171819202122232425262728293031public class Recver1 &#123; private final static String QUEUE = "testwork";//é˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); // åŒä¸€æ—¶åˆ»æœåŠ¡å™¨åªä¼šå‘ä¸€æ¡æ¶ˆæ¯ç»™æ¶ˆè´¹è€…,åªæœ‰å½“å‰æ¶ˆè´¹è€…å°†æ¶ˆæ¯å¤„ç†å®ŒæˆåŽæ‰ä¼šèŽ·å–åˆ°ä¸‹ä¸€æ¡æ¶ˆæ¯ //æ³¨é‡ŠæŽ‰åŽå¯ä»¥èŽ·å–å¤šæ¡æ¶ˆæ¯,ä½†æ˜¯ä¼šä¸€æ¡ä¸€æ¡å¤„ç† channel.basicQos(1);//å‘Šè¯‰æœåŠ¡å™¨,åœ¨æˆ‘ä»¬æ²¡æœ‰ç¡®è®¤å½“å‰æ¶ˆæ¯å®Œæˆä¹‹å‰,ä¸è¦ç»™æˆ‘å‘æ–°çš„æ¶ˆæ¯ DefaultConsumer consumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //å½“æˆ‘ä»¬æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™è°ƒç”¨ System.out.println("æ¶ˆè´¹è€…1 æ”¶åˆ°çš„å†…å®¹æ˜¯:"+new String(body)); //ç¡®è®¤ try &#123; Thread.sleep(10);//æ¨¡æ‹Ÿè€—æ—¶ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; channel.basicAck(envelope.getDeliveryTag(), false);//å‚æ•°2,false ä¸ºç¡®è®¤æ”¶åˆ°æ¶ˆæ¯, true ä¸ºæ‹’æŽ¥æ”¶åˆ°æ¶ˆæ¯ &#125; &#125;; //æ³¨å†Œæ¶ˆè´¹è€…, å‚æ•°2 æ‰‹åŠ¨ç¡®è®¤,ä»£è¡¨æˆ‘ä»¬æ”¶åˆ°æ¶ˆæ¯åŽéœ€è¦æ‰‹åŠ¨å‘Šè¯‰æœåŠ¡å™¨,æˆ‘æ”¶åˆ°æ¶ˆæ¯äº† channel.basicConsume(QUEUE,false,consumer); &#125;&#125; 1234567891011121314151617181920212223242526272829public class Recver2 &#123; private final static String QUEUE = "testwork";//é˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); channel.basicQos(1);//å‘Šè¯‰æœåŠ¡å™¨,åœ¨æˆ‘ä»¬æ²¡æœ‰ç¡®è®¤å½“å‰æ¶ˆæ¯å®Œæˆä¹‹å‰,ä¸è¦ç»™æˆ‘å‘æ–°çš„æ¶ˆæ¯ DefaultConsumer consumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //å½“æˆ‘ä»¬æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™è°ƒç”¨ System.out.println("æ¶ˆè´¹è€…2 æ”¶åˆ°çš„å†…å®¹æ˜¯:"+new String(body)); try &#123; Thread.sleep(300);//æ¨¡æ‹Ÿè€—æ—¶ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; //ç¡®è®¤ channel.basicAck(envelope.getDeliveryTag(), false);//å‚æ•°2,false ä¸ºç¡®è®¤æ”¶åˆ°æ¶ˆæ¯, true ä¸ºæ‹’æŽ¥æ”¶åˆ°æ¶ˆæ¯ &#125; &#125;; //æ³¨å†Œæ¶ˆè´¹è€…, å‚æ•°2 æ‰‹åŠ¨ç¡®è®¤,ä»£è¡¨æˆ‘ä»¬æ”¶åˆ°æ¶ˆæ¯åŽéœ€è¦æ‰‹åŠ¨å‘Šè¯‰æœåŠ¡å™¨,æˆ‘æ”¶åˆ°æ¶ˆæ¯äº† channel.basicConsume(QUEUE,false,consumer); &#125;&#125; 1234567891011121314151617181920212223242526public class Sender &#123; private final static String QUEUE = "testwork";//é˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; //èŽ·å–è¿žæŽ¥ Connection connection = ConnextionUtil.getConnection(); //åˆ›å»ºé€šé“ Channel channel = connection.createChannel(); //å£°æ˜Žé˜Ÿåˆ—,å¦‚æžœé˜Ÿåˆ—å­˜åœ¨åˆ™ä»€ä¹ˆéƒ½ä¸åš,å¦‚æžœä¸å­˜åœ¨æ‰åˆ›å»º // å‚æ•°1 é˜Ÿåˆ—çš„åå­— //å‚æ•°2 æ˜¯å¦æŒä¹…åŒ–é˜Ÿåˆ—,æˆ‘ä»¬çš„é˜Ÿåˆ—æ¨¡å¼æ˜¯åœ¨å†…å­˜ä¸­çš„,å¦‚æžœ rabbitmq é‡å¯ä¼šä¸¢å¤±,å¦‚æžœæˆ‘ä»¬è®¾ç½®ä¸º true, åˆ™ä¼šä¿å­˜åˆ° erlang è‡ªå¸¦çš„æ•°æ®åº“ä¸­,é‡å¯åŽä¼šé‡æ–°è¯»å– //å‚æ•°3 æ˜¯å¦æŽ’å¤–,æœ‰ä¸¤ä¸ªä½œç”¨,ç¬¬ä¸€ä¸ªå½“æˆ‘ä»¬çš„è¿žæŽ¥å…³é—­åŽæ˜¯å¦ä¼šè‡ªåŠ¨åˆ é™¤é˜Ÿåˆ—,ä½œç”¨äºŒ æ˜¯å¦ç§æœ‰å½“å¤©å‰é˜Ÿåˆ—,å¦‚æžœç§æœ‰äº†,å…¶ä»–é€šé“ä¸å¯ä»¥è®¿é—®å½“å‰é˜Ÿåˆ—,å¦‚æžœä¸º true, ä¸€èˆ¬æ˜¯ä¸€ä¸ªé˜Ÿåˆ—åªé€‚ç”¨äºŽä¸€ä¸ªæ¶ˆè´¹è€…çš„æ—¶å€™ //å‚æ•°4 æ˜¯å¤Ÿè‡ªåŠ¨åˆ é™¤ //å‚æ•°5 æˆ‘ä»¬çš„ä¸€äº›å…¶ä»–å‚æ•° channel.queueDeclare(QUEUE, false, false, false, null); for (int i = 0; i &lt; 100; i++) &#123; //å‘é€å†…å®¹ channel.basicPublish("",QUEUE,null,("å‘é€çš„æ¶ˆæ¯"+i).getBytes()); &#125; //å…³é—­è¿žæŽ¥ channel.close(); connection.close(); &#125;&#125; 4.5æ¶ˆæ¯é˜Ÿåˆ—ä¹‹RabbitMq -æ¶ˆæ¯ç¡®è®¤ 4.6 æ¶ˆæ¯é˜Ÿåˆ—ä¹‹RabbitMq -Publish_Subscribeå‘å¸ƒè®¢é˜…æ¨¡å¼ 123456789101112131415161718192021222324public class Recver1 &#123; private final static String EXCHANGE_NAME = "testexchange";//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testpubqueue1", false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº channel.queueBind("testpubqueue1", EXCHANGE_NAME, ""); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("æ¶ˆè´¹è€…11111111:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testpubqueue1", false, consumer); &#125;&#125; 1234567891011121314151617181920public class Recver2 &#123; private final static String EXCHANGE_NAME = "testexchange";//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testpubqueue2", false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº channel.queueBind("testpubqueue2", EXCHANGE_NAME, ""); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("æ¶ˆè´¹è€…2222222:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testpubqueue2", false, consumer); &#125;&#125; 1234567891011121314public class Sender &#123; private final static String EXCHANGE_NAME = "testexchange";//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); //å£°æ˜Žäº¤æ¢æœº channel.exchangeDeclare(EXCHANGE_NAME, "fanout");//å®šä¹‰ä¸€ä¸ªäº¤æ¢æœº,ç±»åž‹æ˜¯fanout,ä¹Ÿå°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ //å‘å¸ƒè®¢é˜…æ¨¡å¼çš„,å› ä¸ºæ¶ˆæ¯æ˜¯å…ˆå‘åˆ°äº¤æ¢æœºä¸­,è€Œäº¤æ¢æœºæ˜¯æ²¡æœ‰ä¿å­˜åŠŸèƒ½çš„,æ‰€ä»¥å¦‚æžœæ²¡æœ‰æ¶ˆè´¹è€…,æ¶ˆæ¯ä¼šä¸¢å¤± channel.basicPublish(EXCHANGE_NAME, "", null, "å‘å¸ƒè®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯".getBytes()); channel.close(); connection.close(); &#125; &#125; 4.7æ¶ˆæ¯é˜Ÿåˆ—ä¹‹RabbitMq -route è·¯ç”±æ¨¡å¼ RabbitMQ topicæ¨¡å¼ 1234567891011121314public class Sender &#123; private final static String EXCHANGE_NAME = "testtopic"; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); // å£°æ˜Žexchange,å£°æ˜Žä¸º topic ä¹Ÿå°±æ˜¯é€šé…ç¬¦ç±»åž‹ channel.exchangeDeclare(EXCHANGE_NAME, "topic"); //å‘é€ abc.1.2æ•°æ®,å‡¡æ˜¯èƒ½åŒ¹é…åˆ°è¿™ä¸ªå…³é”®è¯çš„éƒ½ä¼šæ”¶åˆ° channel.basicPublish(EXCHANGE_NAME, "abc.1.2", null, "topic æ¨¡å¼æ¶ˆæ¯111".getBytes()); channel.close(); connection.close(); &#125;&#125; 12345678910111213141516171819202122232425262728293031import com.qianfeng.uitl.ConnextionUtil;import com.rabbitmq.client.*;import java.io.IOException;/** * Created by jackiechan on 2018/4/5/ä¸‹åˆ4:33 */public class Recver2 &#123; private final static String EXCHANGE_NAME = "testtopic";//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testtopicqueue2", false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº //å‚æ•°3 æ ‡è®°,ç»‘å®šåˆ°äº¤æ¢æœºçš„æ—¶å€™ä¼šæŒ‡å®šä¸€ä¸ªæ ‡è®°,åªæœ‰å’Œå®ƒä¸€æ ·çš„æ ‡è®°çš„æ¶ˆæ¯æ‰ä¼šè¢«å½“å‰æ¶ˆè´¹è€…æ”¶åˆ° channel.queueBind("testtopicqueue2", EXCHANGE_NAME, "key.#"); //å¦‚æžœè¦æŽ¥æ”¶å¤šä¸ªæ ‡è®°,åªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡å³å¯ channel.queueBind("testtopicqueue2", EXCHANGE_NAME, "abc.#"); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("æ¶ˆè´¹è€…22222:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testtopicqueue2", false, consumer); &#125; &#125; 12345678910111213141516171819202122232425262728293031import com.qianfeng.uitl.ConnextionUtil;import com.rabbitmq.client.*;import java.io.IOException;/** * Created by jackiechan on 2018/4/5/ä¸‹åˆ4:33 */public class Recver1 &#123; private final static String EXCHANGE_NAME = "testtopic";//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testtopicqueue1", false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº //å‚æ•°3 æ ‡è®°,ç»‘å®šåˆ°äº¤æ¢æœºçš„æ—¶å€™ä¼šæŒ‡å®šä¸€ä¸ªæ ‡è®°,åªæœ‰å’Œå®ƒä¸€æ ·çš„æ ‡è®°çš„æ¶ˆæ¯æ‰ä¼šè¢«å½“å‰æ¶ˆè´¹è€…æ”¶åˆ° channel.queueBind("testtopicqueue1", EXCHANGE_NAME, "key.*"); //å¦‚æžœè¦æŽ¥æ”¶å¤šä¸ªæ ‡è®°,åªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡å³å¯ channel.queueBind("testtopicqueue1", EXCHANGE_NAME, "abc.#"); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("æ¶ˆè´¹è€…11111111:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testtopicqueue1", false, consumer); &#125;&#125; Rabbit MQ æ•´åˆSpring 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:rabbit="http://www.springframework.org/schema/rabbit" xsi:schemaLocation="http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.7.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd"&gt; &lt;!--1 å®šä¹‰è¿žæŽ¥å·¥åŽ‚--&gt; &lt;rabbit:connection-factory id="connectionFactory" host="192.168.3.233" port="5672" username="test" password="test" virtual-host="/test"/&gt; &lt;!--æ¶ˆæ¯æ˜¯å‘é€åˆ°äº¤æ¢æœºè¿˜æ˜¯é˜Ÿåˆ—--&gt; &lt;!--å®šä¹‰ rabbitmq çš„æ¨¡æ¿ queue="" å¦‚æžœå‘é€åˆ°é˜Ÿåˆ—åˆ™å†™é˜Ÿåˆ— exchange="" å¦‚æžœå‘é€åˆ°äº¤æ¢æœºåˆ™å†™äº¤æ¢æœº routing-key="" å®šä¹‰è·¯ç”±çš„å…³é”®å­— --&gt; &lt;rabbit:template id="template" connection-factory="connectionFactory" exchange="fanoutExchange" /&gt; &lt;rabbit:admin connection-factory="connectionFactory"/&gt; &lt;!--å®šä¹‰é˜Ÿåˆ—--&gt; &lt;rabbit:queue name="myQueue" auto-declare="true"/&gt; &lt;!--å®šä¹‰äº¤æ¢æœº--&gt; &lt;rabbit:fanout-exchange name="fanoutExchange" auto-declare="true"&gt; &lt;!--å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœº--&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="myQueue"&gt; &lt;/rabbit:binding&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:fanout-exchange&gt;&lt;!--å®šä¹‰ç›‘å¬å®¹æ˜“,å½“æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™ä¼šæ‰§è¡Œå†…éƒ¨çš„é…ç½®--&gt; &lt;rabbit:listener-container connection-factory="connectionFactory"&gt;&lt;!--å®šä¹‰åˆ°åº•å“ªä¸ªç±»é‡Œé¢çš„ä»€ä¹ˆæ–¹æ³•ç”¨äºŽå¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯--&gt; &lt;rabbit:listener ref="consumer" method="test" queue-names="myQueue"/&gt; &lt;/rabbit:listener-container&gt; &lt;!--å®šä¹‰æ¶ˆè´¹è€…--&gt; &lt;bean id="consumer" class="com.qianfeng.spring.MyConsumer"/&gt;&lt;!-- &lt;rabbit:direct-exchange name="directExchange" durable="true" auto-delete="false"&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="myQueue" key="key1"&gt; &lt;/rabbit:binding&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:direct-exchange&gt;--&gt; &lt;!-- &lt;rabbit:topic-exchange name="topicExchange" durable="true" auto-delete="false"&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding pattern="dfasfsd.*" queue="myQueue"/&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:topic-exchange&gt;--&gt;&lt;/beans&gt; 123456789public class MyConsumer &#123; /** * ç”¨äºŽæŽ¥æ”¶æ¶ˆæ¯ * @param message */ public void test(String message) &#123; System.err.println(message); &#125;&#125; 12345678public class SpringTest &#123; public static void main(String[] args) throws Exception&#123; ApplicationContext context = new ClassPathXmlApplicationContext("classpath:applicationContext.xml"); RabbitTemplate template = context.getBean(RabbitTemplate.class); template.convertAndSend("spring çš„æ¶ˆæ¯"); ((ClassPathXmlApplicationContext) context).destroy(); &#125;&#125;]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQ Exchange]]></title>
    <url>%2F2018%2F12%2F25%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F6.Exchange%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSMæ•´åˆ]]></title>
    <url>%2F2018%2F12%2F23%2FSSM%20%2FSSM%E6%95%B4%E5%90%88%2F</url>
    <content type="text"><![CDATA[æ–°å»ºSSMé¡¹ç›® ï¼Œå…³äºŽIDEAçš„ç‰ˆæœ¬é—®é¢˜å¼ºçƒˆå»ºè®®ä½¿ç”¨æ——èˆ°ç‰ˆï¼Œæœ‰æ¡ä»¶çš„å°±è´­ä¹°ï¼Œæ²¡æ¡ä»¶çš„å˜›ã€‚ã€‚ å¤©æœä½ æ‡‚çš„ã€‚åœ¨æ¬¢è¿Žç•Œé¢ç‚¹å‡»Create New Projectã€‚ ä¹‹åŽé€‰æ‹©Maven(æ–°å»ºJAVAEEé¡¹ç›®æ˜¯éœ€è¦å®‰è£…JDKçš„ï¼Œè¿™ä¸ªå°±ä¸åœ¨è¿™é‡Œè®²è§£äº†ã€‚ )é€‰å¥½ä¹‹åŽç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚ä¹‹åŽå¡«å…¥GroupIDå’ŒArtifactIDè¿™é‡Œå°½é‡æŒ‰ç…§Mavençš„å‘½åè§„èŒƒæ¥å³å¯ã€‚ä¹‹åŽç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œå¡«å…¥é¡¹ç›®åç§°ï¼Œè¿™é‡Œæˆ‘å»ºè®®å’Œä¹‹å‰å¡«å†™çš„ArtifactIDåç§°ä¸€æ ·å³å¯ã€‚ç‚¹å‡»Finishå®Œæˆé¡¹ç›®çš„åˆ›å»ºã€‚ä¹‹åŽå°½é‡ä¸è¦åšå…¶ä»–æ“ä½œï¼Œè®©IDEAå®Œæˆç´¢å¼•åˆ›å»ºã€‚ å®Œå–„ç›®å½•ç»“æž„é¦–å…ˆè§‚å¯Ÿä¸€ä¸‹IDEAç»™æˆ‘ä»¬ç”Ÿæˆçš„ç›®å½•ç»“æž„ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„Mavenç›®å½•ã€‚ ä½†æ˜¯å…¶ä¸­å°‘äº†ä¸€ä¸ªwebappç›®å½•ç”¨äºŽå­˜æ”¾jspã€cssã€jsã€å›¾ç‰‡ä¹‹ç±»çš„æ–‡ä»¶ã€‚ ä¹‹åŽè¿˜éœ€è¦å®Œå–„æˆ‘ä»¬çš„ç›®å½•ç»“æž„ï¼Œå¦‚ä¸‹å›¾ï¼šä»¥ä¸Šçš„å‘½åéƒ½æ˜¯æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­å¸¸ç”¨çš„å‘½åè§„åˆ™ï¼Œä¸ä¸€å®šæŒ‰ç…§æˆ‘è¿™æ ·æ¥ï¼Œä½†æ˜¯æœ€å¥½æ˜¯æœ‰ä¸€å®šçš„è§„èŒƒã€‚ POM.xmlpom.xmlæ˜¯æ•´ä¸ªmavençš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œé‡Œé¢æœ‰å¯¹é¡¹ç›®çš„æè¿°å’Œé¡¹ç›®æ‰€éœ€è¦çš„ä¾èµ–ã€‚ å“¦å¯¹äº†ï¼Œåœ¨ä¿®æ”¹pom.xmlæ–‡ä»¶ä¹‹å‰æˆ‘ä»¬æœ€å¥½å…ˆè®¾ç½®ä¸€ä¸‹è¯¥é¡¹ç›®çš„Mavenè®¾ç½®(IDEAå¯¹æ¯ä¸ªé¡¹ç›®çš„mavenè®¾ç½®å’ŒEclipseä¸ä¸€æ ·ï¼Œä¸æ˜¯è®¾ç½®ä¸€æ¬¡å°±å¯äº†ï¼Œå¦‚æžœä»ŠåŽè¿˜è¦æ–°å»ºé¡¹ç›®é‚£å°±è¿˜éœ€è¦è®¾ç½®ï¼Œ åŒæ—¶æŒ‰ä½ctrl,alt,sæ˜¯æ‰“å¼€è®¾ç½®çš„å¿«æ·é”®ï¼Œæ›´å¤šæœ‰å…³IDEAçš„æ“ä½œä»ŠåŽä¼šæ›´æ–°ç›¸å…³åšæ–‡ã€‚ ) IDEAçš„Mavenè®¾ç½®åœ¨Eclipseä¸­ç”¨è¿‡Mavençš„éƒ½åº”è¯¥çŸ¥é“ï¼Œè¿™é‡Œæ˜¯å°†é¡¹ç›®çš„Mavenæ¢æˆæˆ‘ä»¬è‡ªå·±å®‰è£…çš„Mavenï¼Œä¸‹é¢ä¸¤ä¸ªç›®å½•æ˜¯é€‰æ‹©Mavené…ç½®æ–‡ä»¶ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŽŸå› åœ¨Eclipse ä¸­é€‰æ‹©äº†é…ç½®æ–‡ä»¶ä¹‹åŽä¼šè‡ªåŠ¨çš„å°†Mavenæœ¬åœ°åŽ‚åº“çš„è·¯å¾„æ›´æ”¹ä¸ºä½ settings.xmlä¸­é…ç½®çš„è·¯å¾„ã€‚ æ—¢ç„¶è¿™é‡Œæ²¡æœ‰è‡ªåŠ¨é€‰ä¸­é‚£æˆ‘ä»¬å°±æ‰‹åŠ¨ä¿®æ”¹å³å¯ï¼Œå°½é‡ä¸è¦æ”¾åœ¨Cç›˜ï¼Œä¸€æ˜¯ç”¨ä¹…ä¹‹åŽæœ¬åœ°åŽ‚åº“å ç”¨çš„ç©ºé—´ä¼šæ¯”è¾ƒå¤§ï¼ŒäºŒæ˜¯ä¸‡ä¸€ç³»ç»Ÿå´©æºƒçš„è¯è¿˜æœ‰å¯èƒ½æ‰¾å›žæ¥ã€‚ ä¿®æ”¹pom.xmlä»¥ä¸‹æ˜¯æˆ‘çš„pom.xmlæ–‡ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!--suppress MavenModelInspection --&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.crossoverJie&lt;/groupId&gt; &lt;artifactId&gt;SSM&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.6&lt;/source&gt; &lt;target&gt;1.6&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;spring.version&gt;4.1.4.RELEASE&lt;/spring.version&gt; &lt;jackson.version&gt;2.5.0&lt;/jackson.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;3.8.1&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- ä½¿ç”¨SpringMVCéœ€é…ç½® --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- å…³ç³»åž‹æ•°æ®åº“æ•´åˆæ—¶éœ€é…ç½® å¦‚hibernate jpaç­‰ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-orm&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.2.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- log4j --&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mysqlè¿žæŽ¥ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.34&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.0.18&lt;/version&gt; &lt;/dependency&gt; &lt;!-- json --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- aop --&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.8.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- servlet --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;3.0-alpha-1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- ä¸Šä¼ æ–‡ä»¶ --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; spring-mvc.xmlè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯springMVCçš„é…ç½®æ–‡ä»¶ï¼šé‡Œé¢çš„æˆ‘éƒ½å†™æœ‰æ³¨é‡Šï¼Œåº”è¯¥éƒ½èƒ½çœ‹æ‡‚ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt; &lt;!-- è‡ªåŠ¨æ‰«æè¯¥åŒ…ï¼Œä½¿SpringMVCè®¤ä¸ºåŒ…ä¸‹ç”¨äº†@controlleræ³¨è§£çš„ç±»æ˜¯æŽ§åˆ¶å™¨ --&gt; &lt;context:component-scan base-package=&quot;com.crossoverJie.controller&quot; /&gt; &lt;!--é¿å…IEæ‰§è¡ŒAJAXæ—¶ï¼Œè¿”å›žJSONå‡ºçŽ°ä¸‹è½½æ–‡ä»¶ --&gt; &lt;!--&lt;bean id=&quot;mappingJacksonHttpMessageConverter&quot; class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt; &lt;property name=&quot;supportedMediaTypes&quot;&gt; &lt;list&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt;--&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- å¯åŠ¨SpringMVCçš„æ³¨è§£åŠŸèƒ½ï¼Œå®Œæˆè¯·æ±‚å’Œæ³¨è§£POJOçš„æ˜ å°„ --&gt; &lt;!-- å®šä¹‰è·³è½¬çš„æ–‡ä»¶çš„å‰åŽç¼€ ï¼Œè§†å›¾æ¨¡å¼é…ç½®--&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;!-- è¿™é‡Œçš„é…ç½®æˆ‘çš„ç†è§£æ˜¯è‡ªåŠ¨ç»™åŽé¢actionçš„æ–¹æ³•returnçš„å­—ç¬¦ä¸²åŠ ä¸Šå‰ç¼€å’ŒåŽç¼€ï¼Œå˜æˆä¸€ä¸ª å¯ç”¨çš„urlåœ°å€ --&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; &lt;/bean&gt; &lt;!-- é…ç½®æ–‡ä»¶ä¸Šä¼ ï¼Œå¦‚æžœæ²¡æœ‰ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ å¯ä»¥ä¸ç”¨é…ç½®ï¼Œå½“ç„¶å¦‚æžœä¸é…ï¼Œé‚£ä¹ˆé…ç½®æ–‡ä»¶ä¸­ä¹Ÿä¸å¿…å¼•å…¥ä¸Šä¼ ç»„ä»¶åŒ… --&gt; &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt; &lt;!-- é»˜è®¤ç¼–ç  --&gt; &lt;property name=&quot;defaultEncoding&quot; value=&quot;utf-8&quot; /&gt; &lt;!-- æ–‡ä»¶å¤§å°æœ€å¤§å€¼ --&gt; &lt;property name=&quot;maxUploadSize&quot; value=&quot;10485760000&quot; /&gt; &lt;!-- å†…å­˜ä¸­çš„æœ€å¤§å€¼ --&gt; &lt;property name=&quot;maxInMemorySize&quot; value=&quot;40960&quot; /&gt; &lt;/bean&gt; &lt;!-- é…ç½®æ‹¦æˆªå™¨ --&gt; &lt;!--&lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &amp;lt;!&amp;ndash; &lt;mvc:mapping path=&quot;/**&quot;/&gt;æ‹¦æˆªæ‰€æœ‰ &amp;ndash;&amp;gt; &lt;mvc:mapping path=&quot;/user/**&quot;/&gt; &lt;mvc:mapping path=&quot;/role/**&quot;/&gt; &lt;mvc:mapping path=&quot;/function/**&quot;/&gt; &lt;mvc:mapping path=&quot;/news/**&quot;/&gt; &lt;mvc:mapping path=&quot;/img/**&quot;/&gt; &lt;bean class=&quot;com.crossoverJie.intercept.Intercept&quot;&gt;&lt;/bean&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt;--&gt;&lt;/beans&gt; å…³äºŽä¸Šé¢æ‹¦æˆªå™¨æ³¨é‡ŠæŽ‰çš„é‚£é‡Œï¼Œé…ç½®æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªæ•´åˆé¡¹ç›®ï¼Œæ‰€ä»¥é‡Œè¾¹ä¹Ÿæ²¡æœ‰ç”¨åˆ°æ‹¦æˆªå™¨ï¼Œä¸ºäº†é˜²æ­¢è¿è¡ŒæŠ¥é”™æ‰€ä»¥å°±å…ˆæ³¨é‡ŠæŽ‰äº†ã€‚ å¦‚æžœåŽç»­éœ€è¦å¢žåŠ æ‹¦æˆªå™¨ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œçš„é…ç½®ã€‚ spring-mybatis.xmlè¿™ä¸ªæ˜¯springå’Œmybatisçš„æ•´åˆé…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­è¿˜æœ‰Druidè¿žæŽ¥æ± çš„é…ç½®ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt; &lt;!-- è‡ªåŠ¨æ‰«æ --&gt; &lt;context:component-scan base-package=&quot;com.crossoverJie&quot; /&gt; &lt;!-- å¼•å…¥é…ç½®æ–‡ä»¶ --&gt; &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;location&quot; value=&quot;classpath:jdbc.properties&quot; /&gt; &lt;/bean&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt; &lt;!-- æŒ‡å®šè¿žæŽ¥æ•°æ®åº“çš„é©±åŠ¨ --&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driverClass&#125;&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot; /&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.user&#125;&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt; &lt;!-- é…ç½®åˆå§‹åŒ–å¤§å°ã€æœ€å°ã€æœ€å¤§ --&gt; &lt;property name=&quot;initialSize&quot; value=&quot;3&quot; /&gt; &lt;property name=&quot;minIdle&quot; value=&quot;3&quot; /&gt; &lt;property name=&quot;maxActive&quot; value=&quot;20&quot; /&gt; &lt;!-- é…ç½®èŽ·å–è¿žæŽ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´ --&gt; &lt;property name=&quot;maxWait&quot; value=&quot;60000&quot; /&gt; &lt;!-- é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿žæŽ¥ï¼Œå•ä½æ˜¯æ¯«ç§’ --&gt; &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt; &lt;!-- é…ç½®ä¸€ä¸ªè¿žæŽ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ --&gt; &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;300000&quot; /&gt; &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT &apos;x&apos;&quot; /&gt; &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt; &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot; /&gt; &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot; /&gt; &lt;!-- æ‰“å¼€PSCacheï¼Œå¹¶ä¸”æŒ‡å®šæ¯ä¸ªè¿žæŽ¥ä¸ŠPSCacheçš„å¤§å° --&gt; &lt;property name=&quot;poolPreparedStatements&quot; value=&quot;true&quot; /&gt; &lt;property name=&quot;maxPoolPreparedStatementPerConnectionSize&quot; value=&quot;20&quot; /&gt; &lt;!-- é…ç½®ç›‘æŽ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼ŒåŽ»æŽ‰åŽç›‘æŽ§ç•Œé¢sqlæ— æ³•ç»Ÿè®¡ --&gt; &lt;property name=&quot;filters&quot; value=&quot;stat&quot; /&gt; &lt;/bean&gt; &lt;!-- springå’ŒMyBatiså®Œç¾Žæ•´åˆï¼Œä¸éœ€è¦mybatisçš„é…ç½®æ˜ å°„æ–‡ä»¶ --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;!-- è‡ªåŠ¨æ‰«æmapping.xmlæ–‡ä»¶ --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapping/*.xml&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- DAOæŽ¥å£æ‰€åœ¨åŒ…åï¼ŒSpringä¼šè‡ªåŠ¨æŸ¥æ‰¾å…¶ä¸‹çš„ç±» --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.crossoverJie.dao&quot; /&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- (äº‹åŠ¡ç®¡ç†)transaction manager, use JtaTransactionManager for global tx --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;/bean&gt;&lt;/beans&gt; ä»¥ä¸Šä¸¤ä¸ªå°±æ˜¯æœ€é‡è¦çš„é…ç½®æ–‡ä»¶äº†ï¼Œåªè¦å…¶ä¸­çš„åŒ…åå’Œé…ç½®æ–‡ä»¶ä¸­çš„åå­—ä¸€æ ·å°±ä¸ä¼šå‡ºé—®é¢˜ã€‚å…³äºŽxxMpper.xmlä»¥åŠå®žä½“ç±»çš„ç”Ÿæˆï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©mybatis-generatorè‡ªåŠ¨ç”Ÿæˆå·¥å…·æ¥ç”Ÿæˆï¼Œæ–¹ä¾¿å¿«æ·ã€‚ â€”- IDEAé…ç½®Tomcatå…³äºŽTomcatçš„ä¸‹è½½ä¸Žå®‰è£…æˆ‘è¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ã€‚æŒ‰ç…§ä¸‹å›¾é€‰æ‹©ï¼šåœ¨nameä¸­ä¸ºè¿™ä¸ªTomcatè¾“å…¥ä¸€ä¸ªåå­—ã€‚ ä¹‹åŽé€‰æ‹©ä½ æœ¬åœ°Tomcatçš„ç›®å½•ç‚¹å‡»Okå³å¯ã€‚ç‚¹å‡»applyå’Œä¿å­˜ä¹‹åŽå°±è¿”å›žé¦–é¡µå³å¯çœ‹åˆ°Tomcatçš„æ ‡è¯†ã€‚æ ¹æ®éœ€è¦ç‚¹å‡»Runå’ŒDebugå³å¯è¿è¡Œã€‚ è¿è¡Œç»“æžœå¦‚ä¸‹ï¼šç‚¹å‡»ä¸Šå›¾çš„2,3,4å¯çœ‹åˆ°ä¸åŒç”¨æˆ·çš„ç»“æžœï¼Œå¦‚æžœä½ èµ°åˆ°è¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆæ­å–œä½ æ•´åˆæˆåŠŸã€‚ Jdbc.properties12345jdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3307/ssm?useUnicode=true&amp;characterEncoding=utf8jdbc.username=rootjdbc.password= mybatis-config.xml1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;!-- é…ç½®å…¨å±€å±žæ€§ --&gt; &lt;settings&gt; &lt;!-- ä½¿ç”¨jdbcçš„getGeneratedKeysèŽ·å–æ•°æ®åº“è‡ªå¢žä¸»é”®å€¼ --&gt; &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;true&quot; /&gt; &lt;!-- ä½¿ç”¨åˆ—åˆ«åæ›¿æ¢åˆ—å é»˜è®¤:true --&gt; &lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot; /&gt; &lt;!-- å¼€å¯é©¼å³°å‘½åè½¬æ¢:Table&#123;create_time&#125; -&gt; Entity&#123;createTime&#125; --&gt; &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot; /&gt; &lt;/settings&gt;&lt;/configuration&gt;]]></content>
      <tags>
        <tag>SSM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ…•è¯¾ç½‘SSMåˆ°Spring Boot-ä»Žé›¶å¼€å‘æ ¡å›­å•†é“ºå¹³å° o2o]]></title>
    <url>%2F2018%2F12%2F22%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E6%85%95%E8%AF%BE%E7%BD%91SSM%E5%88%B0Spring%20Boot-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%8F%91%E6%A0%A1%E5%9B%AD%E5%95%86%E9%93%BA%E5%B9%B3%E5%8F%B0%20o2o%20%2F</url>
    <content type="text"><![CDATA[1.å®žä½“ç±»è§£æžä¸Žè¡¨çš„åˆ›å»º $å•†å“ç±»åˆ«$ï¼š 1:å•†å“ç±»åˆ«çš„id 2:åº—é“ºid 3:å•†å“ç±»åˆ«çš„åç§° 4:å•†å“ç±»åˆ«çš„æƒé‡ 5:å•†å“åˆ›å»ºæ—¶é—´ $è¯¦æƒ…å›¾ç‰‡ï¼š$ 1:è¯¦æƒ…å›¾ç‰‡çš„id 2.å›¾ç‰‡çš„åœ°å€ 3.å›¾ç‰‡æ˜¾ç¤ºçš„æƒé‡ å¤§é å‰æ˜¾ç¤º 4.åˆ›å»ºæ—¶é—´ 5.å±žäºŽé‚£ä¸ªå•†å“çš„è¯¦æƒ…å›¾ç‰‡ï¼ˆå¤šå¯¹ä¸€ï¼‰çš„å…³ç³» 2 SprintBootçŽ¯å¢ƒæ­è½½2.1 mavenä¾èµ–123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.imooc.demo&lt;/groupId&gt; &lt;artifactId&gt;myo2o&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;myo2o Maven Webapp&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;spring.version&gt;4.3.7.RELEASE&lt;/spring.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- å•å…ƒæµ‹è¯• --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 1.æ—¥å¿— --&gt; &lt;!-- å®žçŽ°slf4jæŽ¥å£å¹¶æ•´åˆ --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2.æ•°æ®åº“ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.37&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- DAO: MyBatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3.Servlet web --&gt; &lt;dependency&gt; &lt;groupId&gt;taglibs&lt;/groupId&gt; &lt;artifactId&gt;standard&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;jstl&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4.Spring --&gt; &lt;!-- 1)Springæ ¸å¿ƒ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2)Spring DAOå±‚ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3)Spring web --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4)Spring test --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- rediså®¢æˆ·ç«¯:Jedis --&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.dyuproject.protostuff&lt;/groupId&gt; &lt;artifactId&gt;protostuff-core&lt;/artifactId&gt; &lt;version&gt;1.0.12&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.dyuproject.protostuff&lt;/groupId&gt; &lt;artifactId&gt;protostuff-runtime&lt;/artifactId&gt; &lt;version&gt;1.0.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Mapå·¥å…·ç±» --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt; &lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.8&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/com.github.penggle/kaptcha --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- wechatç›¸å…³ --&gt; &lt;!-- https://mvnrepository.com/artifact/net.sf.json-lib/json-lib --&gt; &lt;dependency&gt; &lt;groupId&gt;net.sf.json-lib&lt;/groupId&gt; &lt;artifactId&gt;json-lib&lt;/artifactId&gt; &lt;version&gt;2.4&lt;/version&gt; &lt;classifier&gt;jdk15&lt;/classifier&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream --&gt; &lt;dependency&gt; &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt; &lt;artifactId&gt;xstream&lt;/artifactId&gt; &lt;version&gt;1.4.9&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.dom4j/dom4j --&gt; &lt;dependency&gt; &lt;groupId&gt;org.dom4j&lt;/groupId&gt; &lt;artifactId&gt;dom4j&lt;/artifactId&gt; &lt;version&gt;2.0.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- äºŒç»´ç ç›¸å…³ --&gt; &lt;!-- https://mvnrepository.com/artifact/com.google.zxing/javase --&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.zxing&lt;/groupId&gt; &lt;artifactId&gt;javase&lt;/artifactId&gt; &lt;version&gt;3.3.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;myo2o&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.6.0&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;encoding&gt;UTF8&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/projec ###2.2 çŽ¯å¢ƒæ­å»ºSSM jdbc.properties1234jdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/o2odb?useUnicode=true&amp;characterEncoding=utf8jdbc.username=WnplV/ietfQ=jdbc.password=TdixoQRe6Y0= logback.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344 &lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;&lt;configuration debug="false"&gt; &lt;appender name="INFO-FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/info/info.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/info/info.%d&#123;yyyy-MM-dd&#125;.%i.log.zip&lt;/fileNamePattern&gt; &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt; &lt;maxFileSize&gt;1024MB&lt;/maxFileSize&gt; &lt;/timeBasedFileNamingAndTriggeringPolicy&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - %msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name="ACCESS-FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt; $&#123;catalina.base&#125;/webapps/myo2o/logs/access/access.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;FileNamePattern&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/access/access.%d&#123;yyyy-MM-dd&#125;.%i.log.zip&lt;/FileNamePattern&gt; &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt; &lt;maxFileSize&gt;1024MB&lt;/maxFileSize&gt; &lt;/timeBasedFileNamingAndTriggeringPolicy&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - %msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;logger name="com.imooc.myo2o" level="DEBUG" additivity="false"&gt; &lt;appender-ref ref="ACCESS-FILE" /&gt; &lt;/logger&gt; &lt;root level="INFO"&gt; &lt;appender-ref ref="INFO-FILE" /&gt; &lt;/root&gt;&lt;/configuration&gt; mybatis-config.xml12345678910111213141516171819&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;!-- é…ç½®å…¨å±€å±žæ€§ --&gt; &lt;settings&gt; &lt;!-- ä½¿ç”¨jdbcçš„getGeneratedKeysèŽ·å–æ•°æ®åº“è‡ªå¢žä¸»é”®å€¼ --&gt; &lt;setting name="useGeneratedKeys" value="true" /&gt; &lt;!-- ä½¿ç”¨åˆ—åˆ«åæ›¿æ¢åˆ—å é»˜è®¤:true --&gt; &lt;setting name="useColumnLabel" value="true" /&gt; &lt;!-- å¼€å¯é©¼å³°å‘½åè½¬æ¢:Table&#123;create_time&#125; -&gt; Entity&#123;createTime&#125; --&gt; &lt;setting name="mapUnderscoreToCamelCase" value="true" /&gt; &lt;!-- æ‰“å°æŸ¥è¯¢è¯­å¥ --&gt; &lt;setting name="logImpl" value="STDOUT_LOGGING" /&gt; &lt;/settings&gt;&lt;/configuration&gt; redis.properties1234567redis.hostname=127.0.0.1redis.port=6379redis.database=0redis.pool.maxActive=600redis.pool.maxIdle=300redis.pool.maxWait=3000redis.pool.testOnBorrow=true weixin.properties12weixinappid=PTv/7qETW0kO5N0WT223IlBEOUuK0+SOweixinappsecret=jOjEubTD3dTzTbNzX+vREKnTJvvKZRud6c3712kCaGgfJAfVsP+M2w== web.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1" metadata-complete="true"&gt; &lt;!-- å¦‚æžœæ˜¯ç”¨mvnå‘½ä»¤ç”Ÿæˆçš„xmlï¼Œéœ€è¦ä¿®æ”¹servletç‰ˆæœ¬ä¸º3.1 --&gt; &lt;servlet&gt; &lt;!-- ç”Ÿæˆå›¾ç‰‡çš„Servlet --&gt; &lt;servlet-name&gt;Kaptcha&lt;/servlet-name&gt; &lt;servlet-class&gt;com.google.code.kaptcha.servlet.KaptchaServlet&lt;/servlet-class&gt; &lt;!-- æ˜¯å¦æœ‰è¾¹æ¡† --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.border&lt;/param-name&gt; &lt;param-value&gt;no&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- å­—ä½“é¢œè‰² --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.color&lt;/param-name&gt; &lt;param-value&gt;red&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- å›¾ç‰‡å®½åº¦ --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.image.width&lt;/param-name&gt; &lt;param-value&gt;135&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- ä½¿ç”¨å“ªäº›å­—ç¬¦ç”ŸæˆéªŒè¯ç  --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.char.string&lt;/param-name&gt; &lt;param-value&gt;ACDEFHKPRSTWX345679&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- å›¾ç‰‡é«˜åº¦ --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.image.height&lt;/param-name&gt; &lt;param-value&gt;50&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- å­—ä½“å¤§å° --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.size&lt;/param-name&gt; &lt;param-value&gt;43&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- å¹²æ‰°çº¿çš„é¢œè‰² --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.noise.color&lt;/param-name&gt; &lt;param-value&gt;black&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- å­—ç¬¦ä¸ªæ•° --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.char.length&lt;/param-name&gt; &lt;param-value&gt;4&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- ä½¿ç”¨å“ªäº›å­—ä½“ --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.names&lt;/param-name&gt; &lt;param-value&gt;Arial&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;!-- æ˜ å°„çš„url --&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;Kaptcha&lt;/servlet-name&gt; &lt;url-pattern&gt;/Kaptcha&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;!-- é…ç½®DispatcherServlet --&gt; &lt;servlet&gt; &lt;servlet-name&gt;seckill-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- é…ç½®springMVCéœ€è¦åŠ è½½çš„é…ç½®æ–‡ä»¶ spring-dao.xml,spring-service.xml,spring-web.xml Mybatis - &gt; spring -&gt; springmvc --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/spring-*.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;seckill-dispatcher&lt;/servlet-name&gt; &lt;!-- é»˜è®¤åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; Springspring-dao.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!-- é…ç½®æ•´åˆmybatisè¿‡ç¨‹ --&gt; &lt;!-- 1.é…ç½®æ•°æ®åº“ç›¸å…³å‚æ•°propertiesçš„å±žæ€§ï¼š$&#123;url&#125; --&gt; &lt;bean class="com.imooc.myo2o.util.EncryptPropertyPlaceholderConfigurer"&gt; &lt;property name="locations"&gt; &lt;list&gt; &lt;value&gt;classpath:jdbc.properties&lt;/value&gt; &lt;value&gt;classpath:redis.properties&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="fileEncoding" value="UTF-8" /&gt; &lt;/bean&gt; &lt;!-- 2.æ•°æ®åº“è¿žæŽ¥æ±  --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;!-- é…ç½®è¿žæŽ¥æ± å±žæ€§ --&gt; &lt;property name="driverClass" value="$&#123;jdbc.driver&#125;" /&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;" /&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;" /&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;" /&gt; &lt;!-- c3p0è¿žæŽ¥æ± çš„ç§æœ‰å±žæ€§ --&gt; &lt;property name="maxPoolSize" value="30" /&gt; &lt;property name="minPoolSize" value="10" /&gt; &lt;!-- å…³é—­è¿žæŽ¥åŽä¸è‡ªåŠ¨commit --&gt; &lt;property name="autoCommitOnClose" value="false" /&gt; &lt;!-- èŽ·å–è¿žæŽ¥è¶…æ—¶æ—¶é—´ --&gt; &lt;property name="checkoutTimeout" value="10000" /&gt; &lt;!-- å½“èŽ·å–è¿žæŽ¥å¤±è´¥é‡è¯•æ¬¡æ•° --&gt; &lt;property name="acquireRetryAttempts" value="2" /&gt; &lt;/bean&gt; &lt;!-- 3.é…ç½®SqlSessionFactoryå¯¹è±¡ --&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿žæŽ¥æ±  --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;!-- é…ç½®MyBatieså…¨å±€é…ç½®æ–‡ä»¶:mybatis-config.xml --&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml" /&gt; &lt;!-- æ‰«æentityåŒ… ä½¿ç”¨åˆ«å --&gt; &lt;property name="typeAliasesPackage" value="com.imooc.myo2o.entity" /&gt; &lt;!-- æ‰«æsqlé…ç½®æ–‡ä»¶:mapperéœ€è¦çš„xmlæ–‡ä»¶ --&gt; &lt;property name="mapperLocations" value="classpath:mapper/*.xml" /&gt; &lt;/bean&gt; &lt;!-- 4.é…ç½®æ‰«æDaoæŽ¥å£åŒ…ï¼ŒåŠ¨æ€å®žçŽ°DaoæŽ¥å£ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ --&gt; &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;!-- æ³¨å…¥sqlSessionFactory --&gt; &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory" /&gt; &lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæŽ¥å£åŒ… --&gt; &lt;property name="basePackage" value="com.imooc.myo2o.dao" /&gt; &lt;/bean&gt;&lt;/beans&gt; spring-redis.xml12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd"&gt; &lt;bean id="jedisPoolConfig" class="redis.clients.jedis.JedisPoolConfig"&gt; &lt;property name="maxTotal" value="$&#123;redis.pool.maxActive&#125;" /&gt; &lt;property name="maxIdle" value="$&#123;redis.pool.maxIdle&#125;" /&gt; &lt;property name="maxWaitMillis" value="$&#123;redis.pool.maxWait&#125;" /&gt; &lt;property name="testOnBorrow" value="$&#123;redis.pool.testOnBorrow&#125;" /&gt; &lt;/bean&gt; &lt;bean id="jedisWritePool" class="com.imooc.myo2o.cache.JedisPoolWriper" depends-on="jedisPoolConfig"&gt; &lt;constructor-arg index="0" ref="jedisPoolConfig" /&gt; &lt;constructor-arg index="1" value="$&#123;redis.hostname&#125;" /&gt; &lt;constructor-arg index="2" value="$&#123;redis.port&#125;" type="int" /&gt; &lt;/bean&gt; &lt;bean id="jedisKeys" class="com.imooc.myo2o.cache.JedisUtil$Keys" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisStrings" class="com.imooc.myo2o.cache.JedisUtil$Strings" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisLists" class="com.imooc.myo2o.cache.JedisUtil$Lists" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisSets" class="com.imooc.myo2o.cache.JedisUtil$Sets" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisHash" class="com.imooc.myo2o.cache.JedisUtil$Hash" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisUtil" class="com.imooc.myo2o.cache.JedisUtil" scope="singleton"&gt; &lt;property name="jedisPool"&gt; &lt;ref bean="jedisWritePool" /&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; spring-service.xml123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;!-- æ‰«æserviceåŒ…ä¸‹æ‰€æœ‰ä½¿ç”¨æ³¨è§£çš„ç±»åž‹ --&gt; &lt;context:component-scan base-package="com.imooc.myo2o.service" /&gt; &lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿žæŽ¥æ±  --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;/bean&gt; &lt;!-- é…ç½®åŸºäºŽæ³¨è§£çš„å£°æ˜Žå¼äº‹åŠ¡ --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" /&gt;&lt;/beans&gt; spring -web.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd"&gt; &lt;!-- é…ç½®SpringMVC --&gt; &lt;!-- 1.å¼€å¯SpringMVCæ³¨è§£æ¨¡å¼ --&gt; &lt;!-- ç®€åŒ–é…ç½®ï¼š (1)è‡ªåŠ¨æ³¨å†ŒDefaultAnootationHandlerMapping,AnotationMethodHandlerAdapter (2)æä¾›ä¸€äº›åˆ—ï¼šæ•°æ®ç»‘å®šï¼Œæ•°å­—å’Œæ—¥æœŸçš„format @NumberFormat, @DateTimeFormat, xml,jsoné»˜è®¤è¯»å†™æ”¯æŒ --&gt; &lt;mvc:annotation-driven /&gt; &lt;!-- 2.é™æ€èµ„æºé»˜è®¤servleté…ç½® (1)åŠ å…¥å¯¹é™æ€èµ„æºçš„å¤„ç†ï¼šjs,gif,png (2)å…è®¸ä½¿ç”¨"/"åšæ•´ä½“æ˜ å°„ --&gt; &lt;mvc:resources mapping="/resources/**" location="/resources/" /&gt; &lt;mvc:default-servlet-handler /&gt; &lt;!-- 3.å®šä¹‰è§†å›¾è§£æžå™¨ --&gt; &lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="prefix" value="/WEB-INF/html/"&gt;&lt;/property&gt; &lt;property name="suffix" value=".html"&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- æ–‡ä»¶ä¸Šä¼ è§£æžå™¨ --&gt; &lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="defaultEncoding" value="utf-8"&gt;&lt;/property&gt; &lt;property name="maxUploadSize" value="10485760000"&gt;&lt;/property&gt;&lt;!-- æœ€å¤§ä¸Šä¼ æ–‡ä»¶å¤§å° --&gt; &lt;property name="maxInMemorySize" value="10960"&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- åœ¨spring-mvc.xmlæ–‡ä»¶ä¸­åŠ å…¥è¿™æ®µé…ç½®åŽï¼Œspringè¿”å›žç»™é¡µé¢çš„éƒ½æ˜¯utf-8ç¼–ç äº† --&gt; &lt;bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter"&gt; &lt;property name="messageConverters"&gt; &lt;list&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- 4.æ‰«æwebç›¸å…³çš„bean --&gt; &lt;context:component-scan base-package="com.imooc.myo2o.web" /&gt; &lt;!-- 5.æƒé™æ‹¦æˆªå™¨ --&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/shop/**" /&gt; &lt;mvc:exclude-mapping path="/shop/ownerlogin" /&gt; &lt;mvc:exclude-mapping path="/shop/ownerlogincheck" /&gt; &lt;mvc:exclude-mapping path="/shop/logout" /&gt; &lt;mvc:exclude-mapping path="/shop/register" /&gt; &lt;bean id="ShopInterceptor" class="com.imooc.myo2o.interceptor.shop.ShopLoginInterceptor" /&gt; &lt;/mvc:interceptor&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/shop/**" /&gt; &lt;mvc:exclude-mapping path="/shop/ownerlogin" /&gt; &lt;mvc:exclude-mapping path="/shop/ownerlogincheck" /&gt; &lt;mvc:exclude-mapping path="/shop/register" /&gt; &lt;!-- shoplist page --&gt; &lt;mvc:exclude-mapping path="/shop/shoplist" /&gt; &lt;mvc:exclude-mapping path="/shop/logout" /&gt; &lt;mvc:exclude-mapping path="/shop/list" /&gt; &lt;!-- changepsw page --&gt; &lt;mvc:exclude-mapping path="/shop/changepsw" /&gt; &lt;mvc:exclude-mapping path="/shop/changelocalpwd" /&gt; &lt;!-- ownerbind page --&gt; &lt;mvc:exclude-mapping path="/shop/ownerbind" /&gt; &lt;mvc:exclude-mapping path="/shop/bindlocalauth" /&gt; &lt;!-- shopmanage page --&gt; &lt;mvc:exclude-mapping path="/shop/shopmanage" /&gt; &lt;!-- shopedit page --&gt; &lt;mvc:exclude-mapping path="/shop/shopedit" /&gt; &lt;mvc:exclude-mapping path="/shop/getshopbyid" /&gt; &lt;mvc:exclude-mapping path="/shop/getshopinitinfo" /&gt; &lt;mvc:exclude-mapping path="/shop/registershop" /&gt; &lt;bean id="ShopPermissionInterceptor" class="com.imooc.myo2o.interceptor.shop.ShopPermissionInterceptor" /&gt; &lt;/mvc:interceptor&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/superadmin/**" /&gt; &lt;mvc:exclude-mapping path="/superadmin/login" /&gt; &lt;mvc:exclude-mapping path="/superadmin/logincheck" /&gt; &lt;mvc:exclude-mapping path="/superadmin/main" /&gt; &lt;mvc:exclude-mapping path="/superadmin/top" /&gt; &lt;bean id="SuperAdminInterceptor" class="com.imooc.myo2o.interceptor.superadmin.SuperAdminLoginInterceptor" /&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt;&lt;/beans&gt; 3 SpringBootæ•´åˆSSMé¡¹ç›®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455# mybatis#1 domain POJO entity å±‚ å°±æ˜¯å®žä½“ç±»mybatis.type-aliases-package=com.imooc.o2o.o2o.domainmybatis.configuration.map-underscore-to-camel-case=truemybatis.configuration.default-fetch-size=100mybatis.configuration.default-statement-timeout=3000mybatis.mapperLocations=classpath:mapperxml/*.xml# druidspring.datasource.url=jdbc:mysql://localhost:3306/o2o?useUnicode=true&amp;characterEncoding=utf-8&amp;allowMultiQueries=true&amp;useSSL=false&amp;serverTimezone=Asia/Shanghaispring.datasource.username=rootspring.datasource.password=YHP836143#spring.datasource.driver-class-name=com.mysql.jdbc.Driverspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driverspring.datasource.type=com.alibaba.druid.pool.DruidDataSourcespring.datasource.filters=statspring.datasource.maxActive=2spring.datasource.initialSize=1spring.datasource.maxWait=60000spring.datasource.minIdle=1spring.datasource.timeBetweenEvictionRunsMillis=60000spring.datasource.minEvictableIdleTimeMillis=300000spring.datasource.validationQuery=select &apos;x&apos;spring.datasource.testWhileIdle=truespring.datasource.testOnBorrow=falsespring.datasource.testOnReturn=falsespring.datasource.poolPreparedStatements=truespring.datasource.maxOpenPreparedStatements=20#thymeleaf startspring.thymeleaf.cache=falsespring.thymeleaf.servlet.content-type=text/html#spring.thymeleaf.servlet.content-type=text/htmlspring.thymeleaf.enabled=truespring.thymeleaf.encoding=UTF-8spring.thymeleaf.mode=HTML5spring.thymeleaf.prefix=classpath:/templates/spring.thymeleaf.suffix=.html#Redisçš„ç›¸å…³é…ç½®#spring.redis.database=1#spring.redis.host=127.0.0.1#spring.redis.port=6379#spring.redis.password=#spring.redis.lettuce.pool.max-active=8#spring.redis.lettuce.pool.max-wait=-1#spring.redis.lettuce.pool.max-idle=8#spring.redis.lettuce.pool.min-idle=0#dubboçš„é…ç½®#dubbo.application.name=taotaomall#dubbo.registry.address=94.191.24.33:2181#dubbo.registry.protocol=zookeeper#dubbo.protocol.name=dubbo#dubbo.monitor.protocol=registry#dubbo.protocol.port=2181 4 é¡¹ç›®1.0å¼€å‘ åº—é“ºæ³¨å†ŒåŠŸèƒ½æ¨¡å— 4.1æ–°å¢žåŠ åº—é“ºè·Ÿæ–°åº—é“ºå¼€å‘ daoå±‚ 12 //1 å¼€å‘åŠŸèƒ½1 æ–°å¢žåº—é“ºint insert(TbShop record); xml 123456789101112131415161718&lt;insert id=&quot;insert&quot; keyColumn=&quot;shop_id&quot; keyProperty=&quot;shopId&quot; parameterType=&quot;com.imooc.o2o.o2o.domain.TbShop&quot; useGeneratedKeys=&quot;true&quot;&gt; &lt;!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. --&gt; insert into tb_shop (owner_id, area_id, shop_category_id, parent_category_id, shop_name, shop_desc, shop_addr, phone, shop_img, longitude, latitude, priority, create_time, last_edit_time, enable_status, advice) values (#&#123;ownerId,jdbcType=INTEGER&#125;, #&#123;areaId,jdbcType=INTEGER&#125;, #&#123;shopCategoryId,jdbcType=INTEGER&#125;, #&#123;parentCategoryId,jdbcType=INTEGER&#125;, #&#123;shopName,jdbcType=VARCHAR&#125;, #&#123;shopDesc,jdbcType=VARCHAR&#125;, #&#123;shopAddr,jdbcType=VARCHAR&#125;, #&#123;phone,jdbcType=VARCHAR&#125;, #&#123;shopImg,jdbcType=VARCHAR&#125;, #&#123;longitude,jdbcType=DOUBLE&#125;, #&#123;latitude,jdbcType=DOUBLE&#125;, #&#123;priority,jdbcType=INTEGER&#125;, #&#123;createTime,jdbcType=TIMESTAMP&#125;, #&#123;lastEditTime,jdbcType=TIMESTAMP&#125;, #&#123;enableStatus,jdbcType=INTEGER&#125;, #&#123;advice,jdbcType=VARCHAR&#125;) &lt;/insert&gt; 1int updateByPrimaryKeySelective(TbShop record); 1234567891011/** * update tb_shop * &lt;set&gt; * &lt;if test="ownerId != null"&gt; * owner_id = #&#123;ownerId,jdbcType=INTEGER&#125;, * area_id = #&#123;areaId,jdbcType=INTEGER&#125;, * &lt;/if&gt; * &lt;if test="shopCategoryId != null"&gt; * &lt;/set&gt; * where shop_id = #&#123;shopId,jdbcType=INTEGER&#125; */ 4.2 Thumbnailatorå›¾ç‰‡å¤„ç†å’Œå°è£…Util 1234567&lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt;---&lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.8&lt;/version&gt;&lt;/dependency&gt; https://github.com/coobird/thumbnailator/wiki/Examples 123Thumbnails.of(new File("original.jpg")) .size(160, 160) .toFile(new File("thumbnail.jpg")); 123456Thumbnails.of(new File(&quot;original.jpg&quot;)) .size(160, 160) .rotate(90) .watermark(Positions.BOTTOM_RIGHT, ImageIO.read(new File(&quot;watermark.png&quot;)), 0.5f) .outputQuality(0.8) .toFile(new File(&quot;image-with-watermark.jpg&quot;)); 5 thumbnailså›¾åƒå¤„ç†åº“çš„ä½¿ç”¨ imageUtils 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182package com.imooc.o2o.o2o.util;import java.io.File;import java.io.IOException;import java.util.ArrayList;import java.util.List;import net.coobird.thumbnailator.Thumbnails;import org.springframework.web.multipart.commons.CommonsMultipartFile;//https://www.jianshu.com/p/04d04afc34fdç®€ä¹¦public class ImageUtil &#123; public static String generateThumbnail(CommonsMultipartFile thumbnail, String targetAddr) &#123; String realFileName = FileUtil.getRandomFileName(); String extension = getFileExtension(thumbnail); makeDirPath(targetAddr); String relativeAddr = targetAddr + realFileName + extension; File dest = new File(FileUtil.getImgBasePath() + relativeAddr); try &#123; Thumbnails.of(thumbnail.getInputStream()).size(200, 200).outputQuality(0.25f).toFile(dest); &#125; catch (IOException e) &#123; throw new RuntimeException("åˆ›å»ºç¼©ç•¥å›¾å¤±è´¥ï¼š" + e.toString()); &#125; return relativeAddr; &#125; public static String generateNormalImg(CommonsMultipartFile thumbnail, String targetAddr) &#123; String realFileName = FileUtil.getRandomFileName(); String extension = getFileExtension(thumbnail); makeDirPath(targetAddr); String relativeAddr = targetAddr + realFileName + extension; File dest = new File(FileUtil.getImgBasePath() + relativeAddr); try &#123; Thumbnails.of(thumbnail.getInputStream()).size(337, 640).outputQuality(0.5f).toFile(dest); &#125; catch (IOException e) &#123; throw new RuntimeException("åˆ›å»ºç¼©ç•¥å›¾å¤±è´¥ï¼š" + e.toString()); &#125; return relativeAddr; &#125; public static List&lt;String&gt; generateNormalImgs(List&lt;CommonsMultipartFile&gt; imgs, String targetAddr) &#123; int count = 0; List&lt;String&gt; relativeAddrList = new ArrayList&lt;String&gt;(); if (imgs != null &amp;&amp; imgs.size() &gt; 0) &#123; makeDirPath(targetAddr); for (CommonsMultipartFile img : imgs) &#123; String realFileName = FileUtil.getRandomFileName(); String extension = getFileExtension(img); String relativeAddr = targetAddr + realFileName + count + extension; File dest = new File(FileUtil.getImgBasePath() + relativeAddr); count++; try &#123; Thumbnails.of(img.getInputStream()).size(600, 300).outputQuality(0.5f).toFile(dest); &#125; catch (IOException e) &#123; throw new RuntimeException("åˆ›å»ºå›¾ç‰‡å¤±è´¥ï¼š" + e.toString()); &#125; relativeAddrList.add(relativeAddr); &#125; &#125; return relativeAddrList; &#125; //* ç›®æ ‡è·¯å¾„æ–‡ä»¶å¤¹ä¸å­˜åœ¨å°±åˆ›å»º private static void makeDirPath(String targetAddr) &#123; String realFileParentPath = FileUtil.getImgBasePath() + targetAddr; File dirPath = new File(realFileParentPath); if (!dirPath.exists()) &#123; dirPath.mkdirs(); &#125; &#125; //* èŽ·å–è¾“å…¥æ–‡ä»¶æµçš„æ‰©å±•å private static String getFileExtension(CommonsMultipartFile cFile) &#123; String originalFileName = cFile.getOriginalFilename(); return originalFileName.substring(originalFileName.lastIndexOf(".")); &#125;//&#125;&#125; FileUtil 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576package com.imooc.o2o.o2o.util;import java.io.File;import java.text.SimpleDateFormat;import java.util.Date;import java.util.Random;public class FileUtil &#123; private static String seperator = System.getProperty("file.separator"); private static final SimpleDateFormat sDateFormat = new SimpleDateFormat( "yyyyMMddHHmmss"); // æ—¶é—´æ ¼å¼åŒ–çš„æ ¼å¼ private static final Random r = new Random(); public static String getImgBasePath() &#123; String os = System.getProperty("os.name"); String basePath = ""; if (os.toLowerCase().startsWith("win")) &#123; basePath = "D:/projectdev/image/"; &#125; else &#123; basePath = "/home/xiangzepro/"; &#125; basePath = basePath.replace("/", seperator); return basePath; &#125; public static String getHeadLineImagePath() &#123; String headLineImagePath = "/upload/images/item/headtitle/"; headLineImagePath = headLineImagePath.replace("/", seperator); return headLineImagePath; &#125; public static String getShopCategoryImagePath() &#123; String shopCategoryImagePath = "/upload/images/item/shopcategory/"; shopCategoryImagePath = shopCategoryImagePath.replace("/", seperator); return shopCategoryImagePath; &#125; // public static String getPersonInfoImagePath() &#123; String personInfoImagePath = "/upload/images/item/personinfo/"; personInfoImagePath = personInfoImagePath.replace("/", seperator); return personInfoImagePath; &#125; public static String getShopImagePath(long shopId) &#123; StringBuilder shopImagePathBuilder = new StringBuilder(); shopImagePathBuilder.append("/upload/images/item/shop/"); shopImagePathBuilder.append(shopId); shopImagePathBuilder.append("/"); String shopImagePath = shopImagePathBuilder.toString().replace("/", seperator); return shopImagePath; &#125; // public static String getRandomFileName() &#123; // ç”Ÿæˆéšæœºæ–‡ä»¶åï¼šå½“å‰å¹´æœˆæ—¥æ—¶åˆ†ç§’+äº”ä½éšæœºæ•°ï¼ˆä¸ºäº†åœ¨å®žé™…é¡¹ç›®ä¸­é˜²æ­¢æ–‡ä»¶åŒåè€Œè¿›è¡Œçš„å¤„ç†ï¼‰ int rannum = (int) (r.nextDouble() * (99999 - 10000 + 1)) + 10000; // èŽ·å–éšæœºæ•° String nowTimeStr = sDateFormat.format(new Date()); // å½“å‰æ—¶é—´ return nowTimeStr + rannum; &#125; // public static void deleteFile(String storePath) &#123; File file = new File(getImgBasePath() + storePath); if (file.exists()) &#123; if (file.isDirectory()) &#123; File files[] = file.listFiles(); for (int i = 0; i &lt; files.length; i++) &#123; files[i].delete(); &#125; &#125; file.delete(); &#125; &#125;&#125; https://www.jianshu.com/p/04d04afc34fd. 6 Dtoçš„å¼€å‘123456789101112131415161718192021222324252627282930313233343536public class ShopExcution &#123; //ç»“æžœçŠ¶æ€ private int state; //çŠ¶æ€æ ‡è¯† private String stateInfo; //åº—é“ºçš„æ•°é‡ private int count; //æ“ä½œçš„shop(å¢žåˆ æ”¹æŸ¥åº—é“ºçš„æ—¶å€™ç”¨åˆ°) private TbShop tbShop; //shopåˆ—è¡¨ï¼ˆæŸ¥è¯¢åº—é“ºåˆ—è¡¨çš„æ—¶å€™ä½¿ç”¨ï¼‰ private List&lt;TbShop&gt; shopList; public ShopExcution() &#123; &#125; //æž„é€ æ–¹æ³• ä¼ å…¥ä¸¤ä¸ªå‚æ•° //åº—é“ºæ“ä½œå¤±è´¥çš„æ—¶å€™ ç”¨çš„æž„é€ æ–¹æ³• public ShopExcution(ShopStateEnum stateEnum) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); &#125; //åº—é“ºæˆåŠŸçš„æ—¶å€™æ‰€ç”¨çš„æž„é€ æ–¹æ³• æˆåŠŸæ‰èƒ½è¿”å›žåº—é“ºä¿¡æ¯ public ShopExcution(ShopStateEnum stateEnum, TbShop tbShop) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); this.tbShop = tbShop; &#125; //åº—é“ºæˆåŠŸçš„æ—¶å€™æ‰€ç”¨çš„æž„é€ æ–¹æ³• æˆåŠŸæ‰èƒ½è¿”å›žåº—é“ºä¿¡æ¯tbListShop public ShopExcution(ShopStateEnum stateEnum, List&lt;TbShop&gt; tbShopList) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); this.shopList = tbShopList; &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738public enum ShopStateEnum &#123; //æžšä¸¾é‡Œé¢çš„å‚æ•° å°±æ˜¯å®šä¹‰çš„æˆå‘˜å˜é‡çš„å€¼ CHECK(0, "å®¡æ ¸ä¸­"), OFFLINE(-1, "éžæ³•å•†é“º"), SUCCESS(1, "æ“ä½œæˆåŠŸ"), PASS(2, "é€šè¿‡è®¤è¯"), INNER_ERROR(-1001, "æ“ä½œå¤±è´¥"), NULL_SHOPID(-1002, "ShopIdä¸ºç©º"), NULL_SHOP_INFO(-1003, "ä¼ å…¥äº†ç©ºçš„ä¿¡æ¯"); private int state; private String stateInfo; private ShopStateEnum(int state, String stateInfo) &#123; this.state = state; this.stateInfo = stateInfo; &#125; public int getState() &#123; return state; &#125; public String getStateInfo() &#123; return stateInfo; &#125; //ä¾æ®ä¼ å…¥çš„stateè¿”å›žç›¸åº”çš„enumå€¼ public static ShopStateEnum stateOf(int index) &#123; //è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›žåŒ…æ‹¬æ‰€æœ‰æžšä¸¾å˜é‡çš„æ•°ç»„ã€‚åœ¨è¯¥ä¾‹ä¸­ï¼Œè¿”å›žçš„å°±æ˜¯åŒ…å«äº†ä¸ƒä¸ªæ˜ŸæœŸçš„Weekday[]ã€‚å¯ä»¥æ–¹ä¾¿çš„ç”¨æ¥åšå¾ªçŽ¯ã€‚ //index =state stateçš„å€¼å·²ç»å®šä¹‰å¥½äº† for (ShopStateEnum stateEnum : ShopStateEnum.values()) &#123; if (stateEnum.getState() == index) return stateEnum; &#125; return null; &#125; 7 Serviceå±‚çš„å¼€å‘â€”æ·»åŠ åº—é“º å’Œåº—é“ºå›¾ç‰‡12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576public class ShopServiceImpl implements ShopService &#123; private TbShopMapper tbShopMapper; @Override @Transactional public ShopExcution addShop(TbShop tbShop, CommonsMultipartFile ShopImg) &#123; //ç©ºå€¼åˆ¤æ–­ if (tbShop == null) &#123; //è°ƒç”¨äº†ShopStateExcutionå¤±è´¥çš„æ–¹æ³• è¿”å›žæžšä¸¾é‡Œé¢çš„æ•°æ® //ShopStateEnum.NULL_SHOP_INFO=(-1003, "ä¼ å…¥äº†ç©ºçš„ä¿¡æ¯") return new ShopExcution(ShopStateEnum.NULL_SHOP_INFO); &#125; //ç»™åº—é“ºä¿¡æ¯èµ‹åˆå§‹å€¼ tbShop.setEnableStatus(0); tbShop.setCreateTime(new Date()); tbShop.setLastEditTime(new Date()); /* tbShopMapper :int insert(TbShop record);å±žæ€§ insert into tb_shop (owner_id, area_id, shop_category_id,...)values=#&#123;...&#125; */ //æ·»åŠ åº—é“ºä¿¡æ¯ int effectedNum = tbShopMapper.insert(tbShop); if (effectedNum &lt;= 0) &#123; throw new RuntimeException("åº—é“ºåˆ›å»ºå¤±è´¥"); &#125; //åº—é“ºæ·»åŠ æˆåŠŸ else &#123; //å­˜å‚¨å›¾ç‰‡ if (ShopImg != null) &#123; addShopImg(tbShop, ShopImg);//æ ¹æ®tbShopé‡Œé¢çš„idå­˜å‚¨å›¾ç‰‡ æ›´æ–°å›¾ç‰‡ //æ›´æ–°åº—é“ºçš„å›¾ç‰‡åœ°å€ åªæ›´æ–°ä¸€ä¸ªå­—æ®µå—ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ effectedNum = tbShopMapper.updateByPrimaryKeySelective(tbShop); if (effectedNum &lt;= 0) &#123; throw new RuntimeException("åº—é“ºæ›´æ–°å›¾ç‰‡åœ°å€å¤±è´¥"); &#125; &#125; &#125; return new ShopExcution(ShopStateEnum.CHECK, tbShop); &#125; //æ·»åŠ åº—é“ºå›¾ç‰‡ â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ private void addShopImg(TbShop tbShop, CommonsMultipartFile shopImg) &#123; //1 èŽ·å–Shopå›¾ç‰‡ç›®å½•çš„ç›¸å¯¹å€¼è·¯å¾„ /** * public static String getShopImagePath(long shopId) &#123; * StringBuilder shopImagePathBuilder = new StringBuilder(); * shopImagePathBuilder.append("/upload/images/item/shop/"); * shopImagePathBuilder.append(shopId); * shopImagePathBuilder.append("/"); * String shopImagePath = shopImagePathBuilder.toString().replace("/", * seperator); * return shopImagePath; * &#125; */ String shopImagePath = FileUtil.getShopImagePath(tbShop.getShopId()); //2 å­˜å‚¨å›¾ç‰‡è¿”å›žç›¸å¯¹å­è·¯å¾„ imageUtil /** * public static String generateThumbnail(CommonsMultipartFile thumbnail, String targetAddr) &#123; * String realFileName = FileUtil.getRandomFileName(); * String extension = getFileExtension(thumbnail); * makeDirPath(targetAddr); * String relativeAddr = targetAddr + realFileName + extension; * File dest = new File(FileUtil.getImgBasePath() + relativeAddr); * try &#123; * Thumbnails.of(thumbnail.getInputStream()).size(200, 200).outputQuality(0.25f).toFile(dest); * &#125; catch (IOException e) &#123; * throw new RuntimeException("åˆ›å»ºç¼©ç•¥å›¾å¤±è´¥ï¼š" + e.toString()); * &#125; * return relativeAddr; * &#125;* å¯¹å›¾ç‰‡è¿›è¡ŒåŽ‹ç¼©å¹¶åŠ æ°´å° * //https://www.jianshu.com/p/04d04afc34fdç®€ä¹¦ */ String shopImgAddr = ImageUtil.generateThumbnail(shopImg, shopImagePath); tbShop.setShopImg(shopImgAddr); &#125;&#125; 12345public class ShopOperationException extends RuntimeException &#123; public ShopOperationException(String msg) &#123; super(msg); &#125;&#125; 8 åº—é“ºæ³¨å†ŒåŠŸèƒ½Controllerå±‚çš„å®žçŽ° â­ï¸ â­ï¸ â­ï¸12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758//å®žçŽ°åº—é“ºç®¡ç†ç›¸å…³çš„é€»è¾‘åº—é“ºæ³¨å†ŒåŠŸèƒ½Controllerå±‚çš„å®žçŽ°//å…ˆä»Žå‰ç«¯æ‹¿åˆ°å­—æ®µ ç„¶åŽæ³¨å†Œåˆ°æ•°æ®åº“é‡Œé¢@Controller@RequestMapping("/shopadmin")public class ShopManagementController &#123; @Autowired private ShopServiceImpl shopService; @RequestMapping("/registershop") @ResponseBody public Map&lt;String, Object&gt; registerShop(HttpServletRequest request) throws IOException &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;&gt;(); //1 æŽ¥å—å¹¶è½¬åŒ–ç›¸åº”çš„å‚æ•° åŒ…æ‹¬åº—é“ºä¿¡æ¯ä»¥åŠå›¾ç‰‡ä¿¡æ¯ è§£æžrequestçš„å‚æ•° //å°±æ˜¯ request.getParameter(name); String shopStr = HttpServletRequestUtil.getString(request, "shopStr"); ObjectMapper mapper = new ObjectMapper(); TbShop tbShop = null; try &#123; //å°†å­—ç¬¦ä¸²è½¬ä¸ºå®žä½“ç±» tbShop = mapper.readValue(shopStr, TbShop.class); &#125; catch (Exception e) &#123; modelMap.put("scuuess", false); modelMap.put("errMsg", e.getMessage()); return modelMap; &#125; //2 æŽ¥å—å›¾ç‰‡ CommonsMultipartFile shopImg = null; CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver( request.getSession().getServletContext()); if (commonsMultipartResolver.isMultipart(request)) &#123; MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) request; shopImg = (CommonsMultipartFile) multipartHttpServletRequest.getFile("shopImg"); &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", "å›¾ç‰‡ä¸Šä¼ ä¸èƒ½ä¸ºç©º"); return modelMap; &#125; //2 æ³¨å†Œåº—é“º if (tbShop != null &amp;&amp; shopImg != null) &#123; TbPersonInfo tbPersonInfo = new TbPersonInfo(); tbPersonInfo.setUserId(1); tbShop.setOwner(tbPersonInfo); //æ·»åŠ shopService ShopExcution shopExcution = shopService.addShop(tbShop, shopImg); if (shopExcution.getState() == ShopStateEnum.CHECK.getState()) &#123; modelMap.put("success", true); return modelMap; &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", shopExcution.getState()); return modelMap; &#125; &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", "å›¾ç‰‡ä¸Šä¼ ä¸èƒ½ä¸ºç©º"); return modelMap; &#125; &#125; 1 HttpServletRequestUtils12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import javax.servlet.http.HttpServletRequest;public class HttpServletRequestUtil &#123; public static int getInt(HttpServletRequest request, String name) &#123; try &#123; return Integer.decode(request.getParameter(name)); &#125; catch (Exception e) &#123; return -1; &#125; &#125; public static long getLong(HttpServletRequest request, String name) &#123; try &#123; return Long.valueOf(request.getParameter(name)); &#125; catch (Exception e) &#123; return -1; &#125; &#125; public static Double getDouble(HttpServletRequest request, String name) &#123; try &#123; return Double.valueOf(request.getParameter(name)); &#125; catch (Exception e) &#123; return -1d; &#125; &#125; public static Boolean getBoolean(HttpServletRequest request, String name) &#123; try &#123; return Boolean.valueOf(request.getParameter(name)); &#125; catch (Exception e) &#123; return false; &#125; &#125; public static String getString(HttpServletRequest request, String name) &#123; try &#123; String result = request.getParameter(name); if (result != null) &#123; result = result.trim(); &#125; if ("".equals(result)) result = null; return result; &#125; catch (Exception e) &#123; return null; &#125; &#125;&#125; Jacksonä¹‹jackson-databind https://blog.csdn.net/u011499747/article/details/78762007 CSDN åšå®¢ https://github.com/FasterXML/jackson-databind Githubå®˜ç½‘API 123456789101112131415161718&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt; POJOå’ŒJSONä¹‹é—´çš„è½¬åŒ– ç»™å‡ºä¸€ä¸ªè¶³å¤Ÿç®€å•çš„POJO: 1234public class MyValue &#123; public String name; public int age;&#125; æ³¨æ„:å¦‚æžœä½¿ç”¨getters/settersçš„è¯ï¼Œå¯ä»¥ç”¨private/protectedä¿®é¥°å±žæ€§ï¼Œè¿™é‡Œç›´æŽ¥ç”¨publicä¿®é¥°äº†ï¼Œå°±ä¸éœ€è¦getters/settersäº†ã€‚ ä½¿ç”¨databindï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœ€åŸºç¡€çš„å¯¹è±¡com.fasterxml.jackson.databind.ObjectMapperï¼Œè¿™é‡Œæˆ‘ä»¬æž„é€ ä¸€ä¸ª: 1ObjectMapper mapper = new ObjectMapper(); æ³¨æ„:è¿™ä¸ªmapperæ˜¯å¯ä»¥å¤ç”¨çš„ï¼Œå°±å¥½æ¯”HttpClientä¸€æ ·ã€‚ ç®€å•çš„æŠŠJSONååºåˆ—åŒ–æˆObjectçš„ç”¨æ³•å¦‚ä¸‹ 123456789MyValue value = mapper.readValue(new File("data.json"), MyValue.class);// or:value = mapper.readValue(new URL("http://www.dubby.cn/api/entry.json"), MyValue.class);// or:value = mapper.readValue("&#123;\"name\":\"Bob\", \"age\":13&#125;", MyValue.class);------------------- //å°†å­—ç¬¦ä¸²è½¬ä¸ºå®žä½“ç±»tbShop = mapper.readValue(shopStr, TbShop.class); ç®€å•çš„æŠŠObjectåºåˆ—åŒ–æˆJSONçš„ç”¨æ³•å¦‚ä¸‹: 12345mapper.writeValue(new File("result.json"), myResultObject);// or:byte[] jsonBytes = mapper.writeValueAsBytes(myResultObject);// or:String jsonString = mapper.writeValueAsString(myResultObject); å¯ä»¥ä»ŽJackson-docså­˜å‚¨åº“ä¸­æ‰¾åˆ°æ›´å…¨é¢çš„æ–‡æ¡£; ä»¥åŠæ¥è‡ªè¯¥é¡¹ç›®çš„Wikiã€‚ä½†è¿™é‡Œæœ‰ç®€è¦çš„ä»‹ç»æ€§æ•™ç¨‹ï¼Œå»ºè®®é˜…è¯»é¡ºåºã€‚ 1åˆ†é’Ÿæ•™ç¨‹ï¼šPOJOåˆ°JSONå¹¶è¿”å›žæœ€å¸¸è§çš„ç”¨æ³•æ˜¯ä½¿ç”¨JSONï¼Œå¹¶ä»Žä¸­æž„é€ ä¸€ä¸ªPlain Old Java Objectï¼ˆâ€œPOJOâ€ï¼‰ã€‚é‚£ä¹ˆè®©æˆ‘ä»¬ä»Žé‚£é‡Œå¼€å§‹ã€‚ç®€å•çš„2å±žæ€§POJOåƒè¿™æ ·ï¼š 123456//æ³¨æ„ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨getter / setter; è¿™é‡Œæˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨å…¬å…±å­—æ®µï¼špublic class MyValue &#123; public String name; å…¬å…± INTå¹´é¾„; //æ³¨æ„ï¼šå¦‚æžœä½¿ç”¨getter / setterï¼Œå¯ä»¥ä¿ç•™å­—æ®µ`protected`æˆ–`private` &#125; æˆ‘ä»¬éœ€è¦ä¸€ä¸ªcom.fasterxml.jackson.databind.ObjectMapperç”¨äºŽæ‰€æœ‰æ•°æ®ç»‘å®šçš„å®žä¾‹ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æž„é€ ä¸€ä¸ªï¼š 1ObjectMapper mapper = new ObjectMapperï¼ˆï¼‰; //åˆ›å»ºä¸€æ¬¡ï¼Œé‡ç”¨ é»˜è®¤å®žä¾‹é€‚åˆæˆ‘ä»¬ä½¿ç”¨ - ç¨åŽæˆ‘ä»¬å°†äº†è§£å¦‚ä½•åœ¨å¿…è¦æ—¶é…ç½®æ˜ å°„å™¨å®žä¾‹ã€‚ç”¨æ³•å¾ˆç®€å•ï¼š 12345MyValueå€¼= mapper ã€‚readValueï¼ˆæ–° æ–‡ä»¶ï¼ˆâ€œ data.json â€ï¼‰ï¼Œmyvalueçš„ã€‚ç±»ï¼‰;//æˆ–ï¼š value = mapper ã€‚readValueï¼ˆæ–° URLï¼ˆâ€œ http://some.com/api/entry.json â€ï¼‰ï¼ŒMyValue ã€‚ç±»ï¼‰;//æˆ–ï¼š value = mapper ã€‚readValueï¼ˆâ€œ &#123; \â€ name \â€œï¼š\â€ Bob \â€œï¼Œ\ â€œå¹´é¾„\â€ï¼š13&#125; â€œï¼Œ myvalueçš„ã€‚ç±»ï¼‰; å¦‚æžœæˆ‘ä»¬æƒ³å†™JSONï¼Œæˆ‘ä»¬ä¼šåšç›¸åçš„äº‹æƒ…ï¼š 12345æ˜ å°„å™¨ã€‚writeValueï¼ˆæ–° æ–‡ä»¶ï¼ˆâ€œ result.json â€ï¼‰ï¼ŒmyResultObjectï¼‰;//æˆ–ï¼šbyte [] jsonBytes = mapper ã€‚writeValueAsBytesï¼ˆmyResultObjectï¼‰;//æˆ–ï¼šString jsonString = mapper ã€‚writeValueAsStringï¼ˆmyResultObjectï¼‰; åˆ°çŽ°åœ¨ä¸ºæ­¢è¿˜æŒºå¥½ï¼Ÿ 3åˆ†é’Ÿæ•™ç¨‹ï¼šé€šç”¨é›†åˆï¼Œæ ‘æ¨¡åž‹é™¤äº†å¤„ç†ç®€å•çš„Beané£Žæ ¼çš„POJOä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥å¤„ç†JDK Listï¼ŒMapsï¼š 12345Map &lt; Stringï¼ŒInteger &gt; scoreByName = mapper ã€‚readValueï¼ˆjsonSourceï¼ŒMap ã€‚ç±»ï¼‰;List &lt; String &gt; names = mapper ã€‚readValueï¼ˆjsonSourceï¼Œåˆ—è¡¨ã€‚ç±»ï¼‰;//æ˜¾ç„¶å¯ä»¥å†™å‡º mapperã€‚writeValueï¼ˆ new Fileï¼ˆ â€œ names.json â€ï¼‰ï¼Œnamesï¼‰; åªè¦JSONç»“æž„åŒ¹é…ï¼Œç±»åž‹å°±å¾ˆç®€å•ã€‚å¦‚æžœæ‚¨æœ‰POJOå€¼ï¼Œåˆ™éœ€è¦æŒ‡æ˜Žå®žé™…ç±»åž‹ï¼ˆæ³¨æ„ï¼šå¯¹äºŽå…·æœ‰Listetcç±»åž‹çš„POJOå±žæ€§ï¼Œè¿™ä¸æ˜¯å¿…éœ€çš„ï¼‰ï¼š 123Map &lt; Stringï¼ŒResultValue &gt; results = mapper ã€‚readValueï¼ˆjsonSourceï¼Œ æ–° TypeReference &lt; åœ°å›¾&lt; å­—ç¬¦ä¸²ï¼ŒResultValue &gt; &gt;ï¼ˆï¼‰&#123;&#125;ï¼‰;//ä¸ºä»€ä¹ˆè¦é¢å¤–å·¥ä½œï¼ŸJava Type Erasureå¦åˆ™ä¼šé˜»æ­¢ç±»åž‹æ£€æµ‹ ï¼ˆæ³¨æ„ï¼šæ— è®ºé€šç”¨ç±»åž‹å¦‚ä½•ï¼Œåºåˆ—åŒ–éƒ½ä¸éœ€è¦é¢å¤–çš„åŠªåŠ›ï¼‰ å¯æ˜¯ç­‰ç­‰ï¼è¿˜æœ‰æ›´å¤šï¼ è™½ç„¶å¤„ç†Mapsï¼ŒListså’Œå…¶ä»–â€œç®€å•â€å¯¹è±¡ç±»åž‹ï¼ˆå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå¸ƒå°”å€¼ï¼‰å¯èƒ½å¾ˆç®€å•ï¼Œä½†å¯¹è±¡éåŽ†å¯èƒ½å¾ˆéº»çƒ¦ã€‚è¿™å°±æ˜¯Jacksonâ€™s Treeæ¨¡åž‹å¯ä»¥æ´¾ä¸Šç”¨åœºçš„åœ°æ–¹ï¼š 1234567891011121314151617//å¯ä»¥è¯»ä½œé€šç”¨çš„JsonNodeï¼Œå¦‚æžœå®ƒå¯ä»¥æ˜¯Objectæˆ–Array; æˆ–è€…ï¼Œ//å¦‚æžœå·²çŸ¥ä¸ºObjectï¼Œåˆ™ä¸ºObjectNodeï¼Œå¦‚æžœæ˜¯arrayï¼ŒArrayNodeç­‰ï¼šObjectNode root = mapperã€‚readTreeï¼ˆ â€œ stuff.json â€ï¼‰;å­—ç¬¦ä¸²åç§° = rootã€‚å¾—åˆ°ï¼ˆ â€œåå­—â€ï¼‰ã€‚asTextï¼ˆï¼‰;int age = rootã€‚å¾—åˆ°ï¼ˆ â€œå¹´é¾„â€ï¼‰ã€‚asIntä¸­ï¼ˆï¼‰;//ä¹Ÿå¯ä»¥ä¿®æ”¹ï¼šè¿™ä¼šå°†å­å¯¹è±¡æ·»åŠ ä¸ºå±žæ€§&apos;other&apos;ï¼Œè®¾ç½®å±žæ€§&apos; type&apos;rootã€‚ä¸Žï¼ˆ â€œå…¶ä»–â€ï¼‰ã€‚putï¼ˆ â€œ type â€ï¼Œ â€œ student â€ï¼‰;String json = mapperã€‚writeValueAsStringï¼ˆæ ¹ï¼‰;//ä¸Žä¸Šé¢ä¸€æ ·ï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°åƒ&apos;json&apos;å­—ç¬¦ä¸²ï¼š// &#123; // â€œnameâ€ï¼šâ€œBobâ€ï¼Œâ€œageâ€ï¼š13ï¼Œ// â€œotherâ€ï¼š&#123; // â€œtypeâ€ï¼šâ€œå­¦ç”Ÿâ€œ // &#125; // &#125; æ ‘æ¨¡åž‹æ¯”æ•°æ®ç»‘å®šæ›´æ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯åœ¨ç»“æž„é«˜åº¦åŠ¨æ€æˆ–ä¸èƒ½å¾ˆå¥½åœ°æ˜ å°„åˆ°Javaç±»çš„æƒ…å†µä¸‹ SpringMVC å›¾ç‰‡ä¸Šä¼ æ“ä½œå¾…å®š1234567891011CommonsMultipartFile shopImg = null; CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver( request.getSession().getServletContext()); if (commonsMultipartResolver.isMultipart(request)) &#123; MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) request; shopImg = (CommonsMultipartFile) multipartHttpServletRequest.getFile(&quot;shopImg&quot;); &#125; else &#123; modelMap.put(&quot;success&quot;, false); modelMap.put(&quot;errMsg&quot;, &quot;å›¾ç‰‡ä¸Šä¼ ä¸èƒ½ä¸ºç©º&quot;); return modelMap; &#125; 9 SUIMobile http://m.sui.taobao.org/ http://m.sui.taobao.org/getting-started/ 12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt; &lt;title&gt;æˆ‘çš„ç”Ÿæ´»&lt;/title&gt; &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt; &lt;link rel="shortcut icon" href="/favicon.ico"&gt; &lt;meta name="apple-mobile-web-app-capable" content="yes"&gt; &lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt; &lt;link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css"&gt; &lt;link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css"&gt; &lt;/head&gt; &lt;body&gt; &lt;div class="page-group"&gt; &lt;div class="page page-current"&gt; &lt;!-- ä½ çš„htmlä»£ç  --&gt; &lt;/div&gt; &lt;/div&gt; &lt;script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'&gt;&lt;/script&gt; &lt;script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'&gt;&lt;/script&gt; &lt;script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; åº—é“ºæ³¨å†Œä¹‹JS å®žçŽ° 1 10 åº—é“ºç±»åˆ«åŒºåŸŸä¿¡æ¯çš„èŽ·å–123public interface ShopService &#123; ShopExcution addShop(TbShop tbShop, CommonsMultipartFile ShopImg);&#125; 1234public interface ShopCategoryService &#123; //æŸ¥è¯¢TbShopCategory List&lt;TbShopCategory&gt; findAllByParentIdAndShopCategoryId(TbShopCategory tbShopCategoryCondition);&#125; 123 //æŸ¥è¯¢ TbShopCategory ç”¨mybatispluginshelp2.4å¼€å‘å‡çº§çš„ //4-8åº—é“ºç±»åˆ«åŒºåŸŸä¿¡æ¯çš„èŽ·å–List&lt;TbShopCategory&gt; findAllByParentIdAndShopCategoryId(@Param("TbShopCategoryCondition") TbShopCategory TbShopCategoryCondition); 12345678&lt;select id="findAllByParentIdAndShopCategoryId" resultMap="BaseResultMap"&gt; select &lt;include refid="Base_Column_List"/&gt; from tb_shop_category where parent_id=#&#123;TbShopCategoryCondition.parent.shopCategoryId&#125; ORDER BY priority DESC &lt;/select&gt; 1234567891011121314151617181920Controllerå±‚çš„å®žçŽ°private Map&lt;String, Object&gt; getShopInitInfo(Integer id) &#123;// Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;();// List&lt;TbShopCategory&gt; shopCategoryList = new ArrayList&lt;TbShopCategory&gt;();// List&lt;TbArea&gt; areaList = new ArrayList&lt;TbArea&gt;();// try &#123;// shopCategoryList = shopCategoryService// .getShopCategoryList(id);//// areaList = areaService.getAreaList();// &#125; catch (Exception e) &#123;// modelMap.put("success", false);// modelMap.put("errMsg", e.toString());// &#125;// modelMap.put("shopCategoryList", shopCategoryList);// modelMap.put("areaList", areaList);// modelMap.put("success", true);//// return modelMap;// &#125; 11 AreaService123456public interface AreaService &#123; @Servicepublic interface AreaService &#123; List&lt;TbArea&gt; findAllArea();&#125; 12345678910@Servicepublic class AreaServiceImpl implements AreaService &#123; @Autowired private TbAreaMapper tbAreaMapper; @Override public List&lt;TbArea&gt; findAllArea() &#123; return tbAreaMapper.findAll(); &#125;&#125; 12AreaController123456789101112131415161718192021@Controller@RequestMapping("/superadmin")public class AreaContorller &#123; @Autowired private AreaService areaService; @RequestMapping("/listarea") public Map&lt;String, Object&gt; listArea() &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); List&lt;TbArea&gt; allArea = new ArrayList&lt;TbArea&gt;(); try &#123; allArea = areaService.findAllArea(); modelMap.put("rows", allArea); modelMap.put("total", allArea.size()); &#125; catch (Exception e) &#123; modelMap.put("success", false); modelMap.put("errMsg", e.toString()); &#125; return modelMap; &#125;&#125; #13ä½¿ç”¨ SpringBoot + kaptcha ç”Ÿæˆã€æ ¡å¯¹ éªŒè¯ç  https://blog.csdn.net/larger5/article/details/79522105 https://www.jianshu.com/p/1f2f7c47e812 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012ã€pomï¼ˆSpringBoot+thymeleaf+web+kaptcha ï¼‰ æ³¨æ„å¼•å…¥ kaptcha çš„ Maven ä¾èµ– &lt;!-- https://mvnrepository.com/artifact/com.github.penggle/kaptcha --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; 3ã€KaptchaConfigå³ kaptcha çš„é…ç½®æ–‡ä»¶package com.cun.conf;import java.util.Properties;import org.springframework.context.annotation.Bean;import org.springframework.stereotype.Component;import com.google.code.kaptcha.impl.DefaultKaptcha;import com.google.code.kaptcha.util.Config;@Componentpublic class KaptchaConfig &#123; @Bean public DefaultKaptcha getDefaultKaptcha() &#123; com.google.code.kaptcha.impl.DefaultKaptcha defaultKaptcha = new com.google.code.kaptcha.impl.DefaultKaptcha(); Properties properties = new Properties(); // å›¾ç‰‡è¾¹æ¡† properties.setProperty("kaptcha.border", "yes"); // è¾¹æ¡†é¢œè‰² properties.setProperty("kaptcha.border.color", "105,179,90"); // å­—ä½“é¢œè‰² properties.setProperty("kaptcha.textproducer.font.color", "red"); // å›¾ç‰‡å®½ properties.setProperty("kaptcha.image.width", "110"); // å›¾ç‰‡é«˜ properties.setProperty("kaptcha.image.height", "40"); // å­—ä½“å¤§å° properties.setProperty("kaptcha.textproducer.font.size", "30"); // session key properties.setProperty("kaptcha.session.key", "code"); // éªŒè¯ç é•¿åº¦ properties.setProperty("kaptcha.textproducer.char.length", "4"); // å­—ä½“ properties.setProperty("kaptcha.textproducer.font.names", "å®‹ä½“,æ¥·ä½“,å¾®è½¯é›…é»‘"); Config config = new Config(properties); defaultKaptcha.setConfig(config); return defaultKaptcha; &#125;&#125; 4ã€KaptchaControlleréªŒè¯ç æŽ§åˆ¶å±‚package com.cun.controller;import java.awt.image.BufferedImage;import java.io.ByteArrayOutputStream;import javax.imageio.ImageIO;import javax.servlet.ServletOutputStream;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.servlet.ModelAndView;import com.google.code.kaptcha.impl.DefaultKaptcha;@Controllerpublic class KaptchaController &#123; /** * 1ã€éªŒè¯ç å·¥å…· */ @Autowired DefaultKaptcha defaultKaptcha; /** * 2ã€ç”ŸæˆéªŒè¯ç  * @param httpServletRequest * @param httpServletResponse * @throws Exception */ @RequestMapping("/defaultKaptcha") public void defaultKaptcha(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception &#123; byte[] captchaChallengeAsJpeg = null; ByteArrayOutputStream jpegOutputStream = new ByteArrayOutputStream(); try &#123; // ç”Ÿäº§éªŒè¯ç å­—ç¬¦ä¸²å¹¶ä¿å­˜åˆ°sessionä¸­ String createText = defaultKaptcha.createText(); httpServletRequest.getSession().setAttribute("rightCode", createText); // ä½¿ç”¨ç”Ÿäº§çš„éªŒè¯ç å­—ç¬¦ä¸²è¿”å›žä¸€ä¸ªBufferedImageå¯¹è±¡å¹¶è½¬ä¸ºbyteå†™å…¥åˆ°byteæ•°ç»„ä¸­ BufferedImage challenge = defaultKaptcha.createImage(createText); ImageIO.write(challenge, "jpg", jpegOutputStream); &#125; catch (IllegalArgumentException e) &#123; httpServletResponse.sendError(HttpServletResponse.SC_NOT_FOUND); return; &#125; // å®šä¹‰responseè¾“å‡ºç±»åž‹ä¸ºimage/jpegç±»åž‹ï¼Œä½¿ç”¨responseè¾“å‡ºæµè¾“å‡ºå›¾ç‰‡çš„byteæ•°ç»„ captchaChallengeAsJpeg = jpegOutputStream.toByteArray(); httpServletResponse.setHeader("Cache-Control", "no-store"); httpServletResponse.setHeader("Pragma", "no-cache"); httpServletResponse.setDateHeader("Expires", 0); httpServletResponse.setContentType("image/jpeg"); ServletOutputStream responseOutputStream = httpServletResponse.getOutputStream(); responseOutputStream.write(captchaChallengeAsJpeg); responseOutputStream.flush(); responseOutputStream.close(); &#125; /** * 3ã€æ ¡å¯¹éªŒè¯ç  * @param httpServletRequest * @param httpServletResponse * @return */ @RequestMapping("/imgvrifyControllerDefaultKaptcha") public ModelAndView imgvrifyControllerDefaultKaptcha(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) &#123; ModelAndView andView = new ModelAndView(); String rightCode = (String) httpServletRequest.getSession().getAttribute("rightCode"); String tryCode = httpServletRequest.getParameter("tryCode"); System.out.println("rightCode:"+rightCode+" â€”â€”â€”â€” tryCode:"+tryCode); if (!rightCode.equals(tryCode)) &#123; andView.addObject("info", "é”™è¯¯çš„éªŒè¯ç "); andView.setViewName("index"); &#125; else &#123; andView.addObject("info", "ç™»å½•æˆåŠŸ"); andView.setViewName("success"); &#125; return andView; &#125; @RequestMapping("/toIndex") public String toIndex() &#123; return "index"; &#125;&#125; 5ã€application.yml SpringBoot æ ¸å¿ƒé…ç½®æ–‡ä»¶server: port: 80 context-path: / 6ã€ä¸»ç•Œé¢ index.html&lt;!DOCTYPE html&gt;&lt;!-- thymeleaf æç¤ºåŠŸèƒ½ --&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head lang="en"&gt;&lt;meta charset="UTF-8"&gt;&lt;/meta&gt;&lt;title&gt;hello&lt;/title&gt;&lt;!-- å¼•å…¥BootStrap --&gt;&lt;link rel="stylesheet" href="../bootstrap3/css/bootstrap-theme.min.css" /&gt;&lt;link rel="stylesheet" href="../bootstrap3/css/bootstrap.min.css" /&gt;&lt;script type="text/javascript" src="../bootstrap3/js/jquery-1.11.2.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript" src="../bootstrap3/js/bootstrap.min.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;style type="text/css"&gt;body &#123; padding: 10px&#125;&lt;/style&gt;&lt;body&gt; &lt;!-- æç¤º --&gt; &lt;h3 th:text="$&#123;info&#125;"&gt;&lt;/h3&gt; &lt;div&gt; &lt;!-- åŽé¢æ·»åŠ å‚æ•°èµ·åˆ°æ¸…é™¤ç¼“å­˜ä½œç”¨ --&gt; &lt;img alt="éªŒè¯ç " onclick="this.src='/defaultKaptcha?d='+new Date()*1" src="/defaultKaptcha" /&gt; &lt;/div&gt; &lt;form action="imgvrifyControllerDefaultKaptcha" &gt; &lt;input type="text" name="tryCode" /&gt; &lt;input type="submit" value="æäº¤" class="btn btn-success"&gt;&lt;/input&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; 7ã€éªŒè¯æˆåŠŸç•Œé¢ success.html&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="UTF-8"&gt;&lt;/meta&gt;&lt;title&gt;éªŒè¯æˆåŠŸ&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;éªŒè¯æˆåŠŸ&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt; https://www.jianshu.com/p/1f2f7c47e812 14 SpringBoot æ•´åˆæ—¥å¿—æ–‡ä»¶ https://www.cnblogs.com/zhangjianbing/p/8992897.html https://blog.csdn.net/ws_kfxd/article/details/8466559 1 ä¾èµ–12345678910111213141516171819dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt; &lt;version&gt;2.10.0&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt; &lt;version&gt;1.7.25&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; åº—é“ºä¿¡æ¯ç¼–è¾‘å€¼daoå¼€å‘]]></content>
      <categories>
        <category>é‡è¦</category>
      </categories>
      <tags>
        <tag>å®žæˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBootå°Dè¯¾å ‚]]></title>
    <url>%2F2018%2F12%2F22%2FSpring%20Boot%2FSpringBoot%E5%B0%8FD%E8%AF%BE%E5%A0%82%2F</url>
    <content type="text"><![CDATA[1ã€é›¶åŸºç¡€å¿«é€Ÿå…¥é—¨SpringBoot2.0 (5èŠ‚è¯¾)1ã€SpringBoot2.xè¯¾ç¨‹å…¨å¥—ä»‹ç»å’Œé«˜æ‰‹ç³»åˆ—çŸ¥è¯†ç‚¹â€‹ ç®€ä»‹ï¼šä»‹ç»SpringBoot2.xè¯¾ç¨‹å¤§çº²ç« èŠ‚â€‹ javaåŸºç¡€ï¼ŒjdkçŽ¯å¢ƒï¼ŒmavenåŸºç¡€ 2ã€SpringBoot2.xä¾èµ–çŽ¯å¢ƒå’Œç‰ˆæœ¬æ–°ç‰¹æ€§è¯´æ˜Žç®€ä»‹ï¼šè®²è§£æ–°ç‰ˆæœ¬ä¾èµ–çŽ¯å¢ƒå’Œspringboot2æ–°ç‰¹æ€§æ¦‚è¿° 1ã€ä¾èµ–ç‰ˆæœ¬jdk8ä»¥ä¸Š, Springboot2.xç”¨JDK8, å› ä¸ºåº•å±‚æ˜¯ Spring framework5, 2ã€å®‰è£…mavenæœ€æ–°ç‰ˆæœ¬ï¼Œmaven3.2ä»¥ä¸Šç‰ˆæœ¬ï¼Œä¸‹è½½åœ°å€ ï¼šhttps://maven.apache.org/download.cgi 3ã€Eclipseæˆ–è€…IDE 4ã€æ–°ç‰¹æ€§ 5ã€ç¿»è¯‘å·¥å…·ï¼šhttps://translate.google.cn/ 6ã€springbootGitHubåœ°å€ï¼šhttps://github.com/spring-projects/spring-boot 7ã€springbootå®˜æ–¹æ–‡æ¡£ï¼šhttps://spring.io/guides/gs/spring-boot/ â€‹ 3ã€å¿«é€Ÿåˆ›å»ºSpringBoot2.xåº”ç”¨ä¹‹æ‰‹å·¥åˆ›å»ºwebåº”ç”¨ç®€ä»‹ï¼šä½¿ç”¨Mavenæ‰‹å·¥åˆ›å»ºSpringBoot2.xåº”ç”¨ æ‰‹å·¥åˆ›å»º:https://projects.spring.io/spring-boot/#quick-start å®˜æ–¹æŽ¨èåŒ…å‘½åæŽ¥å£ï¼Œä¸è¦ä½¿ç”¨é»˜è®¤ defaultPackage å®˜æ–¹æ–‡æ¡£: https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-using-the-default-package ä¾‹å­ï¼š com +- example +- myapplication +- Application.java | +- customer | +- Customer.java | +- CustomerController.java | +- CustomerService.java | +- CustomerRepository.java | +- order +- Order.java +- OrderController.java +- OrderService.java +- OrderRepository.java 4ã€å¿«é€Ÿåˆ›å»ºSpringBoot2.xåº”ç”¨ä¹‹å·¥å…·ç±»è‡ªåŠ¨åˆ›å»ºwebåº”ç”¨ç®€ä»‹ï¼šä½¿ç”¨æž„å»ºå·¥å…·è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®åŸºæœ¬æž¶æž„â€‹ 1ã€å·¥å…·è‡ªåŠ¨åˆ›å»º:http://start.spring.io/ 5ã€SpringBoot2.xçš„ä¾èµ–é»˜è®¤Mavenç‰ˆæœ¬â€‹ ç®€ä»‹ï¼šè®²è§£SpringBoot2.xçš„é»˜è®¤Mavenä¾èµ–ç‰ˆæœ¬â€‹ 1ã€å®˜ç½‘åœ°å€â€‹ https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#appendix-dependency-versions 2ã€SpringBootæŽ¥å£Httpåè®®å¼€å‘å®žæˆ˜ 8èŠ‚è¯¾1ã€SpringBoot2.xHTTPè¯·æ±‚é…ç½®è®²è§£ ç®€ä»‹ï¼šSpringBoot2.xHTTPè¯·æ±‚æ³¨è§£è®²è§£å’Œç®€åŒ–æ³¨è§£é…ç½®æŠ€å·§ 1ã€@RestController and @RequestMappingæ˜¯springMVCçš„æ³¨è§£ï¼Œä¸æ˜¯springbootç‰¹æœ‰çš„ 2ã€@RestController = @Controller+@ResponseBody 3ã€@SpringBootApplication = @Configuration+@EnableAutoConfiguration+@ComponentScan localhost:8080 2ã€å¼€å‘æŽ¥å£å¿…å¤‡å·¥å…·ä¹‹PostManæŽ¥å£è°ƒè¯•å·¥å…·ä»‹ç»å’Œä½¿ç”¨â€‹ ç®€ä»‹ï¼šæ¨¡æ‹ŸHttpæŽ¥å£æµ‹è¯•å·¥å…·PostManå®‰è£…å’Œè®²è§£ 1ã€æŽ¥å£è°ƒè¯•å·¥å…·å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨ 2ã€ä¸‹è½½åœ°å€ï¼šhttps://www.getpostman.com/ â€‹ 3ã€SpringBootåŸºç¡€HTTPæŽ¥å£GETè¯·æ±‚å®žæˆ˜â€‹ ç®€ä»‹:è®²è§£springbootæŽ¥å£ï¼Œhttpçš„getè¯·æ±‚ï¼Œå„ä¸ªæ³¨è§£ä½¿ç”¨â€‹ 1ã€GETè¯·æ±‚â€‹ 1ã€å•ä¸€å‚æ•°@RequestMapping(path = â€œ/{id}â€, method = RequestMethod.GET)â€‹ 1) public String getUser(@PathVariable String id ) {}â€‹â€‹ 2ï¼‰@RequestMapping(path = â€œ/{depid}/{userid}â€, method = RequestMethod.GET) å¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªæäº¤æ–¹æ³•â€‹ getUser(@PathVariable(â€œdepidâ€) String departmentID,@PathVariable(â€œuseridâ€) String userid)â€‹â€‹ 3ï¼‰ä¸€ä¸ªé¡¶ä¿©â€‹ @GetMapping = @RequestMapping(method = RequestMethod.GET)â€‹ @PostMapping = @RequestMapping(method = RequestMethod.POST)â€‹ @PutMapping = @RequestMapping(method = RequestMethod.PUT)â€‹ @DeleteMapping = @RequestMapping(method = RequestMethod.DELETE)â€‹â€‹ 4ï¼‰@RequestParam(value = â€œnameâ€, required = true)â€‹ å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œæ¯”å¦‚åˆ†é¡µâ€‹ 4)@RequestBody è¯·æ±‚ä½“æ˜ å°„å®žä½“ç±» éœ€è¦æŒ‡å®šhttpå¤´ä¸º content-typeä¸ºapplication/json charset=utf-8 5ï¼‰@RequestHeader è¯·æ±‚å¤´ï¼Œæ¯”å¦‚é‰´æƒ @RequestHeader(&quot;access_token&quot;) String accessToken 6ï¼‰HttpServletRequest requestè‡ªåŠ¨æ³¨å…¥èŽ·å–å‚æ•° 4ã€SpringBootåŸºç¡€HTTPæŽ¥å£POST,PUT,DELETEè¯·æ±‚å®žæˆ˜â€‹ ç®€ä»‹ï¼šè®²è§£httpè¯·æ±‚postï¼Œput, deleteæäº¤æ–¹å¼ 5ã€å¸¸ç”¨jsonæ¡†æž¶ä»‹ç»å’ŒJacksonè¿”å›žç»“æžœå¤„ç†â€‹ ç®€ä»‹ï¼šä»‹ç»å¸¸ç”¨jsonæ¡†æž¶å’Œæ³¨è§£çš„ä½¿ç”¨ï¼Œè‡ªå®šä¹‰è¿”å›žjsonç»“æž„å’Œæ ¼å¼ 1ã€å¸¸ç”¨æ¡†æž¶ é˜¿é‡Œ fastjson,è°·æ­Œgsonç­‰ JavaBeanåºåˆ—åŒ–ä¸ºJsonï¼Œæ€§èƒ½ï¼šJackson &gt; FastJson &gt; Gson &gt; Json-lib åŒä¸ªç»“æž„ Jacksonã€FastJsonã€Gsonç±»åº“å„æœ‰ä¼˜ç‚¹ï¼Œå„æœ‰è‡ªå·±çš„ä¸“é•¿ ç©ºé—´æ¢æ—¶é—´ï¼Œæ—¶é—´æ¢ç©ºé—´ 2ã€jacksonå¤„ç†ç›¸å…³è‡ªåŠ¨ æŒ‡å®šå­—æ®µä¸è¿”å›žï¼š@JsonIgnore æŒ‡å®šæ—¥æœŸæ ¼å¼ï¼š@JsonFormat(pattern=&quot;yyyy-MM-dd hh:mm:ss&quot;,locale=&quot;zh&quot;,timezone=&quot;GMT+8&quot;) ç©ºå­—æ®µä¸è¿”å›žï¼š@JsonInclude(Include.NON_NUll) æŒ‡å®šåˆ«åï¼š@JsonProperty 6ã€SpringBoot2.xç›®å½•æ–‡ä»¶ç»“æž„è®²è§£â€‹ ç®€ä»‹ï¼šè®²è§£SpringBootç›®å½•æ–‡ä»¶ç»“æž„å’Œå®˜æ–¹æŽ¨èçš„ç›®å½•è§„èŒƒ 1ã€ç›®å½•è®²è§£ src/main/javaï¼šå­˜æ”¾ä»£ç  src/main/resources static: å­˜æ”¾é™æ€æ–‡ä»¶ï¼Œæ¯”å¦‚ cssã€jsã€image, ï¼ˆè®¿é—®æ–¹å¼ http://localhost:8080/js/main.jsï¼‰ templates:å­˜æ”¾é™æ€é¡µé¢jsp,html,tpl config:å­˜æ”¾é…ç½®æ–‡ä»¶,application.properties resources: 2ã€å¼•å…¥ä¾èµ– Thymeleaf &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; æ³¨æ„ï¼šå¦‚æžœä¸å¼•äººè¿™ä¸ªä¾èµ–åŒ…ï¼Œhtmlæ–‡ä»¶åº”è¯¥æ”¾åœ¨é»˜è®¤åŠ è½½æ–‡ä»¶å¤¹é‡Œé¢ï¼Œ æ¯”å¦‚resourcesã€staticã€publicè¿™ä¸ªå‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰å¯ä»¥è®¿é—® 3ã€åŒä¸ªæ–‡ä»¶çš„åŠ è½½é¡ºåº,é™æ€èµ„æºæ–‡ä»¶ Spring Boot é»˜è®¤ä¼šæŒ¨ä¸ªä»Ž META/resources &gt; resources &gt; static &gt; public é‡Œé¢æ‰¾æ˜¯å¦å­˜åœ¨ç›¸åº”çš„èµ„æºï¼Œå¦‚æžœæœ‰åˆ™ç›´æŽ¥è¿”å›žã€‚ 4ã€é»˜è®¤é…ç½® 1ï¼‰å®˜ç½‘åœ°å€ï¼šhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-static-content 2ï¼‰spring.resources.static-locations = classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/ 5ã€é™æ€èµ„æºæ–‡ä»¶å­˜å‚¨åœ¨CDN 7ã€SpringBoot2.xæ–‡ä»¶ä¸Šä¼ å®žæˆ˜â€‹ ç®€ä»‹ï¼šè®²è§£HTMLé¡µé¢æ–‡ä»¶ä¸Šä¼ å’ŒåŽç«¯å¤„ç†å®žæˆ˜â€‹ 1ã€è®²è§£springbootæ–‡ä»¶ä¸Šä¼  MultipartFile fileï¼Œæºè‡ªSpringMVCâ€‹â€‹ 1ï¼‰é™æ€é¡µé¢ç›´æŽ¥è®¿é—®ï¼šlocalhost:8080/index.htmlâ€‹ æ³¨æ„ç‚¹ï¼šâ€‹ å¦‚æžœæƒ³è¦ç›´æŽ¥è®¿é—®htmlé¡µé¢ï¼Œåˆ™éœ€è¦æŠŠhtmlæ”¾åœ¨springbooté»˜è®¤åŠ è½½çš„æ–‡ä»¶å¤¹ä¸‹é¢â€‹ 2ï¼‰MultipartFile å¯¹è±¡çš„transferToæ–¹æ³•ï¼Œç”¨äºŽæ–‡ä»¶ä¿å­˜ï¼ˆæ•ˆçŽ‡å’Œæ“ä½œæ¯”åŽŸå…ˆç”¨FileOutStreamæ–¹ä¾¿å’Œé«˜æ•ˆï¼‰â€‹â€‹ è®¿é—®è·¯å¾„ http://localhost:8080/images/39020dbb-9253-41b9-8ff9-403309ff3f19.jpeg â€‹ 8ã€jaråŒ…æ–¹å¼è¿è¡Œwebé¡¹ç›®çš„æ–‡ä»¶ä¸Šä¼ å’Œè®¿é—®å¤„ç†ï¼ˆæ ¸å¿ƒçŸ¥è¯†ï¼‰â€‹ ç®€ä»‹ï¼šè®²è§£SpingBoot2.xä½¿ç”¨ java -jarè¿è¡Œæ–¹å¼çš„å›¾ç‰‡ä¸Šä¼ å’Œè®¿é—®å¤„ç† 1ã€æ–‡ä»¶å¤§å°é…ç½®ï¼Œå¯åŠ¨ç±»é‡Œé¢é…ç½® @Bean public MultipartConfigElement multipartConfigElement() { MultipartConfigFactory factory = new MultipartConfigFactory(); //å•ä¸ªæ–‡ä»¶æœ€å¤§ factory.setMaxFileSize(&quot;10240KB&quot;); //KB,MB /// è®¾ç½®æ€»ä¸Šä¼ æ•°æ®æ€»å¤§å° factory.setMaxRequestSize(&quot;1024000KB&quot;); return factory.createMultipartConfig(); } 2ã€æ‰“åŒ…æˆjaråŒ…ï¼Œéœ€è¦å¢žåŠ mavenä¾èµ– &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; å¦‚æžœæ²¡åŠ ç›¸å…³ä¾èµ–ï¼Œæ‰§è¡Œmavenæ‰“åŒ…ï¼Œè¿è¡ŒåŽä¼šæŠ¥é”™:no main manifest attribute, in XXX.jar GUIï¼šåç¼–è¯‘å·¥å…·ï¼Œä½œç”¨å°±æ˜¯ç”¨äºŽæŠŠclassæ–‡ä»¶è½¬æ¢æˆjavaæ–‡ä»¶ 3ã€æ–‡ä»¶ä¸Šä¼ å’Œè®¿é—®éœ€è¦æŒ‡å®šç£ç›˜è·¯å¾„ application.propertiesä¸­å¢žåŠ ä¸‹é¢é…ç½® 1) web.images-path=/Users/jack/Desktop 2) spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/,classpath:/test/,file:${web.upload-path} 4ã€æ–‡ä»¶æœåŠ¡å™¨ï¼šfastdfsï¼Œé˜¿é‡Œäº‘ossï¼Œnginxæ­å»ºä¸€ä¸ªç®€å•çš„æ–‡ä»¶æœåŠ¡å™¨ 3.SpringBootçƒ­éƒ¨ç½²devtoolå’Œé…ç½®æ–‡ä»¶è‡ªåŠ¨æ³¨å…¥å®žæˆ˜ 3èŠ‚è¯¾1ã€SpringBoot2.xä½¿ç”¨Dev-toolçƒ­éƒ¨ç½²â€‹ ç®€ä»‹:ä»‹ç»ä»€ä¹ˆæ˜¯çƒ­éƒ¨ç½²ï¼Œä½¿ç”¨springbootç»“åˆdev-toolå·¥å…·ï¼Œå¿«é€ŸåŠ è½½å¯åŠ¨åº”ç”¨ å®˜æ–¹åœ°å€ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-devtools æ ¸å¿ƒä¾èµ–åŒ…ï¼š &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; æ·»åŠ ä¾èµ–åŽï¼Œåœ¨ideé‡Œé¢é‡å¯åº”ç”¨ï¼ŒåŽç»­ä¿®æ”¹åŽé©¬ä¸Šå¯ä»¥ç”Ÿæ•ˆ classloader ä¸è¢«çƒ­éƒ¨ç½²çš„æ–‡ä»¶ 1ã€/META-INF/maven, /META-INF/resources, /resources, /static, /public, or /templates 2ã€æŒ‡å®šæ–‡ä»¶ä¸è¿›è¡Œçƒ­éƒ¨ç½² spring.devtools.restart.exclude=static/**,public/** 3ã€æ‰‹å·¥è§¦å‘é‡å¯ spring.devtools.restart.trigger-file=trigger.txt æ”¹ä»£ç ä¸é‡å¯ï¼Œé€šè¿‡ä¸€ä¸ªæ–‡æœ¬åŽ»æŽ§åˆ¶ https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-devtools-restart-exclude æ³¨æ„ç‚¹ï¼šç”Ÿäº§çŽ¯å¢ƒä¸è¦å¼€å¯è¿™ä¸ªåŠŸèƒ½ï¼Œå¦‚æžœç”¨java -jarå¯åŠ¨ï¼ŒspringBootæ˜¯ä¸ä¼šè¿›è¡Œçƒ­éƒ¨ç½²çš„ 2ã€SpringBoot2.xé…ç½®æ–‡ä»¶è®²è§£â€‹ ç®€ä»‹ï¼šSpringBoot2.xå¸¸è§çš„é…ç½®æ–‡ä»¶ xmlã€ymlã€propertiesçš„åŒºåˆ«å’Œä½¿ç”¨ xmlã€propertiesã€jsonã€yaml 1ã€å¸¸è§çš„é…ç½®æ–‡ä»¶ xx.yml, xx.propertiesï¼Œ 1)YAMLï¼ˆYet Another Markup Languageï¼‰ å†™ YAML è¦æ¯”å†™ XML å¿«å¾—å¤š(æ— éœ€å…³æ³¨æ ‡ç­¾æˆ–å¼•å·) ä½¿ç”¨ç©ºæ ¼ Space ç¼©è¿›è¡¨ç¤ºåˆ†å±‚ï¼Œä¸åŒå±‚æ¬¡ä¹‹é—´çš„ç¼©è¿›å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç©ºæ ¼æ•°ç›® æ³¨æ„ï¼škeyåŽé¢çš„å†’å·ï¼ŒåŽé¢ä¸€å®šè¦è·Ÿä¸€ä¸ªç©ºæ ¼,æ ‘çŠ¶ç»“æž„ application.propertiesç¤ºä¾‹ server.port=8090 server.session-timeout=30 server.tomcat.max-threads=0 server.tomcat.uri-encoding=UTF-8 application.ymlç¤ºä¾‹ server: port: 8090 session-timeout: 30 tomcat.max-threads: 0 tomcat.uri-encoding: UTF-8 2ã€é»˜è®¤ç¤ºä¾‹æ–‡ä»¶ä»…ä½œä¸ºæŒ‡å¯¼ã€‚ ä¸è¦å°†æ•´ä¸ªå†…å®¹å¤åˆ¶å¹¶ç²˜è´´åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ï¼ŒåªæŒ‘é€‰æ‚¨éœ€è¦çš„å±žæ€§ã€‚ 3ã€å‚è€ƒï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#common-application-properties å¦‚æžœéœ€è¦ä¿®æ”¹ï¼Œç›´æŽ¥å¤åˆ¶å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼ŒåŠ åˆ°application.propertiesé‡Œé¢ 3ã€SpringBootæ³¨è§£æŠŠé…ç½®æ–‡ä»¶è‡ªåŠ¨æ˜ å°„åˆ°å±žæ€§å’Œå®žä½“ç±»å®žæˆ˜â€‹ ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨@valueæ³¨è§£é…ç½®æ–‡ä»¶è‡ªåŠ¨æ˜ å°„åˆ°å±žæ€§å’Œå®žä½“ç±»â€‹â€‹ 1ã€é…ç½®æ–‡ä»¶åŠ è½½â€‹ æ–¹å¼ä¸€â€‹ 1ã€Controllerä¸Šé¢é…ç½®â€‹ @PropertySource({â€œclasspath:resource.propertiesâ€})â€‹ 2ã€å¢žåŠ å±žæ€§â€‹ @Value(â€œ${test.name}â€)â€‹ private String name;â€‹â€‹ æ–¹å¼äºŒï¼šå®žä½“ç±»é…ç½®æ–‡ä»¶â€‹ æ­¥éª¤ï¼šâ€‹ 1ã€æ·»åŠ  @Component æ³¨è§£ï¼›â€‹ 2ã€ä½¿ç”¨ @PropertySource æ³¨è§£æŒ‡å®šé…ç½®æ–‡ä»¶ä½ç½®ï¼›â€‹ 3ã€ä½¿ç”¨ @ConfigurationProperties æ³¨è§£ï¼Œè®¾ç½®ç›¸å…³å±žæ€§ï¼›â€‹â€‹ 4ã€å¿…é¡» é€šè¿‡æ³¨å…¥IOCå¯¹è±¡Resource è¿›æ¥ ï¼Œ æ‰èƒ½åœ¨ç±»ä¸­ä½¿ç”¨èŽ·å–çš„é…ç½®æ–‡ä»¶å€¼ã€‚â€‹ @Autowiredâ€‹ private ServerSettings serverSettings;â€‹ ä¾‹å­ï¼š @Configuration @ConfigurationProperties(prefix=â€testâ€) @PropertySource(value=â€classpath:resource.propertiesâ€) public class ServerConstant { å¸¸è§é—®é¢˜ï¼š 1ã€é…ç½®æ–‡ä»¶æ³¨å…¥å¤±è´¥ï¼ŒCould not resolve placeholder è§£å†³ï¼šæ ¹æ®springbootå¯åŠ¨æµç¨‹ï¼Œä¼šæœ‰è‡ªåŠ¨æ‰«æåŒ…æ²¡æœ‰æ‰«æåˆ°ç›¸å…³æ³¨è§£, é»˜è®¤Springæ¡†æž¶å®žçŽ°ä¼šä»Žå£°æ˜Ž@ComponentScanæ‰€åœ¨çš„ç±»çš„packageè¿›è¡Œæ‰«æï¼Œæ¥è‡ªåŠ¨æ³¨å…¥ï¼Œ å› æ­¤å¯åŠ¨ç±»æœ€å¥½æ”¾åœ¨æ ¹è·¯å¾„ä¸‹é¢ï¼Œæˆ–è€…æŒ‡å®šæ‰«æåŒ…èŒƒå›´ spring-bootæ‰«æå¯åŠ¨ç±»å¯¹åº”çš„ç›®å½•å’Œå­ç›®å½• 2ã€æ³¨å…¥beançš„æ–¹å¼ï¼Œå±žæ€§åç§°å’Œé…ç½®æ–‡ä»¶é‡Œé¢çš„keyä¸€ä¸€å¯¹åº”ï¼Œå°±ç”¨åŠ @Value è¿™ä¸ªæ³¨è§£ å¦‚æžœä¸ä¸€æ ·ï¼Œå°±è¦åŠ @value(&quot;${XXX}&quot;) 4ã€Springboot2.0å•å…ƒæµ‹è¯•è¿›é˜¶å®žæˆ˜å’Œè‡ªå®šä¹‰å¼‚å¸¸å¤„ç†. 5èŠ‚è¯¾1ã€@SpringBootTestå•å…ƒæµ‹è¯•å®žæˆ˜â€‹ ç®€ä»‹ï¼šè®²è§£SpringBootçš„å•å…ƒæµ‹è¯•â€‹ 1ã€å¼•å…¥ç›¸å…³ä¾èµ–â€‹ â€‹ â€‹ org.springframework.bootâ€‹ spring-boot-starter-testâ€‹ testâ€‹ 2ã€ä½¿ç”¨ @RunWith(SpringRunner.class) //åº•å±‚ç”¨junit SpringJUnit4ClassRunner @SpringBootTest(classes={XdclassApplication.class})//å¯åŠ¨æ•´ä¸ªspringbootå·¥ç¨‹ public class SpringBootTests { } 2ã€SpringBootæµ‹è¯•è¿›é˜¶é«˜çº§ç¯‡ä¹‹MockMvcè®²è§£â€‹ ç®€ä»‹:è®²è§£MockMvcç±»çš„ä½¿ç”¨å’Œæ¨¡æ‹ŸHttpè¯·æ±‚å®žæˆ˜ 1ã€å¢žåŠ ç±»æ³¨è§£ @AutoConfigureMockMvc @SpringBootTest(classes={XdclassApplication.class}) 2ã€ç›¸å…³API performï¼šæ‰§è¡Œä¸€ä¸ªRequestBuilderè¯·æ±‚ andExpectï¼šæ·»åŠ ResultMatcher-&gt;MockMvcResultMatcherséªŒè¯è§„åˆ™ andReturnï¼šæœ€åŽè¿”å›žç›¸åº”çš„MvcResult-&gt;Response 3ã€SpringBoot2.xä¸ªæ€§åŒ–å¯åŠ¨bannerè®¾ç½®å’Œdebugæ—¥å¿—â€‹ ç®€ä»‹ï¼šè‡ªå®šä¹‰åº”ç”¨å¯åŠ¨çš„è¶£å‘³æ€§æ—¥å¿—å›¾æ ‡å’ŒæŸ¥çœ‹è°ƒè¯•æ—¥å¿— 1ã€å¯åŠ¨èŽ·å–æ›´å¤šä¿¡æ¯ java -jar xxx.jar --debug 2ã€ä¿®æ”¹å¯åŠ¨çš„bannerä¿¡æ¯ 1ï¼‰åœ¨ç±»è·¯å¾„ä¸‹å¢žåŠ ä¸€ä¸ªbanner.txtï¼Œé‡Œé¢æ˜¯å¯åŠ¨è¦è¾“å‡ºçš„ä¿¡æ¯ 2ï¼‰åœ¨applicatoin.propertieså¢žåŠ banneræ–‡ä»¶çš„è·¯å¾„åœ°å€ spring.banner.location=banner.txt 3ï¼‰å®˜ç½‘åœ°å€ https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-banners 4ã€SpringBoot2.xé…ç½®å…¨å±€å¼‚å¸¸å®žæˆ˜â€‹ è®²è§£ï¼šæœåŠ¡ç«¯å¼‚å¸¸è®²è§£å’ŒSpringBooté…ç½®å…¨å±€å¼‚å¸¸å®žæˆ˜ 1ã€é»˜è®¤å¼‚å¸¸æµ‹è¯• int i = 1/0ï¼Œä¸å‹å¥½ 2ã€å¼‚å¸¸æ³¨è§£ä»‹ç» @ControllerAdvice å¦‚æžœæ˜¯è¿”å›žjsonæ•°æ® åˆ™ç”¨ RestControllerAdvice,å°±å¯ä»¥ä¸åŠ  @ResponseBody //æ•èŽ·å…¨å±€å¼‚å¸¸,å¤„ç†æ‰€æœ‰ä¸å¯çŸ¥çš„å¼‚å¸¸ @ExceptionHandler(value=Exception.class) â€‹ 5ã€SpringBoot2.xé…ç½®å…¨å±€å¼‚å¸¸è¿”å›žè‡ªå®šä¹‰é¡µé¢â€‹ ç®€ä»‹ï¼šä½¿ç”¨SpringBootè‡ªå®šä¹‰å¼‚å¸¸å’Œé”™è¯¯é¡µé¢è·³è½¬å®žæˆ˜ 1ã€è¿”å›žè‡ªå®šä¹‰å¼‚å¸¸ç•Œé¢ï¼Œéœ€è¦å¼•å…¥thymeleafä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; 2ã€resourceç›®å½•ä¸‹æ–°å»ºtemplates,å¹¶æ–°å»ºerror.html ModelAndView modelAndView = new ModelAndView(); modelAndView.setViewName(&quot;error.html&quot;); modelAndView.addObject(&quot;msg&quot;, e.getMessage()); return modelAndView; https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-error-handling 5ã€SpringBootéƒ¨ç½²waré¡¹ç›®åˆ°tomcat9å’Œå¯åŠ¨åŽŸç†è®²è§£ 2èŠ‚è¯¾1ã€SpringBootå¯åŠ¨æ–¹å¼è®²è§£å’Œéƒ¨ç½²waré¡¹ç›®åˆ°tomcat9ç®€ä»‹ï¼šSpringBootå¸¸è§å¯åŠ¨æ–¹å¼è®²è§£å’Œéƒ¨ç½²waré¡¹ç›®Tomcat 1ã€ideå¯åŠ¨ 2ã€jaråŒ…æ–¹å¼å¯åŠ¨ mavenæ’ä»¶: &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; å¦‚æžœæ²¡æœ‰åŠ ï¼Œåˆ™æ‰§è¡ŒjaråŒ… ï¼ŒæŠ¥é”™å¦‚ä¸‹ java -jar spring-boot-demo-0.0.1-SNAPSHOT.jar no main manifest attribute, in spring-boot-demo-0.0.1-SNAPSHOT.jar å¦‚æžœæœ‰å®‰è£…maven ç”¨ mvn spring-boot:run é¡¹ç›®ç»“æž„ example.jar | +-META-INF | +-MANIFEST.MF +-org | +-springframework | +-boot | +-loader | +-&lt;spring boot loader classes&gt; +-BOOT-INF +-classes | +-mycompany | +-project | +-YourClasses.class +-lib +-dependency1.jar +-dependency2.jar ç›®å½•ç»“æž„è®²è§£ https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#executable-jar-jar-file-structure 3ã€waråŒ…æ–¹å¼å¯åŠ¨ 1)åœ¨pom.xmlä¸­å°†æ‰“åŒ…å½¢å¼ jar ä¿®æ”¹ä¸ºwar &lt;packaging&gt;war&lt;/packaging&gt; æž„å»ºé¡¹ç›®åç§° &lt;finalName&gt;xdclass_springboot&lt;/finalName&gt; 2)tocmatä¸‹è½½ https://tomcat.apache.org/download-90.cgi 3)ä¿®æ”¹å¯åŠ¨ç±» public class XdclassApplication extends SpringBootServletInitializer { @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder application) { return application.sources(XdclassApplication.class); } public static void main(String[] args) throws Exception { SpringApplication.run(XdclassApplication.class, args); } } 4)æ‰“åŒ…é¡¹ç›®ï¼Œå¯åŠ¨tomcat 4ã€å¯åŠ¨å®¹å™¨ä»‹ç»å’Œç¬¬ä¸‰æ–¹æµ‹è¯•æ•°æ®è®²è§£ ä½¿ç”¨Jmteræµ‹è¯•å·¥å…·æµ‹è¯•æ€§èƒ½ï¼ŒQPS,TPSï¼ŒRT https://examples.javacodegeeks.com/enterprise-java/spring/tomcat-vs-jetty-vs-undertow-comparison-of-spring-boot-embedded-servlet-containers/ 2ã€SpringBoot2.xå¯åŠ¨åŽŸç†æ¦‚è¿°â€‹ ç®€ä»‹ï¼šè®²è§£SpringBootå¯åŠ¨æµç¨‹æ¦‚è¿°å’ŒåŸºæœ¬åŠ è½½æ¡ˆä¾‹ 6ã€SpringBootæ‹¦æˆªå™¨å®žæˆ˜å’Œ Servlet3.0è‡ªå®šä¹‰Filterã€Listener 4èŠ‚è¯¾åŠ å…¥å°Dè¯¾å ‚æŠ€æœ¯äº¤æµç­”ç–‘ç¾¤ï¼šQç¾¤ï¼š699347262 1ã€æ·±å…¥SpringBoot2.xè¿‡æ»¤å™¨Filterå’Œä½¿ç”¨Servlet3.0é…ç½®è‡ªå®šä¹‰Filterå®žæˆ˜(æ ¸å¿ƒçŸ¥è¯†)â€‹ ç®€ä»‹:è®²è§£SpringBooté‡Œé¢Filterè®²è§£å’Œä½¿ç”¨Servlet3.0é…ç½®è‡ªå®šä¹‰Filterå®žæˆ˜â€‹â€‹ filterç®€å•ç†è§£ï¼šäººâ€”&gt;æ£€ç¥¨å‘˜ï¼ˆfilterï¼‰â€”&gt; æ™¯ç‚¹â€‹â€‹ 1ã€SpringBootå¯åŠ¨é»˜è®¤åŠ è½½çš„Filterâ€‹ characterEncodingFilterâ€‹ hiddenHttpMethodFilterâ€‹ httpPutFormContentFilterâ€‹ requestContextFilterâ€‹â€‹ 2ã€Filterä¼˜å…ˆçº§â€‹ Ordered.HIGHEST_PRECEDENCE Ordered.LOWEST_PRECEDENCE ä½Žä½å€¼æ„å‘³ç€æ›´é«˜çš„ä¼˜å…ˆçº§ Higher values are interpreted as lower priority è‡ªå®šä¹‰Filterï¼Œé¿å…å’Œé»˜è®¤çš„Filterä¼˜å…ˆçº§ä¸€æ ·ï¼Œä¸ç„¶ä¼šå†²çª æ³¨å†ŒFilterçš„bean FilterRegistrationBean åŒæ¨¡å—é‡Œé¢æœ‰ç›¸å…³é»˜è®¤Filter web-&gt;servlet-&gt;filter 3ã€è‡ªå®šä¹‰Filter 1ï¼‰ä½¿ç”¨Servlet3.0çš„æ³¨è§£è¿›è¡Œé…ç½® 2ï¼‰å¯åŠ¨ç±»é‡Œé¢å¢žåŠ  @ServletComponentScanï¼Œè¿›è¡Œæ‰«æ 3ï¼‰æ–°å»ºä¸€ä¸ªFilterç±»ï¼Œimplements Filterï¼Œå¹¶å®žçŽ°å¯¹åº”çš„æŽ¥å£ 4) @WebFilter æ ‡è®°ä¸€ä¸ªç±»ä¸ºfilterï¼Œè¢«springè¿›è¡Œæ‰«æ urlPatternsï¼šæ‹¦æˆªè§„åˆ™ï¼Œæ”¯æŒæ­£åˆ™ 6ï¼‰æŽ§åˆ¶chain.doFilterçš„æ–¹æ³•çš„è°ƒç”¨ï¼Œæ¥å®žçŽ°æ˜¯å¦é€šè¿‡æ”¾è¡Œ ä¸æ”¾è¡Œï¼Œwebåº”ç”¨resp.sendRedirect(&quot;/index.html&quot;); åœºæ™¯ï¼šæƒé™æŽ§åˆ¶ã€ç”¨æˆ·ç™»å½•(éžå‰ç«¯åŽç«¯åˆ†ç¦»åœºæ™¯)ç­‰ 1ã€å®˜ç½‘åœ°å€ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-embedded-container-servlets-filters-listeners 2ã€Servlet3.0çš„æ³¨è§£è‡ªå®šä¹‰åŽŸç”ŸServletå®žæˆ˜â€‹ è®²è§£ï¼šä½¿ç”¨ Servlet3.0çš„æ³¨è§£è‡ªå®šä¹‰åŽŸç”ŸServletå’ŒListenerâ€‹ 1ã€è‡ªå®šä¹‰åŽŸç”ŸServlet @WebServlet(name = &quot;userServlet&quot;,urlPatterns = &quot;/test/customs&quot;) public class UserServlet extends HttpServlet{ @Override public void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { resp.getWriter().print(&quot;custom sevlet&quot;); resp.getWriter().flush(); resp.getWriter().close(); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } 3ã€Servlet3.0çš„æ³¨è§£è‡ªå®šä¹‰åŽŸç”ŸListenerç›‘å¬å™¨å®žæˆ˜â€‹ ç®€ä»‹ï¼šç›‘å¬å™¨ä»‹ç»å’ŒServlet3.0çš„æ³¨è§£è‡ªå®šä¹‰åŽŸç”ŸListenerç›‘å¬å™¨å®žæˆ˜ 1ã€è‡ªå®šä¹‰Listener(å¸¸ç”¨çš„ç›‘å¬å™¨ servletContextListenerã€httpSessionListenerã€servletRequestListener) @WebListener public class RequestListener implements ServletRequestListener { @Override public void requestDestroyed(ServletRequestEvent sre) { // TODO Auto-generated method stub System.out.println(&quot;======requestDestroyed========&quot;); } @Override public void requestInitialized(ServletRequestEvent sre) { System.out.println(&quot;======requestInitialized========&quot;); } 4ã€SpringBoot2.Xè‡ªå®šä¹‰æ‹¦æˆªå™¨å®žæˆ˜åŠæ–°æ—§é…ç½®å¯¹æ¯”(æ ¸å¿ƒçŸ¥è¯†)â€‹ ç®€ä»‹: è®²è§£æ‹¦æˆªå™¨ä½¿ç”¨ï¼ŒSpingboot2.xæ–°ç‰ˆæœ¬é…ç½®æ‹¦æˆªæ‹¦æˆªå™¨å’Œæ—§ç‰ˆæœ¬SpringBooté…ç½®æ‹¦æˆªå™¨åŒºåˆ«è®²è§£â€‹â€‹ 1ã€@Configurationâ€‹ ç»§æ‰¿WebMvcConfigurationAdapter(SpringBoot2.Xä¹‹å‰æ—§ç‰ˆæœ¬)â€‹â€‹ SpringBoot2.X æ–°ç‰ˆæœ¬é…ç½®æ‹¦æˆªå™¨ implements WebMvcConfigurerâ€‹â€‹ 2ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨ HandlerInterceptorâ€‹ preHandleï¼šè°ƒç”¨ControlleræŸä¸ªæ–¹æ³•ä¹‹å‰â€‹ postHandleï¼šControllerä¹‹åŽè°ƒç”¨ï¼Œè§†å›¾æ¸²æŸ“ä¹‹å‰ï¼Œå¦‚æžœæŽ§åˆ¶å™¨Controllerå‡ºçŽ°äº†å¼‚å¸¸ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œæ­¤æ–¹æ³•â€‹ afterCompletionï¼šä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸ï¼Œè¿™ä¸ªafterCompletionéƒ½ä¼šè¢«è°ƒç”¨ï¼Œç”¨äºŽèµ„æºæ¸…ç†â€‹ 3ã€æŒ‰ç…§æ³¨å†Œé¡ºåºè¿›è¡Œæ‹¦æˆªï¼Œå…ˆæ³¨å†Œï¼Œå…ˆè¢«æ‹¦æˆª æ‹¦æˆªå™¨ä¸ç”Ÿæ•ˆå¸¸è§é—®é¢˜ï¼š 1ï¼‰æ˜¯å¦æœ‰åŠ @Configuration 2ï¼‰æ‹¦æˆªè·¯å¾„æ˜¯å¦æœ‰é—®é¢˜ ** å’Œ * 3ï¼‰æ‹¦æˆªå™¨æœ€åŽè·¯å¾„ä¸€å®šè¦ â€œ/**â€ï¼Œ å¦‚æžœæ˜¯ç›®å½•çš„è¯åˆ™æ˜¯ /*/ Filter æ˜¯åŸºäºŽå‡½æ•°å›žè°ƒ doFilter()ï¼Œè€ŒInterceptoråˆ™æ˜¯åŸºäºŽAOPæ€æƒ³ Filteråœ¨åªåœ¨Servletå‰åŽèµ·ä½œç”¨ï¼Œè€ŒInterceptorå¤Ÿæ·±å…¥åˆ°æ–¹æ³•å‰åŽã€å¼‚å¸¸æŠ›å‡ºå‰åŽç­‰ ä¾èµ–äºŽServletå®¹å™¨å³webåº”ç”¨ä¸­ï¼Œè€ŒInterceptorä¸ä¾èµ–äºŽServletå®¹å™¨æ‰€ä»¥å¯ä»¥è¿è¡Œåœ¨å¤šç§çŽ¯å¢ƒã€‚ åœ¨æŽ¥å£è°ƒç”¨çš„ç”Ÿå‘½å‘¨æœŸé‡Œï¼ŒInterceptorå¯ä»¥è¢«å¤šæ¬¡è°ƒç”¨ï¼Œè€ŒFilteråªèƒ½åœ¨å®¹å™¨åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ã€‚ Filterå’ŒInterceptorçš„æ‰§è¡Œé¡ºåº è¿‡æ»¤å‰-&gt;æ‹¦æˆªå‰-&gt;actionæ‰§è¡Œ-&gt;æ‹¦æˆªåŽ-&gt;è¿‡æ»¤åŽ 7 SpringBootå¸¸ç”¨Starterä»‹ç»å’Œæ•´åˆæ¨¡æ¿å¼•æ“ŽFreemakerã€thymeleaf 4èŠ‚è¯¾1ã€SpringBoot Starterè®²è§£â€‹ ç®€ä»‹ï¼šä»‹ç»ä»€ä¹ˆæ˜¯SpringBoot Starterå’Œä¸»è¦ä½œç”¨ 1ã€å®˜ç½‘åœ°å€ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-starter 2ã€starterä¸»è¦ç®€åŒ–ä¾èµ–ç”¨çš„ spring-boot-starter-web -&gt;é‡Œé¢åŒ…å«å¤šç§ä¾èµ– 3ã€å‡ ä¸ªå¸¸ç”¨çš„starter spring-boot-starter-activemq spring-boot-starter-aop spring-boot-starter-data-redis spring-boot-starter-freemarker spring-boot-starter-thymeleaf spring-boot-starter-webflux â€‹ 2ã€SpringBoot2.xå¸¸è§æ¨¡æ¿å¼•æ“Žè®²è§£å’Œå®˜æ–¹æŽ¨èä½¿ç”¨â€‹ ç®€ä»‹ï¼šä»‹ç»å¸¸ç”¨çš„SpringBoot2.xæ¨¡æ¿å¼•æ“Žå’Œå®˜æ–¹æŽ¨èæ¡ˆä¾‹ 1ã€JSPï¼ˆåŽç«¯æ¸²æŸ“ï¼Œæ¶ˆè€—æ€§èƒ½ï¼‰ Java Server Pages åŠ¨æ€ç½‘é¡µæŠ€æœ¯,ç”±åº”ç”¨æœåŠ¡å™¨ä¸­çš„JSPå¼•æ“Žæ¥ç¼–è¯‘å’Œæ‰§è¡Œï¼Œå†å°†ç”Ÿæˆçš„æ•´ä¸ªé¡µé¢è¿”å›žç»™å®¢æˆ·ç«¯ å¯ä»¥å†™javaä»£ç  æŒè¡¨è¾¾å¼è¯­è¨€ï¼ˆelã€jstlï¼‰ å†…å»ºå‡½æ•° JSP-&gt;Servlet(å ç”¨JVMå†…å­˜)permSize javawebå®˜æ–¹æŽ¨è springbootä¸æŽ¨è https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-jsp-limitations 2ã€Freemarker FreeMarker Template Languageï¼ˆFTLï¼‰ æ–‡ä»¶ä¸€èˆ¬ä¿å­˜ä¸º xxx.ftl ä¸¥æ ¼ä¾èµ–MVCæ¨¡å¼ï¼Œä¸ä¾èµ–Servletå®¹å™¨ï¼ˆä¸å ç”¨JVMå†…å­˜ï¼‰ å†…å»ºå‡½æ•° 3ã€Thymeleaf (ä¸»æŽ¨) è½»é‡çº§çš„æ¨¡æ¿å¼•æ“Žï¼ˆè´Ÿè´£é€»è¾‘ä¸šåŠ¡çš„ä¸æŽ¨èï¼Œè§£æžDOMæˆ–è€…XMLä¼šå ç”¨å¤šçš„å†…å­˜ï¼‰ å¯ä»¥ç›´æŽ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸”æ­£ç¡®æ˜¾ç¤ºæ¨¡æ¿é¡µé¢ ç›´æŽ¥æ˜¯htmlç»“å°¾ï¼Œç›´æŽ¥ç¼–è¾‘ xdlcass.net/user/userinfo.html ç¤¾ä¼šå·¥ç¨‹å­¦ ä¼ªè£… 3ã€SpringBoot2.xæ•´åˆæ¨¡æ¿å¼•æ“Žfreemarkerå®žæˆ˜â€‹ ç®€ä»‹ï¼šSpringBoot2.xæ•´åˆæ¨¡æ¿å¼•æ“Žfreemarkerå®žæˆ˜ 1ã€Freemarkerç›¸å…³mavenä¾èµ– &lt;!-- å¼•å…¥freemarkeræ¨¡æ¿å¼•æ“Žçš„ä¾èµ– --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; 2ã€FreemarkeråŸºç¡€é…ç½® # æ˜¯å¦å¼€å¯thymeleafç¼“å­˜,æœ¬åœ°ä¸ºfalseï¼Œç”Ÿäº§å»ºè®®ä¸ºtrue spring.freemarker.cache=false spring.freemarker.charset=UTF-8 spring.freemarker.allow-request-override=false spring.freemarker.check-template-location=true #ç±»åž‹ spring.freemarker.content-type=text/html spring.freemarker.expose-request-attributes=true spring.freemarker.expose-session-attributes=true #æ–‡ä»¶åŽç¼€ spring.freemarker.suffix=.ftl #è·¯å¾„ spring.freemarker.template-loader-path=classpath:/templates/ 3ã€å»ºç«‹æ–‡ä»¶å¤¹ 1)src/main/resources/templates/fm/user/ 2)å»ºç«‹ä¸€ä¸ªindex.ftl 3)useræ–‡ä»¶å¤¹ä¸‹é¢å»ºç«‹ä¸€ä¸ªuser.html 4ã€ç®€å•æµ‹è¯•ä»£ç ç¼–å†™å’Œè®¿é—® 4ã€SpringBoot2.xæ•´åˆæ¨¡æ¿å¼•æ“Žthymeleafå®žæˆ˜â€‹ è®²è§£ï¼šSpringBoot2.xæ•´åˆæ¨¡æ¿å¼•æ“Žthymeleafå®žæˆ˜ å®˜ç½‘åœ°å€ï¼šhttps://www.thymeleaf.org/doc/articles/thymeleaf3migration.html 1ã€thymeleafç›¸å…³mavenä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; 2ã€thymeleafåŸºç¡€é…ç½® #å¼€å‘æ—¶å…³é—­ç¼“å­˜,ä¸ç„¶æ²¡æ³•çœ‹åˆ°å®žæ—¶é¡µé¢ spring.thymeleaf.cache=false spring.thymeleaf.mode=HTML5 #å‰ç¼€ spring.thymeleaf.prefix=classpath:/templates/ #ç¼–ç  spring.thymeleaf.encoding=UTF-8 #ç±»åž‹ spring.thymeleaf.content-type=text/html #åç§°çš„åŽç¼€ spring.thymeleaf.suffix=.html 3ã€å»ºç«‹æ–‡ä»¶å¤¹ 1)src/main/resources/templates/tl/ 2)å»ºç«‹ä¸€ä¸ªindex.html 4ã€ç®€å•æµ‹è¯•ä»£ç ç¼–å†™å’Œè®¿é—® æ³¨æ„ï¼š$è¡¨è¾¾å¼åªèƒ½å†™åœ¨thæ ‡ç­¾å†…éƒ¨ å¿«é€Ÿå…¥é—¨ï¼šhttps://www.thymeleaf.org/doc/articles/standarddialect5minutes.html 8 æ•°æ®åº“æ“ä½œä¹‹æ•´åˆMybatieså’Œäº‹åŠ¡è®²è§£ 5èŠ‚è¯¾1ã€SpringBoot2.xæŒä¹…åŒ–æ•°æ®æ–¹å¼ä»‹ç»â€‹â€‹ ç®€ä»‹ï¼šä»‹ç»è¿‘å‡ å¹´å¸¸ç”¨çš„è®¿é—®æ•°æ®åº“çš„æ–¹å¼å’Œä¼˜ç¼ºç‚¹â€‹â€‹ 1ã€åŽŸå§‹javaè®¿é—®æ•°æ®åº“â€‹ å¼€å‘æµç¨‹éº»çƒ¦â€‹ 1ã€æ³¨å†Œé©±åŠ¨/åŠ è½½é©±åŠ¨â€‹ Class.forName(â€œcom.mysql.jdbc.Driverâ€)â€‹ 2ã€å»ºç«‹è¿žæŽ¥â€‹ Connection con = DriverManager.getConnection(â€œjdbc:mysql://localhost:3306/dbnameâ€,â€rootâ€,â€rootâ€);â€‹ 3ã€åˆ›å»ºStatementâ€‹â€‹ 4ã€æ‰§è¡ŒSQLè¯­å¥â€‹ 5ã€å¤„ç†ç»“æžœé›† 6ã€å…³é—­è¿žæŽ¥ï¼Œé‡Šæ”¾èµ„æº 2ã€apache dbutilsæ¡†æž¶ æ¯”ä¸Šä¸€æ­¥ç®€å•ç‚¹ å®˜ç½‘:https://commons.apache.org/proper/commons-dbutils/ 3ã€jpaæ¡†æž¶ spring-data-jpa jpaåœ¨å¤æ‚æŸ¥è¯¢çš„æ—¶å€™æ€§èƒ½ä¸æ˜¯å¾ˆå¥½ 4ã€Hiberante è§£é‡Šï¼šORMï¼šå¯¹è±¡å…³ç³»æ˜ å°„Object Relational Mapping ä¼ä¸šå¤§éƒ½å–œæ¬¢ä½¿ç”¨hibernate 5ã€Mybatisæ¡†æž¶ äº’è”ç½‘è¡Œä¸šé€šå¸¸ä½¿ç”¨mybatis ä¸æä¾›å¯¹è±¡å’Œå…³ç³»æ¨¡åž‹çš„ç›´æŽ¥æ˜ å°„,åŠORM 2ã€SpringBoot2.xæ•´åˆMybatis3.xæ³¨è§£å®žæˆ˜â€‹ ç®€ä»‹ï¼šSpringBoot2.xæ•´åˆMybatis3.xæ³¨è§£é…ç½®å®žæˆ˜ 1ã€ä½¿ç”¨starter, mavenä»“åº“åœ°å€ï¼šhttp://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter 2ã€åŠ å…¥ä¾èµ–(å¯ä»¥ç”¨ http://start.spring.io/ ä¸‹è½½) &lt;!-- å¼•å…¥starter--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- MySQLçš„JDBCé©±åŠ¨åŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- å¼•å…¥ç¬¬ä¸‰æ–¹æ•°æ®æº --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt; &lt;/dependency&gt; 3ã€åŠ å…¥é…ç½®æ–‡ä»¶ #mybatis.type-aliases-package=net.xdclass.base_project.domain #å¯ä»¥è‡ªåŠ¨è¯†åˆ« #spring.datasource.driver-class-name =com.mysql.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/movie?useUnicode=true&amp;characterEncoding=utf-8 spring.datasource.username =root spring.datasource.password =password #å¦‚æžœä¸ä½¿ç”¨é»˜è®¤çš„æ•°æ®æº ï¼ˆcom.zaxxer.hikari.HikariDataSourceï¼‰ spring.datasource.type =com.alibaba.druid.pool.DruidDataSource åŠ è½½é…ç½®ï¼Œæ³¨å…¥åˆ°sqlSessionFactoryç­‰éƒ½æ˜¯springBootå¸®æˆ‘ä»¬å®Œæˆ 4ã€å¯åŠ¨ç±»å¢žåŠ mapperæ‰«æ @MapperScan(&quot;net.xdclass.base_project.mapper&quot;) æŠ€å·§ï¼šä¿å­˜å¯¹è±¡ï¼ŒèŽ·å–æ•°æ®åº“è‡ªå¢žid @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;) 4ã€å¼€å‘mapper å‚è€ƒè¯­æ³• http://www.mybatis.org/mybatis-3/zh/java-api.html 5ã€sqlè„šæœ¬ CREATE TABLE `user` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(128) DEFAULT NULL COMMENT &apos;åç§°&apos;, `phone` varchar(16) DEFAULT NULL COMMENT &apos;ç”¨æˆ·æ‰‹æœºå·&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;åˆ›å»ºæ—¶é—´&apos;, `age` int(4) DEFAULT NULL COMMENT &apos;å¹´é¾„&apos;, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8; ç›¸å…³èµ„æ–™ï¼š http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/#Configuration https://github.com/mybatis/spring-boot-starter/tree/master/mybatis-spring-boot-samples æ•´åˆé—®é¢˜é›†åˆï¼š https://my.oschina.net/hxflar1314520/blog/1800035 https://blog.csdn.net/tingxuetage/article/details/80179772 3ã€SpringBoot2.xæ•´åˆMybatis3.xå¢žåˆ æ”¹æŸ¥å®žæ“å’ŒæŽ§åˆ¶å°æ‰“å°SQLè¯­å¥â€‹ è®²è§£:SpringBoot2.xæ•´åˆMybatis3.xå¢žåˆ æ”¹æŸ¥å®žæ“, æŽ§åˆ¶å°æ‰“å°sqlè¯­å¥â€‹â€‹ 1ã€æŽ§åˆ¶å°æ‰“å°sqlè¯­å¥â€‹ #å¢žåŠ æ‰“å°sqlè¯­å¥ï¼Œä¸€èˆ¬ç”¨äºŽæœ¬åœ°å¼€å‘æµ‹è¯•â€‹ mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImplâ€‹â€‹ 2ã€å¢žåŠ mapperä»£ç â€‹ @Select(â€œSELECT FROM userâ€)â€‹ @Results({â€‹ @Result(column = â€œcreate_timeâ€,property = â€œcreateTimeâ€) //javaType = java.util.Date.classâ€‹ })â€‹ List getAll();â€‹â€‹ @Select(â€œSELECT FROM user WHERE id = #{id}â€)â€‹ @Results({â€‹ @Result(column = â€œcreate_timeâ€,property = â€œcreateTimeâ€)â€‹ })â€‹ User findById(Long id);â€‹ @Update(â€œUPDATE user SET name=#{name} WHERE id =#{id}â€) void update(User user); @Delete(&quot;DELETE FROM user WHERE id =#{userId}&quot;) void delete(Long userId); 3ã€å¢žåŠ API @GetMapping(&quot;find_all&quot;) public Object findAll(){ return JsonData.buildSuccess(userMapper.getAll()); } @GetMapping(&quot;find_by_Id&quot;) public Object findById(long id){ return JsonData.buildSuccess(userMapper.findById(id)); } @GetMapping(&quot;del_by_id&quot;) public Object delById(long id){ userMapper.delete(id); return JsonData.buildSuccess(); } @GetMapping(&quot;update&quot;) public Object update(String name,int id){ User user = new User(); user.setName(name); user.setId(id); userMapper.update(user); return JsonData.buildSuccess(); } 4ã€äº‹åŠ¡ä»‹ç»å’Œå¸¸è§çš„éš”ç¦»çº§åˆ«ï¼Œä¼ æ’­è¡Œä¸ºâ€‹â€‹ ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯æ•°æ®åº“äº‹åŠ¡ï¼Œå¸¸è§çš„éš”ç¦»çº§åˆ«å’Œä¼ æ’­è¡Œä¸ºâ€‹â€‹ 1ã€ä»‹ç»ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Œå•æœºäº‹åŠ¡ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ç­‰â€‹â€‹ 2ã€è®²è§£åœºæ™¯çš„éš”ç¦»çº§åˆ«â€‹ Serializableï¼š æœ€ä¸¥æ ¼ï¼Œä¸²è¡Œå¤„ç†ï¼Œæ¶ˆè€—èµ„æºå¤§â€‹ Repeatable Readï¼šä¿è¯äº†ä¸€ä¸ªäº‹åŠ¡ä¸ä¼šä¿®æ”¹å·²ç»ç”±å¦ä¸€ä¸ªäº‹åŠ¡è¯»å–ä½†æœªæäº¤ï¼ˆå›žæ»šï¼‰çš„æ•°æ®â€‹ Read Committedï¼šå¤§å¤šæ•°ä¸»æµæ•°æ®åº“çš„é»˜è®¤äº‹åŠ¡ç­‰çº§â€‹ Read Uncommittedï¼šä¿è¯äº†è¯»å–è¿‡ç¨‹ä¸­ä¸ä¼šè¯»å–åˆ°éžæ³•æ•°æ®ã€‚ 3ã€è®²è§£å¸¸è§çš„ä¼ æ’­è¡Œä¸º PROPAGATION_REQUIRED--æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æžœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡,æœ€å¸¸è§çš„é€‰æ‹©ã€‚ PROPAGATION_SUPPORTS--æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æžœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éžäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€‚ PROPAGATION_MANDATORY--æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æžœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚ PROPAGATION_REQUIRES_NEW--æ–°å»ºäº‹åŠ¡ï¼Œå¦‚æžœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·, ä¸¤ä¸ªäº‹åŠ¡ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œä¸€ä¸ªå¼‚å¸¸ï¼Œä¸€ä¸ªæäº¤ï¼Œä¸ä¼šåŒæ—¶å›žæ»š PROPAGATION_NOT_SUPPORTED--ä»¥éžäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æžœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ PROPAGATION_NEVER--ä»¥éžäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æžœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ 5ã€SpringBootæ•´åˆmybatisä¹‹äº‹åŠ¡å¤„ç†å®žæˆ˜â€‹ ç®€ä»‹ï¼šSpringBootæ•´åˆMybatisä¹‹äº‹åŠ¡å¤„ç†å®žæˆ˜â€‹ 1ã€serviceé€»è¾‘å¼•å…¥äº‹åŠ¡ @Transantional(propagation=Propagation.REQUIRED) 2ã€serviceä»£ç  @Override @Transactional public int addAccount() { User user = new User(); user.setAge(9); user.setCreateTime(new Date()); user.setName(&quot;äº‹åŠ¡æµ‹è¯•&quot;); user.setPhone(&quot;000121212&quot;); userMapper.insert(user); int a = 1/0; return user.getId(); } 9 SpringBoot2.xæ•´åˆRediså®žæˆ˜ 4èŠ‚è¯¾â€‹ 1ã€åˆ†å¸ƒå¼ç¼“å­˜Redisä»‹ç»â€‹ ç®€ä»‹:è®²è§£ä¸ºä»€ä¹ˆè¦ç”¨ç¼“å­˜å’Œä»‹ç»ä»€ä¹ˆæ˜¯Redisï¼Œæ–°æ‰‹ç»ƒä¹ å·¥å…·â€‹â€‹ 1ã€rediså®˜ç½‘ https://redis.io/downloadâ€‹â€‹ 2ã€æ–°æ‰‹å…¥é—¨redisåœ¨çº¿æµ‹è¯•å·¥å…·ï¼šhttp://try.redis.io/ 2ã€æºç ç¼–è¯‘å®‰è£…Redis4.xâ€‹ ç®€ä»‹ï¼šä½¿ç”¨æºç å®‰è£…Redis4.xå’Œé…ç½®å¤–ç½‘è®¿é—® 1ã€å¿«é€Ÿå®‰è£… https://redis.io/download#installation wget http://download.redis.io/releases/redis-4.0.9.tar.gz tar xzf redis-4.0.9.tar.gz cd redis-4.0.9 make å¯åŠ¨æœåŠ¡ç«¯ï¼šsrc/redis-server å¯åŠ¨å®¢æˆ·ç«¯ï¼šsrc/redis-cli 2ã€é»˜è®¤æ˜¯æœ¬åœ°è®¿é—®çš„ï¼Œéœ€è¦å¼€æ”¾å¤–ç½‘è®¿é—® 1ï¼‰æ‰“å¼€redis.confæ–‡ä»¶åœ¨NETWORKéƒ¨åˆ†ä¿®æ”¹ æ³¨é‡ŠæŽ‰bind 127.0.0.1å¯ä»¥ä½¿æ‰€æœ‰çš„ipè®¿é—®redis ä¿®æ”¹ protected-modeï¼Œå€¼æ”¹ä¸ºno 3ã€SpringBoot2.xæ•´åˆrediså®žæˆ˜è®²è§£ ç®€ä»‹ï¼šä½¿ç”¨springboot-starteræ•´åˆreidså®žæˆ˜ 1ã€å®˜ç½‘ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-redis é›†ç¾¤æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#cluster 2ã€springbootæ•´åˆredisç›¸å…³ä¾èµ–å¼•å…¥ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; 3ã€ç›¸å…³é…ç½®æ–‡ä»¶é…ç½® #=========redisåŸºç¡€é…ç½®========= spring.redis.database=0 spring.redis.host=127.0.0.1 spring.redis.port=6390 # è¿žæŽ¥è¶…æ—¶æ—¶é—´ å•ä½ msï¼ˆæ¯«ç§’ï¼‰ spring.redis.timeout=3000 #=========redisçº¿ç¨‹æ± è®¾ç½®========= # è¿žæŽ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿žæŽ¥ï¼Œé»˜è®¤å€¼ä¹Ÿæ˜¯8ã€‚ spring.redis.pool.max-idle=200 #è¿žæŽ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿žæŽ¥ï¼Œé»˜è®¤å€¼ä¹Ÿæ˜¯0ã€‚ spring.redis.pool.min-idle=200 # å¦‚æžœèµ‹å€¼ä¸º-1ï¼Œåˆ™è¡¨ç¤ºä¸é™åˆ¶ï¼›poolå·²ç»åˆ†é…äº†maxActiveä¸ªjediså®žä¾‹ï¼Œåˆ™æ­¤æ—¶poolçš„çŠ¶æ€ä¸ºexhausted(è€—å°½)ã€‚ spring.redis.pool.max-active=2000 # ç­‰å¾…å¯ç”¨è¿žæŽ¥çš„æœ€å¤§æ—¶é—´ï¼Œå•ä½æ¯«ç§’ï¼Œé»˜è®¤å€¼ä¸º-1ï¼Œè¡¨ç¤ºæ°¸ä¸è¶…æ—¶ spring.redis.pool.max-wait=1000 4ã€å¸¸è§redistemplateç§ç±»è®²è§£å’Œç¼“å­˜å®žæ“(ä½¿ç”¨è‡ªåŠ¨æ³¨å…¥) 1ã€æ³¨å…¥æ¨¡æ¿ @Autowired private StirngRedisTemplate strTplRedis 2ã€ç±»åž‹Stringï¼ŒList,Hash,Set,ZSet å¯¹åº”çš„æ–¹æ³•åˆ†åˆ«æ˜¯opsForValue()ã€opsForList()ã€opsForHash()ã€opsForSet()ã€opsForZSet() 4ã€Rediså·¥å…·ç±»å°è£…è®²è§£å’Œå®žæˆ˜â€‹ ç®€ä»‹ï¼šé«˜æ•ˆå¼€å‘æ–¹å¼ Rediså·¥å…·ç±»å°è£…è®²è§£å’Œå®žæˆ˜â€‹ 1ã€å¸¸ç”¨å®¢æˆ·ç«¯ https://redisdesktop.com/downloadâ€‹ 2ã€å°è£…rediså·¥å…·ç±»å¹¶æ“ä½œ 10 SpringBootæ•´åˆå®šæ—¶ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡å¤„ç† 3èŠ‚è¯¾åŠ å…¥å°Dè¯¾å ‚æŠ€æœ¯äº¤æµç­”ç–‘ç¾¤ï¼šQç¾¤ï¼š699347262 1ã€SpringBootå®šæ—¶ä»»åŠ¡scheduleè®²è§£â€‹ ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯å®šæ—¶ä»»åŠ¡å’Œå¸¸è§å®šæ—¶ä»»åŠ¡åŒºåˆ« 1ã€å¸¸è§å®šæ—¶ä»»åŠ¡ Javaè‡ªå¸¦çš„java.util.Timerç±» timer:é…ç½®æ¯”è¾ƒéº»çƒ¦ï¼Œæ—¶é—´å»¶åŽé—®é¢˜ timertask:ä¸æŽ¨è 2ã€Quartzæ¡†æž¶ é…ç½®æ›´ç®€å• xmlæˆ–è€…æ³¨è§£ 3ã€SpringBootä½¿ç”¨æ³¨è§£æ–¹å¼å¼€å¯å®šæ—¶ä»»åŠ¡ 1ï¼‰å¯åŠ¨ç±»é‡Œé¢ @EnableSchedulingå¼€å¯å®šæ—¶ä»»åŠ¡ï¼Œè‡ªåŠ¨æ‰«æ 2ï¼‰å®šæ—¶ä»»åŠ¡ä¸šåŠ¡ç±» åŠ æ³¨è§£ @Componentè¢«å®¹å™¨æ‰«æ 3ï¼‰å®šæ—¶æ‰§è¡Œçš„æ–¹æ³•åŠ ä¸Šæ³¨è§£ @Scheduled(fixedRate=2000) å®šæœŸæ‰§è¡Œä¸€æ¬¡ 2ã€SpringBootå¸¸ç”¨å®šæ—¶ä»»åŠ¡é…ç½®å®žæˆ˜â€‹ ç®€ä»‹ï¼šSpringBootå¸¸ç”¨å®šæ—¶ä»»åŠ¡è¡¨è¾¾å¼é…ç½®å’Œåœ¨çº¿ç”Ÿæˆå™¨ 1ã€cron å®šæ—¶ä»»åŠ¡è¡¨è¾¾å¼ @Scheduled(cron=&quot;*/1 * * * * *&quot;) è¡¨ç¤ºæ¯ç§’ 1ï¼‰crontab å·¥å…· https://tool.lu/crontab/ 2ã€fixedRate: å®šæ—¶å¤šä¹…æ‰§è¡Œä¸€æ¬¡ï¼ˆä¸Šä¸€æ¬¡å¼€å§‹æ‰§è¡Œæ—¶é—´ç‚¹åŽxxç§’å†æ¬¡æ‰§è¡Œï¼›ï¼‰ 3ã€fixedDelay: ä¸Šä¸€æ¬¡æ‰§è¡Œç»“æŸæ—¶é—´ç‚¹åŽxxç§’å†æ¬¡æ‰§è¡Œ 4ã€fixedDelayString: å­—ç¬¦ä¸²å½¢å¼ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®š 3ã€SpringBoot2.xå¼‚æ­¥ä»»åŠ¡å®žæˆ˜ï¼ˆæ ¸å¿ƒçŸ¥è¯†ï¼‰â€‹ ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œå’Œä½¿ç”¨SpringBoot2.xå¼€å‘å¼‚æ­¥ä»»åŠ¡å®žæˆ˜â€‹ 1ã€ä»€ä¹ˆæ˜¯å¼‚æ­¥ä»»åŠ¡å’Œä½¿ç”¨åœºæ™¯ï¼šé€‚ç”¨äºŽå¤„ç†logã€å‘é€é‚®ä»¶ã€çŸ­ä¿¡â€¦â€¦ç­‰â€‹ ä¸‹å•æŽ¥å£-&gt;æŸ¥åº“å­˜ 100â€‹ ä½™é¢æ ¡éªŒ 150â€‹ é£ŽæŽ§ç”¨æˆ·100â€‹ â€¦. 2ã€å¯åŠ¨ç±»é‡Œé¢ä½¿ç”¨@EnableAsyncæ³¨è§£å¼€å¯åŠŸèƒ½ï¼Œè‡ªåŠ¨æ‰«æ 3ã€å®šä¹‰å¼‚æ­¥ä»»åŠ¡ç±»å¹¶ä½¿ç”¨@Componentæ ‡è®°ç»„ä»¶è¢«å®¹å™¨æ‰«æ,å¼‚æ­¥æ–¹æ³•åŠ ä¸Š@Async æ³¨æ„ç‚¹ï¼š 1ï¼‰è¦æŠŠå¼‚æ­¥ä»»åŠ¡å°è£…åˆ°ç±»é‡Œé¢ï¼Œä¸èƒ½ç›´æŽ¥å†™åˆ°Controller 2ï¼‰å¢žåŠ Future&lt;String&gt; è¿”å›žç»“æžœ AsyncResult&lt;String&gt;(&quot;taskæ‰§è¡Œå®Œæˆ&quot;); 3ï¼‰å¦‚æžœéœ€è¦æ‹¿åˆ°ç»“æžœ éœ€è¦åˆ¤æ–­å…¨éƒ¨çš„ task.isDone() 4ã€é€šè¿‡æ³¨å…¥æ–¹å¼ï¼Œæ³¨å…¥åˆ°controlleré‡Œé¢ï¼Œå¦‚æžœæµ‹è¯•å‰åŽåŒºåˆ«åˆ™æ”¹ä¸ºåŒæ­¥åˆ™æŠŠAsyncæ³¨é‡ŠæŽ‰ 11 Logbackæ—¥å¿—æ¡†æž¶ä»‹ç»å’ŒSpringBootæ•´åˆå®žæˆ˜ 2èŠ‚è¯¾åŠ å…¥å°Dè¯¾å ‚æŠ€æœ¯äº¤æµç­”ç–‘ç¾¤ï¼šQç¾¤ï¼š699347262 1ã€æ–°æ—¥å¿—æ¡†æž¶LogBackä»‹ç»â€‹ ç®€ä»‹ï¼šæ—¥å¿—ä»‹ç»å’Œæ–°æ—¥å¿—æ¡†æž¶Logbackè®²è§£ 1.å¸¸ç”¨å¤„ç†javaçš„æ—¥å¿—ç»„ä»¶ slf4j,log4j,logback,common-logging ç­‰ 2ã€logbackä»‹ç»ï¼šåŸºäºŽLog4jåŸºç¡€ä¸Šå¤§é‡æ”¹è‰¯ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼ŒæŽ¨èé…åˆæ—¥å¿—æ¡†æž¶SLF4Jæ¥ä½¿ç”¨ logbackå½“å‰åˆ†æˆä¸‰ä¸ªæ¨¡å—ï¼šlogback-core,logback-classicå’Œlogback-access; logback-coreæ˜¯å…¶å®ƒä¸¤ä¸ªæ¨¡å—çš„åŸºç¡€æ¨¡å— 3ã€Logbackçš„æ ¸å¿ƒå¯¹è±¡ï¼š Loggerï¼šæ—¥å¿—è®°å½•å™¨ Appenderï¼šæŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ç›®çš„åœ°ï¼Œç›®çš„åœ°å¯ä»¥æ˜¯æŽ§åˆ¶å°ï¼Œæ–‡ä»¶ Layoutï¼šæ—¥å¿—å¸ƒå±€ æ ¼å¼åŒ–æ—¥å¿—ä¿¡æ¯çš„è¾“å‡º â€‹â€‹ 4ã€æ—¥å¿—çº§åˆ«ï¼šDEBUG &lt; INFO &lt; WARN &lt; ERRORâ€‹â€‹ ===========log4jç¤ºä¾‹===========â€‹ ### è®¾ç½®###â€‹ log4j.rootLogger = debug,stdout,D,Eâ€‹â€‹ ### è¾“å‡ºä¿¡æ¯åˆ°æŽ§åˆ¶æŠ¬ ###â€‹ log4j.appender.stdout = org.apache.log4j.ConsoleAppenderâ€‹ log4j.appender.stdout.Target = System.outâ€‹ log4j.appender.stdout.layout = org.apache.log4j.PatternLayoutâ€‹ log4j.appender.stdout.layout.ConversionPattern = [%-5p] %d{yyyy-MM-dd HH:mm:ss,SSS} method:%l%n%m%nâ€‹ ### è¾“å‡ºDEBUG çº§åˆ«ä»¥ä¸Šçš„æ—¥å¿—åˆ°=D://logs/error.log ### log4j.appender.D = org.apache.log4j.DailyRollingFileAppender log4j.appender.D.File = D://logs/log.log log4j.appender.D.Append = true log4j.appender.D.Threshold = DEBUG log4j.appender.D.layout = org.apache.log4j.PatternLayout log4j.appender.D.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss} [ %t:%r ] - [ %p ] %m%n ### è¾“å‡ºERROR çº§åˆ«ä»¥ä¸Šçš„æ—¥å¿—åˆ°=D://logs/error.log ### log4j.appender.E = org.apache.log4j.DailyRollingFileAppender log4j.appender.E.File =E://logs/error.log log4j.appender.E.Append = true log4j.appender.E.Threshold = ERROR log4j.appender.E.layout = org.apache.log4j.PatternLayout log4j.appender.E.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss} [ %t:%r ] - [ %p ] %m%n ===========logback============ 4ã€Log4jæ—¥å¿—è½¬æ¢ä¸ºlogbackåœ¨çº¿å·¥å…·ï¼ˆæ”¯æŒlog4j.propertiesè½¬æ¢ä¸ºlogback.xml,ä¸æ”¯æŒ log4j.xmlè½¬æ¢ä¸ºlogback.xmlï¼‰ https://logback.qos.ch/translator/ 2ã€SpringBoot2.xæ—¥å¿—è®²è§£å’Œè‡ªå®šä¹‰Logbacké…ç½®å®žæˆ˜â€‹ ç®€ä»‹ï¼šè®²è§£SpringBoot2.xæ•´åˆLogbacké…ç½®å®žæˆ˜ 1ã€å®˜ç½‘ä»‹ç»ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-logging å„ä¸ªç»„ä»¶æ¡ˆä¾‹ï¼šhttps://logback.qos.ch/manual/index.html 2ã€åˆ†æžSpringBootå¯åŠ¨æ—¥å¿— 1ï¼‰é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootå°†æ—¥å¿—è¾“å‡ºåˆ°æŽ§åˆ¶å° 3ã€æ•´åˆLogbackå®žæˆ˜ 1ï¼‰åˆ›å»º æ—¥å¿—æ–‡ä»¶logback-spring.xmlï¼Œå®˜æ–¹æŽ¨è -spring.xmlç»“å°¾ é»˜è®¤åŠ è½½åŠ è½½é…ç½®é¡ºåº logback-spring.xml, logback-spring.groovy, logback.xml, or logback.groovy æ³¨é‡Šï¼š &lt;configuration&gt; å­èŠ‚ç‚¹ &lt;appender&gt;&lt;/appender&gt; &lt;logger&gt;&lt;/logger&gt; &lt;root&gt;&lt;/root&gt;(è¦åŠ åœ¨æœ€åŽ) 12ç«  æœç´¢æ¡†æž¶ElasticSearchä»‹ç»å’Œæ•´åˆSpringBoot 4èŠ‚è¯¾1ã€æœç´¢å¼•æ“ŽçŸ¥è¯†å’Œæœç´¢æ¡†æž¶elasticsearchåŸºæœ¬ä»‹ç»â€‹ ç®€ä»‹ï¼šé€šè¿‡äº¬ä¸œç”µå•† ä»‹ç»ä»€ä¹ˆæ˜¯æœç´¢å¼•æ“Žï¼Œå’Œå¼€æºæœç´¢æ¡†æž¶ElasticSearch6.xæ–°ç‰¹æ€§ä»‹ç» å‰è¨€ï¼šä»‹ç»ESçš„ä¸»è¦ç‰¹ç‚¹å’Œä½¿ç”¨åœºæ™¯ï¼Œæ–°ç‰¹æ€§è®²è§£ mysqlï¼šlike æ¨¡ç³Šï¼Œæ€§èƒ½é—®é¢˜, solr:é’ˆå¯¹ä¼ä¸šï¼ŒLucene elasticsearchï¼šé’ˆå¯¹æ•°æ®é‡ç‰¹åˆ«å¤§ï¼ŒPB,TB çº¯javaå¼€å‘ï¼Œspringbootä½¿ç”¨ï¼Œ5.6ç‰ˆæœ¬ eså‡çº§4-&gt;5ç‰ˆæœ¬ï¼Œæ”¹åŠ¨å¤§ï¼Œä½†æ˜¯5ç‰ˆæœ¬åŽï¼Œæ”¹åŠ¨ä¸å¤§ elasticSearchä¸»è¦ç‰¹ç‚¹ 1ã€ç‰¹ç‚¹ï¼šå…¨æ–‡æ£€ç´¢ï¼Œç»“æž„åŒ–æ£€ç´¢ï¼Œæ•°æ®ç»Ÿè®¡ã€åˆ†æžï¼ŒæŽ¥è¿‘å®žæ—¶å¤„ç†ï¼Œåˆ†å¸ƒå¼æœç´¢(å¯éƒ¨ç½²æ•°ç™¾å°æœåŠ¡å™¨)ï¼Œå¤„ç†PBçº§åˆ«çš„æ•°æ® æœç´¢çº é”™ï¼Œè‡ªåŠ¨å®Œæˆ 2ã€ä½¿ç”¨åœºæ™¯ï¼šæ—¥å¿—æœç´¢ï¼Œæ•°æ®èšåˆï¼Œæ•°æ®ç›‘æŽ§ï¼ŒæŠ¥è¡¨ç»Ÿè®¡åˆ†æž 3ã€å›½å†…å¤–ä½¿ç”¨è€…ï¼šç»´åŸºç™¾ç§‘ï¼ŒStack Overflowï¼ŒGitHub æ–°ç‰¹æ€§è®²è§£ 1ã€6.2.xç‰ˆæœ¬åŸºäºŽLucene 7.xï¼Œæ›´å¿«ï¼Œæ€§èƒ½è¿›ä¸€æ­¥æå‡,å¯¹åº”çš„åºåˆ—åŒ–ç»„ä»¶ï¼Œå‡çº§åˆ°Jackson 2.8 mysqlï¼šdatabase table rocord es : index typeï¼ˆåªèƒ½å­˜åœ¨ä¸€ä¸ª) document 2ã€æŽ¨èä½¿ç”¨5.0ç‰ˆæœ¬æŽ¨å‡ºçš„Java REST/HTTPå®¢æˆ·ç«¯ï¼Œä¾èµ–å°‘ï¼Œæ¯”Transportä½¿ç”¨æ›´æ–¹ä¾¿ï¼Œåœ¨åŸºå‡†æµ‹è¯•ä¸­ï¼Œæ€§èƒ½å¹¶ä¸è¾“äºŽTransportå®¢æˆ·ç«¯ï¼Œ åœ¨5.0åˆ°6.0ç‰ˆæœ¬ä¸­ï¼Œæ¯æ¬¡æœ‰å¯¹åº”çš„APIæ›´æ–°, æ–‡æ¡£ä¸­ä¹Ÿè¯´æ˜Žï¼ŒæŽ¨èä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œå¼€å‘ä½¿ç”¨,æ‰€æœ‰å¯ç”¨èŠ‚ç‚¹é—´çš„è´Ÿè½½å‡è¡¡ åœ¨èŠ‚ç‚¹æ•…éšœå’Œç‰¹å®šå“åº”ä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œæ•…éšœè½¬ç§»,å¤±è´¥çš„è¿žæŽ¥å¤„ç½šï¼ˆå¤±è´¥çš„èŠ‚ç‚¹æ˜¯å¦é‡è¯•å–å†³äºŽå¤±è´¥çš„è¿žç»­æ¬¡æ•°;å¤±è´¥çš„å¤±è´¥æ¬¡æ•°è¶Šå¤šï¼Œå®¢æˆ·ç«¯åœ¨å†æ¬¡å°è¯•åŒä¸€èŠ‚ç‚¹ä¹‹å‰ç­‰å¾…çš„æ—¶é—´è¶Šé•¿ï¼‰ 3ã€(é‡è¦)ä¸å†æ”¯æŒä¸€ä¸ªç´¢å¼•åº“é‡Œé¢å¤šä¸ªtypeï¼Œ6.xç‰ˆæœ¬å·²ç»ç¦æ­¢ä¸€ä¸ªindexé‡Œé¢å¤šä¸ªtypeï¼Œæ‰€ä»¥ä¸€ä¸ªindexç´¢å¼•åº“åªèƒ½å­˜åœ¨1ä¸ªtype å®˜æ–¹æ–‡æ¡£ï¼š 1ã€6.0æ›´æ–°ç‰¹æ€§ https://www.elastic.co/guide/en/elasticsearch/reference/6.0/release-notes-6.0.0.html#breaking-java-6.0.0 2ã€6.1æ›´æ–°ç‰¹æ€§ https://www.elastic.co/guide/en/elasticsearch/reference/6.1/release-notes-6.1.0.html 2ã€å¿«ç†Ÿéƒ¨ç½²ElastcSearch5.6.xâ€‹ ç®€ä»‹ï¼šè®²è§£ä¸ºä»€ä¹ˆä¸ç”¨ES6.xç‰ˆæœ¬ï¼ŒåŠæœ¬åœ°å¿«é€Ÿå®‰è£…ElasticSeachå’Œåœºæ™¯é—®é¢˜å¤„ç†â€‹â€‹ é…ç½®JDK1.8â€‹ ä½¿ç”¨wget ä¸‹è½½elasticsearchå®‰è£…åŒ…â€‹ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.8.tar.gzâ€‹ è§£åŽ‹â€‹ tar -zxvf elasticsearch-5.6.8.tar.gzâ€‹ å®˜ç½‘ï¼šhttps://www.elastic.co/products/elasticsearchâ€‹â€‹ å¤–ç½‘è®¿é—®é…ç½®ï¼šâ€‹ configç›®å½•ä¸‹é¢elasticsearch.ymlâ€‹ ä¿®æ”¹ä¸º network.host: 0.0.0.0 é…ç½®eså‡ºçŽ°ç›¸å…³é—®é¢˜å¤„ç†ï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼Œäºšé©¬é€Šäº‘å®‰è£…é—®é¢˜é›†åˆï¼‰ï¼š 1ã€é—®é¢˜ä¸€ Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5330000, 986513408, 0) failed; error=&apos;Cannot allocate memory&apos; (errno=12) # # There is insufficient memory for the Java Runtime Environment to continue. # Native memory allocation (mmap) failed to map 986513408 bytes for committing reserved memory. # An error report file with more information is saved as: # /usr/local/software/temp/elasticsearch-6.2.2/hs_err_pid1912.log è§£å†³ï¼šå†…å­˜ä¸å¤Ÿï¼Œè´­ä¹°é˜¿é‡Œäº‘çš„æœºå™¨å¯ä»¥åŠ¨æ€å¢žåŠ å†…å­˜ 2ã€é—®é¢˜äºŒ [root@iZwz95j86y235aroi85ht0Z bin]# ./elasticsearch [2018-02-22T20:14:04,870][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main] org.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:125) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-6.2.2.jar:6.2.2] è§£å†³ï¼šç”¨éžrootç”¨æˆ· æ·»åŠ ç”¨æˆ·ï¼šuseradd -m ç”¨æˆ·å ç„¶åŽè®¾ç½®å¯†ç  passwd ç”¨æˆ·å 3ã€é—®é¢˜ä¸‰ ./elasticsearch Exception in thread &quot;main&quot; java.nio.file.AccessDeniedException: /usr/local/software/temp/elasticsearch-6.2.2/config/jvm.options è§£å†³ï¼šæƒé™ä¸å¤Ÿ chmod 777 -R å½“å‰esç›®å½• å¸¸è§é…ç½®é—®é¢˜èµ„æ–™ï¼šhttps://www.jianshu.com/p/c5d6ec0f35e0 3ã€ElasticSearch5.6.8æµ‹è¯•æ•°æ®å‡†å¤‡â€‹ ç®€ä»‹: ElasticSearch5.6.xç®€å•æµ‹è¯•â€‹ 1ã€æ­¥éª¤ https://www.elastic.co/guide/en/elasticsearch/reference/5.6/index.htmlâ€‹ 2ã€ä½¿ç”¨POSTMAN å·¥å…· åŸºç¡€ æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ï¼šlocalhost:9200/_cat/health?v æŸ¥çœ‹ç´¢å¼•åˆ—è¡¨ï¼šlocalhost:9200/_cat/indices?v 4ã€SpringBoot2.xæ•´åˆelasticsearch5.6.xâ€‹ ç®€ä»‹ï¼šSpringBoot2.xæ•´åˆelasticSearch5.6.8å®žæˆ˜ Spring Data Elasticsearchæ–‡æ¡£åœ°å€ https://docs.spring.io/spring-data/elasticsearch/docs/3.0.6.RELEASE/reference/html/ ç‰ˆæœ¬è¯´æ˜Žï¼šSpringBootæ•´åˆelasticsearch https://github.com/spring-projects/spring-data-elasticsearch/wiki/Spring-Data-Elasticsearch---Spring-Boot---version-matrix 1ã€æ·»åŠ mavenä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt; &lt;/dependency&gt; 2ã€æŽ¥å£ç»§æ‰¿ElasticSearchRepository,é‡Œé¢æœ‰å¾ˆå¤šé»˜è®¤å®žçŽ° æ³¨æ„ç‚¹ï¼š ç´¢å¼•åç§°è®°å¾—å°å†™ï¼Œç±»å±žæ€§åç§°ä¹Ÿè¦å°å†™ æ–°å»ºå®žä½“å¯¹è±¡article åŠ ä¸Šç±»æ³¨è§£ @Document(indexName = &quot;blog&quot;, type = &quot;article&quot;) 3ã€é…ç½®æ–‡ä»¶ï¼šELASTICSEARCH (ElasticsearchProperties) â€‹ spring.data.elasticsearch.cluster-name=elasticsearch # Elasticsearch cluster name.â€‹ spring.data.elasticsearch.cluster-nodes=localhost:9300 # Comma-separated list of cluster node addresses.â€‹ spring.data.elasticsearch.repositories.enabled=true # Whether to enable Elasticsearch repositories.â€‹â€‹ 4ã€QueryBuilderä½¿ç”¨â€‹ https://www.elastic.co/guide/en/elasticsearch/client/java-api/1.3/query-dsl-queries.htmlâ€‹ //å•ä¸ªåŒ¹é…ï¼Œæœç´¢nameä¸ºjackçš„æ–‡æ¡£ QueryBuilder queryBuilder = QueryBuilders.matchQuery(â€œtitleâ€, â€œæœâ€); 4ã€æŸ¥çœ‹esæ•°æ® æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯ï¼šhttp://localhost:9200/_cat/indices?v æŸ¥çœ‹æŸä¸ªç´¢å¼•åº“ç»“æž„ï¼šhttp://localhost:9200/blog æŸ¥çœ‹æŸä¸ªå¯¹è±¡ï¼šhttp://localhost:9200/blog/article/1 13 æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»å’ŒSpringBoot2.xæ•´åˆRockketMQã€ActiveMQ 9èŠ‚è¯¾åŠ å…¥å°Dè¯¾å ‚æŠ€æœ¯äº¤æµç­”ç–‘ç¾¤ï¼šQç¾¤ï¼š699347262 1ã€JMSä»‹ç»å’Œä½¿ç”¨åœºæ™¯åŠåŸºç¡€ç¼–ç¨‹æ¨¡åž‹â€‹ ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯å°å†™é˜Ÿåˆ—ï¼ŒJMSçš„åŸºç¡€çŸ¥è¯†å’Œä½¿ç”¨åœºæ™¯â€‹ 1ã€ä»€ä¹ˆæ˜¯JMS: Javaæ¶ˆæ¯æœåŠ¡ï¼ˆJava Message Service),Javaå¹³å°ä¸­å…³äºŽé¢å‘æ¶ˆæ¯ä¸­é—´ä»¶çš„æŽ¥å£ 2ã€JMSæ˜¯ä¸€ç§ä¸ŽåŽ‚å•†æ— å…³çš„ APIï¼Œç”¨æ¥è®¿é—®æ¶ˆæ¯æ”¶å‘ç³»ç»Ÿæ¶ˆæ¯ï¼Œå®ƒç±»ä¼¼äºŽJDBC(Java Database Connectivity)ã€‚è¿™é‡Œï¼ŒJDBC æ˜¯å¯ä»¥ç”¨æ¥è®¿é—®è®¸å¤šä¸åŒå…³ç³»æ•°æ®åº“çš„ API 3ã€ä½¿ç”¨åœºæ™¯ï¼š 1ï¼‰è·¨å¹³å° 2ï¼‰å¤šè¯­è¨€ 3ï¼‰å¤šé¡¹ç›® 4ï¼‰è§£è€¦ 5ï¼‰åˆ†å¸ƒå¼äº‹åŠ¡ 6ï¼‰æµé‡æŽ§åˆ¶ 7ï¼‰æœ€ç»ˆä¸€è‡´æ€§ 8ï¼‰RPCè°ƒç”¨ ä¸Šä¸‹æ¸¸å¯¹æŽ¥ï¼Œæ•°æ®æºå˜åŠ¨-&gt;é€šçŸ¥ä¸‹å±ž 4ã€æ¦‚å¿µ JMSæä¾›è€…ï¼šApache ActiveMQã€RabbitMQã€Kafkaã€Notifyã€MetaQã€RocketMQ JMSç”Ÿäº§è€…(Message Producer) JMSæ¶ˆè´¹è€…(Message Consumer) JMSæ¶ˆæ¯ JMSé˜Ÿåˆ— JMSä¸»é¢˜ JMSæ¶ˆæ¯é€šå¸¸æœ‰ä¸¤ç§ç±»åž‹ï¼šç‚¹å¯¹ç‚¹ï¼ˆPoint-to-Point)ã€å‘å¸ƒ/è®¢é˜…ï¼ˆPublish/Subscribeï¼‰ 5ã€ç¼–ç¨‹æ¨¡åž‹ MQä¸­éœ€è¦ç”¨çš„ä¸€äº›ç±» ConnectionFactory ï¼šè¿žæŽ¥å·¥åŽ‚ï¼ŒJMS ç”¨å®ƒåˆ›å»ºè¿žæŽ¥ Connection ï¼šJMS å®¢æˆ·ç«¯åˆ°JMS Provider çš„è¿žæŽ¥ Sessionï¼š ä¸€ä¸ªå‘é€æˆ–æŽ¥æ”¶æ¶ˆæ¯çš„çº¿ç¨‹ Destination ï¼šæ¶ˆæ¯çš„ç›®çš„åœ°;æ¶ˆæ¯å‘é€ç»™è°. MessageConsumer / MessageProducerï¼š æ¶ˆæ¯æŽ¥æ”¶è€…ï¼Œæ¶ˆè´¹è€… 2ã€ActiveMQ5.xæ¶ˆæ¯é˜Ÿåˆ—åŸºç¡€ä»‹ç»å’Œå®‰è£…â€‹â€‹ ç®€ä»‹ï¼šä»‹ç»ActiveMQ5.xæ¶ˆæ¯é˜Ÿåˆ—åŸºç¡€ç‰¹æ€§å’Œæœ¬åœ°å¿«é€Ÿå®‰è£…â€‹ ç‰¹ç‚¹ï¼šâ€‹ 1ï¼‰æ”¯æŒæ¥è‡ªJavaï¼ŒCï¼ŒC ++ï¼ŒCï¼ƒï¼ŒRubyï¼ŒPerlï¼ŒPythonï¼ŒPHPçš„å„ç§è·¨è¯­è¨€å®¢æˆ·ç«¯å’Œåè®®â€‹ 2ï¼‰æ”¯æŒè®¸å¤šé«˜çº§åŠŸèƒ½ï¼Œå¦‚æ¶ˆæ¯ç»„ï¼Œè™šæ‹Ÿç›®æ ‡ï¼Œé€šé…ç¬¦å’Œå¤åˆç›®æ ‡â€‹ 3) å®Œå…¨æ”¯æŒJMS 1.1å’ŒJ2EE 1.4ï¼Œæ”¯æŒçž¬æ€ï¼ŒæŒä¹…ï¼Œäº‹åŠ¡å’ŒXAæ¶ˆæ¯â€‹ 4) Springæ”¯æŒï¼ŒActiveMQå¯ä»¥è½»æ¾åµŒå…¥åˆ°Springåº”ç”¨ç¨‹åºä¸­ï¼Œå¹¶ä½¿ç”¨Springçš„XMLé…ç½®æœºåˆ¶è¿›è¡Œé…ç½®â€‹ 5) æ”¯æŒåœ¨æµè¡Œçš„J2EEæœåŠ¡å™¨ï¼ˆå¦‚TomEEï¼ŒGeronimoï¼ŒJBossï¼ŒGlassFishå’ŒWebLogicï¼‰ä¸­è¿›è¡Œæµ‹è¯•â€‹ 6) ä½¿ç”¨JDBCå’Œé«˜æ€§èƒ½æ—¥å¿—æ”¯æŒéžå¸¸å¿«é€Ÿçš„æŒä¹…åŒ–â€‹ â€¦â€‹â€‹ 1ã€ä¸‹è½½åœ°å€ï¼šhttp://activemq.apache.org/activemq-5153-release.htmlâ€‹ 2ã€å¿«é€Ÿå¼€å§‹ï¼šhttp://activemq.apache.org/getting-started.htmlâ€‹ 3ã€å¦‚æžœæˆ‘ä»¬æ˜¯32ä½çš„æœºå™¨ï¼Œå°±åŒå‡»win32ç›®å½•ä¸‹çš„activemq.bat,å¦‚æžœæ˜¯64ä½æœºå™¨ï¼Œåˆ™åŒå‡»win64ç›®å½•ä¸‹çš„activemq.batâ€‹ 4ã€binç›®å½•é‡Œé¢å¯åŠ¨ é€‰æ‹©å¯¹åº”çš„ç³»ç»Ÿç‰ˆæœ¬å’Œä½æ•°ï¼ŒactiveMQ start å¯åŠ¨â€‹ 5ã€å¯åŠ¨åŽè®¿é—®è·¯å¾„http://127.0.0.1:8161/â€‹â€‹ 6ã€ç”¨æˆ·åå’Œå¯†ç é»˜è®¤éƒ½æ˜¯adminâ€‹ 7ã€å®˜æ–¹æ¡ˆä¾‹é›†åˆâ€‹ https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samplesâ€‹ é¢æ¿ï¼šâ€‹ Nameï¼šé˜Ÿåˆ—åç§°ã€‚â€‹ Number Of Pending Messagesï¼šç­‰å¾…æ¶ˆè´¹çš„æ¶ˆæ¯ä¸ªæ•°ã€‚â€‹ Number Of Consumersï¼šå½“å‰è¿žæŽ¥çš„æ¶ˆè´¹è€…æ•°ç›®â€‹ Messages Enqueuedï¼šè¿›å…¥é˜Ÿåˆ—çš„æ¶ˆæ¯æ€»ä¸ªæ•°ï¼ŒåŒ…æ‹¬å‡ºé˜Ÿåˆ—çš„å’Œå¾…æ¶ˆè´¹çš„ï¼Œè¿™ä¸ªæ•°é‡åªå¢žä¸å‡ã€‚â€‹ Messages Dequeuedï¼šå·²ç»æ¶ˆè´¹çš„æ¶ˆæ¯æ•°é‡ã€‚ 3ã€SpringBoot2.xæ•´åˆActiveMQå®žæˆ˜ä¹‹ç‚¹å¯¹ç‚¹æ¶ˆæ¯(p2p)â€‹â€‹ ç®€ä»‹:SpringBoot2.xæ•´åˆActiveMQå®žæˆ˜ä¹‹ç‚¹å¯¹ç‚¹æ¶ˆæ¯â€‹â€‹ 1ã€å®˜ç½‘åœ°å€ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-activemqâ€‹â€‹ 2ã€åŠ å…¥ä¾èµ–â€‹ â€‹ â€‹ org.springframework.bootâ€‹ spring-boot-starter-activemqâ€‹ â€‹ org.apache.activemq activemq-pool 3ã€application.propertiesé…ç½®æ–‡ä»¶é…ç½® #æ•´åˆjmsæµ‹è¯•ï¼Œå®‰è£…åœ¨åˆ«çš„æœºå™¨ï¼Œé˜²ç«å¢™å’Œç«¯å£å·è®°å¾—å¼€æ”¾ spring.activemq.broker-url=tcp://127.0.0.1:61616 #é›†ç¾¤é…ç½® #spring.activemq.broker-url=failover:(tcp://localhost:61616,tcp://localhost:61617) spring.activemq.user=admin spring.activemq.password=admin #ä¸‹åˆ—é…ç½®è¦å¢žåŠ ä¾èµ– spring.activemq.pool.enabled=true spring.activemq.pool.max-connections=100 4ã€springbootå¯åŠ¨ç±» @EnableJmsï¼Œå¼€å¯æ”¯æŒjms 5ã€æ¨¡æ‹Ÿè¯·æ±‚ localhost:8080/api/v1/order?msg=12312321321312 6ã€æ¶ˆè´¹è€…ï¼šå®žæ—¶ç›‘å¬å¯¹åº”çš„é˜Ÿåˆ— @JmsListener(destination = &quot;order.queue&quot;) â€‹ 4ã€SpringBootæ•´åˆActiveMQå®žæˆ˜ä¹‹å‘å¸ƒè®¢é˜…æ¨¡å¼(pub/sub)â€‹ ç®€ä»‹ï¼šSpringBootæ•´åˆActiveMQå®žæˆ˜ä¹‹å‘å¸ƒè®¢é˜…æ¨¡å¼(pub/sub),åŠåŒæ—¶æ”¯æŒç‚¹å¯¹ç‚¹å’Œå‘å¸ƒè®¢é˜…æ¨¡åž‹ 1ã€éœ€è¦åŠ å…¥é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒå‘å¸ƒè®¢é˜…æ¨¡åž‹ï¼Œé»˜è®¤åªæ”¯æŒç‚¹å¯¹ç‚¹ #default point to point spring.jms.pub-sub-domain=true æ³¨æ„ç‚¹ï¼š 1ã€é»˜è®¤æ¶ˆè´¹è€…å¹¶ä¸ä¼šæ¶ˆè´¹è®¢é˜…å‘å¸ƒç±»åž‹çš„æ¶ˆæ¯ï¼Œè¿™æ˜¯ç”±äºŽspringbooté»˜è®¤é‡‡ç”¨çš„æ˜¯p2pæ¨¡å¼è¿›è¡Œæ¶ˆæ¯çš„ç›‘å¬ ä¿®æ”¹é…ç½®ï¼šspring.jms.pub-sub-domain=true 2ã€@JmsListenerå¦‚æžœä¸æŒ‡å®šç‹¬ç«‹çš„containerFactoryçš„è¯æ˜¯åªèƒ½æ¶ˆè´¹queueæ¶ˆæ¯ ä¿®æ”¹è®¢é˜…è€…containerï¼šcontainerFactory=&quot;jmsListenerContainerTopic&quot; //éœ€è¦ç»™topicå®šä¹‰ç‹¬ç«‹çš„JmsListenerContainer @Bean public JmsListenerContainerFactory&lt;?&gt; jmsListenerContainerTopic(ConnectionFactory activeMQConnectionFactory) { DefaultJmsListenerContainerFactory bean = new DefaultJmsListenerContainerFactory(); bean.setPubSubDomain(true); bean.setConnectionFactory(activeMQConnectionFactory); return bean; } åœ¨é…ç½®æ–‡ä»¶é‡Œé¢ï¼Œæ³¨é‡ŠæŽ‰ #spring.jms.pub-sub-domain=true 5ã€RocketMQ4.xæ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»â€‹ ç®€ä»‹ï¼šé˜¿é‡Œå¼€æºæ¶ˆæ¯é˜Ÿåˆ— RocketMQ4.xä»‹ç»å’Œæ–°æ¦‚å¿µè®²è§£ 1ã€Apache RocketMQä½œä¸ºé˜¿é‡Œå¼€æºçš„ä¸€æ¬¾é«˜æ€§èƒ½ã€é«˜åžåé‡çš„åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶ 2ã€ç‰¹ç‚¹ 1)åœ¨é«˜åŽ‹ä¸‹1æ¯«ç§’å†…å“åº”å»¶è¿Ÿè¶…è¿‡99.6ï¼…ã€‚ 2)é€‚åˆé‡‘èžç±»ä¸šåŠ¡ï¼Œé«˜å¯ç”¨æ€§è·Ÿè¸ªå’Œå®¡è®¡åŠŸèƒ½ã€‚ 3)æ”¯æŒå‘å¸ƒè®¢é˜…æ¨¡åž‹ï¼Œå’Œç‚¹å¯¹ç‚¹ 4ï¼‰æ”¯æŒæ‹‰pullå’ŒæŽ¨pushä¸¤ç§æ¶ˆæ¯æ¨¡å¼ 5)å•ä¸€é˜Ÿåˆ—ç™¾ä¸‡æ¶ˆæ¯ 6)æ”¯æŒå•masterèŠ‚ç‚¹ï¼Œå¤šmasterèŠ‚ç‚¹ï¼Œå¤šmasterå¤šslaveèŠ‚ç‚¹ ... 3ã€æ¦‚å¿µ Producer:æ¶ˆæ¯ç”Ÿäº§è€… Producer Group:æ¶ˆæ¯ç”Ÿäº§è€…ç»„ï¼Œå‘é€åŒç±»æ¶ˆæ¯çš„ä¸€ä¸ªæ¶ˆæ¯ç”Ÿäº§ç»„ Consumer:æ¶ˆè´¹è€… Consumer Group:æ¶ˆè´¹åŒä¸ªæ¶ˆæ¯çš„å¤šä¸ªå®žä¾‹ Tag:æ ‡ç­¾ï¼Œå­ä¸»é¢˜ï¼ˆäºŒçº§åˆ†ç±»ï¼‰,ç”¨äºŽåŒºåˆ†åŒä¸€ä¸ªä¸»é¢˜ä¸‹çš„ä¸åŒä¸šåŠ¡çš„æ¶ˆæ¯ Topic:ä¸»é¢˜ Messageï¼šæ¶ˆæ¯ Brokerï¼šMQç¨‹åºï¼ŒæŽ¥æ”¶ç”Ÿäº§çš„æ¶ˆæ¯ï¼Œæä¾›ç»™æ¶ˆè´¹è€…æ¶ˆè´¹çš„ç¨‹åº Name Serverï¼šç»™ç”Ÿäº§å’Œæ¶ˆè´¹è€…æä¾›è·¯ç”±ä¿¡æ¯ï¼Œæä¾›è½»é‡çº§çš„æœåŠ¡å‘çŽ°å’Œè·¯ç”± 3ã€å®˜ç½‘åœ°å€ï¼šhttp://rocketmq.apache.org/ å­¦ä¹ èµ„æºï¼š 1ï¼‰http://jm.taobao.org/2017/01/12/rocketmq-quick-start-in-10-minutes/ 2ï¼‰https://www.jianshu.com/p/453c6e7ff81c 6ã€RocketMQ4.xæœ¬åœ°å¿«é€Ÿéƒ¨ç½²â€‹ ç®€ä»‹:RocketMQ4.xæœ¬åœ°å¿«é€Ÿéƒ¨ç½² 1ã€å®‰è£…å‰ææ¡ä»¶(æŽ¨è) 64bit OS, Linux/Unix/Mac 64bit JDK 1.8+; 2ã€å¿«é€Ÿå¼€å§‹ http://rocketmq.apache.org/docs/quick-start/ ä¸‹è½½å®‰è£…åŒ…ï¼šhttps://www.apache.org/dyn/closer.cgi?path=rocketmq/4.2.0/rocketmq-all-4.2.0-bin-release.zip è·¯å¾„ï¼š/Users/jack/Desktop/person/springboot/èµ„æ–™/ç¬¬13ç« /ç¬¬5è¯¾/rocketmq-all-4.2.0-bin-release/bin 3ã€è§£åŽ‹åŽ‹ç¼©åŒ… 1ï¼‰è¿›å…¥binç›®å½•ï¼Œå¯åŠ¨namesrv nohup sh mqnamesrv &amp; 2) æŸ¥çœ‹æ—¥å¿— tail -f nohup.out ç»“å°¾ï¼šThe Name Server boot success. serializeType=JSON è¡¨ç¤ºå¯åŠ¨æˆåŠŸ 3ã€å¯åŠ¨broker nohup sh mqbroker -n 127.0.0.1:9876 &amp; 4)ã€å…³é—­nameserver brokeræ‰§è¡Œçš„å‘½ä»¤ sh mqshutdown namesrv sh mqshutdown broker 7ã€RoekerMQ4.xå¯è§†åŒ–æŽ§åˆ¶å°è®²è§£â€‹ ç®€ä»‹ï¼šRoekerMQ4.xå¯è§†åŒ–æŽ§åˆ¶å°è®²è§£ 1ã€ä¸‹è½½ https://github.com/apache/rocketmq-externals 2ã€ç¼–è¯‘æ‰“åŒ… mvn clean package -Dmaven.test.skip=true 3ã€targetç›®å½• é€šè¿‡java -jarçš„æ–¹å¼è¿è¡Œ 4ã€æ— æ³•è¿žæŽ¥èŽ·å–brokerä¿¡æ¯ 1ï¼‰ä¿®æ”¹é…ç½®æ–‡ä»¶,åç§°è·¯ç”±åœ°å€ä¸º namesrvAddrï¼Œä¾‹å¦‚æˆ‘æœ¬æœºä¸º 2ï¼‰src/main/resources/application.properties rocketmq.config.namesrvAddr=192.168.0.101:9876 5ã€é»˜è®¤ç«¯å£ localhost:8080 6ã€æ³¨æ„ï¼š åœ¨é˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘æˆ–è€…è™šæ‹Ÿæœºï¼Œè®°å¾—æ£€æŸ¥ç«¯å£å·å’Œé˜²ç«å¢™æ˜¯å¦å¯åŠ¨ 8ã€Springboot2.xæ•´åˆRocketMQ4.xå®žæˆ˜ä¸Šé›†â€‹ ç®€ä»‹ï¼šSpringboot2.xæ•´åˆRocketMQ4.xå®žæˆ˜ï¼ŒåŠ å…¥ç›¸å…³ä¾èµ–ï¼Œå¼€å‘ç”Ÿäº§è€…ä»£ç â€‹â€‹ å¯åŠ¨nameserå’Œbrokerâ€‹â€‹ 1ã€åŠ å…¥ç›¸å…³ä¾èµ–â€‹ â€‹ org.apache.rocketmqâ€‹ rocketmq-clientâ€‹ ${rocketmq.version}â€‹ â€‹ â€‹ org.apache.rocketmqâ€‹ rocketmq-commonâ€‹ ${rocketmq.version}â€‹ 2ã€application.propertiesåŠ å…¥é…ç½®æ–‡ä»¶ # æ¶ˆè´¹è€…çš„ç»„å apache.rocketmq.consumer.PushConsumer=orderConsumer # ç”Ÿäº§è€…çš„ç»„å apache.rocketmq.producer.producerGroup=Producer # NameServeråœ°å€ apache.rocketmq.namesrvAddr=127.0.0.1:9876 3ã€å¼€å‘MsgProducer /** * ç”Ÿäº§è€…çš„ç»„å */ @Value(&quot;${apache.rocketmq.producer.producerGroup}&quot;) private String producerGroup; /** * NameServer åœ°å€ */ @Value(&quot;${apache.rocketmq.namesrvAddr}&quot;) private String namesrvAddr; private DefaultMQProducer producer ; â€‹â€‹ public DefaultMQProducer getProducer(){â€‹ return this.producer;â€‹ }â€‹â€‹ @PostConstructâ€‹ public void defaultMQProducer() {â€‹ //ç”Ÿäº§è€…çš„ç»„åâ€‹ producer = new DefaultMQProducer(producerGroup);â€‹ //æŒ‡å®šNameServeråœ°å€ï¼Œå¤šä¸ªåœ°å€ä»¥ ; éš”å¼€â€‹ //å¦‚ producer.setNamesrvAddr(â€œ192.168.100.141:9876;192.168.100.142:9876;192.168.100.149:9876â€);â€‹ producer.setNamesrvAddr(namesrvAddr);â€‹ producer.setVipChannelEnabled(false);â€‹â€‹ try {â€‹ /*â€‹ Producerå¯¹è±¡åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¦è°ƒç”¨startåˆå§‹åŒ–ï¼Œåªèƒ½åˆå§‹åŒ–ä¸€æ¬¡â€‹ */â€‹ producer.start();â€‹ } catch (Exception e) { e.printStackTrace(); } // producer.shutdown(); ä¸€èˆ¬åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ï¼Œå…³é—­çš„æ—¶å€™è¿›è¡Œå…³é—­ï¼Œç”¨ä¸Šä¸‹æ–‡ç›‘å¬å™¨ } 9ã€Springboot2.xæ•´åˆRocketMQ4.xå®žæˆ˜ä¸‹é›†â€‹ ç®€ä»‹ï¼šSpringboot2.xæ•´åˆRocketMQ4.xå®žæˆ˜ï¼Œå¼€å‘æ¶ˆè´¹è€…ä»£ç ï¼Œå¸¸è§é—®é¢˜å¤„ç† 1ã€åˆ›å»ºæ¶ˆè´¹è€… é—®é¢˜ï¼š 1ã€Caused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to &lt;172.17.42.1:10911&gt; failed 2ã€com.alibaba.rocketmq.client.exception.MQClientException: Send [1] times, still failed, cost [1647]ms, Topic: TopicTest1, BrokersSent: [broker-a, null, null] 3ã€org.apache.rocketmq.client.exception.MQClientException: Send [3] times, still failed, cost [497]ms, Topic: TopicTest, BrokersSent: [chenyaowudeMacBook-Air.local, chenyaowudeMacBook-Air.local, chenyaowudeMacBook-Air.local] è§£å†³ï¼šå¤šç½‘å¡é—®é¢˜å¤„ç† 1ã€è®¾ç½®producer: producer.setVipChannelEnabled(false); 2ã€ç¼–è¾‘ROCKETMQ é…ç½®æ–‡ä»¶ï¼šbroker.confï¼ˆä¸‹åˆ—ipä¸ºè‡ªå·±çš„ipï¼‰ namesrvAddr = 192.168.0.101:9876 brokerIP1 = 192.168.0.101 4ã€DESC: service not available now, maybe disk full, CL: è§£å†³ï¼šä¿®æ”¹å¯åŠ¨è„šæœ¬runbroker.shï¼Œåœ¨é‡Œé¢å¢žåŠ ä¸€å¥è¯å³å¯ï¼š JAVA_OPT=&quot;${JAVA_OPT} -Drocketmq.broker.diskSpaceWarningLevelRatio=0.98&quot; ï¼ˆç£ç›˜ä¿æŠ¤çš„ç™¾åˆ†æ¯”è®¾ç½®æˆ98%ï¼Œåªæœ‰ç£ç›˜ç©ºé—´ä½¿ç”¨çŽ‡è¾¾åˆ°98%æ—¶æ‰æ‹’ç»æŽ¥æ”¶produceræ¶ˆæ¯ï¼‰ å¸¸è§é—®é¢˜å¤„ç†ï¼š https://blog.csdn.net/sqzhao/article/details/54834761 https://blog.csdn.net/mayifan0/article/details/67633729 https://blog.csdn.net/a906423355/article/details/78192828 14 é«˜çº§ç¯‡å¹…ä¹‹SpringBootå¤šçŽ¯å¢ƒé…ç½® 1èŠ‚è¯¾1ã€SpringBootå¤šçŽ¯å¢ƒé…ç½®ä»‹ç»å’Œé¡¹ç›®å®žæˆ˜ï¼ˆæ ¸å¿ƒçŸ¥è¯†ï¼‰â€‹ ç®€ä»‹ï¼šSpringBootä»‹ç»å¤šçŽ¯å¢ƒé…ç½®å’Œä½¿ç”¨åœºæ™¯ 1ã€ä¸åŒçŽ¯å¢ƒä½¿ç”¨ä¸åŒé…ç½® ä¾‹å¦‚æ•°æ®åº“é…ç½®ï¼Œåœ¨å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨å¼€å‘æ•°æ®åº“ï¼Œè€Œåœ¨ç”Ÿäº§çŽ¯å¢ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯ç”¨æ­£å¼çš„æ•°æ® 2ã€é…ç½®æ–‡ä»¶å­˜æ”¾è·¯å¾„ classpathæ ¹ç›®å½•çš„â€œ/configâ€åŒ…ä¸‹ classpathçš„æ ¹ç›®å½•ä¸‹ 3ã€spring bootå…è®¸é€šè¿‡å‘½åçº¦å®šæŒ‰ç…§ä¸€å®šçš„æ ¼å¼(application-{profile}.properties)æ¥å®šä¹‰å¤šä¸ªé…ç½®æ–‡ä»¶ 15 é«˜çº§ç¯‡å¹…ä¹‹SpringBoot2.0å“åº”å¼ç¼–ç¨‹ 4èŠ‚è¯¾ 1ã€SprinBoot2.xå“åº”å¼ç¼–ç¨‹ç®€ä»‹â€‹ ç®€ä»‹:è®²è§£ä»€ä¹ˆæ˜¯reactiveå“åº”å¼ç¼–ç¨‹å’Œä½¿ç”¨çš„å¥½å¤„ 1ã€åŸºç¡€ç†è§£ï¼š ä¾èµ–äºŽäº‹ä»¶ï¼Œäº‹ä»¶é©±åŠ¨(Event-driven) ä¸€ç³»åˆ—äº‹ä»¶ç§°ä¸ºâ€œæµâ€ å¼‚æ­¥ éžé˜»å¡ž è§‚å¯Ÿè€…æ¨¡å¼ ç½‘ä¸Šçš„ä¸€ä¸ªä¾‹å­ï¼š int b= 2; int c=3 int a = b+c //å‘½ä»¤å¼ç¼–ç¨‹åŽç»­bå’Œcå˜åŒ–ï¼Œéƒ½ä¸å½±å“a b=5; int b= 2; int c= 3 int a = b+c //å“åº”å¼ç¼–ç¨‹ä¸­ï¼Œaçš„å˜åŒ–ï¼Œä¼šå’Œbã€cçš„å˜åŒ–è€Œå˜åŒ–ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰ b=5; 2ã€å®˜ç½‘ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-webflux SpingBoot2åº•å±‚æ˜¯ç”¨spring5,å¼€å§‹æ”¯æŒå“åº”å¼ç¼–ç¨‹ï¼ŒSpringåˆæ˜¯åŸºäºŽReactorè¯•ä¸‹å“åº”å¼ã€‚ â€‹ å­¦ä¹ èµ„æ–™ 1ã€reactive-streamså­¦ä¹ èµ„æ–™ï¼šhttp://www.reactive-streams.org/ 2ã€web-fluxç›¸å…³èµ„æ–™ï¼šhttps://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#spring-webflux 2ã€SpringBoot2.xå“åº”å¼ç¼–ç¨‹webfluxä»‹ç»â€‹ ç®€ä»‹ï¼šè®²è§£SpringBoot2.xå“åº”å¼ç¼–ç¨‹ä»‹ç» Monoã€Fluxå¯¹è±¡å’Œä¼˜ç¼ºç‚¹â€‹â€‹ 1ã€Spring WebFluxæ˜¯Spring Framework 5.0ä¸­å¼•å…¥çš„æ–°çš„ååº”å¼Webæ¡†æž¶â€‹ ä¸ŽSpring MVCä¸åŒï¼Œå®ƒä¸éœ€è¦Servlet APIï¼Œå®Œå…¨å¼‚æ­¥å’Œéžé˜»å¡žï¼Œå¹¶ é€šè¿‡Reactoré¡¹ç›®å®žçŽ°Reactive Streamsè§„èŒƒã€‚â€‹ RxJava 2ã€Fluxå’ŒMono User List&lt;User&gt; 1ï¼‰ç®€å•ä¸šåŠ¡è€Œè¨€ï¼šå’Œå…¶ä»–æ™®é€šå¯¹è±¡å·®åˆ«ä¸å¤§ï¼Œå¤æ‚è¯·æ±‚ä¸šåŠ¡ï¼Œå°±å¯ä»¥æå‡æ€§èƒ½ 2ï¼‰é€šä¿—ç†è§£ï¼š Mono è¡¨ç¤ºçš„æ˜¯åŒ…å« 0 æˆ–è€… 1 ä¸ªå…ƒç´ çš„å¼‚æ­¥åºåˆ— mono-&gt;å•ä¸€å¯¹è±¡ User redis-&gt;ç”¨æˆ·ID-ã€‹å”¯ä¸€çš„ç”¨æˆ·Mono&lt;User&gt; Flux è¡¨ç¤ºçš„æ˜¯åŒ…å« 0 åˆ° N ä¸ªå…ƒç´ çš„å¼‚æ­¥åºåˆ— flux-&gt;æ•°ç»„åˆ—è¡¨å¯¹è±¡ List&lt;User&gt; redis-&gt;ç”·æ€§ç”¨æˆ·-&gt;Flux&lt;User&gt; Flux å’Œ Mono ä¹‹é—´å¯ä»¥è¿›è¡Œè½¬æ¢ 3ã€Spring WebFluxæœ‰ä¸¤ç§é£Žæ ¼ï¼šåŸºäºŽåŠŸèƒ½å’ŒåŸºäºŽæ³¨è§£çš„ã€‚åŸºäºŽæ³¨è§£éžå¸¸æŽ¥è¿‘Spring MVCæ¨¡åž‹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š ç¬¬ä¸€ç§ï¼š @RestController @RequestMappingï¼ˆâ€œ/ usersâ€ï¼‰ public class MyRestController { @GetMappingï¼ˆâ€œ/ {user}â€ï¼‰ public Mono &lt;User&gt; getUserï¼ˆ @PathVariable Long userï¼‰{ // ... } @GetMappingï¼ˆâ€œ/ {user} / customersâ€ï¼‰ public Flux &lt;Customer&gt; getUserCustomersï¼ˆ @PathVariable Long userï¼‰{ // ... } @DeleteMappingï¼ˆâ€œ/ {user}â€ï¼‰ public Mono &lt;User&gt; deleteUserï¼ˆ @PathVariable Long userï¼‰{ // ... } } ç¬¬äºŒç§ï¼š è·¯ç”±é…ç½®ä¸Žè¯·æ±‚çš„å®žé™…å¤„ç†åˆ†å¼€ @Configuration public class RoutingConfiguration { @Bean public RouterFunction &lt;ServerResponse&gt; monoRouterFunctionï¼ˆUserHandler userHandlerï¼‰{ return routeï¼ˆGETï¼ˆ â€œ/ {user}â€ï¼‰.andï¼ˆacceptï¼ˆAPPLICATION_JSONï¼‰ï¼‰ï¼ŒuserHandler :: getUserï¼‰ .andRouteï¼ˆGETï¼ˆâ€œ/ {user} / customersâ€ï¼‰.andï¼ˆacceptï¼ˆAPPLICATION_JSONï¼‰ï¼‰ï¼ŒuserHandler :: getUserCustomersï¼‰ .andRouteï¼ˆDELETEï¼ˆâ€œ/ {user}â€ï¼‰.andï¼ˆacceptï¼ˆAPPLICATION_JSONï¼‰ï¼‰ï¼ŒuserHandler :: deleteUserï¼‰; } } @Component public class UserHandler { å…¬å…± Mono &lt;ServerResponse&gt; getUserï¼ˆServerRequestè¯·æ±‚ï¼‰{ // ... } public Mono &lt;ServerResponse&gt; getUserCustomersï¼ˆServerRequest requestï¼‰{ // ... } å…¬å…± Mono &lt;ServerResponse&gt; deleteUserï¼ˆServerRequestè¯·æ±‚ï¼‰{ // ... } } 4ã€Spring WebFluxåº”ç”¨ç¨‹åºä¸ä¸¥æ ¼ä¾èµ–äºŽServlet APIï¼Œå› æ­¤å®ƒä»¬ä¸èƒ½ä½œä¸ºwaræ–‡ä»¶éƒ¨ç½²ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨src/main/webappç›®å½• 5ã€å¯ä»¥æ•´åˆå¤šä¸ªæ¨¡æ¿å¼•æ“Ž é™¤äº†REST WebæœåŠ¡å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨Spring WebFluxæä¾›åŠ¨æ€HTMLå†…å®¹ã€‚Spring WebFluxæ”¯æŒå„ç§æ¨¡æ¿æŠ€æœ¯ï¼ŒåŒ…æ‹¬Thymeleafï¼ŒFreeMarker 3ã€SpringBoot2.x webfluxå®žæˆ˜â€‹ ç®€ä»‹:webfluxå“åº”å¼ç¼–ç¨‹å®žæˆ˜â€‹â€‹ 1ã€WebFluxä¸­ï¼Œè¯·æ±‚å’Œå“åº”ä¸å†æ˜¯WebMVCä¸­çš„ServletRequestå’ŒServletResponseï¼Œè€Œæ˜¯ServerRequestå’ŒServerResponseâ€‹â€‹ 2ã€åŠ å…¥ä¾èµ–ï¼Œå¦‚æžœåŒæ—¶å­˜åœ¨spring-boot-starter-webï¼Œåˆ™ä¼šä¼˜å…ˆç”¨spring-boot-starter-webâ€‹ â€‹ org.springframework.bootâ€‹ spring-boot-starter-webfluxâ€‹ â€‹â€‹ æµ‹è¯•â€‹ localhost:8080/api/v1/user/testâ€‹ 3ã€å¯åŠ¨æ–¹å¼é»˜è®¤æ˜¯Netty,8080ç«¯å£ â€‹ 4ã€å‚è€ƒï¼šhttps://spring.io/blog/2016/04/19/understanding-reactive-types 4ã€WebFluxå®¢æˆ·ç«¯WebClientè®²è§£â€‹ ç®€ä»‹ï¼šè®²è§£SpringBoot2.x WebFluxå®¢æˆ·ç«¯WebClientçš„ä»‹ç»å’Œä½¿ç”¨â€‹ 1ã€ååº”å¼å®¢æˆ·ç«¯ å®˜ç½‘åœ°å€ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-webclient 16 é«˜çº§ç¯‡å¹…ä¹‹SpringBoot2.0æœåŠ¡å™¨ç«¯ä¸»åŠ¨æŽ¨é€SSEæŠ€æœ¯è®²è§£ 2èŠ‚è¯¾åŠ å…¥å°Dè¯¾å ‚æŠ€æœ¯äº¤æµç­”ç–‘ç¾¤ï¼šQç¾¤ï¼š699347262 1ã€æœåŠ¡ç«¯æŽ¨é€å¸¸ç”¨æŠ€æœ¯ä»‹ç»â€‹ ç®€ä»‹ï¼šæœåŠ¡ç«¯å¸¸ç”¨æŽ¨é€æŠ€æœ¯ä»‹ç»ï¼Œå¦‚websocketï¼Œsseè½®è¯¢ç­‰â€‹ 1ã€å®¢æˆ·ç«¯è½®è¯¢:ajaxå®šæ—¶æ‹‰å– 2ã€æœåŠ¡ç«¯ä¸»åŠ¨æŽ¨é€:WebSocket å…¨åŒå·¥çš„ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªé¢å¤–çš„tcpè¿žæŽ¥ï¼Œå»ºç«‹å’Œå…³é—­æ—¶æ¡æ‰‹ä½¿ç”¨httpåè®®ï¼Œå…¶ä»–æ•°æ®ä¼ è¾“ä¸ä½¿ç”¨httpåè®® æ›´åŠ å¤æ‚ä¸€äº›ï¼Œé€‚ç”¨äºŽéœ€è¦è¿›è¡Œå¤æ‚åŒå‘æ•°æ®é€šè®¯çš„åœºæ™¯ 3ã€æœåŠ¡ç«¯ä¸»åŠ¨æŽ¨é€:SSE (Server Send Event) html5æ–°æ ‡å‡†ï¼Œç”¨æ¥ä»ŽæœåŠ¡ç«¯å®žæ—¶æŽ¨é€æ•°æ®åˆ°æµè§ˆå™¨ç«¯ï¼Œ ç›´æŽ¥å»ºç«‹åœ¨å½“å‰httpè¿žæŽ¥ä¸Šï¼Œæœ¬è´¨ä¸Šæ˜¯ä¿æŒä¸€ä¸ªhttpé•¿è¿žæŽ¥ï¼Œè½»é‡åè®® ç®€å•çš„æœåŠ¡å™¨æ•°æ®æŽ¨é€çš„åœºæ™¯ï¼Œä½¿ç”¨æœåŠ¡å™¨æŽ¨é€äº‹ä»¶ å­¦ä¹ èµ„æ–™ï¼šhttp://www.w3school.com.cn/html5/html_5_serversentevents.asp 2ã€SpringBoot2.xæœåŠ¡ç«¯ä¸»åŠ¨æŽ¨é€SSEâ€‹ ç®€ä»‹ï¼šè®²è§£SpringBoot2.xæœåŠ¡ç«¯ä¸»åŠ¨æŽ¨é€Sever-Send-Eventsâ€‹â€‹ 1ã€localhost:8080/index.html 2ã€éœ€è¦æŠŠresponseçš„ç±»åž‹ æ”¹ä¸º text/event-streamï¼Œæ‰æ˜¯sseçš„ç±»åž‹ 17 é«˜çº§ç¯‡å¹…ä¹‹äº‘æœåŠ¡å™¨ä»‹ç»å’Œéƒ¨ç½²ç”Ÿäº§çŽ¯å¢ƒå®žæˆ˜ 5èŠ‚è¯¾1ã€é˜¿é‡Œäº‘æœåŠ¡å™¨ä»‹ç»å’Œä½¿ç”¨è®²è§£â€‹ ç®€ä»‹ï¼šé˜¿é‡Œäº‘æœåŠ¡å™¨ä»‹ç»å’Œä½¿ç”¨è®²è§£ 2ã€é˜¿é‡Œäº‘LinuxæœåŠ¡å™¨éƒ¨ç½²JDK8å®žæˆ˜â€‹ ç®€ä»‹ï¼šåœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šå®‰è£…JDK8å’Œé…ç½®çŽ¯å¢ƒå˜é‡ lnuxä¸‹ä½¿ç”¨wgetä¸‹è½½jdk8: è¿›åˆ°ç›®å½•/usr/local/software é…ç½®çŽ¯å¢ƒå˜é‡ vim /etc/profile åŠ å…¥ export JAVA_HOME=/usr/local/software/jdk8 export PATH=$PATH:$JAVA_HOME/bin export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar export JAVA_HOME PATH CLASSPATH ä½¿ç”¨ source /etc/profile è®©é…ç½®ç«‹åˆ»ç”Ÿæ•ˆ 3ã€é˜¿é‡Œäº‘æœåŠ¡å™¨SpringBoot2.xç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²å®žæˆ˜â€‹ ç®€ä»‹ï¼šè®²è§£SpringBootç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²å’Œå¸¸è§æ³¨æ„äº‹é¡¹â€‹â€‹â€‹ 1ã€åŽ»é™¤ç›¸å…³ç”Ÿäº§çŽ¯å¢ƒæ²¡ç”¨çš„jarâ€‹ æ¯”å¦‚çƒ­éƒ¨ç½²dev-toolâ€‹â€‹ 2ã€æœ¬åœ°mavenæ‰“åŒ…æˆjaråŒ…â€‹ mvn clean package -Dmaven.test.skip=true è·³è¿‡æµ‹è¯•â€‹â€‹ 3ã€æœåŠ¡å™¨å®‰è£…jdkï¼Œä¸Šä¼ JaråŒ…â€‹ ä¸Šä¼ å·¥å…·ï¼šâ€‹ windows:â€‹ winscpâ€‹ securtyCRTâ€‹ macï¼šâ€‹ filezillaâ€‹ ssh root@120.79.160.143â€‹ è®¿é—®è·¯å¾„ http://120.79.160.143:8080/api/v1/user/findâ€‹ java -jar xxxx.jar å®ˆæŠ¤è¿›ç¨‹ã€ç³»ç»ŸæœåŠ¡ã€shellè„šæœ¬ æ‰“åŒ…æŒ‡å®šé…ç½®æ–‡ä»¶ 1ã€ä½¿ç”¨mavençš„profiles 2ã€ä½¿ç”¨springbootçš„profile=active è®¿é—®ä¸äº† 1ã€é˜¿é‡Œäº‘é˜²ç«å¢™æ˜¯å¦å¼€å¯ï¼Œå¯ä»¥é€‰æ‹©å…³é—­ï¼Œå…³é—­æ˜¯ä¸å®‰å…¨çš„ï¼Œå¯ä»¥é€‰æ‹©å¼€æ”¾ç«¯å£ 2ã€é˜¿é‡Œäº‘çš„å®‰å…¨è®¿é—®ç»„ï¼Œå¼€å¯å¯¹åº”çš„ç«¯å£ï¼Œå¦‚æžœåº”ç”¨æ˜¯ä»¥80ç«¯å£å¯åŠ¨ï¼Œåˆ™é»˜è®¤å¯ä»¥è®¿é—® 4ã€æˆç†Ÿçš„äº’è”ç½‘å…¬å¸åº”è¯¥æœ‰çš„æž¶æž„ æœ¬åœ°æäº¤ç”Ÿäº§ä»£ç -&gt;gitlabä»“åº“-&gt;Jenkinsè‡ªåŠ¨åŒ–æž„å»º-&gt;è¿ç»´æˆ–è€…å¼€å‘äººå‘˜å‘å¸ƒ 4ã€SpringBoot2.xç›‘æŽ§Actuatorå®žæˆ˜ä¸Šé›†â€‹ ç®€ä»‹ï¼šè®²è§£SpringBootä½¿ç”¨actuatorç›‘æŽ§é…ç½®å’Œä½¿ç”¨ å¯ç”¨æ€§ï¼š100%ï¼Œ99.9% 1ã€ä»‹ç»ä»€ä¹ˆæ˜¯actuator å®˜æ–¹ä»‹ç»ï¼š Spring BootåŒ…å«è®¸å¤šé™„åŠ åŠŸèƒ½ï¼Œå¯å¸®åŠ©æ‚¨åœ¨å°†åº”ç”¨ç¨‹åºæŠ•å…¥ç”Ÿäº§æ—¶ç›‘è§†å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚ å¯ä»¥é€‰æ‹©ä½¿ç”¨HTTPç«¯ç‚¹æˆ–JMXæ¥ç®¡ç†å’Œç›‘æŽ§æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œè‡ªåŠ¨åº”ç”¨äºŽå®¡è®¡ï¼Œå¥åº·å’ŒæŒ‡æ ‡æ”¶é›†; ä¸€å¥è¯ï¼šspringbootæä¾›ç”¨äºŽç›‘æŽ§å’Œç®¡ç†ç”Ÿäº§çŽ¯å¢ƒçš„æ¨¡å— å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#production-ready 2ã€åŠ å…¥ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; 3ã€åŠ å…¥ä¸Šè¿°ä¾èµ–åŽï¼Œè®¿é—®å‡ ä¸ªurl /actuator/health /actuator/info /actuator 5ã€SpringBoot2.xç›‘æŽ§Actuatorå®žæˆ˜ä¸‹é›†åŠç”Ÿäº§çŽ¯å¢ƒå»ºè®®ï¼ˆæ ¸å¿ƒçŸ¥è¯†)â€‹ ç®€ä»‹ï¼šSpringBoot2.xç›‘æŽ§Actuatorå®žæˆ˜ä¸‹é›†åŠç”Ÿäº§çŽ¯å¢ƒå»ºè®®ï¼ŒSpringBootæ–°æ—§ç‰ˆæœ¬åŒºåˆ« æ³¨æ„ç‚¹: ç½‘ä¸Šçš„èµ„æ–™å¤§å¤šæ•°æ²¡æœ‰è®²åˆ°è®¿é—®çš„å‰ç¼€ ç«¯ç‚¹åŸºç¡€è·¯å¾„ç”± / è°ƒæ•´åˆ° /actuator å¦‚ï¼š/infoè°ƒæ•´ä¸º/actuator/info /actuator/xxx 1ã€åªèƒ½è®¿é—®å‡ ä¸ªurl 1ï¼‰éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä¸‹åˆ—é…ç½® management.endpoints.web.exposure.include=* 2ï¼‰å®˜ç½‘è¯´æ˜Žï¼šhttps://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator åŽŸå› ï¼š å‡ºäºŽå®‰å…¨è€ƒè™‘ï¼Œé™¤/ healthå’Œ/ infoä¹‹å¤–çš„æ‰€æœ‰æ‰§è¡Œå™¨é»˜è®¤éƒ½æ˜¯ç¦ç”¨çš„ã€‚ management.endpoints.web.exposure.includeå±žæ€§å¯ç”¨äºŽå¯ç”¨æ‰§è¡Œå™¨ 2ã€å»ºè®® åœ¨è®¾ç½®management.endpoints.web.exposure.includeä¹‹å‰ï¼Œè¯·ç¡®ä¿æš´éœ²çš„æ‰§è¡Œå™¨ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯å’Œ/ æˆ–é€šè¿‡å°†å…¶æ”¾ç½®åœ¨é˜²ç«å¢™è¿›è¡ŒæŽ§åˆ¶ï¼Œä¸å¯¹å¤–è¿›è¡Œä½¿ç”¨ ç¦ç”¨çš„ç«¯ç‚¹å°†ä»Žåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­å®Œå…¨åˆ é™¤ã€‚å¦‚æžœæ‚¨åªæƒ³æ›´æ”¹ç«¯ç‚¹æ‰€æš´éœ²çš„æŠ€æœ¯ï¼Œè¯·æ”¹ç”¨ includeå’Œexcludeå±žæ€§ ã€‚ ä¾‹å­ï¼š å¼€å¯å…¨éƒ¨ï¼šmanagement.endpoints.web.exposure.include=* å¼€å¯æŸä¸ªï¼šmanagement.endpoints.web.exposure.include=metrics å…³é—­æŸä¸ªï¼šmanagement.endpoints.web.exposure.exclude=metrics æˆ–è€…ç”¨springadminè¿›è¡Œç®¡ç† ç›¸å…³èµ„æ–™ï¼šhttps://www.cnblogs.com/ityouknow/p/8440455.html æˆ–è€…ç”¨è‡ªå·±ç¼–å†™è„šæœ¬ç›‘æŽ§ CPUã€å†…å­˜ã€ç£ç›˜ã€nginxçš„httpå“åº”çŠ¶æ€ç 200,404,5xx 3ã€ä»‹ç»å¸¸ç”¨çš„å‡ ä¸ª /health æŸ¥çœ‹åº”ç”¨å¥åº·æŒ‡æ ‡ /actuator/metrics æŸ¥çœ‹åº”ç”¨åŸºæœ¬æŒ‡æ ‡åˆ—è¡¨ /actuator/metrics/{name} é€šè¿‡ä¸Šè¿°åˆ—è¡¨ï¼ŒæŸ¥çœ‹å…·ä½“ æŸ¥çœ‹å…·ä½“æŒ‡æ ‡ /actuator/env æ˜¾ç¤ºæ¥è‡ªSpringçš„ ConfigurableEnvironmentçš„å±žæ€§]]></content>
  </entry>
  <entry>
    <title><![CDATA[Redis]]></title>
    <url>%2F2018%2F12%2F21%2FRedis%2FReids%2F</url>
    <content type="text"><![CDATA[Jredies å‚ç…§æ¨å¼€æ•´çš„ä¹¦ æ³¨æ„Nettyä¸è¦ä½¿ç”¨é»˜è®¤çš„ è¦æ¢æˆä¹¦é‡Œé¢çš„ 1 JedisPoolUtil123456789101112131415161718192021222324252627282930313233343536373839404142package com.atguigu.redis.test;import redis.clients.jedis.Jedis;import redis.clients.jedis.JedisPool;import redis.clients.jedis.JedisPoolConfig;public class JedisPoolUtil &#123; private static volatile JedisPool jedisPool = null; private JedisPoolUtil()&#123;&#125; public static JedisPool getJedisPoolInstance() &#123; if(null == jedisPool) &#123; synchronized (JedisPoolUtil.class) &#123; if(null == jedisPool) &#123; JedisPoolConfig poolConfig = new JedisPoolConfig(); poolConfig.setMaxActive(1000); poolConfig.setMaxIdle(32); poolConfig.setMaxWait(100*1000); poolConfig.setTestOnBorrow(true); jedisPool = new JedisPool(poolConfig,"127.0.0.1",6379); &#125; &#125; &#125; return jedisPool; &#125; public static void release(JedisPool jedisPool,Jedis jedis) &#123; if(null != jedis) &#123; jedisPool.returnResourceObject(jedis); &#125; &#125; &#125; TestAPI123456789101112131415161718192021222324package com.atguigu.redis.test;import java.util.Set;import redis.clients.jedis.Jedis;public class TestAPI &#123; public static void main(String[] args) &#123; Jedis jedis = new Jedis("127.0.0.1",6379); jedis.set("k1","v1"); jedis.set("k2","v2"); jedis.set("k3","v3"); System.out.println(jedis.get("k3")); Set&lt;String&gt; sets = jedis.keys("*"); System.out.println(sets.size()); //åŽç»­è¯·å‚è€ƒè„‘å›¾ï¼Œå®¶åº­ä½œä¸šï¼Œæ•²ä¸€é...... &#125;&#125; TestMS1234567891011121314151617package com.atguigu.redis.test;import redis.clients.jedis.Jedis;public class TestMS &#123; public static void main(String[] args) &#123; Jedis jedis_M = new Jedis("127.0.0.1",6379); Jedis jedis_S = new Jedis("127.0.0.1",6380); jedis_S.slaveof("127.0.0.1",6379); jedis_M.set("class","1122V2"); String result = jedis_S.get("class"); System.out.println(result); &#125;&#125; TestPing1234567891011package com.atguigu.redis.test;import redis.clients.jedis.Jedis;public class TestPing &#123; public static void main(String[] args) &#123; Jedis jedis = new Jedis("127.0.0.1",6379); System.out.println(jedis.ping()); &#125;&#125; TestPool12345678910111213141516171819202122232425262728package com.atguigu.redis.test;import redis.clients.jedis.Jedis;import redis.clients.jedis.JedisPool;public class TestPool &#123; public static void main(String[] args) &#123; JedisPool jedisPool = JedisPoolUtil.getJedisPoolInstance(); JedisPool jedisPool2 = JedisPoolUtil.getJedisPoolInstance(); System.out.println(jedisPool == jedisPool2); Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); jedis.set("aa","bb"); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125;finally&#123; JedisPoolUtil.release(jedisPool, jedis); &#125; &#125;&#125; TestTX123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package com.atguigu.redis.test;import redis.clients.jedis.Jedis;import redis.clients.jedis.Transaction;public class TestTX &#123; public boolean transMethod() throws InterruptedException &#123; Jedis jedis = new Jedis("127.0.0.1", 6379); int balance;// å¯ç”¨ä½™é¢ int debt;// æ¬ é¢ int amtToSubtract = 10;// å®žåˆ·é¢åº¦ jedis.watch("balance"); //jedis.set("balance","5");//æ­¤å¥ä¸è¯¥å‡ºçŽ°ï¼Œè®²è¯¾æ–¹ä¾¿ã€‚æ¨¡æ‹Ÿå…¶ä»–ç¨‹åºå·²ç»ä¿®æ”¹äº†è¯¥æ¡ç›® Thread.sleep(7000); balance = Integer.parseInt(jedis.get("balance")); if (balance &lt; amtToSubtract) &#123; jedis.unwatch(); System.out.println("modify"); return false; &#125; else &#123; System.out.println("***********transaction"); Transaction transaction = jedis.multi(); transaction.decrBy("balance", amtToSubtract); transaction.incrBy("debt", amtToSubtract); transaction.exec(); balance = Integer.parseInt(jedis.get("balance")); debt = Integer.parseInt(jedis.get("debt")); System.out.println("*******" + balance); System.out.println("*******" + debt); return true; &#125; &#125; /** * é€šä¿—ç‚¹è®²ï¼Œwatchå‘½ä»¤å°±æ˜¯æ ‡è®°ä¸€ä¸ªé”®ï¼Œå¦‚æžœæ ‡è®°äº†ä¸€ä¸ªé”®ï¼Œ * åœ¨æäº¤äº‹åŠ¡å‰å¦‚æžœè¯¥é”®è¢«åˆ«äººä¿®æ”¹è¿‡ï¼Œé‚£äº‹åŠ¡å°±ä¼šå¤±è´¥ï¼Œè¿™ç§æƒ…å†µé€šå¸¸å¯ä»¥åœ¨ç¨‹åºä¸­ * é‡æ–°å†å°è¯•ä¸€æ¬¡ã€‚ * é¦–å…ˆæ ‡è®°äº†é”®balanceï¼Œç„¶åŽæ£€æŸ¥ä½™é¢æ˜¯å¦è¶³å¤Ÿï¼Œä¸è¶³å°±å–æ¶ˆæ ‡è®°ï¼Œå¹¶ä¸åšæ‰£å‡ï¼› * è¶³å¤Ÿçš„è¯ï¼Œå°±å¯åŠ¨äº‹åŠ¡è¿›è¡Œæ›´æ–°æ“ä½œï¼Œ * å¦‚æžœåœ¨æ­¤æœŸé—´é”®balanceè¢«å…¶å®ƒäººä¿®æ”¹ï¼Œ é‚£åœ¨æäº¤äº‹åŠ¡ï¼ˆæ‰§è¡Œexecï¼‰æ—¶å°±ä¼šæŠ¥é”™ï¼Œ * ç¨‹åºä¸­é€šå¸¸å¯ä»¥æ•èŽ·è¿™ç±»é”™è¯¯å†é‡æ–°æ‰§è¡Œä¸€æ¬¡ï¼Œç›´åˆ°æˆåŠŸã€‚ * @throws InterruptedException */ public static void main(String[] args) throws InterruptedException &#123; TestTX test = new TestTX(); boolean retValue = test.transMethod(); System.out.println("main retValue-------: " + retValue); &#125; &#125; 123456789101112131415161718192021CAPç†è®ºå°±æ˜¯è¯´åœ¨åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œæœ€å¤šåªèƒ½å®žçŽ°ä¸Šé¢çš„ä¸¤ç‚¹ã€‚è€Œç”±äºŽå½“å‰çš„ç½‘ç»œç¡¬ä»¶è‚¯å®šä¼šå‡ºçŽ°å»¶è¿Ÿä¸¢åŒ…ç­‰é—®é¢˜ï¼Œæ‰€ä»¥åˆ†åŒºå®¹å¿æ€§æ˜¯æˆ‘ä»¬å¿…é¡»éœ€è¦å®žçŽ°çš„ã€‚æ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œæ²¡æœ‰NoSQLç³»ç»Ÿèƒ½åŒæ—¶ä¿è¯è¿™ä¸‰ç‚¹ã€‚=======================================================================================================================C:å¼ºä¸€è‡´æ€§ Aï¼šé«˜å¯ç”¨æ€§ Pï¼šåˆ†å¸ƒå¼å®¹å¿æ€§CA ä¼ ç»ŸOracleæ•°æ®åº“ AP å¤§å¤šæ•°ç½‘ç«™æž¶æž„çš„é€‰æ‹© CP Redisã€Mongodb æ³¨æ„ï¼šåˆ†å¸ƒå¼æž¶æž„çš„æ—¶å€™å¿…é¡»åšå‡ºå–èˆã€‚ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ä¹‹é—´å–ä¸€ä¸ªå¹³è¡¡ã€‚å¤šä½™å¤§å¤šæ•°webåº”ç”¨ï¼Œå…¶å®žå¹¶ä¸éœ€è¦å¼ºä¸€è‡´æ€§ã€‚å› æ­¤ç‰ºç‰²Cæ¢å–Pï¼Œè¿™æ˜¯ç›®å‰åˆ†å¸ƒå¼æ•°æ®åº“äº§å“çš„æ–¹å‘=======================================================================================================================ä¸€è‡´æ€§ä¸Žå¯ç”¨æ€§çš„å†³æ‹©å¯¹äºŽweb2.0ç½‘ç«™æ¥è¯´ï¼Œå…³ç³»æ•°æ®åº“çš„å¾ˆå¤šä¸»è¦ç‰¹æ€§å´å¾€å¾€æ— ç”¨æ­¦ä¹‹åœ°æ•°æ®åº“äº‹åŠ¡ä¸€è‡´æ€§éœ€æ±‚ å¾ˆå¤šwebå®žæ—¶ç³»ç»Ÿå¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„æ•°æ®åº“äº‹åŠ¡ï¼Œå¯¹è¯»ä¸€è‡´æ€§çš„è¦æ±‚å¾ˆä½Žï¼Œ æœ‰äº›åœºåˆå¯¹å†™ä¸€è‡´æ€§è¦æ±‚å¹¶ä¸é«˜ã€‚å…è®¸å®žçŽ°æœ€ç»ˆä¸€è‡´æ€§ã€‚æ•°æ®åº“çš„å†™å®žæ—¶æ€§å’Œè¯»å®žæ—¶æ€§éœ€æ±‚å¯¹å…³ç³»æ•°æ®åº“æ¥è¯´ï¼Œæ’å…¥ä¸€æ¡æ•°æ®ä¹‹åŽç«‹åˆ»æŸ¥è¯¢ï¼Œæ˜¯è‚¯å®šå¯ä»¥è¯»å‡ºæ¥è¿™æ¡æ•°æ®çš„ï¼Œä½†æ˜¯å¯¹äºŽå¾ˆå¤šwebåº”ç”¨æ¥è¯´ï¼Œå¹¶ä¸è¦æ±‚è¿™ä¹ˆé«˜çš„å®žæ—¶æ€§ï¼Œæ¯”æ–¹è¯´å‘ä¸€æ¡æ¶ˆæ¯ä¹‹ åŽï¼Œè¿‡å‡ ç§’ä¹ƒè‡³åå‡ ç§’ä¹‹åŽï¼Œæˆ‘çš„è®¢é˜…è€…æ‰çœ‹åˆ°è¿™æ¡åŠ¨æ€æ˜¯å®Œå…¨å¯ä»¥æŽ¥å—çš„ã€‚å¯¹å¤æ‚çš„SQLæŸ¥è¯¢ï¼Œç‰¹åˆ«æ˜¯å¤šè¡¨å…³è”æŸ¥è¯¢çš„éœ€æ±‚ ä»»ä½•å¤§æ•°æ®é‡çš„webç³»ç»Ÿï¼Œéƒ½éžå¸¸å¿Œè®³å¤šä¸ªå¤§è¡¨çš„å…³è”æŸ¥è¯¢ï¼Œä»¥åŠå¤æ‚çš„æ•°æ®åˆ†æžç±»åž‹çš„æŠ¥è¡¨æŸ¥è¯¢ï¼Œç‰¹åˆ«æ˜¯SNSç±»åž‹çš„ç½‘ç«™ï¼Œä»Žéœ€æ±‚ä»¥åŠäº§å“è®¾è®¡è§’ åº¦ï¼Œå°±é¿å…äº†è¿™ç§æƒ…å†µçš„äº§ç”Ÿã€‚å¾€å¾€æ›´å¤šçš„åªæ˜¯å•è¡¨çš„ä¸»é”®æŸ¥è¯¢ï¼Œä»¥åŠå•è¡¨çš„ç®€å•æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ï¼ŒSQLçš„åŠŸèƒ½è¢«æžå¤§çš„å¼±åŒ–äº†ã€‚ 1234567 CAPç†è®ºçš„æ ¸å¿ƒæ˜¯ï¼šä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶å¾ˆå¥½çš„æ»¡è¶³ä¸€è‡´æ€§ï¼Œå¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™æ€§è¿™ä¸‰ä¸ªéœ€æ±‚ï¼Œæœ€å¤šåªèƒ½åŒæ—¶è¾ƒå¥½çš„æ»¡è¶³ä¸¤ä¸ªã€‚å› æ­¤ï¼Œæ ¹æ® CAP åŽŸç†å°† NoSQL æ•°æ®åº“åˆ†æˆäº†æ»¡è¶³ CA åŽŸåˆ™ã€æ»¡è¶³ CP åŽŸåˆ™å’Œæ»¡è¶³ AP åŽŸåˆ™ä¸‰ å¤§ç±»ï¼šCA - å•ç‚¹é›†ç¾¤ï¼Œæ»¡è¶³ä¸€è‡´æ€§ï¼Œå¯ç”¨æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸åœ¨å¯æ‰©å±•æ€§ä¸Šä¸å¤ªå¼ºå¤§ã€‚CP - æ»¡è¶³ä¸€è‡´æ€§ï¼Œåˆ†åŒºå®¹å¿å¿…çš„ç³»ç»Ÿï¼Œé€šå¸¸æ€§èƒ½ä¸æ˜¯ç‰¹åˆ«é«˜ã€‚AP - æ»¡è¶³å¯ç”¨æ€§ï¼Œåˆ†åŒºå®¹å¿æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸å¯èƒ½å¯¹ä¸€è‡´æ€§è¦æ±‚ä½Žä¸€äº›ã€‚ï¿¼ 123456BASEå°±æ˜¯ä¸ºäº†è§£å†³å…³ç³»æ•°æ®åº“å¼ºä¸€è‡´æ€§å¼•èµ·çš„é—®é¢˜è€Œå¼•èµ·çš„å¯ç”¨æ€§é™ä½Žè€Œæå‡ºçš„è§£å†³æ–¹æ¡ˆã€‚BASEå…¶å®žæ˜¯ä¸‹é¢ä¸‰ä¸ªæœ¯è¯­çš„ç¼©å†™ï¼š åŸºæœ¬å¯ç”¨ï¼ˆBasically Availableï¼‰ è½¯çŠ¶æ€ï¼ˆSoft stateï¼‰ æœ€ç»ˆä¸€è‡´ï¼ˆEventually consistentï¼‰å®ƒçš„æ€æƒ³æ˜¯é€šè¿‡è®©ç³»ç»Ÿæ”¾æ¾å¯¹æŸä¸€æ—¶åˆ»æ•°æ®ä¸€è‡´æ€§çš„è¦æ±‚æ¥æ¢å–ç³»ç»Ÿæ•´ä½“ä¼¸ç¼©æ€§å’Œæ€§èƒ½ä¸Šæ”¹è§‚ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œç¼˜ç”±å°±åœ¨äºŽå¤§åž‹ç³»ç»Ÿå¾€å¾€ç”±äºŽåœ°åŸŸåˆ†å¸ƒå’Œæžé«˜æ€§èƒ½çš„è¦æ±‚ï¼Œä¸å¯èƒ½é‡‡ç”¨åˆ†å¸ƒå¼äº‹åŠ¡æ¥å®Œæˆè¿™äº›æŒ‡æ ‡ï¼Œè¦æƒ³èŽ·å¾—è¿™äº›æŒ‡æ ‡ï¼Œæˆ‘ä»¬å¿…é¡»é‡‡ç”¨å¦å¤–ä¸€ç§æ–¹å¼æ¥å®Œæˆï¼Œè¿™é‡ŒBASEå°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠžæ³• 123456åˆ†å¸ƒå¼ç³»ç»Ÿåˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆdistributed systemï¼‰ ç”±å¤šå°è®¡ç®—æœºå’Œé€šä¿¡çš„è½¯ä»¶ç»„ä»¶é€šè¿‡è®¡ç®—æœºç½‘ç»œè¿žæŽ¥ï¼ˆæœ¬åœ°ç½‘ç»œæˆ–å¹¿åŸŸç½‘ï¼‰ç»„æˆã€‚åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯å»ºç«‹åœ¨ç½‘ç»œä¹‹ä¸Šçš„è½¯ä»¶ç³»ç»Ÿã€‚æ­£æ˜¯å› ä¸ºè½¯ä»¶çš„ç‰¹æ€§ï¼Œæ‰€ä»¥åˆ†å¸ƒå¼ç³»ç»Ÿå…·æœ‰é«˜åº¦çš„å†…èšæ€§å’Œé€æ˜Žæ€§ã€‚å› æ­¤ï¼Œç½‘ç»œå’Œåˆ†å¸ƒå¼ç³»ç»Ÿä¹‹é—´çš„åŒºåˆ«æ›´å¤šçš„åœ¨äºŽé«˜å±‚è½¯ä»¶ï¼ˆç‰¹åˆ«æ˜¯æ“ä½œç³»ç»Ÿï¼‰ï¼Œè€Œä¸æ˜¯ç¡¬ä»¶ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿå¯ä»¥åº”ç”¨åœ¨åœ¨ä¸åŒçš„å¹³å°ä¸Šå¦‚ï¼šPcã€å·¥ä½œç«™ã€å±€åŸŸç½‘å’Œå¹¿åŸŸç½‘ä¸Šç­‰ã€‚ç®€å•æ¥è®²ï¼š1åˆ†å¸ƒå¼ï¼šä¸åŒçš„å¤šå°æœåŠ¡å™¨ä¸Šé¢éƒ¨ç½²ä¸åŒçš„æœåŠ¡æ¨¡å—ï¼ˆå·¥ç¨‹ï¼‰ï¼Œä»–ä»¬ä¹‹é—´é€šè¿‡Rpc/Rmiä¹‹é—´é€šä¿¡å’Œè°ƒç”¨ï¼Œå¯¹å¤–æä¾›æœåŠ¡å’Œç»„å†…åä½œã€‚2é›†ç¾¤ï¼šä¸åŒçš„å¤šå°æœåŠ¡å™¨ä¸Šé¢éƒ¨ç½²ç›¸åŒçš„æœåŠ¡æ¨¡å—ï¼Œé€šè¿‡åˆ†å¸ƒå¼è°ƒåº¦è½¯ä»¶è¿›è¡Œç»Ÿä¸€çš„è°ƒåº¦ï¼Œå¯¹å¤–æä¾›æœåŠ¡å’Œè®¿é—®ã€‚]]></content>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git]]></title>
    <url>%2F2018%2F12%2F21%2FGit%20Maven%20%2FGit%2F</url>
    <content type="text"><![CDATA[GitHubåˆ›å»ºä»“åº“æç¤ºä»£ç 123456echo &quot;# é¡¹ç›®å&quot; &gt;&gt; README.mdgit initgit add README.mdgit commit -m &quot;first commit&quot;git remote add origin git@github.com:qiubaiying/é¡¹ç›®å.gitgit push -u origin master è‹¥ä»“åº“å­˜åœ¨ç›´æŽ¥push: 12git remote add origin git@github.com:qiubaiying/test.gitgit push -u origin master å¸¸ç”¨æ“ä½œåˆ›å»ºä»“åº“ï¼ˆåˆå§‹åŒ–)123456åœ¨å½“å‰æŒ‡å®šç›®å½•ä¸‹åˆ›å»ºgit initæ–°å»ºä¸€ä¸ªä»“åº“ç›®å½•git init [project-name]å…‹éš†ä¸€ä¸ªè¿œç¨‹é¡¹ç›®git clone [url] ##æ·»åŠ æ–‡ä»¶åˆ°ç¼“å­˜åŒº 12345æ·»åŠ æ‰€æœ‰å˜åŒ–çš„æ–‡ä»¶ git add .æ·»åŠ åç§°æŒ‡å®šæ–‡ä»¶git add text.txt é…ç½®123è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯git config [--global] user.name &quot;[name]&quot;git config [--global] user.email &quot;[email address]&quot; æäº¤123456789101112131415161718æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒºgit commit -m &quot;msg&quot;# æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº$ git commit [file1] [file2] ... -m [message]# æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åŽçš„å˜åŒ–ï¼Œç›´æŽ¥åˆ°ä»“åº“åŒº$ git commit -a# æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯$ git commit -v# ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤# å¦‚æžœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯$ git commit --amend -m [message]# é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–$ git commit --amend [file1] [file2] ... è¿œç¨‹åŒæ­¥1234567891011121314151617181920212223# ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨$ git fetch [remote]# æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“$ git remote -v# æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯$ git remote show [remote]# å¢žåŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å$ git remote add [shortname] [url]# å–å›žè¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸Žæœ¬åœ°åˆ†æ”¯åˆå¹¶$ git pull [remote] [branch]# ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“$ git push [remote] [branch]# å¼ºè¡ŒæŽ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª$ git push [remote] --force# æŽ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“$ git push [remote] --all åˆ†æ”¯123456789101112131415161718192021222324252627282930313233343536373839404142# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯$ git branch# åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯$ git branch -r# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯$ git branch -a# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯$ git branch [branch-name]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯$ git checkout -b [branch]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit$ git branch [branch] [commit]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸ŽæŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»$ git branch --track [branch] [remote-branch]# åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº$ git checkout [branch-name]# åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯$ git checkout -# å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨çŽ°æœ‰åˆ†æ”¯ä¸ŽæŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´$ git branch --set-upstream [branch] [remote-branch]# åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯$ git merge [branch]# é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯$ git cherry-pick [commit]# åˆ é™¤åˆ†æ”¯$ git branch -d [branch-name]# åˆ é™¤è¿œç¨‹åˆ†æ”¯$ git push origin --delete [branch-name]$ git branch -dr [remote/branch] ##æ ‡ç­¾Tags 1234567891011121314151617181920212223æ·»åŠ æ ‡ç­¾ åœ¨å½“å‰commitgit tag -a v1.0 -m &apos;xxx&apos; æ·»åŠ æ ‡ç­¾ åœ¨æŒ‡å®šcommitgit tag v1.0 [commit]æŸ¥çœ‹git tagåˆ é™¤git tag -d V1.0åˆ é™¤è¿œç¨‹taggit push origin :refs/tags/[tagName]æŽ¨é€git push origin --tagsæ‹‰å–git fetch origin tag V1.0æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtaggit checkout -b [branch] [tag] æŸ¥çœ‹ä¿¡æ¯123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960# æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶$ git status# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬åŽ†å²$ git log# æ˜¾ç¤ºcommitåŽ†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶$ git log --stat# æœç´¢æäº¤åŽ†å²ï¼Œæ ¹æ®å…³é”®è¯$ git log -S [keyword]# æ˜¾ç¤ºæŸä¸ªcommitä¹‹åŽçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ$ git log [tag] HEAD --pretty=format:%s# æ˜¾ç¤ºæŸä¸ªcommitä¹‹åŽçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶&quot;æäº¤è¯´æ˜Ž&quot;å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶$ git log [tag] HEAD --grep feature# æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬åŽ†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å$ git log --follow [file]$ git whatchanged [file]# æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff$ git log -p [file]# æ˜¾ç¤ºè¿‡åŽ»5æ¬¡æäº¤$ git log -5 --pretty --oneline# æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æŽ’åº$ git shortlog -sn# æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡$ git blame [file]# æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚$ git diff# æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚$ git diff --cached [file]# æ˜¾ç¤ºå·¥ä½œåŒºä¸Žå½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚$ git diff HEAD# æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚$ git diff [first-branch]...[second-branch]# æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç $ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;# æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–$ git show [commit]# æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶$ git show --name-only [commit]# æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹$ git show [commit]:[filename]# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤$ git reflog æ’¤é”€12345678910111213141516171819202122232425262728293031# æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout [file]# æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº$ git checkout [commit] [file]# æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout .# é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸Žä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜$ git reset [file]# é‡ç½®æš‚å­˜åŒºä¸Žå·¥ä½œåŒºï¼Œä¸Žä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´$ git reset --hard# é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜$ git reset [commit]# é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸ŽæŒ‡å®šcommitä¸€è‡´$ git reset --hard [commit]# é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜$ git reset --keep [commit]# æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit# åŽè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯$ git revert [commit]# æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åŽå†ç§»å…¥$ git stash$ git stash pop å…¶ä»–12# ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„åŽ‹ç¼©åŒ…$ git archives]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf]]></title>
    <url>%2F2018%2F12%2F19%2FJSP%20Servlet%20Thyme%2FThymeleaf%2F</url>
    <content type="text"><![CDATA[#Thymeleafä¸­å–å€¼ reservationï¼š$. {reservations}å…¶ä¸­${reservations}çš„å€¼æ˜¯modeandviewé‡Œé¢çš„ #reservationçš„å€¼æ˜¯éš ä¾¿èµ·çš„å˜é‡ æ”¾åœ¨reservationé‡Œé¢ â€“è¡¨æ ¼ 123456 . ____ _ __ _ _ /\\ / ___&apos;_ __ _ _(_)_ __ __ _ \ \ \ \( ( )\___ | &apos;_ | &apos;_| | &apos;_ \/ _` | \ \ \ \ \\/ ___)| |_)| | | | | || (_| | ) ) ) ) &apos; |____| .__|_| |_|_| |_\__, | / / / / =========|_|==============|___/=/_/_/_/]]></content>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Html]]></title>
    <url>%2F2018%2F12%2F19%2FHTML%2BCSS%2BJS%2FHTML%2F</url>
    <content type="text"><![CDATA[/hexo/source/_posts/JVM/JVMåœ£æ€æº.md]]></content>
      <tags>
        <tag>Html</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2018%2F12%2F15%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2F%E7%94%B5%E5%BD%B1%2F</url>
    <content type="text"><![CDATA[é‚ªä¸åŽ‹æ­£æ‰¾åˆ°ä½ è®©å­å¼¹é£žä½ å¥½ ä¹‹åŽäººä¸å½ªæ‚æž‰å°‘å¹´#æˆ‘ä¸æ˜¯è¯ç¥žä»™ å½±ä¸€æœ¬å¥½ä¹¦åŠŸå¤«æ¥ç”µç‹‚å“]]></content>
  </entry>
  <entry>
    <title><![CDATA[for å¾ªçŽ¯]]></title>
    <url>%2F2018%2F12%2F15%2Fjava%E5%9F%BA%E7%A1%80%2Ffor%E5%BE%AA%E7%8E%AF%E8%AE%B2%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[for å¾ªçŽ¯ å¤§åœˆå¥—å°åœˆ#1.1forå¾ªçŽ¯æ€æƒ³ 123456789public class code4 &#123; public static void main(String[] args) &#123; for (int x = 0; x &lt; 3; x++) &#123; for (int y = 0; y &lt; 4; y++) &#123; System.out.println("ok"); &#125; &#125; &#125;&#125; è¯»ç¬¬ä¸€ä¸ªforå¾ªçŽ¯åˆå§‹åŒ–ä¸€ä¸ªx å˜é‡x=0ï¼š â€‹ å…ˆæ‰§è¡Œx=0; æ‰§è¡Œx&lt;3æ»¡è¶³æ¡ä»¶â€”&gt; æ‰§è¡Œç¬¬äºŒä¸ªforå¾ªçŽ¯è¯­å¥åˆå§‹åŒ–ä¸€ä¸ªå˜é‡y=0; â€‹ å…ˆæ‰§è¡Œy=0;æ‰§è¡Œy&lt;4æ»¡è¶³æ¡ä»¶â€“&gt;æ‰“å°ä¸€æ¬¡ok å½“å†…å¾ªçŽ¯æ²¡æœ‰ç»“æŸæ—¶å¾ªçŽ¯å‡ºä¸åŽ»æ‰§è¡Œâ€“&gt;y++;æ‰“å°å››æ¬¡okï¼› y++=4æ—¶å€™y&lt;4ä¸æˆç«‹ è·³å‡ºå¾ªçŽ¯ yåœ¨å†…å­˜ä¸­æ¶ˆå¤± â€“&gt;æ‰§è¡Œâ€“x++ æ»¡è¶³æ¡ä»¶ åˆäº§ç”Ÿä¸€ä¸ªy=0,å†…å¾ªçŽ¯ç»§ç»­å¾ªçŽ¯å››æ¬¡ æ‰€ä»¥ä¸€å…±æ‰“å°12ä¸ªok #1.2éªŒè¯docå‘½ä»¤è¡Œ 123456789101112131415161718public class code5 &#123;/** * forå¾ªçŽ¯åŸºæœ¬æ€æƒ³demo1 * è¾“å‡ºï¼š * ***** * ***** * ***** * ***** */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 4; i++) &#123; for (int j = 0; j &lt; 5; j++) &#123; System.out.print("*"); &#125; System.out.println(); &#125; &#125;&#125; i æŽ§åˆ¶è¡Œ ç¬¬ä¸€ä¸ªforå¾ªçŽ¯ jæŽ§åˆ¶åˆ— ç¬¬äºŒä¸ªforå¾ªçŽ¯ ï¼ˆæ¯ä¸€åˆ—çš„ä¸ªæ•°ï¼‰ #1.3éªŒè¯docå‘½ä»¤è¡Œ 123456789101112131415161718public class code6 &#123; /** è¾“å‡ºdocç•Œé¢ï¼š * ***** * **** * *** * ** * * */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 5; i++) &#123; for (int j = i; j &lt; 5; j++) &#123; System.out.print("*"); &#125; System.out.println(); &#125; &#125;&#125; åˆ†æžï¼š #1.4éªŒè¯doc 123456789101112131415161718public class code7 &#123; /** * * * ** * *** * **** * ***** */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 5; i++) &#123; for (int j = 0; j &lt;= i; j++) &#123; System.out.print("*"); &#125; System.out.println(); &#125; &#125;&#125; #1.5éªŒè¯docâ­ï¸ 1234567891011121314151617public class code8 &#123; /** * 54321 * 5432 * 543 * 54 * 5 */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 5; i++) &#123; for (int j = 5; j &gt; i; j--) &#123; System.out.print(j); &#125; System.out.println(); &#125; &#125;&#125; int j=5 j&gt;i jâ€“ å…¶ä¸­jâ€”æ˜¯å…³é”® 123456789101112131415161718public class code9 &#123; /** * 1 * 22 * 333 * 4444 * 55555 */ public static void main(String[] args) &#123; for (int i = 1; i &lt;= 5; i++) &#123; for (int j = 1; j &lt;=i; j++) &#123; System.out.print(i); &#125; System.out.println(); &#125; &#125;&#125; 1234567891011121314151617181920212223242526public class code10 &#123; /** * * * * * * * * -* * * * * --* * * * ---* * * ----* * ç”±ä¸¤ä¸ªå›¾å½¢ç»„æˆä¸€ä¸ªç”±å‘ä¸‹çš„*ç»„æˆ * ä¸€ä¸ªç”±å‘ä¸Šçš„â€”â€”ç»„æˆ */ public static void main(String[] args) &#123; for (int i = 1; i &lt;= 5; i++) &#123; for (int j = 1; j &lt;= i; j++) &#123; System.out.print(" "); &#125; for (int z = i; z&lt;=5 ; z++) &#123; System.out.print("* "); &#125;System.out.println(); &#125; &#125;&#125; åˆ†æžï¼š #1.6ä½œ ä¸šï¼šæ‰“å° 123456789101112131415161718public class code8 &#123; /** * 54321 * 5432 * 543 * 54 * 5 */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 5; i++) &#123; for (int j = 5; j &gt;i; j--) &#123; System.out.print(j); &#125;System.out.println(); &#125; &#125;&#125; åˆ†æžï¼š è§„å¾‹ï¼šforå†…å¾ªçŽ¯ å¦‚æžœji å¹¶ä¸”è®©jâ€“ 1234567891011121314151617public class code9 &#123; /** * 1 * 22 * 333 * 4444 * 55555 */ public static void main(String[] args) &#123; for (int i = 1; i &lt;=5; i++) &#123; for (int j = 0; j &lt; i; j++) &#123; System.out.print(i); &#125;System.out.println(); &#125; &#125;&#125;]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jquery]]></title>
    <url>%2F2018%2F12%2F14%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%AD%A6%E4%B9%A01%2F</url>
    <content type="text"><![CDATA[1.èŽ·å–Jqueryå¯¹è±¡1234567&lt;input type="text" id="username" value="jack"/&gt;&lt;script type="text/javascript"&gt; //jqueryèŽ·å¾—æ•°æ® è¯­æ³•$&#123;"é€‰æ‹©å™¨"&#125;==Jqueryï¼ˆ"é€‰æ‹©å™¨"ï¼‰ var usernmae = $("#username"); //val() å‡½æ•° ç”¨äºŽèŽ·å¾—valueå±žæ€§çš„å€¼ jack alert(usernmae.val());&lt;/script&gt; 2.Jqueryä¸ŽDomå¯¹è±¡çš„äº’ç›¸è½¬æ¢12345678910111213141516171819202122&lt;input type="text" id="username" value="jack"/&gt;&lt;script type="text/javascript"&gt; //Jqueryå¯¹è±¡å’ŒDomå¯¹è±¡çš„è½¬æ¢ //1ã€‚ä½¿ç”¨JavascripeèŽ·å–valueçš„å€¼ var username = document.getElementById("username"); alert(username.value);//jackç”¨çš„æ˜¯å±žæ€§ //2ã€‚å°†domå¯¹è±¡ è½¬æ¢ä¸ºJqueryå¯¹è±¡ //# è¯­æ³•ï¼š$(domå¯¹è±¡) //# å»ºè®® ï¼šJqueryå¯¹è±¡å˜é‡åå­— å»ºè®®ä»¥$å¼€å¤´ var $username = $(username); alert($username.val()); //3.å°†jqueryå¯¹è±¡è½¬ä¸ºDomå¯¹è±¡ //3.1 Jqueryå¯¹è±¡å†…éƒ¨ä½¿ç”¨æ•°ç»„å­˜æ”¾æ‰€æœ‰çš„æ•°æ® å¯ä»¥é€šè¿‡æ•°ç»„çš„ä¸‹æ ‡èŽ·å–ï¼ˆç´¢å¼•ï¼‰ var username2 = $username[0]; alert(username2.value); //3.2Jqueryæä¾›å‡½æ•°get()è½¬æ¢ä¸ºdomå¯¹è±¡ var username3 = $username.get(0); alert(username3.value);&lt;/script&gt; 3. é€‰æ‹©å™¨3.1 åŸºæœ¬é€‰æ‹©å™¨ã€é‡è¦ã€‘ id ,idé€‰æ‹©å™¨ é€šè¿‡id å€¼èŽ·å¾—å…ƒç´  elementï¼Œæ ‡ç­¾é€‰æ‹©å™¨ é€šè¿‡æ ‡ç­¾åèŽ·å¾—å…ƒç´  .class ç±»é€‰æ‹©å™¨ é€šè¿‡classå€¼èŽ·å¾—å…ƒç´ ã€‚æ³¨æ„ï¼šä½¿ç”¨ç‚¹å¼€å¤´ s1,s2,â€¦ å¤šé€‰æ‹©å™¨ï¼Œå°†å¤šä¸ªé€‰æ‹©å™¨çš„ç»“æžœæ·»åŠ ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ 123456789101112131415161718192021&lt;script type="text/javascript"&gt; //window.onload=function()&#123;...&#125;åŒ¿åå‡½æ•° //jquery é¡µé¢åŠ è½½--&gt;function()åŒ¿åå‡½æ•° $(document).ready(function () &#123; &#125;); //idé€‰æ‹©å™¨ ä¸ºidç»‘å®šä¸€ä¸ªäº‹ä»¶ ç„¶åŽä¼ é€’ä¸€ä¸ªå‡½æ•° $("#btn1").click(function () &#123; $("#one").css("background-color", "#ff0") &#125;); //ç±»é€‰æ‹©å™¨ $(".btn2").click(function () &#123; $(".one").css("background-color", "#ff0"); &#125;); //å…ƒç´ é€‰æ‹©å™¨ $("div").background = "#ff2";&lt;/script&gt;&lt;input type="button" id="btn1" value="é€‰æ‹©idä¸ºoneçš„å…ƒç´ "&gt;&lt;input type="button" class="btn2" value="é€‰æ‹©idä¸ºoneçš„å…ƒç´ "&gt; 3.2å±‚çº§é€‰æ‹©å™¨ 3.3åŸºæœ¬è¿‡æ»¤é€‰æ‹©å™¨â€”â€”â€œï¼šå…³é”®å­—â€œ 123456789101112131415161718192021222324252627&lt;label for="username"&gt;&lt;/label&gt;&lt;input type="text" id="username" value="jack"/&gt;&lt;script type="text/javascript"&gt; // &lt;input type="text" value="è¯·è¾“å…¥è´¦å·" defaultValue="è¯·è¾“å…¥è´¦å·"&gt; $("input[type='text']").on("blur focus", function () &#123; //1.èŽ·å¾—é»˜è®¤å€¼ var attr = $(this).attr("defaultValue"); //2.åˆ¤æ–­æ˜¯å¦èŽ·å¾—ç„¦ç‚¹ if ($(this).is(":focus")) &#123; //2.1 èŽ·å¾—ç„¦ç‚¹ï¼Œæ¸…ç©ºvalueå€¼ ï¼Œthis å½“å‰æ‰§è¡Œå¯¹è±¡ æ˜¯domå¯¹è±¡ç”¨$(this)è½¬ä¸ºjqueryå¯¹è±¡ if ($(this).val() === attr) &#123; $(this).val(""); &#125; &#125; else &#123; //2.2å¤±åŽ»ç„¦ç‚¹ è®¾ç½®é»˜è®¤å€¼ if ($(this).val() === "") &#123; $(this).val(attr); &#125; &#125; &#125;);&lt;/script&gt;&lt;label&gt; &lt;input type="text" value="è¯·è¾“å…¥è´¦å·" defaultValue="è¯·è¾“å…¥è´¦å·"&gt; &lt;input type="text" value="è¯·è¾“å…¥è´¦å·" defaultValue="è¯·è¾“å…¥å¯†ç "&gt;&lt;/label&gt;&lt;/body&gt;&lt;/html&gt; 3.4å†…å®¹è¿‡æ»¤ 3.5å¯è§æ€§è¿‡æ»¤ ï¼ˆé‡è¦ï¼‰ 123456789101112*/// &lt;input type="button" value="é€‰å–æ‰€æœ‰å¯è§çš„divå…ƒç´ " id="bt1"&gt;$("#b1").click(function () &#123; $("div:hidden").css("background-color", "#ff0");&#125;);// &lt;input type="button" value="é€‰å–æ‰€æœ‰ä¸å¯è§çš„å…ƒç´ åˆ©ç”¨jqueryä¸­çš„showï¼ˆï¼‰å°†ä»–ä»¬æ˜¾ç¤ºå‡ºæ¥" id="bt2"&gt;$("#bt2").click(function () &#123; $("div:hidden").css("background-color", "#ff0");&#125;); 3.6å®žæˆ˜ 3.7å±žæ€§é€‰æ‹©å™¨ï¼ˆæŽŒæ¡ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Title&lt;/title&gt; &lt;script src="js/jquery-2.1.0.js"&gt;&lt;/script&gt; &lt;!--1 â­ï¸&lt;input type="button" value="é€‰å–å«æœ‰å±žæ€§titleçš„divå…ƒç´ " id="btn1"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn1").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title]").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--2&lt;input type="button" value="é€‰å–å±žæ€§titleå€¼ç­‰äºŽ"test"çš„divå…ƒç´ " id="btn2"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title='test']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--3 &lt;input type="button" value="é€‰å–å±žæ€§titleå€¼ä¸ç­‰äºŽ"test"çš„divå…ƒç´ ï¼ˆæ²¡æœ‰titleå±žæ€§çš„ä¹Ÿä¼šè¢«é€‰ä¸­ï¼‰" id="btn3"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[titleï¼='test']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--4 &lt;input type="button" value="é€‰å–å±žæ€§titleå€¼ ä»¥"te"å¼€å§‹çš„divå…ƒç´ ï¼ˆæ²¡æœ‰titleå±žæ€§çš„ä¹Ÿä¼šè¢«é€‰ä¸­ï¼‰" id="btn4"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title^='te']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--5 &lt;input type="button" value="é€‰å–å±žæ€§titleå€¼ ä»¥"est"ç»“æŸçš„divå…ƒç´ ï¼ˆæ²¡æœ‰titleå±žæ€§çš„ä¹Ÿä¼šè¢«é€‰ä¸­ï¼‰" id="btn5"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title$='est']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--6 &lt;input type="button" value="é€‰å–å±žæ€§titleå€¼ å«æœ‰"es"çš„divå…ƒç´ ï¼ˆæ²¡æœ‰titleå±žæ€§çš„ä¹Ÿä¼šè¢«é€‰ä¸­ï¼‰" id="btn5"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title*='es']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--â­ï¸7&lt;input type="button" value="ç»„åˆå±žæ€§é€‰æ‹©å™¨ é¦–å…ˆé€‰å–æœ‰å±žæ€§idçš„divå…ƒç´ ã€‚ç„¶åŽåœ¨ç»“æžœä¸­ é€‰å–title å€¼å«æœ‰"es"çš„å…ƒç´ "ï¼‰" id="btn5"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn5").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[id][title*='es']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt; 3.8é€‰æ‹©å™¨ ï¼ˆå­å…ƒç´ è¿‡æ»¤ï¼‰ 123456789101112131415&lt;!--1 &lt;input type="button" value="é€‰å–æ¯ä¸ªclassä¸ºoneçš„divçˆ¶å…ƒç´ ä¸‹çš„ç¬¬2ä¸ªå­å…ƒç´ " id="btn1"&gt;--&gt; &lt;script type="text/javascript"&gt; $("btn1").click(function () &#123; //å­å…ƒç´  é€‰æ‹©ä½¿ç”¨å‰æ è¡¨è¾¾å¼å‰é¢å¿…é¡»æ˜¯å…ƒç´  å¦‚ï¼š$(div:nth-child(2)) //å¦‚æžœå…ƒç´ ä¸Šæ·»åŠ  æ¡ä»¶ å¿…é¡»ä½¿ç”¨ç©ºæ ¼ å¦‚$("div[class='one'] :nth-child(2)") $("div[class='one'] :nth-child(2)").css("background-color", "#ff0"); $("div.one :nth-child(2)").css("background-color", "#ff0"); &#125;); /** * å¯¹æ¯”ï¼š * $("div.one") æ‰€æœ‰çš„divè‡ªå·±çš„æ ·å¼ä¸ºone * $("div .one") æ‰€æœ‰çš„divä¸­åŽä»£å…ƒç´  æ ·å¼ä¸ºone ç©ºæ ¼ */ &lt;/script&gt; 123456789101112131415161718192021222324&lt;script type="text/javascript"&gt; $("btn1").click(function () &#123; $("div.one :first-child").css("background-color", "#ff0"); &#125;); &lt;/script&gt; &lt;!--&lt;input type="button" value="å¦‚æžœclassä¸ºoneçš„divçˆ¶å…ƒç´ ä¸‹çš„ç¬¬ä¸€ä¸ªå­å…ƒç´  " id="bt4"&gt;--&gt; &lt;script type="text/javascript"&gt; $("btn4").click(function () &#123; $("div.one :first-child").css("background-color", "#ff0"); &#125;); &lt;/script&gt; &lt;!--&lt;input type="button" value="å¦‚æžœclassä¸ºoneçš„divçˆ¶å…ƒç´ ä¸‹çš„æœ€åŽä¸€ä¸ªå­å…ƒç´  " id="bt4"&gt;--&gt; &lt;script type="text/javascript"&gt; $("btn4").click(function () &#123; $("div.one :last-child").css("background-color", "#ff0"); &#125;); &lt;/script&gt; &lt;!--&lt;input type="button" value="å¦‚æžœclassä¸ºoneçš„divçˆ¶å…ƒç´ ä¸‹çš„ä»…ä»…åªæœ‰ä¸€ä¸ªå­å…ƒç´  " id="bt4"&gt;--&gt; &lt;script type="text/javascript"&gt; $("btn4").click(function () &#123; $("div.one :only-child").css("background-color", "#ff0"); &#125;); &lt;/script&gt; 3.9è¡¨å•è¿‡æ»¤é€‰æ‹©å™¨ 4 è¡¨å•å¯¹è±¡å±žæ€§è¿‡æ»¤ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081 &lt;script src="js/jquery-2.1.0.js"&gt;&lt;/script&gt; &lt;script type="text/javascript"&gt; //1. &lt;button id="btn1"&gt;å¯¹è¡¨å•å†… å¯ç”¨input enable èµ‹å€¼æ“ä½œ.&lt;/button&gt; $(document).ready(function () &#123; $("input:enabled").val("enabled"); &#125;); // 2 &lt;button id="btn2"&gt;å¯¹è¡¨å•å†… ä¸å¯ç”¨input èµ‹å€¼æ“ä½œ.&lt;/button&gt; $(document).ready(function () &#123; $("input:disabled").val("disabled"); &#125;); // 3 &lt;button id="btn3"&gt;èŽ·å–å¤šé€‰æ¡†é€‰ä¸­çš„ä¸ªæ•°.&lt;/button&gt; // &lt;input type="checkbox" name="newsletter" checked="checked" value="test1"/&gt;test1 $(document).ready(function () &#123; var s1 = $("[name='newsletter']:checked").length; // var s2 = $("[name='newsletter']:checked").size(); alert(s1) &#125;); // &lt;button id="btn4"&gt;èŽ·å–ä¸‹æ‹‰æ¡†é€‰ä¸­çš„å†…å®¹.&lt;/button&gt; $(":selected").each(function () &#123; //val()èŽ·å¾—&lt;option &gt;å¦‚æžœæ²¡æœ‰valueå€¼ å°†èŽ·å¾—textçš„å€¼ //htmlï¼ˆï¼‰èŽ·å¾—æ ‡ç­¾ä½“çš„å†…å®¹ $("#selectDivId").append($(this).val()); // $("#selectDivId").append($(this).html()); &#125;); &lt;/script&gt; ------------ ------------ ------------ ------------ ------------ &lt;/head&gt;&lt;body&gt;&lt;h3&gt; è¡¨å•å¯¹è±¡å±žæ€§è¿‡æ»¤é€‰æ‹©å™¨.&lt;/h3&gt;&lt;button type="reset"&gt;é‡ç½®æ‰€æœ‰è¡¨å•å…ƒç´ &lt;/button&gt;&lt;input type="checkbox" id="isreset" checked="checked"/&gt;&lt;label for="isreset"&gt;ç‚¹å‡»ä¸‹åˆ—æŒ‰é’®æ—¶å…ˆè‡ªåŠ¨é‡ç½®é¡µé¢&lt;/label&gt;&lt;br/&gt;&lt;br/&gt;&lt;button id="btn1"&gt;å¯¹è¡¨å•å†… å¯ç”¨input èµ‹å€¼æ“ä½œ.&lt;/button&gt;&lt;button id="btn2"&gt;å¯¹è¡¨å•å†… ä¸å¯ç”¨input èµ‹å€¼æ“ä½œ.&lt;/button&gt;&lt;button id="btn3"&gt;èŽ·å–å¤šé€‰æ¡†é€‰ä¸­çš„ä¸ªæ•°.&lt;/button&gt;&lt;button id="btn4"&gt;èŽ·å–ä¸‹æ‹‰æ¡†é€‰ä¸­çš„å†…å®¹.&lt;/button&gt;&lt;br/&gt;&lt;br/&gt;å¯ç”¨å…ƒç´ ï¼š&lt;input name="add" value="å¯ç”¨æ–‡æœ¬æ¡†"/&gt; &lt;br/&gt;ä¸å¯ç”¨å…ƒç´ ï¼š&lt;input name="email" disabled="disabled" value="ä¸å¯ç”¨æ–‡æœ¬æ¡†"/&gt;&lt;br/&gt;å¯ç”¨å…ƒç´ ï¼š &lt;input name="che" value="å¯ç”¨æ–‡æœ¬æ¡†"/&gt;&lt;br/&gt;ä¸å¯ç”¨å…ƒç´ ï¼š&lt;input name="name" disabled="disabled" value="ä¸å¯ç”¨æ–‡æœ¬æ¡†"/&gt;&lt;br/&gt;&lt;br/&gt;å¤šé€‰æ¡†ï¼š&lt;br/&gt;&lt;input type="checkbox" name="newsletter" checked="checked" value="test1"/&gt;test1&lt;input type="checkbox" name="newsletter" value="test2"/&gt;test2&lt;input type="checkbox" name="newsletter" value="test3"/&gt;test3&lt;input type="checkbox" name="newsletter" checked="checked" value="test4"/&gt;test4&lt;input type="checkbox" name="newsletter" value="test5"/&gt;test5&lt;div id="checkboxDivId"&gt;&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;ä¸‹æ‹‰åˆ—è¡¨1ï¼š&lt;br/&gt;&lt;select name="test" multiple="multiple" style="height:100px"&gt; &lt;option&gt;æµ™æ±Ÿ&lt;/option&gt; &lt;option selected="selected"&gt;æ¹–å—&lt;/option&gt; &lt;option&gt;åŒ—äº¬&lt;/option&gt; &lt;option selected="selected"&gt;å¤©æ´¥&lt;/option&gt; &lt;option&gt;å¹¿å·ž&lt;/option&gt; &lt;option&gt;æ¹–åŒ—&lt;/option&gt;&lt;/select&gt;&lt;br/&gt;&lt;br/&gt;ä¸‹æ‹‰åˆ—è¡¨2ï¼š&lt;br/&gt;&lt;select name="test2"&gt; &lt;option&gt;æµ™æ±Ÿ&lt;/option&gt; &lt;option&gt;æ¹–å—&lt;/option&gt; &lt;option selected="selected"&gt;åŒ—äº¬&lt;/option&gt; &lt;option&gt;å¤©æ´¥&lt;/option&gt; &lt;option&gt;å¹¿å·ž&lt;/option&gt; &lt;option&gt;æ¹–åŒ—&lt;/option&gt;&lt;/select&gt;&lt;br/&gt;&lt;br/&gt;&lt;div id="selectDivId"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 5 é€‰æ‹©å™¨æ¡ˆä¾‹1234567891011121314151617181920 &lt;script type="text/javascript"&gt; $(document).ready(function () &#123;//ä»Žç¬¬5ä¸ªå¼€å§‹ ä¸è¦æœ€åŽä¸€ä¸ªæŽ§åˆ¶æ˜¾ç¤ºå’Œéšè— //1 éšè— var $allLi = $("li:gt(4):not(:last)"); $allLi.hide();//2 ç‚¹å‡»æ˜¾ç¤º $("span").click(function () &#123; //$allLi.show(); // $allLi.toggle(); if ($allLi.is(":hidden")) &#123; $allLi.show(); $(this).html("éšè—"); &#125; else &#123; $allLi.hide(); $(this).html("æ˜¾ç¤º"); &#125; &#125;); &#125;); &lt;/script&gt; 6 å±žæ€§ CSS 123456789&lt;script type="text/javascript"&gt; $(document).ready(function () &#123; //1.è®¾ç½®å§“åæ–‡æœ¬æ¡†ä¸å¯ç”¨ // &lt;input type="text" name="username" class="textClass" value="jack"/&gt; $("[name='username']").attr("disabled", "disabled"); // 2 .è®¾ç½®å§“åæ–‡æœ¬æ¡†å¯ç”¨ ç§»é™¤å±žæ€§ $("[name='username']").removeAttr("disabled"); &#125;);&lt;/script&gt; CSS ç±» 123456789 //text /html alert($("div").text());// æœªæ»¡18æ…Žè¿› alert($("div").html());//&lt;a&gt;æœªæ»¡18æ…Žè¿›&lt;/a&gt;alert($("div").html());//&lt;a&gt;æœªæ»¡18æ…Žè¿›&lt;/a&gt; $("div").text("&lt;a href='Demo5.html'&gt;ä½ ç‚¹æˆ‘å‘€&lt;/a&gt;");// æœªæ»¡18æ…Žè¿› $("div").html("&lt;a href='Demo5.html'&gt;ä½ ç‚¹æˆ‘å‘€&lt;/a&gt;");//&lt;a&gt;æœªæ»¡18æ…Žè¿›&lt;/a&gt; &#125;);&lt;/script&gt; 7 CSS12345678/è®¾ç½®CSS $("div").css(&#123; "width": "200px", "height": "222px", "font-size": "60px", "color": "#f00", &#125;); 8 æ–‡æ¡£å¤„ç†8.1 å†…éƒ¨æ’å…¥ã€ŒæŽŒæ¡ã€ å®žæˆ˜ï¼š 8.2 å¤–éƒ¨æ’å…¥ã€ŒæŽŒæ¡ã€ å®žæˆ˜ï¼š 8.3 åˆ é™¤ ã€ŒæŽŒæ¡ã€ 1234567891011121314&lt;script type="text/javascript"&gt; //å°†cityç§»é™¤ åœ¨è¿½åŠ åˆ°bodyåŽé¢ //1.ç»‘å®šäº‹ä»¶ $(document).ready(function () &#123; //2.ç»‘å®šæ•°æ® $("#city").data("ithe", "åŽ‰å®³"); //1ã€‚ç§»é™¤ var $city = $("#city").remove(); //var $city = $("#city").detach();//ä¿ç•™ç»‘å®šçš„äº‹ä»¶ //2 è¿½åŠ  $("body").append($city); //3 èŽ·å¾—ç»‘å®šçš„æ•°æ® alert($("#city").data("ithe")); &#125;); 9.æ–‡æ¡£å¤„ç† å…‹éš† æ›¿æ¢åŒ…è£¹ Day 02 123456789101112131415&lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#left1").click(function () &#123; $("#leftSelectId option:first").appendTo("#rightSelectId") &#125;); $("#left2").click(function () &#123; //é€‰ä¸­å“ªä¸€ä¸ª å°±è¿‡å“ªä¸€ä¸ª $("#leftSelectId option:selected").appendTo("#rightSelectId") &#125;); $("#left3").click(function () &#123; $("#leftSelectId option").appendTo("#rightSelectId") &#125;); &#125;); &lt;/script&gt; 10 ç­›é€‰è¿‡æ»¤ é€‰æ‹©å™¨å¯ä»¥å®ŒæˆåŠŸèƒ½ ç­›é€‰æä¾›ç›¸åŒçš„å‡½æ•° æŸ¥æ‰¾ ä¸²è” å°†å¤šæ¡è¯­å¥æ”¹æˆä¸€æ¡ å¾—ç‘Ÿä»£ç  æ¡ˆä¾‹ï¼šQQåˆ†ç»„ 11 äº‹ä»¶å¸¸è§äº‹ä»¶ é¡µé¢åŠ è½½ äº‹ä»¶ç»‘å®š[é‡è¦] å§”æ´¾ åˆ‡æ¢ 12 åŠ¨ç”»æ•ˆæžœ 13 Ajaxã€Œé‡è¦ æŽŒæ¡ã€ å¼‚æ­¥åˆ·æ–° Load()å‡½æ•°1234567891011121314151617181920212223242526$(function () &#123; $("input").click(function () &#123; var url = "/"; var params = &#123;"username": "jack", "password": "1234"&#125;; /** * load()å‡½æ•° å¿…é¡»ä½¿ç”¨jqueryå¯¹è±¡ * æ ¼å¼load(url,[data],[callback]) * å‚æ•°1ï¼šurl è¯·æ±‚è·¯å¾„ * å‚æ•°2ï¼šdata è¯·æ±‚å‚æ•° * å‚æ•°3ï¼šcallback å›žè°ƒå‡½æ•° * *å¦‚æžœæ²¡æœ‰è¯·æ±‚å‚æ•° å‘é€çš„GETè¯·æ±‚ * *å¦‚æžœæœ‰è¯·æ±‚å‚æ•° å‘é€çš„POSTè¯·æ±‚ è¯·æ±‚æ²¡æœ‰ä¸­æ–‡ä¹±ç ï¼› *å›žè°ƒå‡½æ•°çš„å‚æ•° * ï¼šå‚æ•°1 dataå“åº”æ•°æ® load()æ°¸è¿œèŽ·å¾—å­—ç¬¦ä¸² å¦‚æžœéœ€è¦ä½¿ç”¨ * å¿…é¡»æ‰‹åŠ¨è½¬æ¢æˆjsonæ ¼å¼ï¼› * */ $(this).load(url, params, function (data) &#123; //è½¬æ¢JSONå¯¹è±¡ var jsonData = eval("(" + data + ")"); alert(jsonData.message); &#125;); &#125;); &#125;) $.post $.$.get1234567891011121314151617181920212223242526272829303132 /** * $.get() å…¨å±€å‡½æ•° å‘é€getè¯·æ±‚ * *æ ¼å¼ jquery.get(URl,[data],[callback],[type]) * *å‚æ•°4 type * *GETè¯·æ±‚ä¸é€‚åˆå‘é€ä¸­æ–‡æ•°æ® å­˜æ”¾è¯·æ±‚çš„ä¸­æ–‡ä¹±ç  * å¿…é¡»æ‰‹åŠ¨è§£ç  new String(username,getBytes("ISO-8859-1",UTF-8")) å“åº”æ•°æ® å¦‚æžœä½¿ç”¨application/jsonï¼›charset=UTF-8,jqueryè‡ªåŠ¨å°†æ•°æ®è½¬æ¢JSONå¯¹è±¡ å“åº”æ•°æ® å¦‚æžœä½¿ç”¨text/htmlï¼›charset=UTF-8 ï¼Œå›žè°ƒå‡½æ•°èŽ·å¾—å­—ç¬¦ä¸²æ•°æ® éœ€è¦æ‰‹åŠ¨è½¬æ¢ ä½¿ç”¨"å‚æ•°4" è®¾ç½®"json" Jqueryå°†å­—ç¬¦ä¸² è½¬æ¢ä¸ºjsonå¯¹è±¡ */ $.get(url, params, function () &#123; alert(data); &#125;, "json"); /** * post()å…¨å±€å‡½æ•° å‘é€postè¯·æ±‚ * * æ ¼å¼ï¼šjquery.post(url,data[],[callback],[type]) $.post(url,params,function(data)&#123; alert(data); &#125;,"json") */ $.post(utl, params, function (data) &#123; alert(data); &#125;, "json") &#125;);&#125;) $.ajax()$ 1234567891011121314151617181920212223242526272829$(function () &#123; $("input").click(function () &#123; /** * 4.$.ajax() åº•å±‚åŠŸèƒ½æœ€å¼ºå¤§çš„ * æ ¼å¼ Jquery.ajaxï¼ˆ[settings]ï¼‰ * å‚æ•° settings:è®¾ç½®æ‰€æœ‰çš„å‚æ•° * url:å‘é€è¯·æ±‚çš„åœ°å€ * data:å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ® è¯·æ±‚å‚æ•°ï¼Œ * type: è¯·æ±‚æ–¹å¼ï¼ˆ"POST"æˆ–"GET"ï¼‰ï¼Œ * * success:æˆåŠŸçš„å›žè°ƒå‡½æ•° * error é”™è¯¯å‡½æ•° * dateType:å“åº”æ•°æ®ç±»åž‹ */ $.ajax(&#123; "url": "/", "data": "params", "type": "POST", "success": function (data) &#123; alert(data); &#125;, "error": function () &#123; alert("æœåŠ¡å™¨ç¹å¿™") &#125;, "dateType": "json" &#125;); &#125;); &#125;) å¤„ç†å®žæˆ˜123456789101112131415161718192021222324252627282930313233343536373839&lt;script type="text/javascript"&gt; $(function () &#123; // &lt;input id="h01" type="button" value="1åªèƒ½ç‚¹å‡»ä¸€æ¬¡ï¼Œä¹‹åŽå¤±æ•ˆ"/&gt; $("#h01").one("click.a", function () &#123; alert("ä½ åªèƒ½çœ‹åˆ°æˆ‘ä¸€æ¬¡");//ç»§ç»­ç‚¹å‡»å¤±æ•ˆ &#125;); // &lt;input id="h02" type="button" value="2å¯ä»¥ç‚¹å‡»å¤šæ¬¡"/&gt; $("#h02").bind("click.b", function () &#123; alert("æ¯æ¬¡éƒ½æ˜¯ä½ "); &#125;); // &lt;input id="h03" type="button" value="3è§£ç»‘2"/&gt; $("#h03").click(function () &#123; $("#h02").unbind("click.b"); &#125;); // &lt;input type="button" value="4 æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œæ ·å¼ä¸ºmyClassï¼Œä¸”æ‹¥æœ‰ç›¸åŒçš„äº‹ä»¶" class="myClass"/&gt; $(".myClass").live("click", function () &#123; $("body").append("&lt;input type='button' class='myClass'&gt;") &#125;); // &lt;input id="h05" type="button" value="5 è§£ç»‘4"/&gt; $("#h05").click(function () &#123; $(".myClass").die("click"); &#125;); //åˆ‡æ¢ $(function () &#123; $("#e01").toggle(function () &#123; alert("æŠ¥æ•°1"); &#125;, function () &#123; alert("æŠ¥æ•°2"); &#125;); $("#e02").hover(function () &#123; $("#divMsg").html("over"); &#125;, function () &#123; $("#divMsg").html("out"); &#125;) &#125;) &#125;); &lt;/script&gt; 14 å…¶ä»–è¡¨å•åºåˆ—åŒ– äº‹ä»¶å†’æ³¡ æµè§ˆå™¨é»˜è®¤çš„åŠ¨ä½œè¡Œä¸º Jqueryæ–‡æ¡£1.8.3]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[test]]></title>
    <url>%2F2018%2F12%2F13%2FMybatis%2F%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[â€”]]></content>
  </entry>
  <entry>
    <title><![CDATA[ç±»åŠ è½½å™¨]]></title>
    <url>%2F2018%2F12%2F12%2Fjava%E5%9F%BA%E7%A1%80%2F%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%20%2F</url>
    <content type="text"><![CDATA[1.ClassLoader##1.1ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ 12]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring IOC åŠbeanå®¹å™¨ æ³¨å…¥]]></title>
    <url>%2F2018%2F12%2F10%2FSpring%2F4.SpringBean%20%E8%A3%85%E9%85%8D%2F</url>
    <content type="text"><![CDATA[1 Spring Bean è£…é…ä¹‹Beançš„å®šä¹‰åŠå…¶ä½œç”¨åŸŸçš„æ³¨è§£å®žçŽ° â€‹ &lt; context:component-scan&gt; ä¾‹å­123&lt;context:component-scan base-package="bean.BeanAnnotation"&gt; &lt;context:component-scan/&gt; 1234567package bean;@Componentpublic class BeanAnnotation &#123; public void say()&#123; System,out.print("Hello Spring"); &#125;&#125; 1234 @Test BeanAnnotation bean=super.getBean("beanAnnotation");//ç±»åå°å†™ bean.say("This is Tese");&#125; 2 Springè£…é… åŸºäºŽjavaå®¹å™¨çš„æ³¨è§£è¯´æ˜Ž @importResourceå’Œ@Value 123456789public class MyDriverManager &#123; public MyDriverManager(String url, String userName, String password) &#123; System.out.print(url); System.out.print(userName); System.out.print(password); &#125;&#125; 123456789101112131415161718@Configuration@ImportResource("classpath:config.xml")public class StoreConfig &#123; @Value("$&#123;jdbc.url&#125;") private String url; @Value("$&#123;jdbc.username&#125;") private String username; @Value("$&#123;jdbc.password&#125;") private String password; @Bean public MyDriverManager myDriverManager() &#123; return new MyDriverManager(url, username, password); &#125;&#125; 12345678public class Test &#123; @Test public void testMyDreiverManager() &#123; MyDriverManager myDriverManager = super.getBean("myDriverManager"); myDriverManager.getClass().getName(); &#125;&#125; 123jdbc.password=rootjdbc.url=127.0.0.1jdbc.username=root 3@Bean å’Œ@Scope 4åŸºäºŽæ³›åž‹çš„è‡ªåŠ¨è£…é… Aware å’ŒAutowiring]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaåå°„]]></title>
    <url>%2F2018%2F12%2F10%2Fjava%E5%9F%BA%E7%A1%80%2Fjava%E5%8F%8D%E5%B0%84%2F</url>
    <content type="text"><![CDATA[12345678910111213141516171819202122232425262728293031public class ClassDemo1 &#123; public static void main(String[] args) &#123; // Fooçš„å®žä¾‹å¯¹è±¡å¦‚ä½•è¡¨ç¤º Foo foo1 = new Foo();// foo1å°±è¡¨ç¤ºå‡ºæ¥äº† // Foo è¿™ä¸ªç±» ä¹Ÿæ˜¯ä¸ªå®žä¾‹å¯¹è±¡ ï¼ŒClassç±»çš„å®žåˆ—å¯¹è±¡ å¦‚ä½•è¡¨ç¤ºå‘¢ // ä»»ä½•ä¸€ä¸ªç±»éƒ½æ˜¯Classçš„å®žåˆ—å¯¹è±¡ è¿™ä¸ªå®žåˆ—å¯¹è±¡æœ‰ä¸‰ç§è¡¨ç¤ºæ–¹å¼ /** * c1 c2è¡¨ç¤ºäº†Fooç±»çš„ç±»ç±»åž‹ï¼ˆclass typeï¼‰ * ä¸‡äº‹ä¸‡ç‰©çš†å¯¹è±¡ * ç±»ä¹Ÿæ˜¯å¯¹è±¡ æ˜¯Classç±»çš„å®žåˆ—å¯¹è±¡ * è¿™ä¸ªå¯¹è±¡æˆ‘ä»¬ç§°ä¸ºè¯¥ç±»çš„lei lei */ // ç¬¬ä¸€ç§è¡¨ç¤ºæ–¹å¼---&gt;å®žé™…åœ¨å‘Šè¯‰æˆ‘ä»¬ä»»ä½•ä¸€ä¸ªç±»éƒ½ä»¥ä¸€ä¸ªéšå«çš„é™æ€æˆå‘˜ Class c1=Foo.class; // ç¬¬äºŒç§è¡¨ç¤ºæ–¹å¼--&gt;å·²ç»çŸ¥é“è¯¥ç±»çš„å¯¹è±¡é€šè¿‡getClassæ–¹æ³• Class c2 = foo1.getClass(); //ç¬¬ä¸‰ç§æ–¹å¼ Class c3=Class.forName("com.package.Foo") &#125; // æˆ‘ä»¬å®Œå…¨å¯ä»¥é€šè¿‡ç±»ç±»åž‹åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡å®žåˆ— // --&gt;é€šè¿‡c1 or c2 åˆ›å»ºFooçš„å®žä¾‹ Foo foo = (Foo) c1.newInstance();foo.print(); class Foo &#123; void print() &#123; &#125; &#125;&#125; 123456789101112131415161718package com.imooc.reflect;public class ClassDemo2 &#123; public static void main(String[] args) &#123; Class c1 = int.class;//int çš„ç±»ç±»åž‹ Class c2 = String.class;//Stringç±»çš„ç±»ç±»åž‹ Stringç±»å­—èŠ‚ç ï¼ˆè‡ªå·±å‘æ˜Žçš„) Class c3 = double.class; Class c4 = Double.class; Class c5 = void.class; System.out.println(c1.getName()); System.out.println(c2.getName()); System.out.println(c2.getSimpleName());//ä¸åŒ…å«åŒ…åçš„ç±»çš„åç§° System.out.println(c5.getName()); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.imooc.reflect;public class ClassDemo1 &#123; public static void main(String[] args) &#123; //Fooçš„å®žä¾‹å¯¹è±¡å¦‚ä½•è¡¨ç¤º Foo foo1 = new Foo();//foo1å°±è¡¨ç¤ºå‡ºæ¥äº†. //Fooè¿™ä¸ªç±» ä¹Ÿæ˜¯ä¸€ä¸ªå®žä¾‹å¯¹è±¡ï¼ŒClassç±»çš„å®žä¾‹å¯¹è±¡,å¦‚ä½•è¡¨ç¤ºå‘¢ //ä»»ä½•ä¸€ä¸ªç±»éƒ½æ˜¯Classçš„å®žä¾‹å¯¹è±¡ï¼Œè¿™ä¸ªå®žä¾‹å¯¹è±¡æœ‰ä¸‰ç§è¡¨ç¤ºæ–¹å¼ //ç¬¬ä¸€ç§è¡¨ç¤ºæ–¹å¼---&gt;å®žé™…åœ¨å‘Šè¯‰æˆ‘ä»¬ä»»ä½•ä¸€ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªéšå«çš„é™æ€æˆå‘˜å˜é‡class Class c1 = Foo.class; //ç¬¬äºŒä¸­è¡¨è¾¾æ–¹å¼ å·²ç»çŸ¥é“è¯¥ç±»çš„å¯¹è±¡é€šè¿‡getClassæ–¹æ³• Class c2 = foo1.getClass(); /*å®˜ç½‘ c1 ,c2 è¡¨ç¤ºäº†Fooç±»çš„ç±»ç±»åž‹(class type) * ä¸‡äº‹ä¸‡ç‰©çš†å¯¹è±¡ï¼Œ * ç±»ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ˜¯Classç±»çš„å®žä¾‹å¯¹è±¡ * è¿™ä¸ªå¯¹è±¡æˆ‘ä»¬ç§°ä¸ºè¯¥ç±»çš„ç±»ç±»åž‹ * */ //ä¸ç®¡c1 or c2éƒ½ä»£è¡¨äº†Fooç±»çš„ç±»ç±»åž‹ï¼Œä¸€ä¸ªç±»åªå¯èƒ½æ˜¯Classç±»çš„ä¸€ä¸ªå®žä¾‹å¯¹è±¡ System.out.println(c1 == c2); //ç¬¬ä¸‰ç§è¡¨è¾¾æ–¹å¼ Class c3 = null; try &#123; c3 = Class.forName("com.imooc.reflect.Foo"); &#125; catch (ClassNotFoundException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; System.out.println(c2==c3); //æˆ‘ä»¬å®Œå…¨å¯ä»¥é€šè¿‡ç±»çš„ç±»ç±»åž‹åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡å®žä¾‹----&gt;é€šè¿‡c1 or c2 or c3åˆ›å»ºFooçš„å®žä¾‹å¯¹è±¡ try &#123; Foo foo = (Foo)c1.newInstance();//éœ€è¦æœ‰æ— å‚æ•°çš„æž„é€ æ–¹æ³• foo.print(); &#125; catch (InstantiationException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125;&#125;class Foo&#123; void print()&#123; System.out.println("foo"); &#125;&#125; 12345678910111213141516171819202122232425262728293031package com.imooc.reflect;import java.lang.reflect.Method;public class BeanUtil &#123; /** * æ ¹æ®æ ‡å‡†javaBeanå¯¹è±¡çš„å±žæ€§åèŽ·å–å…¶å±žæ€§å€¼ * * @param obj * @param propertyName * @return */ public static Object getValueByPropertyName(Object obj, String propertyName) &#123; // 1.æ ¹æ®å±žæ€§åç§°å°±å¯ä»¥èŽ·å–å…¶getæ–¹æ³• String getMethodName = "get" + propertyName.substring(0, 1).toUpperCase() + propertyName.substring(1); //2.èŽ·å–æ–¹æ³•å¯¹è±¡ Class c = obj.getClass(); try &#123; //getæ–¹æ³•éƒ½æ˜¯publicçš„ä¸”æ— å‚æ•° Method m= c.getMethod(getMethodName); //3 é€šè¿‡æ–¹æ³•çš„åå°„æ“ä½œæ–¹æ³• Object value = m.invoke(obj); return value; &#125; catch (Exception e) &#123; e.printStackTrace(); return null; &#125; &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586package com.imooc.reflect;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.Method;public class ClassUtil &#123; /** * æ‰“å°ç±»çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç±»çš„æˆå‘˜å‡½æ•°ã€æˆå‘˜å˜é‡(åªèŽ·å–æˆå‘˜å‡½æ•°) * @param obj è¯¥å¯¹è±¡æ‰€å±žç±»çš„ä¿¡æ¯ */ public static void printClassMethodMessage(Object obj)&#123; //è¦èŽ·å–ç±»çš„ä¿¡æ¯ é¦–å…ˆè¦èŽ·å–ç±»çš„ç±»ç±»åž‹ Class c = obj.getClass();//ä¼ é€’çš„æ˜¯å“ªä¸ªå­ç±»çš„å¯¹è±¡ cå°±æ˜¯è¯¥å­ç±»çš„ç±»ç±»åž‹ //èŽ·å–ç±»çš„åç§° System.out.println("ç±»çš„åç§°æ˜¯:"+c.getName()); /* * Methodç±»ï¼Œæ–¹æ³•å¯¹è±¡ * ä¸€ä¸ªæˆå‘˜æ–¹æ³•å°±æ˜¯ä¸€ä¸ªMethodå¯¹è±¡ * getMethods()æ–¹æ³•èŽ·å–çš„æ˜¯æ‰€æœ‰çš„publicçš„å‡½æ•°ï¼ŒåŒ…æ‹¬çˆ¶ç±»ç»§æ‰¿è€Œæ¥çš„ * getDeclaredMethods()èŽ·å–çš„æ˜¯æ‰€æœ‰è¯¥ç±»è‡ªå·±å£°æ˜Žçš„æ–¹æ³•ï¼Œä¸é—®è®¿é—®æƒé™ */ Method[] ms = c.getMethods();//c.getDeclaredMethods() for(int i = 0; i &lt; ms.length;i++)&#123; //å¾—åˆ°æ–¹æ³•çš„è¿”å›žå€¼ç±»åž‹çš„ç±»ç±»åž‹ Class returnType = ms[i].getReturnType(); System.out.print(returnType.getName()+" "); //å¾—åˆ°æ–¹æ³•çš„åç§° System.out.print(ms[i].getName()+"("); //èŽ·å–å‚æ•°ç±»åž‹---&gt;å¾—åˆ°çš„æ˜¯å‚æ•°åˆ—è¡¨çš„ç±»åž‹çš„ç±»ç±»åž‹ Class[] paramTypes = ms[i].getParameterTypes(); for (Class class1 : paramTypes) &#123; System.out.print(class1.getName()+","); &#125; System.out.println(")"); &#125; &#125; /** * èŽ·å–æˆå‘˜å˜é‡çš„ä¿¡æ¯ * @param obj */ public static void printFieldMessage(Object obj) &#123; Class c = obj.getClass(); /* * æˆå‘˜å˜é‡ä¹Ÿæ˜¯å¯¹è±¡ * java.lang.reflect.Field * Fieldç±»å°è£…äº†å…³äºŽæˆå‘˜å˜é‡çš„æ“ä½œ * getFields()æ–¹æ³•èŽ·å–çš„æ˜¯æ‰€æœ‰çš„publicçš„æˆå‘˜å˜é‡çš„ä¿¡æ¯ * getDeclaredFieldsèŽ·å–çš„æ˜¯è¯¥ç±»è‡ªå·±å£°æ˜Žçš„æˆå‘˜å˜é‡çš„ä¿¡æ¯ */ //Field[] fs = c.getFields(); Field[] fs = c.getDeclaredFields(); for (Field field : fs) &#123; //å¾—åˆ°æˆå‘˜å˜é‡çš„ç±»åž‹çš„ç±»ç±»åž‹ Class fieldType = field.getType(); String typeName = fieldType.getName(); //å¾—åˆ°æˆå‘˜å˜é‡çš„åç§° String fieldName = field.getName(); System.out.println(typeName+" "+fieldName); &#125; &#125; /** * æ‰“å°å¯¹è±¡çš„æž„é€ å‡½æ•°çš„ä¿¡æ¯ * @param obj */ public static void printConMessage(Object obj)&#123; Class c = obj.getClass(); /* * æž„é€ å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ * java.lang. Constructorä¸­å°è£…äº†æž„é€ å‡½æ•°çš„ä¿¡æ¯ * getConstructorsèŽ·å–æ‰€æœ‰çš„publicçš„æž„é€ å‡½æ•° * getDeclaredConstructorså¾—åˆ°æ‰€æœ‰çš„æž„é€ å‡½æ•° */ //Constructor[] cs = c.getConstructors(); Constructor[] cs = c.getDeclaredConstructors(); for (Constructor constructor : cs) &#123; System.out.print(constructor.getName()+"("); //èŽ·å–æž„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨---&gt;å¾—åˆ°çš„æ˜¯å‚æ•°åˆ—è¡¨çš„ç±»ç±»åž‹ Class[] paramTypes = constructor.getParameterTypes(); for (Class class1 : paramTypes) &#123; System.out.print(class1.getName()+","); &#125; System.out.println(")"); &#125; &#125;&#125;]]></content>
      <tags>
        <tag>åå°„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ…•è¯¾ç½‘ Rabbit MQ è€å¸ˆæºä»£ç ]]></title>
    <url>%2F2018%2F12%2F05%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2Fquickstart%2F</url>
    <content type="text"><![CDATA[æ…•è¯¾ç½‘ Rabbit MQ è€å¸ˆæºä»£ç 12345678910111213141516171819202122232425262728public class Procuder &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºä¸€ä¸ªConnectionFactory, å¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Connection connection = connectionFactory.newConnection(); //3 é€šè¿‡connectionåˆ›å»ºä¸€ä¸ªChannel Channel channel = connection.createChannel(); //4 é€šè¿‡Channelå‘é€æ•°æ® for(int i=0; i &lt; 5; i++)&#123; String msg = &quot;Hello RabbitMQ!&quot;; //1 exchange 2 routingKey channel.basicPublish(&quot;&quot;, &quot;test001&quot;, null, msg.getBytes()); &#125; //5 è®°å¾—è¦å…³é—­ç›¸å…³çš„è¿žæŽ¥ channel.close(); connection.close(); &#125;&#125; quickstart12345678910111213141516171819202122232425262728293031package com.example.rabbitmq.start;import org.springframework.boot.SpringApplication;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;public class Procuder &#123; // ç”Ÿäº§ç«¯Procuder http://94.191.24.33:15672/#/ public static void main(String[] args) throws Exception &#123; // 1.åˆ›å»ºä¸€ä¸ªConnectionFactory å¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;94.191.24.33&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); // 2.é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥connectionFactory.newConnection(); Connection connection = connectionFactory.newConnection(); // 3.é€šè¿‡connectionåˆ›å»ºä¸€ä¸ªChannel Channel channel = connection.createChannel(); // 4.é€šè¿‡Channelå‘é€æ•°æ® String msg = &quot;Hello RabbitMQ&quot;; // channel.basicPublish(exchange, routingKey, props, body); channel.basicPublish(&quot;&quot;, &quot;test001&quot;, null, msg.getBytes()); channel.close(); connection.close(); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748package com.example.rabbitmq.start;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.QueueingConsumer;import com.rabbitmq.client.QueueingConsumer.Delivery;public class Consumer &#123; @SuppressWarnings(&quot;deprecation&quot;) public static void main(String[] args) throws Exception &#123; // 1.åˆ›å»ºä¸€ä¸ªConnectionFactoryï¼Œå¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;94.191.24.33&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); // 2.é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Connection connection = connectionFactory.newConnection(); // 3 é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Channel channel = connection.createChannel(); // 4.ç”³æ˜Žï¼ˆåˆ›å»ºï¼‰ä¸€ä¸ªé˜Ÿåˆ— String queueName = &quot;test001&quot;; // channel.queueDeclare(queueName, durable, exclusive, autoDelete, arguments) channel.queueDeclare(&quot;test001&quot;, true, false, false, null); // 5.åˆ›å»ºæ¶ˆè´¹è€… QueueingConsumer queueingConsumer = new QueueingConsumer(channel); /** * 6.è®¾ç½®channel # channel.basicConsume(queue,autoAck, autoAck) # 1ï¼šqueueï¼šé˜Ÿåˆ—çš„åå­— * 2.autoAckï¼šæ˜¯å¦è‡ªåŠ¨ç­¾æ”¶ 3:autoAckï¼šå…·ä½“çš„æ¶ˆè´¹è€…å¯¹è±¡ */ channel.basicConsume(queueName, true, queueingConsumer); // 7.èŽ·å–æ¶ˆæ¯ while (true) &#123; Delivery delivery = queueingConsumer.nextDelivery(); byte[] body = delivery.getBody(); String msg = new String(delivery.getBody());// èŽ·å–æ¶ˆæ¯ System.out.println(&quot;æ¶ˆè´¹ç«¯&quot; + msg); &#125; &#125;&#125;//String string =new String(delivery.getBody()); 12345678910111213141516171819202122232425262728293031323334353637public class Consumer &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºä¸€ä¸ªConnectionFactory, å¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Connection connection = connectionFactory.newConnection(); //3 é€šè¿‡connectionåˆ›å»ºä¸€ä¸ªChannel Channel channel = connection.createChannel(); //4 å£°æ˜Žï¼ˆåˆ›å»ºï¼‰ä¸€ä¸ªé˜Ÿåˆ— String queueName = &quot;test001&quot;; channel.queueDeclare(queueName, true, false, false, null); //5 åˆ›å»ºæ¶ˆè´¹è€… QueueingConsumer queueingConsumer = new QueueingConsumer(channel); //6 è®¾ç½®Channel channel.basicConsume(queueName, true, queueingConsumer); while(true)&#123; //7 èŽ·å–æ¶ˆæ¯ Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody()); System.err.println(&quot;æ¶ˆè´¹ç«¯: &quot; + msg); //Envelope envelope = delivery.getEnvelope(); &#125; &#125;&#125; 1234567891011121314151617181920212223242526272829public class Procuder &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºä¸€ä¸ªConnectionFactory, å¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Connection connection = connectionFactory.newConnection(); //3 é€šè¿‡connectionåˆ›å»ºä¸€ä¸ªChannel Channel channel = connection.createChannel(); //4 é€šè¿‡Channelå‘é€æ•°æ® for(int i=0; i &lt; 5; i++)&#123; String msg = &quot;Hello RabbitMQ!&quot;; //1 exchange 2 routingKey channel.basicPublish(&quot;&quot;, &quot;test001&quot;, null, msg.getBytes()); &#125; //5 è®°å¾—è¦å…³é—­ç›¸å…³çš„è¿žæŽ¥ channel.close(); connection.close(); &#125;&#125; apiack1234567891011121314151617181920212223242526272829public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchangeName = &quot;test_ack_exchange&quot;; String queueName = &quot;test_ack_queue&quot;; String routingKey = &quot;ack.#&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); // æ‰‹å·¥ç­¾æ”¶ å¿…é¡»è¦å…³é—­ autoAck = false channel.basicConsume(queueName, false, new MyConsumer(channel)); &#125;&#125; 1234567891011121314151617181920212223242526272829public class MyConsumer extends DefaultConsumer &#123; private Channel channel ; public MyConsumer(Channel channel) &#123; super(channel); this.channel = channel; &#125; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;-----------consume message----------&quot;); System.err.println(&quot;body: &quot; + new String(body)); try &#123; Thread.sleep(2000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; if((Integer)properties.getHeaders().get(&quot;num&quot;) == 0) &#123; channel.basicNack(envelope.getDeliveryTag(), false, true); &#125; else &#123; channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_ack_exchange&quot;; String routingKey = &quot;ack.save&quot;; for(int i =0; i&lt;5; i ++)&#123; Map&lt;String, Object&gt; headers = new HashMap&lt;String, Object&gt;(); headers.put(&quot;num&quot;, i); AMQP.BasicProperties properties = new AMQP.BasicProperties.Builder() .deliveryMode(2) .contentEncoding(&quot;UTF-8&quot;) .headers(headers) .build(); String msg = &quot;Hello RabbitMQ ACK Message &quot; + i; channel.basicPublish(exchange, routingKey, true, properties, msg.getBytes()); &#125; &#125;&#125; confirm1234567891011121314151617181920212223242526272829303132333435363738public class Consumer &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 èŽ·å–C onnection Connection connection = connectionFactory.newConnection(); //3 é€šè¿‡Connectionåˆ›å»ºä¸€ä¸ªæ–°çš„Channel Channel channel = connection.createChannel(); String exchangeName = &quot;test_confirm_exchange&quot;; String routingKey = &quot;confirm.#&quot;; String queueName = &quot;test_confirm_queue&quot;; //4 å£°æ˜Žäº¤æ¢æœºå’Œé˜Ÿåˆ— ç„¶åŽè¿›è¡Œç»‘å®šè®¾ç½®, æœ€åŽåˆ¶å®šè·¯ç”±Key channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); //5 åˆ›å»ºæ¶ˆè´¹è€… QueueingConsumer queueingConsumer = new QueueingConsumer(channel); channel.basicConsume(queueName, true, queueingConsumer); while(true)&#123; Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody()); System.err.println(&quot;æ¶ˆè´¹ç«¯: &quot; + msg); &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243public class Producer &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 èŽ·å–C onnection Connection connection = connectionFactory.newConnection(); //3 é€šè¿‡Connectionåˆ›å»ºä¸€ä¸ªæ–°çš„Channel Channel channel = connection.createChannel(); //4 æŒ‡å®šæˆ‘ä»¬çš„æ¶ˆæ¯æŠ•é€’æ¨¡å¼: æ¶ˆæ¯çš„ç¡®è®¤æ¨¡å¼ channel.confirmSelect(); String exchangeName = &quot;test_confirm_exchange&quot;; String routingKey = &quot;confirm.save&quot;; //5 å‘é€ä¸€æ¡æ¶ˆæ¯ String msg = &quot;Hello RabbitMQ Send confirm message!&quot;; channel.basicPublish(exchangeName, routingKey, null, msg.getBytes()); //6 æ·»åŠ ä¸€ä¸ªç¡®è®¤ç›‘å¬ channel.addConfirmListener(new ConfirmListener() &#123; @Override public void handleNack(long deliveryTag, boolean multiple) throws IOException &#123; System.err.println(&quot;-------no ack!-----------&quot;); &#125; @Override public void handleAck(long deliveryTag, boolean multiple) throws IOException &#123; System.err.println(&quot;-------ack!-----------&quot;); &#125; &#125;); &#125;&#125; Consumer123456789101112131415161718192021222324252627public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchangeName = &quot;test_consumer_exchange&quot;; String routingKey = &quot;consumer.#&quot;; String queueName = &quot;test_consumer_queue&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); channel.basicConsume(queueName, true, new MyConsumer(channel)); &#125;&#125; 123456789101112131415161718public class MyConsumer extends DefaultConsumer &#123; public MyConsumer(Channel channel) &#123; super(channel); &#125; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;-----------consume message----------&quot;); System.err.println(&quot;consumerTag: &quot; + consumerTag); System.err.println(&quot;envelope: &quot; + envelope); System.err.println(&quot;properties: &quot; + properties); System.err.println(&quot;body: &quot; + new String(body)); &#125;&#125; 12345678910111213141516171819202122232425public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_consumer_exchange&quot;; String routingKey = &quot;consumer.save&quot;; String msg = &quot;Hello RabbitMQ Consumer Message&quot;; for(int i =0; i&lt;5; i ++)&#123; channel.basicPublish(exchange, routingKey, true, null, msg.getBytes()); &#125; &#125;&#125; dlx12345678910111213141516171819202122232425262728293031323334353637public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); // è¿™å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„äº¤æ¢æœº å’Œ é˜Ÿåˆ— ä»¥åŠè·¯ç”± String exchangeName = &quot;test_dlx_exchange&quot;; String routingKey = &quot;dlx.#&quot;; String queueName = &quot;test_dlx_queue&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); Map&lt;String, Object&gt; agruments = new HashMap&lt;String, Object&gt;(); agruments.put(&quot;x-dead-letter-exchange&quot;, &quot;dlx.exchange&quot;); //è¿™ä¸ªagrumentså±žæ€§ï¼Œè¦è®¾ç½®åˆ°å£°æ˜Žé˜Ÿåˆ—ä¸Š channel.queueDeclare(queueName, true, false, false, agruments); channel.queueBind(queueName, exchangeName, routingKey); //è¦è¿›è¡Œæ­»ä¿¡é˜Ÿåˆ—çš„å£°æ˜Ž: channel.exchangeDeclare(&quot;dlx.exchange&quot;, &quot;topic&quot;, true, false, null); channel.queueDeclare(&quot;dlx.queue&quot;, true, false, false, null); channel.queueBind(&quot;dlx.queue&quot;, &quot;dlx.exchange&quot;, &quot;#&quot;); channel.basicConsume(queueName, true, new MyConsumer(channel)); &#125;&#125; 123456789101112131415public class MyConsumer extends DefaultConsumer &#123; public MyConsumer(Channel channel) &#123; super(channel); &#125; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;-----------consume message----------&quot;); System.err.println(&quot;consumerTag: &quot; + consumerTag); System.err.println(&quot;envelope: &quot; + envelope); System.err.println(&quot;properties: &quot; + properties); System.err.println(&quot;body: &quot; + new String(body)); &#125; 123456789101112131415161718192021222324252627282930public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_dlx_exchange&quot;; String routingKey = &quot;dlx.save&quot;; String msg = &quot;Hello RabbitMQ DLX Message&quot;; for(int i =0; i&lt;1; i ++)&#123; AMQP.BasicProperties properties = new AMQP.BasicProperties.Builder() .deliveryMode(2) .contentEncoding(&quot;UTF-8&quot;) .expiration(&quot;10000&quot;) .build(); channel.basicPublish(exchange, routingKey, true, properties, msg.getBytes()); &#125; &#125;&#125; exchangeâ€“direct123456789101112131415161718192021222324252627282930313233343536373839404142public class Consumer4DirectExchange &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory() ; connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); connectionFactory.setAutomaticRecoveryEnabled(true); connectionFactory.setNetworkRecoveryInterval(3000); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); //4 å£°æ˜Ž String exchangeName = &quot;test_direct_exchange&quot;; String exchangeType = &quot;direct&quot;; String queueName = &quot;test_direct_queue&quot;; String routingKey = &quot;test.direct&quot;; //è¡¨ç¤ºå£°æ˜Žäº†ä¸€ä¸ªäº¤æ¢æœº channel.exchangeDeclare(exchangeName, exchangeType, true, false, false, null); //è¡¨ç¤ºå£°æ˜Žäº†ä¸€ä¸ªé˜Ÿåˆ— channel.queueDeclare(queueName, false, false, false, null); //å»ºç«‹ä¸€ä¸ªç»‘å®šå…³ç³»: channel.queueBind(queueName, exchangeName, routingKey); //durable æ˜¯å¦æŒä¹…åŒ–æ¶ˆæ¯ QueueingConsumer consumer = new QueueingConsumer(channel); //å‚æ•°ï¼šé˜Ÿåˆ—åç§°ã€æ˜¯å¦è‡ªåŠ¨ACKã€Consumer channel.basicConsume(queueName, true, consumer); //å¾ªçŽ¯èŽ·å–æ¶ˆæ¯ while(true)&#123; //èŽ·å–æ¶ˆæ¯ï¼Œå¦‚æžœæ²¡æœ‰æ¶ˆæ¯ï¼Œè¿™ä¸€æ­¥å°†ä¼šä¸€ç›´é˜»å¡ž Delivery delivery = consumer.nextDelivery(); String msg = new String(delivery.getBody()); System.out.println(&quot;æ”¶åˆ°æ¶ˆæ¯ï¼š&quot; + msg); &#125; &#125;&#125; 1234567891011121314151617181920212223242526public class Producer4DirectExchange &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 åˆ›å»ºConnection Connection connection = connectionFactory.newConnection(); //3 åˆ›å»ºChannel Channel channel = connection.createChannel(); //4 å£°æ˜Ž String exchangeName = &quot;test_direct_exchange&quot;; String routingKey = &quot;test.direct111&quot;; //5 å‘é€ String msg = &quot;Hello World RabbitMQ 4 Direct Exchange Message 111 ... &quot;; channel.basicPublish(exchangeName, routingKey , null , msg.getBytes()); &#125; &#125; Exchange-fanout12345678910111213141516171819202122232425262728293031323334353637public class Consumer4FanoutExchange &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory() ; connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); connectionFactory.setAutomaticRecoveryEnabled(true); connectionFactory.setNetworkRecoveryInterval(3000); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); //4 å£°æ˜Ž String exchangeName = &quot;test_fanout_exchange&quot;; String exchangeType = &quot;fanout&quot;; String queueName = &quot;test_fanout_queue&quot;; String routingKey = &quot;&quot;; //ä¸è®¾ç½®è·¯ç”±é”® channel.exchangeDeclare(exchangeName, exchangeType, true, false, false, null); channel.queueDeclare(queueName, false, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); //durable æ˜¯å¦æŒä¹…åŒ–æ¶ˆæ¯ QueueingConsumer consumer = new QueueingConsumer(channel); //å‚æ•°ï¼šé˜Ÿåˆ—åç§°ã€æ˜¯å¦è‡ªåŠ¨ACKã€Consumer channel.basicConsume(queueName, true, consumer); //å¾ªçŽ¯èŽ·å–æ¶ˆæ¯ while(true)&#123; //èŽ·å–æ¶ˆæ¯ï¼Œå¦‚æžœæ²¡æœ‰æ¶ˆæ¯ï¼Œè¿™ä¸€æ­¥å°†ä¼šä¸€ç›´é˜»å¡ž Delivery delivery = consumer.nextDelivery(); String msg = new String(delivery.getBody()); System.out.println(&quot;æ”¶åˆ°æ¶ˆæ¯ï¼š&quot; + msg); &#125; &#125;&#125; 123456789101112131415161718192021222324252627public class Producer4FanoutExchange &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 åˆ›å»ºConnection Connection connection = connectionFactory.newConnection(); //3 åˆ›å»ºChannel Channel channel = connection.createChannel(); //4 å£°æ˜Ž String exchangeName = &quot;test_fanout_exchange&quot;; //5 å‘é€ for(int i = 0; i &lt; 10; i ++) &#123; String msg = &quot;Hello World RabbitMQ 4 FANOUT Exchange Message ...&quot;; channel.basicPublish(exchangeName, &quot;&quot;, null , msg.getBytes()); &#125; channel.close(); connection.close(); &#125; &#125; Exchange -topic123456789101112131415161718192021222324252627282930313233343536373839404142public class Consumer4TopicExchange &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory() ; connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); connectionFactory.setAutomaticRecoveryEnabled(true); connectionFactory.setNetworkRecoveryInterval(3000); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); //4 å£°æ˜Ž String exchangeName = &quot;test_topic_exchange&quot;; String exchangeType = &quot;topic&quot;; String queueName = &quot;test_topic_queue&quot;; //String routingKey = &quot;user.*&quot;; String routingKey = &quot;user.*&quot;; // 1 å£°æ˜Žäº¤æ¢æœº channel.exchangeDeclare(exchangeName, exchangeType, true, false, false, null); // 2 å£°æ˜Žé˜Ÿåˆ— channel.queueDeclare(queueName, false, false, false, null); // 3 å»ºç«‹äº¤æ¢æœºå’Œé˜Ÿåˆ—çš„ç»‘å®šå…³ç³»: channel.queueBind(queueName, exchangeName, routingKey); //durable æ˜¯å¦æŒä¹…åŒ–æ¶ˆæ¯ QueueingConsumer consumer = new QueueingConsumer(channel); //å‚æ•°ï¼šé˜Ÿåˆ—åç§°ã€æ˜¯å¦è‡ªåŠ¨ACKã€Consumer channel.basicConsume(queueName, true, consumer); //å¾ªçŽ¯èŽ·å–æ¶ˆæ¯ while(true)&#123; //èŽ·å–æ¶ˆæ¯ï¼Œå¦‚æžœæ²¡æœ‰æ¶ˆæ¯ï¼Œè¿™ä¸€æ­¥å°†ä¼šä¸€ç›´é˜»å¡ž Delivery delivery = consumer.nextDelivery(); String msg = new String(delivery.getBody()); System.out.println(&quot;æ”¶åˆ°æ¶ˆæ¯ï¼š&quot; + msg); &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031public class Producer4TopicExchange &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 åˆ›å»ºConnection Connection connection = connectionFactory.newConnection(); //3 åˆ›å»ºChannel Channel channel = connection.createChannel(); //4 å£°æ˜Ž String exchangeName = &quot;test_topic_exchange&quot;; String routingKey1 = &quot;user.save&quot;; String routingKey2 = &quot;user.update&quot;; String routingKey3 = &quot;user.delete.abc&quot;; //5 å‘é€ String msg = &quot;Hello World RabbitMQ 4 Topic Exchange Message ...&quot;; channel.basicPublish(exchangeName, routingKey1 , null , msg.getBytes()); channel.basicPublish(exchangeName, routingKey2 , null , msg.getBytes()); channel.basicPublish(exchangeName, routingKey3 , null , msg.getBytes()); channel.close(); connection.close(); &#125; &#125; limit1234567891011121314151617181920212223242526272829303132public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchangeName = &quot;test_qos_exchange&quot;; String queueName = &quot;test_qos_queue&quot;; String routingKey = &quot;qos.#&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); //1 é™æµæ–¹å¼ ç¬¬ä¸€ä»¶äº‹å°±æ˜¯ autoAckè®¾ç½®ä¸º false channel.basicQos(0, 1, false); channel.basicConsume(queueName, false, new MyConsumer(channel)); &#125;&#125; 123456789101112131415161718192021222324public class MyConsumer extends DefaultConsumer &#123; private Channel channel ; public MyConsumer(Channel channel) &#123; super(channel); this.channel = channel; &#125; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;-----------consume message----------&quot;); System.err.println(&quot;consumerTag: &quot; + consumerTag); System.err.println(&quot;envelope: &quot; + envelope); System.err.println(&quot;properties: &quot; + properties); System.err.println(&quot;body: &quot; + new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125;&#125; 123456789101112131415161718192021222324public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_qos_exchange&quot;; String routingKey = &quot;qos.save&quot;; String msg = &quot;Hello RabbitMQ QOS Message&quot;; for(int i =0; i&lt;5; i ++)&#123; channel.basicPublish(exchange, routingKey, true, null, msg.getBytes()); &#125; &#125;&#125; message123456789101112131415161718192021222324252627282930313233343536373839public class Consumer &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºä¸€ä¸ªConnectionFactory, å¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Connection connection = connectionFactory.newConnection(); //3 é€šè¿‡connectionåˆ›å»ºä¸€ä¸ªChannel Channel channel = connection.createChannel(); //4 å£°æ˜Žï¼ˆåˆ›å»ºï¼‰ä¸€ä¸ªé˜Ÿåˆ— String queueName = &quot;test001&quot;; channel.queueDeclare(queueName, true, false, false, null); //5 åˆ›å»ºæ¶ˆè´¹è€… QueueingConsumer queueingConsumer = new QueueingConsumer(channel); //6 è®¾ç½®Channel channel.basicConsume(queueName, true, queueingConsumer); while(true)&#123; //7 èŽ·å–æ¶ˆæ¯ Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody()); System.err.println(&quot;æ¶ˆè´¹ç«¯: &quot; + msg); Map&lt;String, Object&gt; headers = delivery.getProperties().getHeaders(); System.err.println(&quot;headers get my1 value: &quot; + headers.get(&quot;my1&quot;)); //Envelope envelope = delivery.getEnvelope(); &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940public class Procuder &#123; public static void main(String[] args) throws Exception &#123; //1 åˆ›å»ºä¸€ä¸ªConnectionFactory, å¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Connection connection = connectionFactory.newConnection(); //3 é€šè¿‡connectionåˆ›å»ºä¸€ä¸ªChannel Channel channel = connection.createChannel(); Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;(); headers.put(&quot;my1&quot;, &quot;111&quot;); headers.put(&quot;my2&quot;, &quot;222&quot;); AMQP.BasicProperties properties = new AMQP.BasicProperties.Builder() .deliveryMode(2) .contentEncoding(&quot;UTF-8&quot;) .expiration(&quot;10000&quot;) .headers(headers) .build(); //4 é€šè¿‡Channelå‘é€æ•°æ® for(int i=0; i &lt; 5; i++)&#123; String msg = &quot;Hello RabbitMQ!&quot;; //1 exchange 2 routingKey channel.basicPublish(&quot;&quot;, &quot;test001&quot;, properties, msg.getBytes()); &#125; //5 è®°å¾—è¦å…³é—­ç›¸å…³çš„è¿žæŽ¥ channel.close(); connection.close(); &#125;&#125; returnlistener12345678910111213141516171819202122232425262728293031323334public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchangeName = &quot;test_return_exchange&quot;; String routingKey = &quot;return.#&quot;; String queueName = &quot;test_return_queue&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); QueueingConsumer queueingConsumer = new QueueingConsumer(channel); channel.basicConsume(queueName, true, queueingConsumer); while(true)&#123; Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody()); System.err.println(&quot;æ¶ˆè´¹è€…: &quot; + msg); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_return_exchange&quot;; String routingKey = &quot;return.save&quot;; String routingKeyError = &quot;abc.save&quot;; String msg = &quot;Hello RabbitMQ Return Message&quot;; channel.addReturnListener(new ReturnListener() &#123; @Override public void handleReturn(int replyCode, String replyText, String exchange, String routingKey, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;---------handle return----------&quot;); System.err.println(&quot;replyCode: &quot; + replyCode); System.err.println(&quot;replyText: &quot; + replyText); System.err.println(&quot;exchange: &quot; + exchange); System.err.println(&quot;routingKey: &quot; + routingKey); System.err.println(&quot;properties: &quot; + properties); System.err.println(&quot;body: &quot; + new String(body)); &#125; &#125;); channel.basicPublish(exchange, routingKeyError, true, null, msg.getBytes()); //channel.basicPublish(exchange, routingKeyError, true, null, msg.getBytes());&#125;&#125;]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åƒå³°RabbitMQ è€å¸ˆæºä»£ç ]]></title>
    <url>%2F2018%2F12%2F05%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F%E5%8D%83%E5%B3%B0%20Rabbit%20MQ%20%E8%80%81%E5%B8%88%E6%BA%90%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[åƒå³° Rabbit MQ è€å¸ˆæºä»£ç hello123456789101112131415161718192021public class Recver &#123; private final static String QUEUE = &quot;testhello&quot;;//é˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); QueueingConsumer consumer =new QueueingConsumer(channel);//å®šä¹‰ä¸€ä¸ªæ¶ˆè´¹è€…,QueueingConsumerå·²ç»è¿‡æ—¶,å»ºè®®ä½¿ç”¨DefaultConsumerå­ç±» //æŽ¥æ”¶æ¶ˆæ¯ ,å‚æ•°2 æ˜¯è‡ªåŠ¨ç¡®è®¤ channel.basicConsume(QUEUE, true, consumer); while (true) &#123; //èŽ·å–æ¶ˆæ¯ QueueingConsumer.Delivery delivery = consumer.nextDelivery();//å¦‚æžœæ²¡æœ‰æ¶ˆæ¯ä¼šç­‰å¾…,æœ‰çš„è¯å°±èŽ·å–æ‰§è¡Œç„¶åŽé”€æ¯,æ˜¯ä¸€æ¬¡æ€§çš„ String message = new String(delivery.getBody()); System.out.println(message); &#125; &#125;&#125; 123456789101112131415161718192021222324public class Sender &#123; private final static String QUEUE = &quot;testhello&quot;;//é˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; //èŽ·å–è¿žæŽ¥ Connection connection = ConnextionUtil.getConnection(); //åˆ›å»ºé€šé“ Channel channel = connection.createChannel(); //å£°æ˜Žé˜Ÿåˆ—,å¦‚æžœé˜Ÿåˆ—å­˜åœ¨åˆ™ä»€ä¹ˆéƒ½ä¸åš,å¦‚æžœä¸å­˜åœ¨æ‰åˆ›å»º // å‚æ•°1 é˜Ÿåˆ—çš„åå­— //å‚æ•°2 æ˜¯å¦æŒä¹…åŒ–é˜Ÿåˆ—,æˆ‘ä»¬çš„é˜Ÿåˆ—æ¨¡å¼æ˜¯åœ¨å†…å­˜ä¸­çš„,å¦‚æžœ rabbitmq é‡å¯ä¼šä¸¢å¤±,å¦‚æžœæˆ‘ä»¬è®¾ç½®ä¸º true, åˆ™ä¼šä¿å­˜åˆ° erlang è‡ªå¸¦çš„æ•°æ®åº“ä¸­,é‡å¯åŽä¼šé‡æ–°è¯»å– //å‚æ•°3 æ˜¯å¦æŽ’å¤–,æœ‰ä¸¤ä¸ªä½œç”¨,ç¬¬ä¸€ä¸ªå½“æˆ‘ä»¬çš„è¿žæŽ¥å…³é—­åŽæ˜¯å¦ä¼šè‡ªåŠ¨åˆ é™¤é˜Ÿåˆ—,ä½œç”¨äºŒ æ˜¯å¦ç§æœ‰å½“å¤©å‰é˜Ÿåˆ—,å¦‚æžœç§æœ‰äº†,å…¶ä»–é€šé“ä¸å¯ä»¥è®¿é—®å½“å‰é˜Ÿåˆ—,å¦‚æžœä¸º true, ä¸€èˆ¬æ˜¯ä¸€ä¸ªé˜Ÿåˆ—åªé€‚ç”¨äºŽä¸€ä¸ªæ¶ˆè´¹è€…çš„æ—¶å€™ //å‚æ•°4 æ˜¯å¤Ÿè‡ªåŠ¨åˆ é™¤ //å‚æ•°5 æˆ‘ä»¬çš„ä¸€äº›å…¶ä»–å‚æ•° channel.queueDeclare(QUEUE, false, false, false, null); //å‘é€å†…å®¹ channel.basicPublish(&quot;&quot;,QUEUE,null,&quot;å‘é€çš„æ¶ˆæ¯&quot;.getBytes()); //å…³é—­è¿žæŽ¥ channel.close(); connection.close(); &#125;&#125; persist1234567891011121314151617181920public class Recver &#123; private static String EXCHANGE_NAME = &quot;testpersist&quot;; private static String QUEUE_NAME = &quot;testpersistqueue&quot;; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;, true, false, null); //å£°æ˜ŽæŒä¹…åŒ–çš„é˜Ÿåˆ— channel.queueDeclare(QUEUE_NAME, true, false, false, null); channel.queueBind(QUEUE_NAME,EXCHANGE_NAME,&quot;abc&quot;); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;æ”¶åˆ°æ¶ˆæ¯:&quot;+new String(body)); &#125; &#125;; channel.basicConsume(QUEUE_NAME, true, consumer); &#125;&#125; 12345678910111213141516public class Sender &#123; private static String EXCHANGE_NAME = &quot;testpersist&quot;; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); //å£°æ˜ŽæŒä¹…åŒ–çš„äº¤æ¢æœº channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;, true, false, null); //å£°æ˜ŽæŒä¹…åŒ–æ¶ˆæ¯ channel.basicPublish(EXCHANGE_NAME, &quot;abc&quot;, MessageProperties.PERSISTENT_TEXT_PLAIN, &quot;æŒä¹…åŒ–çš„æ¶ˆæ¯&quot;.getBytes()); channel.close(); connection.close(); &#125;&#125; publish123456789101112131415161718192021222324public class Recver1 &#123; private final static String EXCHANGE_NAME = &quot;testexchange&quot;;//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testpubqueue1&quot;, false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº channel.queueBind(&quot;testpubqueue1&quot;, EXCHANGE_NAME, &quot;&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;æ¶ˆè´¹è€…11111111:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testpubqueue1&quot;, false, consumer); &#125;&#125; 1234567891011121314151617181920public class Recver2 &#123; private final static String EXCHANGE_NAME = &quot;testexchange&quot;;//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testpubqueue2&quot;, false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº channel.queueBind(&quot;testpubqueue2&quot;, EXCHANGE_NAME, &quot;&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;æ¶ˆè´¹è€…2222222:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testpubqueue2&quot;, false, consumer); &#125;&#125; 1234567891011121314public class Sender &#123; private final static String EXCHANGE_NAME = &quot;testexchange&quot;;//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); //å£°æ˜Žäº¤æ¢æœº channel.exchangeDeclare(EXCHANGE_NAME, &quot;fanout&quot;);//å®šä¹‰ä¸€ä¸ªäº¤æ¢æœº,ç±»åž‹æ˜¯fanout,ä¹Ÿå°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ //å‘å¸ƒè®¢é˜…æ¨¡å¼çš„,å› ä¸ºæ¶ˆæ¯æ˜¯å…ˆå‘åˆ°äº¤æ¢æœºä¸­,è€Œäº¤æ¢æœºæ˜¯æ²¡æœ‰ä¿å­˜åŠŸèƒ½çš„,æ‰€ä»¥å¦‚æžœæ²¡æœ‰æ¶ˆè´¹è€…,æ¶ˆæ¯ä¼šä¸¢å¤± channel.basicPublish(EXCHANGE_NAME, &quot;&quot;, null, &quot;å‘å¸ƒè®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯&quot;.getBytes()); channel.close(); connection.close(); &#125;&#125; ##route 12345678910111213141516171819202122232425public class Recver1 &#123; private final static String EXCHANGE_NAME = &quot;testeoute&quot;;//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testroutequeue1&quot;, false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº //å‚æ•°3 æ ‡è®°,ç»‘å®šåˆ°äº¤æ¢æœºçš„æ—¶å€™ä¼šæŒ‡å®šä¸€ä¸ªæ ‡è®°,åªæœ‰å’Œå®ƒä¸€æ ·çš„æ ‡è®°çš„æ¶ˆæ¯æ‰ä¼šè¢«å½“å‰æ¶ˆè´¹è€…æ”¶åˆ° // ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº,ç»‘å®šè‡ªå·±çš„å…³é”®å­— key ä¸ºkey,æ³¨æ„åœ¨ç»‘å®šåˆ°æŒ‡å®šè·¯ç”±(äº¤æ¢æœº)çš„æ—¶å€™,è¯¥è·¯ç”±å¿…é¡»å­˜åœ¨,ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¿…é¡»å…ˆç”±å‘é€è€…åˆ›å»ºä¸€ä¸ªè·¯ç”±æ‰å¯ä»¥ channel.queueBind(&quot;testroutequeue1&quot;, EXCHANGE_NAME, &quot;key1&quot;); //å¦‚æžœè¦æŽ¥æ”¶å¤šä¸ªæ ‡è®°,åªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡å³å¯ channel.queueBind(&quot;testroutequeue1&quot;, EXCHANGE_NAME, &quot;key2&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;æ¶ˆè´¹è€…11111111:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testroutequeue1&quot;, false, consumer); &#125;&#125; 1234567891011121314151617181920212223public class Recver2 &#123; private final static String EXCHANGE_NAME = "testeoute";//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testroutequeue2", false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº //å‚æ•°3 æ ‡è®°,ç»‘å®šåˆ°äº¤æ¢æœºçš„æ—¶å€™ä¼šæŒ‡å®šä¸€ä¸ªæ ‡è®°,åªæœ‰å’Œå®ƒä¸€æ ·çš„æ ‡è®°çš„æ¶ˆæ¯æ‰ä¼šè¢«å½“å‰æ¶ˆè´¹è€…æ”¶åˆ° channel.queueBind("testroutequeue2", EXCHANGE_NAME, "key1"); //å¦‚æžœè¦æŽ¥æ”¶å¤šä¸ªæ ‡è®°,åªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡å³å¯ channel.queueBind("testroutequeue2", EXCHANGE_NAME, "key3"); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("æ¶ˆè´¹è€…22222:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testroutequeue2", false, consumer); &#125;&#125; 123456789101112public class Sender &#123; private final static String EXCHANGE_NAME = &quot;testeoute&quot;; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;);//å®šä¹‰è·¯ç”±æ ¼å¼çš„äº¤æ¢æœº channel.basicPublish(EXCHANGE_NAME, &quot;key3&quot;, null, &quot;è·¯ç”±æ¶ˆæ¯&quot;.getBytes()); channel.close(); connection.close(); &#125;&#125; ##spring 12345678910 */public class MyConsumer &#123; /** * ç”¨äºŽæŽ¥æ”¶æ¶ˆæ¯ * @param message */ public void test(String message) &#123; System.err.println(message); &#125;&#125; 12345678public class SpringTest &#123; public static void main(String[] args) throws Exception&#123; ApplicationContext context = new ClassPathXmlApplicationContext(&quot;classpath:applicationContext.xml&quot;); RabbitTemplate template = context.getBean(RabbitTemplate.class); template.convertAndSend(&quot;spring çš„æ¶ˆæ¯&quot;); ((ClassPathXmlApplicationContext) context).destroy(); &#125;&#125; spring212345678@Component(&quot;confirmCallBackListener&quot;)public class ConfirmCallBackListener implements RabbitTemplate.ConfirmCallback &#123; @Override public void confirm(CorrelationData correlationData, boolean ack, String cause) &#123; System.err.println(&quot;ç¡®è®¤å›žè°ƒ ack==&quot;+ack+&quot; cause==&quot;+cause); &#125;&#125; 12345678910 @Component(&quot;publishUtil&quot;)public class PublishUtil &#123; @Autowired private AmqpTemplate amqpTemplate; public void send(String exchange, String routingkey, Object message) &#123; amqpTemplate.convertAndSend(exchange,routingkey,message ); &#125;&#125; 1234567891011121314151617181920@Component(&quot;receiveConfirmTestListener&quot;)public class ReceiveConfirmTestListener implements ChannelAwareMessageListener &#123; /** * æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™æ‰§è¡Œçš„ç›‘å¬ * @param message * @param channel * @throws Exception */ @Override public void onMessage(Message message, Channel channel) throws Exception &#123; try &#123; System.err.println(&quot;æ¶ˆè´¹è€…æ”¶åˆ°äº†æ¶ˆæ¯&quot; + message); channel.basicAck(message.getMessageProperties().getDeliveryTag(),false); &#125;catch (Exception e)&#123; e.printStackTrace(); channel.basicAck(message.getMessageProperties().getDeliveryTag(),false); &#125; &#125;&#125; 12345678 @Component(&quot;returnCallBackListener&quot;)public class ReturnCallBackListener implements RabbitTemplate.ReturnCallback &#123; @Override public void returnedMessage(Message message, int replyCode, String replyText, String exchange, String routingKey) &#123; System.err.println(&quot;å¤±è´¥ message==&quot;+new String(message.getBody())+&quot; replyCode==&quot;+replyCode+&quot; replyText&quot;+replyText+&quot; exchange&quot;+exchange+&quot; routingKey&quot;+routingKey); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253 @RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(locations = &#123;&quot;classpath:applicationContext2.xml&quot;&#125;)public class TestMain &#123; @Autowired private PublishUtil publishUtil; private static String exChange = &quot;DIRECT_EX&quot;;//äº¤æ¢æœº private static String queue = &quot;CONFIRM_TEST&quot;; /** * EXCHANGE QUEUEéƒ½å¯¹, confirm ä¼šæ‰§è¡Œ, ack=true * @throws Exception */ @Test public void test1() throws Exception&#123; String message = &quot;å½“å‰æ—¶é—´æ˜¯:&quot; + System.currentTimeMillis(); publishUtil.send(exChange, queue, message); Thread.sleep(2000); &#125; /** * EXCHANGEé”™è¯¯ QUEUEå¯¹, confirm ä¼šæ‰§è¡Œ, ack=false * @throws Exception */ @Test public void test2() throws Exception&#123; String message = &quot;å½“å‰æ—¶é—´æ˜¯:&quot; + System.currentTimeMillis(); publishUtil.send(exChange+&quot;!&quot;, queue, message); Thread.sleep(2000); &#125; /** * EXCHANGEå¯¹çš„ QUEUEé”™çš„,confirm ä¼šæ‰§è¡Œ act=true, å¤±è´¥ä¼šæ‰§è¡Œ * @throws Exception */ @Test public void test3() throws Exception&#123; String message = &quot;å½“å‰æ—¶é—´æ˜¯:&quot; + System.currentTimeMillis(); publishUtil.send(exChange, queue+&quot;1&quot;, message); Thread.sleep(2000); &#125; /** * EXCHANGE QUEUEéƒ½æ˜¯é”™çš„ confirm ä¼šæ‰§è¡Œ,ä½†æ˜¯ack=false * @throws Exception */ @Test public void test4() throws Exception&#123; String message = &quot;å½“å‰æ—¶é—´æ˜¯:&quot; + System.currentTimeMillis(); publishUtil.send(exChange+&quot;`&quot;, queue+&quot;1&quot;, message); Thread.sleep(2000); &#125; topic123456789101112131415161718192021222324 public class Recver1 &#123; private final static String EXCHANGE_NAME = &quot;testtopic&quot;;//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testtopicqueue1&quot;, false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº //å‚æ•°3 æ ‡è®°,ç»‘å®šåˆ°äº¤æ¢æœºçš„æ—¶å€™ä¼šæŒ‡å®šä¸€ä¸ªæ ‡è®°,åªæœ‰å’Œå®ƒä¸€æ ·çš„æ ‡è®°çš„æ¶ˆæ¯æ‰ä¼šè¢«å½“å‰æ¶ˆè´¹è€…æ”¶åˆ° channel.queueBind(&quot;testtopicqueue1&quot;, EXCHANGE_NAME, &quot;key.*&quot;); //å¦‚æžœè¦æŽ¥æ”¶å¤šä¸ªæ ‡è®°,åªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡å³å¯ channel.queueBind(&quot;testtopicqueue1&quot;, EXCHANGE_NAME, &quot;abc.#&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;æ¶ˆè´¹è€…11111111:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testtopicqueue1&quot;, false, consumer); &#125;&#125; 1234567891011121314151617181920212223public class Recver2 &#123; private final static String EXCHANGE_NAME = &quot;testtopic&quot;;//å®šä¹‰äº¤æ¢æœºçš„åå­— public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testtopicqueue2&quot;, false, false, false,null); //ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢æœº //å‚æ•°3 æ ‡è®°,ç»‘å®šåˆ°äº¤æ¢æœºçš„æ—¶å€™ä¼šæŒ‡å®šä¸€ä¸ªæ ‡è®°,åªæœ‰å’Œå®ƒä¸€æ ·çš„æ ‡è®°çš„æ¶ˆæ¯æ‰ä¼šè¢«å½“å‰æ¶ˆè´¹è€…æ”¶åˆ° channel.queueBind(&quot;testtopicqueue2&quot;, EXCHANGE_NAME, &quot;key.#&quot;); //å¦‚æžœè¦æŽ¥æ”¶å¤šä¸ªæ ‡è®°,åªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡å³å¯ channel.queueBind(&quot;testtopicqueue2&quot;, EXCHANGE_NAME, &quot;abc.#&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;æ¶ˆè´¹è€…22222:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testtopicqueue2&quot;, false, consumer); &#125;&#125; 1234567891011121314public class Sender &#123; private final static String EXCHANGE_NAME = &quot;testtopic&quot;; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); // å£°æ˜Žexchange,å£°æ˜Žä¸º topic ä¹Ÿå°±æ˜¯é€šé…ç¬¦ç±»åž‹ channel.exchangeDeclare(EXCHANGE_NAME, &quot;topic&quot;); //å‘é€ abc.1.2æ•°æ®,å‡¡æ˜¯èƒ½åŒ¹é…åˆ°è¿™ä¸ªå…³é”®è¯çš„éƒ½ä¼šæ”¶åˆ° channel.basicPublish(EXCHANGE_NAME, &quot;abc.1.2&quot;, null, &quot;topic æ¨¡å¼æ¶ˆæ¯111&quot;.getBytes()); channel.close(); connection.close(); &#125;&#125; util123456789101112 public class ConnextionUtil &#123; public static Connection getConnection () throws Exception&#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.3.233&quot;);//è®¾ç½® server çš„åœ°å€ connectionFactory.setPort(5672); connectionFactory.setUsername(&quot;test&quot;); connectionFactory.setPassword(&quot;test&quot;); connectionFactory.setVirtualHost(&quot;/test&quot;); return connectionFactory.newConnection();//åˆ›å»ºä¸€ä¸ªæ–°çš„è¿žæŽ¥ &#125;&#125; work12345678910111213141516171819202122232425262728293031public class Recver1 &#123; private final static String QUEUE = &quot;testwork&quot;;//é˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); // åŒä¸€æ—¶åˆ»æœåŠ¡å™¨åªä¼šå‘ä¸€æ¡æ¶ˆæ¯ç»™æ¶ˆè´¹è€…,åªæœ‰å½“å‰æ¶ˆè´¹è€…å°†æ¶ˆæ¯å¤„ç†å®ŒæˆåŽæ‰ä¼šèŽ·å–åˆ°ä¸‹ä¸€æ¡æ¶ˆæ¯ //æ³¨é‡ŠæŽ‰åŽå¯ä»¥èŽ·å–å¤šæ¡æ¶ˆæ¯,ä½†æ˜¯ä¼šä¸€æ¡ä¸€æ¡å¤„ç† channel.basicQos(1);//å‘Šè¯‰æœåŠ¡å™¨,åœ¨æˆ‘ä»¬æ²¡æœ‰ç¡®è®¤å½“å‰æ¶ˆæ¯å®Œæˆä¹‹å‰,ä¸è¦ç»™æˆ‘å‘æ–°çš„æ¶ˆæ¯ DefaultConsumer consumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //å½“æˆ‘ä»¬æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™è°ƒç”¨ System.out.println(&quot;æ¶ˆè´¹è€…1 æ”¶åˆ°çš„å†…å®¹æ˜¯:&quot;+new String(body)); //ç¡®è®¤ try &#123; Thread.sleep(10);//æ¨¡æ‹Ÿè€—æ—¶ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; channel.basicAck(envelope.getDeliveryTag(), false);//å‚æ•°2,false ä¸ºç¡®è®¤æ”¶åˆ°æ¶ˆæ¯, true ä¸ºæ‹’æŽ¥æ”¶åˆ°æ¶ˆæ¯ &#125; &#125;; //æ³¨å†Œæ¶ˆè´¹è€…, å‚æ•°2 æ‰‹åŠ¨ç¡®è®¤,ä»£è¡¨æˆ‘ä»¬æ”¶åˆ°æ¶ˆæ¯åŽéœ€è¦æ‰‹åŠ¨å‘Šè¯‰æœåŠ¡å™¨,æˆ‘æ”¶åˆ°æ¶ˆæ¯äº† channel.basicConsume(QUEUE,false,consumer); &#125;&#125; 1234567891011121314151617181920212223242526272829public class Recver2 &#123; private final static String QUEUE = &quot;testwork&quot;;//é˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); channel.basicQos(1);//å‘Šè¯‰æœåŠ¡å™¨,åœ¨æˆ‘ä»¬æ²¡æœ‰ç¡®è®¤å½“å‰æ¶ˆæ¯å®Œæˆä¹‹å‰,ä¸è¦ç»™æˆ‘å‘æ–°çš„æ¶ˆæ¯ DefaultConsumer consumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //å½“æˆ‘ä»¬æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™è°ƒç”¨ System.out.println(&quot;æ¶ˆè´¹è€…2 æ”¶åˆ°çš„å†…å®¹æ˜¯:&quot;+new String(body)); try &#123; Thread.sleep(300);//æ¨¡æ‹Ÿè€—æ—¶ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; //ç¡®è®¤ channel.basicAck(envelope.getDeliveryTag(), false);//å‚æ•°2,false ä¸ºç¡®è®¤æ”¶åˆ°æ¶ˆæ¯, true ä¸ºæ‹’æŽ¥æ”¶åˆ°æ¶ˆæ¯ &#125; &#125;; //æ³¨å†Œæ¶ˆè´¹è€…, å‚æ•°2 æ‰‹åŠ¨ç¡®è®¤,ä»£è¡¨æˆ‘ä»¬æ”¶åˆ°æ¶ˆæ¯åŽéœ€è¦æ‰‹åŠ¨å‘Šè¯‰æœåŠ¡å™¨,æˆ‘æ”¶åˆ°æ¶ˆæ¯äº† channel.basicConsume(QUEUE,false,consumer); &#125;&#125; 123456789101112131415161718192021222324252627 public class Sender &#123; private final static String QUEUE = &quot;testwork&quot;;//é˜Ÿåˆ—çš„åå­— public static void main(String[] args) throws Exception &#123; //èŽ·å–è¿žæŽ¥ Connection connection = ConnextionUtil.getConnection(); //åˆ›å»ºé€šé“ Channel channel = connection.createChannel(); //å£°æ˜Žé˜Ÿåˆ—,å¦‚æžœé˜Ÿåˆ—å­˜åœ¨åˆ™ä»€ä¹ˆéƒ½ä¸åš,å¦‚æžœä¸å­˜åœ¨æ‰åˆ›å»º // å‚æ•°1 é˜Ÿåˆ—çš„åå­— //å‚æ•°2 æ˜¯å¦æŒä¹…åŒ–é˜Ÿåˆ—,æˆ‘ä»¬çš„é˜Ÿåˆ—æ¨¡å¼æ˜¯åœ¨å†…å­˜ä¸­çš„,å¦‚æžœ rabbitmq é‡å¯ä¼šä¸¢å¤±,å¦‚æžœæˆ‘ä»¬è®¾ç½®ä¸º true, åˆ™ä¼šä¿å­˜åˆ° erlang è‡ªå¸¦çš„æ•°æ®åº“ä¸­,é‡å¯åŽä¼šé‡æ–°è¯»å– //å‚æ•°3 æ˜¯å¦æŽ’å¤–,æœ‰ä¸¤ä¸ªä½œç”¨,ç¬¬ä¸€ä¸ªå½“æˆ‘ä»¬çš„è¿žæŽ¥å…³é—­åŽæ˜¯å¦ä¼šè‡ªåŠ¨åˆ é™¤é˜Ÿåˆ—,ä½œç”¨äºŒ æ˜¯å¦ç§æœ‰å½“å¤©å‰é˜Ÿåˆ—,å¦‚æžœç§æœ‰äº†,å…¶ä»–é€šé“ä¸å¯ä»¥è®¿é—®å½“å‰é˜Ÿåˆ—,å¦‚æžœä¸º true, ä¸€èˆ¬æ˜¯ä¸€ä¸ªé˜Ÿåˆ—åªé€‚ç”¨äºŽä¸€ä¸ªæ¶ˆè´¹è€…çš„æ—¶å€™ //å‚æ•°4 æ˜¯å¤Ÿè‡ªåŠ¨åˆ é™¤ //å‚æ•°5 æˆ‘ä»¬çš„ä¸€äº›å…¶ä»–å‚æ•° channel.queueDeclare(QUEUE, false, false, false, null); for (int i = 0; i &lt; 100; i++) &#123; //å‘é€å†…å®¹ channel.basicPublish(&quot;&quot;,QUEUE,null,(&quot;å‘é€çš„æ¶ˆæ¯&quot;+i).getBytes()); &#125; //å…³é—­è¿žæŽ¥ channel.close(); connection.close(); &#125;&#125; resourceapplication.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:rabbit="http://www.springframework.org/schema/rabbit" xsi:schemaLocation="http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.7.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd"&gt; &lt;!--1 å®šä¹‰è¿žæŽ¥å·¥åŽ‚--&gt; &lt;rabbit:connection-factory id="connectionFactory" host="192.168.3.233" port="5672" username="test" password="test" virtual-host="/test"/&gt; &lt;!--æ¶ˆæ¯æ˜¯å‘é€åˆ°äº¤æ¢æœºè¿˜æ˜¯é˜Ÿåˆ—--&gt; &lt;!--å®šä¹‰ rabbitmq çš„æ¨¡æ¿ queue="" å¦‚æžœå‘é€åˆ°é˜Ÿåˆ—åˆ™å†™é˜Ÿåˆ— exchange="" å¦‚æžœå‘é€åˆ°äº¤æ¢æœºåˆ™å†™äº¤æ¢æœº routing-key="" å®šä¹‰è·¯ç”±çš„å…³é”®å­— --&gt; &lt;rabbit:template id="template" connection-factory="connectionFactory" exchange="fanoutExchange" /&gt; &lt;rabbit:admin connection-factory="connectionFactory"/&gt; &lt;!--å®šä¹‰é˜Ÿåˆ—--&gt; &lt;rabbit:queue name="myQueue" auto-declare="true"/&gt; &lt;!--å®šä¹‰äº¤æ¢æœº--&gt; &lt;rabbit:fanout-exchange name="fanoutExchange" auto-declare="true"&gt; &lt;!--å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœº--&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="myQueue"&gt; &lt;/rabbit:binding&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:fanout-exchange&gt;&lt;!--å®šä¹‰ç›‘å¬å®¹æ˜“,å½“æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™ä¼šæ‰§è¡Œå†…éƒ¨çš„é…ç½®--&gt; &lt;rabbit:listener-container connection-factory="connectionFactory"&gt;&lt;!--å®šä¹‰åˆ°åº•å“ªä¸ªç±»é‡Œé¢çš„ä»€ä¹ˆæ–¹æ³•ç”¨äºŽå¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯--&gt; &lt;rabbit:listener ref="consumer" method="test" queue-names="myQueue"/&gt; &lt;/rabbit:listener-container&gt; &lt;!--å®šä¹‰æ¶ˆè´¹è€…--&gt; &lt;bean id="consumer" class="com.qianfeng.spring.MyConsumer"/&gt;&lt;!-- &lt;rabbit:direct-exchange name="directExchange" durable="true" auto-delete="false"&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="myQueue" key="key1"&gt; &lt;/rabbit:binding&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:direct-exchange&gt;--&gt; &lt;!-- &lt;rabbit:topic-exchange name="topicExchange" durable="true" auto-delete="false"&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding pattern="dfasfsd.*" queue="myQueue"/&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:topic-exchange&gt;--&gt;&lt;/beans&gt; application2.xml12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:rabbit="http://www.springframework.org/schema/rabbit" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.7.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd"&gt; &lt;context:component-scan base-package="com.qianfeng"/&gt; &lt;bean id="jsonMessageConverter" class="org.springframework.amqp.support.converter.Jackson2JsonMessageConverter" /&gt; &lt;!-- ô°½ô°¾RabbitMQô°™ô°†ô°‡ô´œô´¡ publisher-confirms ô°’ôµ ô±ˆô±‰, publisher-confirms ä¸º trueçš„æƒ…å†µä¸‹ ç¡®è®¤å¤±è´¥ç­‰å›žè°ƒæ‰ä¼šæ‰§è¡Œ ôµ¡ô³šô°€ô°”ôµˆôµ‰--&gt; &lt;rabbit:connection-factory id="connectionFactory" host="192.168.3.233" port="5672" username="test" password="test" virtual-host="/test" publisher-confirms="true" /&gt; &lt;rabbit:admin connection-factory="connectionFactory" /&gt; &lt;!-- ô°¬ô±Šôµžô±¯ô°½ôµ¢ô´¿ô°© --&gt;&lt;!-- mandatoryô³…ô³†ô²¬ô³¿true,return callbackô°¶ô´Ÿôµ£ --&gt; &lt;rabbit:template id="amqpTemplate" connection-factory="connectionFactory" confirm-callback="confirmCallBackListener" return-callback="returnCallBackListener" mandatory="true"/&gt; &lt;rabbit:queue name="CONFIRM_TEST" /&gt; &lt;rabbit:direct-exchange name="DIRECT_EX" id="DIRECT_EX" &gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="CONFIRM_TEST" /&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:direct-exchange&gt; &lt;!-- ô´ô³¿consumer, ô°¿ô±€ô°™ô´›ô²‡queueô°™ô±šô±–ô³²ô²˜ --&gt; &lt;rabbit:listener-container connection-factory="connectionFactory" acknowledge="manual" &gt; &lt;rabbit:listener queues="CONFIRM_TEST" ref="receiveConfirmTestListener" /&gt;&lt;/rabbit:listener-container&gt;&lt;/beans&gt; 1234567log4j.rootLogger=DEBUG,A1log4j.logger.com.taotao = DEBUGlog4j.logger.org.mybatis = DEBUGlog4j.appender.A1=org.apache.log4j.ConsoleAppenderlog4j.appender.A1.layout=org.apache.log4j.PatternLayoutlog4j.appender.A1.layout.ConversionPattern=%-d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; [%t] [%c]-[%p] %m%n]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¶ˆè´¹ç”Ÿäº§ä¸Žæ¶ˆè´¹]]></title>
    <url>%2F2018%2F12%2F05%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F4%E6%B6%88%E8%B4%B9%E7%94%9F%E4%BA%A7%E4%B8%8E%E6%B6%88%E8%B4%B9%2F</url>
    <content type="text"><![CDATA[1.åŠ å…¥ä¾èµ–12345&lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;scope&gt;3.6.5&lt;/scope&gt; &lt;/dependency&gt; 2.ç¼–ç å®žæˆ˜2.1Productor12345678910111213141516171819202122public class Procuder &#123; // ç”Ÿäº§ç«¯Procuder http://94.191.24.33:15672/#/ public static void main(String[] args) throws Exception &#123; // 1.åˆ›å»ºä¸€ä¸ªConnectionFactory å¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("94.191.24.33"); connectionFactory.setPort(15672); connectionFactory.setVirtualHost("/"); // 2.é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥connectionFactory.newConnection(); Connection connection = connectionFactory.newConnection(); // 3.é€šè¿‡connectionåˆ›å»ºä¸€ä¸ªChannel Channel channel = connection.createChannel(); // 4.é€šè¿‡Channelå‘é€æ•°æ® String msg = "Hello RabbitMQ"; //channel.basicPublish(exchange, routingKey, props, body); channel.basicPublish("", "test001", null, msg.getBytes()); channel.close(); connection.close(); &#125; 2.2.Consumer12345678910111213141516171819202122232425262728293031323334353637public class Consumer &#123; public static void main(String[] args) throws Exception &#123; // 1.åˆ›å»ºä¸€ä¸ªConnectionFactoryï¼Œå¹¶è¿›è¡Œé…ç½® ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("94.191.24.33"); connectionFactory.setPort(5672); connectionFactory.setVirtualHost("/"); // 2.é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Connection connection = connectionFactory.newConnection(); // 3 é€šè¿‡è¿žæŽ¥å·¥åŽ‚åˆ›å»ºè¿žæŽ¥ Channel channel = connection.createChannel(); // 4.ç”³æ˜Žï¼ˆåˆ›å»ºï¼‰ä¸€ä¸ªé˜Ÿåˆ— String queueName = "test001"; // channel.queueDeclare(queueName, durable, exclusive, autoDelete, arguments) channel.queueDeclare("test001", true, false, false, null); // 5.åˆ›å»ºæ¶ˆè´¹è€… QueueingConsumer queueingConsumer = new QueueingConsumer(channel); /** * 6.è®¾ç½®channel # channel.basicConsume(queue,autoAck, autoAck) # 1ï¼šqueueï¼šé˜Ÿåˆ—çš„åå­— * 2.autoAckï¼šæ˜¯å¦è‡ªåŠ¨ç­¾æ”¶ 3:autoAckï¼šå…·ä½“çš„æ¶ˆè´¹è€…å¯¹è±¡ */ channel.basicConsume(queueName, true, queueingConsumer); //7.èŽ·å–æ¶ˆæ¯ while (true) &#123; Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody());// èŽ·å–æ¶ˆæ¯ System.out.println("æ¶ˆè´¹ç«¯" + msg); &#125; &#125;&#125; 2.3 å¯åŠ¨ç¨‹åºçœ‹ç®¡æŽ§å° 2.4 æ–¹æ³•çš„API3.ä¸€äº›åŸºç¡€]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaå¼•ç”¨ä¼ é€’]]></title>
    <url>%2F2018%2F12%2F04%2Fjava%E5%9F%BA%E7%A1%80%2F%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬æ•°æ®ç±»åž‹ï¼ˆshowï¼ˆï¼‰æ–¹æ³•å‡ºæ ˆ æ ˆé‡Œé¢åªæœ‰æˆå‘˜å˜é‡ï¼‰123456789101112package å¼•ç”¨ä¼ é€’;//åŸºæœ¬æ•°æ®ç±»åž‹å‚æ•°ä¼ é€’public class Demo &#123; public static void main(String[] args) &#123; int x = 3; show(x);//â­ï¸x=3 showï¼ˆï¼‰æ–¹æ³•å‡ºæ ˆ æ ˆé‡Œé¢åªæœ‰3 System.out.println("x=" + x); &#125; public static void show(int x) &#123; x = 4; &#125;&#125; 123456789101112package å¼•ç”¨ä¼ é€’;//åŸºæœ¬æ•°æ®ç±»åž‹å‚æ•°ä¼ é€’public class Demo &#123; public static void main(String[] args) &#123; int x = 3; show(x);// ç­”æ¡ˆx=4 æ‰§è¡Œçš„æ˜¯show é‡Œé¢çš„æ–¹æ³• &#125; public static void show(int x) &#123; x = 4; System.out.println("x=" + x); &#125;&#125; å¼•ç”¨æ•°æ®ç±»åž‹å‚æ•°ä¼ é€’ 1234567891011121314package å¼•ç”¨ä¼ é€’;//å¼•ç”¨æ•°æ®ç±»åž‹public class Demo2 &#123; int x = 3; public static void main(String[] args) &#123; Demo2 demo2 = new Demo2(); demo2.x=9; show(demo2);// â­ï¸ x=4 System.out.println(demo2.x); &#125; public static void show(Demo2 d) &#123; d.x = 4; &#125;&#125; æ€»ç»“ å¼•ç”¨æ•°æ®ç±»åž‹ä¼ é€’è¯¦è§£ æ ˆå†…å­˜ï¼šä¿å­˜æ‰€æœ‰çš„å¯¹è±¡åç§° d(ä¿å­˜äº†å¼•ç”¨å †å†…å­˜ç©ºé—´çš„åœ°å€ï¼‰ å †å†…å­˜ç©ºé—´ã€‚ä¿å­˜å…·ä½“å¯¹è±¡çš„å…·ä½“å±žæ€§ å…¨å±€æ•°æ®åŒºï¼šä¿å­˜staticç±»åž‹çš„å±žæ€§ å…¨å±€ä»£ç åŒºï¼šä¿å­˜æ‰€æœ‰çš„æ–¹æ³•å®šä¹‰ javaçš„å¼•ç”¨ä¼ é€’ åŒä¸€å—å †å†…å­˜ç©ºé—´ï¼ŒåŒæ—¶è¢«å¤šä¸ªæ ˆå†…å­˜æŒ‡å‘ï¼Œä¸åŒçš„æ ˆå¯ä»¥ä¿®æ”¹åŒä¸€å—å †å†…å­˜ç©ºé—´çš„åœ°å€ 123456789101112131415161718192021222324252627282930313233package å¼•ç”¨ä¼ é€’;class Demo1 &#123; private int data = 10; public Demo1() &#123; &#125; public Demo1(int data) &#123; this.data = data; &#125; public int getData() &#123; return this.data; &#125; public void setData(int data) &#123; this.data = data; &#125;&#125;public class TestDemo &#123; public static void main(String[] args) &#123; Demo1 demo1 = new Demo1(); fun(demo1);// System.out.println(demo1.getData());//30 &#125; public static void fun(Demo1 temp) &#123; // æŽ¥å—å¼•ç”¨ temp.setData(30);// ä¿®æ”¹å±žæ€§å†…å®¹ &#125;&#125; https://blog.csdn.net/lym152898/article/details/54411956]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQç®¡æŽ§å°]]></title>
    <url>%2F2018%2F12%2F04%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F3.%E7%AE%A1%E6%8E%A7%E5%8F%B0%2F</url>
    <content type="text"><![CDATA[ä¸ç§¯è·¬æ­¥ æ— ä»¥è‡³åƒé‡Œ å…»æˆå†™åšå®¢ç†è§£çš„ä¹ æƒ¯#åšå®¢åœ¨å­¦ä¹ çš„æ—¶å€™å†™ çœ‹æœ€å¥½çš„è§†é¢‘ å†™åšå¥½çš„åšå®¢ cheerUP]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Rabbit MQå‘½ä»¤æ€»ç»“]]></title>
    <url>%2F2018%2F12%2F04%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2FRabbit%20MQ%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[å‘½ä»¤æ€»ç»“ RabbitMQä¸ç§¯è·¬æ­¥æ— ä»¥è‡³åƒé‡Œ1.lsof -i :5672 æŸ¥çœ‹æœ‰æ²¡æœ‰å¯åŠ¨æˆåŠŸ 2.rabbitmq 3.rabbitmqctl list_queues æŸ¥çœ‹æ‰€æœ‰é˜Ÿåˆ—çš„åç§° 4.rabbitmqctl list_vhosts 5.rabbitmqctl status æŸ¥çœ‹å½“å‰èŠ‚ç‚¹çš„çŠ¶æ€]]></content>
  </entry>
  <entry>
    <title><![CDATA[javaSE æ€»ç»“ IO é›†åˆ çº¿ç¨‹]]></title>
    <url>%2F2018%2F12%2F04%2Fjava%E5%9F%BA%E7%A1%80%2F%E9%9B%86%E5%90%88%2F</url>
    <content type="text"><![CDATA[1.é›†åˆ]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaåå°„]]></title>
    <url>%2F2018%2F12%2F04%2Fjava%E5%9F%BA%E7%A1%80%2F%E5%8F%8D%E5%B0%84%2F</url>
    <content type="text"><![CDATA[javaåå°„æœºåˆ¶å®Œå…¨è¯¦è§£#1.åå°„æºå¤´ â€”Classç±» 1.1 å–å¾—Classç±»å¯¹è±¡ â­ï¸1234567public class Demo &#123; public static void main(String[] args) &#123; Date date = new Date(); Class&lt;? extends Date&gt; class1 = date.getClass();//å–å¾—classç±»å¯¹è±¡ System.out.println(class1);//class java.util.Date &#125;&#125; 12345678//åˆ©ç”¨ç±».classèŽ·å¾—åå°„çš„æ˜¯å®žä¾‹åˆ’å¯¹è±¡public class Demo1 &#123; public static void main(String[] args) &#123; Date date = new Date(); Class&lt;? extends Date&gt; class1 = java.util.Date.class ;//å–å¾—classç±»å¯¹è±¡ System.out.println(class1);//class java.util.Date &#125;&#125; 12345678//åˆ©ç”¨Classç±»æä¾›çš„æ–¹æ³•å®žä¾‹åŒ–å¯¹å‘public class Demo2 &#123; public static void main(String[] args) throws ClassNotFoundException &#123; Class&lt;?&gt; forName = Class.forName("java.util.Date"); System.out.println(forName);//class java.util.Date &#125;&#125; #2.åˆ©ç”¨åå°„å®žä¾‹åŒ–å¯¹è±¡ 2.1public T newInstacne â­ï¸â­ï¸123456789101112131415161718public class Demo3 &#123; public Demo3() &#123; System.out.println("^^^^"); &#125; public String toString() &#123; return "######"; &#125;&#125;-------------------------------------------------------------------------------- public class Demo4 &#123; public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException &#123; Class&lt;?&gt; class1 = Class.forName("åå°„.Demo3"); Object object = class1.newInstance();// å®žä¾‹åŒ–å¯¹è±¡ // Demo3 demo3=new Demo3();//è°ƒç”¨æ— å‚æž„é€  System.out.println(class1); System.out.println(object); &#125;&#125; 2.2ã€‚å·¥åŽ‚è®¾è®¡æ¨¡å¼ 3.å–å¾—ç±»ç»§æ‰¿ç»“æž„ 123456789101112131415161718192021222324252627public class Demo3 extends Object implements Serializable &#123; public Demo3() &#123; System.out.println("^^^^"); &#125; public String toString() &#123; return "######"; &#125;&#125;-------------------------------------------------------------------------------- public class Demo4 &#123; public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException &#123; Class&lt;?&gt; class1 = Class.forName("åå°„.Demo3"); class1.getName();// åŒ…å.ç±»å class1.getPackage();// package åŒ…å class1.getPackage().getName();// åŒ…å class1.getSimpleName();// ç±»å class1.getSuperclass().getName();// çˆ¶ç±»çš„åŒ…å Class&lt;?&gt;[] icls = class1.getInterfaces();// [Ljava.lang.Class;@6bf256fa for (int i = 0; i &lt; icls.length; i++) &#123; System.out.println(icls[i].getSimpleName());//Serializable &#125; 4.åå°„å–å¾—æž„é€ æ–¹æ³•ï¼ˆinvokeï¼‰ 5.åå°„å–å¾—æ–¹æ³• â­ï¸â­ï¸â­ï¸ 1234567891011121314public class Demo5 &#123; public static void main(String[] args) throws ClassNotFoundException &#123; getMethodDemo(); &#125; // èŽ·å–æŒ‡å®šClassä¸­çš„å…¬å…±å‡½æ•° public static void getMethodDemo() throws ClassNotFoundException &#123; Class&lt;?&gt; clazz = Class.forName(&quot;åå°„.Persion&quot;); Method[] methods = clazz.getMethods(); for (int i = 0; i &lt; methods.length; i++) &#123; System.out.println(methods[i]); &#125; &#125; 6.Invoke â€“]]></content>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºŽjavaçš„å®¹å™¨æ³¨è§£ @Beanâ­ï¸]]></title>
    <url>%2F2018%2F12%2F04%2FSpring%2F3.java%E5%AE%B9%E5%99%A8%E7%9A%84%E6%B3%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[https://www.imooc.com/learn/196 åŽç»­æ›´æ–° 1.å®žæˆ˜ æ€»ç»“]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Beanè£…é… åŸºäºŽxmlå½¢å¼]]></title>
    <url>%2F2018%2F12%2F04%2FSpring%2F5.bean%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BD%9C%E7%94%A8%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[Spring Awre 123456789public class MoocApplicationContext implements ApplicationContextAware &#123; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; System.out.println("MoocApplicationContext : " + applicationContext.getBean("moocApplicationContext").hashCode()); &#125; &#125; 1234567891011121314151617public class MoocBeanName implements BeanNameAware, ApplicationContextAware &#123; private String beanName; @Override public void setBeanName(String name) &#123; this.beanName = name; System.out.println("MoocBeanName : " + name); &#125; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; System.out.println("setApplicationContext : " + applicationContext.getBean(this.beanName).hashCode()); &#125;&#125; Autowiring 1234567public class AutoWiringDAO &#123; public void say(String word) &#123; System.out.println("AutoWiringDAO : " + word); &#125;&#125; 12345678910111213141516171819public class AutoWiringService &#123; private AutoWiringDAO autoWiringDAO; public AutoWiringService(AutoWiringDAO autoWiringDAO) &#123; System.out.println("AutoWiringService"); this.autoWiringDAO = autoWiringDAO; &#125; public void setAutoWiringDAO(AutoWiringDAO autoWiringDAO) &#123; System.out.println("setAutoWiringDAO"); this.autoWiringDAO = autoWiringDAO; &#125; public void say(String word) &#123; this.autoWiringDAO.say(word); &#125;&#125; 123456789101112&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd" default-autowire="constructor"&gt; &lt;bean id="autoWiringService" class="com.imooc.autowiring.AutoWiringService" &gt;&lt;/bean&gt; &lt;bean class="com.imooc.autowiring.AutoWiringDAO" &gt;&lt;/bean&gt; &lt;/beans&gt;]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring AOP]]></title>
    <url>%2F2018%2F12%2F04%2FSpring%2F7.SpringAOP%2F</url>
    <content type="text"><![CDATA[â€”-]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring IOC åŠbeanå®¹å™¨ æ³¨å…¥]]></title>
    <url>%2F2018%2F12%2F04%2FSpring%2F1.SpringIOC%2F</url>
    <content type="text"><![CDATA[1.IOCåŠBeanå®¹å™¨ â€‹ 2.Spring æ³¨å…¥ &lt;å¿…é¡»è¦æœ‰get/setæ–¹æ³•&gt; &lt; property name=â€â€ ref=â€â€&gt;â­ï¸ * name= å½“å‰Beanä¸­classæ‰€åœ¨çš„ç±»çš„æ³¨å…¥çš„å±žæ€§çš„ æˆå‘˜å˜é‡å * ref=è¡¨ç¤ºå¼•ç”¨ ä¸‹ä¸€ä¸ªçš„IDå€¼ ** &lt;å¿…é¡»è¦æœ‰æž„é€ å™¨æ–¹æ³•&gt; 3.å®žæˆ˜â€“IOC3.1ä¼ ç»Ÿçš„new æ–¹å¼å®žçŽ°æŽ¥å£ç¼–ç¨‹â€‹ 3.2ä½¿ç”¨Beanå¼€å‘ 3.2 setæ³¨å…¥1.Daoå±‚ 2.serviceå±‚ 3.3 æž„é€ æ–¹æ³•æ³¨å…¥]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Rabbit MQ å‘½ä»¤è¡Œä¸Žç®¡æŽ§å°]]></title>
    <url>%2F2018%2F12%2F03%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F2.%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8E%E7%AE%A1%E6%8E%A7%E5%8F%B0%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526272829303132333435rabbitmqctl stop_appï¼šå…³é—­åº”ç”¨rabbitmqctl stop_appï¼šå¯åŠ¨åº”ç”¨rabbitmqctlstatusï¼šèŠ‚ç‚¹çŠ¶æ€rabbitmqctladd_user username passwordï¼šæ·»åŠ ç”¨æˆ·rabbitmqctllist_usersï¼šåˆ—å‡ºæ‰€æœ‰ç”¨æˆ·rabbitmqctldelete_user usernameï¼šåˆ é™¤ç”¨æˆ·rabbitmqctl clear_permissions -p vhostpath username ï¼šæ¸…æ¥šç”¨æˆ·æƒé™rabbitmqctladd_vhost vhostpathï¼šåˆ›å»ºè™šæ‹Ÿä¸»æœºrabbitmqctllist_vhostï¼šåˆ—å‡ºæ‰€æœ‰è™šæ‹Ÿä¸»æœºrabbitmqctllist_permissions -p vhostpathï¼šåˆ—å‡ºè™šæ‹Ÿä¸»æœºæ‰€æœ‰æƒé™rabbitmqctldelete_vhost vhostpathï¼šåˆ é™¤è™šæ‹Ÿä¸»æœºrabbitmqctllist_queuesï¼šæŸ¥çœ‹æ‰€æœ‰é˜Ÿåˆ—ä¿¡æ¯rabbitmqctl -p vhostpath purge_queue blueï¼šæ¸…é™¤é˜Ÿåˆ—é‡Œçš„æ¶ˆæ¯rabbitmqctlresetï¼šç§»é™¤æ‰€æœ‰æ•°æ®ï¼Œè¦åœ¨rabbitmqctlstop_appä¹‹åŽä½¿ç”¨rabbitmqctl join_cluster [--ram]ï¼šç»„æˆé›†ç¾¤å‘½ä»¤rabbitmqctlcluster_statusï¼šæŸ¥çœ‹é›†ç¾¤çŠ¶æ€rabbitmqctlchange_cluster_node_type disc |ramï¼šä¿®æ”¹é›†ç¾¤èŠ‚ç‚¹çš„å­˜å‚¨æ¨¡å¼rabbitmqctlforget_cluster_node_ [--offline] ï¼šå¿˜è®°èŠ‚ç‚¹ï¼ˆæ‘˜é™¤èŠ‚ç‚¹ï¼‰]]></content>
  </entry>
  <entry>
    <title><![CDATA[Linuxå®‰è£…RabbitMQ]]></title>
    <url>%2F2018%2F12%2F03%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F1.RabbitMQ%E4%B8%8B%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[åœ¨åŸºäºŽRPMçš„Linuxä¸Šå®‰è£…ï¼ˆRHELï¼ŒCentOSï¼ŒFedoraï¼ŒopenSUSEï¼‰ 1.ä¸‹è½½Erlang https://www.erlang-solutions.com/resources/download.html âŒâŒâŒ http://www.rabbitmq.com/releases/erlang/ â˜‘ï¸â˜‘ï¸â˜‘ï¸ 2 ä¸‹è½½RabbitMQæœåŠ¡å™¨ã€ # #æ–¹æ³•ä¸€ï¼šWget +åœ°å€æ–¹æ³•äºŒï¼šåœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤: scp å¾…ä¸Šä¼ æ–‡ä»¶å linuxç”¨æˆ·å@æœåŠ¡å™¨IP:å­˜æ”¾åˆ°æœåŠ¡å™¨çš„å“ªä¸ªä½ç½® :~ fa 3.å®‰è£…scoket 123456789101112131415161718192021222324## RabbitMQ å‚è€ƒèµ„æ–™æ…•è¯¾ç½‘è€å¸ˆè®²ä¹‰ å‡†å¤‡ï¼šyum install build-essential openssl openssl-devel unixODBC unixODBC-devel make gcc gcc-c++ kernel-devel m4 ncurses-devel tk tc xzä¸‹è½½ï¼šwget www.rabbitmq.com/releases/erlang/erlang-18.3-1.el7.centos.x86_64.rpmwget http://repo.iotti.biz/CentOS/7/x86_64/socat-1.7.3.2-5.el7.lux.x86_64.rpmwget www.rabbitmq.com/releases/rabbitmq-server/v3.6.5/rabbitmq-server-3.6.5-1.noarch.rpmé…ç½®æ–‡ä»¶ï¼švim /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.5/ebin/rabbit.appæ¯”å¦‚ä¿®æ”¹å¯†ç ã€é…ç½®ç­‰ç­‰ï¼Œä¾‹å¦‚ï¼šloopback_users ä¸­çš„ &lt;&lt;&quot;guest&quot;&gt;&gt;,åªä¿ç•™guestæœåŠ¡å¯åŠ¨å’Œåœæ­¢ï¼šå¯åŠ¨ rabbitmq-server start &amp;åœæ­¢ rabbitmqctl app_stopç®¡ç†æ’ä»¶ï¼šrabbitmq-plugins enable rabbitmq_managementè®¿é—®åœ°å€ï¼šhttp://192.168.11.76:15672/]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆè¯†RabbitMQ]]></title>
    <url>%2F2018%2F12%2F03%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F0.RabbitMQ%2F</url>
    <content type="text"><![CDATA[http://www.rabbitmq.com/#features å®‰è£…é¡ºåº ï¼šå…ˆæ˜¯erlang ç„¶åŽæ˜¯ socat ç„¶åŽæ˜¯rabbitmq Linuxå®‰è£…ï¼š]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[maven]]></title>
    <url>%2F2018%2F12%2F02%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E5%B8%B8%E7%94%A8maven%E4%BB%93%E5%BA%93%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224&lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt; &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt; &lt;version&gt;7.0.64&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.7.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mybatis.spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mybatis.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;1.6.11&lt;/version&gt;&lt;/dependency&gt;&lt;-- JSON åºåˆ—åŒ–å·¥å…·--&gt;&lt;dependency&gt; &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt; &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt; &lt;version&gt;1.9.12&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-dbcp&lt;/groupId&gt; &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt; &lt;version&gt;1.4&lt;/version&gt; &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-core&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;20.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.5&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;joda-time&lt;/groupId&gt; &lt;artifactId&gt;joda-time&lt;/artifactId&gt; &lt;version&gt;2.3&lt;/version&gt;&lt;/dependency&gt;&lt;!-- idåŠ å¯†è§£å¯† --&gt;&lt;dependency&gt; &lt;groupId&gt;org.hashids&lt;/groupId&gt; &lt;artifactId&gt;hashids&lt;/artifactId&gt; &lt;version&gt;1.0.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- ftpclient --&gt;&lt;dependency&gt; &lt;groupId&gt;commons-net&lt;/groupId&gt; &lt;artifactId&gt;commons-net&lt;/artifactId&gt; &lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- file upload --&gt;&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;&lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.0.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- mybatis pager --&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.miemiedev&lt;/groupId&gt; &lt;artifactId&gt;mybatis-paginator&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt; &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt; &lt;version&gt;0.9.4&lt;/version&gt;&lt;/dependency&gt;&lt;!-- alipay é˜¿é‡Œæ”¯ä»˜--&gt;&lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-configuration&lt;/groupId&gt; &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-lang&lt;/groupId&gt; &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;version&gt;1.1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.google.zxing&lt;/groupId&gt; &lt;artifactId&gt;core&lt;/artifactId&gt; &lt;version&gt;2.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt; &lt;artifactId&gt;gson&lt;/artifactId&gt; &lt;version&gt;2.3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.hamcrest&lt;/groupId&gt; &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt; &lt;version&gt;1.3&lt;/version&gt;&lt;/dependency&gt;&lt;redis å®¢æˆ·ç«¯ jedis&gt;&lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt;&lt;/dependency&gt;]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº‘æœåŠ¡å™¨linux awdäº‘]]></title>
    <url>%2F2018%2F12%2F02%2FLinux%2F%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ç™»å½•Linuxäº‘æœåŠ¡å™¨æµè§ˆå™¨ WebShell æ–¹å¼ç™»å½• æ”¯æŒå¤åˆ¶ç²˜è´´ã€ä¸­æ–‡è¾“å…¥æ³•ï¼Œéœ€è¦å¼€å¯ SSH ç«¯å£ï¼ˆTCP:22ï¼‰ ç«‹å³ç™»å½• æ ‡å‡†ç™»å½•æ–¹å¼ ä½¿ç”¨ Windows ç³»ç»Ÿçš„ç”µè„‘ 1ã€ä¸‹è½½å®‰è£… Windows SSH å’Œ Telnet å®¢æˆ·ç«¯å·¥å…· Puttyã€‚ ä¸‹è½½Putty 2ã€ç”¨æˆ·åï¼š rootï¼ŒHostï¼š 94.191.24.33 3ã€æŒ‰ç…§ Putty ä½¿ç”¨å¸®åŠ©è¿›è¡Œç™»å½•ã€‚ Putty å¯†ç æ–¹å¼ä½¿ç”¨å¸®åŠ© ä½¿ç”¨ Linux/Mac OS X ç³»ç»Ÿçš„ç”µè„‘ï¼ˆä½¿ç”¨å¯†ç ç™»å½•ï¼‰ 1ã€æ‰“å¼€ SSH å®¢æˆ·ç«¯ï¼ˆMacå¯ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ç»ˆç«¯ï¼‰ 2ã€è¾“å…¥ ssh -q -l root -p 22 94.191.24.33 3ã€è¾“å…¥ CVM å®žä¾‹å¯†ç è¿›è¡Œç™»å½•ã€‚ ä½¿ç”¨ Linux/Mac OS X ç³»ç»Ÿçš„ç”µè„‘ï¼ˆä½¿ç”¨å¯†é’¥ç™»å½•ï¼‰ 1ã€æ‰“å¼€ SSH å®¢æˆ·ç«¯ï¼ˆMacå¯ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ç»ˆç«¯ï¼‰ã€‚ 2ã€æŸ¥æ‰¾æ‚¨äº‘æœåŠ¡å™¨å…³è”çš„ SSH å¯†é’¥æ–‡ä»¶æœ¬åœ°å­˜æ”¾åœ°å€ã€‚ 3ã€æ‚¨çš„å¯†é’¥å¿…é¡»ä¸å…¬å¼€å¯è§ï¼ŒSSH æ‰èƒ½å·¥ä½œã€‚è¯·ä½¿ç”¨æ­¤å‘½ä»¤ï¼š chmod 400 [å¯†é’¥æ–‡ä»¶è·¯å¾„]ã€‚ 4ã€è¾“å…¥å‘½ä»¤ï¼š ssh [-i å¯†é’¥æ–‡ä»¶è·¯å¾„] root@94.191.24.33ã€‚ æµè§ˆå™¨ VNC æ–¹å¼ç™»å½• ä¸æŽ¨è æš‚ä¸æ”¯æŒå¤åˆ¶ç²˜è´´ã€ä¸­æ–‡è¾“å…¥æ³•ã€‚ ç«‹å³ç™»å½• æç¤ºï¼šé‡‡ç”¨VNCæ–¹å¼ç™»å½•ï¼Œè¯·åŠ¡å¿…å¼€å¯ MFA äºŒæ¬¡éªŒè¯æé«˜å®‰å…¨ä¿éšœçº§åˆ« git@gitee.com:GoodMrY/mmall_learning.git git@gitee.com:GoodMrY/mmall_learning.gitgit@gitee.com:GoodMrY/mmall_learning.gitgit@gitee.com:GoodMrY/mmall_learning.gitgit@gitee.com:GoodMrY/mmall_learning.git]]></content>
  </entry>
  <entry>
    <title><![CDATA[Linux å­¦ä¹  é˜²ç«å¢™ ç«¯å£å· Centos7]]></title>
    <url>%2F2018%2F12%2F01%2FLinux%2FLinux%E5%B0%8F%E7%BB%93%2F</url>
    <content type="text"><![CDATA[1 Linux é˜²ç«å¢™ ç«¯å£å· ç›¸å…³æ“ä½œ CentOS 7é»˜è®¤ä½¿ç”¨çš„æ˜¯firewallä½œä¸ºé˜²ç«å¢™ åœ¨è™šæ‹Ÿæœºcentos7ä¸Šå®‰è£…nginxä¹‹åŽè™šæ‹Ÿæœºå†…èƒ½è®¿é—®ï¼ŒçœŸæœºä¸èƒ½è®¿é—®ï¼Œä¿®æ”¹iptablesé…ç½®ä¹Ÿä¸èµ·ä½œç”¨ï¼Œæœ€åŽä¸Šç½‘æŸ¥æ‰¾äº†èµ„æ–™åŽæ‰å‘çŽ°centosçš„é˜²ç«å¢™æ”¹æˆäº†firewall,ä¸å†å«iptables,å¼€æ”¾ç«¯å£çš„æ–¹æ³•å¦‚ä¸‹ï¼š 1firewall-cmd --zone=public --add-port=80/tcp --permanent 1234567å‘½ä»¤å«ä¹‰ï¼šâ€“zone #ä½œç”¨åŸŸâ€“add-port=80/tcp #æ·»åŠ ç«¯å£ï¼Œæ ¼å¼ä¸ºï¼šç«¯å£/é€šè®¯åè®®â€“permanent #æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åŽå¤±æ•ˆ 1 é‡å¯é˜²ç«å¢™ï¼š123systemctl stop firewalld.service systemctl start firewalld.service systemctl restart firewalld.service # é‡å¯é˜²ç«å¢™ 2 æ·»åŠ ç«¯å£å·1firewall-cmd --zone=public --add-port=ç«¯å£å·/tcp --permanent https://filezilla-project.org/download.php?type=client FileZilla Client 12è§£åŽ‹zipæ–‡ä»¶åˆ°å½“å‰ç›®å½•unzip filename.zip ä¸Šé¢è¿™ä¸ªä¸æ˜¯Centos7çš„ ä¸Šé¢è¿™ä¸ªä¸æ˜¯Centos7çš„ 3 CentOs7å…³é—­é˜²ç«å¢™çš„å‘½ä»¤!12345678910111213141516171819202122232425262728293031ä¸‹é¢æ˜¯red hat/CentOs7å…³é—­é˜²ç«å¢™çš„å‘½ä»¤!1:æŸ¥çœ‹é˜²ç«çŠ¶æ€systemctl status firewalldservice iptables status2:æš‚æ—¶å…³é—­é˜²ç«å¢™systemctl stop firewalldservice iptables stop3:æ°¸ä¹…å…³é—­é˜²ç«å¢™systemctl disable firewalldchkconfig iptables off4:é‡å¯é˜²ç«å¢™systemctl enable firewalldservice iptables restart 5:æ°¸ä¹…å…³é—­åŽé‡å¯//æš‚æ—¶è¿˜æ²¡æœ‰è¯•è¿‡chkconfig iptables on Centos 7 å¼€å¯ç«¯å£CentOS 7 é»˜è®¤æ²¡æœ‰ä½¿ç”¨iptablesï¼Œæ‰€ä»¥é€šè¿‡ç¼–è¾‘iptablesçš„é…ç½®æ–‡ä»¶æ¥å¼€å¯80ç«¯å£æ˜¯ä¸å¯ä»¥çš„ CentOS 7 é‡‡ç”¨äº† firewalld é˜²ç«å¢™ å¦‚è¦æŸ¥è¯¢æ˜¯å¦å¼€å¯80ç«¯å£åˆ™ï¼š 1`[root@joe-pc ~]``# firewall-cmd --query-port=80/tcp``no` æ˜¾ç„¶80ç«¯å£æ²¡æœ‰å¼€å¯ ä¸‹é¢æˆ‘ä»¬å¼€å¯80ç«¯å£ï¼š 1`[root@joe-pc ~]``# firewall-cmd --add-port=80/tcp``success` å°è®° é€šè¿‡systemctl status firewalldæŸ¥çœ‹firewalldçŠ¶æ€ï¼Œå‘çŽ°å½“å‰æ˜¯deadçŠ¶æ€ï¼Œå³é˜²ç«å¢™æœªå¼€å¯ã€‚ é€šè¿‡systemctl start firewalldå¼€å¯é˜²ç«å¢™ï¼Œæ²¡æœ‰ä»»ä½•æç¤ºå³å¼€å¯æˆåŠŸã€‚ å†æ¬¡æ‰§è¡Œæ‰§è¡Œfirewall-cmd â€“permanent â€“zone=public â€“add-port=3306/tcpï¼Œæç¤ºsuccessï¼Œè¡¨ç¤ºè®¾ç½®æˆåŠŸï¼Œè¿™æ ·å°±å¯ä»¥ç»§ç»­åŽé¢çš„è®¾ç½®äº† Nginxlinuxå¦‚ä½•æŸ¥çœ‹nginxæ˜¯å¦å¯åŠ¨ ps -ef | grep nginx å°±å¯ä»¥çœ‹åˆ°Nginxè¿›ç¨‹æ˜¯å¦å­˜åœ¨äº† ps -C nginx -o pid netstat -anp | grep :80å‘½ä»¤æ¥åˆ¤æ–­Nginxæ˜¯å¦å¯åŠ¨ lsof -i:80 ä¹Ÿå¯ä»¥æŸ¥åˆ°80ç«¯å£è¿›ç¨‹æ˜¯å¦æœ‰è¿›ç¨‹åœ¨è¿è¡Œã€‚ 1234ï¼ˆ1ï¼‰æŸ¥çœ‹å¯¹å¤–å¼€æ”¾çš„ç«¯å£çŠ¶æ€æŸ¥è¯¢å·²å¼€æ”¾çš„ç«¯å£ netstat -anpæŸ¥è¯¢æŒ‡å®šç«¯å£æ˜¯å¦å·²å¼€ firewall-cmd --query-port=666/tcpæç¤º yesï¼Œè¡¨ç¤ºå¼€å¯ï¼›noè¡¨ç¤ºæœªå¼€å¯ã€‚ 123ï¼ˆ3ï¼‰å¯¹å¤–å¼€å‘ç«¯å£æŸ¥çœ‹æƒ³å¼€çš„ç«¯å£æ˜¯å¦å·²å¼€ï¼šfirewall-cmd --query-port=6379/tcp 123456æ·»åŠ æŒ‡å®šéœ€è¦å¼€æ”¾çš„ç«¯å£ï¼šfirewall-cmd --add-port=123/tcp --permanenté‡è½½å…¥æ·»åŠ çš„ç«¯å£ï¼šfirewall-cmd --reloadæŸ¥è¯¢æŒ‡å®šç«¯å£æ˜¯å¦å¼€å¯æˆåŠŸï¼šfirewall-cmd --query-port=123/tcp 12ç§»é™¤æŒ‡å®šç«¯å£ï¼šfirewall-cmd --permanent --remove-port=123/tcp Linux ifconfig 1ç¬¬ä¸€æ­¥ï¼šè¿›å…¥åˆ°/etc/sysconfig/network-scripts/ç›®å½•ä¸‹ï¼Œ 123ç”¨lså‘½ä»¤æŸ¥çœ‹ç½‘å¡é…ç½®æ–‡ä»¶åï¼ˆåœ¨CENTOS7ä¸­ç½‘å¡åè²Œä¼¼å˜æˆäº†éšæœºæ•°å­—ï¼Œæ‰€ä»¥æ¯å°æœºå™¨çš„ç½‘å¡åå¹¶ä¸ç›¸åŒï¼‰ifcfg-eno6777736 12345ç”¨viå‘½ä»¤ç¼–è¾‘æ–‡ä»¶ å°†æœ€åŽä¸€è¡Œçš„ONBOOT=NOä¿®æ”¹ä¸ºyesï¼Œæœ€åŽè¾“å…¥ï¼šwq ä¿å­˜å¹¶é€€å‡ºã€‚å°†æœ€åŽä¸€è¡Œçš„ONBOOT=NOä¿®æ”¹ä¸ºyesï¼Œæœ€åŽè¾“å…¥ï¼šwq ä¿å­˜å¹¶é€€å‡ºã€‚ping www.baidu.comå‡ºçŽ°ä¸‹å›¾è¯´æ˜Žç½‘ç»œé€šäº† Linux æ–‡ä»¶æƒé™ç³»ç»Ÿ æ…•è¯¾ç½‘]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2018%2F11%2F30%2FLinux%2FLinux%E5%AE%89%E8%A3%85Tomcat%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[linuxå®‰è£…JDK1.7 cento7]]></title>
    <url>%2F2018%2F11%2F30%2FLinux%2FLinux%E5%AE%89%E8%A3%85JDK%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[Linux]]></title>
    <url>%2F2018%2F11%2F30%2FLinux%2FLinux%2F</url>
    <content type="text"><![CDATA[Linux SSH Mac1.ä¸‹è½½ æ·˜å® ç”¨æˆ·ådongguakeji å¯†ç dongguakeji2.macè¿œç¨‹è®¿é—®SSH ä¸å†sudoersæ–‡ä»¶ä¸­æ­¤äº‹å°†è¢«æŠ¥å‘Š ï¼ˆdongguakejiå¯†ç ä¸èƒ½ä½¿ç”¨ï¼‰â€“è§£å†³ ä½¿ç”¨rootç™»é™†åˆ†é…æƒé™ 3.ä½¿ç”¨rootç™»é™† è¿œç¨‹SSHè¿žæŽ¥Linux centos7 ä½¿ç”¨rootè®¿é—® å…³é—­é˜²ç«å¢™ 11.ä½ è¦æ”¹ç”¨iptablesçš„è¯ï¼Œéœ€è¦å®‰è£…iptablesæœåŠ¡ sudo yum install iptables-services CentOS 7.0é»˜è®¤ä½¿ç”¨çš„æ˜¯firewallä½œä¸ºé˜²ç«å¢™ï¼Œè¿™é‡Œæ”¹ä¸º iptablesé˜²ç«å¢™æ­¥éª¤ã€‚ firewall-cmd â€“state. #æŸ¥çœ‹é»˜è®¤é˜²ç«å¢™çŠ¶æ€ ï¼ˆå…³é—­åŽæ˜¾ç¤ºnotrunningï¼Œå¼€å¯åŽæ˜¾ç¤ºrunningï¼‰ [root@localhost ~]#firewall-cmd â€“state not running å…³é—­é˜²ç«å¢™ï¼š systemctl stop firewalld.service #åœæ­¢firewall systemctl disable firewalld.service #ç¦æ­¢firewallå¼€æœºå¯åŠ¨ 4.Linuxä¸‹ipè®¾ç½® https://blog.csdn.net/qq_34924407/article/details/79967650. Centos7ä¸­æŸ¥çœ‹IPå‘½ä»¤ï¼šIP add https://blog.csdn.net/tuntun1120/article/details/65443757 è™šæ‹Ÿæœºä¸‹CentOS7å¼€å¯SSHè¿žæŽ¥ 4.åˆ‡æ¢ç½‘ç»œæ¨¡å¼é€‰æ‹© ç„¶åŽé‡æ–°ç¼–è¾‘â­ï¸ è™šæ‹Ÿä¸»æœºâ€“&gt;ç½‘ç»œé€‚é…å™¨â€”â€”&gt;ä¾¨ç•Œæ¨¡å¼â€”&gt;å¤åˆ¶ç‰©ç†ç½‘ç»œè¿žæŽ¥è½¬å°ç„¶åŽé‡æ–°ç¼–è¾‘IP å˜æˆä¸‹é¢è¿™æ · æ€»ç»“ï¼š1.å…ˆæ£€æŸ¥SSH æœåŠ¡å¼€æ²¡å¼€ 2.æ£€æŸ¥22 ç«¯å£çš„çŠ¶æ€ 3.çœ‹ç½‘ç»œäº’ç›¸é€šè¿‡pingçœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰64typeçš„å›žåº” 4ã€‚èµ„æ–™åœ¨æ”¶è—å¤¹é‡Œé¢ è¿˜æœ‰æ…•è¯¾çš„è§†é¢‘Linux]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dockeré•œåƒåŠ é€Ÿ]]></title>
    <url>%2F2018%2F11%2F11%2FDocker%2FDocker%E5%8A%A0%E9%80%9F%2F</url>
    <content type="text"><![CDATA[emmmã€‚ã€‚ã€‚ä¸ºä»€ä¹ˆå›¾ç‰‡å¯ä»¥ä½¿ç”¨ ç½‘ä¸Šçš„åœ°å€ï¼Ÿ https://www.jianshu.com/p/94c6e44ebd3c ä¸è¦ä½¿ç”¨httpså‰ç¼€ï¼Œ è´Ÿè´£ä¼šæç¤ºè¯ä¹¦é”™è¯¯ï¼Œ Version requires:- Docker for MAC version: docker version STEPS:- Open docker -&gt;preference -&gt;Daemon-&gt;basic-&gt;Registry mirrors æ·»åŠ ï¼š http://registry.docker-cn.com Noteï¼šä¸è¦ä½¿ç”¨httpså‰ç¼€ï¼Œ è´Ÿè´£ä¼šæç¤ºè¯ä¹¦é”™è¯¯ï¼Œ â€œregistry-mirrorsâ€ : No certs for egitstry.docker.com å¯¼è‡´dockerrestart failedã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[SpringBootå°šç¡…è°· é›·ä¸°é˜³]]></title>
    <url>%2F2018%2F11%2F11%2FSpring%20Boot%2FSpring%20Boot%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"><![CDATA[ä¸€ã€**Spring Boot å…¥é—¨ 1ã€Spring Boot ç®€ä»‹ ç®€åŒ–Springåº”ç”¨å¼€å‘çš„ä¸€ä¸ªæ¡†æž¶ï¼› æ•´ä¸ªSpringæŠ€æœ¯æ ˆçš„ä¸€ä¸ªå¤§æ•´åˆï¼› J2EEå¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼› 2ã€å¾®æœåŠ¡2014ï¼Œmartin fowler å¾®æœåŠ¡ï¼šæž¶æž„é£Žæ ¼ï¼ˆæœåŠ¡å¾®åŒ–ï¼‰ ä¸€ä¸ªåº”ç”¨åº”è¯¥æ˜¯ä¸€ç»„å°åž‹æœåŠ¡ï¼›å¯ä»¥é€šè¿‡HTTPçš„æ–¹å¼è¿›è¡Œäº’é€šï¼› å•ä½“åº”ç”¨ï¼šALL IN ONE å¾®æœåŠ¡ï¼šæ¯ä¸€ä¸ªåŠŸèƒ½å…ƒç´ æœ€ç»ˆéƒ½æ˜¯ä¸€ä¸ªå¯ç‹¬ç«‹æ›¿æ¢å’Œç‹¬ç«‹å‡çº§çš„è½¯ä»¶å•å…ƒï¼› è¯¦ç»†å‚ç…§å¾®æœåŠ¡æ–‡æ¡£ 3ã€çŽ¯å¢ƒå‡†å¤‡http://www.gulixueyuan.com/ è°·ç²’å­¦é™¢ çŽ¯å¢ƒçº¦æŸ â€“jdk1.8ï¼šSpring Boot æŽ¨èjdk1.7åŠä»¥ä¸Šï¼›java version â€œ1.8.0_112â€ â€“maven3.xï¼šmaven 3.3ä»¥ä¸Šç‰ˆæœ¬ï¼›Apache Maven 3.3.9 â€“IntelliJIDEA2017ï¼šIntelliJ IDEA 2017.2.2 x64ã€STS â€“SpringBoot 1.5.9.RELEASEï¼š1.5.9ï¼› ç»Ÿä¸€çŽ¯å¢ƒï¼› 1ã€MAVENè®¾ç½®ï¼›ç»™maven çš„settings.xmlé…ç½®æ–‡ä»¶çš„profilesæ ‡ç­¾æ·»åŠ  123456789101112&lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt;&lt;/profile&gt; 2ã€IDEAè®¾ç½®æ•´åˆmavenè¿›æ¥ï¼› ccc 4ã€Spring Boot HelloWorldä¸€ä¸ªåŠŸèƒ½ï¼š æµè§ˆå™¨å‘é€helloè¯·æ±‚ï¼ŒæœåŠ¡å™¨æŽ¥å—è¯·æ±‚å¹¶å¤„ç†ï¼Œå“åº”Hello Worldå­—ç¬¦ä¸²ï¼› 1ã€åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼›ï¼ˆjarï¼‰2ã€å¯¼å…¥spring bootç›¸å…³çš„ä¾èµ–1234567891011&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3ã€ç¼–å†™ä¸€ä¸ªä¸»ç¨‹åºï¼›å¯åŠ¨Spring Bootåº”ç”¨12345678910111213/** * @SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»ï¼Œè¯´æ˜Žè¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨ */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // Springåº”ç”¨å¯åŠ¨èµ·æ¥ SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; 4ã€ç¼–å†™ç›¸å…³çš„Controllerã€Service123456789@Controllerpublic class HelloController &#123; @ResponseBody @RequestMapping("/hello") public String hello()&#123; return "Hello World!"; &#125;&#125; 5ã€è¿è¡Œä¸»ç¨‹åºæµ‹è¯•6ã€ç®€åŒ–éƒ¨ç½²123456789&lt;!-- è¿™ä¸ªæ’ä»¶ï¼Œå¯ä»¥å°†åº”ç”¨æ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œçš„jaråŒ…ï¼›--&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; å°†è¿™ä¸ªåº”ç”¨æ‰“æˆjaråŒ…ï¼Œç›´æŽ¥ä½¿ç”¨java -jarçš„å‘½ä»¤è¿›è¡Œæ‰§è¡Œï¼› 5ã€Hello WorldæŽ¢ç©¶1ã€POMæ–‡ä»¶1ã€çˆ¶é¡¹ç›®1234567891011121314&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;ä»–çš„çˆ¶é¡¹ç›®æ˜¯&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt;&lt;/parent&gt;ä»–æ¥çœŸæ­£ç®¡ç†Spring Bootåº”ç”¨é‡Œé¢çš„æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬ï¼› Spring Bootçš„ç‰ˆæœ¬ä»²è£ä¸­å¿ƒï¼› ä»¥åŽæˆ‘ä»¬å¯¼å…¥ä¾èµ–é»˜è®¤æ˜¯ä¸éœ€è¦å†™ç‰ˆæœ¬ï¼›ï¼ˆæ²¡æœ‰åœ¨dependenciesé‡Œé¢ç®¡ç†çš„ä¾èµ–è‡ªç„¶éœ€è¦å£°æ˜Žç‰ˆæœ¬å·ï¼‰ 2ã€å¯åŠ¨å™¨1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt; spring-boot-starter-==web==ï¼š â€‹ spring-boot-starterï¼šspring-bootåœºæ™¯å¯åŠ¨å™¨ï¼›å¸®æˆ‘ä»¬å¯¼å…¥äº†webæ¨¡å—æ­£å¸¸è¿è¡Œæ‰€ä¾èµ–çš„ç»„ä»¶ï¼› Spring Bootå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯éƒ½æŠ½å–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªä¸ªçš„startersï¼ˆå¯åŠ¨å™¨ï¼‰ï¼Œåªéœ€è¦åœ¨é¡¹ç›®é‡Œé¢å¼•å…¥è¿™äº›starterç›¸å…³åœºæ™¯çš„æ‰€æœ‰ä¾èµ–éƒ½ä¼šå¯¼å…¥è¿›æ¥ã€‚è¦ç”¨ä»€ä¹ˆåŠŸèƒ½å°±å¯¼å…¥ä»€ä¹ˆåœºæ™¯çš„å¯åŠ¨å™¨ 2ã€ä¸»ç¨‹åºç±»ï¼Œä¸»å…¥å£ç±»123456789101112/** * @SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»ï¼Œè¯´æ˜Žè¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨ */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // Springåº”ç”¨å¯åŠ¨èµ·æ¥ SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; @SpringBootApplication: Spring Bootåº”ç”¨æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šè¯´æ˜Žè¿™ä¸ªç±»æ˜¯SpringBootçš„ä¸»é…ç½®ç±»ï¼ŒSpringBootå°±åº”è¯¥è¿è¡Œè¿™ä¸ªç±»çš„mainæ–¹æ³•æ¥å¯åŠ¨SpringBootåº”ç”¨ï¼› 12345678910@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)public @interface SpringBootApplication &#123; @SpringBootConfiguration:Spring Bootçš„é…ç½®ç±»ï¼› â€‹ æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpring Bootçš„é…ç½®ç±»ï¼› â€‹ @Configuration:é…ç½®ç±»ä¸Šæ¥æ ‡æ³¨è¿™ä¸ªæ³¨è§£ï¼› â€‹ é…ç½®ç±» â€”â€“ é…ç½®æ–‡ä»¶ï¼›é…ç½®ç±»ä¹Ÿæ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼›@Component @EnableAutoConfigurationï¼šå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼› â€‹ ä»¥å‰æˆ‘ä»¬éœ€è¦é…ç½®çš„ä¸œè¥¿ï¼ŒSpring Bootå¸®æˆ‘ä»¬è‡ªåŠ¨é…ç½®ï¼›@EnableAutoConfigurationå‘Šè¯‰SpringBootå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›è¿™æ ·è‡ªåŠ¨é…ç½®æ‰èƒ½ç”Ÿæ•ˆï¼› 123@AutoConfigurationPackage@Import(EnableAutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123; â€‹ @AutoConfigurationPackageï¼šè‡ªåŠ¨é…ç½®åŒ… â€‹ @Import(AutoConfigurationPackages.Registrar.class)ï¼š â€‹ Springçš„åº•å±‚æ³¨è§£@Importï¼Œç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶ï¼›å¯¼å…¥çš„ç»„ä»¶ç”±AutoConfigurationPackages.Registrar.classï¼› ==å°†ä¸»é…ç½®ç±»ï¼ˆ@SpringBootApplicationæ ‡æ³¨çš„ç±»ï¼‰çš„æ‰€åœ¨åŒ…åŠä¸‹é¢æ‰€æœ‰å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨ï¼›== â€‹ @Import(EnableAutoConfigurationImportSelector.class)ï¼› â€‹ ç»™å®¹å™¨ä¸­å¯¼å…¥ç»„ä»¶ï¼Ÿ â€‹ EnableAutoConfigurationImportSelectorï¼šå¯¼å…¥å“ªäº›ç»„ä»¶çš„é€‰æ‹©å™¨ï¼› â€‹ å°†æ‰€æœ‰éœ€è¦å¯¼å…¥çš„ç»„ä»¶ä»¥å…¨ç±»åçš„æ–¹å¼è¿”å›žï¼›è¿™äº›ç»„ä»¶å°±ä¼šè¢«æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼› â€‹ ä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éžå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±»ï¼ˆxxxAutoConfigurationï¼‰ï¼›å°±æ˜¯ç»™å®¹å™¨ä¸­å¯¼å…¥è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ï¼› æœ‰äº†è‡ªåŠ¨é…ç½®ç±»ï¼Œå…åŽ»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ³¨å…¥åŠŸèƒ½ç»„ä»¶ç­‰çš„å·¥ä½œï¼› â€‹ SpringFactoriesLoader.loadFactoryNames(EnableAutoConfiguration.class,classLoader)ï¼› ==Spring Bootåœ¨å¯åŠ¨çš„æ—¶å€™ä»Žç±»è·¯å¾„ä¸‹çš„META-INF/spring.factoriesä¸­èŽ·å–EnableAutoConfigurationæŒ‡å®šçš„å€¼ï¼Œå°†è¿™äº›å€¼ä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥åˆ°å®¹å™¨ä¸­ï¼Œè‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆï¼Œå¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œï¼›==ä»¥å‰æˆ‘ä»¬éœ€è¦è‡ªå·±é…ç½®çš„ä¸œè¥¿ï¼Œè‡ªåŠ¨é…ç½®ç±»éƒ½å¸®æˆ‘ä»¬ï¼› J2EEçš„æ•´ä½“æ•´åˆè§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®éƒ½åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarï¼› â€‹ ==Springæ³¨è§£ç‰ˆï¼ˆè°·ç²’å­¦é™¢ï¼‰== 6ã€ä½¿ç”¨Spring Initializerå¿«é€Ÿåˆ›å»ºSpring Booté¡¹ç›®1ã€IDEAï¼šä½¿ç”¨ Spring Initializerå¿«é€Ÿåˆ›å»ºé¡¹ç›®IDEéƒ½æ”¯æŒä½¿ç”¨Springçš„é¡¹ç›®åˆ›å»ºå‘å¯¼å¿«é€Ÿåˆ›å»ºä¸€ä¸ªSpring Booté¡¹ç›®ï¼› é€‰æ‹©æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼›å‘å¯¼ä¼šè”ç½‘åˆ›å»ºSpring Booté¡¹ç›®ï¼› é»˜è®¤ç”Ÿæˆçš„Spring Booté¡¹ç›®ï¼› ä¸»ç¨‹åºå·²ç»ç”Ÿæˆå¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æˆ‘ä»¬è‡ªå·±çš„é€»è¾‘ resourcesæ–‡ä»¶å¤¹ä¸­ç›®å½•ç»“æž„ staticï¼šä¿å­˜æ‰€æœ‰çš„é™æ€èµ„æºï¼› js css imagesï¼› templatesï¼šä¿å­˜æ‰€æœ‰çš„æ¨¡æ¿é¡µé¢ï¼›ï¼ˆSpring Booté»˜è®¤jaråŒ…ä½¿ç”¨åµŒå…¥å¼çš„Tomcatï¼Œé»˜è®¤ä¸æ”¯æŒJSPé¡µé¢ï¼‰ï¼›å¯ä»¥ä½¿ç”¨æ¨¡æ¿å¼•æ“Žï¼ˆfreemarkerã€thymeleafï¼‰ï¼› application.propertiesï¼šSpring Bootåº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼›å¯ä»¥ä¿®æ”¹ä¸€äº›é»˜è®¤è®¾ç½®ï¼› 2ã€STSä½¿ç”¨ Spring Starter Projectå¿«é€Ÿåˆ›å»ºé¡¹ç›® äºŒã€é…ç½®æ–‡ä»¶1ã€é…ç½®æ–‡ä»¶SpringBootä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åæ˜¯å›ºå®šçš„ï¼› â€¢application.properties â€¢application.yml é…ç½®æ–‡ä»¶çš„ä½œç”¨ï¼šä¿®æ”¹SpringBootè‡ªåŠ¨é…ç½®çš„é»˜è®¤å€¼ï¼›SpringBootåœ¨åº•å±‚éƒ½ç»™æˆ‘ä»¬è‡ªåŠ¨é…ç½®å¥½ï¼› YAMLï¼ˆYAML Ainâ€™t Markup Languageï¼‰ â€‹ YAML A Markup Languageï¼šæ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ â€‹ YAML isnâ€™t Markup Languageï¼šä¸æ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ï¼› æ ‡è®°è¯­è¨€ï¼š â€‹ ä»¥å‰çš„é…ç½®æ–‡ä»¶ï¼›å¤§å¤šéƒ½ä½¿ç”¨çš„æ˜¯ xxxx.xmlæ–‡ä»¶ï¼› â€‹ YAMLï¼šä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œæ¯”jsonã€xmlç­‰æ›´é€‚åˆåšé…ç½®æ–‡ä»¶ï¼› â€‹ YAMLï¼šé…ç½®ä¾‹å­ 12server: port: 8081 â€‹ XMLï¼š 123&lt;server&gt; &lt;port&gt;8081&lt;/port&gt;&lt;/server&gt; 2ã€YAMLè¯­æ³•ï¼š1ã€åŸºæœ¬è¯­æ³•k:(ç©ºæ ¼)vï¼šè¡¨ç¤ºä¸€å¯¹é”®å€¼å¯¹ï¼ˆç©ºæ ¼å¿…é¡»æœ‰ï¼‰ï¼› ä»¥ç©ºæ ¼çš„ç¼©è¿›æ¥æŽ§åˆ¶å±‚çº§å…³ç³»ï¼›åªè¦æ˜¯å·¦å¯¹é½çš„ä¸€åˆ—æ•°æ®ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå±‚çº§çš„ 123server: port: 8081 path: /hello å±žæ€§å’Œå€¼ä¹Ÿæ˜¯å¤§å°å†™æ•æ„Ÿï¼› 2ã€å€¼çš„å†™æ³•å­—é¢é‡ï¼šæ™®é€šçš„å€¼ï¼ˆæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”ï¼‰â€‹ k: vï¼šå­—é¢ç›´æŽ¥æ¥å†™ï¼› â€‹ å­—ç¬¦ä¸²é»˜è®¤ä¸ç”¨åŠ ä¸Šå•å¼•å·æˆ–è€…åŒå¼•å·ï¼› â€‹ â€œâ€ï¼šåŒå¼•å·ï¼›ä¸ä¼šè½¬ä¹‰å­—ç¬¦ä¸²é‡Œé¢çš„ç‰¹æ®Šå­—ç¬¦ï¼›ç‰¹æ®Šå­—ç¬¦ä¼šä½œä¸ºæœ¬èº«æƒ³è¡¨ç¤ºçš„æ„æ€ â€‹ name: â€œzhangsan \n lisiâ€ï¼šè¾“å‡ºï¼›zhangsan æ¢è¡Œ lisi â€‹ â€˜â€™ï¼šå•å¼•å·ï¼›ä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œç‰¹æ®Šå­—ç¬¦æœ€ç»ˆåªæ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²æ•°æ® â€‹ name: â€˜zhangsan \n lisiâ€™ï¼šè¾“å‡ºï¼›zhangsan \n lisi å¯¹è±¡ã€Mapï¼ˆå±žæ€§å’Œå€¼ï¼‰ï¼ˆé”®å€¼å¯¹ï¼‰ï¼šâ€‹ k: vï¼šåœ¨ä¸‹ä¸€è¡Œæ¥å†™å¯¹è±¡çš„å±žæ€§å’Œå€¼çš„å…³ç³»ï¼›æ³¨æ„ç¼©è¿› â€‹ å¯¹è±¡è¿˜æ˜¯k: vçš„æ–¹å¼ 123friends: lastName: zhangsan age: 20 è¡Œå†…å†™æ³•ï¼š 1friends: &#123;lastName: zhangsan,age: 18&#125; æ•°ç»„ï¼ˆListã€Setï¼‰ï¼šç”¨- å€¼è¡¨ç¤ºæ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´  1234pets: - cat - dog - pig è¡Œå†…å†™æ³• 1pets: [cat,dog,pig] 3ã€é…ç½®æ–‡ä»¶å€¼æ³¨å…¥é…ç½®æ–‡ä»¶ 123456789101112person: lastName: hello age: 18 boss: false birth: 2017/12/12 maps: &#123;k1: v1,k2: 12&#125; lists: - lisi - zhaoliu dog: name: å°ç‹— age: 12 javaBeanï¼š 1234567891011121314151617181920/** * å°†é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ¯ä¸€ä¸ªå±žæ€§çš„å€¼ï¼Œæ˜ å°„åˆ°è¿™ä¸ªç»„ä»¶ä¸­ * @ConfigurationPropertiesï¼šå‘Šè¯‰SpringBootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±žæ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®šï¼› * prefix = "person"ï¼šé…ç½®æ–‡ä»¶ä¸­å“ªä¸ªä¸‹é¢çš„æ‰€æœ‰å±žæ€§è¿›è¡Œä¸€ä¸€æ˜ å°„ * * åªæœ‰è¿™ä¸ªç»„ä»¶æ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰èƒ½å®¹å™¨æä¾›çš„@ConfigurationPropertiesåŠŸèƒ½ï¼› * */@Component@ConfigurationProperties(prefix = "person")public class Person &#123; private String lastName; private Integer age; private Boolean boss; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; æˆ‘ä»¬å¯ä»¥å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œä»¥åŽç¼–å†™é…ç½®å°±æœ‰æç¤ºäº† 123456&lt;!--å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œé…ç½®æ–‡ä»¶è¿›è¡Œç»‘å®šå°±ä¼šæœ‰æç¤º--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; 1ã€propertiesé…ç½®æ–‡ä»¶åœ¨ideaä¸­é»˜è®¤utf-8å¯èƒ½ä¼šä¹±ç è°ƒæ•´ 2ã€@ValueèŽ·å–å€¼å’Œ@ConfigurationPropertiesèŽ·å–å€¼æ¯”è¾ƒ @ConfigurationProperties @Value åŠŸèƒ½ æ‰¹é‡æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å±žæ€§ ä¸€ä¸ªä¸ªæŒ‡å®š æ¾æ•£ç»‘å®šï¼ˆæ¾æ•£è¯­æ³•ï¼‰ æ”¯æŒ ä¸æ”¯æŒ SpEL ä¸æ”¯æŒ æ”¯æŒ JSR303æ•°æ®æ ¡éªŒ æ”¯æŒ ä¸æ”¯æŒ å¤æ‚ç±»åž‹å°è£… æ”¯æŒ ä¸æ”¯æŒ é…ç½®æ–‡ä»¶ymlè¿˜æ˜¯propertiesä»–ä»¬éƒ½èƒ½èŽ·å–åˆ°å€¼ï¼› å¦‚æžœè¯´ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨æŸä¸ªä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦èŽ·å–ä¸€ä¸‹é…ç½®æ–‡ä»¶ä¸­çš„æŸé¡¹å€¼ï¼Œä½¿ç”¨@Valueï¼› å¦‚æžœè¯´ï¼Œæˆ‘ä»¬ä¸“é—¨ç¼–å†™äº†ä¸€ä¸ªjavaBeanæ¥å’Œé…ç½®æ–‡ä»¶è¿›è¡Œæ˜ å°„ï¼Œæˆ‘ä»¬å°±ç›´æŽ¥ä½¿ç”¨@ConfigurationPropertiesï¼› 3ã€é…ç½®æ–‡ä»¶æ³¨å…¥å€¼æ•°æ®æ ¡éªŒ123456789101112131415161718192021222324@Component@ConfigurationProperties(prefix = "person")@Validatedpublic class Person &#123; /** * &lt;bean class="Person"&gt; * &lt;property name="lastName" value="å­—é¢é‡/$&#123;key&#125;ä»ŽçŽ¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ä¸­èŽ·å–å€¼/#&#123;SpEL&#125;"&gt;&lt;/property&gt; * &lt;bean/&gt; */ //lastNameå¿…é¡»æ˜¯é‚®ç®±æ ¼å¼ @Email //@Value("$&#123;person.last-name&#125;") private String lastName; //@Value("#&#123;11*2&#125;") private Integer age; //@Value("true") private Boolean boss; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; 4ã€@PropertySource&amp;@ImportResource&amp;@Bean@PropertySourceï¼šåŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶ï¼› 1234567891011121314151617181920212223242526272829/** * å°†é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ¯ä¸€ä¸ªå±žæ€§çš„å€¼ï¼Œæ˜ å°„åˆ°è¿™ä¸ªç»„ä»¶ä¸­ * @ConfigurationPropertiesï¼šå‘Šè¯‰SpringBootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±žæ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®šï¼› * prefix = "person"ï¼šé…ç½®æ–‡ä»¶ä¸­å“ªä¸ªä¸‹é¢çš„æ‰€æœ‰å±žæ€§è¿›è¡Œä¸€ä¸€æ˜ å°„ * * åªæœ‰è¿™ä¸ªç»„ä»¶æ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰èƒ½å®¹å™¨æä¾›çš„@ConfigurationPropertiesåŠŸèƒ½ï¼› * @ConfigurationProperties(prefix = "person")é»˜è®¤ä»Žå…¨å±€é…ç½®æ–‡ä»¶ä¸­èŽ·å–å€¼ï¼› * */@PropertySource(value = &#123;"classpath:person.properties"&#125;)@Component@ConfigurationProperties(prefix = "person")//@Validatedpublic class Person &#123; /** * &lt;bean class="Person"&gt; * &lt;property name="lastName" value="å­—é¢é‡/$&#123;key&#125;ä»ŽçŽ¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ä¸­èŽ·å–å€¼/#&#123;SpEL&#125;"&gt;&lt;/property&gt; * &lt;bean/&gt; */ //lastNameå¿…é¡»æ˜¯é‚®ç®±æ ¼å¼ // @Email //@Value("$&#123;person.last-name&#125;") private String lastName; //@Value("#&#123;11*2&#125;") private Integer age; //@Value("true") private Boolean boss; @ImportResourceï¼šå¯¼å…¥Springçš„é…ç½®æ–‡ä»¶ï¼Œè®©é…ç½®æ–‡ä»¶é‡Œé¢çš„å†…å®¹ç”Ÿæ•ˆï¼› Spring Booté‡Œé¢æ²¡æœ‰Springçš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿä¸èƒ½è‡ªåŠ¨è¯†åˆ«ï¼› æƒ³è®©Springçš„é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼ŒåŠ è½½è¿›æ¥ï¼›@ImportResourceæ ‡æ³¨åœ¨ä¸€ä¸ªé…ç½®ç±»ä¸Š 12@ImportResource(locations = &#123;"classpath:beans.xml"&#125;)å¯¼å…¥Springçš„é…ç½®æ–‡ä»¶è®©å…¶ç”Ÿæ•ˆ ä¸æ¥ç¼–å†™Springçš„é…ç½®æ–‡ä»¶ 12345678&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;bean id="helloService" class="com.atguigu.springboot.service.HelloService"&gt;&lt;/bean&gt;&lt;/beans&gt; SpringBootæŽ¨èç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶çš„æ–¹å¼ï¼›æŽ¨èä½¿ç”¨å…¨æ³¨è§£çš„æ–¹å¼ 1ã€é…ç½®ç±»@Configurationâ€”â€”&gt;Springé…ç½®æ–‡ä»¶ 2ã€ä½¿ç”¨@Beanç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ 12345678910111213141516/** * @Configurationï¼šæŒ‡æ˜Žå½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼›å°±æ˜¯æ¥æ›¿ä»£ä¹‹å‰çš„Springé…ç½®æ–‡ä»¶ * * åœ¨é…ç½®æ–‡ä»¶ä¸­ç”¨&lt;bean&gt;&lt;bean/&gt;æ ‡ç­¾æ·»åŠ ç»„ä»¶ * */@Configurationpublic class MyAppConfig &#123; //å°†æ–¹æ³•çš„è¿”å›žå€¼æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼›å®¹å™¨ä¸­è¿™ä¸ªç»„ä»¶é»˜è®¤çš„idå°±æ˜¯æ–¹æ³•å @Bean public HelloService helloService02()&#123; System.out.println("é…ç½®ç±»@Beanç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶äº†..."); return new HelloService(); &#125;&#125; ##4ã€é…ç½®æ–‡ä»¶å ä½ç¬¦ 1ã€éšæœºæ•°12$&#123;random.value&#125;ã€$&#123;random.int&#125;ã€$&#123;random.long&#125;$&#123;random.int(10)&#125;ã€$&#123;random.int[1024,65536]&#125; 2ã€å ä½ç¬¦èŽ·å–ä¹‹å‰é…ç½®çš„å€¼ï¼Œå¦‚æžœæ²¡æœ‰å¯ä»¥æ˜¯ç”¨:æŒ‡å®šé»˜è®¤å€¼123456789person.last-name=å¼ ä¸‰$&#123;random.uuid&#125;person.age=$&#123;random.int&#125;person.birth=2017/12/15person.boss=falseperson.maps.k1=v1person.maps.k2=14person.lists=a,b,cperson.dog.name=$&#123;person.hello:hello&#125;_dogperson.dog.age=15 5ã€Profile1ã€å¤šProfileæ–‡ä»¶æˆ‘ä»¬åœ¨ä¸»é…ç½®æ–‡ä»¶ç¼–å†™çš„æ—¶å€™ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯ application-{profile}.properties/yml é»˜è®¤ä½¿ç”¨application.propertiesçš„é…ç½®ï¼› 2ã€ymlæ”¯æŒå¤šæ–‡æ¡£å—æ–¹å¼1234567891011121314151617181920server: port: 8081spring: profiles: active: prod---server: port: 8083spring: profiles: dev---server: port: 8084spring: profiles: prod #æŒ‡å®šå±žäºŽå“ªä¸ªçŽ¯å¢ƒ 3ã€æ¿€æ´»æŒ‡å®šprofileâ€‹ 1ã€åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®š spring.profiles.active=dev â€‹ 2ã€å‘½ä»¤è¡Œï¼š â€‹ java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar â€“spring.profiles.active=devï¼› â€‹ å¯ä»¥ç›´æŽ¥åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œé…ç½®ä¼ å…¥å‘½ä»¤è¡Œå‚æ•° â€‹ 3ã€è™šæ‹Ÿæœºå‚æ•°ï¼› â€‹ -Dspring.profiles.active=dev 6ã€é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®springboot å¯åŠ¨ä¼šæ‰«æä»¥ä¸‹ä½ç½®çš„application.propertiesæˆ–è€…application.ymlæ–‡ä»¶ä½œä¸ºSpring bootçš„é»˜è®¤é…ç½®æ–‡ä»¶ â€“file:./config/ â€“file:./ â€“classpath:/config/ â€“classpath:/ ä¼˜å…ˆçº§ç”±é«˜åˆ°åº•ï¼Œé«˜ä¼˜å…ˆçº§çš„é…ç½®ä¼šè¦†ç›–ä½Žä¼˜å…ˆçº§çš„é…ç½®ï¼› SpringBootä¼šä»Žè¿™å››ä¸ªä½ç½®å…¨éƒ¨åŠ è½½ä¸»é…ç½®æ–‡ä»¶ï¼›äº’è¡¥é…ç½®ï¼› ==æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡spring.config.locationæ¥æ”¹å˜é»˜è®¤çš„é…ç½®æ–‡ä»¶ä½ç½®== é¡¹ç›®æ‰“åŒ…å¥½ä»¥åŽï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ï¼Œå¯åŠ¨é¡¹ç›®çš„æ—¶å€™æ¥æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ–°ä½ç½®ï¼›æŒ‡å®šé…ç½®æ–‡ä»¶å’Œé»˜è®¤åŠ è½½çš„è¿™äº›é…ç½®æ–‡ä»¶å…±åŒèµ·ä½œç”¨å½¢æˆäº’è¡¥é…ç½®ï¼› java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar â€“spring.config.location=G:/application.properties 7ã€å¤–éƒ¨é…ç½®åŠ è½½é¡ºåº==SpringBootä¹Ÿå¯ä»¥ä»Žä»¥ä¸‹ä½ç½®åŠ è½½é…ç½®ï¼› ä¼˜å…ˆçº§ä»Žé«˜åˆ°ä½Žï¼›é«˜ä¼˜å…ˆçº§çš„é…ç½®è¦†ç›–ä½Žä¼˜å…ˆçº§çš„é…ç½®ï¼Œæ‰€æœ‰çš„é…ç½®ä¼šå½¢æˆäº’è¡¥é…ç½®== 1.å‘½ä»¤è¡Œå‚æ•° æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šè¿›è¡ŒæŒ‡å®š java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar â€“server.port=8087 â€“server.context-path=/abc å¤šä¸ªé…ç½®ç”¨ç©ºæ ¼åˆ†å¼€ï¼› â€“é…ç½®é¡¹=å€¼ 2.æ¥è‡ªjava:comp/envçš„JNDIå±žæ€§ 3.Javaç³»ç»Ÿå±žæ€§ï¼ˆSystem.getProperties()ï¼‰ 4.æ“ä½œç³»ç»ŸçŽ¯å¢ƒå˜é‡ 5.RandomValuePropertySourceé…ç½®çš„random.*å±žæ€§å€¼ ==ç”±jaråŒ…å¤–å‘jaråŒ…å†…è¿›è¡Œå¯»æ‰¾ï¼›== ==ä¼˜å…ˆåŠ è½½å¸¦profile== 6.jaråŒ…å¤–éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶ 7.jaråŒ…å†…éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶ ==å†æ¥åŠ è½½ä¸å¸¦profile== 8.jaråŒ…å¤–éƒ¨çš„application.propertiesæˆ–application.yml(ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶ 9.jaråŒ…å†…éƒ¨çš„application.propertiesæˆ–application.yml(ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶ 10.@Configurationæ³¨è§£ç±»ä¸Šçš„@PropertySource 11.é€šè¿‡SpringApplication.setDefaultPropertiesæŒ‡å®šçš„é»˜è®¤å±žæ€§ æ‰€æœ‰æ”¯æŒçš„é…ç½®åŠ è½½æ¥æºï¼› å‚è€ƒå®˜æ–¹æ–‡æ¡£ 8ã€è‡ªåŠ¨é…ç½®åŽŸç†é…ç½®æ–‡ä»¶åˆ°åº•èƒ½å†™ä»€ä¹ˆï¼Ÿæ€Žä¹ˆå†™ï¼Ÿè‡ªåŠ¨é…ç½®åŽŸç†ï¼› é…ç½®æ–‡ä»¶èƒ½é…ç½®çš„å±žæ€§å‚ç…§ 1ã€è‡ªåŠ¨é…ç½®åŽŸç†ï¼š1ï¼‰ã€SpringBootå¯åŠ¨çš„æ—¶å€™åŠ è½½ä¸»é…ç½®ç±»ï¼Œå¼€å¯äº†è‡ªåŠ¨é…ç½®åŠŸèƒ½ ==@EnableAutoConfiguration== 2ï¼‰ã€@EnableAutoConfiguration ä½œç”¨ï¼š åˆ©ç”¨EnableAutoConfigurationImportSelectorç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€äº›ç»„ä»¶ï¼Ÿ å¯ä»¥æŸ¥çœ‹selectImports()æ–¹æ³•çš„å†…å®¹ï¼› List configurations = getCandidateConfigurations(annotationMetadata, attributes);èŽ·å–å€™é€‰çš„é…ç½® 1234SpringFactoriesLoader.loadFactoryNames()æ‰«ææ‰€æœ‰jaråŒ…ç±»è·¯å¾„ä¸‹ META-INF/spring.factoriesæŠŠæ‰«æåˆ°çš„è¿™äº›æ–‡ä»¶çš„å†…å®¹åŒ…è£…æˆpropertieså¯¹è±¡ä»Žpropertiesä¸­èŽ·å–åˆ°EnableAutoConfiguration.classç±»ï¼ˆç±»åï¼‰å¯¹åº”çš„å€¼ï¼Œç„¶åŽæŠŠä»–ä»¬æ·»åŠ åœ¨å®¹å™¨ä¸­ â€‹ ==å°† ç±»è·¯å¾„ä¸‹ META-INF/spring.factories é‡Œé¢é…ç½®çš„æ‰€æœ‰EnableAutoConfigurationçš„å€¼åŠ å…¥åˆ°äº†å®¹å™¨ä¸­ï¼›== 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798# Auto Configureorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.ldap.LdapDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\org.springframework.boot.autoconfigure.elasticsearch.jest.JestAutoConfiguration,\org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.DeviceResolverAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.DeviceDelegatingViewResolverAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.SitePreferenceAutoConfiguration,\org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\org.springframework.boot.autoconfigure.reactor.ReactorAutoConfiguration,\org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,\org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,\org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,\org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration,\org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\org.springframework.boot.autoconfigure.social.SocialWebAutoConfiguration,\org.springframework.boot.autoconfigure.social.FacebookAutoConfiguration,\org.springframework.boot.autoconfigure.social.LinkedInAutoConfiguration,\org.springframework.boot.autoconfigure.social.TwitterAutoConfiguration,\org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration,\org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration,\org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration,\org.springframework.boot.autoconfigure.web.HttpEncodingAutoConfiguration,\org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration,\org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration,\org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration,\org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration,\org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration,\org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration,\org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration,\org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration æ¯ä¸€ä¸ªè¿™æ ·çš„ xxxAutoConfigurationç±»éƒ½æ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œéƒ½åŠ å…¥åˆ°å®¹å™¨ä¸­ï¼›ç”¨ä»–ä»¬æ¥åšè‡ªåŠ¨é…ç½®ï¼› 3ï¼‰ã€æ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»è¿›è¡Œè‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼› 4ï¼‰ã€ä»¥HttpEncodingAutoConfigurationï¼ˆHttpç¼–ç è‡ªåŠ¨é…ç½®ï¼‰ä¸ºä¾‹è§£é‡Šè‡ªåŠ¨é…ç½®åŽŸç†ï¼› 12345678910111213141516171819202122232425262728@Configuration //è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œä»¥å‰ç¼–å†™çš„é…ç½®æ–‡ä»¶ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶@EnableConfigurationProperties(HttpEncodingProperties.class) //å¯åŠ¨æŒ‡å®šç±»çš„ConfigurationPropertiesåŠŸèƒ½ï¼›å°†é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼å’ŒHttpEncodingPropertiesç»‘å®šèµ·æ¥ï¼›å¹¶æŠŠHttpEncodingPropertiesåŠ å…¥åˆ°iocå®¹å™¨ä¸­@ConditionalOnWebApplication //Springåº•å±‚@Conditionalæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆï¼‰ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼Œå¦‚æžœæ»¡è¶³æŒ‡å®šçš„æ¡ä»¶ï¼Œæ•´ä¸ªé…ç½®ç±»é‡Œé¢çš„é…ç½®å°±ä¼šç”Ÿæ•ˆï¼› åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯webåº”ç”¨ï¼Œå¦‚æžœæ˜¯ï¼Œå½“å‰é…ç½®ç±»ç”Ÿæ•ˆ@ConditionalOnClass(CharacterEncodingFilter.class) //åˆ¤æ–­å½“å‰é¡¹ç›®æœ‰æ²¡æœ‰è¿™ä¸ªç±»CharacterEncodingFilterï¼›SpringMVCä¸­è¿›è¡Œä¹±ç è§£å†³çš„è¿‡æ»¤å™¨ï¼›@ConditionalOnProperty(prefix = "spring.http.encoding", value = "enabled", matchIfMissing = true) //åˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé…ç½® spring.http.encoding.enabledï¼›å¦‚æžœä¸å­˜åœ¨ï¼Œåˆ¤æ–­ä¹Ÿæ˜¯æˆç«‹çš„//å³ä½¿æˆ‘ä»¬é…ç½®æ–‡ä»¶ä¸­ä¸é…ç½®pring.http.encoding.enabled=trueï¼Œä¹Ÿæ˜¯é»˜è®¤ç”Ÿæ•ˆçš„ï¼›public class HttpEncodingAutoConfiguration &#123; //ä»–å·²ç»å’ŒSpringBootçš„é…ç½®æ–‡ä»¶æ˜ å°„äº† private final HttpEncodingProperties properties; //åªæœ‰ä¸€ä¸ªæœ‰å‚æž„é€ å™¨çš„æƒ…å†µä¸‹ï¼Œå‚æ•°çš„å€¼å°±ä¼šä»Žå®¹å™¨ä¸­æ‹¿ public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶çš„æŸäº›å€¼éœ€è¦ä»Žpropertiesä¸­èŽ·å– @ConditionalOnMissingBean(CharacterEncodingFilter.class) //åˆ¤æ–­å®¹å™¨æ²¡æœ‰è¿™ä¸ªç»„ä»¶ï¼Ÿ public CharacterEncodingFilter characterEncodingFilter() &#123; CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter(); filter.setEncoding(this.properties.getCharset().name()); filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST)); filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE)); return filter; &#125; æ ¹æ®å½“å‰ä¸åŒçš„æ¡ä»¶åˆ¤æ–­ï¼Œå†³å®šè¿™ä¸ªé…ç½®ç±»æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ ä¸€ä½†è¿™ä¸ªé…ç½®ç±»ç”Ÿæ•ˆï¼›è¿™ä¸ªé…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­æ·»åŠ å„ç§ç»„ä»¶ï¼›è¿™äº›ç»„ä»¶çš„å±žæ€§æ˜¯ä»Žå¯¹åº”çš„propertiesç±»ä¸­èŽ·å–çš„ï¼Œè¿™äº›ç±»é‡Œé¢çš„æ¯ä¸€ä¸ªå±žæ€§åˆæ˜¯å’Œé…ç½®æ–‡ä»¶ç»‘å®šçš„ï¼› 5ï¼‰ã€æ‰€æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­èƒ½é…ç½®çš„å±žæ€§éƒ½æ˜¯åœ¨xxxxPropertiesç±»ä¸­å°è£…è€…â€˜ï¼›é…ç½®æ–‡ä»¶èƒ½é…ç½®ä»€ä¹ˆå°±å¯ä»¥å‚ç…§æŸä¸ªåŠŸèƒ½å¯¹åº”çš„è¿™ä¸ªå±žæ€§ç±» 1234@ConfigurationProperties(prefix = "spring.http.encoding") //ä»Žé…ç½®æ–‡ä»¶ä¸­èŽ·å–æŒ‡å®šçš„å€¼å’Œbeançš„å±žæ€§è¿›è¡Œç»‘å®špublic class HttpEncodingProperties &#123; public static final Charset DEFAULT_CHARSET = Charset.forName("UTF-8"); ç²¾é«“ï¼š â€‹ 1ï¼‰ã€SpringBootå¯åŠ¨ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±» â€‹ 2ï¼‰ã€æˆ‘ä»¬çœ‹æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æœ‰æ²¡æœ‰SpringBooté»˜è®¤å†™å¥½çš„è‡ªåŠ¨é…ç½®ç±»ï¼› â€‹ 3ï¼‰ã€æˆ‘ä»¬å†æ¥çœ‹è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ä¸­åˆ°åº•é…ç½®äº†å“ªäº›ç»„ä»¶ï¼›ï¼ˆåªè¦æˆ‘ä»¬è¦ç”¨çš„ç»„ä»¶æœ‰ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ¥é…ç½®äº†ï¼‰ â€‹ 4ï¼‰ã€ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä»Žpropertiesç±»ä¸­èŽ·å–æŸäº›å±žæ€§ã€‚æˆ‘ä»¬å°±å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±žæ€§çš„å€¼ï¼› xxxxAutoConfigurartionï¼šè‡ªåŠ¨é…ç½®ç±»ï¼› ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ xxxxProperties:å°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±žæ€§ï¼› 2ã€ç»†èŠ‚1ã€@Conditionalæ´¾ç”Ÿæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆåŽŸç”Ÿçš„@Conditionalä½œç”¨ï¼‰ä½œç”¨ï¼šå¿…é¡»æ˜¯@ConditionalæŒ‡å®šçš„æ¡ä»¶æˆç«‹ï¼Œæ‰ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œé…ç½®é…é‡Œé¢çš„æ‰€æœ‰å†…å®¹æ‰ç”Ÿæ•ˆï¼› @Conditionalæ‰©å±•æ³¨è§£ ä½œç”¨ï¼ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³å½“å‰æŒ‡å®šæ¡ä»¶ï¼‰ @ConditionalOnJava ç³»ç»Ÿçš„javaç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ @ConditionalOnBean å®¹å™¨ä¸­å­˜åœ¨æŒ‡å®šBeanï¼› @ConditionalOnMissingBean å®¹å™¨ä¸­ä¸å­˜åœ¨æŒ‡å®šBeanï¼› @ConditionalOnExpression æ»¡è¶³SpELè¡¨è¾¾å¼æŒ‡å®š @ConditionalOnClass ç³»ç»Ÿä¸­æœ‰æŒ‡å®šçš„ç±» @ConditionalOnMissingClass ç³»ç»Ÿä¸­æ²¡æœ‰æŒ‡å®šçš„ç±» @ConditionalOnSingleCandidate å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªæŒ‡å®šçš„Beanï¼Œæˆ–è€…è¿™ä¸ªBeanæ˜¯é¦–é€‰Bean @ConditionalOnProperty ç³»ç»Ÿä¸­æŒ‡å®šçš„å±žæ€§æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼ @ConditionalOnResource ç±»è·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šèµ„æºæ–‡ä»¶ @ConditionalOnWebApplication å½“å‰æ˜¯webçŽ¯å¢ƒ @ConditionalOnNotWebApplication å½“å‰ä¸æ˜¯webçŽ¯å¢ƒ @ConditionalOnJndi JNDIå­˜åœ¨æŒ‡å®šé¡¹ è‡ªåŠ¨é…ç½®ç±»å¿…é¡»åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼› æˆ‘ä»¬æ€Žä¹ˆçŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼› ==æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯ç”¨ debug=trueå±žæ€§ï¼›æ¥è®©æŽ§åˆ¶å°æ‰“å°è‡ªåŠ¨é…ç½®æŠ¥å‘Š==ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„çŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼› 1234567891011121314151617181920212223=========================AUTO-CONFIGURATION REPORT=========================Positive matches:ï¼ˆè‡ªåŠ¨é…ç½®ç±»å¯ç”¨çš„ï¼‰----------------- DispatcherServletAutoConfiguration matched: - @ConditionalOnClass found required class 'org.springframework.web.servlet.DispatcherServlet'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) - @ConditionalOnWebApplication (required) found StandardServletEnvironment (OnWebApplicationCondition) Negative matches:ï¼ˆæ²¡æœ‰å¯åŠ¨ï¼Œæ²¡æœ‰åŒ¹é…æˆåŠŸçš„è‡ªåŠ¨é…ç½®ç±»ï¼‰----------------- ActiveMQAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes 'javax.jms.ConnectionFactory', 'org.apache.activemq.ActiveMQConnectionFactory' (OnClassCondition) AopAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes 'org.aspectj.lang.annotation.Aspect', 'org.aspectj.lang.reflect.Advice' (OnClassCondition) ä¸‰ã€æ—¥å¿—1ã€æ—¥å¿—æ¡†æž¶ å°å¼ ï¼›å¼€å‘ä¸€ä¸ªå¤§åž‹ç³»ç»Ÿï¼› â€‹ 1ã€System.out.println(â€œâ€)ï¼›å°†å…³é”®æ•°æ®æ‰“å°åœ¨æŽ§åˆ¶å°ï¼›åŽ»æŽ‰ï¼Ÿå†™åœ¨ä¸€ä¸ªæ–‡ä»¶ï¼Ÿ â€‹ 2ã€æ¡†æž¶æ¥è®°å½•ç³»ç»Ÿçš„ä¸€äº›è¿è¡Œæ—¶ä¿¡æ¯ï¼›æ—¥å¿—æ¡†æž¶ ï¼› zhanglogging.jarï¼› â€‹ 3ã€é«˜å¤§ä¸Šçš„å‡ ä¸ªåŠŸèƒ½ï¼Ÿå¼‚æ­¥æ¨¡å¼ï¼Ÿè‡ªåŠ¨å½’æ¡£ï¼Ÿxxxxï¼Ÿ zhanglogging-good.jarï¼Ÿ â€‹ 4ã€å°†ä»¥å‰æ¡†æž¶å¸ä¸‹æ¥ï¼Ÿæ¢ä¸Šæ–°çš„æ¡†æž¶ï¼Œé‡æ–°ä¿®æ”¹ä¹‹å‰ç›¸å…³çš„APIï¼›zhanglogging-prefect.jarï¼› â€‹ 5ã€JDBCâ€”æ•°æ®åº“é©±åŠ¨ï¼› â€‹ å†™äº†ä¸€ä¸ªç»Ÿä¸€çš„æŽ¥å£å±‚ï¼›æ—¥å¿—é—¨é¢ï¼ˆæ—¥å¿—çš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼‰ï¼›logging-abstract.jarï¼› â€‹ ç»™é¡¹ç›®ä¸­å¯¼å…¥å…·ä½“çš„æ—¥å¿—å®žçŽ°å°±è¡Œäº†ï¼›æˆ‘ä»¬ä¹‹å‰çš„æ—¥å¿—æ¡†æž¶éƒ½æ˜¯å®žçŽ°çš„æŠ½è±¡å±‚ï¼› å¸‚é¢ä¸Šçš„æ—¥å¿—æ¡†æž¶ï¼› JULã€JCLã€Jboss-loggingã€logbackã€log4jã€log4j2ã€slf4jâ€¦. æ—¥å¿—é—¨é¢ ï¼ˆæ—¥å¿—çš„æŠ½è±¡å±‚ï¼‰ æ—¥å¿—å®žçŽ° JCLï¼ˆJakarta Commons Loggingï¼‰ SLF4jï¼ˆSimple Logging Facade for Javaï¼‰ jboss-logging Log4j JULï¼ˆjava.util.loggingï¼‰ Log4j2 Logback å·¦è¾¹é€‰ä¸€ä¸ªé—¨é¢ï¼ˆæŠ½è±¡å±‚ï¼‰ã€å³è¾¹æ¥é€‰ä¸€ä¸ªå®žçŽ°ï¼› æ—¥å¿—é—¨é¢ï¼š SLF4Jï¼› æ—¥å¿—å®žçŽ°ï¼šLogbackï¼› SpringBootï¼šåº•å±‚æ˜¯Springæ¡†æž¶ï¼ŒSpringæ¡†æž¶é»˜è®¤æ˜¯ç”¨JCLï¼›â€˜ â€‹ ==SpringBooté€‰ç”¨ SLF4jå’Œlogbackï¼›== 2ã€SLF4jä½¿ç”¨1ã€å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4j https://www.slf4j.orgä»¥åŽå¼€å‘çš„æ—¶å€™ï¼Œæ—¥å¿—è®°å½•æ–¹æ³•çš„è°ƒç”¨ï¼Œä¸åº”è¯¥æ¥ç›´æŽ¥è°ƒç”¨æ—¥å¿—çš„å®žçŽ°ç±»ï¼Œè€Œæ˜¯è°ƒç”¨æ—¥å¿—æŠ½è±¡å±‚é‡Œé¢çš„æ–¹æ³•ï¼› ç»™ç³»ç»Ÿé‡Œé¢å¯¼å…¥slf4jçš„jarå’Œ logbackçš„å®žçŽ°jar 123456789import org.slf4j.Logger;import org.slf4j.LoggerFactory;public class HelloWorld &#123; public static void main(String[] args) &#123; Logger logger = LoggerFactory.getLogger(HelloWorld.class); logger.info("Hello World"); &#125;&#125; å›¾ç¤ºï¼› æ¯ä¸€ä¸ªæ—¥å¿—çš„å®žçŽ°æ¡†æž¶éƒ½æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ã€‚ä½¿ç”¨slf4jä»¥åŽï¼Œé…ç½®æ–‡ä»¶è¿˜æ˜¯åšæˆæ—¥å¿—å®žçŽ°æ¡†æž¶è‡ªå·±æœ¬èº«çš„é…ç½®æ–‡ä»¶ï¼› 2ã€é—ç•™é—®é¢˜aï¼ˆslf4j+logbackï¼‰: Springï¼ˆcommons-loggingï¼‰ã€Hibernateï¼ˆjboss-loggingï¼‰ã€MyBatisã€xxxx ç»Ÿä¸€æ—¥å¿—è®°å½•ï¼Œå³ä½¿æ˜¯åˆ«çš„æ¡†æž¶å’Œæˆ‘ä¸€èµ·ç»Ÿä¸€ä½¿ç”¨slf4jè¿›è¡Œè¾“å‡ºï¼Ÿ å¦‚ä½•è®©ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ—¥å¿—éƒ½ç»Ÿä¸€åˆ°slf4jï¼› ==1ã€å°†ç³»ç»Ÿä¸­å…¶ä»–æ—¥å¿—æ¡†æž¶å…ˆæŽ’é™¤å‡ºåŽ»ï¼›== ==2ã€ç”¨ä¸­é—´åŒ…æ¥æ›¿æ¢åŽŸæœ‰çš„æ—¥å¿—æ¡†æž¶ï¼›== ==3ã€æˆ‘ä»¬å¯¼å…¥slf4jå…¶ä»–çš„å®žçŽ°== 3ã€SpringBootæ—¥å¿—å…³ç³»1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;&lt;/dependency&gt; SpringBootä½¿ç”¨å®ƒæ¥åšæ—¥å¿—åŠŸèƒ½ï¼› 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt; åº•å±‚ä¾èµ–å…³ç³» æ€»ç»“ï¼š â€‹ 1ï¼‰ã€SpringBootåº•å±‚ä¹Ÿæ˜¯ä½¿ç”¨slf4j+logbackçš„æ–¹å¼è¿›è¡Œæ—¥å¿—è®°å½• â€‹ 2ï¼‰ã€SpringBootä¹ŸæŠŠå…¶ä»–çš„æ—¥å¿—éƒ½æ›¿æ¢æˆäº†slf4jï¼› â€‹ 3ï¼‰ã€ä¸­é—´æ›¿æ¢åŒ…ï¼Ÿ 123456@SuppressWarnings("rawtypes")public abstract class LogFactory &#123; static String UNSUPPORTED_OPERATION_IN_JCL_OVER_SLF4J = "http://www.slf4j.org/codes.html#unsupported_operation_in_jcl_over_slf4j"; static LogFactory logFactory = new SLF4JLogFactory(); â€‹ 4ï¼‰ã€å¦‚æžœæˆ‘ä»¬è¦å¼•å…¥å…¶ä»–æ¡†æž¶ï¼Ÿä¸€å®šè¦æŠŠè¿™ä¸ªæ¡†æž¶çš„é»˜è®¤æ—¥å¿—ä¾èµ–ç§»é™¤æŽ‰ï¼Ÿ â€‹ Springæ¡†æž¶ç”¨çš„æ˜¯commons-loggingï¼› 12345678910&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt; ==SpringBootèƒ½è‡ªåŠ¨é€‚é…æ‰€æœ‰çš„æ—¥å¿—ï¼Œè€Œä¸”åº•å±‚ä½¿ç”¨slf4j+logbackçš„æ–¹å¼è®°å½•æ—¥å¿—ï¼Œå¼•å…¥å…¶ä»–æ¡†æž¶çš„æ—¶å€™ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªæ¡†æž¶ä¾èµ–çš„æ—¥å¿—æ¡†æž¶æŽ’é™¤æŽ‰å³å¯ï¼›== 4ã€æ—¥å¿—ä½¿ç”¨ï¼›1ã€é»˜è®¤é…ç½®SpringBooté»˜è®¤å¸®æˆ‘ä»¬é…ç½®å¥½äº†æ—¥å¿—ï¼› 123456789101112131415161718//è®°å½•å™¨Logger logger = LoggerFactory.getLogger(getClass());@Testpublic void contextLoads() &#123; //System.out.println(); //æ—¥å¿—çš„çº§åˆ«ï¼› //ç”±ä½Žåˆ°é«˜ trace&lt;debug&lt;info&lt;warn&lt;error //å¯ä»¥è°ƒæ•´è¾“å‡ºçš„æ—¥å¿—çº§åˆ«ï¼›æ—¥å¿—å°±åªä¼šåœ¨è¿™ä¸ªçº§åˆ«ä»¥ä»¥åŽçš„é«˜çº§åˆ«ç”Ÿæ•ˆ logger.trace("è¿™æ˜¯traceæ—¥å¿—..."); logger.debug("è¿™æ˜¯debugæ—¥å¿—..."); //SpringBooté»˜è®¤ç»™æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯infoçº§åˆ«çš„ï¼Œæ²¡æœ‰æŒ‡å®šçº§åˆ«çš„å°±ç”¨SpringBooté»˜è®¤è§„å®šçš„çº§åˆ«ï¼›rootçº§åˆ« logger.info("è¿™æ˜¯infoæ—¥å¿—..."); logger.warn("è¿™æ˜¯warnæ—¥å¿—..."); logger.error("è¿™æ˜¯erroræ—¥å¿—...");&#125; æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼š %dè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼Œ %threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ %-5levelï¼šçº§åˆ«ä»Žå·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦ %logger{50} è¡¨ç¤ºloggeråå­—æœ€é•¿50ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ã€‚ %msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ %næ˜¯æ¢è¡Œç¬¦ --&gt; %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n SpringBootä¿®æ”¹æ—¥å¿—çš„é»˜è®¤é…ç½® 123456789101112131415logging.level.com.atguigu=trace#logging.path=# ä¸æŒ‡å®šè·¯å¾„åœ¨å½“å‰é¡¹ç›®ä¸‹ç”Ÿæˆspringboot.logæ—¥å¿—# å¯ä»¥æŒ‡å®šå®Œæ•´çš„è·¯å¾„ï¼›#logging.file=G:/springboot.log# åœ¨å½“å‰ç£ç›˜çš„æ ¹è·¯å¾„ä¸‹åˆ›å»ºspringæ–‡ä»¶å¤¹å’Œé‡Œé¢çš„logæ–‡ä»¶å¤¹ï¼›ä½¿ç”¨ spring.log ä½œä¸ºé»˜è®¤æ–‡ä»¶logging.path=/spring/log# åœ¨æŽ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çš„æ ¼å¼logging.pattern.console=%d&#123;yyyy-MM-dd&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n# æŒ‡å®šæ–‡ä»¶ä¸­æ—¥å¿—è¾“å‡ºçš„æ ¼å¼logging.pattern.file=%d&#123;yyyy-MM-dd&#125; === [%thread] === %-5level === %logger&#123;50&#125; ==== %msg%n logging.file logging.path Example Description (none) (none) åªåœ¨æŽ§åˆ¶å°è¾“å‡º æŒ‡å®šæ–‡ä»¶å (none) my.log è¾“å‡ºæ—¥å¿—åˆ°my.logæ–‡ä»¶ (none) æŒ‡å®šç›®å½• /var/log è¾“å‡ºåˆ°æŒ‡å®šç›®å½•çš„ spring.log æ–‡ä»¶ä¸­ 2ã€æŒ‡å®šé…ç½®ç»™ç±»è·¯å¾„ä¸‹æ”¾ä¸Šæ¯ä¸ªæ—¥å¿—æ¡†æž¶è‡ªå·±çš„é…ç½®æ–‡ä»¶å³å¯ï¼›SpringBootå°±ä¸ä½¿ç”¨ä»–é»˜è®¤é…ç½®çš„äº† Logging System Customization Logback logback-spring.xml, logback-spring.groovy, logback.xml or logback.groovy Log4j2 log4j2-spring.xml or log4j2.xml JDK (Java Util Logging) logging.properties logback.xmlï¼šç›´æŽ¥å°±è¢«æ—¥å¿—æ¡†æž¶è¯†åˆ«äº†ï¼› logback-spring.xmlï¼šæ—¥å¿—æ¡†æž¶å°±ä¸ç›´æŽ¥åŠ è½½æ—¥å¿—çš„é…ç½®é¡¹ï¼Œç”±SpringBootè§£æžæ—¥å¿—é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨SpringBootçš„é«˜çº§ProfileåŠŸèƒ½ 1234&lt;springProfile name="staging"&gt; &lt;!-- configuration to be enabled when the "staging" profile is active --&gt; å¯ä»¥æŒ‡å®šæŸæ®µé…ç½®åªåœ¨æŸä¸ªçŽ¯å¢ƒä¸‹ç”Ÿæ•ˆ&lt;/springProfile&gt; å¦‚ï¼š 12345678910111213141516171819&lt;appender name="stdout" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;!-- æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼š %dè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼Œ %threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ %-5levelï¼šçº§åˆ«ä»Žå·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦ %logger&#123;50&#125; è¡¨ç¤ºloggeråå­—æœ€é•¿50ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ã€‚ %msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ %næ˜¯æ¢è¡Œç¬¦ --&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;springProfile name="dev"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; ----&gt; [%thread] ---&gt; %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt; &lt;/springProfile&gt; &lt;springProfile name="!dev"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; ==== [%thread] ==== %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt; &lt;/springProfile&gt; &lt;/layout&gt; &lt;/appender&gt; å¦‚æžœä½¿ç”¨logback.xmlä½œä¸ºæ—¥å¿—é…ç½®æ–‡ä»¶ï¼Œè¿˜è¦ä½¿ç”¨profileåŠŸèƒ½ï¼Œä¼šæœ‰ä»¥ä¸‹é”™è¯¯ no applicable action for [springProfile] 5ã€åˆ‡æ¢æ—¥å¿—æ¡†æž¶å¯ä»¥æŒ‰ç…§slf4jçš„æ—¥å¿—é€‚é…å›¾ï¼Œè¿›è¡Œç›¸å…³çš„åˆ‡æ¢ï¼› slf4j+log4jçš„æ–¹å¼ï¼› 12345678910111213141516171819&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;&lt;/dependency&gt; åˆ‡æ¢ä¸ºlog4j2 123456789101112131415 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;&lt;/dependency&gt; å››ã€Webå¼€å‘1ã€ç®€ä»‹ä½¿ç”¨SpringBootï¼› 1ï¼‰ã€åˆ›å»ºSpringBootåº”ç”¨ï¼Œé€‰ä¸­æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼› 2ï¼‰ã€SpringBootå·²ç»é»˜è®¤å°†è¿™äº›åœºæ™¯é…ç½®å¥½äº†ï¼Œåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå°‘é‡é…ç½®å°±å¯ä»¥è¿è¡Œèµ·æ¥ 3ï¼‰ã€è‡ªå·±ç¼–å†™ä¸šåŠ¡ä»£ç ï¼› è‡ªåŠ¨é…ç½®åŽŸç†ï¼Ÿ è¿™ä¸ªåœºæ™¯SpringBootå¸®æˆ‘ä»¬é…ç½®äº†ä»€ä¹ˆï¼Ÿèƒ½ä¸èƒ½ä¿®æ”¹ï¼Ÿèƒ½ä¿®æ”¹å“ªäº›é…ç½®ï¼Ÿèƒ½ä¸èƒ½æ‰©å±•ï¼Ÿxxx 12xxxxAutoConfigurationï¼šå¸®æˆ‘ä»¬ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç»„ä»¶ï¼›xxxxProperties:é…ç½®ç±»æ¥å°è£…é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼› 2ã€SpringBootå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™ï¼›123@ConfigurationProperties(prefix = "spring.resources", ignoreUnknownFields = false)public class ResourceProperties implements ResourceLoaderAware &#123; //å¯ä»¥è®¾ç½®å’Œé™æ€èµ„æºæœ‰å…³çš„å‚æ•°ï¼Œç¼“å­˜æ—¶é—´ç­‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364WebMvcAuotConfigurationï¼š @Override public void addResourceHandlers(ResourceHandlerRegistry registry) &#123; if (!this.resourceProperties.isAddMappings()) &#123; logger.debug("Default resource handling disabled"); return; &#125; Integer cachePeriod = this.resourceProperties.getCachePeriod(); if (!registry.hasMappingForPattern("/webjars/**")) &#123; customizeResourceHandlerRegistration( registry.addResourceHandler("/webjars/**") .addResourceLocations( "classpath:/META-INF/resources/webjars/") .setCachePeriod(cachePeriod)); &#125; String staticPathPattern = this.mvcProperties.getStaticPathPattern(); //é™æ€èµ„æºæ–‡ä»¶å¤¹æ˜ å°„ if (!registry.hasMappingForPattern(staticPathPattern)) &#123; customizeResourceHandlerRegistration( registry.addResourceHandler(staticPathPattern) .addResourceLocations( this.resourceProperties.getStaticLocations()) .setCachePeriod(cachePeriod)); &#125; &#125; //é…ç½®æ¬¢è¿Žé¡µæ˜ å°„ @Bean public WelcomePageHandlerMapping welcomePageHandlerMapping( ResourceProperties resourceProperties) &#123; return new WelcomePageHandlerMapping(resourceProperties.getWelcomePage(), this.mvcProperties.getStaticPathPattern()); &#125; //é…ç½®å–œæ¬¢çš„å›¾æ ‡ @Configuration @ConditionalOnProperty(value = "spring.mvc.favicon.enabled", matchIfMissing = true) public static class FaviconConfiguration &#123; private final ResourceProperties resourceProperties; public FaviconConfiguration(ResourceProperties resourceProperties) &#123; this.resourceProperties = resourceProperties; &#125; @Bean public SimpleUrlHandlerMapping faviconHandlerMapping() &#123; SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping(); mapping.setOrder(Ordered.HIGHEST_PRECEDENCE + 1); //æ‰€æœ‰ **/favicon.ico mapping.setUrlMap(Collections.singletonMap("**/favicon.ico", faviconRequestHandler())); return mapping; &#125; @Bean public ResourceHttpRequestHandler faviconRequestHandler() &#123; ResourceHttpRequestHandler requestHandler = new ResourceHttpRequestHandler(); requestHandler .setLocations(this.resourceProperties.getFaviconLocations()); return requestHandler; &#125; &#125; ==1ï¼‰ã€æ‰€æœ‰ /webjars/** ï¼Œéƒ½åŽ» classpath:/META-INF/resources/webjars/ æ‰¾èµ„æºï¼›== â€‹ webjarsï¼šä»¥jaråŒ…çš„æ–¹å¼å¼•å…¥é™æ€èµ„æºï¼› http://www.webjars.org/ localhost:8080/webjars/jquery/3.3.1/jquery.js 123456&lt;!--å¼•å…¥jquery-webjar--&gt;åœ¨è®¿é—®çš„æ—¶å€™åªéœ€è¦å†™webjarsä¸‹é¢èµ„æºçš„åç§°å³å¯ &lt;dependency&gt; &lt;groupId&gt;org.webjars&lt;/groupId&gt; &lt;artifactId&gt;jquery&lt;/artifactId&gt; &lt;version&gt;3.3.1&lt;/version&gt; &lt;/dependency&gt; ==2ï¼‰ã€â€/**â€ è®¿é—®å½“å‰é¡¹ç›®çš„ä»»ä½•èµ„æºï¼Œéƒ½åŽ»ï¼ˆé™æ€èµ„æºçš„æ–‡ä»¶å¤¹ï¼‰æ‰¾æ˜ å°„== 12345&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,&quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; &quot;/&quot;ï¼šå½“å‰é¡¹ç›®çš„æ ¹è·¯å¾„ localhost:8080/abc === åŽ»é™æ€èµ„æºæ–‡ä»¶å¤¹é‡Œé¢æ‰¾abc ==3ï¼‰ã€æ¬¢è¿Žé¡µï¼› é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰index.htmlé¡µé¢ï¼›è¢«â€/**â€æ˜ å°„ï¼›== â€‹ localhost:8080/ æ‰¾indexé¡µé¢ ==4ï¼‰ã€æ‰€æœ‰çš„ **/favicon.ico éƒ½æ˜¯åœ¨é™æ€èµ„æºæ–‡ä»¶ä¸‹æ‰¾ï¼›== 3ã€æ¨¡æ¿å¼•æ“ŽJSPã€Velocityã€Freemarkerã€Thymeleaf SpringBootæŽ¨èçš„Thymeleafï¼› è¯­æ³•æ›´ç®€å•ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼› 1ã€å¼•å…¥thymeleafï¼›123456789101112 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; 2.1.6 &lt;/dependency&gt;åˆ‡æ¢thymeleafç‰ˆæœ¬&lt;properties&gt; &lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;/thymeleaf.version&gt; &lt;!-- å¸ƒå±€åŠŸèƒ½çš„æ”¯æŒç¨‹åº thymeleaf3ä¸»ç¨‹åº layout2ä»¥ä¸Šç‰ˆæœ¬ --&gt; &lt;!-- thymeleaf2 layout1--&gt; &lt;thymeleaf-layout-dialect.version&gt;2.2.2&lt;/thymeleaf-layout-dialect.version&gt; &lt;/properties&gt; 2ã€Thymeleafä½¿ç”¨1234567891011@ConfigurationProperties(prefix = "spring.thymeleaf")public class ThymeleafProperties &#123; private static final Charset DEFAULT_ENCODING = Charset.forName("UTF-8"); private static final MimeType DEFAULT_CONTENT_TYPE = MimeType.valueOf("text/html"); public static final String DEFAULT_PREFIX = "classpath:/templates/"; public static final String DEFAULT_SUFFIX = ".html"; // åªè¦æˆ‘ä»¬æŠŠHTMLé¡µé¢æ”¾åœ¨classpath:/templates/ï¼Œthymeleafå°±èƒ½è‡ªåŠ¨æ¸²æŸ“ï¼› ä½¿ç”¨ï¼š 1ã€å¯¼å…¥thymeleafçš„åç§°ç©ºé—´ 1&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt; 2ã€ä½¿ç”¨thymeleafè¯­æ³•ï¼› 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;æˆåŠŸï¼&lt;/h1&gt; &lt;!--th:text å°†divé‡Œé¢çš„æ–‡æœ¬å†…å®¹è®¾ç½®ä¸º --&gt; &lt;div th:text="$&#123;hello&#125;"&gt;è¿™æ˜¯æ˜¾ç¤ºæ¬¢è¿Žä¿¡æ¯&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3ã€è¯­æ³•è§„åˆ™1ï¼‰ã€th:textï¼›æ”¹å˜å½“å‰å…ƒç´ é‡Œé¢çš„æ–‡æœ¬å†…å®¹ï¼› â€‹ thï¼šä»»æ„htmlå±žæ€§ï¼›æ¥æ›¿æ¢åŽŸç”Ÿå±žæ€§çš„å€¼ 2ï¼‰ã€è¡¨è¾¾å¼ï¼Ÿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869Simple expressions:ï¼ˆè¡¨è¾¾å¼è¯­æ³•ï¼‰ Variable Expressions: $&#123;...&#125;ï¼šèŽ·å–å˜é‡å€¼ï¼›OGNLï¼› 1ï¼‰ã€èŽ·å–å¯¹è±¡çš„å±žæ€§ã€è°ƒç”¨æ–¹æ³• 2ï¼‰ã€ä½¿ç”¨å†…ç½®çš„åŸºæœ¬å¯¹è±¡ï¼š #ctx : the context object. #vars: the context variables. #locale : the context locale. #request : (only in Web Contexts) the HttpServletRequest object. #response : (only in Web Contexts) the HttpServletResponse object. #session : (only in Web Contexts) the HttpSession object. #servletContext : (only in Web Contexts) the ServletContext object. $&#123;session.foo&#125; 3ï¼‰ã€å†…ç½®çš„ä¸€äº›å·¥å…·å¯¹è±¡ï¼š#execInfo : information about the template being processed.#messages : methods for obtaining externalized messages inside variables expressions, in the same way as they would be obtained using #&#123;â€¦&#125; syntax.#uris : methods for escaping parts of URLs/URIs#conversions : methods for executing the configured conversion service (if any).#dates : methods for java.util.Date objects: formatting, component extraction, etc.#calendars : analogous to #dates , but for java.util.Calendar objects.#numbers : methods for formatting numeric objects.#strings : methods for String objects: contains, startsWith, prepending/appending, etc.#objects : methods for objects in general.#bools : methods for boolean evaluation.#arrays : methods for arrays.#lists : methods for lists.#sets : methods for sets.#maps : methods for maps.#aggregates : methods for creating aggregates on arrays or collections.#ids : methods for dealing with id attributes that might be repeated (for example, as a result of an iteration). Selection Variable Expressions: *&#123;...&#125;ï¼šé€‰æ‹©è¡¨è¾¾å¼ï¼šå’Œ$&#123;&#125;åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€æ ·ï¼› è¡¥å……ï¼šé…åˆ th:object=&quot;$&#123;session.user&#125;ï¼š &lt;div th:object=&quot;$&#123;session.user&#125;&quot;&gt; &lt;p&gt;Name: &lt;span th:text=&quot;*&#123;firstName&#125;&quot;&gt;Sebastian&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;Surname: &lt;span th:text=&quot;*&#123;lastName&#125;&quot;&gt;Pepper&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;Nationality: &lt;span th:text=&quot;*&#123;nationality&#125;&quot;&gt;Saturn&lt;/span&gt;.&lt;/p&gt; &lt;/div&gt; Message Expressions: #&#123;...&#125;ï¼šèŽ·å–å›½é™…åŒ–å†…å®¹ Link URL Expressions: @&#123;...&#125;ï¼šå®šä¹‰URLï¼› @&#123;/order/process(execId=$&#123;execId&#125;,execType=&apos;FAST&apos;)&#125; Fragment Expressions: ~&#123;...&#125;ï¼šç‰‡æ®µå¼•ç”¨è¡¨è¾¾å¼ &lt;div th:insert=&quot;~&#123;commons :: main&#125;&quot;&gt;...&lt;/div&gt; Literalsï¼ˆå­—é¢é‡ï¼‰ Text literals: &apos;one text&apos; , &apos;Another one!&apos; ,â€¦ Number literals: 0 , 34 , 3.0 , 12.3 ,â€¦ Boolean literals: true , false Null literal: null Literal tokens: one , sometext , main ,â€¦Text operations:ï¼ˆæ–‡æœ¬æ“ä½œï¼‰ String concatenation: + Literal substitutions: |The name is $&#123;name&#125;|Arithmetic operations:ï¼ˆæ•°å­¦è¿ç®—ï¼‰ Binary operators: + , - , * , / , % Minus sign (unary operator): -Boolean operations:ï¼ˆå¸ƒå°”è¿ç®—ï¼‰ Binary operators: and , or Boolean negation (unary operator): ! , notComparisons and equality:ï¼ˆæ¯”è¾ƒè¿ç®—ï¼‰ Comparators: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le ) Equality operators: == , != ( eq , ne )Conditional operators:æ¡ä»¶è¿ç®—ï¼ˆä¸‰å…ƒè¿ç®—ç¬¦ï¼‰ If-then: (if) ? (then) If-then-else: (if) ? (then) : (else) Default: (value) ?: (defaultvalue)Special tokens: No-Operation: _ 4ã€SpringMVCè‡ªåŠ¨é…ç½®https://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/reference/htmlsingle/#boot-features-developing-web-applications 1. Spring MVC auto-configurationSpring Boot è‡ªåŠ¨é…ç½®å¥½äº†SpringMVC ä»¥ä¸‹æ˜¯SpringBootå¯¹SpringMVCçš„é»˜è®¤é…ç½®:==ï¼ˆWebMvcAutoConfigurationï¼‰== Inclusion of ContentNegotiatingViewResolver and BeanNameViewResolver beans. è‡ªåŠ¨é…ç½®äº†ViewResolverï¼ˆè§†å›¾è§£æžå™¨ï¼šæ ¹æ®æ–¹æ³•çš„è¿”å›žå€¼å¾—åˆ°è§†å›¾å¯¹è±¡ï¼ˆViewï¼‰ï¼Œè§†å›¾å¯¹è±¡å†³å®šå¦‚ä½•æ¸²æŸ“ï¼ˆè½¬å‘ï¼Ÿé‡å®šå‘ï¼Ÿï¼‰ï¼‰ ContentNegotiatingViewResolverï¼šç»„åˆæ‰€æœ‰çš„è§†å›¾è§£æžå™¨çš„ï¼› ==å¦‚ä½•å®šåˆ¶ï¼šæˆ‘ä»¬å¯ä»¥è‡ªå·±ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªè§†å›¾è§£æžå™¨ï¼›è‡ªåŠ¨çš„å°†å…¶ç»„åˆè¿›æ¥ï¼›== Support for serving static resources, including support for WebJars (see below).é™æ€èµ„æºæ–‡ä»¶å¤¹è·¯å¾„,webjars Static index.html support. é™æ€é¦–é¡µè®¿é—® Custom Favicon support (see below). favicon.ico â€‹ è‡ªåŠ¨æ³¨å†Œäº† of Converter, GenericConverter, Formatter beans. Converterï¼šè½¬æ¢å™¨ï¼› public String hello(User user)ï¼šç±»åž‹è½¬æ¢ä½¿ç”¨Converter Formatter æ ¼å¼åŒ–å™¨ï¼› 2017.12.17===Dateï¼› 12345@Bean@ConditionalOnProperty(prefix = "spring.mvc", name = "date-format")//åœ¨æ–‡ä»¶ä¸­é…ç½®æ—¥æœŸæ ¼å¼åŒ–çš„è§„åˆ™public Formatter&lt;Date&gt; dateFormatter() &#123; return new DateFormatter(this.mvcProperties.getDateFormat());//æ—¥æœŸæ ¼å¼åŒ–ç»„ä»¶&#125; â€‹ ==è‡ªå·±æ·»åŠ çš„æ ¼å¼åŒ–å™¨è½¬æ¢å™¨ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¾åœ¨å®¹å™¨ä¸­å³å¯== Support for HttpMessageConverters (see below). HttpMessageConverterï¼šSpringMVCç”¨æ¥è½¬æ¢Httpè¯·æ±‚å’Œå“åº”çš„ï¼›Userâ€”Jsonï¼› HttpMessageConverters æ˜¯ä»Žå®¹å™¨ä¸­ç¡®å®šï¼›èŽ·å–æ‰€æœ‰çš„HttpMessageConverterï¼› ==è‡ªå·±ç»™å®¹å™¨ä¸­æ·»åŠ HttpMessageConverterï¼Œåªéœ€è¦å°†è‡ªå·±çš„ç»„ä»¶æ³¨å†Œå®¹å™¨ä¸­ï¼ˆ@Bean,@Componentï¼‰== â€‹ Automatic registration of MessageCodesResolver (see below).å®šä¹‰é”™è¯¯ä»£ç ç”Ÿæˆè§„åˆ™ Automatic use of a ConfigurableWebBindingInitializer bean (see below). ==æˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ªConfigurableWebBindingInitializeræ¥æ›¿æ¢é»˜è®¤çš„ï¼›ï¼ˆæ·»åŠ åˆ°å®¹å™¨ï¼‰== 12åˆå§‹åŒ–WebDataBinderï¼›è¯·æ±‚æ•°æ®=====JavaBeanï¼› org.springframework.boot.autoconfigure.webï¼šwebçš„æ‰€æœ‰è‡ªåŠ¨åœºæ™¯ï¼› If you want to keep Spring Boot MVC features, and you just want to add additional MVC configuration (interceptors, formatters, view controllers etc.) you can add your own @Configuration class of type WebMvcConfigurerAdapter, but without @EnableWebMvc. If you wish to provide custom instances of RequestMappingHandlerMapping, RequestMappingHandlerAdapter or ExceptionHandlerExceptionResolver you can declare a WebMvcRegistrationsAdapter instance providing such components. If you want to take complete control of Spring MVC, you can add your own @Configuration annotated with @EnableWebMvc. 2ã€æ‰©å±•SpringMVC1234567&lt;mvc:view-controller path="/hello" view-name="success"/&gt;&lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/hello"/&gt; &lt;bean&gt;&lt;/bean&gt; &lt;/mvc:interceptor&gt;&lt;/mvc:interceptors&gt; ==ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼ˆ@Configurationï¼‰ï¼Œæ˜¯WebMvcConfigurerAdapterç±»åž‹ï¼›ä¸èƒ½æ ‡æ³¨@EnableWebMvc==; æ—¢ä¿ç•™äº†æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ï¼Œä¹Ÿèƒ½ç”¨æˆ‘ä»¬æ‰©å±•çš„é…ç½®ï¼› 1234567891011//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success registry.addViewController("/atguigu").setViewName("success"); &#125;&#125; åŽŸç†ï¼š â€‹ 1ï¼‰ã€WebMvcAutoConfigurationæ˜¯SpringMVCçš„è‡ªåŠ¨é…ç½®ç±» â€‹ 2ï¼‰ã€åœ¨åšå…¶ä»–è‡ªåŠ¨é…ç½®æ—¶ä¼šå¯¼å…¥ï¼›@Import(EnableWebMvcConfiguration.class) 123456789101112131415161718 @Configurationpublic static class EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration &#123; private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite(); //ä»Žå®¹å™¨ä¸­èŽ·å–æ‰€æœ‰çš„WebMvcConfigurer @Autowired(required = false) public void setConfigurers(List&lt;WebMvcConfigurer&gt; configurers) &#123; if (!CollectionUtils.isEmpty(configurers)) &#123; this.configurers.addWebMvcConfigurers(configurers); //ä¸€ä¸ªå‚è€ƒå®žçŽ°ï¼›å°†æ‰€æœ‰çš„WebMvcConfigurerç›¸å…³é…ç½®éƒ½æ¥ä¸€èµ·è°ƒç”¨ï¼› @Override // public void addViewControllers(ViewControllerRegistry registry) &#123; // for (WebMvcConfigurer delegate : this.delegates) &#123; // delegate.addViewControllers(registry); // &#125; &#125; &#125;&#125; â€‹ 3ï¼‰ã€å®¹å™¨ä¸­æ‰€æœ‰çš„WebMvcConfigureréƒ½ä¼šä¸€èµ·èµ·ä½œç”¨ï¼› â€‹ 4ï¼‰ã€æˆ‘ä»¬çš„é…ç½®ç±»ä¹Ÿä¼šè¢«è°ƒç”¨ï¼› â€‹ æ•ˆæžœï¼šSpringMVCçš„è‡ªåŠ¨é…ç½®å’Œæˆ‘ä»¬çš„æ‰©å±•é…ç½®éƒ½ä¼šèµ·ä½œç”¨ï¼› 3ã€å…¨é¢æŽ¥ç®¡SpringMVCï¼›SpringBootå¯¹SpringMVCçš„è‡ªåŠ¨é…ç½®ä¸éœ€è¦äº†ï¼Œæ‰€æœ‰éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±é…ç½®ï¼›æ‰€æœ‰çš„SpringMVCçš„è‡ªåŠ¨é…ç½®éƒ½å¤±æ•ˆäº† æˆ‘ä»¬éœ€è¦åœ¨é…ç½®ç±»ä¸­æ·»åŠ @EnableWebMvcå³å¯ï¼› 123456789101112//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½@EnableWebMvc@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success registry.addViewController("/atguigu").setViewName("success"); &#125;&#125; åŽŸç†ï¼š ä¸ºä»€ä¹ˆ@EnableWebMvcè‡ªåŠ¨é…ç½®å°±å¤±æ•ˆäº†ï¼› 1ï¼‰@EnableWebMvcçš„æ ¸å¿ƒ 12@Import(DelegatingWebMvcConfiguration.class)public @interface EnableWebMvc &#123; 2ï¼‰ã€ 12@Configurationpublic class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport &#123; 3ï¼‰ã€ 12345678910@Configuration@ConditionalOnWebApplication@ConditionalOnClass(&#123; Servlet.class, DispatcherServlet.class, WebMvcConfigurerAdapter.class &#125;)//å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»æ‰ç”Ÿæ•ˆ@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)@AutoConfigureAfter(&#123; DispatcherServletAutoConfiguration.class, ValidationAutoConfiguration.class &#125;)public class WebMvcAutoConfiguration &#123; 4ï¼‰ã€@EnableWebMvcå°†WebMvcConfigurationSupportç»„ä»¶å¯¼å…¥è¿›æ¥ï¼› 5ï¼‰ã€å¯¼å…¥çš„WebMvcConfigurationSupportåªæ˜¯SpringMVCæœ€åŸºæœ¬çš„åŠŸèƒ½ï¼› 5ã€å¦‚ä½•ä¿®æ”¹SpringBootçš„é»˜è®¤é…ç½®æ¨¡å¼ï¼š â€‹ 1ï¼‰ã€SpringBootåœ¨è‡ªåŠ¨é…ç½®å¾ˆå¤šç»„ä»¶çš„æ—¶å€™ï¼Œå…ˆçœ‹å®¹å™¨ä¸­æœ‰æ²¡æœ‰ç”¨æˆ·è‡ªå·±é…ç½®çš„ï¼ˆ@Beanã€@Componentï¼‰å¦‚æžœæœ‰å°±ç”¨ç”¨æˆ·é…ç½®çš„ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œæ‰è‡ªåŠ¨é…ç½®ï¼›å¦‚æžœæœ‰äº›ç»„ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼ˆViewResolverï¼‰å°†ç”¨æˆ·é…ç½®çš„å’Œè‡ªå·±é»˜è®¤çš„ç»„åˆèµ·æ¥ï¼› â€‹ 2ï¼‰ã€åœ¨SpringBootä¸­ä¼šæœ‰éžå¸¸å¤šçš„xxxConfigurerå¸®åŠ©æˆ‘ä»¬è¿›è¡Œæ‰©å±•é…ç½® â€‹ 3ï¼‰ã€åœ¨SpringBootä¸­ä¼šæœ‰å¾ˆå¤šçš„xxxCustomizerå¸®åŠ©æˆ‘ä»¬è¿›è¡Œå®šåˆ¶é…ç½® 6ã€RestfulCRUD1ï¼‰ã€é»˜è®¤è®¿é—®é¦–é¡µ1234567891011121314151617181920212223242526//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½//@EnableWebMvc ä¸è¦æŽ¥ç®¡SpringMVC@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success registry.addViewController("/atguigu").setViewName("success"); &#125; //æ‰€æœ‰çš„WebMvcConfigurerAdapterç»„ä»¶éƒ½ä¼šä¸€èµ·èµ·ä½œç”¨ @Bean //å°†ç»„ä»¶æ³¨å†Œåœ¨å®¹å™¨ public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController("/").setViewName("login"); registry.addViewController("/index.html").setViewName("login"); &#125; &#125;; return adapter; &#125;&#125; 2ï¼‰ã€å›½é™…åŒ–1ï¼‰ã€ç¼–å†™å›½é™…åŒ–é…ç½®æ–‡ä»¶ï¼› 2ï¼‰ã€ä½¿ç”¨ResourceBundleMessageSourceç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶ 3ï¼‰ã€åœ¨é¡µé¢ä½¿ç”¨fmt:messageå–å‡ºå›½é™…åŒ–å†…å®¹ æ­¥éª¤ï¼š 1ï¼‰ã€ç¼–å†™å›½é™…åŒ–é…ç½®æ–‡ä»¶ï¼ŒæŠ½å–é¡µé¢éœ€è¦æ˜¾ç¤ºçš„å›½é™…åŒ–æ¶ˆæ¯ 2ï¼‰ã€SpringBootè‡ªåŠ¨é…ç½®å¥½äº†ç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„ç»„ä»¶ï¼› 12345678910111213141516171819202122232425262728@ConfigurationProperties(prefix = "spring.messages")public class MessageSourceAutoConfiguration &#123; /** * Comma-separated list of basenames (essentially a fully-qualified classpath * location), each following the ResourceBundle convention with relaxed support for * slash based locations. If it doesn't contain a package qualifier (such as * "org.mypackage"), it will be resolved from the classpath root. */ private String basename = "messages"; //æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶å¯ä»¥ç›´æŽ¥æ”¾åœ¨ç±»è·¯å¾„ä¸‹å«messages.propertiesï¼› @Bean public MessageSource messageSource() &#123; ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource(); if (StringUtils.hasText(this.basename)) &#123; //è®¾ç½®å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„åŸºç¡€åï¼ˆåŽ»æŽ‰è¯­è¨€å›½å®¶ä»£ç çš„ï¼‰ messageSource.setBasenames(StringUtils.commaDelimitedListToStringArray( StringUtils.trimAllWhitespace(this.basename))); &#125; if (this.encoding != null) &#123; messageSource.setDefaultEncoding(this.encoding.name()); &#125; messageSource.setFallbackToSystemLocale(this.fallbackToSystemLocale); messageSource.setCacheSeconds(this.cacheSeconds); messageSource.setAlwaysUseMessageFormat(this.alwaysUseMessageFormat); return messageSource; &#125; 3ï¼‰ã€åŽ»é¡µé¢èŽ·å–å›½é™…åŒ–çš„å€¼ï¼› 123456789101112131415161718192021222324252627282930313233343536&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"&gt; &lt;meta name="description" content=""&gt; &lt;meta name="author" content=""&gt; &lt;title&gt;Signin Template for Bootstrap&lt;/title&gt; &lt;!-- Bootstrap core CSS --&gt; &lt;link href="asserts/css/bootstrap.min.css" th:href="@&#123;/webjars/bootstrap/4.0.0/css/bootstrap.css&#125;" rel="stylesheet"&gt; &lt;!-- Custom styles for this template --&gt; &lt;link href="asserts/css/signin.css" th:href="@&#123;/asserts/css/signin.css&#125;" rel="stylesheet"&gt; &lt;/head&gt; &lt;body class="text-center"&gt; &lt;form class="form-signin" action="dashboard.html"&gt; &lt;img class="mb-4" th:src="@&#123;/asserts/img/bootstrap-solid.svg&#125;" src="asserts/img/bootstrap-solid.svg" alt="" width="72" height="72"&gt; &lt;h1 class="h3 mb-3 font-weight-normal" th:text="#&#123;login.tip&#125;"&gt;Please sign in&lt;/h1&gt; &lt;label class="sr-only" th:text="#&#123;login.username&#125;"&gt;Username&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="Username" th:placeholder="#&#123;login.username&#125;" required="" autofocus=""&gt; &lt;label class="sr-only" th:text="#&#123;login.password&#125;"&gt;Password&lt;/label&gt; &lt;input type="password" class="form-control" placeholder="Password" th:placeholder="#&#123;login.password&#125;" required=""&gt; &lt;div class="checkbox mb-3"&gt; &lt;label&gt; &lt;input type="checkbox" value="remember-me"/&gt; [[#&#123;login.remember&#125;]] &lt;/label&gt; &lt;/div&gt; &lt;button class="btn btn-lg btn-primary btn-block" type="submit" th:text="#&#123;login.btn&#125;"&gt;Sign in&lt;/button&gt; &lt;p class="mt-5 mb-3 text-muted"&gt;Â© 2017-2018&lt;/p&gt; &lt;a class="btn btn-sm"&gt;ä¸­æ–‡&lt;/a&gt; &lt;a class="btn btn-sm"&gt;English&lt;/a&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; æ•ˆæžœï¼šæ ¹æ®æµè§ˆå™¨è¯­è¨€è®¾ç½®çš„ä¿¡æ¯åˆ‡æ¢äº†å›½é™…åŒ–ï¼› åŽŸç†ï¼š â€‹ å›½é™…åŒ–Localeï¼ˆåŒºåŸŸä¿¡æ¯å¯¹è±¡ï¼‰ï¼›LocaleResolverï¼ˆèŽ·å–åŒºåŸŸä¿¡æ¯å¯¹è±¡ï¼‰ï¼› 12345678910111213 @Bean @ConditionalOnMissingBean @ConditionalOnProperty(prefix = "spring.mvc", name = "locale") public LocaleResolver localeResolver() &#123; if (this.mvcProperties .getLocaleResolver() == WebMvcProperties.LocaleResolver.FIXED) &#123; return new FixedLocaleResolver(this.mvcProperties.getLocale()); &#125; AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver(); localeResolver.setDefaultLocale(this.mvcProperties.getLocale()); return localeResolver; &#125;é»˜è®¤çš„å°±æ˜¯æ ¹æ®è¯·æ±‚å¤´å¸¦æ¥çš„åŒºåŸŸä¿¡æ¯èŽ·å–Localeè¿›è¡Œå›½é™…åŒ– 4ï¼‰ã€ç‚¹å‡»é“¾æŽ¥åˆ‡æ¢å›½é™…åŒ– 12345678910111213141516171819202122232425262728/** * å¯ä»¥åœ¨è¿žæŽ¥ä¸Šæºå¸¦åŒºåŸŸä¿¡æ¯ */public class MyLocaleResolver implements LocaleResolver &#123; @Override public Locale resolveLocale(HttpServletRequest request) &#123; String l = request.getParameter("l"); Locale locale = Locale.getDefault(); if(!StringUtils.isEmpty(l))&#123; String[] split = l.split("_"); locale = new Locale(split[0],split[1]); &#125; return locale; &#125; @Override public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) &#123; &#125;&#125; @Bean public LocaleResolver localeResolver()&#123; return new MyLocaleResolver(); &#125;&#125; 3ï¼‰ã€ç™»é™†å¼€å‘æœŸé—´æ¨¡æ¿å¼•æ“Žé¡µé¢ä¿®æ”¹ä»¥åŽï¼Œè¦å®žæ—¶ç”Ÿæ•ˆ 1ï¼‰ã€ç¦ç”¨æ¨¡æ¿å¼•æ“Žçš„ç¼“å­˜ 12# ç¦ç”¨ç¼“å­˜spring.thymeleaf.cache=false 2ï¼‰ã€é¡µé¢ä¿®æ”¹å®Œæˆä»¥åŽctrl+f9ï¼šé‡æ–°ç¼–è¯‘ï¼› ç™»é™†é”™è¯¯æ¶ˆæ¯çš„æ˜¾ç¤º 1&lt;p style="color: red" th:text="$&#123;msg&#125;" th:if="$&#123;not #strings.isEmpty(msg)&#125;"&gt;&lt;/p&gt; 4ï¼‰ã€æ‹¦æˆªå™¨è¿›è¡Œç™»é™†æ£€æŸ¥æ‹¦æˆªå™¨ 12345678910111213141516171819202122232425262728293031/** * ç™»é™†æ£€æŸ¥ï¼Œ */public class LoginHandlerInterceptor implements HandlerInterceptor &#123; //ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; Object user = request.getSession().getAttribute("loginUser"); if(user == null)&#123; //æœªç™»é™†ï¼Œè¿”å›žç™»é™†é¡µé¢ request.setAttribute("msg","æ²¡æœ‰æƒé™è¯·å…ˆç™»é™†"); request.getRequestDispatcher("/index.html").forward(request,response); return false; &#125;else&#123; //å·²ç™»é™†ï¼Œæ”¾è¡Œè¯·æ±‚ return true; &#125; &#125; @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; &#125;&#125; æ³¨å†Œæ‹¦æˆªå™¨ 1234567891011121314151617181920212223//æ‰€æœ‰çš„WebMvcConfigurerAdapterç»„ä»¶éƒ½ä¼šä¸€èµ·èµ·ä½œç”¨ @Bean //å°†ç»„ä»¶æ³¨å†Œåœ¨å®¹å™¨ public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController("/").setViewName("login"); registry.addViewController("/index.html").setViewName("login"); registry.addViewController("/main.html").setViewName("dashboard"); &#125; //æ³¨å†Œæ‹¦æˆªå™¨ @Override public void addInterceptors(InterceptorRegistry registry) &#123; //super.addInterceptors(registry); //é™æ€èµ„æºï¼› *.css , *.js //SpringBootå·²ç»åšå¥½äº†é™æ€èµ„æºæ˜ å°„ registry.addInterceptor(new LoginHandlerInterceptor()).addPathPatterns("/**") .excludePathPatterns("/index.html","/","/user/login"); &#125; &#125;; return adapter; &#125; 5ï¼‰ã€CRUD-å‘˜å·¥åˆ—è¡¨å®žéªŒè¦æ±‚ï¼š 1ï¼‰ã€RestfulCRUDï¼šCRUDæ»¡è¶³Resté£Žæ ¼ï¼› URIï¼š /èµ„æºåç§°/èµ„æºæ ‡è¯† HTTPè¯·æ±‚æ–¹å¼åŒºåˆ†å¯¹èµ„æºCRUDæ“ä½œ æ™®é€šCRUDï¼ˆuriæ¥åŒºåˆ†æ“ä½œï¼‰ RestfulCRUD æŸ¥è¯¢ getEmp empâ€”GET æ·»åŠ  addEmp?xxx empâ€”POST ä¿®æ”¹ updateEmp?id=xxx&amp;xxx=xx emp/{id}â€”PUT åˆ é™¤ deleteEmp?id=1 emp/{id}â€”DELETE 2ï¼‰ã€å®žéªŒçš„è¯·æ±‚æž¶æž„; å®žéªŒåŠŸèƒ½ è¯·æ±‚URI è¯·æ±‚æ–¹å¼ æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ emps GET æŸ¥è¯¢æŸä¸ªå‘˜å·¥(æ¥åˆ°ä¿®æ”¹é¡µé¢) emp/1 GET æ¥åˆ°æ·»åŠ é¡µé¢ emp GET æ·»åŠ å‘˜å·¥ emp POST æ¥åˆ°ä¿®æ”¹é¡µé¢ï¼ˆæŸ¥å‡ºå‘˜å·¥è¿›è¡Œä¿¡æ¯å›žæ˜¾ï¼‰ emp/1 GET ä¿®æ”¹å‘˜å·¥ emp PUT åˆ é™¤å‘˜å·¥ emp/1 DELETE 3ï¼‰ã€å‘˜å·¥åˆ—è¡¨ï¼š thymeleafå…¬å…±é¡µé¢å…ƒç´ æŠ½å–12345678910111213141ã€æŠ½å–å…¬å…±ç‰‡æ®µ&lt;div th:fragment="copy"&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt;2ã€å¼•å…¥å…¬å…±ç‰‡æ®µ&lt;div th:insert="~&#123;footer :: copy&#125;"&gt;&lt;/div&gt;~&#123;templatename::selector&#125;ï¼šæ¨¡æ¿å::é€‰æ‹©å™¨~&#123;templatename::fragmentname&#125;:æ¨¡æ¿å::ç‰‡æ®µå3ã€é»˜è®¤æ•ˆæžœï¼šinsertçš„å…¬å…±ç‰‡æ®µåœ¨divæ ‡ç­¾ä¸­å¦‚æžœä½¿ç”¨th:insertç­‰å±žæ€§è¿›è¡Œå¼•å…¥ï¼Œå¯ä»¥ä¸ç”¨å†™~&#123;&#125;ï¼šè¡Œå†…å†™æ³•å¯ä»¥åŠ ä¸Šï¼š[[~&#123;&#125;]];[(~&#123;&#125;)]ï¼› ä¸‰ç§å¼•å…¥å…¬å…±ç‰‡æ®µçš„thå±žæ€§ï¼š th:insertï¼šå°†å…¬å…±ç‰‡æ®µæ•´ä¸ªæ’å…¥åˆ°å£°æ˜Žå¼•å…¥çš„å…ƒç´ ä¸­ th:replaceï¼šå°†å£°æ˜Žå¼•å…¥çš„å…ƒç´ æ›¿æ¢ä¸ºå…¬å…±ç‰‡æ®µ th:includeï¼šå°†è¢«å¼•å…¥çš„ç‰‡æ®µçš„å†…å®¹åŒ…å«è¿›è¿™ä¸ªæ ‡ç­¾ä¸­ 1234567891011121314151617181920212223&lt;footer th:fragment="copy"&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/footer&gt;å¼•å…¥æ–¹å¼&lt;div th:insert="footer :: copy"&gt;&lt;/div&gt;&lt;div th:replace="footer :: copy"&gt;&lt;/div&gt;&lt;div th:include="footer :: copy"&gt;&lt;/div&gt;æ•ˆæžœ&lt;div&gt; &lt;footer&gt; &amp;copy; 2011 The Good Thymes Virtual Grocery &lt;/footer&gt;&lt;/div&gt;&lt;footer&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/footer&gt;&lt;div&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt; å¼•å…¥ç‰‡æ®µçš„æ—¶å€™ä¼ å…¥å‚æ•°ï¼š 123456789101112131415161718&lt;nav class="col-md-2 d-none d-md-block bg-light sidebar" id="sidebar"&gt; &lt;div class="sidebar-sticky"&gt; &lt;ul class="nav flex-column"&gt; &lt;li class="nav-item"&gt; &lt;a class="nav-link active" th:class="$&#123;activeUri=='main.html'?'nav-link active':'nav-link'&#125;" href="#" th:href="@&#123;/main.html&#125;"&gt; &lt;svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"&gt; &lt;path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"&gt;&lt;/path&gt; &lt;polyline points="9 22 9 12 15 12 15 22"&gt;&lt;/polyline&gt; &lt;/svg&gt; Dashboard &lt;span class="sr-only"&gt;(current)&lt;/span&gt; &lt;/a&gt; &lt;/li&gt;&lt;!--å¼•å…¥ä¾§è¾¹æ ;ä¼ å…¥å‚æ•°--&gt;&lt;div th:replace="commons/bar::#sidebar(activeUri='emps')"&gt;&lt;/div&gt; 6ï¼‰ã€CRUD-å‘˜å·¥æ·»åŠ æ·»åŠ é¡µé¢ 123456789101112131415161718192021222324252627282930313233343536&lt;form&gt; &lt;div class="form-group"&gt; &lt;label&gt;LastName&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="zhangsan"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input type="email" class="form-control" placeholder="zhangsan@atguigu.com"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Gender&lt;/label&gt;&lt;br/&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="1"&gt; &lt;label class="form-check-label"&gt;ç”·&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="0"&gt; &lt;label class="form-check-label"&gt;å¥³&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;department&lt;/label&gt; &lt;select class="form-control"&gt; &lt;option&gt;1&lt;/option&gt; &lt;option&gt;2&lt;/option&gt; &lt;option&gt;3&lt;/option&gt; &lt;option&gt;4&lt;/option&gt; &lt;option&gt;5&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Birth&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="zhangsan"&gt; &lt;/div&gt; &lt;button type="submit" class="btn btn-primary"&gt;æ·»åŠ &lt;/button&gt;&lt;/form&gt; æäº¤çš„æ•°æ®æ ¼å¼ä¸å¯¹ï¼šç”Ÿæ—¥ï¼šæ—¥æœŸï¼› 2017-12-12ï¼›2017/12/12ï¼›2017.12.12ï¼› æ—¥æœŸçš„æ ¼å¼åŒ–ï¼›SpringMVCå°†é¡µé¢æäº¤çš„å€¼éœ€è¦è½¬æ¢ä¸ºæŒ‡å®šçš„ç±»åž‹; 2017-12-12â€”Dateï¼› ç±»åž‹è½¬æ¢ï¼Œæ ¼å¼åŒ–; é»˜è®¤æ—¥æœŸæ˜¯æŒ‰ç…§/çš„æ–¹å¼ï¼› 7ï¼‰ã€CRUD-å‘˜å·¥ä¿®æ”¹ä¿®æ”¹æ·»åŠ äºŒåˆä¸€è¡¨å• 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!--éœ€è¦åŒºåˆ†æ˜¯å‘˜å·¥ä¿®æ”¹è¿˜æ˜¯æ·»åŠ ï¼›--&gt;&lt;form th:action="@&#123;/emp&#125;" method="post"&gt; &lt;!--å‘é€putè¯·æ±‚ä¿®æ”¹å‘˜å·¥æ•°æ®--&gt; &lt;!--1ã€SpringMVCä¸­é…ç½®HiddenHttpMethodFilter;ï¼ˆSpringBootè‡ªåŠ¨é…ç½®å¥½çš„ï¼‰2ã€é¡µé¢åˆ›å»ºä¸€ä¸ªpostè¡¨å•3ã€åˆ›å»ºä¸€ä¸ªinputé¡¹ï¼Œname="_method";å€¼å°±æ˜¯æˆ‘ä»¬æŒ‡å®šçš„è¯·æ±‚æ–¹å¼--&gt; &lt;input type="hidden" name="_method" value="put" th:if="$&#123;emp!=null&#125;"/&gt; &lt;input type="hidden" name="id" th:if="$&#123;emp!=null&#125;" th:value="$&#123;emp.id&#125;"&gt; &lt;div class="form-group"&gt; &lt;label&gt;LastName&lt;/label&gt; &lt;input name="lastName" type="text" class="form-control" placeholder="zhangsan" th:value="$&#123;emp!=null&#125;?$&#123;emp.lastName&#125;"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input name="email" type="email" class="form-control" placeholder="zhangsan@atguigu.com" th:value="$&#123;emp!=null&#125;?$&#123;emp.email&#125;"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Gender&lt;/label&gt;&lt;br/&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="1" th:checked="$&#123;emp!=null&#125;?$&#123;emp.gender==1&#125;"&gt; &lt;label class="form-check-label"&gt;ç”·&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="0" th:checked="$&#123;emp!=null&#125;?$&#123;emp.gender==0&#125;"&gt; &lt;label class="form-check-label"&gt;å¥³&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;department&lt;/label&gt; &lt;!--æäº¤çš„æ˜¯éƒ¨é—¨çš„id--&gt; &lt;select class="form-control" name="department.id"&gt; &lt;option th:selected="$&#123;emp!=null&#125;?$&#123;dept.id == emp.department.id&#125;" th:value="$&#123;dept.id&#125;" th:each="dept:$&#123;depts&#125;" th:text="$&#123;dept.departmentName&#125;"&gt;1&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Birth&lt;/label&gt; &lt;input name="birth" type="text" class="form-control" placeholder="zhangsan" th:value="$&#123;emp!=null&#125;?$&#123;#dates.format(emp.birth, 'yyyy-MM-dd HH:mm')&#125;"&gt; &lt;/div&gt; &lt;button type="submit" class="btn btn-primary" th:text="$&#123;emp!=null&#125;?'ä¿®æ”¹':'æ·»åŠ '"&gt;æ·»åŠ &lt;/button&gt;&lt;/form&gt; 8ï¼‰ã€CRUD-å‘˜å·¥åˆ é™¤123456789101112131415161718192021&lt;tr th:each="emp:$&#123;emps&#125;"&gt; &lt;td th:text="$&#123;emp.id&#125;"&gt;&lt;/td&gt; &lt;td&gt;[[$&#123;emp.lastName&#125;]]&lt;/td&gt; &lt;td th:text="$&#123;emp.email&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;emp.gender&#125;==0?'å¥³':'ç”·'"&gt;&lt;/td&gt; &lt;td th:text="$&#123;emp.department.departmentName&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;#dates.format(emp.birth, 'yyyy-MM-dd HH:mm')&#125;"&gt;&lt;/td&gt; &lt;td&gt; &lt;a class="btn btn-sm btn-primary" th:href="@&#123;/emp/&#125;+$&#123;emp.id&#125;"&gt;ç¼–è¾‘&lt;/a&gt; &lt;button th:attr="del_uri=@&#123;/emp/&#125;+$&#123;emp.id&#125;" class="btn btn-sm btn-danger deleteBtn"&gt;åˆ é™¤&lt;/button&gt; &lt;/td&gt;&lt;/tr&gt;&lt;script&gt; $(".deleteBtn").click(function()&#123; //åˆ é™¤å½“å‰å‘˜å·¥çš„ $("#deleteEmpForm").attr("action",$(this).attr("del_uri")).submit(); return false; &#125;);&lt;/script&gt; 7ã€é”™è¯¯å¤„ç†æœºåˆ¶1ï¼‰ã€SpringBooté»˜è®¤çš„é”™è¯¯å¤„ç†æœºåˆ¶é»˜è®¤æ•ˆæžœï¼š â€‹ 1ï¼‰ã€æµè§ˆå™¨ï¼Œè¿”å›žä¸€ä¸ªé»˜è®¤çš„é”™è¯¯é¡µé¢ æµè§ˆå™¨å‘é€è¯·æ±‚çš„è¯·æ±‚å¤´ï¼š â€‹ 2ï¼‰ã€å¦‚æžœæ˜¯å…¶ä»–å®¢æˆ·ç«¯ï¼Œé»˜è®¤å“åº”ä¸€ä¸ªjsonæ•°æ® â€‹ åŽŸç†ï¼š â€‹ å¯ä»¥å‚ç…§ErrorMvcAutoConfigurationï¼›é”™è¯¯å¤„ç†çš„è‡ªåŠ¨é…ç½®ï¼› ç»™å®¹å™¨ä¸­æ·»åŠ äº†ä»¥ä¸‹ç»„ä»¶ â€‹ 1ã€DefaultErrorAttributesï¼š 1234567891011å¸®æˆ‘ä»¬åœ¨é¡µé¢å…±äº«ä¿¡æ¯ï¼›@Override public Map&lt;String, Object&gt; getErrorAttributes(RequestAttributes requestAttributes, boolean includeStackTrace) &#123; Map&lt;String, Object&gt; errorAttributes = new LinkedHashMap&lt;String, Object&gt;(); errorAttributes.put("timestamp", new Date()); addStatus(errorAttributes, requestAttributes); addErrorDetails(errorAttributes, requestAttributes, includeStackTrace); addPath(errorAttributes, requestAttributes); return errorAttributes; &#125; â€‹ 2ã€BasicErrorControllerï¼šå¤„ç†é»˜è®¤/errorè¯·æ±‚ 12345678910111213141516171819202122232425@Controller@RequestMapping("$&#123;server.error.path:$&#123;error.path:/error&#125;&#125;")public class BasicErrorController extends AbstractErrorController &#123; @RequestMapping(produces = "text/html")//äº§ç”Ÿhtmlç±»åž‹çš„æ•°æ®ï¼›æµè§ˆå™¨å‘é€çš„è¯·æ±‚æ¥åˆ°è¿™ä¸ªæ–¹æ³•å¤„ç† public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) &#123; HttpStatus status = getStatus(request); Map&lt;String, Object&gt; model = Collections.unmodifiableMap(getErrorAttributes( request, isIncludeStackTrace(request, MediaType.TEXT_HTML))); response.setStatus(status.value()); //åŽ»å“ªä¸ªé¡µé¢ä½œä¸ºé”™è¯¯é¡µé¢ï¼›åŒ…å«é¡µé¢åœ°å€å’Œé¡µé¢å†…å®¹ ModelAndView modelAndView = resolveErrorView(request, response, status, model); return (modelAndView == null ? new ModelAndView("error", model) : modelAndView); &#125; @RequestMapping @ResponseBody //äº§ç”Ÿjsonæ•°æ®ï¼Œå…¶ä»–å®¢æˆ·ç«¯æ¥åˆ°è¿™ä¸ªæ–¹æ³•å¤„ç†ï¼› public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) &#123; Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request, MediaType.ALL)); HttpStatus status = getStatus(request); return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(body, status); &#125; â€‹ 3ã€ErrorPageCustomizerï¼š 12@Value("$&#123;error.path:/error&#125;")private String path = "/error"; ç³»ç»Ÿå‡ºçŽ°é”™è¯¯ä»¥åŽæ¥åˆ°errorè¯·æ±‚è¿›è¡Œå¤„ç†ï¼›ï¼ˆweb.xmlæ³¨å†Œçš„é”™è¯¯é¡µé¢è§„åˆ™ï¼‰ â€‹ 4ã€DefaultErrorViewResolverï¼š 123456789101112131415161718192021222324@Override public ModelAndView resolveErrorView(HttpServletRequest request, HttpStatus status, Map&lt;String, Object&gt; model) &#123; ModelAndView modelAndView = resolve(String.valueOf(status), model); if (modelAndView == null &amp;&amp; SERIES_VIEWS.containsKey(status.series())) &#123; modelAndView = resolve(SERIES_VIEWS.get(status.series()), model); &#125; return modelAndView; &#125; private ModelAndView resolve(String viewName, Map&lt;String, Object&gt; model) &#123; //é»˜è®¤SpringBootå¯ä»¥åŽ»æ‰¾åˆ°ä¸€ä¸ªé¡µé¢ï¼Ÿ error/404 String errorViewName = "error/" + viewName; //æ¨¡æ¿å¼•æ“Žå¯ä»¥è§£æžè¿™ä¸ªé¡µé¢åœ°å€å°±ç”¨æ¨¡æ¿å¼•æ“Žè§£æž TemplateAvailabilityProvider provider = this.templateAvailabilityProviders .getProvider(errorViewName, this.applicationContext); if (provider != null) &#123; //æ¨¡æ¿å¼•æ“Žå¯ç”¨çš„æƒ…å†µä¸‹è¿”å›žåˆ°errorViewNameæŒ‡å®šçš„è§†å›¾åœ°å€ return new ModelAndView(errorViewName, model); &#125; //æ¨¡æ¿å¼•æ“Žä¸å¯ç”¨ï¼Œå°±åœ¨é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹æ‰¾errorViewNameå¯¹åº”çš„é¡µé¢ error/404.html return resolveResource(errorViewName, model); &#125; â€‹ æ­¥éª¤ï¼š â€‹ ä¸€ä½†ç³»ç»Ÿå‡ºçŽ°4xxæˆ–è€…5xxä¹‹ç±»çš„é”™è¯¯ï¼›ErrorPageCustomizerå°±ä¼šç”Ÿæ•ˆï¼ˆå®šåˆ¶é”™è¯¯çš„å“åº”è§„åˆ™ï¼‰ï¼›å°±ä¼šæ¥åˆ°/errorè¯·æ±‚ï¼›å°±ä¼šè¢«BasicErrorControllerå¤„ç†ï¼› â€‹ 1ï¼‰å“åº”é¡µé¢ï¼›åŽ»å“ªä¸ªé¡µé¢æ˜¯ç”±DefaultErrorViewResolverè§£æžå¾—åˆ°çš„ï¼› 1234567891011protected ModelAndView resolveErrorView(HttpServletRequest request, HttpServletResponse response, HttpStatus status, Map&lt;String, Object&gt; model) &#123; //æ‰€æœ‰çš„ErrorViewResolverå¾—åˆ°ModelAndView for (ErrorViewResolver resolver : this.errorViewResolvers) &#123; ModelAndView modelAndView = resolver.resolveErrorView(request, status, model); if (modelAndView != null) &#123; return modelAndView; &#125; &#125; return null;&#125; 2ï¼‰ã€å¦‚æžœå®šåˆ¶é”™è¯¯å“åº”ï¼š1ï¼‰ã€å¦‚ä½•å®šåˆ¶é”™è¯¯çš„é¡µé¢ï¼›â€‹ 1ï¼‰ã€æœ‰æ¨¡æ¿å¼•æ“Žçš„æƒ…å†µä¸‹ï¼›error/çŠ¶æ€ç ; ã€å°†é”™è¯¯é¡µé¢å‘½åä¸º é”™è¯¯çŠ¶æ€ç .html æ”¾åœ¨æ¨¡æ¿å¼•æ“Žæ–‡ä»¶å¤¹é‡Œé¢çš„ erroræ–‡ä»¶å¤¹ä¸‹ã€‘ï¼Œå‘ç”Ÿæ­¤çŠ¶æ€ç çš„é”™è¯¯å°±ä¼šæ¥åˆ° å¯¹åº”çš„é¡µé¢ï¼› â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨4xxå’Œ5xxä½œä¸ºé”™è¯¯é¡µé¢çš„æ–‡ä»¶åæ¥åŒ¹é…è¿™ç§ç±»åž‹çš„æ‰€æœ‰é”™è¯¯ï¼Œç²¾ç¡®ä¼˜å…ˆï¼ˆä¼˜å…ˆå¯»æ‰¾ç²¾ç¡®çš„çŠ¶æ€ç .htmlï¼‰ï¼› â€‹ é¡µé¢èƒ½èŽ·å–çš„ä¿¡æ¯ï¼› â€‹ timestampï¼šæ—¶é—´æˆ³ â€‹ statusï¼šçŠ¶æ€ç  â€‹ errorï¼šé”™è¯¯æç¤º â€‹ exceptionï¼šå¼‚å¸¸å¯¹è±¡ â€‹ messageï¼šå¼‚å¸¸æ¶ˆæ¯ â€‹ errorsï¼šJSR303æ•°æ®æ ¡éªŒçš„é”™è¯¯éƒ½åœ¨è¿™é‡Œ â€‹ 2ï¼‰ã€æ²¡æœ‰æ¨¡æ¿å¼•æ“Žï¼ˆæ¨¡æ¿å¼•æ“Žæ‰¾ä¸åˆ°è¿™ä¸ªé”™è¯¯é¡µé¢ï¼‰ï¼Œé™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹æ‰¾ï¼› â€‹ 3ï¼‰ã€ä»¥ä¸Šéƒ½æ²¡æœ‰é”™è¯¯é¡µé¢ï¼Œå°±æ˜¯é»˜è®¤æ¥åˆ°SpringBooté»˜è®¤çš„é”™è¯¯æç¤ºé¡µé¢ï¼› 2ï¼‰ã€å¦‚ä½•å®šåˆ¶é”™è¯¯çš„jsonæ•°æ®ï¼›â€‹ 1ï¼‰ã€è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†&amp;è¿”å›žå®šåˆ¶jsonæ•°æ®ï¼› 12345678910111213@ControllerAdvicepublic class MyExceptionHandler &#123; @ResponseBody @ExceptionHandler(UserNotExistException.class) public Map&lt;String,Object&gt; handleException(Exception e)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put("code","user.notexist"); map.put("message",e.getMessage()); return map; &#125;&#125;//æ²¡æœ‰è‡ªé€‚åº”æ•ˆæžœ... â€‹ 2ï¼‰ã€è½¬å‘åˆ°/errorè¿›è¡Œè‡ªé€‚åº”å“åº”æ•ˆæžœå¤„ç† 1234567891011121314@ExceptionHandler(UserNotExistException.class) public String handleException(Exception e, HttpServletRequest request)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); //ä¼ å…¥æˆ‘ä»¬è‡ªå·±çš„é”™è¯¯çŠ¶æ€ç  4xx 5xxï¼Œå¦åˆ™å°±ä¸ä¼šè¿›å…¥å®šåˆ¶é”™è¯¯é¡µé¢çš„è§£æžæµç¨‹ /** * Integer statusCode = (Integer) request .getAttribute("javax.servlet.error.status_code"); */ request.setAttribute("javax.servlet.error.status_code",500); map.put("code","user.notexist"); map.put("message",e.getMessage()); //è½¬å‘åˆ°/error return "forward:/error"; &#125; 3ï¼‰ã€å°†æˆ‘ä»¬çš„å®šåˆ¶æ•°æ®æºå¸¦å‡ºåŽ»ï¼›å‡ºçŽ°é”™è¯¯ä»¥åŽï¼Œä¼šæ¥åˆ°/errorè¯·æ±‚ï¼Œä¼šè¢«BasicErrorControllerå¤„ç†ï¼Œå“åº”å‡ºåŽ»å¯ä»¥èŽ·å–çš„æ•°æ®æ˜¯ç”±getErrorAttributeså¾—åˆ°çš„ï¼ˆæ˜¯AbstractErrorControllerï¼ˆErrorControllerï¼‰è§„å®šçš„æ–¹æ³•ï¼‰ï¼› â€‹ 1ã€å®Œå…¨æ¥ç¼–å†™ä¸€ä¸ªErrorControllerçš„å®žçŽ°ç±»ã€æˆ–è€…æ˜¯ç¼–å†™AbstractErrorControllerçš„å­ç±»ã€‘ï¼Œæ”¾åœ¨å®¹å™¨ä¸­ï¼› â€‹ 2ã€é¡µé¢ä¸Šèƒ½ç”¨çš„æ•°æ®ï¼Œæˆ–è€…æ˜¯jsonè¿”å›žèƒ½ç”¨çš„æ•°æ®éƒ½æ˜¯é€šè¿‡errorAttributes.getErrorAttributeså¾—åˆ°ï¼› â€‹ å®¹å™¨ä¸­DefaultErrorAttributes.getErrorAttributes()ï¼›é»˜è®¤è¿›è¡Œæ•°æ®å¤„ç†çš„ï¼› è‡ªå®šä¹‰ErrorAttributes 1234567891011//ç»™å®¹å™¨ä¸­åŠ å…¥æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ErrorAttributes@Componentpublic class MyErrorAttributes extends DefaultErrorAttributes &#123; @Override public Map&lt;String, Object&gt; getErrorAttributes(RequestAttributes requestAttributes, boolean includeStackTrace) &#123; Map&lt;String, Object&gt; map = super.getErrorAttributes(requestAttributes, includeStackTrace); map.put("company","atguigu"); return map; &#125;&#125; æœ€ç»ˆçš„æ•ˆæžœï¼šå“åº”æ˜¯è‡ªé€‚åº”çš„ï¼Œå¯ä»¥é€šè¿‡å®šåˆ¶ErrorAttributesæ”¹å˜éœ€è¦è¿”å›žçš„å†…å®¹ï¼Œ 8ã€é…ç½®åµŒå…¥å¼Servletå®¹å™¨SpringBooté»˜è®¤ä½¿ç”¨Tomcatä½œä¸ºåµŒå…¥å¼çš„Servletå®¹å™¨ï¼› é—®é¢˜ï¼Ÿ 1ï¼‰ã€å¦‚ä½•å®šåˆ¶å’Œä¿®æ”¹Servletå®¹å™¨çš„ç›¸å…³é…ç½®ï¼›1ã€ä¿®æ”¹å’Œserveræœ‰å…³çš„é…ç½®ï¼ˆServerPropertiesã€ä¹Ÿæ˜¯EmbeddedServletContainerCustomizerã€‘ï¼‰ï¼› 123456789server.port=8081server.context-path=/crudserver.tomcat.uri-encoding=UTF-8//é€šç”¨çš„Servletå®¹å™¨è®¾ç½®server.xxx//Tomcatçš„è®¾ç½®server.tomcat.xxx 2ã€ç¼–å†™ä¸€ä¸ªEmbeddedServletContainerCustomizerï¼šåµŒå…¥å¼çš„Servletå®¹å™¨çš„å®šåˆ¶å™¨ï¼›æ¥ä¿®æ”¹Servletå®¹å™¨çš„é…ç½® 1234567891011@Bean //ä¸€å®šè¦å°†è¿™ä¸ªå®šåˆ¶å™¨åŠ å…¥åˆ°å®¹å™¨ä¸­public EmbeddedServletContainerCustomizer embeddedServletContainerCustomizer()&#123; return new EmbeddedServletContainerCustomizer() &#123; //å®šåˆ¶åµŒå…¥å¼çš„Servletå®¹å™¨ç›¸å…³çš„è§„åˆ™ @Override public void customize(ConfigurableEmbeddedServletContainer container) &#123; container.setPort(8083); &#125; &#125;;&#125; 2ï¼‰ã€æ³¨å†ŒServletä¸‰å¤§ç»„ä»¶ã€Servletã€Filterã€Listenerã€‘ç”±äºŽSpringBooté»˜è®¤æ˜¯ä»¥jaråŒ…çš„æ–¹å¼å¯åŠ¨åµŒå…¥å¼çš„Servletå®¹å™¨æ¥å¯åŠ¨SpringBootçš„webåº”ç”¨ï¼Œæ²¡æœ‰web.xmlæ–‡ä»¶ã€‚ æ³¨å†Œä¸‰å¤§ç»„ä»¶ç”¨ä»¥ä¸‹æ–¹å¼ ServletRegistrationBean 123456//æ³¨å†Œä¸‰å¤§ç»„ä»¶@Beanpublic ServletRegistrationBean myServlet()&#123; ServletRegistrationBean registrationBean = new ServletRegistrationBean(new MyServlet(),"/myServlet"); return registrationBean;&#125; FilterRegistrationBean 1234567@Beanpublic FilterRegistrationBean myFilter()&#123; FilterRegistrationBean registrationBean = new FilterRegistrationBean(); registrationBean.setFilter(new MyFilter()); registrationBean.setUrlPatterns(Arrays.asList("/hello","/myServlet")); return registrationBean;&#125; ServletListenerRegistrationBean 12345@Beanpublic ServletListenerRegistrationBean myListener()&#123; ServletListenerRegistrationBean&lt;MyListener&gt; registrationBean = new ServletListenerRegistrationBean&lt;&gt;(new MyListener()); return registrationBean;&#125; SpringBootå¸®æˆ‘ä»¬è‡ªåŠ¨SpringMVCçš„æ—¶å€™ï¼Œè‡ªåŠ¨çš„æ³¨å†ŒSpringMVCçš„å‰ç«¯æŽ§åˆ¶å™¨ï¼›DIspatcherServletï¼› DispatcherServletAutoConfigurationä¸­ï¼š 1234567891011121314151617@Bean(name = DEFAULT_DISPATCHER_SERVLET_REGISTRATION_BEAN_NAME)@ConditionalOnBean(value = DispatcherServlet.class, name = DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)public ServletRegistrationBean dispatcherServletRegistration( DispatcherServlet dispatcherServlet) &#123; ServletRegistrationBean registration = new ServletRegistrationBean( dispatcherServlet, this.serverProperties.getServletMapping()); //é»˜è®¤æ‹¦æˆªï¼š / æ‰€æœ‰è¯·æ±‚ï¼›åŒ…é™æ€èµ„æºï¼Œä½†æ˜¯ä¸æ‹¦æˆªjspè¯·æ±‚ï¼› /*ä¼šæ‹¦æˆªjsp //å¯ä»¥é€šè¿‡server.servletPathæ¥ä¿®æ”¹SpringMVCå‰ç«¯æŽ§åˆ¶å™¨é»˜è®¤æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ registration.setName(DEFAULT_DISPATCHER_SERVLET_BEAN_NAME); registration.setLoadOnStartup( this.webMvcProperties.getServlet().getLoadOnStartup()); if (this.multipartConfig != null) &#123; registration.setMultipartConfig(this.multipartConfig); &#125; return registration;&#125; 2ï¼‰ã€SpringBootèƒ½ä¸èƒ½æ”¯æŒå…¶ä»–çš„Servletå®¹å™¨ï¼› 3ï¼‰ã€æ›¿æ¢ä¸ºå…¶ä»–åµŒå…¥å¼Servletå®¹å™¨ é»˜è®¤æ”¯æŒï¼š Tomcatï¼ˆé»˜è®¤ä½¿ç”¨ï¼‰ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; å¼•å…¥webæ¨¡å—é»˜è®¤å°±æ˜¯ä½¿ç”¨åµŒå…¥å¼çš„Tomcatä½œä¸ºServletå®¹å™¨ï¼›&lt;/dependency&gt; Jetty 1234567891011121314151617&lt;!-- å¼•å…¥webæ¨¡å— --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--å¼•å…¥å…¶ä»–çš„Servletå®¹å™¨--&gt;&lt;dependency&gt; &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt; Undertow 1234567891011121314151617&lt;!-- å¼•å…¥webæ¨¡å— --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--å¼•å…¥å…¶ä»–çš„Servletå®¹å™¨--&gt;&lt;dependency&gt; &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt; 4ï¼‰ã€åµŒå…¥å¼Servletå®¹å™¨è‡ªåŠ¨é…ç½®åŽŸç†ï¼›EmbeddedServletContainerAutoConfigurationï¼šåµŒå…¥å¼çš„Servletå®¹å™¨è‡ªåŠ¨é…ç½®ï¼Ÿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)@Configuration@ConditionalOnWebApplication@Import(BeanPostProcessorsRegistrar.class)//å¯¼å…¥BeanPostProcessorsRegistrarï¼šSpringæ³¨è§£ç‰ˆï¼›ç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€äº›ç»„ä»¶//å¯¼å…¥äº†EmbeddedServletContainerCustomizerBeanPostProcessorï¼š//åŽç½®å¤„ç†å™¨ï¼šbeanåˆå§‹åŒ–å‰åŽï¼ˆåˆ›å»ºå®Œå¯¹è±¡ï¼Œè¿˜æ²¡èµ‹å€¼èµ‹å€¼ï¼‰æ‰§è¡Œåˆå§‹åŒ–å·¥ä½œpublic class EmbeddedServletContainerAutoConfiguration &#123; @Configuration @ConditionalOnClass(&#123; Servlet.class, Tomcat.class &#125;)//åˆ¤æ–­å½“å‰æ˜¯å¦å¼•å…¥äº†Tomcatä¾èµ–ï¼› @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT)//åˆ¤æ–­å½“å‰å®¹å™¨æ²¡æœ‰ç”¨æˆ·è‡ªå·±å®šä¹‰EmbeddedServletContainerFactoryï¼šåµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼›ä½œç”¨ï¼šåˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨ public static class EmbeddedTomcat &#123; @Bean public TomcatEmbeddedServletContainerFactory tomcatEmbeddedServletContainerFactory() &#123; return new TomcatEmbeddedServletContainerFactory(); &#125; &#125; /** * Nested configuration if Jetty is being used. */ @Configuration @ConditionalOnClass(&#123; Servlet.class, Server.class, Loader.class, WebAppContext.class &#125;) @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT) public static class EmbeddedJetty &#123; @Bean public JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() &#123; return new JettyEmbeddedServletContainerFactory(); &#125; &#125; /** * Nested configuration if Undertow is being used. */ @Configuration @ConditionalOnClass(&#123; Servlet.class, Undertow.class, SslClientAuthMode.class &#125;) @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT) public static class EmbeddedUndertow &#123; @Bean public UndertowEmbeddedServletContainerFactory undertowEmbeddedServletContainerFactory() &#123; return new UndertowEmbeddedServletContainerFactory(); &#125; &#125; 1ï¼‰ã€EmbeddedServletContainerFactoryï¼ˆåµŒå…¥å¼Servletå®¹å™¨å·¥åŽ‚ï¼‰ 1234567public interface EmbeddedServletContainerFactory &#123; //èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨ EmbeddedServletContainer getEmbeddedServletContainer( ServletContextInitializer... initializers);&#125; 2ï¼‰ã€EmbeddedServletContainerï¼šï¼ˆåµŒå…¥å¼çš„Servletå®¹å™¨ï¼‰ 3ï¼‰ã€ä»¥TomcatEmbeddedServletContainerFactoryä¸ºä¾‹ 123456789101112131415161718192021222324@Overridepublic EmbeddedServletContainer getEmbeddedServletContainer( ServletContextInitializer... initializers) &#123; //åˆ›å»ºä¸€ä¸ªTomcat Tomcat tomcat = new Tomcat(); //é…ç½®Tomcatçš„åŸºæœ¬çŽ¯èŠ‚ File baseDir = (this.baseDirectory != null ? this.baseDirectory : createTempDir("tomcat")); tomcat.setBaseDir(baseDir.getAbsolutePath()); Connector connector = new Connector(this.protocol); tomcat.getService().addConnector(connector); customizeConnector(connector); tomcat.setConnector(connector); tomcat.getHost().setAutoDeploy(false); configureEngine(tomcat.getEngine()); for (Connector additionalConnector : this.additionalTomcatConnectors) &#123; tomcat.getService().addConnector(additionalConnector); &#125; prepareContext(tomcat.getHost(), initializers); //å°†é…ç½®å¥½çš„Tomcatä¼ å…¥è¿›åŽ»ï¼Œè¿”å›žä¸€ä¸ªEmbeddedServletContainerï¼›å¹¶ä¸”å¯åŠ¨TomcatæœåŠ¡å™¨ return getTomcatEmbeddedServletContainer(tomcat);&#125; 4ï¼‰ã€æˆ‘ä»¬å¯¹åµŒå…¥å¼å®¹å™¨çš„é…ç½®ä¿®æ”¹æ˜¯æ€Žä¹ˆç”Ÿæ•ˆï¼Ÿ 1ServerPropertiesã€EmbeddedServletContainerCustomizer EmbeddedServletContainerCustomizerï¼šå®šåˆ¶å™¨å¸®æˆ‘ä»¬ä¿®æ”¹äº†Servletå®¹å™¨çš„é…ç½®ï¼Ÿ æ€Žä¹ˆä¿®æ”¹çš„åŽŸç†ï¼Ÿ 5ï¼‰ã€å®¹å™¨ä¸­å¯¼å…¥äº†EmbeddedServletContainerCustomizerBeanPostProcessor 12345678910111213141516171819202122232425262728293031323334353637//åˆå§‹åŒ–ä¹‹å‰@Overridepublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123; //å¦‚æžœå½“å‰åˆå§‹åŒ–çš„æ˜¯ä¸€ä¸ªConfigurableEmbeddedServletContainerç±»åž‹çš„ç»„ä»¶ if (bean instanceof ConfigurableEmbeddedServletContainer) &#123; // postProcessBeforeInitialization((ConfigurableEmbeddedServletContainer) bean); &#125; return bean;&#125;private void postProcessBeforeInitialization( ConfigurableEmbeddedServletContainer bean) &#123; //èŽ·å–æ‰€æœ‰çš„å®šåˆ¶å™¨ï¼Œè°ƒç”¨æ¯ä¸€ä¸ªå®šåˆ¶å™¨çš„customizeæ–¹æ³•æ¥ç»™Servletå®¹å™¨è¿›è¡Œå±žæ€§èµ‹å€¼ï¼› for (EmbeddedServletContainerCustomizer customizer : getCustomizers()) &#123; customizer.customize(bean); &#125;&#125;private Collection&lt;EmbeddedServletContainerCustomizer&gt; getCustomizers() &#123; if (this.customizers == null) &#123; // Look up does not include the parent context this.customizers = new ArrayList&lt;EmbeddedServletContainerCustomizer&gt;( this.beanFactory //ä»Žå®¹å™¨ä¸­èŽ·å–æ‰€æœ‰è¿™è‘›ç±»åž‹çš„ç»„ä»¶ï¼šEmbeddedServletContainerCustomizer //å®šåˆ¶Servletå®¹å™¨ï¼Œç»™å®¹å™¨ä¸­å¯ä»¥æ·»åŠ ä¸€ä¸ªEmbeddedServletContainerCustomizerç±»åž‹çš„ç»„ä»¶ .getBeansOfType(EmbeddedServletContainerCustomizer.class, false, false) .values()); Collections.sort(this.customizers, AnnotationAwareOrderComparator.INSTANCE); this.customizers = Collections.unmodifiableList(this.customizers); &#125; return this.customizers;&#125;ServerPropertiesä¹Ÿæ˜¯å®šåˆ¶å™¨ æ­¥éª¤ï¼š 1ï¼‰ã€SpringBootæ ¹æ®å¯¼å…¥çš„ä¾èµ–æƒ…å†µï¼Œç»™å®¹å™¨ä¸­æ·»åŠ ç›¸åº”çš„EmbeddedServletContainerFactoryã€TomcatEmbeddedServletContainerFactoryã€‘ 2ï¼‰ã€å®¹å™¨ä¸­æŸä¸ªç»„ä»¶è¦åˆ›å»ºå¯¹è±¡å°±ä¼šæƒŠåŠ¨åŽç½®å¤„ç†å™¨ï¼›EmbeddedServletContainerCustomizerBeanPostProcessorï¼› åªè¦æ˜¯åµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼ŒåŽç½®å¤„ç†å™¨å°±å·¥ä½œï¼› 3ï¼‰ã€åŽç½®å¤„ç†å™¨ï¼Œä»Žå®¹å™¨ä¸­èŽ·å–æ‰€æœ‰çš„EmbeddedServletContainerCustomizerï¼Œè°ƒç”¨å®šåˆ¶å™¨çš„å®šåˆ¶æ–¹æ³• ###5ï¼‰ã€åµŒå…¥å¼Servletå®¹å™¨å¯åŠ¨åŽŸç†ï¼› ä»€ä¹ˆæ—¶å€™åˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼Ÿä»€ä¹ˆæ—¶å€™èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨å¹¶å¯åŠ¨Tomcatï¼› èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼š 1ï¼‰ã€SpringBootåº”ç”¨å¯åŠ¨è¿è¡Œrunæ–¹æ³• 2ï¼‰ã€refreshContext(context);SpringBootåˆ·æ–°IOCå®¹å™¨ã€åˆ›å»ºIOCå®¹å™¨å¯¹è±¡ï¼Œå¹¶åˆå§‹åŒ–å®¹å™¨ï¼Œåˆ›å»ºå®¹å™¨ä¸­çš„æ¯ä¸€ä¸ªç»„ä»¶ã€‘ï¼›å¦‚æžœæ˜¯webåº”ç”¨åˆ›å»ºAnnotationConfigEmbeddedWebApplicationContextï¼Œå¦åˆ™ï¼šAnnotationConfigApplicationContext 3ï¼‰ã€refresh(context);åˆ·æ–°åˆšæ‰åˆ›å»ºå¥½çš„iocå®¹å™¨ï¼› 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public void refresh() throws BeansException, IllegalStateException &#123; synchronized (this.startupShutdownMonitor) &#123; // Prepare this context for refreshing. prepareRefresh(); // Tell the subclass to refresh the internal bean factory. ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory(); // Prepare the bean factory for use in this context. prepareBeanFactory(beanFactory); try &#123; // Allows post-processing of the bean factory in context subclasses. postProcessBeanFactory(beanFactory); // Invoke factory processors registered as beans in the context. invokeBeanFactoryPostProcessors(beanFactory); // Register bean processors that intercept bean creation. registerBeanPostProcessors(beanFactory); // Initialize message source for this context. initMessageSource(); // Initialize event multicaster for this context. initApplicationEventMulticaster(); // Initialize other special beans in specific context subclasses. onRefresh(); // Check for listener beans and register them. registerListeners(); // Instantiate all remaining (non-lazy-init) singletons. finishBeanFactoryInitialization(beanFactory); // Last step: publish corresponding event. finishRefresh(); &#125; catch (BeansException ex) &#123; if (logger.isWarnEnabled()) &#123; logger.warn("Exception encountered during context initialization - " + "cancelling refresh attempt: " + ex); &#125; // Destroy already created singletons to avoid dangling resources. destroyBeans(); // Reset 'active' flag. cancelRefresh(ex); // Propagate exception to caller. throw ex; &#125; finally &#123; // Reset common introspection caches in Spring's core, since we // might not ever need metadata for singleton beans anymore... resetCommonCaches(); &#125; &#125;&#125; 4ï¼‰ã€ onRefresh(); webçš„iocå®¹å™¨é‡å†™äº†onRefreshæ–¹æ³• 5ï¼‰ã€webiocå®¹å™¨ä¼šåˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨ï¼›createEmbeddedServletContainer(); 6ï¼‰ã€èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼š EmbeddedServletContainerFactory containerFactory = getEmbeddedServletContainerFactory(); â€‹ ä»Žiocå®¹å™¨ä¸­èŽ·å–EmbeddedServletContainerFactory ç»„ä»¶ï¼›TomcatEmbeddedServletContainerFactoryåˆ›å»ºå¯¹è±¡ï¼ŒåŽç½®å¤„ç†å™¨ä¸€çœ‹æ˜¯è¿™ä¸ªå¯¹è±¡ï¼Œå°±èŽ·å–æ‰€æœ‰çš„å®šåˆ¶å™¨æ¥å…ˆå®šåˆ¶Servletå®¹å™¨çš„ç›¸å…³é…ç½®ï¼› 7ï¼‰ã€ä½¿ç”¨å®¹å™¨å·¥åŽ‚èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨ï¼šthis.embeddedServletContainer = containerFactory .getEmbeddedServletContainer(getSelfInitializer()); 8ï¼‰ã€åµŒå…¥å¼çš„Servletå®¹å™¨åˆ›å»ºå¯¹è±¡å¹¶å¯åŠ¨Servletå®¹å™¨ï¼› å…ˆå¯åŠ¨åµŒå…¥å¼çš„Servletå®¹å™¨ï¼Œå†å°†iocå®¹å™¨ä¸­å‰©ä¸‹æ²¡æœ‰åˆ›å»ºå‡ºçš„å¯¹è±¡èŽ·å–å‡ºæ¥ï¼› ==IOCå®¹å™¨å¯åŠ¨åˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨== 9ã€ä½¿ç”¨å¤–ç½®çš„Servletå®¹å™¨åµŒå…¥å¼Servletå®¹å™¨ï¼šåº”ç”¨æ‰“æˆå¯æ‰§è¡Œçš„jar â€‹ ä¼˜ç‚¹ï¼šç®€å•ã€ä¾¿æºï¼› â€‹ ç¼ºç‚¹ï¼šé»˜è®¤ä¸æ”¯æŒJSPã€ä¼˜åŒ–å®šåˆ¶æ¯”è¾ƒå¤æ‚ï¼ˆä½¿ç”¨å®šåˆ¶å™¨ã€ServerPropertiesã€è‡ªå®šä¹‰EmbeddedServletContainerCustomizerã€‘ï¼Œè‡ªå·±ç¼–å†™åµŒå…¥å¼Servletå®¹å™¨çš„åˆ›å»ºå·¥åŽ‚ã€EmbeddedServletContainerFactoryã€‘ï¼‰ï¼› å¤–ç½®çš„Servletå®¹å™¨ï¼šå¤–é¢å®‰è£…Tomcatâ€”åº”ç”¨waråŒ…çš„æ–¹å¼æ‰“åŒ…ï¼› æ­¥éª¤1ï¼‰ã€å¿…é¡»åˆ›å»ºä¸€ä¸ªwaré¡¹ç›®ï¼›ï¼ˆåˆ©ç”¨ideaåˆ›å»ºå¥½ç›®å½•ç»“æž„ï¼‰ 2ï¼‰ã€å°†åµŒå…¥å¼çš„TomcatæŒ‡å®šä¸ºprovidedï¼› 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 3ï¼‰ã€å¿…é¡»ç¼–å†™ä¸€ä¸ªSpringBootServletInitializerçš„å­ç±»ï¼Œå¹¶è°ƒç”¨configureæ–¹æ³• 123456789public class ServletInitializer extends SpringBootServletInitializer &#123; @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder application) &#123; //ä¼ å…¥SpringBootåº”ç”¨çš„ä¸»ç¨‹åº return application.sources(SpringBoot04WebJspApplication.class); &#125;&#125; 4ï¼‰ã€å¯åŠ¨æœåŠ¡å™¨å°±å¯ä»¥ä½¿ç”¨ï¼› åŽŸç†jaråŒ…ï¼šæ‰§è¡ŒSpringBootä¸»ç±»çš„mainæ–¹æ³•ï¼Œå¯åŠ¨iocå®¹å™¨ï¼Œåˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨ï¼› waråŒ…ï¼šå¯åŠ¨æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¯åŠ¨SpringBootåº”ç”¨ã€SpringBootServletInitializerã€‘ï¼Œå¯åŠ¨iocå®¹å™¨ï¼› servlet3.0ï¼ˆSpringæ³¨è§£ç‰ˆï¼‰ï¼š 8.2.4 Shared libraries / runtimes pluggabilityï¼š è§„åˆ™ï¼š â€‹ 1ï¼‰ã€æœåŠ¡å™¨å¯åŠ¨ï¼ˆwebåº”ç”¨å¯åŠ¨ï¼‰ä¼šåˆ›å»ºå½“å‰webåº”ç”¨é‡Œé¢æ¯ä¸€ä¸ªjaråŒ…é‡Œé¢ServletContainerInitializerå®žä¾‹ï¼š â€‹ 2ï¼‰ã€ServletContainerInitializerçš„å®žçŽ°æ”¾åœ¨jaråŒ…çš„META-INF/servicesæ–‡ä»¶å¤¹ä¸‹ï¼Œæœ‰ä¸€ä¸ªåä¸ºjavax.servlet.ServletContainerInitializerçš„æ–‡ä»¶ï¼Œå†…å®¹å°±æ˜¯ServletContainerInitializerçš„å®žçŽ°ç±»çš„å…¨ç±»å â€‹ 3ï¼‰ã€è¿˜å¯ä»¥ä½¿ç”¨@HandlesTypesï¼Œåœ¨åº”ç”¨å¯åŠ¨çš„æ—¶å€™åŠ è½½æˆ‘ä»¬æ„Ÿå…´è¶£çš„ç±»ï¼› æµç¨‹ï¼š 1ï¼‰ã€å¯åŠ¨Tomcat 2ï¼‰ã€org\springframework\spring-web\4.3.14.RELEASE\spring-web-4.3.14.RELEASE.jar!\META-INF\services\javax.servlet.ServletContainerInitializerï¼š Springçš„webæ¨¡å—é‡Œé¢æœ‰è¿™ä¸ªæ–‡ä»¶ï¼šorg.springframework.web.SpringServletContainerInitializer 3ï¼‰ã€SpringServletContainerInitializerå°†@HandlesTypes(WebApplicationInitializer.class)æ ‡æ³¨çš„æ‰€æœ‰è¿™ä¸ªç±»åž‹çš„ç±»éƒ½ä¼ å…¥åˆ°onStartupæ–¹æ³•çš„Set&lt;Class&lt;?&gt;&gt;ï¼›ä¸ºè¿™äº›WebApplicationInitializerç±»åž‹çš„ç±»åˆ›å»ºå®žä¾‹ï¼› 4ï¼‰ã€æ¯ä¸€ä¸ªWebApplicationInitializeréƒ½è°ƒç”¨è‡ªå·±çš„onStartupï¼› 5ï¼‰ã€ç›¸å½“äºŽæˆ‘ä»¬çš„SpringBootServletInitializerçš„ç±»ä¼šè¢«åˆ›å»ºå¯¹è±¡ï¼Œå¹¶æ‰§è¡ŒonStartupæ–¹æ³• 6ï¼‰ã€SpringBootServletInitializerå®žä¾‹æ‰§è¡ŒonStartupçš„æ—¶å€™ä¼šcreateRootApplicationContextï¼›åˆ›å»ºå®¹å™¨ 1234567891011121314151617181920212223242526272829303132333435363738protected WebApplicationContext createRootApplicationContext( ServletContext servletContext) &#123; //1ã€åˆ›å»ºSpringApplicationBuilder SpringApplicationBuilder builder = createSpringApplicationBuilder(); StandardServletEnvironment environment = new StandardServletEnvironment(); environment.initPropertySources(servletContext, null); builder.environment(environment); builder.main(getClass()); ApplicationContext parent = getExistingRootWebApplicationContext(servletContext); if (parent != null) &#123; this.logger.info("Root context already created (using as parent)."); servletContext.setAttribute( WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE, null); builder.initializers(new ParentContextApplicationContextInitializer(parent)); &#125; builder.initializers( new ServletContextApplicationContextInitializer(servletContext)); builder.contextClass(AnnotationConfigEmbeddedWebApplicationContext.class); //è°ƒç”¨configureæ–¹æ³•ï¼Œå­ç±»é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œå°†SpringBootçš„ä¸»ç¨‹åºç±»ä¼ å…¥äº†è¿›æ¥ builder = configure(builder); //ä½¿ç”¨builderåˆ›å»ºä¸€ä¸ªSpringåº”ç”¨ SpringApplication application = builder.build(); if (application.getSources().isEmpty() &amp;&amp; AnnotationUtils .findAnnotation(getClass(), Configuration.class) != null) &#123; application.getSources().add(getClass()); &#125; Assert.state(!application.getSources().isEmpty(), "No SpringApplication sources have been defined. Either override the " + "configure method or add an @Configuration annotation"); // Ensure error pages are registered if (this.registerErrorPageFilter) &#123; application.getSources().add(ErrorPageFilterConfiguration.class); &#125; //å¯åŠ¨Springåº”ç”¨ return run(application);&#125; 7ï¼‰ã€Springçš„åº”ç”¨å°±å¯åŠ¨å¹¶ä¸”åˆ›å»ºIOCå®¹å™¨ 1234567891011121314151617181920212223242526272829303132333435public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; configureHeadlessProperty(); SpringApplicationRunListeners listeners = getRunListeners(args); listeners.starting(); try &#123; ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); Banner printedBanner = printBanner(environment); context = createApplicationContext(); analyzers = new FailureAnalyzers(context); prepareContext(context, environment, listeners, applicationArguments, printedBanner); //åˆ·æ–°IOCå®¹å™¨ refreshContext(context); afterRefresh(context, applicationArguments); listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; ==å¯åŠ¨Servletå®¹å™¨ï¼Œå†å¯åŠ¨SpringBootåº”ç”¨== äº”ã€Docker1ã€ç®€ä»‹Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“Žï¼›æ˜¯ä¸€ä¸ªè½»é‡çº§å®¹å™¨æŠ€æœ¯ï¼› Dockeræ”¯æŒå°†è½¯ä»¶ç¼–è¯‘æˆä¸€ä¸ªé•œåƒï¼›ç„¶åŽåœ¨é•œåƒä¸­å„ç§è½¯ä»¶åšå¥½é…ç½®ï¼Œå°†é•œåƒå‘å¸ƒå‡ºåŽ»ï¼Œå…¶ä»–ä½¿ç”¨è€…å¯ä»¥ç›´æŽ¥ä½¿ç”¨è¿™ä¸ªé•œåƒï¼› è¿è¡Œä¸­çš„è¿™ä¸ªé•œåƒç§°ä¸ºå®¹å™¨ï¼Œå®¹å™¨å¯åŠ¨æ˜¯éžå¸¸å¿«é€Ÿçš„ã€‚ 2ã€æ ¸å¿ƒæ¦‚å¿µdockerä¸»æœº(Host)ï¼šå®‰è£…äº†Dockerç¨‹åºçš„æœºå™¨ï¼ˆDockerç›´æŽ¥å®‰è£…åœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼‰ï¼› dockerå®¢æˆ·ç«¯(Client)ï¼šè¿žæŽ¥dockerä¸»æœºè¿›è¡Œæ“ä½œï¼› dockerä»“åº“(Registry)ï¼šç”¨æ¥ä¿å­˜å„ç§æ‰“åŒ…å¥½çš„è½¯ä»¶é•œåƒï¼› dockeré•œåƒ(Images)ï¼šè½¯ä»¶æ‰“åŒ…å¥½çš„é•œåƒï¼›æ”¾åœ¨dockerä»“åº“ä¸­ï¼› dockerå®¹å™¨(Container)ï¼šé•œåƒå¯åŠ¨åŽçš„å®žä¾‹ç§°ä¸ºä¸€ä¸ªå®¹å™¨ï¼›å®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ ä½¿ç”¨Dockerçš„æ­¥éª¤ï¼š 1ï¼‰ã€å®‰è£…Docker 2ï¼‰ã€åŽ»Dockerä»“åº“æ‰¾åˆ°è¿™ä¸ªè½¯ä»¶å¯¹åº”çš„é•œåƒï¼› 3ï¼‰ã€ä½¿ç”¨Dockerè¿è¡Œè¿™ä¸ªé•œåƒï¼Œè¿™ä¸ªé•œåƒå°±ä¼šç”Ÿæˆä¸€ä¸ªDockerå®¹å™¨ï¼› 4ï¼‰ã€å¯¹å®¹å™¨çš„å¯åŠ¨åœæ­¢å°±æ˜¯å¯¹è½¯ä»¶çš„å¯åŠ¨åœæ­¢ï¼› 3ã€å®‰è£…Docker1ï¼‰ã€å®‰è£…linuxè™šæ‹Ÿæœºâ€‹ 1ï¼‰ã€VMWareã€VirtualBoxï¼ˆå®‰è£…ï¼‰ï¼› â€‹ 2ï¼‰ã€å¯¼å…¥è™šæ‹Ÿæœºæ–‡ä»¶centos7-atguigu.ovaï¼› â€‹ 3ï¼‰ã€åŒå‡»å¯åŠ¨linuxè™šæ‹Ÿæœº;ä½¿ç”¨ root/ 123456ç™»é™† â€‹ 4ï¼‰ã€ä½¿ç”¨å®¢æˆ·ç«¯è¿žæŽ¥linuxæœåŠ¡å™¨è¿›è¡Œå‘½ä»¤æ“ä½œï¼› â€‹ 5ï¼‰ã€è®¾ç½®è™šæ‹Ÿæœºç½‘ç»œï¼› â€‹ æ¡¥æŽ¥ç½‘ç»œ===é€‰å¥½ç½‘å¡====æŽ¥å…¥ç½‘çº¿ï¼› â€‹ 6ï¼‰ã€è®¾ç½®å¥½ç½‘ç»œä»¥åŽä½¿ç”¨å‘½ä»¤é‡å¯è™šæ‹Ÿæœºçš„ç½‘ç»œ 1service network restart â€‹ 7ï¼‰ã€æŸ¥çœ‹linuxçš„ipåœ°å€ 1ip addr â€‹ 8ï¼‰ã€ä½¿ç”¨å®¢æˆ·ç«¯è¿žæŽ¥linuxï¼› 2ï¼‰ã€åœ¨linuxè™šæ‹Ÿæœºä¸Šå®‰è£…dockeræ­¥éª¤ï¼š 12345678910111213141ã€æ£€æŸ¥å†…æ ¸ç‰ˆæœ¬ï¼Œå¿…é¡»æ˜¯3.10åŠä»¥ä¸Šuname -r2ã€å®‰è£…dockeryum install docker3ã€è¾“å…¥yç¡®è®¤å®‰è£…4ã€å¯åŠ¨docker[root@localhost ~]# systemctl start docker[root@localhost ~]# docker -vDocker version 1.12.6, build 3e8e77d/1.12.65ã€å¼€æœºå¯åŠ¨docker[root@localhost ~]# systemctl enable dockerCreated symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.6ã€åœæ­¢dockersystemctl stop docker 4ã€Dockerå¸¸ç”¨å‘½ä»¤&amp;æ“ä½œ1ï¼‰ã€é•œåƒæ“ä½œ æ“ä½œ å‘½ä»¤ è¯´æ˜Ž æ£€ç´¢ docker search å…³é”®å­— egï¼šdocker search redis æˆ‘ä»¬ç»å¸¸åŽ»docker hubä¸Šæ£€ç´¢é•œåƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚é•œåƒçš„TAGã€‚ æ‹‰å– docker pull é•œåƒå:tag :tagæ˜¯å¯é€‰çš„ï¼Œtagè¡¨ç¤ºæ ‡ç­¾ï¼Œå¤šä¸ºè½¯ä»¶çš„ç‰ˆæœ¬ï¼Œé»˜è®¤æ˜¯latest åˆ—è¡¨ docker images æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°é•œåƒ åˆ é™¤ docker rmi image-id åˆ é™¤æŒ‡å®šçš„æœ¬åœ°é•œåƒ https://hub.docker.com/ 2ï¼‰ã€å®¹å™¨æ“ä½œè½¯ä»¶é•œåƒï¼ˆQQå®‰è£…ç¨‹åºï¼‰â€”-è¿è¡Œé•œåƒâ€”-äº§ç”Ÿä¸€ä¸ªå®¹å™¨ï¼ˆæ­£åœ¨è¿è¡Œçš„è½¯ä»¶ï¼Œè¿è¡Œçš„QQï¼‰ï¼› æ­¥éª¤ï¼š 1234567891011121314151617181920212223242526272829301ã€æœç´¢é•œåƒ[root@localhost ~]# docker search tomcat2ã€æ‹‰å–é•œåƒ[root@localhost ~]# docker pull tomcat3ã€æ ¹æ®é•œåƒå¯åŠ¨å®¹å™¨docker run --name mytomcat -d tomcat:latest4ã€docker ps æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨5ã€ åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨docker stop å®¹å™¨çš„id6ã€æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨docker ps -a7ã€å¯åŠ¨å®¹å™¨docker start å®¹å™¨id8ã€åˆ é™¤ä¸€ä¸ªå®¹å™¨ docker rm å®¹å™¨id9ã€å¯åŠ¨ä¸€ä¸ªåšäº†ç«¯å£æ˜ å°„çš„tomcat[root@localhost ~]# docker run -d -p 8888:8080 tomcat-dï¼šåŽå°è¿è¡Œ-p: å°†ä¸»æœºçš„ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ä¸€ä¸ªç«¯å£ ä¸»æœºç«¯å£:å®¹å™¨å†…éƒ¨çš„ç«¯å£10ã€ä¸ºäº†æ¼”ç¤ºç®€å•å…³é—­äº†linuxçš„é˜²ç«å¢™service firewalld status ï¼›æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€service firewalld stopï¼šå…³é—­é˜²ç«å¢™11ã€æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—docker logs container-name/container-idæ›´å¤šå‘½ä»¤å‚çœ‹https://docs.docker.com/engine/reference/commandline/docker/å¯ä»¥å‚è€ƒæ¯ä¸€ä¸ªé•œåƒçš„æ–‡æ¡£ 3ï¼‰ã€å®‰è£…MySQLç¤ºä¾‹1docker pull mysql é”™è¯¯çš„å¯åŠ¨ 1234567891011121314151617[root@localhost ~]# docker run --name mysql01 -d mysql42f09819908bb72dd99ae19e792e0a5d03c48638421fa64cce5f8ba0f40f5846mysqlé€€å‡ºäº†[root@localhost ~]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES42f09819908b mysql "docker-entrypoint.sh" 34 seconds ago Exited (1) 33 seconds ago mysql01538bde63e500 tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago compassionate_goldstinec4f1ac60b3fc tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago lonely_fermi81ec743a5271 tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago sick_ramanujan//é”™è¯¯æ—¥å¿—[root@localhost ~]# docker logs 42f09819908berror: database is uninitialized and password option is not specified You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORDï¼›è¿™ä¸ªä¸‰ä¸ªå‚æ•°å¿…é¡»æŒ‡å®šä¸€ä¸ª æ­£ç¡®çš„å¯åŠ¨ 12345[root@localhost ~]# docker run --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlb874c56bec49fb43024b3805ab51e9097da779f2f572c22c695305dedd684c5f[root@localhost ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESb874c56bec49 mysql "docker-entrypoint.sh" 4 seconds ago Up 3 seconds 3306/tcp mysql01 åšäº†ç«¯å£æ˜ å°„ 12345[root@localhost ~]# docker run -p 3306:3306 --name mysql02 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlad10e4bc5c6a0f61cbad43898de71d366117d120e39db651844c0e73863b9434[root@localhost ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESad10e4bc5c6a mysql "docker-entrypoint.sh" 4 seconds ago Up 2 seconds 0.0.0.0:3306-&gt;3306/tcp mysql02 å‡ ä¸ªå…¶ä»–çš„é«˜çº§æ“ä½œ 123456docker run --name mysql03 -v /conf/mysql:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tagæŠŠä¸»æœºçš„/conf/mysqlæ–‡ä»¶å¤¹æŒ‚è½½åˆ° mysqldockerå®¹å™¨çš„/etc/mysql/conf.dæ–‡ä»¶å¤¹é‡Œé¢æ”¹mysqlçš„é…ç½®æ–‡ä»¶å°±åªéœ€è¦æŠŠmysqlé…ç½®æ–‡ä»¶æ”¾åœ¨è‡ªå®šä¹‰çš„æ–‡ä»¶å¤¹ä¸‹ï¼ˆ/conf/mysqlï¼‰docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ciæŒ‡å®šmysqlçš„ä¸€äº›é…ç½®å‚æ•° å…­ã€SpringBootä¸Žæ•°æ®è®¿é—®1ã€JDBC123456789&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; 123456spring: datasource: username: root password: 123456 url: jdbc:mysql://192.168.15.22:3306/jdbc driver-class-name: com.mysql.jdbc.Driver æ•ˆæžœï¼š â€‹ é»˜è®¤æ˜¯ç”¨org.apache.tomcat.jdbc.pool.DataSourceä½œä¸ºæ•°æ®æºï¼› â€‹ æ•°æ®æºçš„ç›¸å…³é…ç½®éƒ½åœ¨DataSourcePropertiesé‡Œé¢ï¼› è‡ªåŠ¨é…ç½®åŽŸç†ï¼š org.springframework.boot.autoconfigure.jdbcï¼š 1ã€å‚è€ƒDataSourceConfigurationï¼Œæ ¹æ®é…ç½®åˆ›å»ºæ•°æ®æºï¼Œé»˜è®¤ä½¿ç”¨Tomcatè¿žæŽ¥æ± ï¼›å¯ä»¥ä½¿ç”¨spring.datasource.typeæŒ‡å®šè‡ªå®šä¹‰çš„æ•°æ®æºç±»åž‹ï¼› 2ã€SpringBooté»˜è®¤å¯ä»¥æ”¯æŒï¼› 1org.apache.tomcat.jdbc.pool.DataSourceã€HikariDataSourceã€BasicDataSourceã€ 3ã€è‡ªå®šä¹‰æ•°æ®æºç±»åž‹ 1234567891011121314/** * Generic DataSource configuration. */@ConditionalOnMissingBean(DataSource.class)@ConditionalOnProperty(name = "spring.datasource.type")static class Generic &#123; @Bean public DataSource dataSource(DataSourceProperties properties) &#123; //ä½¿ç”¨DataSourceBuilderåˆ›å»ºæ•°æ®æºï¼Œåˆ©ç”¨åå°„åˆ›å»ºå“åº”typeçš„æ•°æ®æºï¼Œå¹¶ä¸”ç»‘å®šç›¸å…³å±žæ€§ return properties.initializeDataSourceBuilder().build(); &#125;&#125; 4ã€DataSourceInitializerï¼šApplicationListenerï¼› â€‹ ä½œç”¨ï¼š â€‹ 1ï¼‰ã€runSchemaScripts();è¿è¡Œå»ºè¡¨è¯­å¥ï¼› â€‹ 2ï¼‰ã€runDataScripts();è¿è¡Œæ’å…¥æ•°æ®çš„sqlè¯­å¥ï¼› é»˜è®¤åªéœ€è¦å°†æ–‡ä»¶å‘½åä¸ºï¼š 123456schema-*.sqlã€data-*.sqlé»˜è®¤è§„åˆ™ï¼šschema.sqlï¼Œschema-all.sqlï¼›å¯ä»¥ä½¿ç”¨ schema: - classpath:department.sql æŒ‡å®šä½ç½® 5ã€æ“ä½œæ•°æ®åº“ï¼šè‡ªåŠ¨é…ç½®äº†JdbcTemplateæ“ä½œæ•°æ®åº“ 2ã€æ•´åˆDruidæ•°æ®æº12345678910111213141516171819202122232425262728293031323334353637383940414243å¯¼å…¥druidæ•°æ®æº@Configurationpublic class DruidConfig &#123; @ConfigurationProperties(prefix = "spring.datasource") @Bean public DataSource druid()&#123; return new DruidDataSource(); &#125; //é…ç½®Druidçš„ç›‘æŽ§ //1ã€é…ç½®ä¸€ä¸ªç®¡ç†åŽå°çš„Servlet @Bean public ServletRegistrationBean statViewServlet()&#123; ServletRegistrationBean bean = new ServletRegistrationBean(new StatViewServlet(), "/druid/*"); Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;(); initParams.put("loginUsername","admin"); initParams.put("loginPassword","123456"); initParams.put("allow","");//é»˜è®¤å°±æ˜¯å…è®¸æ‰€æœ‰è®¿é—® initParams.put("deny","192.168.15.21"); bean.setInitParameters(initParams); return bean; &#125; //2ã€é…ç½®ä¸€ä¸ªwebç›‘æŽ§çš„filter @Bean public FilterRegistrationBean webStatFilter()&#123; FilterRegistrationBean bean = new FilterRegistrationBean(); bean.setFilter(new WebStatFilter()); Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;(); initParams.put("exclusions","*.js,*.css,/druid/*"); bean.setInitParameters(initParams); bean.setUrlPatterns(Arrays.asList("/*")); return bean; &#125;&#125; 3ã€æ•´åˆMyBatis12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt; æ­¥éª¤ï¼š â€‹ 1ï¼‰ã€é…ç½®æ•°æ®æºç›¸å…³å±žæ€§ï¼ˆè§ä¸Šä¸€èŠ‚Druidï¼‰ â€‹ 2ï¼‰ã€ç»™æ•°æ®åº“å»ºè¡¨ â€‹ 3ï¼‰ã€åˆ›å»ºJavaBean 4ï¼‰ã€æ³¨è§£ç‰ˆ1234567891011121314151617//æŒ‡å®šè¿™æ˜¯ä¸€ä¸ªæ“ä½œæ•°æ®åº“çš„mapper@Mapperpublic interface DepartmentMapper &#123; @Select("select * from department where id=#&#123;id&#125;") public Department getDeptById(Integer id); @Delete("delete from department where id=#&#123;id&#125;") public int deleteDeptById(Integer id); @Options(useGeneratedKeys = true,keyProperty = "id") @Insert("insert into department(departmentName) values(#&#123;departmentName&#125;)") public int insertDept(Department department); @Update("update department set departmentName=#&#123;departmentName&#125; where id=#&#123;id&#125;") public int updateDept(Department department);&#125; é—®é¢˜ï¼š è‡ªå®šä¹‰MyBatisçš„é…ç½®è§„åˆ™ï¼›ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªConfigurationCustomizerï¼› 1234567891011121314@org.springframework.context.annotation.Configurationpublic class MyBatisConfig &#123; @Bean public ConfigurationCustomizer configurationCustomizer()&#123; return new ConfigurationCustomizer()&#123; @Override public void customize(Configuration configuration) &#123; configuration.setMapUnderscoreToCamelCase(true); &#125; &#125;; &#125;&#125; 123456789ä½¿ç”¨MapperScanæ‰¹é‡æ‰«ææ‰€æœ‰çš„MapperæŽ¥å£ï¼›@MapperScan(value = "com.atguigu.springboot.mapper")@SpringBootApplicationpublic class SpringBoot06DataMybatisApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpringBoot06DataMybatisApplication.class, args); &#125;&#125; 5ï¼‰ã€é…ç½®æ–‡ä»¶ç‰ˆ123mybatis: config-location: classpath:mybatis/mybatis-config.xml æŒ‡å®šå…¨å±€é…ç½®æ–‡ä»¶çš„ä½ç½® mapper-locations: classpath:mybatis/mapper/*.xml æŒ‡å®šsqlæ˜ å°„æ–‡ä»¶çš„ä½ç½® æ›´å¤šä½¿ç”¨å‚ç…§ http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/ 4ã€æ•´åˆSpringData JPA1ï¼‰ã€SpringDataç®€ä»‹ 2ï¼‰ã€æ•´åˆSpringData JPAJPA:ORMï¼ˆObject Relational Mappingï¼‰ï¼› 1ï¼‰ã€ç¼–å†™ä¸€ä¸ªå®žä½“ç±»ï¼ˆbeanï¼‰å’Œæ•°æ®è¡¨è¿›è¡Œæ˜ å°„ï¼Œå¹¶ä¸”é…ç½®å¥½æ˜ å°„å…³ç³»ï¼› 12345678910111213//ä½¿ç”¨JPAæ³¨è§£é…ç½®æ˜ å°„å…³ç³»@Entity //å‘Šè¯‰JPAè¿™æ˜¯ä¸€ä¸ªå®žä½“ç±»ï¼ˆå’Œæ•°æ®è¡¨æ˜ å°„çš„ç±»ï¼‰@Table(name = "tbl_user") //@Tableæ¥æŒ‡å®šå’Œå“ªä¸ªæ•°æ®è¡¨å¯¹åº”;å¦‚æžœçœç•¥é»˜è®¤è¡¨åå°±æ˜¯userï¼›public class User &#123; @Id //è¿™æ˜¯ä¸€ä¸ªä¸»é”® @GeneratedValue(strategy = GenerationType.IDENTITY)//è‡ªå¢žä¸»é”® private Integer id; @Column(name = "last_name",length = 50) //è¿™æ˜¯å’Œæ•°æ®è¡¨å¯¹åº”çš„ä¸€ä¸ªåˆ— private String lastName; @Column //çœç•¥é»˜è®¤åˆ—åå°±æ˜¯å±žæ€§å private String email; 2ï¼‰ã€ç¼–å†™ä¸€ä¸ªDaoæŽ¥å£æ¥æ“ä½œå®žä½“ç±»å¯¹åº”çš„æ•°æ®è¡¨ï¼ˆRepositoryï¼‰ 123//ç»§æ‰¿JpaRepositoryæ¥å®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œpublic interface UserRepository extends JpaRepository&lt;User,Integer&gt; &#123;&#125; 3ï¼‰ã€åŸºæœ¬çš„é…ç½®JpaProperties 1234567spring: jpa: hibernate:# æ›´æ–°æˆ–è€…åˆ›å»ºæ•°æ®è¡¨ç»“æž„ ddl-auto: update# æŽ§åˆ¶å°æ˜¾ç¤ºSQL show-sql: true ä¸ƒã€å¯åŠ¨é…ç½®åŽŸç†å‡ ä¸ªé‡è¦çš„äº‹ä»¶å›žè°ƒæœºåˆ¶ é…ç½®åœ¨META-INF/spring.factories ApplicationContextInitializer SpringApplicationRunListener åªéœ€è¦æ”¾åœ¨iocå®¹å™¨ä¸­ ApplicationRunner CommandLineRunner å¯åŠ¨æµç¨‹ï¼š 1ã€åˆ›å»ºSpringApplicationå¯¹è±¡12345678910111213141516initialize(sources);private void initialize(Object[] sources) &#123; //ä¿å­˜ä¸»é…ç½®ç±» if (sources != null &amp;&amp; sources.length &gt; 0) &#123; this.sources.addAll(Arrays.asList(sources)); &#125; //åˆ¤æ–­å½“å‰æ˜¯å¦ä¸€ä¸ªwebåº”ç”¨ this.webEnvironment = deduceWebEnvironment(); //ä»Žç±»è·¯å¾„ä¸‹æ‰¾åˆ°META-INF/spring.factoriesé…ç½®çš„æ‰€æœ‰ApplicationContextInitializerï¼›ç„¶åŽä¿å­˜èµ·æ¥ setInitializers((Collection) getSpringFactoriesInstances( ApplicationContextInitializer.class)); //ä»Žç±»è·¯å¾„ä¸‹æ‰¾åˆ°ETA-INF/spring.factoriesé…ç½®çš„æ‰€æœ‰ApplicationListener setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class)); //ä»Žå¤šä¸ªé…ç½®ç±»ä¸­æ‰¾åˆ°æœ‰mainæ–¹æ³•çš„ä¸»é…ç½®ç±» this.mainApplicationClass = deduceMainApplicationClass();&#125; 2ã€è¿è¡Œrunæ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; configureHeadlessProperty(); //èŽ·å–SpringApplicationRunListenersï¼›ä»Žç±»è·¯å¾„ä¸‹META-INF/spring.factories SpringApplicationRunListeners listeners = getRunListeners(args); //å›žè°ƒæ‰€æœ‰çš„èŽ·å–SpringApplicationRunListener.starting()æ–¹æ³• listeners.starting(); try &#123; //å°è£…å‘½ä»¤è¡Œå‚æ•° ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); //å‡†å¤‡çŽ¯å¢ƒ ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); //åˆ›å»ºçŽ¯å¢ƒå®ŒæˆåŽå›žè°ƒSpringApplicationRunListener.environmentPrepared()ï¼›è¡¨ç¤ºçŽ¯å¢ƒå‡†å¤‡å®Œæˆ Banner printedBanner = printBanner(environment); //åˆ›å»ºApplicationContextï¼›å†³å®šåˆ›å»ºwebçš„iocè¿˜æ˜¯æ™®é€šçš„ioc context = createApplicationContext(); analyzers = new FailureAnalyzers(context); //å‡†å¤‡ä¸Šä¸‹æ–‡çŽ¯å¢ƒ;å°†environmentä¿å­˜åˆ°iocä¸­ï¼›è€Œä¸”applyInitializers()ï¼› //applyInitializers()ï¼šå›žè°ƒä¹‹å‰ä¿å­˜çš„æ‰€æœ‰çš„ApplicationContextInitializerçš„initializeæ–¹æ³• //å›žè°ƒæ‰€æœ‰çš„SpringApplicationRunListenerçš„contextPrepared()ï¼› // prepareContext(context, environment, listeners, applicationArguments, printedBanner); //prepareContextè¿è¡Œå®Œæˆä»¥åŽå›žè°ƒæ‰€æœ‰çš„SpringApplicationRunListenerçš„contextLoadedï¼ˆï¼‰ï¼› //såˆ·æ–°å®¹å™¨ï¼›iocå®¹å™¨åˆå§‹åŒ–ï¼ˆå¦‚æžœæ˜¯webåº”ç”¨è¿˜ä¼šåˆ›å»ºåµŒå…¥å¼çš„Tomcatï¼‰ï¼›Springæ³¨è§£ç‰ˆ //æ‰«æï¼Œåˆ›å»ºï¼ŒåŠ è½½æ‰€æœ‰ç»„ä»¶çš„åœ°æ–¹ï¼›ï¼ˆé…ç½®ç±»ï¼Œç»„ä»¶ï¼Œè‡ªåŠ¨é…ç½®ï¼‰ refreshContext(context); //ä»Žiocå®¹å™¨ä¸­èŽ·å–æ‰€æœ‰çš„ApplicationRunnerå’ŒCommandLineRunnerè¿›è¡Œå›žè°ƒ //ApplicationRunnerå…ˆå›žè°ƒï¼ŒCommandLineRunnerå†å›žè°ƒ afterRefresh(context, applicationArguments); //æ‰€æœ‰çš„SpringApplicationRunListenerå›žè°ƒfinishedæ–¹æ³• listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; //æ•´ä¸ªSpringBootåº”ç”¨å¯åŠ¨å®Œæˆä»¥åŽè¿”å›žå¯åŠ¨çš„iocå®¹å™¨ï¼› return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; 3ã€äº‹ä»¶ç›‘å¬æœºåˆ¶é…ç½®åœ¨META-INF/spring.factories ApplicationContextInitializer 123456public class HelloApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; &#123; @Override public void initialize(ConfigurableApplicationContext applicationContext) &#123; System.out.println("ApplicationContextInitializer...initialize..."+applicationContext); &#125;&#125; SpringApplicationRunListener 123456789101112131415161718192021222324252627282930313233public class HelloSpringApplicationRunListener implements SpringApplicationRunListener &#123; //å¿…é¡»æœ‰çš„æž„é€ å™¨ public HelloSpringApplicationRunListener(SpringApplication application, String[] args)&#123; &#125; @Override public void starting() &#123; System.out.println("SpringApplicationRunListener...starting..."); &#125; @Override public void environmentPrepared(ConfigurableEnvironment environment) &#123; Object o = environment.getSystemProperties().get("os.name"); System.out.println("SpringApplicationRunListener...environmentPrepared.."+o); &#125; @Override public void contextPrepared(ConfigurableApplicationContext context) &#123; System.out.println("SpringApplicationRunListener...contextPrepared..."); &#125; @Override public void contextLoaded(ConfigurableApplicationContext context) &#123; System.out.println("SpringApplicationRunListener...contextLoaded..."); &#125; @Override public void finished(ConfigurableApplicationContext context, Throwable exception) &#123; System.out.println("SpringApplicationRunListener...finished..."); &#125;&#125; é…ç½®ï¼ˆMETA-INF/spring.factoriesï¼‰ 12345org.springframework.context.ApplicationContextInitializer=\com.atguigu.springboot.listener.HelloApplicationContextInitializerorg.springframework.boot.SpringApplicationRunListener=\com.atguigu.springboot.listener.HelloSpringApplicationRunListener åªéœ€è¦æ”¾åœ¨iocå®¹å™¨ä¸­ ApplicationRunner 1234567@Componentpublic class HelloApplicationRunner implements ApplicationRunner &#123; @Override public void run(ApplicationArguments args) throws Exception &#123; System.out.println("ApplicationRunner...run...."); &#125;&#125; CommandLineRunner 1234567@Componentpublic class HelloCommandLineRunner implements CommandLineRunner &#123; @Override public void run(String... args) throws Exception &#123; System.out.println("CommandLineRunner...run..."+ Arrays.asList(args)); &#125;&#125; å…«ã€è‡ªå®šä¹‰starterstarterï¼š â€‹ 1ã€è¿™ä¸ªåœºæ™¯éœ€è¦ä½¿ç”¨åˆ°çš„ä¾èµ–æ˜¯ä»€ä¹ˆï¼Ÿ â€‹ 2ã€å¦‚ä½•ç¼–å†™è‡ªåŠ¨é…ç½® 12345678910111213@Configuration //æŒ‡å®šè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»@ConditionalOnXXX //åœ¨æŒ‡å®šæ¡ä»¶æˆç«‹çš„æƒ…å†µä¸‹è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆ@AutoConfigureAfter //æŒ‡å®šè‡ªåŠ¨é…ç½®ç±»çš„é¡ºåº@Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶@ConfigurationPropertieç»“åˆç›¸å…³xxxPropertiesç±»æ¥ç»‘å®šç›¸å…³çš„é…ç½®@EnableConfigurationProperties //è®©xxxPropertiesç”Ÿæ•ˆåŠ å…¥åˆ°å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»è¦èƒ½åŠ è½½å°†éœ€è¦å¯åŠ¨å°±åŠ è½½çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œé…ç½®åœ¨META-INF/spring.factoriesorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\ â€‹ 3ã€æ¨¡å¼ï¼š å¯åŠ¨å™¨åªç”¨æ¥åšä¾èµ–å¯¼å…¥ï¼› ä¸“é—¨æ¥å†™ä¸€ä¸ªè‡ªåŠ¨é…ç½®æ¨¡å—ï¼› å¯åŠ¨å™¨ä¾èµ–è‡ªåŠ¨é…ç½®ï¼›åˆ«äººåªéœ€è¦å¼•å…¥å¯åŠ¨å™¨ï¼ˆstarterï¼‰ mybatis-spring-boot-starterï¼›è‡ªå®šä¹‰å¯åŠ¨å™¨å-spring-boot-starter æ­¥éª¤ï¼š 1ï¼‰ã€å¯åŠ¨å™¨æ¨¡å— 12345678910111213141516171819202122&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!--å¯åŠ¨å™¨--&gt; &lt;dependencies&gt; &lt;!--å¼•å…¥è‡ªåŠ¨é…ç½®æ¨¡å—--&gt; &lt;dependency&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 2ï¼‰ã€è‡ªåŠ¨é…ç½®æ¨¡å— 123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!--å¼•å…¥spring-boot-starterï¼›æ‰€æœ‰starterçš„åŸºæœ¬é…ç½®--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 1234567891011121314151617181920212223242526package com.atguigu.starter;import org.springframework.boot.context.properties.ConfigurationProperties;@ConfigurationProperties(prefix = "atguigu.hello")public class HelloProperties &#123; private String prefix; private String suffix; public String getPrefix() &#123; return prefix; &#125; public void setPrefix(String prefix) &#123; this.prefix = prefix; &#125; public String getSuffix() &#123; return suffix; &#125; public void setSuffix(String suffix) &#123; this.suffix = suffix; &#125;&#125; 123456789101112131415161718package com.atguigu.starter;public class HelloService &#123; HelloProperties helloProperties; public HelloProperties getHelloProperties() &#123; return helloProperties; &#125; public void setHelloProperties(HelloProperties helloProperties) &#123; this.helloProperties = helloProperties; &#125; public String sayHellAtguigu(String name)&#123; return helloProperties.getPrefix()+"-" +name + helloProperties.getSuffix(); &#125;&#125; 12345678910111213141516171819202122package com.atguigu.starter;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;@Configuration@ConditionalOnWebApplication //webåº”ç”¨æ‰ç”Ÿæ•ˆ@EnableConfigurationProperties(HelloProperties.class)public class HelloServiceAutoConfiguration &#123; @Autowired HelloProperties helloProperties; @Bean public HelloService helloService()&#123; HelloService service = new HelloService(); service.setHelloProperties(helloProperties); return service; &#125;&#125; æ›´å¤šSpringBootæ•´åˆç¤ºä¾‹https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Dockerä¸Šä¼ åˆ°è…¾è®¯äº‘æœåŠ¡å™¨ä¸Š]]></title>
    <url>%2F2018%2F11%2F11%2FDocker%2FDocker%E4%B8%8A%E4%BC%A0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[https://cloud.tencent.com/document/product/457/9117 è…¾è®¯äº‘ https://study.163.com/course/courseLearn.htm?courseId=1006018194#/learn/video?lessonId=1053398787&amp;courseId=1006018194 å°Dè¯¾å ‚ å…ˆé€‰æ‹©å®¹å™¨æœåŠ¡ 123sudo docker login --username=[username] ccr.ccs.tencentyun.com sudo docker login --username=100007660104 ccr.ccs.tencentyun.com 100007660104sad username:è…¾è®¯äº‘è´¦å·ï¼Œå¼€é€šæ—¶å·²æ³¨å†Œã€‚è¾“å…¥å¯†ç åŽå³ç™»å½•å®Œæˆã€‚ ##æ³¨æ„ ç”¨æˆ·å ä¸æ˜¯QQå·ç™»é™†çš„å¯†ç è€Œæ˜¯ä»“åº“çš„ç”¨æˆ·å ç¬¬ä¸€æ¬¡è‡ªåŠ¨ç”Ÿæˆ ####å¯†ç è¾“å…¥çš„æ—¶å€™å…ˆè¾“å…¥ç”µè„‘rootå¯†ç  z ###å†è¾“å…¥å¯†ç yhp836143 12$ sudo docker tag [ImageId] ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·]$ sudo docker push ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·] 12$ sudo docker tag 5fc4ede68fcd ccr.ccs.tencentyun.com/freemana2017/atcrod:latest$ sudo docker push ccr.ccs.tencentyun.com/freemana2017/atcrod:latest å¯†ç è¾“å…¥ z å› ä¸ºæ˜¯sudo ä½¿ç”¨é•œåƒâ€”-ä¸‹è½½é•œåƒ å°Dè¯¾å ‚ ç¬¬62è®² macè¿œç¨‹ç™»é™†è…¾è®¯äº‘æœåŠ¡å™¨ ç„¶åŽåœ¨è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šä½¿ç”¨pushå‘½ä»¤æ‹‰åŽ»é•œåƒ ç„¶åŽä½¿ç”¨runå‘½ä»¤è¿è¡Œé•œåƒ æœ€åŽæ”¹æˆå…¬ç½‘è®¿é—®é•œåƒ ç™»é™†åˆ°è…¾è®¯äº‘çš„å®žéªŒå®¤ å®‰è£…DockerçŽ¯å¢ƒ åœ¨æœ¬æœºä¸Šç™»é™†SSH ç„¶åŽæ­å»ºDockerçŽ¯å¢ƒ ### https://cloud.tencent.com/developer/labs/lab/10054/console åœ¨æœ¬æœºä¸Šè¿œç¨‹è…¾è®¯äº‘ æ­å»ºDockerçŽ¯å¢ƒ ç™»å½•åˆ°é•œåƒä»“åº“ï¼Œéœ€è¾“å…¥å¯†ç ã€‚ 1$ sudo docker login --username=[username] ccr.ccs.tencentyun.com ä¸‹è½½é•œåƒã€‚ sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest 1$ sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest â­ï¸Dockerï¼šCannot connect to the Docker daemon. Is the docker daemon running on this host? https://www.w3cschool.cn/kxqhmy/suzagdn1.html æŸ¥çœ‹æ˜¯å¦å­˜åœ¨è¿›ç¨‹ï¼š 1$ ps aux |grep docker1 åœæ­¢è¿›ç¨‹ 1$sudo service docker stop1 é‡å¯dockerï¼š 1$dockerd Dockeråœ¨äº‘æœåŠ¡å™¨ä¸Šçš„å®‰è£… https://www.jianshu.com/p/ea3078dae4fb ç®€ä¹¦ 1.ç™»é™†åˆ°æœåŠ¡å™¨ä¸Šé¢ é€šè¿‡ç»ˆç«¯ æˆ–è€…äº‘ä¸»æœºç™»é™† 2.å¼€å§‹æ“ä½œ 3.https://docs.docker.com/install/linux/docker-ce/centos/#uninstall-old-versions å®˜ç½‘ Dockerçš„å®‰è£…æ–¹å¼â€”è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šé¢ å¥½åƒä¹°çš„ç³»ç»Ÿæ˜¯Centsçš„ å®‰è£… CentOS çš„å®‰è£… Dockerï¼šCannot connect to the Docker daemon. Is the docker daemon running on this host? 1Dockerï¼šCannot connect to the Docker daemon. Is the docker daemon running on this host? docker -d -p 8888ï¼š8080 å…ˆåˆ†é…è§’è‰²ã€‚åœ¨å¯åŠ¨Docker å¦‚æžœç«¯å£æ’­è¢«å ç”¨äº† å…ˆå…³é—­Docker sudo service docker stop 1sudo service docker stop åœ¨å¯åŠ¨Doccur service docker start 1service docker start å¤§ä½¬æŒ‡æ•™ã€‚ä¸æ˜¯locaohostg 192.168.2.123 æ˜¯å…¬ç½‘ipè…¾è®¯å…¬ç½‘çš„ipâ€“118.89.28.213 åŠ é•œåƒåå•Š å…„die]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>è…¾è®¯äº‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¹¶å‘ç¼–ç¨‹æ…•è¯¾ç½‘]]></title>
    <url>%2F2018%2F11%2F11%2F%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%2F%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[1 å¹¶å‘ç¼–ç¨‹çš„åŸºç¡€]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot é›·ä¸°é˜³æ•´åˆç¯‡]]></title>
    <url>%2F2018%2F11%2F11%2FSpring%20Boot%2FSpringBoot%E9%AB%98%E7%BA%A7%E9%9B%B7%E4%B8%B0%E9%98%B3%2F</url>
    <content type="text"><![CDATA[#1 SpringBoot-cache SpringbootCacheApplication1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import org.mybatis.spring.annotation.MapperScan;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cache.annotation.EnableCaching;/** * ä¸€ã€æ­å»ºåŸºæœ¬çŽ¯å¢ƒ * 1ã€å¯¼å…¥æ•°æ®åº“æ–‡ä»¶ åˆ›å»ºå‡ºdepartmentå’Œemployeeè¡¨ * 2ã€åˆ›å»ºjavaBeanå°è£…æ•°æ® * 3ã€æ•´åˆMyBatisæ“ä½œæ•°æ®åº“ * 1.é…ç½®æ•°æ®æºä¿¡æ¯ * 2.ä½¿ç”¨æ³¨è§£ç‰ˆçš„MyBatisï¼› * 1ï¼‰ã€@MapperScanæŒ‡å®šéœ€è¦æ‰«æçš„mapperæŽ¥å£æ‰€åœ¨çš„åŒ… * äºŒã€å¿«é€Ÿä½“éªŒç¼“å­˜ * æ­¥éª¤ï¼š * 1ã€å¼€å¯åŸºäºŽæ³¨è§£çš„ç¼“å­˜ @EnableCaching * 2ã€æ ‡æ³¨ç¼“å­˜æ³¨è§£å³å¯ * @Cacheable * @CacheEvict * @CachePut * é»˜è®¤ä½¿ç”¨çš„æ˜¯ConcurrentMapCacheManager==ConcurrentMapCacheï¼›å°†æ•°æ®ä¿å­˜åœ¨ ConcurrentMap&lt;Object, Object&gt;ä¸­ * å¼€å‘ä¸­ä½¿ç”¨ç¼“å­˜ä¸­é—´ä»¶ï¼›redisã€memcachedã€ehcacheï¼› * ä¸‰ã€æ•´åˆredisä½œä¸ºç¼“å­˜ * Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æž„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶ã€‚ * 1ã€å®‰è£…redisï¼šä½¿ç”¨dockerï¼› * 2ã€å¼•å…¥redisçš„starter * 3ã€é…ç½®redis * 4ã€æµ‹è¯•ç¼“å­˜ * åŽŸç†ï¼šCacheManager===Cache ç¼“å­˜ç»„ä»¶æ¥å®žé™…ç»™ç¼“å­˜ä¸­å­˜å–æ•°æ® * 1ï¼‰ã€å¼•å…¥redisçš„starterï¼Œå®¹å™¨ä¸­ä¿å­˜çš„æ˜¯ RedisCacheManagerï¼› * 2ï¼‰ã€RedisCacheManager å¸®æˆ‘ä»¬åˆ›å»º RedisCache æ¥ä½œä¸ºç¼“å­˜ç»„ä»¶ï¼›RedisCacheé€šè¿‡æ“ä½œredisç¼“å­˜æ•°æ®çš„ * 3ï¼‰ã€é»˜è®¤ä¿å­˜æ•°æ® k-v éƒ½æ˜¯Objectï¼›åˆ©ç”¨åºåˆ—åŒ–ä¿å­˜ï¼›å¦‚ä½•ä¿å­˜ä¸ºjson * 1ã€å¼•å…¥äº†redisçš„starterï¼ŒcacheManagerå˜ä¸º RedisCacheManagerï¼› * 2ã€é»˜è®¤åˆ›å»ºçš„ RedisCacheManager æ“ä½œredisçš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ RedisTemplate&lt;Object, Object&gt; * 3ã€RedisTemplate&lt;Object, Object&gt; æ˜¯ é»˜è®¤ä½¿ç”¨jdkçš„åºåˆ—åŒ–æœºåˆ¶ * 4ï¼‰ã€è‡ªå®šä¹‰CacheManagerï¼› * */@MapperScan("com.atguigu.cache.mapper")@SpringBootApplication@EnableCachingpublic class Springboot01CacheApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot01CacheApplication.class, args); &#125;&#125; Beanâ€“Department12345678910111213141516171819202122232425262728293031323334package com.atguigu.cache.bean;public class Department &#123; private Integer id; private String departmentName; public Department() &#123; super(); // TODO Auto-generated constructor stub &#125; public Department(Integer id, String departmentName) &#123; super(); this.id = id; this.departmentName = departmentName; &#125; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getDepartmentName() &#123; return departmentName; &#125; public void setDepartmentName(String departmentName) &#123; this.departmentName = departmentName; &#125; @Override public String toString() &#123; return "Department [id=" + id + ", departmentName=" + departmentName + "]"; &#125;&#125; Beanâ€”Employee12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package com.atguigu.cache.bean;import java.io.Serializable;public class Employee implements Serializable &#123; private Integer id; private String lastName; private String email; private Integer gender; //æ€§åˆ« 1ç”· 0å¥³ private Integer dId; public Employee() &#123; super(); &#125; public Employee(Integer id, String lastName, String email, Integer gender, Integer dId) &#123; super(); this.id = id; this.lastName = lastName; this.email = email; this.gender = gender; this.dId = dId; &#125; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getLastName() &#123; return lastName; &#125; public void setLastName(String lastName) &#123; this.lastName = lastName; &#125; public String getEmail() &#123; return email; &#125; public void setEmail(String email) &#123; this.email = email; &#125; public Integer getGender() &#123; return gender; &#125; public void setGender(Integer gender) &#123; this.gender = gender; &#125; public Integer getdId() &#123; return dId; &#125; public void setdId(Integer dId) &#123; this.dId = dId; &#125; @Override public String toString() &#123; return "Employee [id=" + id + ", lastName=" + lastName + ", email=" + email + ", gender=" + gender + ", dId=" + dId + "]"; &#125; &#125; configâ€”myRedisConfig12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package com.atguigu.cache.config;import com.atguigu.cache.bean.Department;import com.atguigu.cache.bean.Employee;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.Primary;import org.springframework.data.redis.cache.RedisCacheManager;import org.springframework.data.redis.connection.RedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;import java.net.UnknownHostException;@Configurationpublic class MyRedisConfig &#123; @Bean public RedisTemplate&lt;Object, Employee&gt; empRedisTemplate( RedisConnectionFactory redisConnectionFactory) throws UnknownHostException &#123; RedisTemplate&lt;Object, Employee&gt; template = new RedisTemplate&lt;Object, Employee&gt;(); template.setConnectionFactory(redisConnectionFactory); Jackson2JsonRedisSerializer&lt;Employee&gt; ser = new Jackson2JsonRedisSerializer&lt;Employee&gt;(Employee.class); template.setDefaultSerializer(ser); return template; &#125; @Bean public RedisTemplate&lt;Object, Department&gt; deptRedisTemplate( RedisConnectionFactory redisConnectionFactory) throws UnknownHostException &#123; RedisTemplate&lt;Object, Department&gt; template = new RedisTemplate&lt;Object, Department&gt;(); template.setConnectionFactory(redisConnectionFactory); Jackson2JsonRedisSerializer&lt;Department&gt; ser = new Jackson2JsonRedisSerializer&lt;Department&gt;(Department.class); template.setDefaultSerializer(ser); return template; &#125; //CacheManagerCustomizerså¯ä»¥æ¥å®šåˆ¶ç¼“å­˜çš„ä¸€äº›è§„åˆ™ @Primary //å°†æŸä¸ªç¼“å­˜ç®¡ç†å™¨ä½œä¸ºé»˜è®¤çš„ @Bean public RedisCacheManager employeeCacheManager(RedisTemplate&lt;Object, Employee&gt; empRedisTemplate)&#123; RedisCacheManager cacheManager = new RedisCacheManager(empRedisTemplate); //keyå¤šäº†ä¸€ä¸ªå‰ç¼€ //ä½¿ç”¨å‰ç¼€ï¼Œé»˜è®¤ä¼šå°†CacheNameä½œä¸ºkeyçš„å‰ç¼€ cacheManager.setUsePrefix(true); return cacheManager; &#125; @Bean public RedisCacheManager deptCacheManager(RedisTemplate&lt;Object, Department&gt; deptRedisTemplate)&#123; RedisCacheManager cacheManager = new RedisCacheManager(deptRedisTemplate); //keyå¤šäº†ä¸€ä¸ªå‰ç¼€ //ä½¿ç”¨å‰ç¼€ï¼Œé»˜è®¤ä¼šå°†CacheNameä½œä¸ºkeyçš„å‰ç¼€ cacheManager.setUsePrefix(true); return cacheManager; &#125;&#125; configâ€”mycacheconfig1234567891011121314151617181920212223package com.atguigu.cache.config;import org.springframework.cache.interceptor.KeyGenerator;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import java.lang.reflect.Method;import java.util.Arrays;@Configurationpublic class MyCacheConfig &#123; @Bean(&quot;myKeyGenerator&quot;) public KeyGenerator keyGenerator()&#123; return new KeyGenerator()&#123; @Override public Object generate(Object target, Method method, Object... params) &#123; return method.getName()+&quot;[&quot;+ Arrays.asList(params).toString()+&quot;]&quot;; &#125; &#125;; &#125;&#125; DeptService123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.atguigu.cache.service;import com.atguigu.cache.bean.Department;import com.atguigu.cache.mapper.DepartmentMapper;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Qualifier;import org.springframework.cache.Cache;import org.springframework.cache.annotation.CacheConfig;import org.springframework.cache.annotation.Cacheable;import org.springframework.data.redis.cache.RedisCacheManager;import org.springframework.stereotype.Service;@Servicepublic class DeptService &#123; @Autowired DepartmentMapper departmentMapper; @Qualifier("deptCacheManager") @Autowired RedisCacheManager deptCacheManager; /** * ç¼“å­˜çš„æ•°æ®èƒ½å­˜å…¥redisï¼› * ç¬¬äºŒæ¬¡ä»Žç¼“å­˜ä¸­æŸ¥è¯¢å°±ä¸èƒ½ååºåˆ—åŒ–å›žæ¥ï¼› * å­˜çš„æ˜¯deptçš„jsonæ•°æ®;CacheManageré»˜è®¤ä½¿ç”¨RedisTemplate&lt;Object, Employee&gt;æ“ä½œRedis * * * @param id * @return */// @Cacheable(cacheNames = "dept",cacheManager = "deptCacheManager")// public Department getDeptById(Integer id)&#123;// System.out.println("æŸ¥è¯¢éƒ¨é—¨"+id);// Department department = departmentMapper.getDeptById(id);// return department;// &#125; // ä½¿ç”¨ç¼“å­˜ç®¡ç†å™¨å¾—åˆ°ç¼“å­˜ï¼Œè¿›è¡Œapiè°ƒç”¨ public Department getDeptById(Integer id)&#123; System.out.println("æŸ¥è¯¢éƒ¨é—¨"+id); Department department = departmentMapper.getDeptById(id); //èŽ·å–æŸä¸ªç¼“å­˜ Cache dept = deptCacheManager.getCache("dept"); dept.put("dept:1",department); return department; &#125;&#125; EmployeeService123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155package com.atguigu.cache.service;import com.atguigu.cache.bean.Employee;import com.atguigu.cache.mapper.EmployeeMapper;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.cache.annotation.*;import org.springframework.stereotype.Service;@CacheConfig(cacheNames="emp"/*,cacheManager = "employeeCacheManager"*/) //æŠ½å–ç¼“å­˜çš„å…¬å…±é…ç½®@Servicepublic class EmployeeService &#123; @Autowired EmployeeMapper employeeMapper; /** * å°†æ–¹æ³•çš„è¿è¡Œç»“æžœè¿›è¡Œç¼“å­˜ï¼›ä»¥åŽå†è¦ç›¸åŒçš„æ•°æ®ï¼Œç›´æŽ¥ä»Žç¼“å­˜ä¸­èŽ·å–ï¼Œä¸ç”¨è°ƒç”¨æ–¹æ³•ï¼› * CacheManagerç®¡ç†å¤šä¸ªCacheç»„ä»¶çš„ï¼Œå¯¹ç¼“å­˜çš„çœŸæ­£CRUDæ“ä½œåœ¨Cacheç»„ä»¶ä¸­ï¼Œæ¯ä¸€ä¸ªç¼“å­˜ç»„ä»¶æœ‰è‡ªå·±å”¯ä¸€ä¸€ä¸ªåå­—ï¼› * * * åŽŸç†ï¼š * 1ã€è‡ªåŠ¨é…ç½®ç±»ï¼›CacheAutoConfiguration * 2ã€ç¼“å­˜çš„é…ç½®ç±» * org.springframework.boot.autoconfigure.cache.GenericCacheConfiguration * org.springframework.boot.autoconfigure.cache.JCacheCacheConfiguration * org.springframework.boot.autoconfigure.cache.EhCacheCacheConfiguration * org.springframework.boot.autoconfigure.cache.HazelcastCacheConfiguration * org.springframework.boot.autoconfigure.cache.InfinispanCacheConfiguration * org.springframework.boot.autoconfigure.cache.CouchbaseCacheConfiguration * org.springframework.boot.autoconfigure.cache.RedisCacheConfiguration * org.springframework.boot.autoconfigure.cache.CaffeineCacheConfiguration * org.springframework.boot.autoconfigure.cache.GuavaCacheConfiguration * org.springframework.boot.autoconfigure.cache.SimpleCacheConfigurationã€é»˜è®¤ã€‘ * org.springframework.boot.autoconfigure.cache.NoOpCacheConfiguration * 3ã€å“ªä¸ªé…ç½®ç±»é»˜è®¤ç”Ÿæ•ˆï¼šSimpleCacheConfigurationï¼› * * 4ã€ç»™å®¹å™¨ä¸­æ³¨å†Œäº†ä¸€ä¸ªCacheManagerï¼šConcurrentMapCacheManager * 5ã€å¯ä»¥èŽ·å–å’Œåˆ›å»ºConcurrentMapCacheç±»åž‹çš„ç¼“å­˜ç»„ä»¶ï¼›ä»–çš„ä½œç”¨å°†æ•°æ®ä¿å­˜åœ¨ConcurrentMapä¸­ï¼› * * è¿è¡Œæµç¨‹ï¼š * @Cacheableï¼š * 1ã€æ–¹æ³•è¿è¡Œä¹‹å‰ï¼Œå…ˆåŽ»æŸ¥è¯¢Cacheï¼ˆç¼“å­˜ç»„ä»¶ï¼‰ï¼ŒæŒ‰ç…§cacheNamesæŒ‡å®šçš„åå­—èŽ·å–ï¼› * ï¼ˆCacheManagerå…ˆèŽ·å–ç›¸åº”çš„ç¼“å­˜ï¼‰ï¼Œç¬¬ä¸€æ¬¡èŽ·å–ç¼“å­˜å¦‚æžœæ²¡æœ‰Cacheç»„ä»¶ä¼šè‡ªåŠ¨åˆ›å»ºã€‚ * 2ã€åŽ»Cacheä¸­æŸ¥æ‰¾ç¼“å­˜çš„å†…å®¹ï¼Œä½¿ç”¨ä¸€ä¸ªkeyï¼Œé»˜è®¤å°±æ˜¯æ–¹æ³•çš„å‚æ•°ï¼› * keyæ˜¯æŒ‰ç…§æŸç§ç­–ç•¥ç”Ÿæˆçš„ï¼›é»˜è®¤æ˜¯ä½¿ç”¨keyGeneratorç”Ÿæˆçš„ï¼Œé»˜è®¤ä½¿ç”¨SimpleKeyGeneratorç”Ÿæˆkeyï¼› * SimpleKeyGeneratorç”Ÿæˆkeyçš„é»˜è®¤ç­–ç•¥ï¼› * å¦‚æžœæ²¡æœ‰å‚æ•°ï¼›key=new SimpleKey()ï¼› * å¦‚æžœæœ‰ä¸€ä¸ªå‚æ•°ï¼škey=å‚æ•°çš„å€¼ * å¦‚æžœæœ‰å¤šä¸ªå‚æ•°ï¼škey=new SimpleKey(params)ï¼› * 3ã€æ²¡æœ‰æŸ¥åˆ°ç¼“å­˜å°±è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼› * 4ã€å°†ç›®æ ‡æ–¹æ³•è¿”å›žçš„ç»“æžœï¼Œæ”¾è¿›ç¼“å­˜ä¸­ * * @Cacheableæ ‡æ³¨çš„æ–¹æ³•æ‰§è¡Œä¹‹å‰å…ˆæ¥æ£€æŸ¥ç¼“å­˜ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªæ•°æ®ï¼Œé»˜è®¤æŒ‰ç…§å‚æ•°çš„å€¼ä½œä¸ºkeyåŽ»æŸ¥è¯¢ç¼“å­˜ï¼Œ * å¦‚æžœæ²¡æœ‰å°±è¿è¡Œæ–¹æ³•å¹¶å°†ç»“æžœæ”¾å…¥ç¼“å­˜ï¼›ä»¥åŽå†æ¥è°ƒç”¨å°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨ç¼“å­˜ä¸­çš„æ•°æ®ï¼› * * æ ¸å¿ƒï¼š * 1ï¼‰ã€ä½¿ç”¨CacheManagerã€ConcurrentMapCacheManagerã€‘æŒ‰ç…§åå­—å¾—åˆ°Cacheã€ConcurrentMapCacheã€‘ç»„ä»¶ * 2ï¼‰ã€keyä½¿ç”¨keyGeneratorç”Ÿæˆçš„ï¼Œé»˜è®¤æ˜¯SimpleKeyGenerator * * * å‡ ä¸ªå±žæ€§ï¼š * cacheNames/valueï¼šæŒ‡å®šç¼“å­˜ç»„ä»¶çš„åå­—;å°†æ–¹æ³•çš„è¿”å›žç»“æžœæ”¾åœ¨å“ªä¸ªç¼“å­˜ä¸­ï¼Œæ˜¯æ•°ç»„çš„æ–¹å¼ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªç¼“å­˜ï¼› * * keyï¼šç¼“å­˜æ•°æ®ä½¿ç”¨çš„keyï¼›å¯ä»¥ç”¨å®ƒæ¥æŒ‡å®šã€‚é»˜è®¤æ˜¯ä½¿ç”¨æ–¹æ³•å‚æ•°çš„å€¼ 1-æ–¹æ³•çš„è¿”å›žå€¼ * ç¼–å†™SpELï¼› #i d;å‚æ•°idçš„å€¼ #a0 #p0 #root.args[0] * getEmp[2] * * keyGeneratorï¼škeyçš„ç”Ÿæˆå™¨ï¼›å¯ä»¥è‡ªå·±æŒ‡å®škeyçš„ç”Ÿæˆå™¨çš„ç»„ä»¶id * key/keyGeneratorï¼šäºŒé€‰ä¸€ä½¿ç”¨; * * * cacheManagerï¼šæŒ‡å®šç¼“å­˜ç®¡ç†å™¨ï¼›æˆ–è€…cacheResolveræŒ‡å®šèŽ·å–è§£æžå™¨ * * conditionï¼šæŒ‡å®šç¬¦åˆæ¡ä»¶çš„æƒ…å†µä¸‹æ‰ç¼“å­˜ï¼› * ,condition = "#id&gt;0" * condition = "#a0&gt;1"ï¼šç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‹1çš„æ—¶å€™æ‰è¿›è¡Œç¼“å­˜ * * unless:å¦å®šç¼“å­˜ï¼›å½“unlessæŒ‡å®šçš„æ¡ä»¶ä¸ºtrueï¼Œæ–¹æ³•çš„è¿”å›žå€¼å°±ä¸ä¼šè¢«ç¼“å­˜ï¼›å¯ä»¥èŽ·å–åˆ°ç»“æžœè¿›è¡Œåˆ¤æ–­ * unless = "#result == null" * unless = "#a0==2":å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼æ˜¯2ï¼Œç»“æžœä¸ç¼“å­˜ï¼› * syncï¼šæ˜¯å¦ä½¿ç”¨å¼‚æ­¥æ¨¡å¼ * @param id * @return * */ @Cacheable(value = &#123;"emp"&#125;/*,keyGenerator = "myKeyGenerator",condition = "#a0&gt;1",unless = "#a0==2"*/) public Employee getEmp(Integer id)&#123; System.out.println("æŸ¥è¯¢"+id+"å·å‘˜å·¥"); Employee emp = employeeMapper.getEmpById(id); return emp; &#125; /** * @CachePutï¼šæ—¢è°ƒç”¨æ–¹æ³•ï¼Œåˆæ›´æ–°ç¼“å­˜æ•°æ®ï¼›åŒæ­¥æ›´æ–°ç¼“å­˜ * ä¿®æ”¹äº†æ•°æ®åº“çš„æŸä¸ªæ•°æ®ï¼ŒåŒæ—¶æ›´æ–°ç¼“å­˜ï¼› * è¿è¡Œæ—¶æœºï¼š * 1ã€å…ˆè°ƒç”¨ç›®æ ‡æ–¹æ³• * 2ã€å°†ç›®æ ‡æ–¹æ³•çš„ç»“æžœç¼“å­˜èµ·æ¥ * * æµ‹è¯•æ­¥éª¤ï¼š * 1ã€æŸ¥è¯¢1å·å‘˜å·¥ï¼›æŸ¥åˆ°çš„ç»“æžœä¼šæ”¾åœ¨ç¼“å­˜ä¸­ï¼› * keyï¼š1 valueï¼šlastNameï¼šå¼ ä¸‰ * 2ã€ä»¥åŽæŸ¥è¯¢è¿˜æ˜¯ä¹‹å‰çš„ç»“æžœ * 3ã€æ›´æ–°1å·å‘˜å·¥ï¼›ã€lastName:zhangsanï¼›gender:0ã€‘ * å°†æ–¹æ³•çš„è¿”å›žå€¼ä¹Ÿæ”¾è¿›ç¼“å­˜äº†ï¼› * keyï¼šä¼ å…¥çš„employeeå¯¹è±¡ å€¼ï¼šè¿”å›žçš„employeeå¯¹è±¡ï¼› * 4ã€æŸ¥è¯¢1å·å‘˜å·¥ï¼Ÿ * åº”è¯¥æ˜¯æ›´æ–°åŽçš„å‘˜å·¥ï¼› * key = "#employee.id":ä½¿ç”¨ä¼ å…¥çš„å‚æ•°çš„å‘˜å·¥idï¼› * key = "#result.id"ï¼šä½¿ç”¨è¿”å›žåŽçš„id * @Cacheableçš„keyæ˜¯ä¸èƒ½ç”¨#result * ä¸ºä»€ä¹ˆæ˜¯æ²¡æ›´æ–°å‰çš„ï¼Ÿã€1å·å‘˜å·¥æ²¡æœ‰åœ¨ç¼“å­˜ä¸­æ›´æ–°ã€‘ * */ @CachePut(/*value = "emp",*/key = "#result.id") public Employee updateEmp(Employee employee)&#123; System.out.println("updateEmp:"+employee); employeeMapper.updateEmp(employee); return employee; &#125; /** * @CacheEvictï¼šç¼“å­˜æ¸…é™¤ * keyï¼šæŒ‡å®šè¦æ¸…é™¤çš„æ•°æ® * allEntries = trueï¼šæŒ‡å®šæ¸…é™¤è¿™ä¸ªç¼“å­˜ä¸­æ‰€æœ‰çš„æ•°æ® * beforeInvocation = falseï¼šç¼“å­˜çš„æ¸…é™¤æ˜¯å¦åœ¨æ–¹æ³•ä¹‹å‰æ‰§è¡Œ * é»˜è®¤ä»£è¡¨ç¼“å­˜æ¸…é™¤æ“ä½œæ˜¯åœ¨æ–¹æ³•æ‰§è¡Œä¹‹åŽæ‰§è¡Œ;å¦‚æžœå‡ºçŽ°å¼‚å¸¸ç¼“å­˜å°±ä¸ä¼šæ¸…é™¤ * * beforeInvocation = trueï¼š * ä»£è¡¨æ¸…é™¤ç¼“å­˜æ“ä½œæ˜¯åœ¨æ–¹æ³•è¿è¡Œä¹‹å‰æ‰§è¡Œï¼Œæ— è®ºæ–¹æ³•æ˜¯å¦å‡ºçŽ°å¼‚å¸¸ï¼Œç¼“å­˜éƒ½æ¸…é™¤ * * */ @CacheEvict(value="emp",beforeInvocation = true/*key = "#id",*/) public void deleteEmp(Integer id)&#123; System.out.println("deleteEmp:"+id); //employeeMapper.deleteEmpById(id); int i = 10/0; &#125; // @Caching å®šä¹‰å¤æ‚çš„ç¼“å­˜è§„åˆ™ @Caching( cacheable = &#123; @Cacheable(/*value="emp",*/key = "#lastName") &#125;, put = &#123; @CachePut(/*value="emp",*/key = "#result.id"), @CachePut(/*value="emp",*/key = "#result.email") &#125; ) public Employee getEmpByLastName(String lastName)&#123; return employeeMapper.getEmpByLastName(lastName); &#125;&#125; 2 SpringBoot -amqpSpringBootAmqpApplication1234567891011121314151617181920212223242526package com.atguigu.amqp;import org.springframework.amqp.rabbit.annotation.EnableRabbit;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;/** * è‡ªåŠ¨é…ç½® * 1ã€RabbitAutoConfiguration * 2ã€æœ‰è‡ªåŠ¨é…ç½®äº†è¿žæŽ¥å·¥åŽ‚ConnectionFactoryï¼› * 3ã€RabbitProperties å°è£…äº† RabbitMQçš„é…ç½® * 4ã€ RabbitTemplate ï¼šç»™RabbitMQå‘é€å’ŒæŽ¥å—æ¶ˆæ¯ï¼› * 5ã€ AmqpAdmin ï¼š RabbitMQç³»ç»Ÿç®¡ç†åŠŸèƒ½ç»„ä»¶; * AmqpAdminï¼šåˆ›å»ºå’Œåˆ é™¤ Queueï¼ŒExchangeï¼ŒBinding * 6ã€@EnableRabbit + @RabbitListener ç›‘å¬æ¶ˆæ¯é˜Ÿåˆ—çš„å†…å®¹ * */@EnableRabbit //å¼€å¯åŸºäºŽæ³¨è§£çš„RabbitMQæ¨¡å¼@SpringBootApplicationpublic class Springboot02AmqpApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot02AmqpApplication.class, args); &#125;&#125; BookService123456789101112131415161718192021package com.atguigu.amqp.service;import com.atguigu.amqp.bean.Book;import org.springframework.amqp.core.Message;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Service;@Servicepublic class BookService &#123; @RabbitListener(queues = "atguigu.news") public void receive(Book book)&#123; System.out.println("æ”¶åˆ°æ¶ˆæ¯ï¼š"+book); &#125; @RabbitListener(queues = "atguigu") public void receive02(Message message)&#123; System.out.println(message.getBody()); System.out.println(message.getMessageProperties()); &#125;&#125; MyAMQPConfig12345678@Configurationpublic class MyAMQPConfig &#123; @Bean public MessageConverter messageConverter()&#123; return new Jackson2JsonMessageConverter(); &#125;&#125; 3 SpringBoot-elastic12345678910111213141516171819202122232425262728package com.atguigu.elastic;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;/** * SpringBooté»˜è®¤æ”¯æŒä¸¤ç§æŠ€æœ¯æ¥å’ŒESäº¤äº’ï¼› * 1ã€Jestï¼ˆé»˜è®¤ä¸ç”Ÿæ•ˆï¼‰ * éœ€è¦å¯¼å…¥jestçš„å·¥å…·åŒ…ï¼ˆio.searchbox.client.JestClientï¼‰ * 2ã€SpringData ElasticSearchã€ESç‰ˆæœ¬æœ‰å¯èƒ½ä¸åˆé€‚ã€‘ * ç‰ˆæœ¬é€‚é…è¯´æ˜Žï¼šhttps://github.com/spring-projects/spring-data-elasticsearch * å¦‚æžœç‰ˆæœ¬ä¸é€‚é…ï¼š2.4.6 * 1ï¼‰ã€å‡çº§SpringBootç‰ˆæœ¬ * 2ï¼‰ã€å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ES * * 1ï¼‰ã€Client èŠ‚ç‚¹ä¿¡æ¯clusterNodesï¼›clusterName * 2ï¼‰ã€ElasticsearchTemplate æ“ä½œes * 3ï¼‰ã€ç¼–å†™ä¸€ä¸ª ElasticsearchRepository çš„å­æŽ¥å£æ¥æ“ä½œESï¼› * ä¸¤ç§ç”¨æ³•ï¼šhttps://github.com/spring-projects/spring-data-elasticsearch * 1ï¼‰ã€ç¼–å†™ä¸€ä¸ª ElasticsearchRepository */@SpringBootApplicationpublic class Springboot03ElasticApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot03ElasticApplication.class, args); &#125;&#125; BookRepository123456789101112131415package com.atguigu.elastic.repository;import com.atguigu.elastic.bean.Book;import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;import java.util.List;public interface BookRepository extends ElasticsearchRepository&lt;Book,Integer&gt; &#123; //å‚ç…§ // https://docs.spring.io/spring-data/elasticsearch/docs/3.0.6.RELEASE/reference/html/ public List&lt;Book&gt; findByBookNameLike(String bookName);&#125; Book123456789@Document(indexName = "atguigu",type = "book")public class Book &#123; private Integer id; private String bookName; private String author; public Integer getId() &#123; return id; &#125; properties1234spring.elasticsearch.jest.uris=http://118.24.44.169:9200spring.data.elasticsearch.cluster-name=elasticsearchspring.data.elasticsearch.cluster-nodes=118.24.44.169:9301 4 SpringBoot -taskSpringBoot-TaskApplication12345678910111213141516package com.atguigu.task;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.scheduling.annotation.EnableAsync;import org.springframework.scheduling.annotation.EnableScheduling;@EnableAsync //å¼€å¯å¼‚æ­¥æ³¨è§£åŠŸèƒ½@EnableScheduling //å¼€å¯åŸºäºŽæ³¨è§£çš„å®šæ—¶ä»»åŠ¡@SpringBootApplicationpublic class Springboot04TaskApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot04TaskApplication.class, args); &#125;&#125; AsyncService12345678910111213141516171819package com.atguigu.task.service;import org.springframework.scheduling.annotation.Async;import org.springframework.stereotype.Service;@Servicepublic class AsyncService &#123; //å‘Šè¯‰Springè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³• @Async public void hello()&#123; try &#123; Thread.sleep(3000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("å¤„ç†æ•°æ®ä¸­..."); &#125;&#125; ScheduleService12345678910111213141516171819202122232425package com.atguigu.task.service;import org.springframework.scheduling.annotation.Scheduled;import org.springframework.stereotype.Service;@Servicepublic class ScheduledService &#123; /** * second(ç§’), minuteï¼ˆåˆ†ï¼‰, hourï¼ˆæ—¶ï¼‰, day of monthï¼ˆæ—¥ï¼‰, monthï¼ˆæœˆï¼‰, day of weekï¼ˆå‘¨å‡ ï¼‰. * 0 * * * * MON-FRI * ã€0 0/5 14,18 * * ?ã€‘ æ¯å¤©14ç‚¹æ•´ï¼Œå’Œ18ç‚¹æ•´ï¼Œæ¯éš”5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ * ã€0 15 10 ? * 1-6ã€‘ æ¯ä¸ªæœˆçš„å‘¨ä¸€è‡³å‘¨å…­10:15åˆ†æ‰§è¡Œä¸€æ¬¡ * ã€0 0 2 ? * 6Lã€‘æ¯ä¸ªæœˆçš„æœ€åŽä¸€ä¸ªå‘¨å…­å‡Œæ™¨2ç‚¹æ‰§è¡Œä¸€æ¬¡ * ã€0 0 2 LW * ?ã€‘æ¯ä¸ªæœˆçš„æœ€åŽä¸€ä¸ªå·¥ä½œæ—¥å‡Œæ™¨2ç‚¹æ‰§è¡Œä¸€æ¬¡ * ã€0 0 2-4 ? * 1#1ã€‘æ¯ä¸ªæœˆçš„ç¬¬ä¸€ä¸ªå‘¨ä¸€å‡Œæ™¨2ç‚¹åˆ°4ç‚¹æœŸé—´ï¼Œæ¯ä¸ªæ•´ç‚¹éƒ½æ‰§è¡Œä¸€æ¬¡ï¼› */ // @Scheduled(cron = "0 * * * * MON-SAT") //@Scheduled(cron = "0,1,2,3,4 * * * * MON-SAT") // @Scheduled(cron = "0-4 * * * * MON-SAT") @Scheduled(cron = "0/4 * * * * MON-SAT") //æ¯4ç§’æ‰§è¡Œä¸€æ¬¡ public void hello()&#123; System.out.println("hello ... "); &#125; &#125; Asyncontroller12345678910111213141516171819package com.atguigu.task.controller;import com.atguigu.task.service.AsyncService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class AsyncController &#123; @Autowired AsyncService asyncService; @GetMapping("/hello") public String hello()&#123; asyncService.hello(); return "success"; &#125;&#125; properties1234spring.mail.username=534096094@qq.comspring.mail.password=gtstkoszjelabijbspring.mail.host=smtp.qq.comspring.mail.properties.mail.smtp.ssl.enable=true 5 Spring-securitySpringBootSecurityApplication123456789101112131415161718192021222324252627282930313233package com.atguigu.security;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;/** * 1ã€å¼•å…¥SpringSecurityï¼› * 2ã€ç¼–å†™SpringSecurityçš„é…ç½®ç±»ï¼› * @EnableWebSecurity extends WebSecurityConfigurerAdapter * 3ã€æŽ§åˆ¶è¯·æ±‚çš„è®¿é—®æƒé™ï¼š * configure(HttpSecurity http) &#123; * http.authorizeRequests().antMatchers("/").permitAll() * .antMatchers("/level1/**").hasRole("VIP1") * &#125; * 4ã€å®šä¹‰è®¤è¯è§„åˆ™ï¼š * configure(AuthenticationManagerBuilder auth)&#123; * auth.inMemoryAuthentication() * .withUser("zhangsan").password("123456").roles("VIP1","VIP2") * &#125; * 5ã€å¼€å¯è‡ªåŠ¨é…ç½®çš„ç™»é™†åŠŸèƒ½ï¼š * configure(HttpSecurity http)&#123; * http.formLogin(); * &#125; * 6ã€æ³¨é”€ï¼šhttp.logout(); * 7ã€è®°ä½æˆ‘ï¼šRemeberme()ï¼› */@SpringBootApplicationpublic class Springboot05SecurityApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot05SecurityApplication.class, args); &#125;&#125; MySecurityConfig123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.atguigu.security.config;import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;@EnableWebSecuritypublic class MySecurityConfig extends WebSecurityConfigurerAdapter &#123; @Override protected void configure(HttpSecurity http) throws Exception &#123; //super.configure(http); //å®šåˆ¶è¯·æ±‚çš„æŽˆæƒè§„åˆ™ http.authorizeRequests().antMatchers("/").permitAll() .antMatchers("/level1/**").hasRole("VIP1") .antMatchers("/level2/**").hasRole("VIP2") .antMatchers("/level3/**").hasRole("VIP3"); //å¼€å¯è‡ªåŠ¨é…ç½®çš„ç™»é™†åŠŸèƒ½ï¼Œæ•ˆæžœï¼Œå¦‚æžœæ²¡æœ‰ç™»é™†ï¼Œæ²¡æœ‰æƒé™å°±ä¼šæ¥åˆ°ç™»é™†é¡µé¢ http.formLogin().usernameParameter("user").passwordParameter("pwd") .loginPage("/userlogin"); //1ã€/loginæ¥åˆ°ç™»é™†é¡µ //2ã€é‡å®šå‘åˆ°/login?errorè¡¨ç¤ºç™»é™†å¤±è´¥ //3ã€æ›´å¤šè¯¦ç»†è§„å®š //4ã€é»˜è®¤postå½¢å¼çš„ /loginä»£è¡¨å¤„ç†ç™»é™† //5ã€ä¸€ä½†å®šåˆ¶loginPageï¼›é‚£ä¹ˆ loginPageçš„postè¯·æ±‚å°±æ˜¯ç™»é™† //å¼€å¯è‡ªåŠ¨é…ç½®çš„æ³¨é”€åŠŸèƒ½ã€‚ http.logout().logoutSuccessUrl("/");//æ³¨é”€æˆåŠŸä»¥åŽæ¥åˆ°é¦–é¡µ //1ã€è®¿é—® /logout è¡¨ç¤ºç”¨æˆ·æ³¨é”€ï¼Œæ¸…ç©ºsession //2ã€æ³¨é”€æˆåŠŸä¼šè¿”å›ž /login?logout é¡µé¢ï¼› //å¼€å¯è®°ä½æˆ‘åŠŸèƒ½ http.rememberMe().rememberMeParameter("remeber"); //ç™»é™†æˆåŠŸä»¥åŽï¼Œå°†cookieå‘ç»™æµè§ˆå™¨ä¿å­˜ï¼Œä»¥åŽè®¿é—®é¡µé¢å¸¦ä¸Šè¿™ä¸ªcookieï¼Œåªè¦é€šè¿‡æ£€æŸ¥å°±å¯ä»¥å…ç™»å½• //ç‚¹å‡»æ³¨é”€ä¼šåˆ é™¤cookie &#125; //å®šä¹‰è®¤è¯è§„åˆ™ @Override protected void configure(AuthenticationManagerBuilder auth) throws Exception &#123; //super.configure(auth); auth.inMemoryAuthentication() .withUser("zhangsan").password("123456").roles("VIP1","VIP2") .and() .withUser("lisi").password("123456").roles("VIP2","VIP3") .and() .withUser("wangwu").password("123456").roles("VIP1","VIP3"); &#125;&#125; Controller123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package com.atguigu.security.controller;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;@Controllerpublic class KungfuController &#123; private final String PREFIX = "pages/"; /** * æ¬¢è¿Žé¡µ * @return */ @GetMapping("/") public String index() &#123; return "welcome"; &#125; /** * ç™»é™†é¡µ * @return */ @GetMapping("/userlogin") public String loginPage() &#123; return PREFIX+"login"; &#125; /** * level1é¡µé¢æ˜ å°„ * @param path * @return */ @GetMapping("/level1/&#123;path&#125;") public String level1(@PathVariable("path")String path) &#123; return PREFIX+"level1/"+path; &#125; /** * level2é¡µé¢æ˜ å°„ * @param path * @return */ @GetMapping("/level2/&#123;path&#125;") public String level2(@PathVariable("path")String path) &#123; return PREFIX+"level2/"+path; &#125; /** * level3é¡µé¢æ˜ å°„ * @param path * @return */ @GetMapping("/level3/&#123;path&#125;") public String level3(@PathVariable("path")String path) &#123; return PREFIX+"level3/"+path; &#125;&#125; welcome123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1 align="center"&gt;æ¬¢è¿Žå…‰ä¸´æ­¦æž—ç§˜ç±ç®¡ç†ç³»ç»Ÿ&lt;/h1&gt;&lt;div sec:authorize="!isAuthenticated()"&gt; &lt;h2 align="center"&gt;æ¸¸å®¢æ‚¨å¥½ï¼Œå¦‚æžœæƒ³æŸ¥çœ‹æ­¦æž—ç§˜ç± &lt;a th:href="@&#123;/userlogin&#125;"&gt;è¯·ç™»å½•&lt;/a&gt;&lt;/h2&gt;&lt;/div&gt;&lt;div sec:authorize="isAuthenticated()"&gt; &lt;h2&gt;&lt;span sec:authentication="name"&gt;&lt;/span&gt;ï¼Œæ‚¨å¥½,æ‚¨çš„è§’è‰²æœ‰ï¼š &lt;span sec:authentication="principal.authorities"&gt;&lt;/span&gt;&lt;/h2&gt; &lt;form th:action="@&#123;/logout&#125;" method="post"&gt; &lt;input type="submit" value="æ³¨é”€"/&gt; &lt;/form&gt;&lt;/div&gt;&lt;hr&gt;&lt;div sec:authorize="hasRole('VIP1')"&gt; &lt;h3&gt;æ™®é€šæ­¦åŠŸç§˜ç±&lt;/h3&gt; &lt;ul&gt; &lt;li&gt;&lt;a th:href="@&#123;/level1/1&#125;"&gt;ç½—æ±‰æ‹³&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level1/2&#125;"&gt;æ­¦å½“é•¿æ‹³&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level1/3&#125;"&gt;å…¨çœŸå‰‘æ³•&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;div sec:authorize="hasRole('VIP2')"&gt; &lt;h3&gt;é«˜çº§æ­¦åŠŸç§˜ç±&lt;/h3&gt; &lt;ul&gt; &lt;li&gt;&lt;a th:href="@&#123;/level2/1&#125;"&gt;å¤ªæžæ‹³&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level2/2&#125;"&gt;ä¸ƒä¼¤æ‹³&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level2/3&#125;"&gt;æ¢¯äº‘çºµ&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;div sec:authorize="hasRole('VIP3')"&gt; &lt;h3&gt;ç»ä¸–æ­¦åŠŸç§˜ç±&lt;/h3&gt; &lt;ul&gt; &lt;li&gt;&lt;a th:href="@&#123;/level3/1&#125;"&gt;è‘µèŠ±å®å…¸&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level3/2&#125;"&gt;é¾Ÿæ´¾æ°”åŠŸ&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level3/3&#125;"&gt;ç‹¬å­¤ä¹å‰‘&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; loginhtml12345678910111213141516171819&lt;!DOCTYPE html&gt;&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1 align=&quot;center&quot;&gt;æ¬¢è¿Žç™»é™†æ­¦æž—ç§˜ç±ç®¡ç†ç³»ç»Ÿ&lt;/h1&gt; &lt;hr&gt; &lt;div align=&quot;center&quot;&gt; &lt;form th:action=&quot;@&#123;/userlogin&#125;&quot; method=&quot;post&quot;&gt; ç”¨æˆ·å:&lt;input name=&quot;user&quot;/&gt;&lt;br&gt; å¯†ç :&lt;input name=&quot;pwd&quot;&gt;&lt;br/&gt; &lt;input type=&quot;checkbox&quot; name=&quot;remeber&quot;&gt; è®°ä½æˆ‘&lt;br/&gt; &lt;input type=&quot;submit&quot; value=&quot;ç™»é™†&quot;&gt; &lt;/form&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 6 springboot-dubboconsumer-user1234567891011121314151617import com.alibaba.dubbo.config.annotation.Reference;import com.atguigu.ticket.service.TicketService;import org.springframework.stereotype.Service;@Servicepublic class UserService&#123; @Reference TicketService ticketService; public void hello()&#123; String ticket = ticketService.getTicket(); System.out.println("ä¹°åˆ°ç¥¨äº†ï¼š"+ticket); &#125;&#125; application.properties123dubbo.application.name=consumer-userdubbo.registry.address=zookeeper://118.24.44.169:2181 12345678@Component@Service //å°†æœåŠ¡å‘å¸ƒå‡ºåŽ»public class TicketServiceImpl implements TicketService &#123; @Override public String getTicket() &#123; return "ã€ŠåŽ‰å®³äº†ï¼Œæˆ‘çš„å›½ã€‹"; &#125;&#125; 12345dubbo.application.name=provider-ticketdubbo.registry.address=zookeeper://118.24.44.169:2181dubbo.scan.base-packages=com.atguigu.ticket.service SpringCloud12345678910111213/** * æ³¨å†Œä¸­å¿ƒ * 1ã€é…ç½®Eurekaä¿¡æ¯ * 2ã€@EnableEurekaServer */@EnableEurekaServer@SpringBootApplicationpublic class EurekaServerApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(EurekaServerApplication.class, args); &#125;&#125; 12345678910server: port: 8761eureka: instance: hostname: eureka-server # eurekaå®žä¾‹çš„ä¸»æœºå client: register-with-eureka: false #ä¸æŠŠè‡ªå·±æ³¨å†Œåˆ°eurekaä¸Š fetch-registry: false #ä¸ä»Žeurekaä¸Šæ¥èŽ·å–æœåŠ¡çš„æ³¨å†Œä¿¡æ¯ service-url: defaultZone: http://localhost:8761/eureka/ 12345678910111213server: port: 8002spring: application: name: provider-ticketeureka: instance: prefer-ip-address: true # æ³¨å†ŒæœåŠ¡çš„æ—¶å€™ä½¿ç”¨æœåŠ¡çš„ipåœ°å€ client: service-url: defaultZone: http://localhost:8761/eureka/ Springboot Actuar1234567891011121314/** * è‡ªå®šä¹‰å¥åº·çŠ¶æ€æŒ‡ç¤ºå™¨ * 1ã€ç¼–å†™ä¸€ä¸ªæŒ‡ç¤ºå™¨ å®žçŽ° HealthIndicator æŽ¥å£ * 2ã€æŒ‡ç¤ºå™¨çš„åå­— xxxxHealthIndicator * 3ã€åŠ å…¥å®¹å™¨ä¸­ */@SpringBootApplicationpublic class Springboot08ActuatorApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot08ActuatorApplication.class, args); &#125;&#125; 1234567891011121314151617package com.atguigu.springboot08actuator.health;import org.springframework.boot.actuate.health.Health;import org.springframework.boot.actuate.health.HealthIndicator;import org.springframework.stereotype.Component;@Componentpublic class MyAppHealthIndicator implements HealthIndicator &#123; @Override public Health health() &#123; //è‡ªå®šä¹‰çš„æ£€æŸ¥æ–¹æ³• //Health.up().build()ä»£è¡¨å¥åº· return Health.down().withDetail(&quot;msg&quot;,&quot;æœåŠ¡å¼‚å¸¸&quot;).build(); &#125;&#125; 123git.branch=mastergit.commit.id=xjkd33sgit.commit.time=2017-12-12 12:12:56 123456789101112131415161718192021222324management.security.enabled=falsespring.redis.host=118.24.44.169info.app.id=helloinfo.app.version=1.0.0#endpoints.metrics.enabled=falseendpoints.shutdown.enabled=true#endpoints.beans.id=mybean#endpoints.beans.path=/bean#endpoints.beans.enabled=false##endpoints.dump.path=/du# \u5173\u95ED\u6240\u6709\u7AEF\u70B9\u8BBF\u95EE#endpoints.enabled=false#endpoints.beans.enabled=truemanagement.context-path=/managemanagement.port=8181 1]]></content>
      <tags>
        <tag>Springboot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot Docker å°Dè¯¾å ‚]]></title>
    <url>%2F2018%2F11%2F11%2FSpring%20Boot%2FSpringBoot-Docker-%E5%B0%8FD%E8%AF%BE%E5%A0%82%2F</url>
    <content type="text"><![CDATA[æž„å»ºSpringBoot åº”ç”¨dockeré•œåƒ1.ç¬¬1è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æž„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸Šé›† å®˜æ–¹æ–‡æ¡£ï¼šhttps://spring.io/guides/gs/spring-boot-docker/ 1ã€æ­¥éª¤ï¼šmavené‡Œé¢æ·»åŠ é…ç½®pom.xml ç®€ä»‹:ä½¿ç”¨Dockerçš„mavenæ’ä»¶ï¼Œæž„å»ºspringbootåº”ç”¨ &lt;!--åœ¨mavenæœ€ä¸Šé¢çš„ç”³æ˜Žçš„åœ°æ–¹--properties--&gt; &lt;properties&gt; &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt; &lt;/properties&gt; &lt;build&gt; &lt;!--é¡¹ç›®æ‰“åŒ…çš„åç§°--&gt; &lt;finalName&gt;docker-demo&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.6&lt;/version&gt; &lt;configuration&gt; &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt; &lt;buildArgs&gt; &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt; &lt;/buildArgs&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; é…ç½®è®²è§£ Spotify çš„ docker-maven-plugin æ’ä»¶æ˜¯ç”¨mavenæ’ä»¶æ–¹å¼æž„å»ºdockeré•œåƒçš„ã€‚ ${project.build.finalName} äº§å‡ºç‰©åç§°ï¼Œç¼ºçœä¸º${project.artifactId}-${project.version} â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ https://blog.csdn.net/TMaskBoy/article/details/82562413 é«˜èƒ½é¢„è­¦ No plugin found for prefix â€˜dockerâ€™ in the current project and in the plugin groupsåœ¨Mavençš„é…ç½®æ–‡ä»¶ conf/settings.xmlä¸­æ·»åŠ com.spotify 12345&lt;pluginGroups&gt; &lt;pluginGroup&gt;com.spotify&lt;/pluginGroup&gt; &lt;/pluginGroups&gt;æ³¨æ„settingé…ç½®æ–‡ä»¶åœ¨mavençš„ä»“åº“é‡Œé¢æ‰¾ä¸åˆ° é‡æ–°æ›´æ–°ideaä¸­mavençš„æ’ä»¶ ç„¶åŽ æ›´æ¢.m2ä¸­confä¸­setting.xmlçš„å†…å®¹ #è¯¦ç»†é”™è¯¯å¦‚ä¸‹ï¼šom.spotify.docker.client.shaded.com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.spotify.docker.client.messages.RegistryAuth: no String-argument constructor/factory method to deserialize from String value (â€˜swarmâ€™) èµ·åˆpom.xmlä¸­docker-maven-pluginçš„ç‰ˆæœ¬æ˜¯1.0.0ï¼Œä½¿ç”¨mvn package docker:build -eæž„å»ºImageå‡ºçŽ°å¦‚ä¸Šå¼‚å¸¸ã€‚ç™¾èˆ¬æœç´¢æ— æžœï¼ŒåŽæ¥çœ‹å…¶ä»–çš„Spring Bootæž„å»ºDockeré•œåƒæœ‰ç”¨çš„æ˜¯0.4.3ï¼Œé‚ä¿®æ”¹ä¹‹ã€‚ è§£å†³åŠžæ³• å°†å°Dè¯¾å ‚é‡Œé¢çš„æ’ä»¶ &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.6&lt;/version&gt; æ”¹ä¸ºâ­ï¸â­ï¸ 123&lt;groupId&gt;com.spotify&lt;/groupId&gt;&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt; â­ï¸ //è¿™è¾¹ä¸æ˜¯dockerfile-maven-pluginäº†è€Œæ˜¯docker-maven-plugin&lt;version&gt;0.4.13&lt;/version&gt; â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ ç¬¬2è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æž„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸‹é›† æ­¥éª¤1åˆ›å»ºDockerfile,é»˜è®¤æ˜¯æ ¹ç›®å½•ï¼Œï¼ˆå¯ä»¥ä¿®æ”¹ä¸ºsrc/main/docker/Dockerfile,å¦‚æžœä¿®åˆ™éœ€è¦åˆ¶å®šè·¯å¾„ï¼‰ ç®€ä»‹:æ‰“åŒ…SpringCloudé•œåƒå¹¶ä¸Šä¼ ç§æœ‰ä»“åº“å¹¶éƒ¨ç½² 1ã€ ä»€ä¹ˆæ˜¯Dockerfile : ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æž„æˆçš„è„šæœ¬ï¼Œè¿™äº›å‘½ä»¤åº”ç”¨äºŽåŸºç¡€é•œåƒ, æœ€ç»ˆåˆ›å»ºä¸€ä¸ªæ–°çš„é•œ åƒ å®žæˆ˜ FROM openjdk:8-jdk-alpine VOLUME /tmp ARG JAR_FILE COPY ${JAR_FILE} app.jar ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] å‚æ•°è®²è§£ï¼š FROM &lt;image&gt;:&lt;tag&gt; éœ€è¦ä¸€ä¸ªåŸºç¡€é•œåƒï¼Œå¯ä»¥æ˜¯å…¬å…±çš„æˆ–è€…æ˜¯ç§æœ‰çš„ï¼Œ åŽç»­æž„å»ºä¼šåŸºäºŽæ­¤é•œåƒï¼Œå¦‚æžœåŒä¸€ä¸ªDockerfileä¸­å»ºç«‹å¤šä¸ªé•œåƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªFROMæŒ‡ä»¤ VOLUME é…ç½®ä¸€ä¸ªå…·æœ‰æŒä¹…åŒ–åŠŸèƒ½çš„ç›®å½•ï¼Œä¸»æœº /var/lib/docker ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶é“¾æŽ¥åˆ°å®¹ å™¨çš„/tmpã€‚æ”¹æ­¥éª¤æ˜¯å¯é€‰çš„ï¼Œå¦‚æžœæ¶‰åŠåˆ°æ–‡ä»¶ç³»ç»Ÿçš„åº”ç”¨å°±å¾ˆæœ‰å¿…è¦äº†ã€‚/tmpç›®å½•ç”¨æ¥æŒä¹…åŒ–åˆ° Docker æ•°æ® æ–‡ä»¶å¤¹ï¼Œå› ä¸º Spring Boot ä½¿ç”¨çš„å†…åµŒ Tomcat å®¹å™¨é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½• ARG è®¾ç½®ç¼–è¯‘é•œåƒæ—¶åŠ å…¥çš„å‚æ•°ï¼Œ ENV æ˜¯è®¾ç½®å®¹å™¨çš„çŽ¯å¢ƒå˜é‡ COPY : åªæ”¯æŒå°†æœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ ,è¿˜æœ‰ä¸ªADDæ›´å¼ºå¤§ä½†å¤æ‚ç‚¹ ENTRYPOINT å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ EXPOSE 8080 æš´éœ²é•œåƒç«¯å£ ç¬¬3è¯¾æž„å»ºé•œåƒ2ã€æž„å»ºé•œåƒ mvn install dockerfile:build æ‰“æ ‡ç­¾ docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 æŽ¨é€åˆ°é•œåƒä»“åº“ docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 åº”ç”¨æœåŠ¡å™¨æ‹‰å–é•œåƒ docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 docker run -d --name xdclass_docker_demo1 -p 8099:8080 a1b9fc71720d 3ã€æŸ¥çœ‹å¯åŠ¨æ—¥å¿— docker logs -f containerid å®žæˆ˜1.mvn install dockerfile:buildã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆç»ˆç«¯æ²¡æœ‰ç”¨ideaä¸­ç»ˆç«¯å´æœ‰ç”¨ ðŸ˜„å“ˆå“ˆ 2.docker images æ²¡æœ‰åå­—é•œåƒï¼Ÿï¼Ÿæ³¨æ„åœ¨ideaä¸­æµ‹è¯•çš„è¯å°±è¦ç”¨idea ä¸è¦éšå˜æ”¹æˆç»ˆç«¯ 3.docker run -d â€“name demo -p 8080:8080 8ef42611e3b0 å¤‡æ³¨ï¼šè¿è¡Œé•œåƒ â€“name æŒ‡å®šåå­— -d åŽå°è¿è¡Œ 8ef42611e3b0ï¼šåˆšåˆšæž„å»ºçš„imageçš„ID name ä¸ä¼šç”¨å°±åˆ«ç”¨ 4.docker ps æŸ¥çœ‹ä¸€ä¸‹é•œåƒçš„è¿›ç¨‹ ï¼Ÿï¼Ÿï¼Ÿæ²¡æœ‰ç¨‹åºã€‚æµ‹è¯•ä¸€ä¸‹]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å°Dè¯¾å ‚SpringCloudç¬”è®°]]></title>
    <url>%2F2018%2F11%2F10%2FSpringCloud%2F%E5%B0%8FD%E8%AF%BE%E5%A0%82springcloud%2F</url>
    <content type="text"><![CDATA[##SpringCloudè¯¾ç¨‹ç¬”è®° ç¬¬ä¸€ç«  è¯¾ç¨‹ä»‹ç»å’Œå­¦ä¹ è·¯çº¿ 1ã€å¾®æœåŠ¡æž¶æž„SpringCloudè¯¾ç¨‹ä»‹ç»â€‹ ç®€ä»‹ï¼šè¯¾ç¨‹ä»‹ç»å’Œè¯¾ç¨‹å¤§çº²è®²è§£ï¼Œè®²è¯¾é£Žæ ¼å’Œé‡ç‚¹å†…å®¹ç†è§£æŠ€ 2ã€æŠ€æœ¯é€‰åž‹å’Œå­¦åŽæ°´å¹³â€‹ ç®€ä»‹ï¼šè¯¾ç¨‹æ‰€éœ€åŸºç¡€å’ŒæŠ€æœ¯é€‰åž‹è®²è§£ï¼Œå­¦å®Œè¯¾ç¨‹å¯ä»¥åˆ°è¾¾æ€Žæ ·çš„ç¨‹åº¦ï¼Œâ€‹â€‹ 1ã€IDEA JDK8 Maven SpringBootåŸºç¡€ Linuxâ€‹â€‹ 2ã€ç†è§£æŽŒæ¡å¹¶å¼€å‘SpringCloudé‡Œé¢ä¸»æµæž¶æž„å’Œç»„ä»¶çš„åŸºç¡€ä½¿ç”¨ï¼Œè¿˜æœ‰éƒ¨åˆ†æºç åŽŸç†çš„ç†è§£â€‹â€‹ 3ã€æŽŒæ¡å­¦ä¹ çš„æŠ€å·§å’Œè§£å†³é—®é¢˜çš„æ€è·¯ ç¬¬äºŒç«  æž¶æž„æ¼”è¿›å’Œåˆ†å¸ƒå¼ç³»ç»ŸåŸºç¡€çŸ¥è¯† 1ã€ä¼ ç»Ÿæž¶æž„æ¼”è¿›åˆ°åˆ†å¸ƒå¼æž¶æž„â€‹ ç®€ä»‹ï¼šè®²è§£å•æœºåº”ç”¨å’Œåˆ†å¸ƒå¼åº”ç”¨æž¶æž„æ¼”è¿›åŸºç¡€çŸ¥è¯† (ç”»å›¾) é«˜å¯ç”¨ LVS+keepalive 1ã€å•ä½“åº”ç”¨ï¼š å¼€å‘é€Ÿåº¦æ…¢ å¯åŠ¨æ—¶é—´é•¿ ä¾èµ–åºžå¤§ ç­‰ç­‰ 2ã€å¾®æœåŠ¡ æ˜“å¼€å‘ã€ç†è§£å’Œç»´æŠ¤ ç‹¬ç«‹çš„éƒ¨ç½²å’Œå¯åŠ¨ ç­‰ ä¸è¶³ï¼š åˆ†å¸ƒå¼ç³»ç»Ÿ-ã€‹åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ éœ€è¦ç®¡ç†å¤šä¸ªæœåŠ¡-ã€‹æœåŠ¡æ²»ç† 2ã€å¾®æœåŠ¡æ ¸å¿ƒåŸºç¡€è®²è§£â€‹ ç®€ä»‹ï¼šè®²è§£å¾®æœåŠ¡æ ¸å¿ƒçŸ¥è¯† ï¼šç½‘å…³ã€æœåŠ¡å‘çŽ°æ³¨å†Œã€é…ç½®ä¸­å¿ƒã€é“¾è·¯è¿½è¸ªã€è´Ÿè½½å‡è¡¡å™¨ã€ç†”æ–­â€‹ 1ã€ç½‘å…³ï¼šè·¯ç”±è½¬å‘ + è¿‡æ»¤å™¨â€‹ /api/v1/pruduct/ å•†å“æœåŠ¡â€‹ /api/v1/order/ è®¢å•æœåŠ¡â€‹ /api/v1/user/ ç”¨æˆ·æœåŠ¡ 2ã€æœåŠ¡æ³¨å†Œå‘çŽ°ï¼šè°ƒç”¨å’Œè¢«è°ƒç”¨æ–¹çš„ä¿¡æ¯ç»´æŠ¤ 3ã€é…ç½®ä¸­å¿ƒï¼šç®¡ç†é…ç½®ï¼ŒåŠ¨æ€æ›´æ–° application.properties 4ã€é“¾è·¯è¿½è¸ªï¼šåˆ†æžè°ƒç”¨é“¾è·¯è€—æ—¶ ä¾‹å­ï¼šä¸‹å•-ã€‹æŸ¥è¯¢å•†å“æœåŠ¡èŽ·å–å•†å“ä»·æ ¼-ã€‹æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯-ã€‹ä¿å­˜æ•°æ®åº“ 5ã€è´Ÿè½½å‡è¡¡å™¨ï¼šåˆ†å‘è´Ÿè½½ 6ã€ç†”æ–­ï¼šä¿æŠ¤è‡ªå·±å’Œè¢«è°ƒç”¨æ–¹ 3ã€å¸¸è§çš„å¾®æœåŠ¡æ¡†æž¶â€‹ ç®€ä»‹:è®²è§£å¸¸ç”¨çš„å¾®æœåŠ¡æ¡†æž¶ consumer: è°ƒç”¨æ–¹ æ¶ˆè´¹è€… å®¢æˆ·ç«¯ client provider: è¢«è°ƒç”¨æ–¹ æœåŠ¡è€… æœåŠ¡ç«¯ service â€‹ ä¸€ä¸ªæŽ¥å£ä¸€èˆ¬éƒ½ä¼šå……å½“ä¸¤ä¸ªè§’è‰²ï¼ˆä¸æ˜¯åŒæ—¶å……å½“ï¼‰ 1ã€dubbo: zookeeper + dubbo + springmvc/springboot å®˜æ–¹åœ°å€ï¼šhttp://dubbo.apache.org/#!/?lang=zh-cn é…å¥— é€šä¿¡æ–¹å¼ï¼šrpc æ³¨å†Œä¸­å¿ƒï¼šzookeper/redis é…ç½®ä¸­å¿ƒï¼šdiamond 2ã€springcloud: å…¨å®¶æ¡¶+è½»æ¾åµŒå…¥ç¬¬ä¸‰æ–¹ç»„ä»¶(Netflix å¥ˆé£ž) å®˜ç½‘ï¼šhttp://projects.spring.io/spring-cloud/ é…å¥— é€šä¿¡æ–¹å¼ï¼šhttp restful æ³¨å†Œä¸­å¿ƒï¼šeruka/consul é…ç½®ä¸­å¿ƒï¼šconfig æ–­è·¯å™¨ï¼šhystrix ç½‘å…³ï¼šzuul åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿï¼šsleuth+zipkin å­¦ä¹ èµ„æ–™ï¼šhttps://blog.csdn.net/zhangweiwei2020/article/details/78646252 4ã€å¾®æœåŠ¡ä¸‹ç”µå•†é¡¹ç›®åŸºç¡€æ¨¡å—è®¾è®¡â€‹ ç®€ä»‹ï¼šå¾®æœåŠ¡ä¸‹ç”µå•†é¡¹ç›®åŸºç¡€æ¨¡å—è®¾è®¡ åˆ†ç¦»å‡ ä¸ªæ¨¡å—ï¼Œè¯¾ç¨‹å›´ç»•è¿™ä¸ªåŸºç¡€é¡¹ç›®è¿›è¡Œå­¦ä¹ â€‹ å°è€Œç²¾çš„æ–¹å¼å­¦ä¹ å¾®æœåŠ¡ 1ã€ç”¨æˆ·æœåŠ¡ 1ï¼‰ç”¨æˆ·ä¿¡æ¯æŽ¥å£ 2ï¼‰ç™»å½•æŽ¥å£ 2ã€å•†å“æœåŠ¡ 1ï¼‰å•†å“åˆ—è¡¨ 2ï¼‰å•†å“è¯¦æƒ… 3ã€è®¢å•æœåŠ¡ 1ï¼‰æˆ‘çš„è®¢å• 2ï¼‰ä¸‹å•æŽ¥å£ ç¬¬ä¸‰ç«  SpringCloudæ ¸å¿ƒç»„ä»¶æ³¨å†Œä¸­å¿ƒ1ã€ä»€ä¹ˆæ˜¯å¾®æœåŠ¡çš„æ³¨å†Œä¸­å¿ƒâ€‹ ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯æ³¨å†Œä¸­å¿ƒï¼Œå¸¸ç”¨çš„æ³¨å†Œä¸­å¿ƒæœ‰å“ªäº› (ç”»å›¾)â€‹â€‹ ç†è§£æ³¨å†Œä¸­å¿ƒï¼šæœåŠ¡ç®¡ç†,æ ¸å¿ƒæ˜¯æœ‰ä¸ªæœåŠ¡æ³¨å†Œè¡¨ï¼Œå¿ƒè·³æœºåˆ¶åŠ¨æ€ç»´æŠ¤â€‹â€‹ æœåŠ¡æä¾›è€…provider: å¯åŠ¨çš„æ—¶å€™å‘æ³¨å†Œä¸­å¿ƒä¸ŠæŠ¥è‡ªå·±çš„ç½‘ç»œä¿¡æ¯â€‹â€‹ æœåŠ¡æ¶ˆè´¹è€…consumer: å¯åŠ¨çš„æ—¶å€™å‘æ³¨å†Œä¸­å¿ƒä¸ŠæŠ¥è‡ªå·±çš„ç½‘ç»œä¿¡æ¯ï¼Œæ‹‰å–providerçš„ç›¸å…³ç½‘ç»œä¿¡æ¯ ä¸ºä»€ä¹ˆè¦ç”¨ï¼š å¾®æœåŠ¡åº”ç”¨å’Œæœºå™¨è¶Šæ¥è¶Šå¤šï¼Œè°ƒç”¨æ–¹éœ€è¦çŸ¥é“æŽ¥å£çš„ç½‘ç»œåœ°å€ï¼Œå¦‚æžœé é…ç½®æ–‡ä»¶çš„æ–¹å¼åŽ»æŽ§åˆ¶ç½‘ç»œåœ°å€ï¼Œå¯¹äºŽåŠ¨æ€æ–°å¢žæœºå™¨ï¼Œç»´æŠ¤å¸¦æ¥å¾ˆå¤§é—®é¢˜ ä¸»æµçš„æ³¨å†Œä¸­å¿ƒï¼š zookeeperã€Eurekaã€consulã€etcd ç­‰ â€‹ 2ã€åˆ†å¸ƒå¼åº”ç”¨çŸ¥è¯†CAPç†è®ºçŸ¥è¯†â€‹ ç®€ä»‹ï¼šè®²è§£åˆ†å¸ƒå¼æ ¸å¿ƒçŸ¥è¯†CAPç†è®º CAPå®šç†ï¼š æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒConsistencyï¼ˆä¸€è‡´æ€§ï¼‰ã€ Availabilityï¼ˆå¯ç”¨æ€§ï¼‰ã€Partition toleranceï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰ï¼Œä¸‰è€…ä¸å¯åŒæ—¶èŽ·å¾—ã€‚ ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å¤‡ä»½ï¼Œåœ¨åŒä¸€æ—¶åˆ»æ˜¯å¦åŒæ ·çš„å€¼ã€‚ï¼ˆæ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çš„æ•°æ®å®Œå…¨ä¸€è‡´ï¼Œè¶Šå¤šèŠ‚ç‚¹ï¼Œæ•°æ®åŒæ­¥è¶Šè€—æ—¶ï¼‰ 1å¯ç”¨æ€§ï¼ˆAï¼‰ï¼šè´Ÿè½½è¿‡å¤§åŽï¼Œé›†ç¾¤æ•´ä½“æ˜¯å¦è¿˜èƒ½å“åº”å®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ã€‚ï¼ˆæœåŠ¡ä¸€ç›´å¯ç”¨ï¼Œè€Œä¸”æ˜¯æ­£å¸¸å“åº”æ—¶é—´ï¼‰ åˆ†åŒºå®¹é”™æ€§ï¼ˆPï¼‰ï¼šåˆ†åŒºå®¹å¿æ€§ï¼Œå°±æ˜¯é«˜å¯ç”¨æ€§ï¼Œä¸€ä¸ªèŠ‚ç‚¹å´©äº†ï¼Œå¹¶ä¸å½±å“å…¶å®ƒçš„èŠ‚ç‚¹ï¼ˆ100ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‚äº†å‡ ä¸ªï¼Œä¸å½±å“æœåŠ¡ï¼Œè¶Šå¤šæœºå™¨è¶Šå¥½ï¼‰ CAPç†è®ºå°±æ˜¯è¯´åœ¨åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œæœ€å¤šåªèƒ½å®žçŽ°ä¸Šé¢çš„ä¸¤ç‚¹ã€‚è€Œç”±äºŽå½“å‰çš„ç½‘ç»œç¡¬ä»¶è‚¯å®šä¼šå‡ºçŽ°å»¶è¿Ÿä¸¢åŒ…ç­‰é—®é¢˜ï¼Œæ‰€ä»¥åˆ†åŒºå®¹å¿æ€§æ˜¯æˆ‘ä»¬å¿…é¡»éœ€è¦å®žçŽ°çš„ã€‚æ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ä¹‹é—´è¿›è¡Œæƒè¡¡ â€‹ ###3ã€åˆ†å¸ƒå¼ç³»ç»ŸCAPåŽŸç†å¸¸è§é¢è¯•é¢˜å’Œæ³¨å†Œä¸­å¿ƒé€‰æ‹©â€‹ ç®€ä»‹:è®²è§£CAPåŽŸåˆ™åœ¨é¢è¯•ä¸­å›žç­”å’Œæ³¨å†Œä¸­å¿ƒé€‰æ‹© C A æ»¡è¶³çš„æƒ…å†µä¸‹ï¼ŒPä¸èƒ½æ»¡è¶³çš„åŽŸå› ï¼š æ•°æ®åŒæ­¥(C)éœ€è¦æ—¶é—´ï¼Œä¹Ÿè¦æ­£å¸¸çš„æ—¶é—´å†…å“åº”(A)ï¼Œé‚£ä¹ˆæœºå™¨æ•°é‡å°±è¦å°‘ï¼Œæ‰€ä»¥På°±ä¸æ»¡è¶³ CP æ»¡è¶³çš„æƒ…å†µä¸‹ï¼ŒAä¸èƒ½æ»¡è¶³çš„åŽŸå› ï¼š æ•°æ®åŒæ­¥(C)éœ€è¦æ—¶é—´, æœºå™¨æ•°é‡ä¹Ÿå¤š(P)ï¼Œä½†æ˜¯åŒæ­¥æ•°æ®éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥ä¸èƒ½å†æ­£å¸¸æ—¶é—´å†…å“åº”ï¼Œæ‰€ä»¥Aå°±ä¸æ»¡è¶³ AP æ»¡è¶³çš„æƒ…å†µä¸‹ï¼ŒCä¸èƒ½æ»¡è¶³çš„åŽŸå› ï¼š æœºå™¨æ•°é‡ä¹Ÿå¤š(P)ï¼Œæ­£å¸¸çš„æ—¶é—´å†…å“åº”(A)ï¼Œé‚£ä¹ˆæ•°æ®å°±ä¸èƒ½åŠæ—¶åŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œæ‰€ä»¥Cä¸æ»¡è¶³ æ³¨å†Œä¸­å¿ƒé€‰æ‹©ï¼š Zookeeperï¼šCPè®¾è®¡ï¼Œä¿è¯äº†ä¸€è‡´æ€§ï¼Œé›†ç¾¤æ­å»ºçš„æ—¶å€™ï¼ŒæŸä¸ªèŠ‚ç‚¹å¤±æ•ˆï¼Œåˆ™ä¼šè¿›è¡Œé€‰ä¸¾è¡Œçš„leaderï¼Œæˆ–è€…åŠæ•°ä»¥ä¸ŠèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œåˆ™æ— æ³•æä¾›æœåŠ¡ï¼Œå› æ­¤å¯ç”¨æ€§æ²¡æ³•æ»¡è¶³ Eurekaï¼šAPåŽŸåˆ™ï¼Œæ— ä¸»ä»ŽèŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹æŒ‚äº†ï¼Œè‡ªåŠ¨åˆ‡æ¢å…¶ä»–èŠ‚ç‚¹å¯ä»¥ä½¿ç”¨ï¼ŒåŽ»ä¸­å¿ƒåŒ– ç»“è®ºï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­P,è‚¯å®šè¦æ»¡è¶³ï¼Œæ‰€ä»¥åªèƒ½åœ¨CAä¸­äºŒé€‰ä¸€ æ²¡æœ‰æœ€å¥½çš„é€‰æ‹©ï¼Œæœ€å¥½çš„é€‰æ‹©æ˜¯æ ¹æ®ä¸šåŠ¡åœºæ™¯æ¥è¿›è¡Œæž¶æž„è®¾è®¡ å¦‚æžœè¦æ±‚ä¸€è‡´æ€§ï¼Œåˆ™é€‰æ‹©zookeeperï¼Œå¦‚é‡‘èžè¡Œä¸š å¦‚æžœè¦åŽ»å¯ç”¨æ€§ï¼Œåˆ™Eurekaï¼Œå¦‚ç”µå•†ç³»ç»Ÿ 4ã€SpringCloudå¾®æœåŠ¡æ ¸å¿ƒç»„ä»¶Eurekaä»‹ç»å’Œé—­æºåŽå½±å“â€‹ ç®€ä»‹ï¼šâ€‹ SpringCloudä½“ç³»ä»‹ç»â€‹ å®˜æ–¹åœ°å€ï¼šhttp://projects.spring.io/spring-cloud/ Eurekaçš„åŸºç¡€çŸ¥è¯†--&gt;ç”»å›¾è®²è§£äº¤äº’æµç¨‹ï¼ŒæœåŠ¡æä¾›è€…&lt;--&gt;æœåŠ¡æ¶ˆè´¹è€… ; Eureka 2.xé—­æºåŽé€‰æ‹© å‚è€ƒï¼šhttps://www.jianshu.com/p/d32ae141f680 https://blog.csdn.net/zjcjava/article/details/78608892 â€“ 5ã€æœåŠ¡æ³¨å†Œå’Œå‘çŽ°Eureka Serveræ­å»ºå®žæˆ˜â€‹ ç®€ä»‹ï¼šä½¿ç”¨IDEAæ­å»ºEurekaæœåŠ¡ä¸­å¿ƒServerç«¯å¹¶å¯åŠ¨ï¼Œé¡¹ç›®åŸºæœ¬éª¨æž¶ä»‹ç»â€‹â€‹ å®˜æ–¹æ–‡æ¡£ï¼šhttp://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-serverâ€‹â€‹ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé¡¹ç›®â€‹ ç¬¬äºŒæ­¥: æ·»åŠ æ³¨è§£ @EnableEurekaServerâ€‹ ç¬¬ä¸‰æ­¥ï¼šå¢žåŠ é…ç½®application.ymlâ€‹ server:â€‹ port: 8761â€‹â€‹ eureka:â€‹ instance:â€‹ hostname: localhostâ€‹ client:â€‹ #å£°æ˜Žè‡ªå·±æ˜¯ä¸ªæœåŠ¡ç«¯â€‹ registerWithEureka: falseâ€‹ fetchRegistry: falseâ€‹ serviceUrl:â€‹ defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/â€‹ ç¬¬å››æ­¥ï¼šè®¿é—®æ³¨å†Œä¸­å¿ƒé¡µé¢ mavenåœ°å€: https://www.cnblogs.com/sword-successful/p/6408281.html 6ã€æœåŠ¡æ³¨å†Œå’Œå‘çŽ°ä¹‹Eureka Clientæ­å»ºå•†å“æœåŠ¡å®žæˆ˜â€‹ ç®€ä»‹ï¼šæ­å»ºç”¨å•†å“æœåŠ¡ï¼Œå¹¶å°†æœåŠ¡æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒ 1ã€åˆ›å»ºä¸€ä¸ªSpirngBootåº”ç”¨ï¼Œå¢žåŠ æœåŠ¡æ³¨å†Œå’Œå‘çŽ°ä¾èµ– 2ã€æ¨¡æ‹Ÿå•†å“ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ 3ã€å¼€å‘å•†å“åˆ—è¡¨æŽ¥å£ï¼Œå•†å“è¯¦æƒ…æŽ¥å£ 4ã€é…ç½®æ–‡ä»¶åŠ å…¥æ³¨å†Œä¸­å¿ƒåœ°å€ ä½¿ç”¨eurekaå®¢æˆ·ç«¯ å®˜æ–¹æ–‡æ¡£ï¼šhttp://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#netflix-eureka-client-starter 7ã€EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒé…ç½®æŽ§åˆ¶å°é—®é¢˜å¤„ç†â€‹ ç®€ä»‹ï¼šè®²è§£æœåŠ¡æ³¨å†Œä¸­å¿ƒç®¡ç†åŽå°ï¼Œï¼ˆåŽç»­è¿˜ä¼šç»†è®²ï¼‰ é—®é¢˜ï¼šeurekaç®¡ç†åŽå°å‡ºçŽ°ä¸€ä¸²çº¢è‰²å­—ä½“ï¼šæ˜¯è­¦å‘Šï¼Œè¯´æ˜Žæœ‰æœåŠ¡ä¸Šçº¿çŽ‡ä½Ž EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY&apos;RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE. å…³é—­æ£€æŸ¥æ–¹æ³•ï¼šeurekaæœåŠ¡ç«¯é…ç½®æ–‡ä»¶åŠ å…¥ server: enable-self-preservation: false æ³¨æ„ï¼šè‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ç¦æ­¢å…³é—­ï¼Œé»˜è®¤æ˜¯å¼€å¯çŠ¶æ€true â€‹â€‹ é—®é¢˜äºŒï¼šä¸ºä»€ä¹ˆåªåŠ ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒåœ°å€ï¼Œå°±å¯ä»¥æ³¨å†Œâ€‹ By having spring-cloud-starter-netflix-eureka-client on the classpath, your application automatically registers with the Eureka Server. Configuration is required to locate the Eureka server, as shown in the following example: ç¬¬å››ç«  æœåŠ¡æ¶ˆè´¹è€…ribbonå’Œfeignå®žæˆ˜å’Œæ³¨å†Œä¸­å¿ƒé«˜å¯ç”¨ 1ã€å¸¸ç”¨çš„æœåŠ¡é—´è°ƒç”¨æ–¹å¼è®²è§£â€‹ ç®€ä»‹ï¼šè®²è§£å¸¸ç”¨çš„æœåŠ¡é—´çš„è°ƒç”¨æ–¹å¼ RPC: è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œåƒè°ƒç”¨æœ¬åœ°æœåŠ¡(æ–¹æ³•)ä¸€æ ·è°ƒç”¨æœåŠ¡å™¨çš„æœåŠ¡ æ”¯æŒåŒæ­¥ã€å¼‚æ­¥è°ƒç”¨ å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹TCPè¿žæŽ¥ï¼Œå¯ä»¥ä¸€æ¬¡å»ºç«‹ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥å¤šä¸ªè°ƒç”¨å¤ç”¨ä¸€æ¬¡é“¾æŽ¥ PRCæ•°æ®åŒ…å° protobuf thrift rpcï¼šç¼–è§£ç ï¼Œåºåˆ—åŒ–ï¼Œé“¾æŽ¥ï¼Œä¸¢åŒ…ï¼Œåè®® Rest(Http): httpè¯·æ±‚ï¼Œæ”¯æŒå¤šç§åè®®å’ŒåŠŸèƒ½ å¼€å‘æ–¹ä¾¿æˆæœ¬ä½Ž httpæ•°æ®åŒ…å¤§ javaå¼€å‘ï¼šHttpClientï¼ŒURLConnection 2ã€å¾®æœåŠ¡è°ƒç”¨æ–¹å¼ä¹‹ribbonå®žæˆ˜ è®¢å•è°ƒç”¨å•†å“æœåŠ¡â€‹ ç®€ä»‹ï¼šå®žæˆ˜ç”µå•†é¡¹ç›® è®¢å•æœåŠ¡ è°ƒç”¨å•†å“æœåŠ¡èŽ·å–å•†å“ä¿¡æ¯â€‹ 1ã€åˆ›å»ºorder_serviceé¡¹ç›®â€‹ 2ã€å¼€å‘ä¼ªä¸‹å•æŽ¥å£â€‹ 3ã€ä½¿ç”¨ribbon. (ç±»ä¼¼httpClient,URLConnection) å¯åŠ¨ç±»å¢žåŠ æ³¨è§£ @Bean @LoadBalanced public RestTemplate restTemplate() { return new RestTemplate(); } 4ã€æ ¹æ®åç§°è¿›è¡Œè°ƒç”¨å•†å“ï¼ŒèŽ·å–å•†å“è¯¦æƒ… 3ã€é«˜çº§ç¯‡å¹…ä¹‹Ribbonè´Ÿè½½å‡è¡¡æºç åˆ†æžå®žæˆ˜â€‹ ç®€ä»‹: è®²è§£ribbonæœåŠ¡é—´è°ƒç”¨è´Ÿè½½å‡è¡¡æºç åˆ†æžâ€‹ 1ã€å®Œå–„ä¸‹å•æŽ¥å£â€‹ 2ã€åˆ†æž@LoadBalancedâ€‹ 1ï¼‰é¦–å…ˆä»Žæ³¨å†Œä¸­å¿ƒèŽ·å–providerçš„åˆ—è¡¨â€‹ 2ï¼‰é€šè¿‡ä¸€å®šçš„ç­–ç•¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ 3ï¼‰å†è¿”å›žç»™restTemplateè°ƒç”¨ =============================================4ã€é«˜çº§ç¯‡å¹…ä¹‹æœåŠ¡é—´è°ƒç”¨ä¹‹è´Ÿè½½å‡è¡¡ç­–ç•¥è°ƒæ•´å®žæˆ˜â€‹ ç®€ä»‹ï¼šå®žæˆ˜è°ƒæ•´é»˜è®¤è´Ÿè½½å‡è¡¡ç­–ç•¥å®žæˆ˜ è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼šhttp://cloud.spring.io/spring-cloud-static/Finchley.RELEASE/single/spring-cloud.html#_customizing_the_ribbon_client_by_setting_properties åœ¨é…ç½®æ–‡ä»¶ymlé‡Œé¢ï¼Œè‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥ #è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥ product-service: ribbon: NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule ç­–ç•¥é€‰æ‹©ï¼š 1ã€å¦‚æžœæ¯ä¸ªæœºå™¨é…ç½®ä¸€æ ·ï¼Œåˆ™å»ºè®®ä¸ä¿®æ”¹ç­–ç•¥ (æŽ¨è) 2ã€å¦‚æžœéƒ¨åˆ†æœºå™¨é…ç½®å¼ºï¼Œåˆ™å¯ä»¥æ”¹ä¸º WeightedResponseTimeRule 5ã€å¾®æœåŠ¡è°ƒç”¨æ–¹å¼ä¹‹feign å®žæˆ˜ è®¢å•è°ƒç”¨å•†å“æœåŠ¡â€‹ ç®€ä»‹ï¼šæ”¹é€ ç”µå•†é¡¹ç›® è®¢å•æœåŠ¡ è°ƒç”¨å•†å“æœåŠ¡èŽ·å–å•†å“ä¿¡æ¯â€‹ Feignï¼š ä¼ªRPCå®¢æˆ·ç«¯(æœ¬è´¨è¿˜æ˜¯ç”¨http)â€‹ å®˜æ–¹æ–‡æ¡£: https://cloud.spring.io/spring-cloud-openfeign/ 1ã€ä½¿ç”¨feignæ­¥éª¤è®²è§£ï¼ˆæ–°æ—§ç‰ˆæœ¬ä¾èµ–åç§°ä¸ä¸€æ ·ï¼‰ åŠ å…¥ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;/dependency&gt; å¯åŠ¨ç±»å¢žåŠ @EnableFeignClients å¢žåŠ ä¸€ä¸ªæŽ¥å£ å¹¶@FeignClient(name=&quot;product-service&quot;) 2ã€ç¼–ç å®žæˆ˜ 3ã€æ³¨æ„ç‚¹ï¼š 1ã€è·¯å¾„ 2ã€Httpæ–¹æ³•å¿…é¡»å¯¹åº” 3ã€ä½¿ç”¨requestBodyï¼Œåº”è¯¥ä½¿ç”¨@PostMapping 4ã€å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œé€šè¿‡@RequestParamï¼ˆ&quot;id&quot;) int id)æ–¹å¼è°ƒç”¨ 6ã€Feignæ ¸å¿ƒæºç è§£è¯»å’ŒæœåŠ¡è°ƒç”¨æ–¹å¼ribbonå’ŒFeigné€‰æ‹©â€‹ ç®€ä»‹: è®²è§£Feignæ ¸å¿ƒæºç è§£è¯»å’Œ æœåŠ¡é—´çš„è°ƒç”¨æ–¹å¼ribbonã€feigné€‰æ‹©â€‹â€‹ 1ã€ribbonå’Œfeignä¸¤ä¸ªçš„åŒºåˆ«å’Œé€‰æ‹©â€‹ é€‰æ‹©feignâ€‹ é»˜è®¤é›†æˆäº†ribbonâ€‹ å†™èµ·æ¥æ›´åŠ æ€è·¯æ¸…æ™°å’Œæ–¹ä¾¿â€‹ é‡‡ç”¨æ³¨è§£æ–¹å¼è¿›è¡Œé…ç½®ï¼Œé…ç½®ç†”æ–­ç­‰æ–¹å¼æ–¹ä¾¿â€‹â€‹ 2ã€è¶…æ—¶é…ç½®â€‹ é»˜è®¤optons readtimeoutæ˜¯60ï¼Œä½†æ˜¯ç”±äºŽhystrixé»˜è®¤æ˜¯1ç§’è¶…æ—¶â€‹ #ä¿®æ”¹è°ƒç”¨è¶…æ—¶æ—¶é—´ feign: client: config: default: connectTimeout: 2000 readTimeout: 2000 æ¨¡æ‹ŸæŽ¥å£å“åº”æ…¢ï¼Œçº¿ç¨‹ç¡çœ æ–°çš„æ–¹å¼ try { TimeUnit.SECONDS.sleep(1); } catch (InterruptedException e) { e.printStackTrace(); } ç¬¬äº”ç«  äº’è”ç½‘æž¶æž„æœåŠ¡é™çº§ç†”æ–­ Hystrix å®žæˆ˜ 1ã€åˆ†å¸ƒå¼æ ¸å¿ƒçŸ¥è¯†ä¹‹ç†”æ–­ã€é™çº§è®²è§£â€‹ ç®€ä»‹ï¼šç³»ç»Ÿè´Ÿè½½è¿‡é«˜ï¼Œçªå‘æµé‡æˆ–è€…ç½‘ç»œç­‰å„ç§å¼‚å¸¸æƒ…å†µä»‹ç»ï¼Œå¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆ 1ã€ç†”æ–­ï¼š ä¿é™©ä¸ï¼Œç†”æ–­æœåŠ¡ï¼Œä¸ºäº†é˜²æ­¢æ•´ä¸ªç³»ç»Ÿæ•…éšœï¼ŒåŒ…å«å­å’Œä¸‹æ¸¸æœåŠ¡ ä¸‹å•æœåŠ¡ -ã€‹å•†å“æœåŠ¡ -ã€‹ç”¨æˆ·æœåŠ¡ ï¼ˆå‡ºçŽ°å¼‚å¸¸-ã€‹ç†”æ–­ï¼‰ 2ã€é™çº§ï¼š æŠ›å¼ƒä¸€äº›éžæ ¸å¿ƒçš„æŽ¥å£å’Œæ•°æ® æ—…è¡Œç®±çš„ä¾‹å­ï¼šåªå¸¦æ ¸å¿ƒçš„ç‰©å“ï¼ŒæŠ›å¼ƒéžæ ¸å¿ƒçš„ï¼Œç­‰æœ‰æ¡ä»¶çš„æ—¶å€™å†åŽ»æºå¸¦è¿™äº›ç‰©å“ â€‹â€‹ 3ã€ç†”æ–­å’Œé™çº§äº’ç›¸äº¤é›†â€‹ ç›¸åŒç‚¹ï¼šâ€‹ 1ï¼‰ä»Žå¯ç”¨æ€§å’Œå¯é æ€§è§¦å‘ï¼Œä¸ºäº†é˜²æ­¢ç³»ç»Ÿå´©æºƒâ€‹ 2ï¼‰æœ€ç»ˆè®©ç”¨æˆ·ä½“éªŒåˆ°çš„æ˜¯æŸäº›åŠŸèƒ½æš‚æ—¶ä¸èƒ½ç”¨â€‹â€‹ ä¸åŒç‚¹â€‹ 1ï¼‰æœåŠ¡ç†”æ–­ä¸€èˆ¬æ˜¯ä¸‹æ¸¸æœåŠ¡æ•…éšœå¯¼è‡´çš„ï¼Œè€ŒæœåŠ¡é™çº§ä¸€èˆ¬æ˜¯ä»Žæ•´ä½“ç³»ç»Ÿè´Ÿè·è€ƒè™‘ï¼Œç”±è°ƒç”¨æ–¹æŽ§åˆ¶ 2ã€Netflixå¼€æºç»„ä»¶æ–­è·¯å™¨Hystrixä»‹ç»â€‹ ç®€ä»‹ï¼šä»‹ç»HystrixåŸºç¡€çŸ¥è¯†å’Œä½¿ç”¨åœºæ™¯â€‹â€‹ æ–‡æ¡£åœ°å€ï¼šâ€‹ https://github.com/Netflix/Hystrixâ€‹ https://github.com/Netflix/Hystrix/wikiâ€‹â€‹ 1ã€ä»€ä¹ˆæ˜¯Hystrixï¼Ÿâ€‹ 1ï¼‰hystrixå¯¹åº”çš„ä¸­æ–‡åå­—æ˜¯â€œè±ªçŒªâ€â€‹ 2ï¼‰hystrix è‹±[hÉªstâ€™rÉªks] ç¾Ž[hÉªstâ€™rÉªks] â€‹â€‹ 2ã€ä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿâ€‹ åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼Œä¸€ä¸ªæœåŠ¡ä¾èµ–å¤šä¸ªæœåŠ¡ï¼Œå¯èƒ½å­˜åœ¨æŸä¸ªæœåŠ¡è°ƒç”¨å¤±è´¥ï¼Œâ€‹ æ¯”å¦‚è¶…æ—¶ã€å¼‚å¸¸ç­‰ï¼Œå¦‚ä½•èƒ½å¤Ÿä¿è¯åœ¨ä¸€ä¸ªä¾èµ–å‡ºé—®é¢˜çš„æƒ…å†µä¸‹ï¼Œä¸ä¼šå¯¼è‡´æ•´ä½“æœåŠ¡å¤±è´¥ï¼Œâ€‹ é€šè¿‡Hystrixå°±å¯ä»¥è§£å†³â€‹â€‹ http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clientsâ€‹â€‹ 3ã€æä¾›äº†ç†”æ–­ã€éš”ç¦»ã€Fallbackã€cacheã€ç›‘æŽ§ç­‰åŠŸèƒ½ 4ã€ç†”æ–­åŽæ€Žä¹ˆå¤„ç†ï¼Ÿ å‡ºçŽ°é”™è¯¯ä¹‹åŽå¯ä»¥ fallback é”™è¯¯çš„å¤„ç†ä¿¡æ¯ å…œåº•æ•°æ® 3ã€Feignç»“åˆHystrixæ–­è·¯å™¨å¼€å‘å®žæˆ˜ã€Šä¸Šã€‹â€‹ ç®€ä»‹ï¼šè®²è§£SpringCloudæ•´åˆæ–­è·¯å™¨çš„ä½¿ç”¨ï¼Œç”¨æˆ·æœåŠ¡å¼‚å¸¸æƒ…å†µ 1ã€åŠ å…¥ä¾èµ– æ³¨æ„ï¼šç½‘ä¸Šæ–°æ—§ç‰ˆæœ¬é—®é¢˜ï¼Œæ‰€ä»¥è¦ä»¥å®˜ç½‘ä¸ºä¸»ï¼Œä¸ç„¶éƒ¨åˆ†æ³¨è§£ä¼šä¸¢å¤± æœ€æ–°ç‰ˆæœ¬ 2.0 &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt; &lt;/dependency&gt; 2ã€å¢žåŠ æ³¨è§£ å¯åŠ¨ç±»é‡Œé¢å¢žåŠ æ³¨è§£ @EnableCircuitBreaker æ³¨è§£è¶Šæ¥è¶Šå¤š-ã€‹ SpringCloudApplicationæ³¨è§£ 3ã€APIæŽ¥å£ç¼–ç å®žæˆ˜ ç†”æ–­-ã€‹é™çº§ 1ï¼‰æœ€å¤–å±‚apiä½¿ç”¨ï¼Œå¥½æ¯”å¼‚å¸¸å¤„ç†ï¼ˆç½‘ç»œå¼‚å¸¸ï¼Œå‚æ•°æˆ–è€…å†…éƒ¨è°ƒç”¨é—®é¢˜ï¼‰ apiæ–¹æ³•ä¸Šå¢žåŠ  @HystrixCommand(fallbackMethod = &quot;saveOrderFail&quot;) ç¼–å†™fallbackæ–¹æ³•å®žçŽ°ï¼Œæ–¹æ³•ç­¾åä¸€å®šè¦å’Œapiæ–¹æ³•ç­¾åä¸€è‡´ï¼ˆæ³¨æ„ç‚¹ï¼ï¼ï¼ï¼‰ â€‹ è¡¥å……ï¼š ä¿®æ”¹mavenä»“åº“åœ°å€ pom.xmlä¸­ä¿®æ”¹ &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;layout&gt;default&lt;/layout&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;/repository&gt; &lt;/repositories&gt; 4ã€Feignç»“åˆHystrixæ–­è·¯å™¨å¼€å‘å®žæˆ˜ã€Šä¸‹ã€‹â€‹ ç®€ä»‹ï¼šè®²è§£SpringCloudæ•´åˆæ–­è·¯å™¨çš„ä½¿ç”¨ï¼Œç”¨æˆ·æœåŠ¡å¼‚å¸¸æƒ…å†µâ€‹ 1ã€feignç»“åˆHystrixâ€‹â€‹ 1ï¼‰å¼€å¯feignæ”¯æŒhystrix (æ³¨æ„ï¼Œä¸€å®šè¦å¼€å¯ï¼Œæ—§ç‰ˆæœ¬é»˜è®¤æ”¯æŒï¼Œæ–°ç‰ˆæœ¬é»˜è®¤å…³é—­)â€‹ feign:â€‹ hystrix:â€‹ enabled: trueâ€‹â€‹ 2ï¼‰FeignClient(name=â€xxxâ€, fallback=xxx.class ), classéœ€è¦ç»§æ‰¿å½“å‰FeignClientçš„ç±» 5ã€ç†”æ–­é™çº§æœåŠ¡å¼‚å¸¸æŠ¥è­¦é€šçŸ¥å®žæˆ˜â€‹ ç®€ä»‹ï¼šå®Œå–„æœåŠ¡ç†”æ–­å¤„ç†ï¼ŒæŠ¥è­¦æœºåˆ¶å®Œå–„ 1ã€åŠ å…¥redisä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; 2ã€é…ç½®redisé“¾æŽ¥ä¿¡æ¯ redis: database: 0 host: 127.0.0.1 port: 6379 timeout: 2000 3ã€ä½¿ç”¨ //ç›‘æŽ§æŠ¥è­¦ String saveOrderKye = &quot;save-order&quot;; String sendValue = redisTemplate.opsForValue().get(saveOrderKye); final String ip = request.getRemoteAddr(); new Thread( ()-&gt;{ if (StringUtils.isBlank(sendValue)) { System.out.println(&quot;ç´§æ€¥çŸ­ä¿¡ï¼Œç”¨æˆ·ä¸‹å•å¤±è´¥ï¼Œè¯·ç¦»å¼€æŸ¥æ‰¾åŽŸå› ,ipåœ°å€æ˜¯=&quot;+ip); //å‘é€ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè°ƒç”¨çŸ­ä¿¡æœåŠ¡ TODO redisTemplate.opsForValue().set(saveOrderKye, &quot;save-order-fail&quot;, 20, TimeUnit.SECONDS); }else{ System.out.println(&quot;å·²ç»å‘é€è¿‡çŸ­ä¿¡ï¼Œ20ç§’å†…ä¸é‡å¤å‘é€&quot;); } }).start(); 6ã€é«˜çº§ç¯‡å¹…ä¹‹æ·±å…¥æºç å‰–æžHystrixé™çº§ç­–ç•¥å’Œè°ƒæ•´â€‹ ç®€ä»‹ï¼šæºç åˆ†æžHystrixé™çº§ç­–ç•¥å’Œè°ƒæ•´ 1ã€æŸ¥çœ‹é»˜è®¤è®²è§£ç­–ç•¥ HystrixCommandProperties 1ï¼‰execution.isolation.strategy éš”ç¦»ç­–ç•¥ THREAD çº¿ç¨‹æ± éš”ç¦» ï¼ˆé»˜è®¤ï¼‰ SEMAPHORE ä¿¡å·é‡ ä¿¡å·é‡é€‚ç”¨äºŽæŽ¥å£å¹¶å‘é‡é«˜çš„æƒ…å†µï¼Œå¦‚æ¯ç§’æ•°åƒæ¬¡è°ƒç”¨çš„æƒ…å†µï¼Œå¯¼è‡´çš„çº¿ç¨‹å¼€é”€è¿‡é«˜ï¼Œé€šå¸¸åªé€‚ç”¨äºŽéžç½‘ç»œè°ƒç”¨ï¼Œæ‰§è¡Œé€Ÿåº¦å¿« 2ï¼‰execution.isolation.thread.timeoutInMilliseconds è¶…æ—¶æ—¶é—´ é»˜è®¤ 1000æ¯«ç§’ 3ï¼‰execution.timeout.enabled æ˜¯å¦å¼€å¯è¶…æ—¶é™åˆ¶ ï¼ˆä¸€å®šä¸è¦ç¦ç”¨ï¼‰ 4ï¼‰execution.isolation.semaphore.maxConcurrentRequests éš”ç¦»ç­–ç•¥ä¸º ä¿¡å·é‡çš„æ—¶å€™ï¼Œå¦‚æžœè¾¾åˆ°æœ€å¤§å¹¶å‘æ•°æ—¶ï¼ŒåŽç»­è¯·æ±‚ä¼šè¢«æ‹’ç»ï¼Œé»˜è®¤æ˜¯10 å®˜æ–¹æ–‡æ¡£: https://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.strategy 2ã€è°ƒæ•´ç­–ç•¥ è¶…æ—¶æ—¶é—´è°ƒæ•´ hystrix: command: default: execution: isolation: thread: timeoutInMilliseconds: 4000 7ã€æ–­è·¯å™¨Dashboardç›‘æŽ§ä»ªè¡¨ç›˜å®žæˆ˜â€‹ ç®€ä»‹ï¼šè®²è§£æ–­è·¯å™¨DashboardåŸºç¡€ä½¿ç”¨å’ŒæŸ¥çœ‹â€‹ 1ã€åŠ å…¥ä¾èµ–â€‹ â€‹ org.springframework.cloudâ€‹ spring-cloud-starter-netflix-hystrix-dashboardâ€‹ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; 2ã€å¯åŠ¨ç±»å¢žåŠ æ³¨è§£ @EnableHystrixDashboard â€‹â€‹ 3ã€é…ç½®æ–‡ä»¶å¢žåŠ endpointmanagement: endpoints:â€‹ web:â€‹ exposure:â€‹ include: â€œ*â€ 4ã€è®¿é—®å…¥å£ http://localhost:8781/hystrix Hystrix Dashboardè¾“å…¥ï¼š http://localhost:8781/actuator/hystrix.stream â€‹â€‹ å‚è€ƒèµ„æ–™â€‹ é»˜è®¤å¼€å¯ç›‘æŽ§é…ç½®â€‹ https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuatorâ€‹â€‹ é…ç½®æ–‡ä»¶ç±»ï¼šâ€‹ spring-configuration-metadata.json 8ã€æ–­è·¯å™¨ç›‘æŽ§ä»ªè¡¨å‚æ•°è®²è§£å’Œæ¨¡æ‹Ÿç†”æ–­â€‹ ç®€ä»‹ï¼šè®²è§£ æ–­è·¯å™¨ç›‘æŽ§ä»ªè¡¨ç›˜å‚æ•°å’Œæ¨¡æ‹Ÿç†”æ–­ 1ã€sse server-send-eventæŽ¨é€åˆ°å‰ç«¯ èµ„æ–™ï¼šhttps://github.com/Netflix/Hystrix/wiki/Dashboard ç¬¬å…­ç«  å¾®æœåŠ¡ç½‘å…³zuulå¼€å‘å®žæˆ˜ 1ã€å¾®æœåŠ¡ç½‘å…³ä»‹ç»å’Œä½¿ç”¨åœºæ™¯â€‹ ç®€ä»‹ï¼šè®²è§£ç½‘å…³çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ (ç”»å›¾)â€‹â€‹ 1ï¼‰ä»€ä¹ˆæ˜¯ç½‘å…³â€‹ API Gatewayï¼Œæ˜¯ç³»ç»Ÿçš„å”¯ä¸€å¯¹å¤–çš„å…¥å£ï¼Œä»‹äºŽå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´çš„ä¸­é—´å±‚ï¼Œå¤„ç†éžä¸šåŠ¡åŠŸèƒ½ æä¾›è·¯ç”±è¯·æ±‚ã€é‰´æƒã€ç›‘æŽ§ã€ç¼“å­˜ã€é™æµç­‰åŠŸèƒ½â€‹â€‹ ç»Ÿä¸€æŽ¥å…¥â€‹ æ™ºèƒ½è·¯ç”±â€‹ ABæµ‹è¯•ã€ç°åº¦æµ‹è¯•â€‹ è´Ÿè½½å‡è¡¡ã€å®¹ç¾å¤„ç†â€‹ æ—¥å¿—åŸ‹ç‚¹ï¼ˆç±»ä¼¼Nignxæ—¥å¿—ï¼‰â€‹ æµé‡ç›‘æŽ§ é™æµå¤„ç† æœåŠ¡é™çº§ å®‰å…¨é˜²æŠ¤ é‰´æƒå¤„ç† ç›‘æŽ§ æœºå™¨ç½‘ç»œéš”ç¦» 2ï¼‰ä¸»æµçš„ç½‘å…³ zuulï¼šæ˜¯Netflixå¼€æºçš„å¾®æœåŠ¡ç½‘å…³ï¼Œå’ŒEureka,Ribbon,Hystrixç­‰ç»„ä»¶é…åˆä½¿ç”¨ï¼ŒZuul 2.0æ¯”1.0çš„æ€§èƒ½æé«˜å¾ˆå¤š kong: ç”±Mashapeå…¬å¸å¼€æºçš„ï¼ŒåŸºäºŽNginxçš„API gateway nginx+luaï¼šæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†æœåŠ¡å™¨,luaæ˜¯è„šæœ¬è¯­è¨€ï¼Œè®©Nginxæ‰§è¡ŒLuaè„šæœ¬ï¼Œå¹¶ä¸”é«˜å¹¶å‘ã€éžé˜»å¡žçš„å¤„ç†å„ç§è¯·æ±‚ 2ã€SpringCloudçš„ç½‘å…³ç»„ä»¶zuulåŸºæœ¬ä½¿ç”¨â€‹ ç®€ä»‹ï¼šè®²è§£zuulç½‘å…³åŸºæœ¬ä½¿ç”¨ 1ã€åŠ å…¥ä¾èµ– 2ã€å¯åŠ¨ç±»åŠ å…¥æ³¨è§£ @EnableZuulProxy é»˜è®¤é›†æˆæ–­è·¯å™¨ @EnableCircuitBreaker é»˜è®¤è®¿é—®è§„åˆ™ http://gateway:port/service-id/** ä¾‹å­ï¼šé»˜è®¤ /order-service/api/v1/order/save?user_id=2&amp;product_id=1 è‡ªå®šä¹‰ /xdclass_order/api/v1/order/save?user_id=2&amp;product_id=1 è‡ªå®šä¹‰è·¯ç”±è½¬å‘ï¼š zuul: routes: order-service: /apigateway/** çŽ¯å¢ƒéš”ç¦»é…ç½®ï¼š éœ€æ±‚ ï¼šä¸æƒ³è®©é»˜è®¤çš„æœåŠ¡å¯¹å¤–æš´éœ²æŽ¥å£ /order-service/api/v1/order/save é…ç½®ï¼š zuul: ignored-patterns: - /*-service/api/v1/order/save 3ã€é«˜çº§ç¯‡å¹…ä¹‹Zuulå¸¸ç”¨é—®é¢˜åˆ†æžå’Œç½‘å…³è¿‡æ»¤å™¨åŽŸç†åˆ†æž ç®€ä»‹ï¼šè®²è§£Zuulç½‘å…³åŽŸç†å’Œè¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸï¼Œ 1ã€è·¯ç”±åç§°å®šä¹‰é—®é¢˜ è·¯ç”±æ˜ å°„é‡å¤è¦†ç›–é—®é¢˜ 2ã€Httpè¯·æ±‚å¤´è¿‡æ»¤é—®é¢˜ 3ã€è¿‡æ»¤å™¨æ‰§è¡Œé¡ºåºé—®é¢˜ ï¼Œè¿‡æ»¤å™¨çš„orderå€¼è¶Šå°ï¼Œè¶Šå…ˆæ‰§è¡Œ 4ã€å…±äº«RequestContextï¼Œä¸Šä¸‹æ–‡å¯¹è±¡ 4ã€è‡ªå®šä¹‰Zuulè¿‡æ»¤å™¨å®žçŽ°ç™»å½•é‰´æƒå®žæˆ˜â€‹ ç®€ä»‹ï¼šè‡ªå®šä¹‰Zuulè¿‡æ»¤å™¨å®žçŽ°ç™»å½•é‰´æƒå®žæˆ˜ 1ã€æ–°å»ºä¸€ä¸ªfilteråŒ… 2ã€æ–°å»ºä¸€ä¸ªç±»ï¼Œå®žçŽ°ZuulFilterï¼Œé‡å†™é‡Œé¢çš„æ–¹æ³• 3ã€åœ¨ç±»é¡¶éƒ¨åŠ æ³¨è§£ï¼Œ@Component,è®©Springæ‰«æ 5ã€é«˜çº§ç¯‡å¹…ä¹‹é«˜å¹¶å‘æƒ…å†µä¸‹æŽ¥å£é™æµç‰¹æŠ€â€‹ ç®€ä»‹ï¼šè°·æ­Œguavaæ¡†æž¶ä»‹ç»ï¼Œç½‘å…³é™æµä½¿ç”¨ 1ã€nginxå±‚é™æµ 2ã€ç½‘å…³å±‚é™æµ 6ã€Zuulå¾®æœåŠ¡ç½‘å…³é›†ç¾¤æ­å»ºâ€‹ ç®€ä»‹ï¼šå¾®æœåŠ¡ç½‘å…³Zullé›†ç¾¤æ­å»º 1ã€nginx+lvs+keepalive https://www.cnblogs.com/liuyisai/p/5990645.html ç¬¬ä¸ƒç«  åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»ŸSleuthå’ŒZipKinå®žæˆ˜â€‹ 1ã€å¾®æœåŠ¡ä¸‹çš„é“¾è·¯è¿½è¸ªè®²è§£å’Œé‡è¦æ€§ ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»Ÿï¼ŒåŠä½¿ç”¨å¥½å¤„ 2ã€SpringCloudçš„é“¾è·¯è¿½è¸ªç»„ä»¶Sleuthå®žæˆ˜ ç®€ä»‹ï¼šè®²è§£åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç»„ä»¶Sleuthå®žæˆ˜ 1ã€å®˜æ–¹æ–‡æ¡£ http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#sleuth-adding-project 2ã€ä»€ä¹ˆæ˜¯Sleuth ä¸€ä¸ªç»„ä»¶ï¼Œä¸“é—¨ç”¨äºŽè®°å½•é“¾è·¯æ•°æ®çš„å¼€æºç»„ä»¶ [order-service,96f95a0dd81fe3ab,852ef4cfcdecabf3,false] 1ã€ç¬¬ä¸€ä¸ªå€¼ï¼Œspring.application.nameçš„å€¼ 2ã€ç¬¬äºŒä¸ªå€¼ï¼Œ96f95a0dd81fe3ab ï¼Œsleuthç”Ÿæˆçš„ä¸€ä¸ªIDï¼Œå«Trace IDï¼Œç”¨æ¥æ ‡è¯†ä¸€æ¡è¯·æ±‚é“¾è·¯ï¼Œä¸€æ¡è¯·æ±‚é“¾è·¯ä¸­åŒ…å«ä¸€ä¸ªTrace IDï¼Œå¤šä¸ªSpan ID 3ã€ç¬¬ä¸‰ä¸ªå€¼ï¼Œ852ef4cfcdecabf3ã€spanid åŸºæœ¬çš„å·¥ä½œå•å…ƒï¼ŒèŽ·å–å…ƒæ•°æ®ï¼Œå¦‚å‘é€ä¸€ä¸ªhttp 4ã€ç¬¬å››ä¸ªå€¼ï¼šfalseï¼Œæ˜¯å¦è¦å°†è¯¥ä¿¡æ¯è¾“å‡ºåˆ°zipkinæœåŠ¡ä¸­æ¥æ”¶é›†å’Œå±•ç¤ºã€‚ 3ã€æ·»åŠ ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt; &lt;/dependency&gt; 3ã€SpringCloudçš„é“¾è·¯è¿½è¸ªç»„ä»¶Sleuthå¸¸è§é—®é¢˜è¯´æ˜Ž ç®€ä»‹ï¼šè®²è§£åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç»„ä»¶Sleuthå¸¸è§é—®é¢˜è¯´æ˜Ž â€‹ 4ã€å¯è§†åŒ–é“¾è·¯è¿½è¸ªç³»ç»ŸZipkinéƒ¨ç½² ç®€ä»‹ï¼šè®²è§£Zipkinçš„ä»‹ç»å’Œéƒ¨ç½² 1ã€ä»€ä¹ˆæ˜¯zipkin å®˜ç½‘ï¼šhttps://zipkin.io/ å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„APMå·¥å…·ï¼ˆApplication Performance Managementï¼‰,åŸºäºŽGoogle Dapperçš„åŸºç¡€å®žçŽ°ï¼Œå’Œsleuthç»“åˆå¯ä»¥æä¾›å¯è§†åŒ–webç•Œé¢åˆ†æžè°ƒç”¨é“¾è·¯è€—æ—¶æƒ…å†µ 2ã€åŒç±»äº§å“ é¹°çœ¼ï¼ˆEagleEyeï¼‰ CAT twitterå¼€æºzipkinï¼Œç»“åˆsleuth Pinpointï¼Œè¿ç”¨JavaAgentå­—èŠ‚ç å¢žå¼ºæŠ€æœ¯ StackDriver Trace (Google) 3ã€å¼€å§‹ä½¿ç”¨ https://github.com/openzipkin/zipkin https://zipkin.io/pages/quickstart.html zipkinç»„æˆï¼šCollectorã€Storageã€Restful APIã€Web UIç»„æˆ 4ã€çŸ¥è¯†æ‹“å±•ï¼šOpenTracing OpenTracing å·²è¿›å…¥ CNCFï¼Œæ­£åœ¨ä¸ºå…¨çƒçš„åˆ†å¸ƒå¼è¿½è¸ªï¼Œæä¾›ç»Ÿä¸€çš„æ¦‚å¿µå’Œæ•°æ®æ ‡å‡†ã€‚ é€šè¿‡æä¾›å¹³å°æ— å…³ã€åŽ‚å•†æ— å…³çš„ APIï¼Œä½¿å¾—å¼€å‘äººå‘˜èƒ½å¤Ÿæ–¹ä¾¿çš„æ·»åŠ ï¼ˆæˆ–æ›´æ¢ï¼‰è¿½è¸ªç³»ç»Ÿçš„å®žçŽ°ã€‚ æŽ¨èé˜…è¯»ï¼š http://blog.daocloud.io/cncf-3/ https://www.zhihu.com/question/27994350 https://yq.aliyun.com/articles/514488?utm_content=m_43347 5ã€é«˜çº§ç¯‡å¹…ä¹‹é“¾è·¯è¿½è¸ªç»„ä»¶Zipkin+Sleuthå®žæˆ˜ ç®€ä»‹ï¼šä½¿ç”¨Zipkin+Sleuthä¸šåŠ¡åˆ†æžè°ƒç”¨é“¾è·¯åˆ†æžå®žæˆ˜ 1ã€æ–‡æ¡£ http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_sleuth_with_zipkin_via_http sleuthæ”¶é›†è·Ÿè¸ªä¿¡æ¯é€šè¿‡httpè¯·æ±‚å‘é€ç»™zipkin serverï¼Œzipkinserverè¿›è¡Œè·Ÿè¸ªä¿¡æ¯çš„å­˜å‚¨ä»¥åŠæä¾›Rest APIå³å¯ï¼ŒZipkin UIè°ƒç”¨å…¶APIæŽ¥å£è¿›è¡Œæ•°æ®å±•ç¤º é»˜è®¤å­˜å‚¨æ˜¯å†…å­˜ï¼Œå¯ä¹Ÿç”¨mysqlã€æˆ–è€…elasticsearchç­‰å­˜å‚¨ 2ã€åŠ å…¥ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt; &lt;/dependency&gt; é‡Œé¢åŒ…å« spring-cloud-starter-sleuthã€spring-cloud-sleuth-zipkin 3ã€æ–‡æ¡£è¯´æ˜Žï¼šhttp://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_features_2 4ã€é…ç½®zipkin.base-url 5ã€é…ç½®é‡‡æ ·ç™¾åˆ†é—­spring.sleuth.sampler æŽ¨èèµ„æ–™ï¼š https://blog.csdn.net/jrn1012/article/details/77837710 =============================================æ›´å¤šå¹²è´§æŠ€æœ¯è®¿é—®å°Dè¯¾å ‚å®˜ç½‘ https://xdclass.netå°Dè€å¸ˆä¸ªäººå¾®ä¿¡ï¼šjack794666918 å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚â€‹ç¬¬å…«ç«  å¾®æœåŠ¡æ ¸å¿ƒçŸ¥è¯†åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒConfigå®žæˆ˜â€‹â€‹ 1ã€å¾®æœåŠ¡ä¸‹çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒâ€‹ ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯é…ç½®ä¸­å¿ƒåŠä½¿ç”¨å‰åŽçš„å¥½å¤„ (ç”»å›¾)â€‹ ä»€ä¹ˆæ˜¯é…ç½®ä¸­å¿ƒï¼šâ€‹ ä¸€å¥è¯ï¼šç»Ÿä¸€ç®¡ç†é…ç½®, å¿«é€Ÿåˆ‡æ¢å„ä¸ªçŽ¯å¢ƒçš„é…ç½®â€‹â€‹ ç›¸å…³äº§å“ï¼šâ€‹ ç™¾åº¦çš„disconfâ€‹ åœ°å€:https://github.com/knightliao/disconfâ€‹â€‹ é˜¿é‡Œçš„diamandâ€‹ åœ°å€ï¼šhttps://github.com/takeseem/diamondâ€‹â€‹ springcloudçš„configs-server:â€‹ åœ°å€ï¼šhttp://cloud.spring.io/spring-cloud-config/ æŽ¨èå¹²è´§æ–‡ç« ï¼šhttp://jm.taobao.org/2016/09/28/an-article-about-config-center/ 2ã€SpringCloudçš„é…ç½®ä¸­å¿ƒç»„ä»¶config-serverå®žæˆ˜ ç®€ä»‹ï¼šè®²è§£SpringCloudé…ç½®ä¸­å¿ƒconfig-serverå®žæˆ˜ 1ã€æ–°å»ºé¡¹ç›®ï¼Œåˆ›å»ºconfig-server 2ã€å¯åŠ¨ç±»å¢žåŠ æ³¨è§£ @EnableConfigServer 3ã€ä½¿ç”¨gitæœåŠ¡å™¨ç»“åˆConfigæ­å»ºåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨gitæœåŠ¡å™¨ç»“åˆConfigæ­å»ºåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ 1ã€é»˜è®¤ä½¿ç”¨gitå­˜å‚¨é…ç½®ä¸­å¿ƒ ä½¿ç”¨gitæœåŠ¡å™¨ï¼Œå¯ä»¥è‡ªå·±æ­å»ºgitlabæœåŠ¡å™¨ æˆ–è€…ä½¿ç”¨githubã€å¼€æºä¸­å›½gitã€é˜¿é‡Œäº‘git 794666918@qq.com xdclass.net123 https://gitee.com/waitforxy/config_cloud.git 2ã€é…ç½®æ–‡ä»¶æ·»åŠ é…ç½® spring: application: name: config-server #gité…ç½® cloud: config: server: git: uri: https://gitee.com/waitforxy/config_cloud username: 794666918@qq.com password: xdclass.net123 #è¶…æ—¶æ—¶é—´ timeout: 5 #åˆ†æ”¯ default-label: master 3ã€è®¿é—®æ–¹å¼ï¼ˆä¸€å®šè¦æ³¨æ„è¯­æ³•ï¼Œå¦‚æžœæœ‰é—®é¢˜ï¼Œä¼šå‡ºé”™ï¼‰ å¤šç§è®¿é—®è·¯å¾„ï¼Œå¯ä»¥é€šè¿‡å¯åŠ¨æ—¥å¿—åŽ»æŸ¥çœ‹ ä¾‹å­ http://localhost:9100/product-service.yml /{name}-{profiles}.properties /{name}-{profiles}.yml /{name}-{profiles}.json /{label}/{name}-{profiles}.yml name æœåŠ¡å™¨åç§° profile çŽ¯å¢ƒåç§°ï¼Œå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ lable ä»“åº“åˆ†æ”¯ã€é»˜è®¤masteråˆ†æ”¯ 4ã€åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒå®¢æˆ·ç«¯ä½¿ç”¨å®žæˆ˜â€‹ ç®€ä»‹ï¼šå¾®æœåŠ¡é‡Œé¢å®¢æˆ·ç«¯æŽ¥å…¥é…ç½®ä¸­å¿ƒå®žæˆ˜â€‹ å®˜æ–¹æ–‡æ¡£ï¼šhttp://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_clientâ€‹â€‹ 1ã€åŠ å…¥ä¾èµ–â€‹ â€‹ org.springframework.cloudâ€‹ spring-cloud-config-clientâ€‹ â€‹â€‹ 2ã€ä¿®æ”¹å¯¹åº”æœåŠ¡çš„é…ç½®æ–‡ä»¶,æŠŠapplication.yml æ”¹ä¸º bootstrap.ymlâ€‹ #æŒ‡å®šæ³¨å†Œä¸­å¿ƒåœ°å€â€‹ eureka:â€‹ client:â€‹ serviceUrl:â€‹ defaultZone: http://localhost:8761/eureka/â€‹ #æœåŠ¡çš„åç§° spring: application: name: product-service #æŒ‡å®šä»Žå“ªä¸ªé…ç½®ä¸­å¿ƒè¯»å– cloud: config: discovery: service-id: CONFIG-SERVER enabled: true profile: test #å»ºè®®ç”¨lableåŽ»åŒºåˆ†çŽ¯å¢ƒï¼Œé»˜è®¤æ˜¯lableæ˜¯masteråˆ†æ”¯ #label: test æ³¨æ„ç‚¹ï¼š 1.é…ç½®æ–‡ä»¶è¦ç”¨bootstrap.yml 2.é»˜è®¤è¯»å–æ–‡ä»¶åæ˜¯ æœåŠ¡åç§° ç¬¬ä¹ç«  å¾®æœåŠ¡æ¶ˆæ¯æ€»çº¿Busç»“åˆæ¶ˆæ¯é˜Ÿåˆ—RabbitMQå®žæˆ˜ 1ã€æ¶ˆæ¯æ€»çº¿Busä»‹ç»å’Œä½¿ç”¨åœºæ™¯ ç®€ä»‹ï¼šè®²è§£æ¶ˆæ¯æ€»çº¿Busä»‹ç»å’Œä½¿ç”¨åœºæ™¯ 1ã€ä»€ä¹ˆæ˜¯æ¶ˆæ¯ ä¸€ä¸ªäº‹ä»¶ï¼Œéœ€è¦å¹¿æ’­æˆ–è€…å•ç‹¬ä¼ é€’ç»™æŸä¸ªæŽ¥å£ 2ã€ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ä¸ª é…ç½®æ›´æ–°äº†ï¼Œä½†æ˜¯å…¶ä»–ç³»ç»Ÿä¸çŸ¥é“æ˜¯å¦æ›´æ–° 2ã€æ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQåŸºç¡€ä»‹ç» ç®€ä»‹ï¼šæ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQåŸºç¡€ä»‹ç» 1ã€æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç» å‚è€ƒï¼šhttps://www.cnblogs.com/linjiqin/p/5720865.html 2ã€åŒç±»äº§å“ ActiveMQ RocketMQ Kafka ç­‰ 3ã€SpringCloudé»˜è®¤æŽ¨èä½¿ç”¨RabbitMQ 4ã€RabbitMQä»‹ç» å®˜æ–¹æ–‡æ¡£ï¼šhttp://www.rabbitmq.com/getstarted.html ä¸­æ–‡æ–‡æ¡£ï¼šhttp://rabbitmq.mr-ping.com/ 3ã€å®žæˆ˜ç³»åˆ—ä½¿ç”¨Dockeræ­å»ºRabbitMQ3.7 ç®€ä»‹ï¼šä½¿ç”¨Dockerå®‰è£…RabbitMQ 1ã€å¦‚æžœå¯¹Dockeræ²¡åŸºç¡€ï¼Œè¯¾ç¨‹åŽç»­æœ‰è®²è§£Dockerï¼Œå¯ä»¥å…ˆè·³è½¬è¿‡åŽ»å­¦ä¹ Docker 2ã€å®‰è£…æ­¥éª¤ 1)æ‹‰å–é•œåƒï¼šdocker pull rabbitmq:management 2)æŸ¥çœ‹å½“å‰é•œåƒåˆ—è¡¨ï¼šdocker images 3)åˆ é™¤æŒ‡å®šé•œåƒï¼šdocker rmi IMAGE_ID (å¦‚æžœéœ€è¦å¼ºåˆ¶åˆ é™¤åŠ  -f) 4)åˆ›å»ºå®¹å™¨ docker run -d --name=&quot;myrabbitmq&quot; -p 5671:5671 -p 15672:15672 rabbitmq:management å‚æ•°è®²è§£: run: åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ -d: åŽå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›žå®¹å™¨ID -p: ç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£ --name=&quot;rabbitmq&quot;: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§° 3ã€RabbitMQé»˜è®¤åˆ›å»ºäº†ä¸€ä¸ª guest ç”¨æˆ·ï¼Œå¯†ç ä¹Ÿæ˜¯ guest, å¦‚æžœè®¿é—®ä¸äº†è®°å¾—æŸ¥çœ‹é˜²ç«å¢™ï¼Œç«¯å£æˆ–è€…äº‘æœåŠ¡å™¨çš„å®‰å…¨ç»„ ç®¡ç†åŽå°ï¼šhttp://127.0.0.1:15672 å…¶ä»–å®‰è£…æ–¹å¼ï¼š Linuxå®‰è£…ï¼šhttps://blog.csdn.net/qq_34021712/article/details/72567786 windowså®‰è£…ï¼šhttp://www.rabbitmq.com/install-windows.html https://blog.csdn.net/liyuejin/article/details/78410586 4ã€é«˜çº§ç¯‡å¹…æ¶ˆæ¯æ€»çº¿æ•´åˆé…ç½®ä¸­å¿ƒæž¶æž„æµç¨‹å›¾ ç®€ä»‹ï¼šè®²è§£æ¶ˆæ¯æ€»çº¿Busç»“åˆconfigç»„ä»¶æ­å»ºé…ç½®ä¸­å¿ƒé¡¹ç›®æž¶æž„å›¾å’Œæ“ä½œæµç¨‹ å¯åŠ¨ rabbitmqï¼š docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management rabbitmqé»˜è®¤æ˜¯5672,æ‰€ä»¥æ”¹ä¸º5672ç«¯å£ 1ã€config-clientåŠ å…¥ä¾èµ– &lt;!--é…ç½®ä¸­å¿ƒç»“åˆæ¶ˆæ¯é˜Ÿåˆ—--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt; &lt;/dependency&gt; â€‹â€‹ å®˜æ–¹æ–‡æ¡£ï¼šhttp://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpointâ€‹ æ–‡æ¡£é‡Œé¢ æš´éœ²ç«¯ç‚¹ management.endpoints.web.exposure.include=bus-refreshâ€‹â€‹ 2ã€åœ¨é…ç½®æ–‡ä»¶ä¸­å¢žåŠ å…³äºŽRabbitMQçš„è¿žæŽ¥(å¦‚æžœæ˜¯æœ¬æœºï¼Œåˆ™å¯ä»¥ç›´æŽ¥å¯åŠ¨ï¼Œé‡‡ç”¨é»˜è®¤è¿žæŽ¥é…ç½®)â€‹ spring:â€‹ rabbitmq:â€‹ host: localhostâ€‹ port: 5672â€‹ username: guestâ€‹ password: guestâ€‹â€‹ #æš´éœ²å…¨éƒ¨çš„ç›‘æŽ§ä¿¡æ¯â€‹ management:â€‹ endpoints:â€‹ web:â€‹ exposure:â€‹ include: â€œ*â€â€‹â€‹ 3ã€éœ€è¦åˆ·æ–°é…ç½®çš„åœ°æ–¹ï¼Œå¢žåŠ æ³¨è§£â€‹ @RefreshScopeâ€‹â€‹ 4ã€è®¿é—®éªŒè¯ postæ–¹å¼ï¼šâ€‹ http://localhost:8773/actuator/bus-refresh 5ã€åŠ¨æ€åˆ·æ–°é…ç½®: åœ¨å¼€å‘å’Œæµ‹è¯•çŽ¯å¢ƒä½¿ç”¨ï¼Œå°½é‡å°‘åœ¨ç”Ÿäº§çŽ¯å¢ƒä½¿ç”¨ 5ã€å¾®æœåŠ¡ç›¸å…³é¡¹ç›®æ”¹é€ é…ç½®ä¸­å¿ƒ ç®€ä»‹ï¼šæŠŠè¯¾ç¨‹é¡¹ç›®æ”¹é€ æˆé…ç½®ä¸­å¿ƒè®²è§£ 1ã€gité‡Œé¢æ–°å¢žå¯¹åº”é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œéƒ½è¦æ·»åŠ ä¸‹é¢çš„é…ç½® #æœåŠ¡çš„åç§° spring: rabbitmq: host: localhost port: 5672 username: guest password: guest #æš´éœ²å…¨éƒ¨çš„ç›‘æŽ§ä¿¡æ¯ management: endpoints: web: exposure: include: &quot;*&quot; â€‹â€‹ 2ã€é¡¹ç›®é‡Œé¢æ·»åŠ mavenä¾èµ–â€‹â€‹ â€‹ â€‹ org.springframework.cloudâ€‹ spring-cloud-config-clientâ€‹ â€‹â€‹ â€‹â€‹ â€‹ org.springframework.bootâ€‹ spring-boot-starter-actuatorâ€‹ â€‹â€‹ â€‹ org.springframework.cloudâ€‹ spring-cloud-starter-bus-amqpâ€‹ 3ã€ä¿®æ”¹application.propertiesä¸ºbootstrap.yml å¹¶æ‹·è´é…ç½®æ–‡ä»¶ #æŒ‡å®šæ³¨å†Œä¸­å¿ƒåœ°å€ eureka: client: serviceUrl: defaultZone: http://localhost:8761/eureka/ #æœåŠ¡çš„åç§° spring: application: name: order-service #æŒ‡å®šä»Žå“ªä¸ªé…ç½®ä¸­å¿ƒè¯»å– cloud: config: discovery: service-id: CONFIG-SERVER enabled: true profile: test 4ã€å„ä¸ªé¡¹ç›®å¯åŠ¨é¡ºåº 1ï¼‰æ³¨å†Œä¸­å¿ƒ 2ï¼‰é…ç½®ä¸­å¿ƒ 3ï¼‰å¯¹åº”çš„æœåŠ¡ï¼šå•†å“æœåŠ¡ã€è®¢å•æœåŠ¡ã€‚ã€‚ã€‚ 4ï¼‰å¯åŠ¨ç½‘å…³ ç¬¬åç« ã€SpringCloudè¯¾ç¨‹å†…å®¹ä¸ŠåŠéƒ¨åˆ†æ€»ç»“â€‹ 1ã€å¾®æœåŠ¡æ ¸å¿ƒçŸ¥è¯†å†…å®¹å›žé¡¾ ç®€ä»‹ï¼šå›žé¡¾SpringCloudå‰é¢10ç« çš„åŸºç¡€å†…å®¹ 1)ä»‹ç»å¾®æœåŠ¡çš„åŸºç¡€çŸ¥è¯†ï¼Œæ ¸å¿ƒç»„ä»¶ï¼ŒCAPåŽŸç† 2ï¼‰SpringCloudæ³¨å†Œä¸­å¿ƒ Eureka 3ï¼‰product-service / order-service 4) ä¼ªRPC Ribbon / feign 5) hystrixç†”æ–­ 6) æœåŠ¡ç½‘å…³ä»‹ç»ï¼Œzuul 7ï¼‰é…ç½®ä¸­å¿ƒconfig-server â€‹ 2ã€å¾®æœåŠ¡ä¸‹åŠéƒ¨åˆ†çŸ¥è¯† äº‘æœåŠ¡å™¨å’ŒDockerå®¹å™¨ ç®€ä»‹ï¼šè®²è§£äº‘æœåŠ¡å™¨å’Œå®¹å™¨çŸ¥è¯† â€‹ ç¬¬åä¸€ç«  é˜¿é‡Œäº‘ECSæœåŠ¡å™¨ä»‹ç»å’Œç½‘ç»œçŸ¥è¯†è®²è§£ 1ã€äº‘æœåŠ¡å™¨ä»‹ç»å’Œé˜¿é‡Œäº‘æœåŠ¡å™¨ECSæœåŠ¡å™¨é€‰è´­ ç®€ä»‹ï¼šä»€ä¹ˆæ˜¯äº‘æœåŠ¡å™¨åŠç›®å‰ä¸»è¦çš„å‡ ä¸ªåŽ‚å•†ä»‹ç» 1ã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€äºšé©¬é€Šäº‘ é˜¿é‡Œäº‘ï¼šhttps://www.aliyun.com/ è…¾è®¯äº‘ï¼šhttps://cloud.tencent.com/ äºšé©¬é€Šäº‘ï¼šhttps://aws.amazon.com/ â€‹â€‹ 2ã€é˜¿é‡Œäº‘æœåŠ¡å™¨è¿œç¨‹ç™»å½•å’Œå¸¸ç”¨å·¥å…·â€‹ ç®€ä»‹ï¼šè®²è§£é˜¿é‡Œäº‘æœåŠ¡å™¨ç™»å½•ä½¿ç”¨å’Œå¸¸è§ç»ˆç«¯å·¥å…·â€‹ 1ã€windowså·¥å…· puttyï¼Œxshell, securityâ€‹ å‚è€ƒèµ„æ–™ï¼šâ€‹ https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.htmlâ€‹ https://www.jb51.net/softjc/88235.htmlâ€‹â€‹ 2ã€è‹¹æžœç³»ç»ŸMACï¼š é€šè¿‡ç»ˆç«¯ç™»å½•â€‹ ssh root@ip å›žè½¦åŽè¾“å…¥å¯†ç â€‹ ssh root@120.25.1.38â€‹â€‹ 3ã€å¯ä»¥å°è¯•è‡ªå·±é€šè¿‡ç™¾åº¦è¿›è¡Œæ‰¾æ–‡æ¡£ï¼Œ å®‰è£…mysql jdk nginx maven git redis elk 3ã€äº’è”ç½‘æž¶æž„çŸ¥è¯†ä¹‹ç½‘ç«™éƒ¨ç½²ä¸Šçº¿åŸºç¡€å‡†å¤‡â€‹ ç®€ä»‹ï¼šè®²è§£åº”ç”¨éƒ¨ç½²åˆ°å¯ä»¥å…¬ç½‘è®¿é—®éœ€è¦æ­¥éª¤ 1ã€ä¸€ä¸ªhttpè¯·æ±‚çš„æ•…äº‹ 2ã€ä»€ä¹ˆæ˜¯cnameå’Œaè®°å½• Aè®°å½•å’ŒCNAMEåªå¯ä»¥åŒæ—¶ç”Ÿæ•ˆä¸€ä¸ªï¼ŒAè®°å½•ä¼˜å…ˆ 3ã€åŸŸåå’Œipçš„å…³ç³»ï¼ŒDNSä½œç”¨ å‚è€ƒèµ„æ–™ï¼š https://blog.csdn.net/benbenzhuhwp/article/details/44704319 https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;ch=1&amp;tn=98050039_dg&amp;wd=%E4%B8%80%E4%B8%AAhttp%E8%AF%B7%E6%B1%82%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B&amp;rsv_pq=80a65c5f00005961&amp;rsv_t=a5fcWreuJzILdSwr4gI8pFqlO7HSu5BlhjwalyVzPiV9w2L%2BKEj78pPi1Qn6Vx4wXxI&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=8&amp;rsv_sug1=8&amp;rsv_sug7=100&amp;sug=%25E4%25B8%2580%25E4%25B8%25AAhttp%25E8%25AF%25B7%25E6%25B1%2582%25E7%259A%2584%25E8%25AF%25A6%25E7%25BB%2586%25E8%25BF%2587%25E7%25A8%258B&amp;rsv_n=1 4ã€åŸŸåè´­ä¹°å’Œé…ç½®è§£æžå®žæˆ˜â€‹ ç®€ä»‹ï¼šåŸŸåè´­ä¹°å’Œé…ç½®è§£æžå®žæˆ˜ 1ã€è´­ä¹°åŸŸåï¼Œå¤‡æ¡ˆ é˜¿é‡Œäº‘ å¤‡æ¡ˆåœ°å€ï¼šhttps://beian.aliyun.com/ 2ã€è´­ä¹°æœåŠ¡å™¨ï¼Œé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œäºšé©¬é€Šäº‘aws 3ã€é…ç½®åŸŸåè§£æžåˆ°æœåŠ¡å™¨ â€‹ â€‹ç¬¬åäºŒç«  å¾®æœåŠ¡å¿…å¤‡æŠ€èƒ½Dockerå®¹å™¨åŸºç¡€ç¯‡å¹…â€‹â€‹ 1ã€å¾®æœåŠ¡ä¸‹çš„Dockerä»‹ç»å’Œä½¿ç”¨åœºæ™¯â€‹ ç®€ä»‹ï¼šDockerä»‹ç»å’Œä½¿ç”¨åœºæ™¯â€‹â€‹ 1ã€ä»€ä¹ˆæ˜¯Dokcerâ€‹ ç™¾ç§‘:ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“Žï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åŽå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®žçŽ°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æŽ¥å£ï¼›â€‹â€‹ ä½¿ç”¨goè¯­è¨€ç¼–å†™ï¼Œåœ¨LCXï¼ˆlinuxå®¹å™¨ï¼‰åŸºç¡€ä¸Šè¿›è¡Œçš„å°è£…â€‹â€‹ ç®€å•æ¥è¯´ï¼šâ€‹ 1ï¼‰å°±æ˜¯å¯ä»¥å¿«é€Ÿéƒ¨ç½²å¯åŠ¨åº”ç”¨â€‹ 2ï¼‰å®žçŽ°è™šæ‹ŸåŒ–ï¼Œå®Œæ•´èµ„æºéš”ç¦»â€‹ 3ï¼‰ä¸€æ¬¡ç¼–å†™ï¼Œå››å¤„è¿è¡Œï¼ˆæœ‰ä¸€å®šçš„é™åˆ¶ï¼Œæ¯”å¦‚Dockeræ˜¯åŸºäºŽLinux 64bitçš„ï¼Œæ— æ³•åœ¨32bitçš„linux/Windows/unixçŽ¯å¢ƒä¸‹ä½¿ç”¨ï¼‰â€‹â€‹ 2ã€ä¸ºä»€ä¹ˆè¦ç”¨â€‹ 1ã€æä¾›ä¸€æ¬¡æ€§çš„çŽ¯å¢ƒï¼Œå‡å¦‚éœ€è¦å®‰è£…Mysqlï¼Œåˆ™éœ€è¦å®‰è£…å¾ˆå¤šä¾èµ–åº“ã€ç‰ˆæœ¬ç­‰ï¼Œå¦‚æžœä½¿ç”¨Dockeråˆ™é€šè¿‡é•œåƒå°±å¯ä»¥ç›´æŽ¥å¯åŠ¨è¿è¡Œâ€‹ 2ã€å¿«é€ŸåŠ¨æ€æ‰©å®¹ï¼Œä½¿ç”¨dockeréƒ¨ç½²äº†ä¸€ä¸ªåº”ç”¨ï¼Œå¯ä»¥åˆ¶ä½œæˆé•œåƒï¼Œç„¶åŽé€šè¿‡Dokcerå¿«é€Ÿå¯åŠ¨ 3ã€ç»„å»ºå¾®æœåŠ¡æž¶æž„ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæœºå™¨ä¸Šæ¨¡æ‹Ÿå‡ºå¤šä¸ªå¾®æœåŠ¡ï¼Œå¯åŠ¨å¤šä¸ªåº”ç”¨ 4ã€æ›´å¥½çš„èµ„æºéš”ç¦»å’Œå…±äº« ä¸€å¥è¯ï¼šå¼€ç®±å³ç”¨ï¼Œå¿«é€Ÿéƒ¨ç½²ï¼Œå¯ç§»æ¤æ€§å¼ºï¼ŒçŽ¯å¢ƒéš”ç¦» 2ã€Linuxäº‘æœåŠ¡å™¨Centos7å®‰è£…Dockerå®žæˆ˜ ç®€ä»‹ï¼šè®²è§£é˜¿é‡Œäº‘ECSæœåŠ¡å®‰è£…Dockerå®žæˆ˜ Linux Standard Baseçš„ç¼©å†™ï¼Œlsb_releaseå‘½ä»¤ç”¨æ¥æ˜¾ç¤ºLSBå’Œç‰¹å®šç‰ˆæœ¬çš„ç›¸å…³ä¿¡æ¯ å‘½ä»¤ï¼š lsb_release -a é˜¿é‡Œäº‘å®‰è£…æ‰‹å†Œï¼š https://help.aliyun.com/document_detail/51853.html?spm=a2c4g.11186623.6.820.RaToNY å¸¸è§é—®é¢˜ï¼š https://blog.csdn.net/daluguishou/article/details/52080250 3ã€Dockerä»“åº“ã€é•œåƒã€å®¹å™¨æ ¸å¿ƒçŸ¥è¯†è®²è§£ ç®€ä»‹ï¼šå¿«é€ŸæŽŒæ¡DokceråŸºç¡€çŸ¥è¯†ï¼Œ 1ã€æ¦‚å¿µï¼š Docker é•œåƒ - Docker imagesï¼š å®¹å™¨è¿è¡Œæ—¶çš„åªè¯»æ¨¡æ¿ï¼Œæ“ä½œç³»ç»Ÿ+è½¯ä»¶è¿è¡ŒçŽ¯å¢ƒ+ç”¨æˆ·ç¨‹åº class User{ private String userName; private int age; } Docker å®¹å™¨ - Docker containersï¼š å®¹å™¨åŒ…å«äº†æŸä¸ªåº”ç”¨è¿è¡Œæ‰€éœ€è¦çš„å…¨éƒ¨çŽ¯å¢ƒ User user = new User() Docker ä»“åº“ - Docker registeriesï¼š ç”¨æ¥ä¿å­˜é•œåƒï¼Œæœ‰å…¬æœ‰å’Œç§æœ‰ä»“åº“ï¼Œå¥½æ¯”Mavençš„ä¸­å¤®ä»“åº“å’Œæœ¬åœ°ç§æœ é•œåƒä»“åº“ï¼š ï¼ˆå‚è€ƒï¼‰é…ç½®å›½å†…é•œåƒä»“åº“ï¼šhttps://blog.csdn.net/zzy1078689276/article/details/77371782 å¯¹æ¯”é¢å‘å¯¹è±¡çš„æ–¹å¼ Dokcer é‡Œé¢çš„é•œåƒ : Javaé‡Œé¢çš„ç±» Class Docker é‡Œé¢çš„å®¹å™¨ : Javaé‡Œé¢çš„å¯¹è±¡ Object é€šè¿‡ç±»åˆ›å»ºå¯¹è±¡ï¼Œé€šè¿‡é•œåƒåˆ›å»ºå®¹å™¨ 4ã€Dockerå®¹å™¨å¸¸è§å‘½ä»¤å®žæˆ˜ ç®€ä»‹ï¼šè®²è§£Dockeråœ¨äº‘æœåŠ¡ä¸Šçš„å®žé™…åº”ç”¨ 1ã€ å¸¸ç”¨å‘½ä»¤ï¼ˆå®‰è£…éƒ¨ç½²å¥½DokceråŽï¼Œæ‰§è¡Œçš„å‘½ä»¤æ˜¯dockerå¼€å¤´ï¼‰,xxxæ˜¯é•œåƒåç§° æœç´¢é•œåƒï¼šdocker search xxx åˆ—å‡ºå½“å‰ç³»ç»Ÿå­˜åœ¨çš„é•œåƒï¼šdocker images æ‹‰å–é•œåƒï¼šdocker pull xxx xxxæ˜¯å…·ä½“æŸä¸ªé•œåƒåç§°(æ ¼å¼ REPOSITORY:TAG) REPOSITORYï¼šè¡¨ç¤ºé•œåƒçš„ä»“åº“æº,TAGï¼šé•œåƒçš„æ ‡ç­¾ è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼šdocker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 rabbitmq:management docker run - è¿è¡Œä¸€ä¸ªå®¹å™¨ -d åŽå°è¿è¡Œ -p ç«¯å£æ˜ å°„ rabbitmq:management (æ ¼å¼ REPOSITORY:TAG)ï¼Œå¦‚æžœä¸æŒ‡å®štagï¼Œé»˜è®¤ä½¿ç”¨æœ€æ–°çš„ --name &quot;xxx&quot; åˆ—ä¸¾å½“å‰è¿è¡Œçš„å®¹å™¨ï¼šdocker ps æ£€æŸ¥å®¹å™¨å†…éƒ¨ä¿¡æ¯ï¼šdocker inspect å®¹å™¨åç§° åˆ é™¤é•œåƒï¼šdocker rmi IMAGE_NAME å¼ºåˆ¶ç§»é™¤é•œåƒä¸ç®¡æ˜¯å¦æœ‰å®¹å™¨ä½¿ç”¨è¯¥é•œåƒ å¢žåŠ  -f å‚æ•°ï¼Œ åœæ­¢æŸä¸ªå®¹å™¨ï¼šdocker stop å®¹å™¨åç§° å¯åŠ¨æŸä¸ªå®¹å™¨ï¼šdocker start å®¹å™¨åç§° ç§»é™¤æŸä¸ªå®¹å™¨ï¼š docker rm å®¹å™¨åç§° ï¼ˆå®¹å™¨å¿…é¡»æ˜¯åœæ­¢çŠ¶æ€ï¼‰ æ–‡æ¡£ï¼š https://blog.csdn.net/permike/article/details/51879578 5ã€å®žæˆ˜åº”ç”¨ä¹‹ä½¿ç”¨Dockeréƒ¨ç½²NginxæœåŠ¡å™¨ ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨Dockeréƒ¨ç½²NginxæœåŠ¡å™¨å®žæˆ˜ 1ã€èŽ·å–é•œåƒ docker run (é¦–å…ˆä¼šä»Žæœ¬åœ°æ‰¾é•œåƒï¼Œå¦‚æžœæœ‰åˆ™ç›´æŽ¥å¯åŠ¨ï¼Œæ²¡æœ‰çš„è¯ï¼Œä»Žé•œåƒä»“åº“æ‹‰èµ·ï¼Œå†å¯åŠ¨) docker search nignx 2ã€åˆ—ä¸¾ docker images 3ã€æ‹‰å– docker pull nignx 3ã€å¯åŠ¨ docker run -d --name &quot;xdclass_nginx&quot; -p 8088:80 nginx docker run -d --name &quot;xdclass_nginx2&quot; -p 8089:80 nginx docker run -d --name &quot;xdclass_nginx3&quot; -p 8090:80 nginx 4ã€è®¿é—® å¦‚æžœæ˜¯é˜¿é‡Œäº‘æœåŠ¡ï¼Œè®°å¾—é…ç½®å®‰å…¨ç»„ï¼Œè…¾è®¯äº‘ä¹Ÿéœ€è¦é…ç½®ï¼Œè¿™ä¸ªå°±æ˜¯ä¸€ä¸ªé˜²ç«å¢™ 6ã€å…¬å¸ä¸­Dockeré•œåƒä»“åº“ä½¿ç”¨è®²è§£ ç®€ä»‹ï¼šè®²è§£ä¸€èˆ¬å…¬å¸ä¸­é•œåƒä»“åº“åœ¨çš„ä½¿ç”¨ 1ã€ä¸ºå•¥è¦ç”¨é•œåƒä»“åº“ 2ã€å®˜æ–¹å…¬å…±é•œåƒä»“åº“å’Œç§æœ‰é•œåƒä»“åº“ å…¬å…±é•œåƒä»“åº“ï¼š å®˜æ–¹ï¼šhttps://hub.docker.com/ï¼ŒåŸºäºŽå„ä¸ªè½¯ä»¶å¼€å‘æˆ–è€…æœ‰è½¯ä»¶æä¾›å•†å¼€å‘çš„ éžå®˜æ–¹ï¼šå…¶ä»–ç»„ç»‡æˆ–è€…å…¬å¸å¼€å‘çš„é•œåƒï¼Œä¾›å¤§å®¶å…è´¹è¯•ç”¨ ç§æœ‰é•œåƒä»“åº“ï¼š ç”¨äºŽå­˜æ”¾å…¬å¸å†…éƒ¨çš„é•œåƒï¼Œä¸æä¾›ç»™å¤–éƒ¨è¯•ç”¨ï¼› SpringCloud å¼€å‘äº†ä¸€ä¸ªæ”¯ä»˜ç³»ç»Ÿ -ã€‹åšæˆä¸€ä¸ªé•œåƒ ï¼ˆæ“ä½œç³»ç»Ÿ+è½¯ä»¶è¿è¡ŒçŽ¯å¢ƒ+ç”¨æˆ·ç¨‹åºï¼‰ 7ã€é«˜çº§ç¯‡å¹…ä¹‹æž„å»ºè‡ªå·±çš„é•œåƒä»“åº“ ç®€ä»‹ï¼šä½¿ç”¨é˜¿é‡Œäº‘æ­å»ºè‡ªå·±çš„é•œåƒä»“åº“ 1ã€é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼šhttps://dev.aliyun.com/search.html ç‚¹å‡»ç®¡ç†æŽ§åˆ¶å°-ã€‹åˆæ¬¡ä½¿ç”¨ä¼šæç¤ºå¼€é€šï¼Œç„¶åŽè®¾ç½®å¯†ç  xdclass.net123 2ã€ä½¿ç”¨é˜¿é‡Œäº‘ç§æœ‰é•œåƒä»“åº“ 1)ç™»å½•ï¼š docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com 2) æŽ¨é€æœ¬åœ°é•œåƒï¼š docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:[é•œåƒç‰ˆæœ¬å·] ä¾‹å­ï¼š docker tag 2f415b0e9a6e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 3)æ‹‰å–é•œåƒ çº¿ä¸ŠæœåŠ¡å™¨æ‹‰å–é•œåƒï¼š docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 å¯åŠ¨å®¹å™¨ï¼š docker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 2f415b0e9a6e ç¬¬åä¸‰ç«  å¾®æœåŠ¡é«˜çº§ç¯‡å¹…SpringCloudå’ŒDockeræ•´åˆéƒ¨ç½²â€‹â€‹ ç¬¬1è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æž„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸Šé›†â€‹â€‹ ç®€ä»‹:ä½¿ç”¨Dockerçš„mavenæ’ä»¶ï¼Œæž„å»ºspringbootåº”ç”¨â€‹ å®˜æ–¹æ–‡æ¡£ï¼šhttps://spring.io/guides/gs/spring-boot-docker/ 1ã€æ­¥éª¤ï¼šmavené‡Œé¢æ·»åŠ é…ç½®pom.xml &lt;properties&gt; &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt; &lt;/properties&gt; &lt;build&gt; &lt;finalName&gt;docker-demo&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.6&lt;/version&gt; &lt;configuration&gt; &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt; &lt;buildArgs&gt; &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt; &lt;/buildArgs&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; é…ç½®è®²è§£ Spotify çš„ docker-maven-plugin æ’ä»¶æ˜¯ç”¨mavenæ’ä»¶æ–¹å¼æž„å»ºdockeré•œåƒçš„ã€‚ ${project.build.finalName} äº§å‡ºç‰©åç§°ï¼Œç¼ºçœä¸º${project.artifactId}-${project.version} =============================================æ›´å¤šå¹²è´§æŠ€æœ¯è®¿é—®å°Dè¯¾å ‚å®˜ç½‘ https://xdclass.netå°Dè€å¸ˆä¸ªäººå¾®ä¿¡ï¼šjack794666918 å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚ç¬¬2è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æž„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸‹é›† ç®€ä»‹:æ‰“åŒ…SpringCloudé•œåƒå¹¶ä¸Šä¼ ç§æœ‰ä»“åº“å¹¶éƒ¨ç½² 1ã€åˆ›å»ºDockerfile,é»˜è®¤æ˜¯æ ¹ç›®å½•ï¼Œï¼ˆå¯ä»¥ä¿®æ”¹ä¸ºsrc/main/docker/Dockerfile,å¦‚æžœä¿®åˆ™éœ€è¦åˆ¶å®šè·¯å¾„ï¼‰ ä»€ä¹ˆæ˜¯Dockerfile : ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æž„æˆçš„è„šæœ¬ï¼Œè¿™äº›å‘½ä»¤åº”ç”¨äºŽåŸºç¡€é•œåƒ, æœ€ç»ˆåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ FROM openjdk:8-jdk-alpine VOLUME /tmp ARG JAR_FILE COPY ${JAR_FILE} app.jar ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] å‚æ•°è®²è§£ï¼š FROM &lt;image&gt;:&lt;tag&gt; éœ€è¦ä¸€ä¸ªåŸºç¡€é•œåƒï¼Œå¯ä»¥æ˜¯å…¬å…±çš„æˆ–è€…æ˜¯ç§æœ‰çš„ï¼Œ åŽç»­æž„å»ºä¼šåŸºäºŽæ­¤é•œåƒï¼Œå¦‚æžœåŒä¸€ä¸ªDockerfileä¸­å»ºç«‹å¤šä¸ªé•œåƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªFROMæŒ‡ä»¤ VOLUME é…ç½®ä¸€ä¸ªå…·æœ‰æŒä¹…åŒ–åŠŸèƒ½çš„ç›®å½•ï¼Œä¸»æœº /var/lib/docker ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶é“¾æŽ¥åˆ°å®¹å™¨çš„/tmpã€‚æ”¹æ­¥éª¤æ˜¯å¯é€‰çš„ï¼Œå¦‚æžœæ¶‰åŠåˆ°æ–‡ä»¶ç³»ç»Ÿçš„åº”ç”¨å°±å¾ˆæœ‰å¿…è¦äº†ã€‚/tmpç›®å½•ç”¨æ¥æŒä¹…åŒ–åˆ° Docker æ•°æ®æ–‡ä»¶å¤¹ï¼Œå› ä¸º Spring Boot ä½¿ç”¨çš„å†…åµŒ Tomcat å®¹å™¨é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½• ARG è®¾ç½®ç¼–è¯‘é•œåƒæ—¶åŠ å…¥çš„å‚æ•°ï¼Œ ENV æ˜¯è®¾ç½®å®¹å™¨çš„çŽ¯å¢ƒå˜é‡ COPY : åªæ”¯æŒå°†æœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ ,è¿˜æœ‰ä¸ªADDæ›´å¼ºå¤§ä½†å¤æ‚ç‚¹ ENTRYPOINT å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ EXPOSE 8080 æš´éœ²é•œåƒç«¯å£ 2ã€æž„å»ºé•œåƒ mvn install dockerfile:build æ‰“æ ‡ç­¾ docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 æŽ¨é€åˆ°é•œåƒä»“åº“ docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 åº”ç”¨æœåŠ¡å™¨æ‹‰å–é•œåƒ docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 docker run -d --name xdclass_docker_demo1 -p 8099:8080 a1b9fc71720d 3ã€æŸ¥çœ‹å¯åŠ¨æ—¥å¿— docker logs -f containerid æ–‡æ¡£ï¼šhttps://yeasy.gitbooks.io/docker_practice/image/dockerfile/ ç¬¬3è¯¾ å®žæˆ˜ç³»åˆ—ä¹‹æ³¨å†Œä¸­å¿ƒæ‰“åŒ…Dockeré•œåƒ ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨Dockeræ‰“åŒ…æ³¨å†Œä¸­å¿ƒï¼Œä¸Šä¼ ç§æœ‰é•œåƒä»“åº“å¹¶éƒ¨ç½² 1ã€æ–°å¢žmavenæ’ä»¶ &lt;properties&gt; &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt; &lt;/properties&gt; &lt;build&gt; &lt;finalName&gt;docker-demo&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.6&lt;/version&gt; &lt;configuration&gt; &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt; &lt;buildArgs&gt; &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt; &lt;/buildArgs&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; 2ã€æ–°å»ºDockerfile FROM openjdk:8-jdk-alpine VOLUME /tmp ARG JAR_FILE COPY ${JAR_FILE} app.jar ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] 3ã€æ‰“åŒ…ï¼š mvn install dockerfile:build 4ã€æŽ¨é€é˜¿é‡Œäº‘é•œåƒä»“åº“ é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼šhttps://dev.aliyun.com/search.html docker tag 062d2ddf272a registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825 5ã€æŸ¥çœ‹æ—¥å¿— docker logs -f containerid ç¬¬4è¯¾ å®žæˆ˜ç³»åˆ—ä¹‹éƒ¨ç½²RabbitMQå’Œé…ç½®ä¸­å¿ƒæ‰“åŒ…Dockeré•œåƒ ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨Dockeræ‰“åŒ…é…ç½®ä¸­å¿ƒï¼Œå’Œéƒ¨ç½²RabbitMQ 1ã€æœåŠ¡åœ°å€ ssh root@47.106.120.173 éƒ¨ç½² rabbitmqï¼š docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management 2ã€æŽ¨é€é•œåƒ docker tag 0f636543904e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 5ã€å¸¸è§é—®é¢˜å¤„ç†ä¹‹å‡çº§äº‘æœåŠ¡å™¨ ç®€ä»‹ï¼šå¤„ç†ä¸ŠèŠ‚è¯¾å‡ºçŽ°çš„é—®é¢˜ï¼Œå‡çº§æœåŠ¡å™¨æ³¨æ„äº‹é¡¹ 1ã€å‡çº§äº‘æœåŠ¡å™¨é…ç½®ï¼ˆè´­ä¹°é…ç½®åŽéœ€è¦é‡å¯æœºå™¨æ‰ç”Ÿæ•ˆï¼‰ 2ã€å¯åŠ¨å®ŒæˆåŽï¼Œéœ€è¦å¼€å¯docker æŒ‡ä»¤ï¼š systemctl start docker 3ã€æ‰€æœ‰å¯¹å¤–çš„éƒ½è¦ç»è¿‡ç½‘å…³æ‰å¯ä»¥å¯¹å¤–ï¼Œåº”ç”¨é—´é€šä¿¡(é™¤éžè·¨æœºæˆ¿)éƒ½ç”¨å†…ç½‘é€šä¿¡ 6ã€å®žæˆ˜ç³»åˆ—ä¹‹Dockeréƒ¨ç½²Redis ç®€ä»‹ï¼šä½¿ç”¨Dockerå®‰è£…redis 1ã€æœç´¢é•œåƒ docker search redis 2ã€æ‹‰å– docker pull docker.io/redis 3ã€å¯åŠ¨ docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d å‚è€ƒï¼š docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d --requirepass &quot;123456&quot; -v $PWD/data:/data 4ã€è®¿é—®rediså®¹å™¨é‡Œé¢ï¼Œè¿›è¡Œæ“ä½œ docker exec -it 295058d2b92e redis-cli 7ã€ç”Ÿäº§çŽ¯å¢ƒå¸¸è§é—®é¢˜ä¹‹é…ç½®ä¸­å¿ƒè®¿é—® ç®€ä»‹ï¼šè®²è§£ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²å¸¸è§é—®é¢˜ï¼Œé…ç½®ä¸­å¿ƒè®¿é—®è·¯å¾„å˜åŒ– 1ã€é…ç½®ä¸­å¿ƒè®¿é—®å‡ºé”™ï¼Œè·¯å¾„ä¸å¯¹ è§£å†³ï¼šä¿®æ”¹æ‰€æœ‰çš„æ³¨å†Œä¸­å¿ƒï¼Œå¢žåŠ ä¸‹é¢é…ç½® instance: instance-id: ${spring.cloud.client.ip-address}:${server.port} prefer-ip-address: true docker tag 50a12cd66210 registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180826 8ã€å®žæˆ˜ç³»åˆ—ä¹‹æ‰“åŒ…Dockeré•œåƒæ‰“åŒ…å•†å“æœåŠ¡å’Œè®¢å•æœåŠ¡ã€ç½‘å…³ ç®€ä»‹:æ‰“åŒ…Dockeré•œåƒéƒ¨ç½²å•†å“æœåŠ¡å’Œè®¢å•æœåŠ¡ã€ç½‘å…³ æ³¨æ„ï¼š 1ã€mavenæ‰“åŒ…æž„å»ºï¼Œä¼šè§¦å‘å•å…ƒæµ‹è¯•ï¼Œéƒ¨åˆ†æƒ…å†µå¯ä»¥è·³è¿‡ï¼Œ mvn install -Dmaven.test.skip=true dockerfile:build 2ã€ç”Ÿäº§çŽ¯å¢ƒä¸èƒ½ç”¨localhost æˆ–è€… 127.0.0.1, ä¸€å®šè¦ç”¨å†…ç½‘é€šä¿¡ip (è™šæ‹Ÿä¸»æœºæ˜ å°„ hosts) 9ã€å®žæˆ˜ç³»åˆ—äº‘æœåŠ¡å™¨éƒ¨ç½²ç½‘å…³ã€è®¢å•ã€å•†å“æœåŠ¡ ç®€ä»‹ï¼šäº‘æœåŠ¡éƒ¨ç½²å•†å“æœåŠ¡ã€è®¢å•æœåŠ¡ã€ç½‘å…³æœåŠ¡ 1ã€æ‹‰å–é•œåƒã€å¯åŠ¨ è®¿é—®è·¯å¾„ http://47.106.120.173:8781/api/v1/order/save?product_id=5&amp;user_id=5 http://47.106.120.173:9000/apigateway/order/api/v1/order/save?user_id=5&amp;product_id=3&amp;token=232serer ç¬¬åå››ç«  è¯¾ç¨‹æ€»ç»“å’Œå¸¸è§é—®é¢˜å¤„ç† 1ã€SpringCloudå¾®æœåŠ¡å¸¸è§é—®é¢˜å’Œè§£å†³æ€è·¯ ç®€ä»‹ï¼šè®²è§£SpringCloudå¼€å‘å®žæˆ˜å¸¸è§é—®é¢˜ï¼ŒåŠè§£å†³æ€è·¯ 1ã€æŠ€æœ¯é€‰æ‹©ï¼šSpringCloudå…¨å®¶æ¡¶ï¼Œæ¯ä¸ªç»„ä»¶åˆæœ‰å¤šä¸ªæ›¿ä»£ï¼Œæ”¹æ€Žä¹ˆé€‰æ‹© 1ï¼‰é€‰æ‹©çš„æ—¶å€™æ ¹æ®å…¬å¸é‡Œé¢å›¢é˜Ÿäººå‘˜ç†Ÿæ‚‰ç¨‹åº¦ï¼Œé™ä½Žå­¦ä¹ æˆæœ¬ 2ï¼‰é€‰æ‹©ç¤¾åŒºæ´»è·ƒçš„å¹¶ä¸”æ–‡æ¡£ç›¸å¯¹è¾ƒå¤šçš„ï¼Œæ€Žä¹ˆåˆ¤æ–­æ´»è·ƒï¼Œå¯ä»¥çœ‹githubä¸Šä»£ç æäº¤å’Œstartæ•° 2ã€äº‘æœåŠ¡é€‰æ‹©ï¼š è…¾è®¯äº‘ï¼Œé˜¿é‡Œäº‘ ï¼Œé‡åˆ°é—®é¢˜å¯ä»¥æäº¤å·¥å•ï¼Œæœ‰ä¸“äººè·Ÿè¿› â€‹â€‹ 3ã€éƒ¨ç½²äº†åº”ç”¨ï¼Œä½†æ˜¯è®¿é—®ä¸äº†â€‹ è§£å†³æ€è·¯ï¼šâ€‹ 1)æŸ¥çœ‹åº”ç”¨å¯åŠ¨æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æžœæœ‰é”™è¯¯æ—¥å¿—ï¼Œå¤åˆ¶é”™è¯¯æ—¥å¿—åŽ»ç™¾åº¦æœç´¢ï¼ï¼ï¼ï¼ï¼ï¼ï¼ç‰¹åˆ«é‡è¦â€‹â€‹ 2ï¼‰å¯åŠ¨æ­£å¸¸ï¼Œåˆ™å…ˆåœ¨æœ¬æœºä½¿ç”¨ CURL â€œhttp://lcoalhost:8080/api/v1/user/find&quot; è®¿é—®å¯¹åº”çš„æŽ¥å£ï¼Œçœ‹æ˜¯å¦æœ‰å“åº”â€‹â€‹ 3ï¼‰å¯åŠ¨æ­£å¸¸ï¼Œä¸”curlæœ‰å“åº”ï¼Œåˆ™æ£€æŸ¥æ˜¯å¦æœ‰å…³é—­é˜²ç«å¢™ï¼Œæˆ–è€…å¼€æ”¾å¯¹åº”çš„è®¿é—®ç«¯å£ï¼Œå¼€æ”¾ç«¯å£æ‰å¯ä»¥è®¿é—®â€‹â€‹ 4ï¼‰è…¾è®¯äº‘å’Œé˜¿é‡Œäº‘éƒ½æ˜¯æœ‰å®‰å…¨ç»„ï¼Œç±»ä¼¼å¤–å±‚é˜²ç«å¢™ï¼Œä¸€å®šè¦åŽ»webæŽ§åˆ¶å°æ£€æŸ¥æ˜¯å¦æœ‰å¼€å¯ç«¯å£ 4ã€å†…ç½‘å’Œå¤–ç½‘è®¿é—®ï¼Œé‰´æƒé—®é¢˜å®‰å…¨é—®é¢˜ 1ï¼‰æ‰€æœ‰åº”ç”¨åªèƒ½é€šè¿‡ç½‘å…³æä¾›å¯¹å¤–è®¿é—®çš„å…¥å£ 2ï¼‰åº”ç”¨ç¨‹åºä¹‹é—´é€šè®¯ï¼Œé‡‡ç”¨å†…ç½‘ 5ã€ç¨‹åºå‡ºé”™æˆ–è€…å¼‚å¸¸: å¤åˆ¶é”™è¯¯æ—¥å¿—åŽ»ç™¾åº¦æœç´¢ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šäººä¼šé‡åˆ°ç±»ä¼¼çš„é”™è¯¯ï¼Œå¤šç§¯ç´¯ï¼Œç‰¹åˆ«å¼ºè°ƒ 2ã€è¯¾ç¨‹æ€»ç»“å’ŒåŽç»­æŠ€æœ¯è§„åˆ’ ç®€ä»‹ï¼šæ€»ç»“SpringCloudè¯¾ç¨‹å’Œå¾®æœåŠ¡åŽç»­è¯¾ç¨‹è§„åˆ’ 1ã€springCloudå…¨å®¶æ¡¶ï¼ŒæŠ€æœ¯é€‰æ‹©å’ŒçŸ¥è¯†ç‚¹ç‰¹åˆ«å¤šï¼Œä¸€å®šè¦å­¦ä¼šè®°ç¬”è®°ï¼Œå¾®æœåŠ¡æ›´å¤šå…³æ³¨çš„æ˜¯é‡Œé¢æž¶æž„å’Œæ•°æ®æµè½¬ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ä¸šåŠ¡ã€‚ 2ã€SpringCloudæž¶æž„è¿™äº›é…ç½®ï¼Œä¸€èˆ¬ä½¿ç”¨ä¸€æ¬¡åŽå°±ä¸ä¼šå¤šæ¬¡ä¿®æ”¹äº†ï¼Œè¿›å…¥å…¬å¸ä¸»è¦è¿˜æ˜¯å¼€å‘ä¸šåŠ¡ï¼Œä¸šåŠ¡å¼€å‘ä¸€èˆ¬éƒ½ç”¨springbootï¼Œæ¯”è¾ƒå°‘è®©æ–°äººæ­å»ºSpringCloudçš„æž¶æž„ 3ã€å¼€å‘ä¸šåŠ¡ï¼Œæ— éžå°±æ˜¯CRUDï¼Œå¢žåˆ æ”¹æŸ¥ï¼Œåªä¸è¿‡æ˜¯åˆçº§å’Œé«˜çº§çš„åŒºåˆ«ï¼Œå°è£…æˆé€šç”¨å’Œä¸é€šç”¨çš„åŒºåˆ« â€‹â€‹ 4ã€å¾®æœåŠ¡å’Œå®¹å™¨ç››è¡Œçš„æƒ…å†µä¸‹ï¼Œå®¹å™¨ç¼–æŽ’å’Œè‡ªåŠ¨ç¼©æ‰©å®¹è¶Šæ¥è¶Šé‡è¦â€‹â€‹ å¯ä»¥å…³æ³¨ï¼šk8s / service mesh /server less ç­‰æŠ€æœ¯ â€‹â€‹ æ€»ç»“ï¼šâ€‹ 1ï¼‰åŽç»­ä¼šæŽ¨å‡ºå¯¹åº”çš„è¯¾ç¨‹ï¼Œè¿˜æœ‰é¡¹ç›®å®žæˆ˜ç³»åˆ—ï¼Œå¤§å®¶è®°å¾—å…³æ³¨ å°Dè¯¾å ‚ï¼Œå®˜ç½‘ ï¼šhttps://xdclass.net,â€‹â€‹ 2ï¼‰ä¹Ÿå¯ä»¥åŠ æˆ‘å¾®ä¿¡äº¤æµï¼š jack794666918â€‹â€‹ 3ï¼‰è´­ä¹°å¯¹åº”çš„è¯¾ç¨‹åŽï¼Œè®°å¾—è¿›æˆ‘ä»¬å°Dè¯¾å ‚å®˜æ–¹çš„äº¤æµç¾¤ï¼Œæˆ‘ä¼šåœ¨é‡Œé¢åˆ†äº«ä¸»æµæŠ€æœ¯å’Œç­”ç–‘ï¼Œé¢è¯•ç»éªŒç­‰ç­‰ï¼Œè¿˜ä¼šåŒæ­¥æ›´æ–°èµ„æ–™å’Œè¿˜è¶…çº§å¹²è´§åˆ†äº« =============================================]]></content>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸è§é—®é¢˜æ€»ç»“]]></title>
    <url>%2F2018%2F11%2F09%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2F%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[å‰ç«¯å‘åŽç«¯ä¼ å€¼ï¼š Button å’Œform 1234567function goUpdatePage(id) &#123; window.location.href = "$&#123;pageContext.request.contextPath&#125;/user/editcontroller?id=" + id;&#125; &lt;button type="button" onclick="goUpdatePage($&#123;user.id&#125;)" class="btn btn-primary btn-xs"&gt; &lt;i class=" glyphicon glyphicon-pencil"&gt;&lt;/i&gt;&lt;/button&gt; å¼€å‘ä¸­serviceå±‚ å¿…é¡»è¦å†™ @serviceæ³¨è§£ âš ï¸serviceä¸­ä¸è¦åŠ @serviceã€‚åœ¨serviceçš„å®žçŽ°serviceimlä¸­åŠ @serviceæ³¨è§£ å¼€å‘çš„é¡ºåº ä»Žå‰ç«¯ä¼ å€¼åˆ°Controller å†åˆ° service å†åˆ°serviceimpl å†åˆ°userdao å†åˆ°mybatis.xmlå†åˆ°æ•°æ®åº“ æ•°æ®åº“è¿”å›žå‰ç«¯é¡µé¢ å¼•å…¥mybatis çš„å¤šä¸ªmapperçš„é…ç½®æ–‡ä»¶ mapper.xml Spring Boot çš„æ–¹å¼ 12mybatis.mapper-locations=classpath:mybatis/mapper/*.xml ###ideaè­¦å‘Šï¼šField injection is not recommended ####Springbootå¼€å‘ Daoä¸­UserDao RoleDaoä¸­è¦åŠ  @Mapperæ³¨è§£ # importå’Œopené¡¹ç›®æ˜¯ä¸ä¸€æ ·çš„ å‡ºçŽ°ä¸Šé¢çš„æƒ…å†µè¦importä¸€ä¸‹å•Š å…„ide Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias â€˜BaseResultMapâ€™ Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Ca çœ‹åˆ°é‚£ä¸ªresultTypeäº†ä¹ˆï¼Œå°±æ˜¯å®ƒæƒ¹çš„ç¥¸ï¼Œè¿™é‡ŒæŠŠresultTypeæ”¹ä¸ºresultMapå°±OKå•¦ï¼Œé‡å¯tomcatï¼Œæœ¨æœ‰å¼‚å¸¸å•¦ è·³è½¬è§†å›¾ ç”¨å­—ç¬¦ä¸²å“ˆ å¼€å‘ä¸­å‰ç«¯çš„imgè¦æ”¾åˆ°å’Œæ¡†æž¶çš„åŒä¸€ç›®å½•åŠä¸‹é¢å“ˆã€‚å…„die 1Connection connection = ConnectionUtils.getConnection(); ç”¨ç±».æ–¹æ³•ï¼ˆï¼‰.var å¯ä»¥ç›´æŽ¥è¿”å›žè¯¥å¯¹è±¡çš„è¿”å›žå¯¹è±¡ Sting s=â€testâ€ 1System.out.println(s);===s.sout æ—¶é—´é—®é¢˜ https://blog.csdn.net/qq_34160679/article/details/80651027 1jdbc.url = jdbc:mysql:/xxx:3306/zhongfubang?useUnicode=true&amp;characterEncoding=UTF-8&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=Asia/Shanghai Linux æ— æ³•ä½¿ç”¨å‘½ä»¤export PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/binä¿®æ”¹/etc/profileæ–‡ä»¶ï¼Œé…ç½®mavençŽ¯å¢ƒå˜é‡æ—¶å€™å‡ºé—®é¢˜äº†ï¼Œå¿˜è®°åŠ äº† $PATH: ç„¶åŽsource /etc/profile æŽ¥ä¸‹æ¥å°±æ˜¯ ll,ls,vimå‘½ä»¤éƒ½ç”¨ä¸äº†ã€‚ã€‚ã€‚å®³çš„æˆ‘ä»¥ä¸ºxshellæˆ‘æ›´æ–°äº†å‘¢ï¼Œå¸è½½é‡è£…äº†è¿˜æ˜¯æ²¡ç”¨ã€‚ è§£å†³åŠžæ³•å¦‚ä¸‹å›¾ï¼Œæ‰§è¡Œè¿™ä¸¤æ¡å‘½ä»¤ï¼š 123export PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin vim /etc/profile SpringBoot ä¸»ç±»æŠ¥é”™ 1åœ¨ideaä¸­ä½¿ç”¨ç»ˆç«¯ ç„¶åŽä½¿ç”¨mvn installå‘½ä»¤ã€‚åˆ æŽ‰æœ‰é—®é¢˜çš„jaråŒ…é‡æ–°ä¸‹è½½ã€‚ è§£å†³é—®é¢˜ Ideaç›¸å…³1è£…ä¸€ä¸ªlombokæ’ä»¶æ‰ä¼šæœ‰get setæ–¹æ³• 1234MybatisPluginCodesæ’ä»¶ findBy... çœ‹æ–‡æ¡£ å¸è½½å…¶ä»–ç›¸å…³æ’ä»¶ commond+1 åˆ›å»ºSQlè¯­å¥ self4j log4jçš„é—®é¢˜1ggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation 1234567891011&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;--------------------- Springboot ä¾èµ–å†²çª Maven logsé‡åˆ°é”™è¯¯ é‡å¯Idea æˆ–è€…å…³æœºé‡å¯ç”µè„‘ SpringBoot +Mybatis æ•´åˆé—®é¢˜ï¼š ä½¿ç”¨Yml æ·»åŠ mapperxml 12345@RequestMapping(&quot;/&#123;id&#125;&quot;) @ResponseBody public Mydb01 list(@PathVariable(&quot;id&quot;) Integer id) &#123;//@PathVariable(&quot;id&quot;) idæ˜¯ä¸æ˜¯ä¸€å®šè¦å†™ return userService.selectByPrimaryKey(id); &#125; maven pom æ–‡ä»¶]]></content>
  </entry>
  <entry>
    <title><![CDATA[ITerm2çš„é…ç½®]]></title>
    <url>%2F2018%2F11%2F09%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2FIterm2%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ITerm2çš„é…ç½®é—®é¢˜æ¯æ¬¡vimçš„æ—¶å€™ä¸€å®šè¦sourceä¸€ä¸‹ å•Š xiong die å­¦ä¹ èµ„æº https://www.jianshu.com/p/9c3439cc3bdb ç®€ä¹¦ https://github.com/sirius1024/iterm2-with-oh-my-zsh Github https://www.cnblogs.com/xishuai/p/mac-iterm2.html åšå®¢å›­ https://blog.csdn.net/z3512498/article/details/51245853 CSDN æ”¹å˜ç”¨æˆ·å å¿…é¡»è¦ä½¿ç”¨vimçš„å‘½ä»¤ä¿®æ”¹é…ç½® å¸¸è§çš„å‘½ä»¤1234vi ~/.zshrcsource ~/.zshrc ï¼ˆsoucreé…ç½®æ–‡ä»¶ è®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼‰æ–‡ä»¶æ”¾åœ¨itermgitä¸‹é¢ å¿…é¡»è¦åœ¨ä¸»é¢˜å¯ä»¥ä½¿ç”¨çš„æƒ…å†µä¸‹ è¿›è¡Œä»¥ä¸Šçš„é…ç½®å¿«æ·é”®å†²çª å–è¯ copyå¤±æ•ˆ å¸¸è§é—®é¢˜ å®‰è£…å®ŒæˆåŽï¼Œåœ¨/binç›®å½•ä¸‹ä¼šå¤šå‡ºä¸€ä¸ªzshçš„æ–‡ä»¶ã€‚ Macç³»ç»Ÿé»˜è®¤ä½¿ç”¨dashä½œä¸ºç»ˆç«¯ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ä¿®æ”¹é»˜è®¤ä½¿ç”¨zshï¼š 1chsh -s /bin/zsh å¦‚æžœæƒ³ä¿®æ”¹å›žé»˜è®¤dashï¼ŒåŒæ ·ä½¿ç”¨chshå‘½ä»¤å³å¯ï¼š 1chsh -s /bin/bash export MAVEN_HOME=/Java/apache-maven-3.5.4 export PATH=${PATH}:${MAVEN_HOME}/bin]]></content>
      <tags>
        <tag>Iterm2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker-web]]></title>
    <url>%2F2018%2F11%2F08%2FDocker%2FDocker-web%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ åœ°å€* https://www.imooc.com/video/14624ï¼ˆæ…•è¯¾ç½‘ï¼‰-6âƒ£åˆ˜æžœå›½ #ç¬¬ä¸€ä¸ª java webé¡¹ç›® ï¼ˆSpringBoot é¡¹ç›®æ‰“åŒ…æˆä¸€ä¸ªwaråŒ…çš„æ–¹å¼ï¼‰ ä¸€åˆ¶ä½œè‡ªå·±çš„æ™¯è±¡ Dockerfile docker build é¦–å…ˆéœ€è¦ä¸€ä¸ªwaræ–‡ä»¶ æ‹·è´åœ¨æ¡Œé¢ä¸Š Docker images 1.å»ºç«‹ä¸€ä¸ªDockerfile vim Dockerfile 2. ä¸‹è½½Tomcaté•œåƒ ç½‘æ˜“é•œåƒä¸­å¿ƒ æ‰¾Tomcatçš„é•œåƒ https://c.163yun.com/hub#/m/home/ ï¼ˆåŒ…æ‹¬JDK Tomcatï¼‰ 1docker pull hub.c.163.com/library/tomcat:latest ç«™åœ¨å·¨äººçš„è‚©ä¸Š 3.ç¼–è¾‘Dockerfile1234567åœ¨Macç»ˆç«¯ä¸­ä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶æ­¥éª¤1. cd æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹è·¯å¾„ &lt;å›žè»Š&gt;2. è¼¸å…¥ vim æ–‡ä»¶å &lt;å›žè»Š&gt;3. æŒ‰ä¸‹ i éµä¾†ç¼–è¾‘æ–‡æœ¬æ–‡å­—4. é€€å‡ºvimç·¨è¼¯å™¨ï¼š ä¸ä¿å­˜å¹¶é€€å‡º &lt;ESC&gt; :q! &lt;å›žè»Š&gt; ä¿å­˜å¹¶é€€å‡º &lt;ESC&gt; :wq &lt;å›žè»Š&gt; from hub.c.163.com/library/tomcat MAINTAINER Freemana2017 1047629166@qq.com 1234cd /Users/apple/Desktop/Dockerwebls&gt; mv atcrodfunding3_ssm-0.0.1-SNAPSHOT.war atcrod.warmv atcrodfunding3_ssm-0.0.1-SNAPSHOT.war atcrod.war (ç”¨MV é‡æ–°å‘½åä¸€ä¸‹) è¿›å…¥æ–‡ä»¶å¤¹é‡Œé¢ ç¼–å†™Dockerfile å­¦ä¼šçœ‹é•œåƒçš„è¯´æ˜Ž 1234567891011121314151617How to use this image.Run the default Tomcat server (CMD [\&quot;catalina.sh\&quot;, \&quot;run\&quot;]):$ docker run -it --rm tomcat:8.0You can test it by visiting http://container-ip:8080 in a browser or, if you need access outside the host, on port 8888:$ docker run -it --rm -p 8888:8080 tomcat:8.0You can then go to http://localhost:8888 or http://host-ip:8888 in a browser.The default Tomcat environment in the image for versions 7 and 8 is:â­ï¸CATALINA_BASE: /usr/local/tomcatâ­ï¸CATALINA_HOME: /usr/local/tomcatCATALINA_TMPDIR: /usr/local/tomcat/tempJRE_HOME: /usrCLASSPATH: /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar 1ã€‚ç¼–å†™Dockerfile æ–‡ä»¶â€“Dockerfile12345from hub.c.163.com/library/tomcatMAINTAINER Freemana2017 1047629166@qq.comCOPY atcrod.war /usr/local/tomcat/webapps 2.åˆ›å»ºé•œåƒ â€“docker build 3.æŸ¥çœ‹é•œåƒâ€“docker images 4.ç»™é•œåƒå†™åå­— docker build -t atcrod:latest . 5.å†æ¬¡æŸ¥çœ‹é•œåƒ docker images ###äºŒè¿è¡Œè‡ªå·±çš„å®¹å™¨1.docker run -d -p 8888:8080 atcrod 8888æœ¬æœºçš„ç«¯å£å·ã€‚8080Tomcatçš„ç«¯å£å· åŽ»163.comæŸ¥è¯¢ atcrodé•œåƒçš„åå­— 2.docker ps æŸ¥çœ‹Tomcatçš„è¿›ç¨‹ æ£€æŸ¥å®¹å™¨æ˜¯ä¸æ˜¯å¯åŠ¨å•¦ 3.netstat -na|grep 8888 æ£€æŸ¥ç«¯å£æ˜¯ä¸æ˜¯å­˜åœ¨äº† è¾“å…¥localhost:8888æµ‹è¯•Tomcatæ˜¯å¦å¯åŠ¨å•¦ âš ï¸ ä»¥ä¸Šåªæ˜¯webé¡¹ç›®åœ¨Dockerä¸­çš„éƒ¨ç½²é¡¹ç›®3.Docker éƒ¨ç½²SpringBoot webé¡¹ç›® å­¦ä¹ èµ„æºæ±‡æ€» http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html https://blog.csdn.net/weixin_39800144/article/details/79214978 https://blog.csdn.net/weixin_39800144/article/details/79213276 https://bingohuang.com/spring-boot-docker/ FROM java:8 VOLUME /tmp COPY target/tran4spd-1.0-SNAPSHOT.jar resource.jar. #è¿™è¾¹æ”¾çš„æ˜¯Dockeréƒ¨ç½²çš„jaråŒ…çš„ä½ç½® ç»å¯¹è·¯å¾„ RUN bash -c â€œtouch /resource.jarâ€ EXPOSE 8080 ENTRYPOINT [â€œjavaâ€,â€-jarâ€,â€resource.jarâ€] # docker run -d -p 18080:8099 â€“name docker-resource leesia/resource:1.0 æ³¨æ„java-jaræ— æ³•è¿è¡ŒTomcatè¦å¤–ç½® 1234567&lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;&lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; ##æ–‡ä»¶è·¯å¾„ä¸è¦ç”¨ä¸­æ–‡ï¼ï¼ï¼]]></content>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker SpringBoot]]></title>
    <url>%2F2018%2F11%2F07%2FDocker%2FDocker-SpringBoot%2F</url>
    <content type="text"><![CDATA[DockerMachineåº”ç”¨æ³¨æ„æ•´ä¸ªè¿‡ç¨‹è¦ç­‰å¾…ä¸€ä¸‹ å‚è€ƒhttps://study.163.com/course/courseLearn.htm?courseId=1002892012#/learn/video?lessonId=1003309140&amp;courseId=1002892012 ç½‘æ˜“äº‘è¯¾å ‚ åŠ¨æ‰‹çŽ©Docker å®‰è£…DockerMachine docker-machine ls tcp://192.168.99.100:2376 nameï¼šcloudcomb docker-machine create â€“driver virtualbox cloudcomb Docker-machine env cloudcomb âš ï¸ç¬¬å››ä¸ªå˜é‡evalè¯´çš„æ˜¯å½“å‰Dockermachineçš„åå­—æ˜¯â€”cloudcomb eval $(docker-machine env cloudcomb) æ‹·è´æ”¾åˆ°åº•ä¸‹ ä½¿ç”¨ç½‘æ˜“èœ‚å·¢ Docker run hub.c163.com/library/busybox:latest echon hello world ï¼ˆunableã€‚ã€‚è¿™ä¸ªè¿‡ç¨‹è¦ç­‰å¾…å•Šï¼‰â­ï¸ docker-machine rm cloudcomb åˆ é™¤docker-machine SpringBootæ•´åˆDocker Emmmm.ç­‰æˆ‘æœ‰é’±äº† æŠŠXnipåŽ»æŽ‰å“ˆå“ˆ ä¸‹è½½æºç https://github.com/bingohuang/spring-boot-docker Git é€šè¿‡å‘½ä»¤è¡Œä¸‹è½½æ–‡ä»¶ å…ˆcdä¸€ä¸‹æŒ‡å®šä¸€ä¸‹ä¸‹è½½çš„è·¯å¾„ å¯¼å…¥é¡¹ç›®åˆ°Idea ç„¶åŽæŸ¥çœ‹ä¸€ä¸‹æºç  è¿è¡Œä¸€ä¸‹é¡¹ç›®ï¼ˆè®¿é—®ä¸€ä¸‹ æµ‹è¯•ä¸€ä¸‹ï¼‰ Docker SpringBootéƒ¨ç½²é¡¹ç›® â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ 1.installé¡¹ç›® æ‰¾åˆ°è¿™ä¸¤ä¸ªæ–‡ä»¶ æ”¾åˆ°æ¡Œé¢ä¸Š 2.å°†è¿™ä¸¤ä¸ªé¡¹ç›®æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸‹ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå¥½åƒè¦æŠŠjaræ”¹åæˆgs-spring-boot-docker-0.0.1.jar 3.cdåˆ°æ–‡ä»¶ä¸‹ lsä¸€ä¸‹4.æ‰§è¡Œ Ë›docker version 5.æ‰§è¡Œ docker-machine env 6.æ‰§è¡Œeval $(docker-machine env)ï¼ˆå¤åˆ¶åŽé¢çš„ç¬¬å››æ¡ï¼‰ tcp://192.168.99.100:2376192.168.99.100 tcp://127.0.0.1:2376 tcp://127.0.0.1:2376 ###7.docker versionï¼ˆæ²¡æœ‰-ï¼‰ 8.lsä¸€ä¸‹ç›®å½• 9.docker build -t cloudcomb/sun:1.0 . ï¼ˆæ¡Œé¢ä¸Šè¦æœ‰jaråŒ…å’Œdockerfilede æ–‡ä»¶ï¼‰ æ­¤æ—¶æŠ¥é”™ æ²¡æœ‰gs-spring-boot-docker.jaræ–‡ä»¶ å…¶å®žlsçš„æ—¶å€™å°±åº”è¯¥æ˜¯gs-spring-boot-docker.jar è¿™å„¿æ˜¯ä¸ªbugã€‚ è§£å†³åŠžæ³• æ”¹jaråŒ…å æ·»åŠ gså‰ç¼€ 1https://docker.mirrors.ustc.edu.cn 10ã€‚docker build -t cloudcomb/sun:1.0 .ï¼ˆå¤§ä½¬è¯´è¿™ä¸€æ­¥æ˜¯æ‹‰å–é•œåƒã€‚ç”¨åŠ é€Ÿå™¨ æ”¹ååŽé‡æ–°æ‰§è¡Œå‘½ä»¤ï¼‰æˆ‘ä»¬å¯ä»¥ç”¨å¤§ä½¬ç½‘æ˜“äº‘çš„Dokceré•œåƒ 11. docker images -a 12.docker run -p 1024:8080 -t cloudcomb/sun:1.0 . æ³¨æ„ cloudcombå’Œå‰é¢çš„cloudcombè¦ä¸€ä¸€å¯¹åº” 1024 ä¸Ž8080æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³» Error: Unable to access jarfile /app.jar â­ï¸ ADD user-server-0.0.1-SNAPSHOT.jar app.jar è¦å’Œpomçš„user-server ä¿æŒåå­—ä¸€æ ·ï¼Œä¸ç„¶mavenæ‰“å‡ºæ¥çš„åŒ…ï¼Œdockeræ‰¾ä¸åˆ°ã€‚ æœ€ç»ˆçš„ç»“å±€åŠžæ³• å¥½åƒæ˜¯å°†copyåŽ»æŽ‰äº† æ³¨æ„çœ‹æŽ§åˆ¶å°æ‰“å°çš„ä¿¡æ¯ å…„dei DockerFileï¼š Dockerå°±æ˜¯ç»™ä¸€åå­— gs-spring-bbot è´´ä¸€ä¸ªDockerfilrã€‚ 1234567891011121314151617181920212223242526272829303132333435FROM hub.c.163.com/xbingo/jdk8:latestfrom hub.c.163.com/library/tomcatMAINTAINER Freemana2017 1047629166@qq.comADD atcrodfunding3_ssm-0.0.1-SNAPSHOT.jar app.jarENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]COPY atcrod.war /usr/local/tomcat/webapps #FROM openjdk:8-jdk-alpine#VOLUME /tmp#ADD atcrodfunding3_ssm-0.0.1-SNAPSHOT.jar app.jar#ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]# #FROM hub.c.163.com/xbingo/jdk8:latest##ADD gs-spring-boot-docker-0.1.0.jar app.jar##ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] #è¿™ä¸ª Dockerfile æ–‡ä»¶å¾ˆç®€å•ï¼Œæž„å»º Jdk åŸºç¡€çŽ¯å¢ƒï¼Œæ·»åŠ  Spring Boot Jar åˆ°é•œåƒä¸­ï¼Œç®€å•è§£é‡Šä¸€ä¸‹:##FROM ï¼Œè¡¨ç¤ºä½¿ç”¨ Jdk8 çŽ¯å¢ƒ ä¸ºåŸºç¡€é•œåƒï¼Œå¦‚æžœé•œåƒä¸æ˜¯æœ¬åœ°çš„ä¼šä»Ž DockerHub è¿›è¡Œä¸‹è½½#VOLUME ï¼ŒVOLUME æŒ‡å‘äº†ä¸€ä¸ª/tmpçš„ç›®å½•ï¼Œç”±äºŽ Spring Boot ä½¿ç”¨å†…ç½®çš„Tomcatå®¹å™¨ï¼ŒTomcat é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½•ã€‚è¿™ä¸ªå‘½ä»¤çš„æ•ˆæžœæ˜¯ï¼š#åœ¨å®¿ä¸»æœºçš„/var/lib/dockerç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¹¶æŠŠå®ƒé“¾æŽ¥åˆ°å®¹å™¨ä¸­çš„/tmpç›®å½•#ADD ï¼Œæ‹·è´æ–‡ä»¶å¹¶ä¸”é‡å‘½å#ENTRYPOINT ï¼Œä¸ºäº†ç¼©çŸ­ Tomcat çš„å¯åŠ¨æ—¶é—´ï¼Œæ·»åŠ java.security.egdçš„ç³»ç»Ÿå±žæ€§æŒ‡å‘/dev/urandomä½œä¸º ENTRYPOINT#è¿™æ · Spring Boot é¡¹ç›®æ·»åŠ  Docker ä¾èµ–å°±å®Œæˆäº†ã€‚ Dockerfile ç”¨çš„warè¦æœ‰Tomcat è‡ªå·±ç†è§£å§ å¤šçœ‹ä¸€äº›è§†é¢‘ç¬”è®°ä»€ä¹ˆçš„ åæ­£å¾ˆéš¾,,, ä»¥ä¸Šçš„æ–‡ä»¶æ˜¯ä»Žgithubä¸Šæ‹‰çš„ çŽ°åœ¨è‡ªå·±æž„å»ºSpringBoot -jarçš„åº”ç”¨ é€šè¿‡ç¾¤é‡Œçš„æŒ‡å¯¼ ä¼°è®¡jaræ‰“åŒ…å’Œwaræ‰“åŒ…åŒºåˆ«ä¸å¤§å§ ä¸‹é¢é€šè¿‡SpringBootæž„å»ºDockeréƒ¨ç½²ä¸€ä¸‹è¯•è¯• https://waylau.com/docker-spring-boot/ http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html https://lw900925.github.io/docker/docker-springboot.html https://www.tianmaying.com/tutorial/spring-boot-docker https://bingohuang.com/spring-boot-docker/ https://www.imooc.com/search/?words=docker http://www.ityouknow.com/docker/2018/03/30/docker-machine.html https://spring.io/guides/gs/spring-boot-docker/ SpringBoot Docker https://lw900925.github.io/docker/docker-springboot.html http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html ä¸»è¦çŽ¯èŠ‚ $ sudo docker tag [ImageId] ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·]$ sudo docker push ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·] â­ï¸ sudo docker tag 5fc4ede68fcd ccr.ccs.tencentyun.com/atcrod/latest sudo docker push ccr.ccs.tencentyun.com/atcrod/latest]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker-Idea]]></title>
    <url>%2F2018%2F11%2F07%2FDocker%2FDocker-Idea%2F</url>
    <content type="text"><![CDATA[###1.Docker åœ¨Intellijä¸­çš„ä½¿ç”¨ Machineçš„å®‰è£… composeçš„å®‰è£… Dockerçš„é…ç½® é¦–å…ˆå­¦ä¹ ä»€ä¹ˆä¸œè¥¿éƒ½è¦ç”¨å®˜ç½‘çš„ä¸œè¥¿ å®‰è£…Dockerçš„æ’ä»¶-çœ‹ç½‘ä¸Šæ•™ç¨‹ çœ‹Dockeræ’ä»¶çš„å®˜ç½‘ hrer å­¦ä¹ è‹±æ–‡ã€‚ä»»ä½•ä¸œè¥¿å®˜ç½‘éƒ½ç”¨è¯¦ç»†è¯´æ˜Žçš„ å­¦ä¹ Docker å­¦ä¹ SpringBootæ•´åˆDocker å­¦ä¹ è¿ç»´ ä¸‹é¢å¼€å§‹Dockerçš„å­¦ä¹  1.çŽ°åœ¨æ’ä»¶ 2.çœ‹ç½‘å€çš„æ•™ç¨‹ 3.å®‰è£…machinå’Œcompose machineå’Œcomposeçš„å®‰è£…å‚è€ƒ 1.Gitbookä¹¦ https://yeasy.gitbooks.io/docker_practice/content/compose/install.html 2ã€‚å®˜æ–¹æ–‡æ¡£ï¼ˆä¸ºä¸»ï¼‰ https://docs.docker.com/machine/install-machine/ â­ï¸ ï¼ˆä¸ºä»€ä¹ˆæ¯æ¬¡éƒ½è¦é‡æ–°ä¸‹è½½dockermachineï¼‰ Docker-machine env ä¸èƒ½æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ é¦–å…ˆè¦ é‡æ–°ä¸‹è½½Dockermachihe 123base=https://github.com/docker/machine/releases/download/v0.14.0 &amp;&amp; curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/usr/local/bin/docker-machine &amp;&amp; chmod +x /usr/local/bin/docker-machine 3.Github https://github.com/docker/machine/releases https://github.com/docker/machine 2.æœ‰äº›ä¸œè¥¿æ”¾åœ¨äº†äº‘æ”¶è—é‡Œé¢Dockerçš„ç”¨æˆ·åæ˜¯2018112#####å®‰è£…Dockeræ’ä»¶è¦å¼€VPN è¿˜æœ‰è®¿é—®Gitbubä¹Ÿè¦å¼€VPN wiredesçš„ å®‰è£…Dockerè¦å®‰è£…DookerToolBox 3.Docker ï¼ï¼DockerçœŸæ˜¯ä¸€ä¸ªææ€–çš„ä¸œè¥¿ ######Dockerçš„å­¦ä¹ èµ„æºGitBooké‡Œé¢çš„Dockerçš„é™„å½•éƒ¨åˆ† https://blog.lab99.org/post/docker-2016-07-14-faq.html 1.æ— ç‹¬æœ‰å¶é€šè¿‡Docker-SpirngBootçš„å­¦ä¹ äº†è§£äº†TCP socker Engine API URLçš„å¡«å†™ Dockerå¼€å¯è¿œç¨‹è®¿é—®è¿™æ˜¯è¿‡ç¨‹ä¸­äº§ç”Ÿçš„é—®é¢˜ å®‰è£…äº†socket ä»¥åŽæƒ³åŠžæ³•åˆ é™¤ PSï¼šDockeræœåŠ¡ä¸­è¿›ç¨‹é—´é€šä¿¡é€šè¿‡/var/run/docker.sockå®žçŽ°ï¼Œé»˜è®¤æœåŠ¡ä¸æä¾›ç›‘å¬ç«¯å£ï¼Œå› æ­¤ä½¿ç”¨docker remote api éœ€è¦æ‰‹åŠ¨ç»‘å®šç«¯å£ã€‚æ–¹æ³•ï¼š 12&gt; `# service docker stop``# docker -d -H unix:``///var/run/docker.sock -H tcp://0.0.0.0:2375`&gt; ###2.ç‚¹å‡»+å·æ·»åŠ ä¸€ä¸ªdockeré…ç½®ï¼Œè¾“å…¥Nameå’ŒEngine API URLï¼ŒURLæ˜¯dockeræœåŠ¡åœ°å€ï¼Œéœ€è¦dockerå¼€å¯è¿œç¨‹è¿žæŽ¥åŠŸèƒ½ã€‚CentOSä¸­åœ¨dockerå¯åŠ¨å‚æ•°é‡Œæ·»åŠ å¦‚ä¸‹é…ç½®å³å¯å¼€å¯è¿œç¨‹è¿žæŽ¥ã€‚ -H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375 ä¸‹é¢æ˜¯dockeråœ¨ideaä¸­çš„å®‰è£… cloudsé‡Œé¢æ²¡æœ‰Dockerã€‚åœ¨Dockerä¸­é…ç½® TCPï¼štcpï¼š//127.0.0.1:2376 æ³¨æ„è¿™ä¸ªæ˜¯é€šè¿‡ç»ˆç«¯å‘½ä»¤å¾—åˆ°çš„ 1234567docker-machine env cloudcombexport DOCKER_TLS_VERIFY=&quot;1&quot;export DOCKER_HOST=&quot;tcp://192.168.99.101:2376&quot;export DOCKER_CERT_PATH=&quot;/Users/apple/.docker/machine/machines/cloudcomb&quot;export DOCKER_MACHINE_NAME=&quot;cloudcomb&quot;# Run this command to configure your shell:# eval $(docker-machine env cloudcomb) å°†å‰é¢çš„ç«¯å£æ¢æˆæœ¬åœ°çš„ tcp:127.0.0.1:2376 emmç¡ä¸€è§‰èµ·æ¥VPNæ‰“å¼€è¦ç­‰ä¸€ä¼š åœ¨ç»ˆç«¯è¾“å…¥dockerversion docker-machine envâ€”Host is not running #å­¦ä¹ èµ„æºï¼šé€šè¿‡Githubçš„æœç´¢åŠŸèƒ½ðŸ” å‘çŽ°ä¸€äº›å­¦ä¹ èµ„æ–™https://www.jetbrains.com/help/idea/docker.html alip1sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest 1234567891011FROM java:8VOLUME /tmpsudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latestCOPY target/tran4spd-1.0-SNAPSHOT.jar resource.jarRUN bash -c &quot;touch /resource.jar&quot;EXPOSE 8080ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;resource.jar&quot;]# docker run -d -p 18080:8099 --name docker-resource leesia/resource:1.0]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoçš„ä½¿ç”¨æ•™ç¨‹]]></title>
    <url>%2F2018%2F11%2F07%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2FHexo%2F</url>
    <content type="text"><![CDATA[ä¸»é¢˜copyä¸€ä»½åœ¨appleä¸­ä¸éœ€è¦ç»ˆç«¯new æˆ–è€… æ ‡é¢˜titleç›´æŽ¥å¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥çš„æœ‰æ—¶å€™æœ‰å»¶è¿Ÿä¸‹é¢å°±æ˜¯å›¾ç‰‡çš„é—®é¢˜å•¦ ç”¨å›¾åºŠipicè§£å†³é—®é¢˜ https://www.jianshu.com/p/dbc945b05d55 PIC https://sspai.com/post/39965 å°‘æ•°æ´¾ ### https://hexo.io/zh-cn/docs/front-matter å­¦ä¹ HexoæŒ‰ç…§è¿™ä¸ªç½‘ç«™é‡Œé¢æœ‰æ•™ç¨‹ å­¦ä¹ ä»»ä½•ä¸œè¥¿éƒ½è¦ä½¿ç”¨å®˜æ–¹æ–‡æ¡£ å…¶ä½™å­¦ä¹ çš„ä¸œè¥¿åœ¨safairæ”¶è—âž•éšç¬” hexoé‡Œé¢ çœŸçš„å¥½ç´¯ æ­å»ºè¿™ä¸ªçŽ¯å¢ƒ æ€»ä¹‹å°±æ˜¯ç…§ç€å®˜ç½‘çš„ä¾‹å­ ç„¶åŽä½¿ç”¨è¿™ä¸ªæ¨¡ç‰ˆ ç„¶åŽymlæ–‡ä»¶è¦å†™å…¨ å‘å¤ªå¤šäº† èƒ½å‡ºä¸€æœ¬ä¹¦ å…ˆè¿™æ ·]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot é›·ä¸°é˜³]]></title>
    <url>%2F2018%2F03%2F06%2FSpring%20Boot%2FSpring%20Boot%2F</url>
    <content type="text"><![CDATA[ä¸€ã€Spring Boot å…¥é—¨1ã€Spring Boot ç®€ä»‹ ç®€åŒ–Springåº”ç”¨å¼€å‘çš„ä¸€ä¸ªæ¡†æž¶ï¼› æ•´ä¸ªSpringæŠ€æœ¯æ ˆçš„ä¸€ä¸ªå¤§æ•´åˆï¼› J2EEå¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼› 2ã€å¾®æœåŠ¡2014ï¼Œmartin fowler å¾®æœåŠ¡ï¼šæž¶æž„é£Žæ ¼ï¼ˆæœåŠ¡å¾®åŒ–ï¼‰ ä¸€ä¸ªåº”ç”¨åº”è¯¥æ˜¯ä¸€ç»„å°åž‹æœåŠ¡ï¼›å¯ä»¥é€šè¿‡HTTPçš„æ–¹å¼è¿›è¡Œäº’é€šï¼› å•ä½“åº”ç”¨ï¼šALL IN ONE å¾®æœåŠ¡ï¼šæ¯ä¸€ä¸ªåŠŸèƒ½å…ƒç´ æœ€ç»ˆéƒ½æ˜¯ä¸€ä¸ªå¯ç‹¬ç«‹æ›¿æ¢å’Œç‹¬ç«‹å‡çº§çš„è½¯ä»¶å•å…ƒï¼› è¯¦ç»†å‚ç…§å¾®æœåŠ¡æ–‡æ¡£ 3ã€çŽ¯å¢ƒå‡†å¤‡http://www.gulixueyuan.com/ è°·ç²’å­¦é™¢ çŽ¯å¢ƒçº¦æŸ â€“jdk1.8ï¼šSpring Boot æŽ¨èjdk1.7åŠä»¥ä¸Šï¼›java version â€œ1.8.0_112â€ â€“maven3.xï¼šmaven 3.3ä»¥ä¸Šç‰ˆæœ¬ï¼›Apache Maven 3.3.9 â€“IntelliJIDEA2017ï¼šIntelliJ IDEA 2017.2.2 x64ã€STS â€“SpringBoot 1.5.9.RELEASEï¼š1.5.9ï¼› ç»Ÿä¸€çŽ¯å¢ƒï¼› 1ã€MAVENè®¾ç½®ï¼›ç»™maven çš„settings.xmlé…ç½®æ–‡ä»¶çš„profilesæ ‡ç­¾æ·»åŠ  123456789101112&lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt;&lt;/profile&gt; 2ã€IDEAè®¾ç½®æ•´åˆmavenè¿›æ¥ï¼› 4ã€Spring Boot HelloWorldä¸€ä¸ªåŠŸèƒ½ï¼š æµè§ˆå™¨å‘é€helloè¯·æ±‚ï¼ŒæœåŠ¡å™¨æŽ¥å—è¯·æ±‚å¹¶å¤„ç†ï¼Œå“åº”Hello Worldå­—ç¬¦ä¸²ï¼› 1ã€åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼›ï¼ˆjarï¼‰2ã€å¯¼å…¥spring bootç›¸å…³çš„ä¾èµ–1234567891011&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3ã€ç¼–å†™ä¸€ä¸ªä¸»ç¨‹åºï¼›å¯åŠ¨Spring Bootåº”ç”¨12345678910111213/** * @SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»ï¼Œè¯´æ˜Žè¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨ */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // Springåº”ç”¨å¯åŠ¨èµ·æ¥ SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; 4ã€ç¼–å†™ç›¸å…³çš„Controllerã€Service123456789@Controllerpublic class HelloController &#123; @ResponseBody @RequestMapping("/hello") public String hello()&#123; return "Hello World!"; &#125;&#125; 5ã€è¿è¡Œä¸»ç¨‹åºæµ‹è¯•6ã€ç®€åŒ–éƒ¨ç½²123456789&lt;!-- è¿™ä¸ªæ’ä»¶ï¼Œå¯ä»¥å°†åº”ç”¨æ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œçš„jaråŒ…ï¼›--&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; å°†è¿™ä¸ªåº”ç”¨æ‰“æˆjaråŒ…ï¼Œç›´æŽ¥ä½¿ç”¨java -jarçš„å‘½ä»¤è¿›è¡Œæ‰§è¡Œï¼› 5ã€Hello WorldæŽ¢ç©¶1ã€POMæ–‡ä»¶1ã€çˆ¶é¡¹ç›®1234567891011121314&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;ä»–çš„çˆ¶é¡¹ç›®æ˜¯&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt;&lt;/parent&gt;ä»–æ¥çœŸæ­£ç®¡ç†Spring Bootåº”ç”¨é‡Œé¢çš„æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬ï¼› Spring Bootçš„ç‰ˆæœ¬ä»²è£ä¸­å¿ƒï¼› ä»¥åŽæˆ‘ä»¬å¯¼å…¥ä¾èµ–é»˜è®¤æ˜¯ä¸éœ€è¦å†™ç‰ˆæœ¬ï¼›ï¼ˆæ²¡æœ‰åœ¨dependenciesé‡Œé¢ç®¡ç†çš„ä¾èµ–è‡ªç„¶éœ€è¦å£°æ˜Žç‰ˆæœ¬å·ï¼‰ 2ã€å¯åŠ¨å™¨1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt; spring-boot-starter-==web==ï¼š â€‹ spring-boot-starterï¼šspring-bootåœºæ™¯å¯åŠ¨å™¨ï¼›å¸®æˆ‘ä»¬å¯¼å…¥äº†webæ¨¡å—æ­£å¸¸è¿è¡Œæ‰€ä¾èµ–çš„ç»„ä»¶ï¼› Spring Bootå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯éƒ½æŠ½å–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªä¸ªçš„startersï¼ˆå¯åŠ¨å™¨ï¼‰ï¼Œåªéœ€è¦åœ¨é¡¹ç›®é‡Œé¢å¼•å…¥è¿™äº›starterç›¸å…³åœºæ™¯çš„æ‰€æœ‰ä¾èµ–éƒ½ä¼šå¯¼å…¥è¿›æ¥ã€‚è¦ç”¨ä»€ä¹ˆåŠŸèƒ½å°±å¯¼å…¥ä»€ä¹ˆåœºæ™¯çš„å¯åŠ¨å™¨ 2ã€ä¸»ç¨‹åºç±»ï¼Œä¸»å…¥å£ç±»123456789101112/** * @SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»ï¼Œè¯´æ˜Žè¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨ */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // Springåº”ç”¨å¯åŠ¨èµ·æ¥ SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; @SpringBootApplication: Spring Bootåº”ç”¨æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šè¯´æ˜Žè¿™ä¸ªç±»æ˜¯SpringBootçš„ä¸»é…ç½®ç±»ï¼ŒSpringBootå°±åº”è¯¥è¿è¡Œè¿™ä¸ªç±»çš„mainæ–¹æ³•æ¥å¯åŠ¨SpringBootåº”ç”¨ï¼› 12345678910@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)public @interface SpringBootApplication &#123; @SpringBootConfiguration:Spring Bootçš„é…ç½®ç±»ï¼› â€‹ æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpring Bootçš„é…ç½®ç±»ï¼› â€‹ @Configuration:é…ç½®ç±»ä¸Šæ¥æ ‡æ³¨è¿™ä¸ªæ³¨è§£ï¼› â€‹ é…ç½®ç±» â€”â€“ é…ç½®æ–‡ä»¶ï¼›é…ç½®ç±»ä¹Ÿæ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼›@Component @EnableAutoConfigurationï¼šå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼› â€‹ ä»¥å‰æˆ‘ä»¬éœ€è¦é…ç½®çš„ä¸œè¥¿ï¼ŒSpring Bootå¸®æˆ‘ä»¬è‡ªåŠ¨é…ç½®ï¼›@EnableAutoConfigurationå‘Šè¯‰SpringBootå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›è¿™æ ·è‡ªåŠ¨é…ç½®æ‰èƒ½ç”Ÿæ•ˆï¼› 123@AutoConfigurationPackage@Import(EnableAutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123; â€‹ @AutoConfigurationPackageï¼šè‡ªåŠ¨é…ç½®åŒ… â€‹ @Import(AutoConfigurationPackages.Registrar.class)ï¼š â€‹ Springçš„åº•å±‚æ³¨è§£@Importï¼Œç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶ï¼›å¯¼å…¥çš„ç»„ä»¶ç”±AutoConfigurationPackages.Registrar.classï¼› ==å°†ä¸»é…ç½®ç±»ï¼ˆ@SpringBootApplicationæ ‡æ³¨çš„ç±»ï¼‰çš„æ‰€åœ¨åŒ…åŠä¸‹é¢æ‰€æœ‰å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨ï¼›== â€‹ @Import(EnableAutoConfigurationImportSelector.class)ï¼› â€‹ ç»™å®¹å™¨ä¸­å¯¼å…¥ç»„ä»¶ï¼Ÿ â€‹ EnableAutoConfigurationImportSelectorï¼šå¯¼å…¥å“ªäº›ç»„ä»¶çš„é€‰æ‹©å™¨ï¼› â€‹ å°†æ‰€æœ‰éœ€è¦å¯¼å…¥çš„ç»„ä»¶ä»¥å…¨ç±»åçš„æ–¹å¼è¿”å›žï¼›è¿™äº›ç»„ä»¶å°±ä¼šè¢«æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼› â€‹ ä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éžå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±»ï¼ˆxxxAutoConfigurationï¼‰ï¼›å°±æ˜¯ç»™å®¹å™¨ä¸­å¯¼å…¥è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ï¼› æœ‰äº†è‡ªåŠ¨é…ç½®ç±»ï¼Œå…åŽ»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ³¨å…¥åŠŸèƒ½ç»„ä»¶ç­‰çš„å·¥ä½œï¼› â€‹ SpringFactoriesLoader.loadFactoryNames(EnableAutoConfiguration.class,classLoader)ï¼› ==Spring Bootåœ¨å¯åŠ¨çš„æ—¶å€™ä»Žç±»è·¯å¾„ä¸‹çš„META-INF/spring.factoriesä¸­èŽ·å–EnableAutoConfigurationæŒ‡å®šçš„å€¼ï¼Œå°†è¿™äº›å€¼ä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥åˆ°å®¹å™¨ä¸­ï¼Œè‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆï¼Œå¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œï¼›==ä»¥å‰æˆ‘ä»¬éœ€è¦è‡ªå·±é…ç½®çš„ä¸œè¥¿ï¼Œè‡ªåŠ¨é…ç½®ç±»éƒ½å¸®æˆ‘ä»¬ï¼› J2EEçš„æ•´ä½“æ•´åˆè§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®éƒ½åœ¨spring-boot-autoconfigure-1.5.9.RELEASE.jarï¼› â€‹ ==Springæ³¨è§£ç‰ˆï¼ˆè°·ç²’å­¦é™¢ï¼‰== 6ã€ä½¿ç”¨Spring Initializerå¿«é€Ÿåˆ›å»ºSpring Booté¡¹ç›®1ã€IDEAï¼šä½¿ç”¨ Spring Initializerå¿«é€Ÿåˆ›å»ºé¡¹ç›®IDEéƒ½æ”¯æŒä½¿ç”¨Springçš„é¡¹ç›®åˆ›å»ºå‘å¯¼å¿«é€Ÿåˆ›å»ºä¸€ä¸ªSpring Booté¡¹ç›®ï¼› é€‰æ‹©æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼›å‘å¯¼ä¼šè”ç½‘åˆ›å»ºSpring Booté¡¹ç›®ï¼› é»˜è®¤ç”Ÿæˆçš„Spring Booté¡¹ç›®ï¼› ä¸»ç¨‹åºå·²ç»ç”Ÿæˆå¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æˆ‘ä»¬è‡ªå·±çš„é€»è¾‘ resourcesæ–‡ä»¶å¤¹ä¸­ç›®å½•ç»“æž„ staticï¼šä¿å­˜æ‰€æœ‰çš„é™æ€èµ„æºï¼› js css imagesï¼› templatesï¼šä¿å­˜æ‰€æœ‰çš„æ¨¡æ¿é¡µé¢ï¼›ï¼ˆSpring Booté»˜è®¤jaråŒ…ä½¿ç”¨åµŒå…¥å¼çš„Tomcatï¼Œé»˜è®¤ä¸æ”¯æŒJSPé¡µé¢ï¼‰ï¼›å¯ä»¥ä½¿ç”¨æ¨¡æ¿å¼•æ“Žï¼ˆfreemarkerã€thymeleafï¼‰ï¼› application.propertiesï¼šSpring Bootåº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼›å¯ä»¥ä¿®æ”¹ä¸€äº›é»˜è®¤è®¾ç½®ï¼› 2ã€STSä½¿ç”¨ Spring Starter Projectå¿«é€Ÿåˆ›å»ºé¡¹ç›® äºŒã€é…ç½®æ–‡ä»¶1ã€é…ç½®æ–‡ä»¶SpringBootä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åæ˜¯å›ºå®šçš„ï¼› â€¢application.properties â€¢application.yml é…ç½®æ–‡ä»¶çš„ä½œç”¨ï¼šä¿®æ”¹SpringBootè‡ªåŠ¨é…ç½®çš„é»˜è®¤å€¼ï¼›SpringBootåœ¨åº•å±‚éƒ½ç»™æˆ‘ä»¬è‡ªåŠ¨é…ç½®å¥½ï¼› YAMLï¼ˆYAML Ainâ€™t Markup Languageï¼‰ â€‹ YAML A Markup Languageï¼šæ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ â€‹ YAML isnâ€™t Markup Languageï¼šä¸æ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ï¼› æ ‡è®°è¯­è¨€ï¼š â€‹ ä»¥å‰çš„é…ç½®æ–‡ä»¶ï¼›å¤§å¤šéƒ½ä½¿ç”¨çš„æ˜¯ xxxx.xmlæ–‡ä»¶ï¼› â€‹ YAMLï¼šä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œæ¯”jsonã€xmlç­‰æ›´é€‚åˆåšé…ç½®æ–‡ä»¶ï¼› â€‹ YAMLï¼šé…ç½®ä¾‹å­ 12server: port: 8081 â€‹ XMLï¼š 123&lt;server&gt; &lt;port&gt;8081&lt;/port&gt;&lt;/server&gt; 2ã€YAMLè¯­æ³•ï¼š1ã€åŸºæœ¬è¯­æ³•k:(ç©ºæ ¼)vï¼šè¡¨ç¤ºä¸€å¯¹é”®å€¼å¯¹ï¼ˆç©ºæ ¼å¿…é¡»æœ‰ï¼‰ï¼› ä»¥ç©ºæ ¼çš„ç¼©è¿›æ¥æŽ§åˆ¶å±‚çº§å…³ç³»ï¼›åªè¦æ˜¯å·¦å¯¹é½çš„ä¸€åˆ—æ•°æ®ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå±‚çº§çš„ 123server: port: 8081 path: /hello å±žæ€§å’Œå€¼ä¹Ÿæ˜¯å¤§å°å†™æ•æ„Ÿï¼› 2ã€å€¼çš„å†™æ³•å­—é¢é‡ï¼šæ™®é€šçš„å€¼ï¼ˆæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”ï¼‰â€‹ k: vï¼šå­—é¢ç›´æŽ¥æ¥å†™ï¼› â€‹ å­—ç¬¦ä¸²é»˜è®¤ä¸ç”¨åŠ ä¸Šå•å¼•å·æˆ–è€…åŒå¼•å·ï¼› â€‹ â€œâ€ï¼šåŒå¼•å·ï¼›ä¸ä¼šè½¬ä¹‰å­—ç¬¦ä¸²é‡Œé¢çš„ç‰¹æ®Šå­—ç¬¦ï¼›ç‰¹æ®Šå­—ç¬¦ä¼šä½œä¸ºæœ¬èº«æƒ³è¡¨ç¤ºçš„æ„æ€ â€‹ name: â€œzhangsan \n lisiâ€ï¼šè¾“å‡ºï¼›zhangsan æ¢è¡Œ lisi â€‹ â€˜â€™ï¼šå•å¼•å·ï¼›ä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œç‰¹æ®Šå­—ç¬¦æœ€ç»ˆåªæ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²æ•°æ® â€‹ name: â€˜zhangsan \n lisiâ€™ï¼šè¾“å‡ºï¼›zhangsan \n lisi å¯¹è±¡ã€Mapï¼ˆå±žæ€§å’Œå€¼ï¼‰ï¼ˆé”®å€¼å¯¹ï¼‰ï¼šâ€‹ k: vï¼šåœ¨ä¸‹ä¸€è¡Œæ¥å†™å¯¹è±¡çš„å±žæ€§å’Œå€¼çš„å…³ç³»ï¼›æ³¨æ„ç¼©è¿› â€‹ å¯¹è±¡è¿˜æ˜¯k: vçš„æ–¹å¼ 123friends: lastName: zhangsan age: 20 è¡Œå†…å†™æ³•ï¼š 1friends: &#123;lastName: zhangsan,age: 18&#125; æ•°ç»„ï¼ˆListã€Setï¼‰ï¼šç”¨- å€¼è¡¨ç¤ºæ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´  1234pets: - cat - dog - pig è¡Œå†…å†™æ³• 1pets: [cat,dog,pig] 3ã€é…ç½®æ–‡ä»¶å€¼æ³¨å…¥é…ç½®æ–‡ä»¶ 123456789101112person: lastName: hello age: 18 boss: false birth: 2017/12/12 maps: &#123;k1: v1,k2: 12&#125; lists: - lisi - zhaoliu dog: name: å°ç‹— age: 12 javaBeanï¼š 1234567891011121314151617181920/** * å°†é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ¯ä¸€ä¸ªå±žæ€§çš„å€¼ï¼Œæ˜ å°„åˆ°è¿™ä¸ªç»„ä»¶ä¸­ * @ConfigurationPropertiesï¼šå‘Šè¯‰SpringBootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±žæ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®šï¼› * prefix = "person"ï¼šé…ç½®æ–‡ä»¶ä¸­å“ªä¸ªä¸‹é¢çš„æ‰€æœ‰å±žæ€§è¿›è¡Œä¸€ä¸€æ˜ å°„ * * åªæœ‰è¿™ä¸ªç»„ä»¶æ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰èƒ½å®¹å™¨æä¾›çš„@ConfigurationPropertiesåŠŸèƒ½ï¼› * */@Component@ConfigurationProperties(prefix = "person")public class Person &#123; private String lastName; private Integer age; private Boolean boss; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; æˆ‘ä»¬å¯ä»¥å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œä»¥åŽç¼–å†™é…ç½®å°±æœ‰æç¤ºäº† 123456&lt;!--å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œé…ç½®æ–‡ä»¶è¿›è¡Œç»‘å®šå°±ä¼šæœ‰æç¤º--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; 1ã€propertiesé…ç½®æ–‡ä»¶åœ¨ideaä¸­é»˜è®¤utf-8å¯èƒ½ä¼šä¹±ç è°ƒæ•´ 2ã€@ValueèŽ·å–å€¼å’Œ@ConfigurationPropertiesèŽ·å–å€¼æ¯”è¾ƒ @ConfigurationProperties @Value åŠŸèƒ½ æ‰¹é‡æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å±žæ€§ ä¸€ä¸ªä¸ªæŒ‡å®š æ¾æ•£ç»‘å®šï¼ˆæ¾æ•£è¯­æ³•ï¼‰ æ”¯æŒ ä¸æ”¯æŒ SpEL ä¸æ”¯æŒ æ”¯æŒ JSR303æ•°æ®æ ¡éªŒ æ”¯æŒ ä¸æ”¯æŒ å¤æ‚ç±»åž‹å°è£… æ”¯æŒ ä¸æ”¯æŒ é…ç½®æ–‡ä»¶ymlè¿˜æ˜¯propertiesä»–ä»¬éƒ½èƒ½èŽ·å–åˆ°å€¼ï¼› å¦‚æžœè¯´ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨æŸä¸ªä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦èŽ·å–ä¸€ä¸‹é…ç½®æ–‡ä»¶ä¸­çš„æŸé¡¹å€¼ï¼Œä½¿ç”¨@Valueï¼› å¦‚æžœè¯´ï¼Œæˆ‘ä»¬ä¸“é—¨ç¼–å†™äº†ä¸€ä¸ªjavaBeanæ¥å’Œé…ç½®æ–‡ä»¶è¿›è¡Œæ˜ å°„ï¼Œæˆ‘ä»¬å°±ç›´æŽ¥ä½¿ç”¨@ConfigurationPropertiesï¼› 3ã€é…ç½®æ–‡ä»¶æ³¨å…¥å€¼æ•°æ®æ ¡éªŒ123456789101112131415161718192021222324@Component@ConfigurationProperties(prefix = "person")@Validatedpublic class Person &#123; /** * &lt;bean class="Person"&gt; * &lt;property name="lastName" value="å­—é¢é‡/$&#123;key&#125;ä»ŽçŽ¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ä¸­èŽ·å–å€¼/#&#123;SpEL&#125;"&gt;&lt;/property&gt; * &lt;bean/&gt; */ //lastNameå¿…é¡»æ˜¯é‚®ç®±æ ¼å¼ @Email //@Value("$&#123;person.last-name&#125;") private String lastName; //@Value("#&#123;11*2&#125;") private Integer age; //@Value("true") private Boolean boss; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; 4ã€@PropertySource&amp;@ImportResource&amp;@Bean@PropertySourceï¼šåŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶ï¼› 1234567891011121314151617181920212223242526272829/** * å°†é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ¯ä¸€ä¸ªå±žæ€§çš„å€¼ï¼Œæ˜ å°„åˆ°è¿™ä¸ªç»„ä»¶ä¸­ * @ConfigurationPropertiesï¼šå‘Šè¯‰SpringBootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±žæ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®šï¼› * prefix = "person"ï¼šé…ç½®æ–‡ä»¶ä¸­å“ªä¸ªä¸‹é¢çš„æ‰€æœ‰å±žæ€§è¿›è¡Œä¸€ä¸€æ˜ å°„ * * åªæœ‰è¿™ä¸ªç»„ä»¶æ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰èƒ½å®¹å™¨æä¾›çš„@ConfigurationPropertiesåŠŸèƒ½ï¼› * @ConfigurationProperties(prefix = "person")é»˜è®¤ä»Žå…¨å±€é…ç½®æ–‡ä»¶ä¸­èŽ·å–å€¼ï¼› * */@PropertySource(value = &#123;"classpath:person.properties"&#125;)@Component@ConfigurationProperties(prefix = "person")//@Validatedpublic class Person &#123; /** * &lt;bean class="Person"&gt; * &lt;property name="lastName" value="å­—é¢é‡/$&#123;key&#125;ä»ŽçŽ¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ä¸­èŽ·å–å€¼/#&#123;SpEL&#125;"&gt;&lt;/property&gt; * &lt;bean/&gt; */ //lastNameå¿…é¡»æ˜¯é‚®ç®±æ ¼å¼ // @Email //@Value("$&#123;person.last-name&#125;") private String lastName; //@Value("#&#123;11*2&#125;") private Integer age; //@Value("true") private Boolean boss; @ImportResourceï¼šå¯¼å…¥Springçš„é…ç½®æ–‡ä»¶ï¼Œè®©é…ç½®æ–‡ä»¶é‡Œé¢çš„å†…å®¹ç”Ÿæ•ˆï¼› Spring Booté‡Œé¢æ²¡æœ‰Springçš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿä¸èƒ½è‡ªåŠ¨è¯†åˆ«ï¼› æƒ³è®©Springçš„é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼ŒåŠ è½½è¿›æ¥ï¼›@ImportResourceæ ‡æ³¨åœ¨ä¸€ä¸ªé…ç½®ç±»ä¸Š 12@ImportResource(locations = &#123;"classpath:beans.xml"&#125;)å¯¼å…¥Springçš„é…ç½®æ–‡ä»¶è®©å…¶ç”Ÿæ•ˆ ä¸æ¥ç¼–å†™Springçš„é…ç½®æ–‡ä»¶ 12345678&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;bean id="helloService" class="com.atguigu.springboot.service.HelloService"&gt;&lt;/bean&gt;&lt;/beans&gt; SpringBootæŽ¨èç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶çš„æ–¹å¼ï¼›æŽ¨èä½¿ç”¨å…¨æ³¨è§£çš„æ–¹å¼ 1ã€é…ç½®ç±»@Configurationâ€”â€”&gt;Springé…ç½®æ–‡ä»¶ 2ã€ä½¿ç”¨@Beanç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ 12345678910111213141516/** * @Configurationï¼šæŒ‡æ˜Žå½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼›å°±æ˜¯æ¥æ›¿ä»£ä¹‹å‰çš„Springé…ç½®æ–‡ä»¶ * * åœ¨é…ç½®æ–‡ä»¶ä¸­ç”¨&lt;bean&gt;&lt;bean/&gt;æ ‡ç­¾æ·»åŠ ç»„ä»¶ * */@Configurationpublic class MyAppConfig &#123; //å°†æ–¹æ³•çš„è¿”å›žå€¼æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼›å®¹å™¨ä¸­è¿™ä¸ªç»„ä»¶é»˜è®¤çš„idå°±æ˜¯æ–¹æ³•å @Bean public HelloService helloService02()&#123; System.out.println("é…ç½®ç±»@Beanç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶äº†..."); return new HelloService(); &#125;&#125; ##4ã€é…ç½®æ–‡ä»¶å ä½ç¬¦ 1ã€éšæœºæ•°12$&#123;random.value&#125;ã€$&#123;random.int&#125;ã€$&#123;random.long&#125;$&#123;random.int(10)&#125;ã€$&#123;random.int[1024,65536]&#125; 2ã€å ä½ç¬¦èŽ·å–ä¹‹å‰é…ç½®çš„å€¼ï¼Œå¦‚æžœæ²¡æœ‰å¯ä»¥æ˜¯ç”¨:æŒ‡å®šé»˜è®¤å€¼123456789person.last-name=å¼ ä¸‰$&#123;random.uuid&#125;person.age=$&#123;random.int&#125;person.birth=2017/12/15person.boss=falseperson.maps.k1=v1person.maps.k2=14person.lists=a,b,cperson.dog.name=$&#123;person.hello:hello&#125;_dogperson.dog.age=15 5ã€Profile1ã€å¤šProfileæ–‡ä»¶æˆ‘ä»¬åœ¨ä¸»é…ç½®æ–‡ä»¶ç¼–å†™çš„æ—¶å€™ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯ application-{profile}.properties/yml é»˜è®¤ä½¿ç”¨application.propertiesçš„é…ç½®ï¼› 2ã€ymlæ”¯æŒå¤šæ–‡æ¡£å—æ–¹å¼1234567891011121314151617181920server: port: 8081spring: profiles: active: prod---server: port: 8083spring: profiles: dev---server: port: 8084spring: profiles: prod #æŒ‡å®šå±žäºŽå“ªä¸ªçŽ¯å¢ƒ 3ã€æ¿€æ´»æŒ‡å®šprofileâ€‹ 1ã€åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®š spring.profiles.active=dev â€‹ 2ã€å‘½ä»¤è¡Œï¼š â€‹ java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar â€“spring.profiles.active=devï¼› â€‹ å¯ä»¥ç›´æŽ¥åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œé…ç½®ä¼ å…¥å‘½ä»¤è¡Œå‚æ•° â€‹ 3ã€è™šæ‹Ÿæœºå‚æ•°ï¼› â€‹ -Dspring.profiles.active=dev 6ã€é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®springboot å¯åŠ¨ä¼šæ‰«æä»¥ä¸‹ä½ç½®çš„application.propertiesæˆ–è€…application.ymlæ–‡ä»¶ä½œä¸ºSpring bootçš„é»˜è®¤é…ç½®æ–‡ä»¶ â€“file:./config/ â€“file:./ â€“classpath:/config/ â€“classpath:/ ä¼˜å…ˆçº§ç”±é«˜åˆ°åº•ï¼Œé«˜ä¼˜å…ˆçº§çš„é…ç½®ä¼šè¦†ç›–ä½Žä¼˜å…ˆçº§çš„é…ç½®ï¼› SpringBootä¼šä»Žè¿™å››ä¸ªä½ç½®å…¨éƒ¨åŠ è½½ä¸»é…ç½®æ–‡ä»¶ï¼›äº’è¡¥é…ç½®ï¼› ==æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡spring.config.locationæ¥æ”¹å˜é»˜è®¤çš„é…ç½®æ–‡ä»¶ä½ç½®== é¡¹ç›®æ‰“åŒ…å¥½ä»¥åŽï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ï¼Œå¯åŠ¨é¡¹ç›®çš„æ—¶å€™æ¥æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ–°ä½ç½®ï¼›æŒ‡å®šé…ç½®æ–‡ä»¶å’Œé»˜è®¤åŠ è½½çš„è¿™äº›é…ç½®æ–‡ä»¶å…±åŒèµ·ä½œç”¨å½¢æˆäº’è¡¥é…ç½®ï¼› java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar â€“spring.config.location=G:/application.properties 7ã€å¤–éƒ¨é…ç½®åŠ è½½é¡ºåº==SpringBootä¹Ÿå¯ä»¥ä»Žä»¥ä¸‹ä½ç½®åŠ è½½é…ç½®ï¼› ä¼˜å…ˆçº§ä»Žé«˜åˆ°ä½Žï¼›é«˜ä¼˜å…ˆçº§çš„é…ç½®è¦†ç›–ä½Žä¼˜å…ˆçº§çš„é…ç½®ï¼Œæ‰€æœ‰çš„é…ç½®ä¼šå½¢æˆäº’è¡¥é…ç½®== 1.å‘½ä»¤è¡Œå‚æ•° æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šè¿›è¡ŒæŒ‡å®š java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar â€“server.port=8087 â€“server.context-path=/abc å¤šä¸ªé…ç½®ç”¨ç©ºæ ¼åˆ†å¼€ï¼› â€“é…ç½®é¡¹=å€¼ 2.æ¥è‡ªjava:comp/envçš„JNDIå±žæ€§ 3.Javaç³»ç»Ÿå±žæ€§ï¼ˆSystem.getProperties()ï¼‰ 4.æ“ä½œç³»ç»ŸçŽ¯å¢ƒå˜é‡ 5.RandomValuePropertySourceé…ç½®çš„random.*å±žæ€§å€¼ ==ç”±jaråŒ…å¤–å‘jaråŒ…å†…è¿›è¡Œå¯»æ‰¾ï¼›== ==ä¼˜å…ˆåŠ è½½å¸¦profile== 6.jaråŒ…å¤–éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶ 7.jaråŒ…å†…éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶ ==å†æ¥åŠ è½½ä¸å¸¦profile== 8.jaråŒ…å¤–éƒ¨çš„application.propertiesæˆ–application.yml(ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶ 9.jaråŒ…å†…éƒ¨çš„application.propertiesæˆ–application.yml(ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶ 10.@Configurationæ³¨è§£ç±»ä¸Šçš„@PropertySource 11.é€šè¿‡SpringApplication.setDefaultPropertiesæŒ‡å®šçš„é»˜è®¤å±žæ€§ æ‰€æœ‰æ”¯æŒçš„é…ç½®åŠ è½½æ¥æºï¼› å‚è€ƒå®˜æ–¹æ–‡æ¡£ 8ã€è‡ªåŠ¨é…ç½®åŽŸç†é…ç½®æ–‡ä»¶åˆ°åº•èƒ½å†™ä»€ä¹ˆï¼Ÿæ€Žä¹ˆå†™ï¼Ÿè‡ªåŠ¨é…ç½®åŽŸç†ï¼› é…ç½®æ–‡ä»¶èƒ½é…ç½®çš„å±žæ€§å‚ç…§ 1ã€è‡ªåŠ¨é…ç½®åŽŸç†ï¼š1ï¼‰ã€SpringBootå¯åŠ¨çš„æ—¶å€™åŠ è½½ä¸»é…ç½®ç±»ï¼Œå¼€å¯äº†è‡ªåŠ¨é…ç½®åŠŸèƒ½ ==@EnableAutoConfiguration== 2ï¼‰ã€@EnableAutoConfiguration ä½œç”¨ï¼š åˆ©ç”¨EnableAutoConfigurationImportSelectorç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€äº›ç»„ä»¶ï¼Ÿ å¯ä»¥æŸ¥çœ‹selectImports()æ–¹æ³•çš„å†…å®¹ï¼› List configurations = getCandidateConfigurations(annotationMetadata, attributes);èŽ·å–å€™é€‰çš„é…ç½® 1234SpringFactoriesLoader.loadFactoryNames()æ‰«ææ‰€æœ‰jaråŒ…ç±»è·¯å¾„ä¸‹ META-INF/spring.factoriesæŠŠæ‰«æåˆ°çš„è¿™äº›æ–‡ä»¶çš„å†…å®¹åŒ…è£…æˆpropertieså¯¹è±¡ä»Žpropertiesä¸­èŽ·å–åˆ°EnableAutoConfiguration.classç±»ï¼ˆç±»åï¼‰å¯¹åº”çš„å€¼ï¼Œç„¶åŽæŠŠä»–ä»¬æ·»åŠ åœ¨å®¹å™¨ä¸­ ==å°† ç±»è·¯å¾„ä¸‹ META-INF/spring.factories é‡Œé¢é…ç½®çš„æ‰€æœ‰EnableAutoConfigurationçš„å€¼åŠ å…¥åˆ°äº†å®¹å™¨ä¸­ï¼›== 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798# Auto Configureorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.ldap.LdapDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\org.springframework.boot.autoconfigure.elasticsearch.jest.JestAutoConfiguration,\org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.DeviceResolverAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.DeviceDelegatingViewResolverAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.SitePreferenceAutoConfiguration,\org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\org.springframework.boot.autoconfigure.reactor.ReactorAutoConfiguration,\org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,\org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,\org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,\org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration,\org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\org.springframework.boot.autoconfigure.social.SocialWebAutoConfiguration,\org.springframework.boot.autoconfigure.social.FacebookAutoConfiguration,\org.springframework.boot.autoconfigure.social.LinkedInAutoConfiguration,\org.springframework.boot.autoconfigure.social.TwitterAutoConfiguration,\org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration,\org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration,\org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration,\org.springframework.boot.autoconfigure.web.HttpEncodingAutoConfiguration,\org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration,\org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration,\org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration,\org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration,\org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration,\org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration,\org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration,\org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration æ¯ä¸€ä¸ªè¿™æ ·çš„ xxxAutoConfigurationç±»éƒ½æ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œéƒ½åŠ å…¥åˆ°å®¹å™¨ä¸­ï¼›ç”¨ä»–ä»¬æ¥åšè‡ªåŠ¨é…ç½®ï¼› 3ï¼‰ã€æ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»è¿›è¡Œè‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼› 4ï¼‰ã€ä»¥HttpEncodingAutoConfigurationï¼ˆHttpç¼–ç è‡ªåŠ¨é…ç½®ï¼‰ä¸ºä¾‹è§£é‡Šè‡ªåŠ¨é…ç½®åŽŸç†ï¼› 12345678910111213141516171819202122232425262728@Configuration //è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œä»¥å‰ç¼–å†™çš„é…ç½®æ–‡ä»¶ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶@EnableConfigurationProperties(HttpEncodingProperties.class) //å¯åŠ¨æŒ‡å®šç±»çš„ConfigurationPropertiesåŠŸèƒ½ï¼›å°†é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼å’ŒHttpEncodingPropertiesç»‘å®šèµ·æ¥ï¼›å¹¶æŠŠHttpEncodingPropertiesåŠ å…¥åˆ°iocå®¹å™¨ä¸­@ConditionalOnWebApplication //Springåº•å±‚@Conditionalæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆï¼‰ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼Œå¦‚æžœæ»¡è¶³æŒ‡å®šçš„æ¡ä»¶ï¼Œæ•´ä¸ªé…ç½®ç±»é‡Œé¢çš„é…ç½®å°±ä¼šç”Ÿæ•ˆï¼› åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯webåº”ç”¨ï¼Œå¦‚æžœæ˜¯ï¼Œå½“å‰é…ç½®ç±»ç”Ÿæ•ˆ@ConditionalOnClass(CharacterEncodingFilter.class) //åˆ¤æ–­å½“å‰é¡¹ç›®æœ‰æ²¡æœ‰è¿™ä¸ªç±»CharacterEncodingFilterï¼›SpringMVCä¸­è¿›è¡Œä¹±ç è§£å†³çš„è¿‡æ»¤å™¨ï¼›@ConditionalOnProperty(prefix = "spring.http.encoding", value = "enabled", matchIfMissing = true) //åˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé…ç½® spring.http.encoding.enabledï¼›å¦‚æžœä¸å­˜åœ¨ï¼Œåˆ¤æ–­ä¹Ÿæ˜¯æˆç«‹çš„//å³ä½¿æˆ‘ä»¬é…ç½®æ–‡ä»¶ä¸­ä¸é…ç½®pring.http.encoding.enabled=trueï¼Œä¹Ÿæ˜¯é»˜è®¤ç”Ÿæ•ˆçš„ï¼›public class HttpEncodingAutoConfiguration &#123; //ä»–å·²ç»å’ŒSpringBootçš„é…ç½®æ–‡ä»¶æ˜ å°„äº† private final HttpEncodingProperties properties; //åªæœ‰ä¸€ä¸ªæœ‰å‚æž„é€ å™¨çš„æƒ…å†µä¸‹ï¼Œå‚æ•°çš„å€¼å°±ä¼šä»Žå®¹å™¨ä¸­æ‹¿ public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶çš„æŸäº›å€¼éœ€è¦ä»Žpropertiesä¸­èŽ·å– @ConditionalOnMissingBean(CharacterEncodingFilter.class) //åˆ¤æ–­å®¹å™¨æ²¡æœ‰è¿™ä¸ªç»„ä»¶ï¼Ÿ public CharacterEncodingFilter characterEncodingFilter() &#123; CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter(); filter.setEncoding(this.properties.getCharset().name()); filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST)); filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE)); return filter; &#125; æ ¹æ®å½“å‰ä¸åŒçš„æ¡ä»¶åˆ¤æ–­ï¼Œå†³å®šè¿™ä¸ªé…ç½®ç±»æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ ä¸€ä½†è¿™ä¸ªé…ç½®ç±»ç”Ÿæ•ˆï¼›è¿™ä¸ªé…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­æ·»åŠ å„ç§ç»„ä»¶ï¼›è¿™äº›ç»„ä»¶çš„å±žæ€§æ˜¯ä»Žå¯¹åº”çš„propertiesç±»ä¸­èŽ·å–çš„ï¼Œè¿™äº›ç±»é‡Œé¢çš„æ¯ä¸€ä¸ªå±žæ€§åˆæ˜¯å’Œé…ç½®æ–‡ä»¶ç»‘å®šçš„ï¼› 5ï¼‰ã€æ‰€æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­èƒ½é…ç½®çš„å±žæ€§éƒ½æ˜¯åœ¨xxxxPropertiesç±»ä¸­å°è£…è€…â€˜ï¼›é…ç½®æ–‡ä»¶èƒ½é…ç½®ä»€ä¹ˆå°±å¯ä»¥å‚ç…§æŸä¸ªåŠŸèƒ½å¯¹åº”çš„è¿™ä¸ªå±žæ€§ç±» 1234@ConfigurationProperties(prefix = "spring.http.encoding") //ä»Žé…ç½®æ–‡ä»¶ä¸­èŽ·å–æŒ‡å®šçš„å€¼å’Œbeançš„å±žæ€§è¿›è¡Œç»‘å®špublic class HttpEncodingProperties &#123; public static final Charset DEFAULT_CHARSET = Charset.forName("UTF-8"); ç²¾é«“ï¼š â€‹ 1ï¼‰ã€SpringBootå¯åŠ¨ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±» â€‹ 2ï¼‰ã€æˆ‘ä»¬çœ‹æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æœ‰æ²¡æœ‰SpringBooté»˜è®¤å†™å¥½çš„è‡ªåŠ¨é…ç½®ç±»ï¼› â€‹ 3ï¼‰ã€æˆ‘ä»¬å†æ¥çœ‹è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ä¸­åˆ°åº•é…ç½®äº†å“ªäº›ç»„ä»¶ï¼›ï¼ˆåªè¦æˆ‘ä»¬è¦ç”¨çš„ç»„ä»¶æœ‰ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ¥é…ç½®äº†ï¼‰ â€‹ 4ï¼‰ã€ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä»Žpropertiesç±»ä¸­èŽ·å–æŸäº›å±žæ€§ã€‚æˆ‘ä»¬å°±å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±žæ€§çš„å€¼ï¼› xxxxAutoConfigurartionï¼šè‡ªåŠ¨é…ç½®ç±»ï¼› ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ xxxxProperties:å°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±žæ€§ï¼› 2ã€ç»†èŠ‚1ã€@Conditionalæ´¾ç”Ÿæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆåŽŸç”Ÿçš„@Conditionalä½œç”¨ï¼‰ä½œç”¨ï¼šå¿…é¡»æ˜¯@ConditionalæŒ‡å®šçš„æ¡ä»¶æˆç«‹ï¼Œæ‰ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œé…ç½®é…é‡Œé¢çš„æ‰€æœ‰å†…å®¹æ‰ç”Ÿæ•ˆï¼› @Conditionalæ‰©å±•æ³¨è§£ ä½œç”¨ï¼ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³å½“å‰æŒ‡å®šæ¡ä»¶ï¼‰ @ConditionalOnJava ç³»ç»Ÿçš„javaç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ @ConditionalOnBean å®¹å™¨ä¸­å­˜åœ¨æŒ‡å®šBeanï¼› @ConditionalOnMissingBean å®¹å™¨ä¸­ä¸å­˜åœ¨æŒ‡å®šBeanï¼› @ConditionalOnExpression æ»¡è¶³SpELè¡¨è¾¾å¼æŒ‡å®š @ConditionalOnClass ç³»ç»Ÿä¸­æœ‰æŒ‡å®šçš„ç±» @ConditionalOnMissingClass ç³»ç»Ÿä¸­æ²¡æœ‰æŒ‡å®šçš„ç±» @ConditionalOnSingleCandidate å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªæŒ‡å®šçš„Beanï¼Œæˆ–è€…è¿™ä¸ªBeanæ˜¯é¦–é€‰Bean @ConditionalOnProperty ç³»ç»Ÿä¸­æŒ‡å®šçš„å±žæ€§æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼ @ConditionalOnResource ç±»è·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šèµ„æºæ–‡ä»¶ @ConditionalOnWebApplication å½“å‰æ˜¯webçŽ¯å¢ƒ @ConditionalOnNotWebApplication å½“å‰ä¸æ˜¯webçŽ¯å¢ƒ @ConditionalOnJndi JNDIå­˜åœ¨æŒ‡å®šé¡¹ è‡ªåŠ¨é…ç½®ç±»å¿…é¡»åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼› æˆ‘ä»¬æ€Žä¹ˆçŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼› ==æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯ç”¨ debug=trueå±žæ€§ï¼›æ¥è®©æŽ§åˆ¶å°æ‰“å°è‡ªåŠ¨é…ç½®æŠ¥å‘Š==ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„çŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼› 1234567891011121314151617181920212223=========================AUTO-CONFIGURATION REPORT=========================Positive matches:ï¼ˆè‡ªåŠ¨é…ç½®ç±»å¯ç”¨çš„ï¼‰----------------- DispatcherServletAutoConfiguration matched: - @ConditionalOnClass found required class 'org.springframework.web.servlet.DispatcherServlet'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) - @ConditionalOnWebApplication (required) found StandardServletEnvironment (OnWebApplicationCondition) Negative matches:ï¼ˆæ²¡æœ‰å¯åŠ¨ï¼Œæ²¡æœ‰åŒ¹é…æˆåŠŸçš„è‡ªåŠ¨é…ç½®ç±»ï¼‰----------------- ActiveMQAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes 'javax.jms.ConnectionFactory', 'org.apache.activemq.ActiveMQConnectionFactory' (OnClassCondition) AopAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes 'org.aspectj.lang.annotation.Aspect', 'org.aspectj.lang.reflect.Advice' (OnClassCondition) ä¸‰ã€æ—¥å¿—1ã€æ—¥å¿—æ¡†æž¶ å°å¼ ï¼›å¼€å‘ä¸€ä¸ªå¤§åž‹ç³»ç»Ÿï¼› â€‹ 1ã€System.out.println(â€œâ€)ï¼›å°†å…³é”®æ•°æ®æ‰“å°åœ¨æŽ§åˆ¶å°ï¼›åŽ»æŽ‰ï¼Ÿå†™åœ¨ä¸€ä¸ªæ–‡ä»¶ï¼Ÿ â€‹ 2ã€æ¡†æž¶æ¥è®°å½•ç³»ç»Ÿçš„ä¸€äº›è¿è¡Œæ—¶ä¿¡æ¯ï¼›æ—¥å¿—æ¡†æž¶ ï¼› zhanglogging.jarï¼› â€‹ 3ã€é«˜å¤§ä¸Šçš„å‡ ä¸ªåŠŸèƒ½ï¼Ÿå¼‚æ­¥æ¨¡å¼ï¼Ÿè‡ªåŠ¨å½’æ¡£ï¼Ÿxxxxï¼Ÿ zhanglogging-good.jarï¼Ÿ â€‹ 4ã€å°†ä»¥å‰æ¡†æž¶å¸ä¸‹æ¥ï¼Ÿæ¢ä¸Šæ–°çš„æ¡†æž¶ï¼Œé‡æ–°ä¿®æ”¹ä¹‹å‰ç›¸å…³çš„APIï¼›zhanglogging-prefect.jarï¼› â€‹ 5ã€JDBCâ€”æ•°æ®åº“é©±åŠ¨ï¼› â€‹ å†™äº†ä¸€ä¸ªç»Ÿä¸€çš„æŽ¥å£å±‚ï¼›æ—¥å¿—é—¨é¢ï¼ˆæ—¥å¿—çš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼‰ï¼›logging-abstract.jarï¼› â€‹ ç»™é¡¹ç›®ä¸­å¯¼å…¥å…·ä½“çš„æ—¥å¿—å®žçŽ°å°±è¡Œäº†ï¼›æˆ‘ä»¬ä¹‹å‰çš„æ—¥å¿—æ¡†æž¶éƒ½æ˜¯å®žçŽ°çš„æŠ½è±¡å±‚ï¼› å¸‚é¢ä¸Šçš„æ—¥å¿—æ¡†æž¶ï¼› JULã€JCLã€Jboss-loggingã€logbackã€log4jã€log4j2ã€slf4jâ€¦. æ—¥å¿—é—¨é¢ ï¼ˆæ—¥å¿—çš„æŠ½è±¡å±‚ï¼‰ æ—¥å¿—å®žçŽ° JCLï¼ˆJakarta Commons Loggingï¼‰ SLF4jï¼ˆSimple Logging Facade for Javaï¼‰ jboss-logging Log4j JULï¼ˆjava.util.loggingï¼‰ Log4j2 Logback å·¦è¾¹é€‰ä¸€ä¸ªé—¨é¢ï¼ˆæŠ½è±¡å±‚ï¼‰ã€å³è¾¹æ¥é€‰ä¸€ä¸ªå®žçŽ°ï¼› æ—¥å¿—é—¨é¢ï¼š SLF4Jï¼› æ—¥å¿—å®žçŽ°ï¼šLogbackï¼› SpringBootï¼šåº•å±‚æ˜¯Springæ¡†æž¶ï¼ŒSpringæ¡†æž¶é»˜è®¤æ˜¯ç”¨JCLï¼›â€˜ â€‹ ==SpringBooté€‰ç”¨ SLF4jå’Œlogbackï¼›== 2ã€SLF4jä½¿ç”¨1ã€å¦‚ä½•åœ¨ç³»ç»Ÿä¸­ä½¿ç”¨SLF4j https://www.slf4j.orgä»¥åŽå¼€å‘çš„æ—¶å€™ï¼Œæ—¥å¿—è®°å½•æ–¹æ³•çš„è°ƒç”¨ï¼Œä¸åº”è¯¥æ¥ç›´æŽ¥è°ƒç”¨æ—¥å¿—çš„å®žçŽ°ç±»ï¼Œè€Œæ˜¯è°ƒç”¨æ—¥å¿—æŠ½è±¡å±‚é‡Œé¢çš„æ–¹æ³•ï¼› ç»™ç³»ç»Ÿé‡Œé¢å¯¼å…¥slf4jçš„jarå’Œ logbackçš„å®žçŽ°jar 123456789import org.slf4j.Logger;import org.slf4j.LoggerFactory;public class HelloWorld &#123; public static void main(String[] args) &#123; Logger logger = LoggerFactory.getLogger(HelloWorld.class); logger.info("Hello World"); &#125;&#125; å›¾ç¤ºï¼› æ¯ä¸€ä¸ªæ—¥å¿—çš„å®žçŽ°æ¡†æž¶éƒ½æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ã€‚ä½¿ç”¨slf4jä»¥åŽï¼Œé…ç½®æ–‡ä»¶è¿˜æ˜¯åšæˆæ—¥å¿—å®žçŽ°æ¡†æž¶è‡ªå·±æœ¬èº«çš„é…ç½®æ–‡ä»¶ï¼› 2ã€é—ç•™é—®é¢˜aï¼ˆslf4j+logbackï¼‰: Springï¼ˆcommons-loggingï¼‰ã€Hibernateï¼ˆjboss-loggingï¼‰ã€MyBatisã€xxxx ç»Ÿä¸€æ—¥å¿—è®°å½•ï¼Œå³ä½¿æ˜¯åˆ«çš„æ¡†æž¶å’Œæˆ‘ä¸€èµ·ç»Ÿä¸€ä½¿ç”¨slf4jè¿›è¡Œè¾“å‡ºï¼Ÿ å¦‚ä½•è®©ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ—¥å¿—éƒ½ç»Ÿä¸€åˆ°slf4jï¼› ==1ã€å°†ç³»ç»Ÿä¸­å…¶ä»–æ—¥å¿—æ¡†æž¶å…ˆæŽ’é™¤å‡ºåŽ»ï¼›== ==2ã€ç”¨ä¸­é—´åŒ…æ¥æ›¿æ¢åŽŸæœ‰çš„æ—¥å¿—æ¡†æž¶ï¼›== ==3ã€æˆ‘ä»¬å¯¼å…¥slf4jå…¶ä»–çš„å®žçŽ°== 3ã€SpringBootæ—¥å¿—å…³ç³»1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;&lt;/dependency&gt; SpringBootä½¿ç”¨å®ƒæ¥åšæ—¥å¿—åŠŸèƒ½ï¼› 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt; åº•å±‚ä¾èµ–å…³ç³» æ€»ç»“ï¼š â€‹ 1ï¼‰ã€SpringBootåº•å±‚ä¹Ÿæ˜¯ä½¿ç”¨slf4j+logbackçš„æ–¹å¼è¿›è¡Œæ—¥å¿—è®°å½• â€‹ 2ï¼‰ã€SpringBootä¹ŸæŠŠå…¶ä»–çš„æ—¥å¿—éƒ½æ›¿æ¢æˆäº†slf4jï¼› â€‹ 3ï¼‰ã€ä¸­é—´æ›¿æ¢åŒ…ï¼Ÿ 123456@SuppressWarnings("rawtypes")public abstract class LogFactory &#123; static String UNSUPPORTED_OPERATION_IN_JCL_OVER_SLF4J = "http://www.slf4j.org/codes.html#unsupported_operation_in_jcl_over_slf4j"; static LogFactory logFactory = new SLF4JLogFactory(); â€‹ 4ï¼‰ã€å¦‚æžœæˆ‘ä»¬è¦å¼•å…¥å…¶ä»–æ¡†æž¶ï¼Ÿä¸€å®šè¦æŠŠè¿™ä¸ªæ¡†æž¶çš„é»˜è®¤æ—¥å¿—ä¾èµ–ç§»é™¤æŽ‰ï¼Ÿ â€‹ Springæ¡†æž¶ç”¨çš„æ˜¯commons-loggingï¼› 12345678910&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt; ==SpringBootèƒ½è‡ªåŠ¨é€‚é…æ‰€æœ‰çš„æ—¥å¿—ï¼Œè€Œä¸”åº•å±‚ä½¿ç”¨slf4j+logbackçš„æ–¹å¼è®°å½•æ—¥å¿—ï¼Œå¼•å…¥å…¶ä»–æ¡†æž¶çš„æ—¶å€™ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªæ¡†æž¶ä¾èµ–çš„æ—¥å¿—æ¡†æž¶æŽ’é™¤æŽ‰å³å¯ï¼›== 4ã€æ—¥å¿—ä½¿ç”¨ï¼›1ã€é»˜è®¤é…ç½®SpringBooté»˜è®¤å¸®æˆ‘ä»¬é…ç½®å¥½äº†æ—¥å¿—ï¼› 123456789101112131415161718//è®°å½•å™¨Logger logger = LoggerFactory.getLogger(getClass());@Testpublic void contextLoads() &#123; //System.out.println(); //æ—¥å¿—çš„çº§åˆ«ï¼› //ç”±ä½Žåˆ°é«˜ trace&lt;debug&lt;info&lt;warn&lt;error //å¯ä»¥è°ƒæ•´è¾“å‡ºçš„æ—¥å¿—çº§åˆ«ï¼›æ—¥å¿—å°±åªä¼šåœ¨è¿™ä¸ªçº§åˆ«ä»¥ä»¥åŽçš„é«˜çº§åˆ«ç”Ÿæ•ˆ logger.trace("è¿™æ˜¯traceæ—¥å¿—..."); logger.debug("è¿™æ˜¯debugæ—¥å¿—..."); //SpringBooté»˜è®¤ç»™æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯infoçº§åˆ«çš„ï¼Œæ²¡æœ‰æŒ‡å®šçº§åˆ«çš„å°±ç”¨SpringBooté»˜è®¤è§„å®šçš„çº§åˆ«ï¼›rootçº§åˆ« logger.info("è¿™æ˜¯infoæ—¥å¿—..."); logger.warn("è¿™æ˜¯warnæ—¥å¿—..."); logger.error("è¿™æ˜¯erroræ—¥å¿—...");&#125; æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼š %dè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼Œ %threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ %-5levelï¼šçº§åˆ«ä»Žå·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦ %logger{50} è¡¨ç¤ºloggeråå­—æœ€é•¿50ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ã€‚ %msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ %næ˜¯æ¢è¡Œç¬¦ --&gt; %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n SpringBootä¿®æ”¹æ—¥å¿—çš„é»˜è®¤é…ç½® 123456789101112131415logging.level.com.atguigu=trace#logging.path=# ä¸æŒ‡å®šè·¯å¾„åœ¨å½“å‰é¡¹ç›®ä¸‹ç”Ÿæˆspringboot.logæ—¥å¿—# å¯ä»¥æŒ‡å®šå®Œæ•´çš„è·¯å¾„ï¼›#logging.file=G:/springboot.log# åœ¨å½“å‰ç£ç›˜çš„æ ¹è·¯å¾„ä¸‹åˆ›å»ºspringæ–‡ä»¶å¤¹å’Œé‡Œé¢çš„logæ–‡ä»¶å¤¹ï¼›ä½¿ç”¨ spring.log ä½œä¸ºé»˜è®¤æ–‡ä»¶logging.path=/spring/log# åœ¨æŽ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çš„æ ¼å¼logging.pattern.console=%d&#123;yyyy-MM-dd&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n# æŒ‡å®šæ–‡ä»¶ä¸­æ—¥å¿—è¾“å‡ºçš„æ ¼å¼logging.pattern.file=%d&#123;yyyy-MM-dd&#125; === [%thread] === %-5level === %logger&#123;50&#125; ==== %msg%n logging.file logging.path Example Description (none) (none) åªåœ¨æŽ§åˆ¶å°è¾“å‡º æŒ‡å®šæ–‡ä»¶å (none) my.log è¾“å‡ºæ—¥å¿—åˆ°my.logæ–‡ä»¶ (none) æŒ‡å®šç›®å½• /var/log è¾“å‡ºåˆ°æŒ‡å®šç›®å½•çš„ spring.log æ–‡ä»¶ä¸­ 2ã€æŒ‡å®šé…ç½®ç»™ç±»è·¯å¾„ä¸‹æ”¾ä¸Šæ¯ä¸ªæ—¥å¿—æ¡†æž¶è‡ªå·±çš„é…ç½®æ–‡ä»¶å³å¯ï¼›SpringBootå°±ä¸ä½¿ç”¨ä»–é»˜è®¤é…ç½®çš„äº† Logging System Customization Logback logback-spring.xml, logback-spring.groovy, logback.xml or logback.groovy Log4j2 log4j2-spring.xml or log4j2.xml JDK (Java Util Logging) logging.properties logback.xmlï¼šç›´æŽ¥å°±è¢«æ—¥å¿—æ¡†æž¶è¯†åˆ«äº†ï¼› logback-spring.xmlï¼šæ—¥å¿—æ¡†æž¶å°±ä¸ç›´æŽ¥åŠ è½½æ—¥å¿—çš„é…ç½®é¡¹ï¼Œç”±SpringBootè§£æžæ—¥å¿—é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨SpringBootçš„é«˜çº§ProfileåŠŸèƒ½ 1234&lt;springProfile name="staging"&gt; &lt;!-- configuration to be enabled when the "staging" profile is active --&gt; å¯ä»¥æŒ‡å®šæŸæ®µé…ç½®åªåœ¨æŸä¸ªçŽ¯å¢ƒä¸‹ç”Ÿæ•ˆ&lt;/springProfile&gt; å¦‚ï¼š 12345678910111213141516171819&lt;appender name="stdout" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;!-- æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼š %dè¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼Œ %threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ %-5levelï¼šçº§åˆ«ä»Žå·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦ %logger&#123;50&#125; è¡¨ç¤ºloggeråå­—æœ€é•¿50ä¸ªå­—ç¬¦ï¼Œå¦åˆ™æŒ‰ç…§å¥ç‚¹åˆ†å‰²ã€‚ %msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ %næ˜¯æ¢è¡Œç¬¦ --&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;springProfile name="dev"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; ----&gt; [%thread] ---&gt; %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt; &lt;/springProfile&gt; &lt;springProfile name="!dev"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; ==== [%thread] ==== %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt; &lt;/springProfile&gt; &lt;/layout&gt; &lt;/appender&gt; å¦‚æžœä½¿ç”¨logback.xmlä½œä¸ºæ—¥å¿—é…ç½®æ–‡ä»¶ï¼Œè¿˜è¦ä½¿ç”¨profileåŠŸèƒ½ï¼Œä¼šæœ‰ä»¥ä¸‹é”™è¯¯ no applicable action for [springProfile] 5ã€åˆ‡æ¢æ—¥å¿—æ¡†æž¶å¯ä»¥æŒ‰ç…§slf4jçš„æ—¥å¿—é€‚é…å›¾ï¼Œè¿›è¡Œç›¸å…³çš„åˆ‡æ¢ï¼› slf4j+log4jçš„æ–¹å¼ï¼› 12345678910111213141516171819&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;&lt;/dependency&gt; åˆ‡æ¢ä¸ºlog4j2 123456789101112131415 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;&lt;/dependency&gt; å››ã€Webå¼€å‘1ã€ç®€ä»‹ä½¿ç”¨SpringBootï¼› 1ï¼‰ã€åˆ›å»ºSpringBootåº”ç”¨ï¼Œé€‰ä¸­æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼› 2ï¼‰ã€SpringBootå·²ç»é»˜è®¤å°†è¿™äº›åœºæ™¯é…ç½®å¥½äº†ï¼Œåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå°‘é‡é…ç½®å°±å¯ä»¥è¿è¡Œèµ·æ¥ 3ï¼‰ã€è‡ªå·±ç¼–å†™ä¸šåŠ¡ä»£ç ï¼› è‡ªåŠ¨é…ç½®åŽŸç†ï¼Ÿ è¿™ä¸ªåœºæ™¯SpringBootå¸®æˆ‘ä»¬é…ç½®äº†ä»€ä¹ˆï¼Ÿèƒ½ä¸èƒ½ä¿®æ”¹ï¼Ÿèƒ½ä¿®æ”¹å“ªäº›é…ç½®ï¼Ÿèƒ½ä¸èƒ½æ‰©å±•ï¼Ÿxxx 12xxxxAutoConfigurationï¼šå¸®æˆ‘ä»¬ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç»„ä»¶ï¼›xxxxProperties:é…ç½®ç±»æ¥å°è£…é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼› 2ã€SpringBootå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™ï¼›123@ConfigurationProperties(prefix = "spring.resources", ignoreUnknownFields = false)public class ResourceProperties implements ResourceLoaderAware &#123; //å¯ä»¥è®¾ç½®å’Œé™æ€èµ„æºæœ‰å…³çš„å‚æ•°ï¼Œç¼“å­˜æ—¶é—´ç­‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364WebMvcAuotConfigurationï¼š @Override public void addResourceHandlers(ResourceHandlerRegistry registry) &#123; if (!this.resourceProperties.isAddMappings()) &#123; logger.debug("Default resource handling disabled"); return; &#125; Integer cachePeriod = this.resourceProperties.getCachePeriod(); if (!registry.hasMappingForPattern("/webjars/**")) &#123; customizeResourceHandlerRegistration( registry.addResourceHandler("/webjars/**") .addResourceLocations( "classpath:/META-INF/resources/webjars/") .setCachePeriod(cachePeriod)); &#125; String staticPathPattern = this.mvcProperties.getStaticPathPattern(); //é™æ€èµ„æºæ–‡ä»¶å¤¹æ˜ å°„ if (!registry.hasMappingForPattern(staticPathPattern)) &#123; customizeResourceHandlerRegistration( registry.addResourceHandler(staticPathPattern) .addResourceLocations( this.resourceProperties.getStaticLocations()) .setCachePeriod(cachePeriod)); &#125; &#125; //é…ç½®æ¬¢è¿Žé¡µæ˜ å°„ @Bean public WelcomePageHandlerMapping welcomePageHandlerMapping( ResourceProperties resourceProperties) &#123; return new WelcomePageHandlerMapping(resourceProperties.getWelcomePage(), this.mvcProperties.getStaticPathPattern()); &#125; //é…ç½®å–œæ¬¢çš„å›¾æ ‡ @Configuration @ConditionalOnProperty(value = "spring.mvc.favicon.enabled", matchIfMissing = true) public static class FaviconConfiguration &#123; private final ResourceProperties resourceProperties; public FaviconConfiguration(ResourceProperties resourceProperties) &#123; this.resourceProperties = resourceProperties; &#125; @Bean public SimpleUrlHandlerMapping faviconHandlerMapping() &#123; SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping(); mapping.setOrder(Ordered.HIGHEST_PRECEDENCE + 1); //æ‰€æœ‰ **/favicon.ico mapping.setUrlMap(Collections.singletonMap("**/favicon.ico", faviconRequestHandler())); return mapping; &#125; @Bean public ResourceHttpRequestHandler faviconRequestHandler() &#123; ResourceHttpRequestHandler requestHandler = new ResourceHttpRequestHandler(); requestHandler .setLocations(this.resourceProperties.getFaviconLocations()); return requestHandler; &#125; &#125; ==1ï¼‰ã€æ‰€æœ‰ /webjars/** ï¼Œéƒ½åŽ» classpath:/META-INF/resources/webjars/ æ‰¾èµ„æºï¼›== â€‹ webjarsï¼šä»¥jaråŒ…çš„æ–¹å¼å¼•å…¥é™æ€èµ„æºï¼› http://www.webjars.org/ localhost:8080/webjars/jquery/3.3.1/jquery.js 123456&lt;!--å¼•å…¥jquery-webjar--&gt;åœ¨è®¿é—®çš„æ—¶å€™åªéœ€è¦å†™webjarsä¸‹é¢èµ„æºçš„åç§°å³å¯ &lt;dependency&gt; &lt;groupId&gt;org.webjars&lt;/groupId&gt; &lt;artifactId&gt;jquery&lt;/artifactId&gt; &lt;version&gt;3.3.1&lt;/version&gt; &lt;/dependency&gt; ==2ï¼‰ã€â€/**â€ è®¿é—®å½“å‰é¡¹ç›®çš„ä»»ä½•èµ„æºï¼Œéƒ½åŽ»ï¼ˆé™æ€èµ„æºçš„æ–‡ä»¶å¤¹ï¼‰æ‰¾æ˜ å°„== 12345&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,&quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; &quot;/&quot;ï¼šå½“å‰é¡¹ç›®çš„æ ¹è·¯å¾„ localhost:8080/abc === åŽ»é™æ€èµ„æºæ–‡ä»¶å¤¹é‡Œé¢æ‰¾abc ==3ï¼‰ã€æ¬¢è¿Žé¡µï¼› é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰index.htmlé¡µé¢ï¼›è¢«â€/**â€æ˜ å°„ï¼›== â€‹ localhost:8080/ æ‰¾indexé¡µé¢ ==4ï¼‰ã€æ‰€æœ‰çš„ **/favicon.ico éƒ½æ˜¯åœ¨é™æ€èµ„æºæ–‡ä»¶ä¸‹æ‰¾ï¼›== 3ã€æ¨¡æ¿å¼•æ“ŽJSPã€Velocityã€Freemarkerã€Thymeleaf SpringBootæŽ¨èçš„Thymeleafï¼› è¯­æ³•æ›´ç®€å•ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼› 1ã€å¼•å…¥thymeleafï¼›123456789101112 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; 2.1.6 &lt;/dependency&gt;åˆ‡æ¢thymeleafç‰ˆæœ¬&lt;properties&gt; &lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;/thymeleaf.version&gt; &lt;!-- å¸ƒå±€åŠŸèƒ½çš„æ”¯æŒç¨‹åº thymeleaf3ä¸»ç¨‹åº layout2ä»¥ä¸Šç‰ˆæœ¬ --&gt; &lt;!-- thymeleaf2 layout1--&gt; &lt;thymeleaf-layout-dialect.version&gt;2.2.2&lt;/thymeleaf-layout-dialect.version&gt; &lt;/properties&gt; 2ã€Thymeleafä½¿ç”¨1234567891011@ConfigurationProperties(prefix = "spring.thymeleaf")public class ThymeleafProperties &#123; private static final Charset DEFAULT_ENCODING = Charset.forName("UTF-8"); private static final MimeType DEFAULT_CONTENT_TYPE = MimeType.valueOf("text/html"); public static final String DEFAULT_PREFIX = "classpath:/templates/"; public static final String DEFAULT_SUFFIX = ".html"; // åªè¦æˆ‘ä»¬æŠŠHTMLé¡µé¢æ”¾åœ¨classpath:/templates/ï¼Œthymeleafå°±èƒ½è‡ªåŠ¨æ¸²æŸ“ï¼› ä½¿ç”¨ï¼š 1ã€å¯¼å…¥thymeleafçš„åç§°ç©ºé—´ 1&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt; 2ã€ä½¿ç”¨thymeleafè¯­æ³•ï¼› 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;æˆåŠŸï¼&lt;/h1&gt; &lt;!--th:text å°†divé‡Œé¢çš„æ–‡æœ¬å†…å®¹è®¾ç½®ä¸º --&gt; &lt;div th:text="$&#123;hello&#125;"&gt;è¿™æ˜¯æ˜¾ç¤ºæ¬¢è¿Žä¿¡æ¯&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3ã€è¯­æ³•è§„åˆ™1ï¼‰ã€th:textï¼›æ”¹å˜å½“å‰å…ƒç´ é‡Œé¢çš„æ–‡æœ¬å†…å®¹ï¼› â€‹ thï¼šä»»æ„htmlå±žæ€§ï¼›æ¥æ›¿æ¢åŽŸç”Ÿå±žæ€§çš„å€¼ 2ï¼‰ã€è¡¨è¾¾å¼ï¼Ÿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869Simple expressions:ï¼ˆè¡¨è¾¾å¼è¯­æ³•ï¼‰ Variable Expressions: $&#123;...&#125;ï¼šèŽ·å–å˜é‡å€¼ï¼›OGNLï¼› 1ï¼‰ã€èŽ·å–å¯¹è±¡çš„å±žæ€§ã€è°ƒç”¨æ–¹æ³• 2ï¼‰ã€ä½¿ç”¨å†…ç½®çš„åŸºæœ¬å¯¹è±¡ï¼š #ctx : the context object. #vars: the context variables. #locale : the context locale. #request : (only in Web Contexts) the HttpServletRequest object. #response : (only in Web Contexts) the HttpServletResponse object. #session : (only in Web Contexts) the HttpSession object. #servletContext : (only in Web Contexts) the ServletContext object. $&#123;session.foo&#125; 3ï¼‰ã€å†…ç½®çš„ä¸€äº›å·¥å…·å¯¹è±¡ï¼š#execInfo : information about the template being processed.#messages : methods for obtaining externalized messages inside variables expressions, in the same way as they would be obtained using #&#123;â€¦&#125; syntax.#uris : methods for escaping parts of URLs/URIs#conversions : methods for executing the configured conversion service (if any).#dates : methods for java.util.Date objects: formatting, component extraction, etc.#calendars : analogous to #dates , but for java.util.Calendar objects.#numbers : methods for formatting numeric objects.#strings : methods for String objects: contains, startsWith, prepending/appending, etc.#objects : methods for objects in general.#bools : methods for boolean evaluation.#arrays : methods for arrays.#lists : methods for lists.#sets : methods for sets.#maps : methods for maps.#aggregates : methods for creating aggregates on arrays or collections.#ids : methods for dealing with id attributes that might be repeated (for example, as a result of an iteration). Selection Variable Expressions: *&#123;...&#125;ï¼šé€‰æ‹©è¡¨è¾¾å¼ï¼šå’Œ$&#123;&#125;åœ¨åŠŸèƒ½ä¸Šæ˜¯ä¸€æ ·ï¼› è¡¥å……ï¼šé…åˆ th:object=&quot;$&#123;session.user&#125;ï¼š &lt;div th:object=&quot;$&#123;session.user&#125;&quot;&gt; &lt;p&gt;Name: &lt;span th:text=&quot;*&#123;firstName&#125;&quot;&gt;Sebastian&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;Surname: &lt;span th:text=&quot;*&#123;lastName&#125;&quot;&gt;Pepper&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;Nationality: &lt;span th:text=&quot;*&#123;nationality&#125;&quot;&gt;Saturn&lt;/span&gt;.&lt;/p&gt; &lt;/div&gt; Message Expressions: #&#123;...&#125;ï¼šèŽ·å–å›½é™…åŒ–å†…å®¹ Link URL Expressions: @&#123;...&#125;ï¼šå®šä¹‰URLï¼› @&#123;/order/process(execId=$&#123;execId&#125;,execType=&apos;FAST&apos;)&#125; Fragment Expressions: ~&#123;...&#125;ï¼šç‰‡æ®µå¼•ç”¨è¡¨è¾¾å¼ &lt;div th:insert=&quot;~&#123;commons :: main&#125;&quot;&gt;...&lt;/div&gt; Literalsï¼ˆå­—é¢é‡ï¼‰ Text literals: &apos;one text&apos; , &apos;Another one!&apos; ,â€¦ Number literals: 0 , 34 , 3.0 , 12.3 ,â€¦ Boolean literals: true , false Null literal: null Literal tokens: one , sometext , main ,â€¦Text operations:ï¼ˆæ–‡æœ¬æ“ä½œï¼‰ String concatenation: + Literal substitutions: |The name is $&#123;name&#125;|Arithmetic operations:ï¼ˆæ•°å­¦è¿ç®—ï¼‰ Binary operators: + , - , * , / , % Minus sign (unary operator): -Boolean operations:ï¼ˆå¸ƒå°”è¿ç®—ï¼‰ Binary operators: and , or Boolean negation (unary operator): ! , notComparisons and equality:ï¼ˆæ¯”è¾ƒè¿ç®—ï¼‰ Comparators: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le ) Equality operators: == , != ( eq , ne )Conditional operators:æ¡ä»¶è¿ç®—ï¼ˆä¸‰å…ƒè¿ç®—ç¬¦ï¼‰ If-then: (if) ? (then) If-then-else: (if) ? (then) : (else) Default: (value) ?: (defaultvalue)Special tokens: No-Operation: _ 4ã€SpringMVCè‡ªåŠ¨é…ç½®https://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/reference/htmlsingle/#boot-features-developing-web-applications 1. Spring MVC auto-configurationSpring Boot è‡ªåŠ¨é…ç½®å¥½äº†SpringMVC ä»¥ä¸‹æ˜¯SpringBootå¯¹SpringMVCçš„é»˜è®¤é…ç½®:==ï¼ˆWebMvcAutoConfigurationï¼‰== Inclusion of ContentNegotiatingViewResolver and BeanNameViewResolver beans. è‡ªåŠ¨é…ç½®äº†ViewResolverï¼ˆè§†å›¾è§£æžå™¨ï¼šæ ¹æ®æ–¹æ³•çš„è¿”å›žå€¼å¾—åˆ°è§†å›¾å¯¹è±¡ï¼ˆViewï¼‰ï¼Œè§†å›¾å¯¹è±¡å†³å®šå¦‚ä½•æ¸²æŸ“ï¼ˆè½¬å‘ï¼Ÿé‡å®šå‘ï¼Ÿï¼‰ï¼‰ ContentNegotiatingViewResolverï¼šç»„åˆæ‰€æœ‰çš„è§†å›¾è§£æžå™¨çš„ï¼› ==å¦‚ä½•å®šåˆ¶ï¼šæˆ‘ä»¬å¯ä»¥è‡ªå·±ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªè§†å›¾è§£æžå™¨ï¼›è‡ªåŠ¨çš„å°†å…¶ç»„åˆè¿›æ¥ï¼›== Support for serving static resources, including support for WebJars (see below).é™æ€èµ„æºæ–‡ä»¶å¤¹è·¯å¾„,webjars Static index.html support. é™æ€é¦–é¡µè®¿é—® Custom Favicon support (see below). favicon.ico è‡ªåŠ¨æ³¨å†Œäº† of Converter, GenericConverter, Formatter beans. Converterï¼šè½¬æ¢å™¨ï¼› public String hello(User user)ï¼šç±»åž‹è½¬æ¢ä½¿ç”¨Converter Formatter æ ¼å¼åŒ–å™¨ï¼› 2017.12.17===Dateï¼› 12345@Bean@ConditionalOnProperty(prefix = "spring.mvc", name = "date-format")//åœ¨æ–‡ä»¶ä¸­é…ç½®æ—¥æœŸæ ¼å¼åŒ–çš„è§„åˆ™public Formatter&lt;Date&gt; dateFormatter() &#123; return new DateFormatter(this.mvcProperties.getDateFormat());//æ—¥æœŸæ ¼å¼åŒ–ç»„ä»¶&#125; â€‹ ==è‡ªå·±æ·»åŠ çš„æ ¼å¼åŒ–å™¨è½¬æ¢å™¨ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¾åœ¨å®¹å™¨ä¸­å³å¯== Support for HttpMessageConverters (see below). HttpMessageConverterï¼šSpringMVCç”¨æ¥è½¬æ¢Httpè¯·æ±‚å’Œå“åº”çš„ï¼›Userâ€”Jsonï¼› HttpMessageConverters æ˜¯ä»Žå®¹å™¨ä¸­ç¡®å®šï¼›èŽ·å–æ‰€æœ‰çš„HttpMessageConverterï¼› ==è‡ªå·±ç»™å®¹å™¨ä¸­æ·»åŠ HttpMessageConverterï¼Œåªéœ€è¦å°†è‡ªå·±çš„ç»„ä»¶æ³¨å†Œå®¹å™¨ä¸­ï¼ˆ@Bean,@Componentï¼‰== Automatic registration of MessageCodesResolver (see below).å®šä¹‰é”™è¯¯ä»£ç ç”Ÿæˆè§„åˆ™ Automatic use of a ConfigurableWebBindingInitializer bean (see below). ==æˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ªConfigurableWebBindingInitializeræ¥æ›¿æ¢é»˜è®¤çš„ï¼›ï¼ˆæ·»åŠ åˆ°å®¹å™¨ï¼‰== 12åˆå§‹åŒ–WebDataBinderï¼›è¯·æ±‚æ•°æ®=====JavaBeanï¼› org.springframework.boot.autoconfigure.webï¼šwebçš„æ‰€æœ‰è‡ªåŠ¨åœºæ™¯ï¼› If you want to keep Spring Boot MVC features, and you just want to add additional MVC configuration (interceptors, formatters, view controllers etc.) you can add your own @Configuration class of type WebMvcConfigurerAdapter, but without @EnableWebMvc. If you wish to provide custom instances of RequestMappingHandlerMapping, RequestMappingHandlerAdapter or ExceptionHandlerExceptionResolver you can declare a WebMvcRegistrationsAdapter instance providing such components. If you want to take complete control of Spring MVC, you can add your own @Configuration annotated with @EnableWebMvc. 2ã€æ‰©å±•SpringMVC1234567&lt;mvc:view-controller path="/hello" view-name="success"/&gt;&lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/hello"/&gt; &lt;bean&gt;&lt;/bean&gt; &lt;/mvc:interceptor&gt;&lt;/mvc:interceptors&gt; ==ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼ˆ@Configurationï¼‰ï¼Œæ˜¯WebMvcConfigurerAdapterç±»åž‹ï¼›ä¸èƒ½æ ‡æ³¨@EnableWebMvc==; æ—¢ä¿ç•™äº†æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ï¼Œä¹Ÿèƒ½ç”¨æˆ‘ä»¬æ‰©å±•çš„é…ç½®ï¼› 1234567891011//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success registry.addViewController("/atguigu").setViewName("success"); &#125;&#125; åŽŸç†ï¼š â€‹ 1ï¼‰ã€WebMvcAutoConfigurationæ˜¯SpringMVCçš„è‡ªåŠ¨é…ç½®ç±» â€‹ 2ï¼‰ã€åœ¨åšå…¶ä»–è‡ªåŠ¨é…ç½®æ—¶ä¼šå¯¼å…¥ï¼›@Import(EnableWebMvcConfiguration.class) 123456789101112131415161718 @Configurationpublic static class EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration &#123; private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite(); //ä»Žå®¹å™¨ä¸­èŽ·å–æ‰€æœ‰çš„WebMvcConfigurer @Autowired(required = false) public void setConfigurers(List&lt;WebMvcConfigurer&gt; configurers) &#123; if (!CollectionUtils.isEmpty(configurers)) &#123; this.configurers.addWebMvcConfigurers(configurers); //ä¸€ä¸ªå‚è€ƒå®žçŽ°ï¼›å°†æ‰€æœ‰çš„WebMvcConfigurerç›¸å…³é…ç½®éƒ½æ¥ä¸€èµ·è°ƒç”¨ï¼› @Override // public void addViewControllers(ViewControllerRegistry registry) &#123; // for (WebMvcConfigurer delegate : this.delegates) &#123; // delegate.addViewControllers(registry); // &#125; &#125; &#125;&#125; â€‹ 3ï¼‰ã€å®¹å™¨ä¸­æ‰€æœ‰çš„WebMvcConfigureréƒ½ä¼šä¸€èµ·èµ·ä½œç”¨ï¼› â€‹ 4ï¼‰ã€æˆ‘ä»¬çš„é…ç½®ç±»ä¹Ÿä¼šè¢«è°ƒç”¨ï¼› â€‹ æ•ˆæžœï¼šSpringMVCçš„è‡ªåŠ¨é…ç½®å’Œæˆ‘ä»¬çš„æ‰©å±•é…ç½®éƒ½ä¼šèµ·ä½œç”¨ï¼› 3ã€å…¨é¢æŽ¥ç®¡SpringMVCï¼›SpringBootå¯¹SpringMVCçš„è‡ªåŠ¨é…ç½®ä¸éœ€è¦äº†ï¼Œæ‰€æœ‰éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±é…ç½®ï¼›æ‰€æœ‰çš„SpringMVCçš„è‡ªåŠ¨é…ç½®éƒ½å¤±æ•ˆäº† æˆ‘ä»¬éœ€è¦åœ¨é…ç½®ç±»ä¸­æ·»åŠ @EnableWebMvcå³å¯ï¼› 123456789101112//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½@EnableWebMvc@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success registry.addViewController("/atguigu").setViewName("success"); &#125;&#125; åŽŸç†ï¼š ä¸ºä»€ä¹ˆ@EnableWebMvcè‡ªåŠ¨é…ç½®å°±å¤±æ•ˆäº†ï¼› 1ï¼‰@EnableWebMvcçš„æ ¸å¿ƒ 12@Import(DelegatingWebMvcConfiguration.class)public @interface EnableWebMvc &#123; 2ï¼‰ã€ 12@Configurationpublic class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport &#123; 3ï¼‰ã€ 12345678910@Configuration@ConditionalOnWebApplication@ConditionalOnClass(&#123; Servlet.class, DispatcherServlet.class, WebMvcConfigurerAdapter.class &#125;)//å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»æ‰ç”Ÿæ•ˆ@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)@AutoConfigureAfter(&#123; DispatcherServletAutoConfiguration.class, ValidationAutoConfiguration.class &#125;)public class WebMvcAutoConfiguration &#123; 4ï¼‰ã€@EnableWebMvcå°†WebMvcConfigurationSupportç»„ä»¶å¯¼å…¥è¿›æ¥ï¼› 5ï¼‰ã€å¯¼å…¥çš„WebMvcConfigurationSupportåªæ˜¯SpringMVCæœ€åŸºæœ¬çš„åŠŸèƒ½ï¼› 5ã€å¦‚ä½•ä¿®æ”¹SpringBootçš„é»˜è®¤é…ç½®æ¨¡å¼ï¼š â€‹ 1ï¼‰ã€SpringBootåœ¨è‡ªåŠ¨é…ç½®å¾ˆå¤šç»„ä»¶çš„æ—¶å€™ï¼Œå…ˆçœ‹å®¹å™¨ä¸­æœ‰æ²¡æœ‰ç”¨æˆ·è‡ªå·±é…ç½®çš„ï¼ˆ@Beanã€@Componentï¼‰å¦‚æžœæœ‰å°±ç”¨ç”¨æˆ·é…ç½®çš„ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œæ‰è‡ªåŠ¨é…ç½®ï¼›å¦‚æžœæœ‰äº›ç»„ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼ˆViewResolverï¼‰å°†ç”¨æˆ·é…ç½®çš„å’Œè‡ªå·±é»˜è®¤çš„ç»„åˆèµ·æ¥ï¼› â€‹ 2ï¼‰ã€åœ¨SpringBootä¸­ä¼šæœ‰éžå¸¸å¤šçš„xxxConfigurerå¸®åŠ©æˆ‘ä»¬è¿›è¡Œæ‰©å±•é…ç½® â€‹ 3ï¼‰ã€åœ¨SpringBootä¸­ä¼šæœ‰å¾ˆå¤šçš„xxxCustomizerå¸®åŠ©æˆ‘ä»¬è¿›è¡Œå®šåˆ¶é…ç½® 6ã€RestfulCRUD1ï¼‰ã€é»˜è®¤è®¿é—®é¦–é¡µ1234567891011121314151617181920212223242526//ä½¿ç”¨WebMvcConfigurerAdapterå¯ä»¥æ¥æ‰©å±•SpringMVCçš„åŠŸèƒ½//@EnableWebMvc ä¸è¦æŽ¥ç®¡SpringMVC@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //æµè§ˆå™¨å‘é€ /atguigu è¯·æ±‚æ¥åˆ° success registry.addViewController("/atguigu").setViewName("success"); &#125; //æ‰€æœ‰çš„WebMvcConfigurerAdapterç»„ä»¶éƒ½ä¼šä¸€èµ·èµ·ä½œç”¨ @Bean //å°†ç»„ä»¶æ³¨å†Œåœ¨å®¹å™¨ public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController("/").setViewName("login"); registry.addViewController("/index.html").setViewName("login"); &#125; &#125;; return adapter; &#125;&#125; 2ï¼‰ã€å›½é™…åŒ–1ï¼‰ã€ç¼–å†™å›½é™…åŒ–é…ç½®æ–‡ä»¶ï¼› 2ï¼‰ã€ä½¿ç”¨ResourceBundleMessageSourceç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶ 3ï¼‰ã€åœ¨é¡µé¢ä½¿ç”¨fmt:messageå–å‡ºå›½é™…åŒ–å†…å®¹ æ­¥éª¤ï¼š 1ï¼‰ã€ç¼–å†™å›½é™…åŒ–é…ç½®æ–‡ä»¶ï¼ŒæŠ½å–é¡µé¢éœ€è¦æ˜¾ç¤ºçš„å›½é™…åŒ–æ¶ˆæ¯ 2ï¼‰ã€SpringBootè‡ªåŠ¨é…ç½®å¥½äº†ç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„ç»„ä»¶ï¼› 12345678910111213141516171819202122232425262728@ConfigurationProperties(prefix = "spring.messages")public class MessageSourceAutoConfiguration &#123; /** * Comma-separated list of basenames (essentially a fully-qualified classpath * location), each following the ResourceBundle convention with relaxed support for * slash based locations. If it doesn't contain a package qualifier (such as * "org.mypackage"), it will be resolved from the classpath root. */ private String basename = "messages"; //æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶å¯ä»¥ç›´æŽ¥æ”¾åœ¨ç±»è·¯å¾„ä¸‹å«messages.propertiesï¼› @Bean public MessageSource messageSource() &#123; ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource(); if (StringUtils.hasText(this.basename)) &#123; //è®¾ç½®å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„åŸºç¡€åï¼ˆåŽ»æŽ‰è¯­è¨€å›½å®¶ä»£ç çš„ï¼‰ messageSource.setBasenames(StringUtils.commaDelimitedListToStringArray( StringUtils.trimAllWhitespace(this.basename))); &#125; if (this.encoding != null) &#123; messageSource.setDefaultEncoding(this.encoding.name()); &#125; messageSource.setFallbackToSystemLocale(this.fallbackToSystemLocale); messageSource.setCacheSeconds(this.cacheSeconds); messageSource.setAlwaysUseMessageFormat(this.alwaysUseMessageFormat); return messageSource; &#125; 3ï¼‰ã€åŽ»é¡µé¢èŽ·å–å›½é™…åŒ–çš„å€¼ï¼› 123456789101112131415161718192021222324252627282930313233343536&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"&gt; &lt;meta name="description" content=""&gt; &lt;meta name="author" content=""&gt; &lt;title&gt;Signin Template for Bootstrap&lt;/title&gt; &lt;!-- Bootstrap core CSS --&gt; &lt;link href="asserts/css/bootstrap.min.css" th:href="@&#123;/webjars/bootstrap/4.0.0/css/bootstrap.css&#125;" rel="stylesheet"&gt; &lt;!-- Custom styles for this template --&gt; &lt;link href="asserts/css/signin.css" th:href="@&#123;/asserts/css/signin.css&#125;" rel="stylesheet"&gt; &lt;/head&gt; &lt;body class="text-center"&gt; &lt;form class="form-signin" action="dashboard.html"&gt; &lt;img class="mb-4" th:src="@&#123;/asserts/img/bootstrap-solid.svg&#125;" src="asserts/img/bootstrap-solid.svg" alt="" width="72" height="72"&gt; &lt;h1 class="h3 mb-3 font-weight-normal" th:text="#&#123;login.tip&#125;"&gt;Please sign in&lt;/h1&gt; &lt;label class="sr-only" th:text="#&#123;login.username&#125;"&gt;Username&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="Username" th:placeholder="#&#123;login.username&#125;" required="" autofocus=""&gt; &lt;label class="sr-only" th:text="#&#123;login.password&#125;"&gt;Password&lt;/label&gt; &lt;input type="password" class="form-control" placeholder="Password" th:placeholder="#&#123;login.password&#125;" required=""&gt; &lt;div class="checkbox mb-3"&gt; &lt;label&gt; &lt;input type="checkbox" value="remember-me"/&gt; [[#&#123;login.remember&#125;]] &lt;/label&gt; &lt;/div&gt; &lt;button class="btn btn-lg btn-primary btn-block" type="submit" th:text="#&#123;login.btn&#125;"&gt;Sign in&lt;/button&gt; &lt;p class="mt-5 mb-3 text-muted"&gt;Â© 2017-2018&lt;/p&gt; &lt;a class="btn btn-sm"&gt;ä¸­æ–‡&lt;/a&gt; &lt;a class="btn btn-sm"&gt;English&lt;/a&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; æ•ˆæžœï¼šæ ¹æ®æµè§ˆå™¨è¯­è¨€è®¾ç½®çš„ä¿¡æ¯åˆ‡æ¢äº†å›½é™…åŒ–ï¼› åŽŸç†ï¼š â€‹ å›½é™…åŒ–Localeï¼ˆåŒºåŸŸä¿¡æ¯å¯¹è±¡ï¼‰ï¼›LocaleResolverï¼ˆèŽ·å–åŒºåŸŸä¿¡æ¯å¯¹è±¡ï¼‰ï¼› 12345678910111213 @Bean @ConditionalOnMissingBean @ConditionalOnProperty(prefix = "spring.mvc", name = "locale") public LocaleResolver localeResolver() &#123; if (this.mvcProperties .getLocaleResolver() == WebMvcProperties.LocaleResolver.FIXED) &#123; return new FixedLocaleResolver(this.mvcProperties.getLocale()); &#125; AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver(); localeResolver.setDefaultLocale(this.mvcProperties.getLocale()); return localeResolver; &#125;é»˜è®¤çš„å°±æ˜¯æ ¹æ®è¯·æ±‚å¤´å¸¦æ¥çš„åŒºåŸŸä¿¡æ¯èŽ·å–Localeè¿›è¡Œå›½é™…åŒ– 4ï¼‰ã€ç‚¹å‡»é“¾æŽ¥åˆ‡æ¢å›½é™…åŒ– 12345678910111213141516171819202122232425262728/** * å¯ä»¥åœ¨è¿žæŽ¥ä¸Šæºå¸¦åŒºåŸŸä¿¡æ¯ */public class MyLocaleResolver implements LocaleResolver &#123; @Override public Locale resolveLocale(HttpServletRequest request) &#123; String l = request.getParameter("l"); Locale locale = Locale.getDefault(); if(!StringUtils.isEmpty(l))&#123; String[] split = l.split("_"); locale = new Locale(split[0],split[1]); &#125; return locale; &#125; @Override public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) &#123; &#125;&#125; @Bean public LocaleResolver localeResolver()&#123; return new MyLocaleResolver(); &#125;&#125; 3ï¼‰ã€ç™»é™†å¼€å‘æœŸé—´æ¨¡æ¿å¼•æ“Žé¡µé¢ä¿®æ”¹ä»¥åŽï¼Œè¦å®žæ—¶ç”Ÿæ•ˆ 1ï¼‰ã€ç¦ç”¨æ¨¡æ¿å¼•æ“Žçš„ç¼“å­˜ 12# ç¦ç”¨ç¼“å­˜spring.thymeleaf.cache=false 2ï¼‰ã€é¡µé¢ä¿®æ”¹å®Œæˆä»¥åŽctrl+f9ï¼šé‡æ–°ç¼–è¯‘ï¼› ç™»é™†é”™è¯¯æ¶ˆæ¯çš„æ˜¾ç¤º 1&lt;p style="color: red" th:text="$&#123;msg&#125;" th:if="$&#123;not #strings.isEmpty(msg)&#125;"&gt;&lt;/p&gt; 4ï¼‰ã€æ‹¦æˆªå™¨è¿›è¡Œç™»é™†æ£€æŸ¥æ‹¦æˆªå™¨ 12345678910111213141516171819202122232425262728293031/** * ç™»é™†æ£€æŸ¥ï¼Œ */public class LoginHandlerInterceptor implements HandlerInterceptor &#123; //ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; Object user = request.getSession().getAttribute("loginUser"); if(user == null)&#123; //æœªç™»é™†ï¼Œè¿”å›žç™»é™†é¡µé¢ request.setAttribute("msg","æ²¡æœ‰æƒé™è¯·å…ˆç™»é™†"); request.getRequestDispatcher("/index.html").forward(request,response); return false; &#125;else&#123; //å·²ç™»é™†ï¼Œæ”¾è¡Œè¯·æ±‚ return true; &#125; &#125; @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; &#125;&#125; æ³¨å†Œæ‹¦æˆªå™¨ 1234567891011121314151617181920212223//æ‰€æœ‰çš„WebMvcConfigurerAdapterç»„ä»¶éƒ½ä¼šä¸€èµ·èµ·ä½œç”¨ @Bean //å°†ç»„ä»¶æ³¨å†Œåœ¨å®¹å™¨ public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController("/").setViewName("login"); registry.addViewController("/index.html").setViewName("login"); registry.addViewController("/main.html").setViewName("dashboard"); &#125; //æ³¨å†Œæ‹¦æˆªå™¨ @Override public void addInterceptors(InterceptorRegistry registry) &#123; //super.addInterceptors(registry); //é™æ€èµ„æºï¼› *.css , *.js //SpringBootå·²ç»åšå¥½äº†é™æ€èµ„æºæ˜ å°„ registry.addInterceptor(new LoginHandlerInterceptor()).addPathPatterns("/**") .excludePathPatterns("/index.html","/","/user/login"); &#125; &#125;; return adapter; &#125; 5ï¼‰ã€CRUD-å‘˜å·¥åˆ—è¡¨å®žéªŒè¦æ±‚ï¼š 1ï¼‰ã€RestfulCRUDï¼šCRUDæ»¡è¶³Resté£Žæ ¼ï¼› URIï¼š /èµ„æºåç§°/èµ„æºæ ‡è¯† HTTPè¯·æ±‚æ–¹å¼åŒºåˆ†å¯¹èµ„æºCRUDæ“ä½œ æ™®é€šCRUDï¼ˆuriæ¥åŒºåˆ†æ“ä½œï¼‰ RestfulCRUD æŸ¥è¯¢ getEmp empâ€”GET æ·»åŠ  addEmp?xxx empâ€”POST ä¿®æ”¹ updateEmp?id=xxx&amp;xxx=xx emp/{id}â€”PUT åˆ é™¤ deleteEmp?id=1 emp/{id}â€”DELETE 2ï¼‰ã€å®žéªŒçš„è¯·æ±‚æž¶æž„; å®žéªŒåŠŸèƒ½ è¯·æ±‚URI è¯·æ±‚æ–¹å¼ æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ emps GET æŸ¥è¯¢æŸä¸ªå‘˜å·¥(æ¥åˆ°ä¿®æ”¹é¡µé¢) emp/1 GET æ¥åˆ°æ·»åŠ é¡µé¢ emp GET æ·»åŠ å‘˜å·¥ emp POST æ¥åˆ°ä¿®æ”¹é¡µé¢ï¼ˆæŸ¥å‡ºå‘˜å·¥è¿›è¡Œä¿¡æ¯å›žæ˜¾ï¼‰ emp/1 GET ä¿®æ”¹å‘˜å·¥ emp PUT åˆ é™¤å‘˜å·¥ emp/1 DELETE 3ï¼‰ã€å‘˜å·¥åˆ—è¡¨ï¼š thymeleafå…¬å…±é¡µé¢å…ƒç´ æŠ½å–12345678910111213141ã€æŠ½å–å…¬å…±ç‰‡æ®µ&lt;div th:fragment="copy"&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt;2ã€å¼•å…¥å…¬å…±ç‰‡æ®µ&lt;div th:insert="~&#123;footer :: copy&#125;"&gt;&lt;/div&gt;~&#123;templatename::selector&#125;ï¼šæ¨¡æ¿å::é€‰æ‹©å™¨~&#123;templatename::fragmentname&#125;:æ¨¡æ¿å::ç‰‡æ®µå3ã€é»˜è®¤æ•ˆæžœï¼šinsertçš„å…¬å…±ç‰‡æ®µåœ¨divæ ‡ç­¾ä¸­å¦‚æžœä½¿ç”¨th:insertç­‰å±žæ€§è¿›è¡Œå¼•å…¥ï¼Œå¯ä»¥ä¸ç”¨å†™~&#123;&#125;ï¼šè¡Œå†…å†™æ³•å¯ä»¥åŠ ä¸Šï¼š[[~&#123;&#125;]];[(~&#123;&#125;)]ï¼› ä¸‰ç§å¼•å…¥å…¬å…±ç‰‡æ®µçš„thå±žæ€§ï¼š th:insertï¼šå°†å…¬å…±ç‰‡æ®µæ•´ä¸ªæ’å…¥åˆ°å£°æ˜Žå¼•å…¥çš„å…ƒç´ ä¸­ th:replaceï¼šå°†å£°æ˜Žå¼•å…¥çš„å…ƒç´ æ›¿æ¢ä¸ºå…¬å…±ç‰‡æ®µ th:includeï¼šå°†è¢«å¼•å…¥çš„ç‰‡æ®µçš„å†…å®¹åŒ…å«è¿›è¿™ä¸ªæ ‡ç­¾ä¸­ 1234567891011121314151617181920212223&lt;footer th:fragment="copy"&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/footer&gt;å¼•å…¥æ–¹å¼&lt;div th:insert="footer :: copy"&gt;&lt;/div&gt;&lt;div th:replace="footer :: copy"&gt;&lt;/div&gt;&lt;div th:include="footer :: copy"&gt;&lt;/div&gt;æ•ˆæžœ&lt;div&gt; &lt;footer&gt; &amp;copy; 2011 The Good Thymes Virtual Grocery &lt;/footer&gt;&lt;/div&gt;&lt;footer&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/footer&gt;&lt;div&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt; å¼•å…¥ç‰‡æ®µçš„æ—¶å€™ä¼ å…¥å‚æ•°ï¼š 123456789101112131415161718&lt;nav class="col-md-2 d-none d-md-block bg-light sidebar" id="sidebar"&gt; &lt;div class="sidebar-sticky"&gt; &lt;ul class="nav flex-column"&gt; &lt;li class="nav-item"&gt; &lt;a class="nav-link active" th:class="$&#123;activeUri=='main.html'?'nav-link active':'nav-link'&#125;" href="#" th:href="@&#123;/main.html&#125;"&gt; &lt;svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"&gt; &lt;path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"&gt;&lt;/path&gt; &lt;polyline points="9 22 9 12 15 12 15 22"&gt;&lt;/polyline&gt; &lt;/svg&gt; Dashboard &lt;span class="sr-only"&gt;(current)&lt;/span&gt; &lt;/a&gt; &lt;/li&gt;&lt;!--å¼•å…¥ä¾§è¾¹æ ;ä¼ å…¥å‚æ•°--&gt;&lt;div th:replace="commons/bar::#sidebar(activeUri='emps')"&gt;&lt;/div&gt; 6ï¼‰ã€CRUD-å‘˜å·¥æ·»åŠ æ·»åŠ é¡µé¢ 123456789101112131415161718192021222324252627282930313233343536&lt;form&gt; &lt;div class="form-group"&gt; &lt;label&gt;LastName&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="zhangsan"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input type="email" class="form-control" placeholder="zhangsan@atguigu.com"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Gender&lt;/label&gt;&lt;br/&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="1"&gt; &lt;label class="form-check-label"&gt;ç”·&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="0"&gt; &lt;label class="form-check-label"&gt;å¥³&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;department&lt;/label&gt; &lt;select class="form-control"&gt; &lt;option&gt;1&lt;/option&gt; &lt;option&gt;2&lt;/option&gt; &lt;option&gt;3&lt;/option&gt; &lt;option&gt;4&lt;/option&gt; &lt;option&gt;5&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Birth&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="zhangsan"&gt; &lt;/div&gt; &lt;button type="submit" class="btn btn-primary"&gt;æ·»åŠ &lt;/button&gt;&lt;/form&gt; æäº¤çš„æ•°æ®æ ¼å¼ä¸å¯¹ï¼šç”Ÿæ—¥ï¼šæ—¥æœŸï¼› 2017-12-12ï¼›2017/12/12ï¼›2017.12.12ï¼› æ—¥æœŸçš„æ ¼å¼åŒ–ï¼›SpringMVCå°†é¡µé¢æäº¤çš„å€¼éœ€è¦è½¬æ¢ä¸ºæŒ‡å®šçš„ç±»åž‹; 2017-12-12â€”Dateï¼› ç±»åž‹è½¬æ¢ï¼Œæ ¼å¼åŒ–; é»˜è®¤æ—¥æœŸæ˜¯æŒ‰ç…§/çš„æ–¹å¼ï¼› 7ï¼‰ã€CRUD-å‘˜å·¥ä¿®æ”¹ä¿®æ”¹æ·»åŠ äºŒåˆä¸€è¡¨å• 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!--éœ€è¦åŒºåˆ†æ˜¯å‘˜å·¥ä¿®æ”¹è¿˜æ˜¯æ·»åŠ ï¼›--&gt;&lt;form th:action="@&#123;/emp&#125;" method="post"&gt; &lt;!--å‘é€putè¯·æ±‚ä¿®æ”¹å‘˜å·¥æ•°æ®--&gt; &lt;!--1ã€SpringMVCä¸­é…ç½®HiddenHttpMethodFilter;ï¼ˆSpringBootè‡ªåŠ¨é…ç½®å¥½çš„ï¼‰2ã€é¡µé¢åˆ›å»ºä¸€ä¸ªpostè¡¨å•3ã€åˆ›å»ºä¸€ä¸ªinputé¡¹ï¼Œname="_method";å€¼å°±æ˜¯æˆ‘ä»¬æŒ‡å®šçš„è¯·æ±‚æ–¹å¼--&gt; &lt;input type="hidden" name="_method" value="put" th:if="$&#123;emp!=null&#125;"/&gt; &lt;input type="hidden" name="id" th:if="$&#123;emp!=null&#125;" th:value="$&#123;emp.id&#125;"&gt; &lt;div class="form-group"&gt; &lt;label&gt;LastName&lt;/label&gt; &lt;input name="lastName" type="text" class="form-control" placeholder="zhangsan" th:value="$&#123;emp!=null&#125;?$&#123;emp.lastName&#125;"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input name="email" type="email" class="form-control" placeholder="zhangsan@atguigu.com" th:value="$&#123;emp!=null&#125;?$&#123;emp.email&#125;"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Gender&lt;/label&gt;&lt;br/&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="1" th:checked="$&#123;emp!=null&#125;?$&#123;emp.gender==1&#125;"&gt; &lt;label class="form-check-label"&gt;ç”·&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="0" th:checked="$&#123;emp!=null&#125;?$&#123;emp.gender==0&#125;"&gt; &lt;label class="form-check-label"&gt;å¥³&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;department&lt;/label&gt; &lt;!--æäº¤çš„æ˜¯éƒ¨é—¨çš„id--&gt; &lt;select class="form-control" name="department.id"&gt; &lt;option th:selected="$&#123;emp!=null&#125;?$&#123;dept.id == emp.department.id&#125;" th:value="$&#123;dept.id&#125;" th:each="dept:$&#123;depts&#125;" th:text="$&#123;dept.departmentName&#125;"&gt;1&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Birth&lt;/label&gt; &lt;input name="birth" type="text" class="form-control" placeholder="zhangsan" th:value="$&#123;emp!=null&#125;?$&#123;#dates.format(emp.birth, 'yyyy-MM-dd HH:mm')&#125;"&gt; &lt;/div&gt; &lt;button type="submit" class="btn btn-primary" th:text="$&#123;emp!=null&#125;?'ä¿®æ”¹':'æ·»åŠ '"&gt;æ·»åŠ &lt;/button&gt;&lt;/form&gt; 8ï¼‰ã€CRUD-å‘˜å·¥åˆ é™¤123456789101112131415161718192021&lt;tr th:each="emp:$&#123;emps&#125;"&gt; &lt;td th:text="$&#123;emp.id&#125;"&gt;&lt;/td&gt; &lt;td&gt;[[$&#123;emp.lastName&#125;]]&lt;/td&gt; &lt;td th:text="$&#123;emp.email&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;emp.gender&#125;==0?'å¥³':'ç”·'"&gt;&lt;/td&gt; &lt;td th:text="$&#123;emp.department.departmentName&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;#dates.format(emp.birth, 'yyyy-MM-dd HH:mm')&#125;"&gt;&lt;/td&gt; &lt;td&gt; &lt;a class="btn btn-sm btn-primary" th:href="@&#123;/emp/&#125;+$&#123;emp.id&#125;"&gt;ç¼–è¾‘&lt;/a&gt; &lt;button th:attr="del_uri=@&#123;/emp/&#125;+$&#123;emp.id&#125;" class="btn btn-sm btn-danger deleteBtn"&gt;åˆ é™¤&lt;/button&gt; &lt;/td&gt;&lt;/tr&gt;&lt;script&gt; $(".deleteBtn").click(function()&#123; //åˆ é™¤å½“å‰å‘˜å·¥çš„ $("#deleteEmpForm").attr("action",$(this).attr("del_uri")).submit(); return false; &#125;);&lt;/script&gt; 7ã€é”™è¯¯å¤„ç†æœºåˆ¶1ï¼‰ã€SpringBooté»˜è®¤çš„é”™è¯¯å¤„ç†æœºåˆ¶é»˜è®¤æ•ˆæžœï¼š â€‹ 1ï¼‰ã€æµè§ˆå™¨ï¼Œè¿”å›žä¸€ä¸ªé»˜è®¤çš„é”™è¯¯é¡µé¢ æµè§ˆå™¨å‘é€è¯·æ±‚çš„è¯·æ±‚å¤´ï¼š â€‹ 2ï¼‰ã€å¦‚æžœæ˜¯å…¶ä»–å®¢æˆ·ç«¯ï¼Œé»˜è®¤å“åº”ä¸€ä¸ªjsonæ•°æ® â€‹ åŽŸç†ï¼š â€‹ å¯ä»¥å‚ç…§ErrorMvcAutoConfigurationï¼›é”™è¯¯å¤„ç†çš„è‡ªåŠ¨é…ç½®ï¼› ç»™å®¹å™¨ä¸­æ·»åŠ äº†ä»¥ä¸‹ç»„ä»¶ â€‹ 1ã€DefaultErrorAttributesï¼š 1234567891011å¸®æˆ‘ä»¬åœ¨é¡µé¢å…±äº«ä¿¡æ¯ï¼›@Override public Map&lt;String, Object&gt; getErrorAttributes(RequestAttributes requestAttributes, boolean includeStackTrace) &#123; Map&lt;String, Object&gt; errorAttributes = new LinkedHashMap&lt;String, Object&gt;(); errorAttributes.put("timestamp", new Date()); addStatus(errorAttributes, requestAttributes); addErrorDetails(errorAttributes, requestAttributes, includeStackTrace); addPath(errorAttributes, requestAttributes); return errorAttributes; &#125; â€‹ 2ã€BasicErrorControllerï¼šå¤„ç†é»˜è®¤/errorè¯·æ±‚ 12345678910111213141516171819202122232425@Controller@RequestMapping("$&#123;server.error.path:$&#123;error.path:/error&#125;&#125;")public class BasicErrorController extends AbstractErrorController &#123; @RequestMapping(produces = "text/html")//äº§ç”Ÿhtmlç±»åž‹çš„æ•°æ®ï¼›æµè§ˆå™¨å‘é€çš„è¯·æ±‚æ¥åˆ°è¿™ä¸ªæ–¹æ³•å¤„ç† public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) &#123; HttpStatus status = getStatus(request); Map&lt;String, Object&gt; model = Collections.unmodifiableMap(getErrorAttributes( request, isIncludeStackTrace(request, MediaType.TEXT_HTML))); response.setStatus(status.value()); //åŽ»å“ªä¸ªé¡µé¢ä½œä¸ºé”™è¯¯é¡µé¢ï¼›åŒ…å«é¡µé¢åœ°å€å’Œé¡µé¢å†…å®¹ ModelAndView modelAndView = resolveErrorView(request, response, status, model); return (modelAndView == null ? new ModelAndView("error", model) : modelAndView); &#125; @RequestMapping @ResponseBody //äº§ç”Ÿjsonæ•°æ®ï¼Œå…¶ä»–å®¢æˆ·ç«¯æ¥åˆ°è¿™ä¸ªæ–¹æ³•å¤„ç†ï¼› public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) &#123; Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request, MediaType.ALL)); HttpStatus status = getStatus(request); return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(body, status); &#125; â€‹ 3ã€ErrorPageCustomizerï¼š 12@Value("$&#123;error.path:/error&#125;")private String path = "/error"; ç³»ç»Ÿå‡ºçŽ°é”™è¯¯ä»¥åŽæ¥åˆ°errorè¯·æ±‚è¿›è¡Œå¤„ç†ï¼›ï¼ˆweb.xmlæ³¨å†Œçš„é”™è¯¯é¡µé¢è§„åˆ™ï¼‰ â€‹ 4ã€DefaultErrorViewResolverï¼š 123456789101112131415161718192021222324@Override public ModelAndView resolveErrorView(HttpServletRequest request, HttpStatus status, Map&lt;String, Object&gt; model) &#123; ModelAndView modelAndView = resolve(String.valueOf(status), model); if (modelAndView == null &amp;&amp; SERIES_VIEWS.containsKey(status.series())) &#123; modelAndView = resolve(SERIES_VIEWS.get(status.series()), model); &#125; return modelAndView; &#125; private ModelAndView resolve(String viewName, Map&lt;String, Object&gt; model) &#123; //é»˜è®¤SpringBootå¯ä»¥åŽ»æ‰¾åˆ°ä¸€ä¸ªé¡µé¢ï¼Ÿ error/404 String errorViewName = "error/" + viewName; //æ¨¡æ¿å¼•æ“Žå¯ä»¥è§£æžè¿™ä¸ªé¡µé¢åœ°å€å°±ç”¨æ¨¡æ¿å¼•æ“Žè§£æž TemplateAvailabilityProvider provider = this.templateAvailabilityProviders .getProvider(errorViewName, this.applicationContext); if (provider != null) &#123; //æ¨¡æ¿å¼•æ“Žå¯ç”¨çš„æƒ…å†µä¸‹è¿”å›žåˆ°errorViewNameæŒ‡å®šçš„è§†å›¾åœ°å€ return new ModelAndView(errorViewName, model); &#125; //æ¨¡æ¿å¼•æ“Žä¸å¯ç”¨ï¼Œå°±åœ¨é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹æ‰¾errorViewNameå¯¹åº”çš„é¡µé¢ error/404.html return resolveResource(errorViewName, model); &#125; â€‹ æ­¥éª¤ï¼š â€‹ ä¸€ä½†ç³»ç»Ÿå‡ºçŽ°4xxæˆ–è€…5xxä¹‹ç±»çš„é”™è¯¯ï¼›ErrorPageCustomizerå°±ä¼šç”Ÿæ•ˆï¼ˆå®šåˆ¶é”™è¯¯çš„å“åº”è§„åˆ™ï¼‰ï¼›å°±ä¼šæ¥åˆ°/errorè¯·æ±‚ï¼›å°±ä¼šè¢«BasicErrorControllerå¤„ç†ï¼› â€‹ 1ï¼‰å“åº”é¡µé¢ï¼›åŽ»å“ªä¸ªé¡µé¢æ˜¯ç”±DefaultErrorViewResolverè§£æžå¾—åˆ°çš„ï¼› 1234567891011protected ModelAndView resolveErrorView(HttpServletRequest request, HttpServletResponse response, HttpStatus status, Map&lt;String, Object&gt; model) &#123; //æ‰€æœ‰çš„ErrorViewResolverå¾—åˆ°ModelAndView for (ErrorViewResolver resolver : this.errorViewResolvers) &#123; ModelAndView modelAndView = resolver.resolveErrorView(request, status, model); if (modelAndView != null) &#123; return modelAndView; &#125; &#125; return null;&#125; 2ï¼‰ã€å¦‚æžœå®šåˆ¶é”™è¯¯å“åº”ï¼š1ï¼‰ã€å¦‚ä½•å®šåˆ¶é”™è¯¯çš„é¡µé¢ï¼›â€‹ 1ï¼‰ã€æœ‰æ¨¡æ¿å¼•æ“Žçš„æƒ…å†µä¸‹ï¼›error/çŠ¶æ€ç ; ã€å°†é”™è¯¯é¡µé¢å‘½åä¸º é”™è¯¯çŠ¶æ€ç .html æ”¾åœ¨æ¨¡æ¿å¼•æ“Žæ–‡ä»¶å¤¹é‡Œé¢çš„ erroræ–‡ä»¶å¤¹ä¸‹ã€‘ï¼Œå‘ç”Ÿæ­¤çŠ¶æ€ç çš„é”™è¯¯å°±ä¼šæ¥åˆ° å¯¹åº”çš„é¡µé¢ï¼› â€‹ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨4xxå’Œ5xxä½œä¸ºé”™è¯¯é¡µé¢çš„æ–‡ä»¶åæ¥åŒ¹é…è¿™ç§ç±»åž‹çš„æ‰€æœ‰é”™è¯¯ï¼Œç²¾ç¡®ä¼˜å…ˆï¼ˆä¼˜å…ˆå¯»æ‰¾ç²¾ç¡®çš„çŠ¶æ€ç .htmlï¼‰ï¼› â€‹ é¡µé¢èƒ½èŽ·å–çš„ä¿¡æ¯ï¼› â€‹ timestampï¼šæ—¶é—´æˆ³ â€‹ statusï¼šçŠ¶æ€ç  â€‹ errorï¼šé”™è¯¯æç¤º â€‹ exceptionï¼šå¼‚å¸¸å¯¹è±¡ â€‹ messageï¼šå¼‚å¸¸æ¶ˆæ¯ â€‹ errorsï¼šJSR303æ•°æ®æ ¡éªŒçš„é”™è¯¯éƒ½åœ¨è¿™é‡Œ â€‹ 2ï¼‰ã€æ²¡æœ‰æ¨¡æ¿å¼•æ“Žï¼ˆæ¨¡æ¿å¼•æ“Žæ‰¾ä¸åˆ°è¿™ä¸ªé”™è¯¯é¡µé¢ï¼‰ï¼Œé™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹æ‰¾ï¼› â€‹ 3ï¼‰ã€ä»¥ä¸Šéƒ½æ²¡æœ‰é”™è¯¯é¡µé¢ï¼Œå°±æ˜¯é»˜è®¤æ¥åˆ°SpringBooté»˜è®¤çš„é”™è¯¯æç¤ºé¡µé¢ï¼› 2ï¼‰ã€å¦‚ä½•å®šåˆ¶é”™è¯¯çš„jsonæ•°æ®ï¼›â€‹ 1ï¼‰ã€è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†&amp;è¿”å›žå®šåˆ¶jsonæ•°æ®ï¼› 12345678910111213@ControllerAdvicepublic class MyExceptionHandler &#123; @ResponseBody @ExceptionHandler(UserNotExistException.class) public Map&lt;String,Object&gt; handleException(Exception e)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put("code","user.notexist"); map.put("message",e.getMessage()); return map; &#125;&#125;//æ²¡æœ‰è‡ªé€‚åº”æ•ˆæžœ... â€‹ 2ï¼‰ã€è½¬å‘åˆ°/errorè¿›è¡Œè‡ªé€‚åº”å“åº”æ•ˆæžœå¤„ç† 1234567891011121314@ExceptionHandler(UserNotExistException.class) public String handleException(Exception e, HttpServletRequest request)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); //ä¼ å…¥æˆ‘ä»¬è‡ªå·±çš„é”™è¯¯çŠ¶æ€ç  4xx 5xxï¼Œå¦åˆ™å°±ä¸ä¼šè¿›å…¥å®šåˆ¶é”™è¯¯é¡µé¢çš„è§£æžæµç¨‹ /** * Integer statusCode = (Integer) request .getAttribute("javax.servlet.error.status_code"); */ request.setAttribute("javax.servlet.error.status_code",500); map.put("code","user.notexist"); map.put("message",e.getMessage()); //è½¬å‘åˆ°/error return "forward:/error"; &#125; 3ï¼‰ã€å°†æˆ‘ä»¬çš„å®šåˆ¶æ•°æ®æºå¸¦å‡ºåŽ»ï¼›å‡ºçŽ°é”™è¯¯ä»¥åŽï¼Œä¼šæ¥åˆ°/errorè¯·æ±‚ï¼Œä¼šè¢«BasicErrorControllerå¤„ç†ï¼Œå“åº”å‡ºåŽ»å¯ä»¥èŽ·å–çš„æ•°æ®æ˜¯ç”±getErrorAttributeså¾—åˆ°çš„ï¼ˆæ˜¯AbstractErrorControllerï¼ˆErrorControllerï¼‰è§„å®šçš„æ–¹æ³•ï¼‰ï¼› â€‹ 1ã€å®Œå…¨æ¥ç¼–å†™ä¸€ä¸ªErrorControllerçš„å®žçŽ°ç±»ã€æˆ–è€…æ˜¯ç¼–å†™AbstractErrorControllerçš„å­ç±»ã€‘ï¼Œæ”¾åœ¨å®¹å™¨ä¸­ï¼› â€‹ 2ã€é¡µé¢ä¸Šèƒ½ç”¨çš„æ•°æ®ï¼Œæˆ–è€…æ˜¯jsonè¿”å›žèƒ½ç”¨çš„æ•°æ®éƒ½æ˜¯é€šè¿‡errorAttributes.getErrorAttributeså¾—åˆ°ï¼› â€‹ å®¹å™¨ä¸­DefaultErrorAttributes.getErrorAttributes()ï¼›é»˜è®¤è¿›è¡Œæ•°æ®å¤„ç†çš„ï¼› è‡ªå®šä¹‰ErrorAttributes 1234567891011//ç»™å®¹å™¨ä¸­åŠ å…¥æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ErrorAttributes@Componentpublic class MyErrorAttributes extends DefaultErrorAttributes &#123; @Override public Map&lt;String, Object&gt; getErrorAttributes(RequestAttributes requestAttributes, boolean includeStackTrace) &#123; Map&lt;String, Object&gt; map = super.getErrorAttributes(requestAttributes, includeStackTrace); map.put("company","atguigu"); return map; &#125;&#125; æœ€ç»ˆçš„æ•ˆæžœï¼šå“åº”æ˜¯è‡ªé€‚åº”çš„ï¼Œå¯ä»¥é€šè¿‡å®šåˆ¶ErrorAttributesæ”¹å˜éœ€è¦è¿”å›žçš„å†…å®¹ï¼Œ 8ã€é…ç½®åµŒå…¥å¼Servletå®¹å™¨SpringBooté»˜è®¤ä½¿ç”¨Tomcatä½œä¸ºåµŒå…¥å¼çš„Servletå®¹å™¨ï¼› é—®é¢˜ï¼Ÿ 1ï¼‰ã€å¦‚ä½•å®šåˆ¶å’Œä¿®æ”¹Servletå®¹å™¨çš„ç›¸å…³é…ç½®ï¼›1ã€ä¿®æ”¹å’Œserveræœ‰å…³çš„é…ç½®ï¼ˆServerPropertiesã€ä¹Ÿæ˜¯EmbeddedServletContainerCustomizerã€‘ï¼‰ï¼› 123456789server.port=8081server.context-path=/crudserver.tomcat.uri-encoding=UTF-8//é€šç”¨çš„Servletå®¹å™¨è®¾ç½®server.xxx//Tomcatçš„è®¾ç½®server.tomcat.xxx 2ã€ç¼–å†™ä¸€ä¸ªEmbeddedServletContainerCustomizerï¼šåµŒå…¥å¼çš„Servletå®¹å™¨çš„å®šåˆ¶å™¨ï¼›æ¥ä¿®æ”¹Servletå®¹å™¨çš„é…ç½® 1234567891011@Bean //ä¸€å®šè¦å°†è¿™ä¸ªå®šåˆ¶å™¨åŠ å…¥åˆ°å®¹å™¨ä¸­public EmbeddedServletContainerCustomizer embeddedServletContainerCustomizer()&#123; return new EmbeddedServletContainerCustomizer() &#123; //å®šåˆ¶åµŒå…¥å¼çš„Servletå®¹å™¨ç›¸å…³çš„è§„åˆ™ @Override public void customize(ConfigurableEmbeddedServletContainer container) &#123; container.setPort(8083); &#125; &#125;;&#125; 2ï¼‰ã€æ³¨å†ŒServletä¸‰å¤§ç»„ä»¶ã€Servletã€Filterã€Listenerã€‘ç”±äºŽSpringBooté»˜è®¤æ˜¯ä»¥jaråŒ…çš„æ–¹å¼å¯åŠ¨åµŒå…¥å¼çš„Servletå®¹å™¨æ¥å¯åŠ¨SpringBootçš„webåº”ç”¨ï¼Œæ²¡æœ‰web.xmlæ–‡ä»¶ã€‚ æ³¨å†Œä¸‰å¤§ç»„ä»¶ç”¨ä»¥ä¸‹æ–¹å¼ ServletRegistrationBean 123456//æ³¨å†Œä¸‰å¤§ç»„ä»¶@Beanpublic ServletRegistrationBean myServlet()&#123; ServletRegistrationBean registrationBean = new ServletRegistrationBean(new MyServlet(),"/myServlet"); return registrationBean;&#125; FilterRegistrationBean 1234567@Beanpublic FilterRegistrationBean myFilter()&#123; FilterRegistrationBean registrationBean = new FilterRegistrationBean(); registrationBean.setFilter(new MyFilter()); registrationBean.setUrlPatterns(Arrays.asList("/hello","/myServlet")); return registrationBean;&#125; ServletListenerRegistrationBean 12345@Beanpublic ServletListenerRegistrationBean myListener()&#123; ServletListenerRegistrationBean&lt;MyListener&gt; registrationBean = new ServletListenerRegistrationBean&lt;&gt;(new MyListener()); return registrationBean;&#125; SpringBootå¸®æˆ‘ä»¬è‡ªåŠ¨SpringMVCçš„æ—¶å€™ï¼Œè‡ªåŠ¨çš„æ³¨å†ŒSpringMVCçš„å‰ç«¯æŽ§åˆ¶å™¨ï¼›DIspatcherServletï¼› DispatcherServletAutoConfigurationä¸­ï¼š 1234567891011121314151617@Bean(name = DEFAULT_DISPATCHER_SERVLET_REGISTRATION_BEAN_NAME)@ConditionalOnBean(value = DispatcherServlet.class, name = DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)public ServletRegistrationBean dispatcherServletRegistration( DispatcherServlet dispatcherServlet) &#123; ServletRegistrationBean registration = new ServletRegistrationBean( dispatcherServlet, this.serverProperties.getServletMapping()); //é»˜è®¤æ‹¦æˆªï¼š / æ‰€æœ‰è¯·æ±‚ï¼›åŒ…é™æ€èµ„æºï¼Œä½†æ˜¯ä¸æ‹¦æˆªjspè¯·æ±‚ï¼› /*ä¼šæ‹¦æˆªjsp //å¯ä»¥é€šè¿‡server.servletPathæ¥ä¿®æ”¹SpringMVCå‰ç«¯æŽ§åˆ¶å™¨é»˜è®¤æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ registration.setName(DEFAULT_DISPATCHER_SERVLET_BEAN_NAME); registration.setLoadOnStartup( this.webMvcProperties.getServlet().getLoadOnStartup()); if (this.multipartConfig != null) &#123; registration.setMultipartConfig(this.multipartConfig); &#125; return registration;&#125; 2ï¼‰ã€SpringBootèƒ½ä¸èƒ½æ”¯æŒå…¶ä»–çš„Servletå®¹å™¨ï¼› 3ï¼‰ã€æ›¿æ¢ä¸ºå…¶ä»–åµŒå…¥å¼Servletå®¹å™¨ é»˜è®¤æ”¯æŒï¼š Tomcatï¼ˆé»˜è®¤ä½¿ç”¨ï¼‰ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; å¼•å…¥webæ¨¡å—é»˜è®¤å°±æ˜¯ä½¿ç”¨åµŒå…¥å¼çš„Tomcatä½œä¸ºServletå®¹å™¨ï¼›&lt;/dependency&gt; Jetty 1234567891011121314151617&lt;!-- å¼•å…¥webæ¨¡å— --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--å¼•å…¥å…¶ä»–çš„Servletå®¹å™¨--&gt;&lt;dependency&gt; &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt; Undertow 1234567891011121314151617&lt;!-- å¼•å…¥webæ¨¡å— --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--å¼•å…¥å…¶ä»–çš„Servletå®¹å™¨--&gt;&lt;dependency&gt; &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt; 4ï¼‰ã€åµŒå…¥å¼Servletå®¹å™¨è‡ªåŠ¨é…ç½®åŽŸç†ï¼›EmbeddedServletContainerAutoConfigurationï¼šåµŒå…¥å¼çš„Servletå®¹å™¨è‡ªåŠ¨é…ç½®ï¼Ÿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)@Configuration@ConditionalOnWebApplication@Import(BeanPostProcessorsRegistrar.class)//å¯¼å…¥BeanPostProcessorsRegistrarï¼šSpringæ³¨è§£ç‰ˆï¼›ç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€äº›ç»„ä»¶//å¯¼å…¥äº†EmbeddedServletContainerCustomizerBeanPostProcessorï¼š//åŽç½®å¤„ç†å™¨ï¼šbeanåˆå§‹åŒ–å‰åŽï¼ˆåˆ›å»ºå®Œå¯¹è±¡ï¼Œè¿˜æ²¡èµ‹å€¼èµ‹å€¼ï¼‰æ‰§è¡Œåˆå§‹åŒ–å·¥ä½œpublic class EmbeddedServletContainerAutoConfiguration &#123; @Configuration @ConditionalOnClass(&#123; Servlet.class, Tomcat.class &#125;)//åˆ¤æ–­å½“å‰æ˜¯å¦å¼•å…¥äº†Tomcatä¾èµ–ï¼› @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT)//åˆ¤æ–­å½“å‰å®¹å™¨æ²¡æœ‰ç”¨æˆ·è‡ªå·±å®šä¹‰EmbeddedServletContainerFactoryï¼šåµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼›ä½œç”¨ï¼šåˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨ public static class EmbeddedTomcat &#123; @Bean public TomcatEmbeddedServletContainerFactory tomcatEmbeddedServletContainerFactory() &#123; return new TomcatEmbeddedServletContainerFactory(); &#125; &#125; /** * Nested configuration if Jetty is being used. */ @Configuration @ConditionalOnClass(&#123; Servlet.class, Server.class, Loader.class, WebAppContext.class &#125;) @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT) public static class EmbeddedJetty &#123; @Bean public JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() &#123; return new JettyEmbeddedServletContainerFactory(); &#125; &#125; /** * Nested configuration if Undertow is being used. */ @Configuration @ConditionalOnClass(&#123; Servlet.class, Undertow.class, SslClientAuthMode.class &#125;) @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT) public static class EmbeddedUndertow &#123; @Bean public UndertowEmbeddedServletContainerFactory undertowEmbeddedServletContainerFactory() &#123; return new UndertowEmbeddedServletContainerFactory(); &#125; &#125; 1ï¼‰ã€EmbeddedServletContainerFactoryï¼ˆåµŒå…¥å¼Servletå®¹å™¨å·¥åŽ‚ï¼‰ 1234567public interface EmbeddedServletContainerFactory &#123; //èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨ EmbeddedServletContainer getEmbeddedServletContainer( ServletContextInitializer... initializers);&#125; 2ï¼‰ã€EmbeddedServletContainerï¼šï¼ˆåµŒå…¥å¼çš„Servletå®¹å™¨ï¼‰ 3ï¼‰ã€ä»¥TomcatEmbeddedServletContainerFactoryä¸ºä¾‹ 123456789101112131415161718192021222324@Overridepublic EmbeddedServletContainer getEmbeddedServletContainer( ServletContextInitializer... initializers) &#123; //åˆ›å»ºä¸€ä¸ªTomcat Tomcat tomcat = new Tomcat(); //é…ç½®Tomcatçš„åŸºæœ¬çŽ¯èŠ‚ File baseDir = (this.baseDirectory != null ? this.baseDirectory : createTempDir("tomcat")); tomcat.setBaseDir(baseDir.getAbsolutePath()); Connector connector = new Connector(this.protocol); tomcat.getService().addConnector(connector); customizeConnector(connector); tomcat.setConnector(connector); tomcat.getHost().setAutoDeploy(false); configureEngine(tomcat.getEngine()); for (Connector additionalConnector : this.additionalTomcatConnectors) &#123; tomcat.getService().addConnector(additionalConnector); &#125; prepareContext(tomcat.getHost(), initializers); //å°†é…ç½®å¥½çš„Tomcatä¼ å…¥è¿›åŽ»ï¼Œè¿”å›žä¸€ä¸ªEmbeddedServletContainerï¼›å¹¶ä¸”å¯åŠ¨TomcatæœåŠ¡å™¨ return getTomcatEmbeddedServletContainer(tomcat);&#125; 4ï¼‰ã€æˆ‘ä»¬å¯¹åµŒå…¥å¼å®¹å™¨çš„é…ç½®ä¿®æ”¹æ˜¯æ€Žä¹ˆç”Ÿæ•ˆï¼Ÿ 1ServerPropertiesã€EmbeddedServletContainerCustomizer EmbeddedServletContainerCustomizerï¼šå®šåˆ¶å™¨å¸®æˆ‘ä»¬ä¿®æ”¹äº†Servletå®¹å™¨çš„é…ç½®ï¼Ÿ æ€Žä¹ˆä¿®æ”¹çš„åŽŸç†ï¼Ÿ 5ï¼‰ã€å®¹å™¨ä¸­å¯¼å…¥äº†EmbeddedServletContainerCustomizerBeanPostProcessor 12345678910111213141516171819202122232425262728293031323334353637//åˆå§‹åŒ–ä¹‹å‰@Overridepublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123; //å¦‚æžœå½“å‰åˆå§‹åŒ–çš„æ˜¯ä¸€ä¸ªConfigurableEmbeddedServletContainerç±»åž‹çš„ç»„ä»¶ if (bean instanceof ConfigurableEmbeddedServletContainer) &#123; // postProcessBeforeInitialization((ConfigurableEmbeddedServletContainer) bean); &#125; return bean;&#125;private void postProcessBeforeInitialization( ConfigurableEmbeddedServletContainer bean) &#123; //èŽ·å–æ‰€æœ‰çš„å®šåˆ¶å™¨ï¼Œè°ƒç”¨æ¯ä¸€ä¸ªå®šåˆ¶å™¨çš„customizeæ–¹æ³•æ¥ç»™Servletå®¹å™¨è¿›è¡Œå±žæ€§èµ‹å€¼ï¼› for (EmbeddedServletContainerCustomizer customizer : getCustomizers()) &#123; customizer.customize(bean); &#125;&#125;private Collection&lt;EmbeddedServletContainerCustomizer&gt; getCustomizers() &#123; if (this.customizers == null) &#123; // Look up does not include the parent context this.customizers = new ArrayList&lt;EmbeddedServletContainerCustomizer&gt;( this.beanFactory //ä»Žå®¹å™¨ä¸­èŽ·å–æ‰€æœ‰è¿™è‘›ç±»åž‹çš„ç»„ä»¶ï¼šEmbeddedServletContainerCustomizer //å®šåˆ¶Servletå®¹å™¨ï¼Œç»™å®¹å™¨ä¸­å¯ä»¥æ·»åŠ ä¸€ä¸ªEmbeddedServletContainerCustomizerç±»åž‹çš„ç»„ä»¶ .getBeansOfType(EmbeddedServletContainerCustomizer.class, false, false) .values()); Collections.sort(this.customizers, AnnotationAwareOrderComparator.INSTANCE); this.customizers = Collections.unmodifiableList(this.customizers); &#125; return this.customizers;&#125;ServerPropertiesä¹Ÿæ˜¯å®šåˆ¶å™¨ æ­¥éª¤ï¼š 1ï¼‰ã€SpringBootæ ¹æ®å¯¼å…¥çš„ä¾èµ–æƒ…å†µï¼Œç»™å®¹å™¨ä¸­æ·»åŠ ç›¸åº”çš„EmbeddedServletContainerFactoryã€TomcatEmbeddedServletContainerFactoryã€‘ 2ï¼‰ã€å®¹å™¨ä¸­æŸä¸ªç»„ä»¶è¦åˆ›å»ºå¯¹è±¡å°±ä¼šæƒŠåŠ¨åŽç½®å¤„ç†å™¨ï¼›EmbeddedServletContainerCustomizerBeanPostProcessorï¼› åªè¦æ˜¯åµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼ŒåŽç½®å¤„ç†å™¨å°±å·¥ä½œï¼› 3ï¼‰ã€åŽç½®å¤„ç†å™¨ï¼Œä»Žå®¹å™¨ä¸­èŽ·å–æ‰€æœ‰çš„EmbeddedServletContainerCustomizerï¼Œè°ƒç”¨å®šåˆ¶å™¨çš„å®šåˆ¶æ–¹æ³• ###5ï¼‰ã€åµŒå…¥å¼Servletå®¹å™¨å¯åŠ¨åŽŸç†ï¼› ä»€ä¹ˆæ—¶å€™åˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼Ÿä»€ä¹ˆæ—¶å€™èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨å¹¶å¯åŠ¨Tomcatï¼› èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼š 1ï¼‰ã€SpringBootåº”ç”¨å¯åŠ¨è¿è¡Œrunæ–¹æ³• 2ï¼‰ã€refreshContext(context);SpringBootåˆ·æ–°IOCå®¹å™¨ã€åˆ›å»ºIOCå®¹å™¨å¯¹è±¡ï¼Œå¹¶åˆå§‹åŒ–å®¹å™¨ï¼Œåˆ›å»ºå®¹å™¨ä¸­çš„æ¯ä¸€ä¸ªç»„ä»¶ã€‘ï¼›å¦‚æžœæ˜¯webåº”ç”¨åˆ›å»ºAnnotationConfigEmbeddedWebApplicationContextï¼Œå¦åˆ™ï¼šAnnotationConfigApplicationContext 3ï¼‰ã€refresh(context);åˆ·æ–°åˆšæ‰åˆ›å»ºå¥½çš„iocå®¹å™¨ï¼› 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public void refresh() throws BeansException, IllegalStateException &#123; synchronized (this.startupShutdownMonitor) &#123; // Prepare this context for refreshing. prepareRefresh(); // Tell the subclass to refresh the internal bean factory. ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory(); // Prepare the bean factory for use in this context. prepareBeanFactory(beanFactory); try &#123; // Allows post-processing of the bean factory in context subclasses. postProcessBeanFactory(beanFactory); // Invoke factory processors registered as beans in the context. invokeBeanFactoryPostProcessors(beanFactory); // Register bean processors that intercept bean creation. registerBeanPostProcessors(beanFactory); // Initialize message source for this context. initMessageSource(); // Initialize event multicaster for this context. initApplicationEventMulticaster(); // Initialize other special beans in specific context subclasses. onRefresh(); // Check for listener beans and register them. registerListeners(); // Instantiate all remaining (non-lazy-init) singletons. finishBeanFactoryInitialization(beanFactory); // Last step: publish corresponding event. finishRefresh(); &#125; catch (BeansException ex) &#123; if (logger.isWarnEnabled()) &#123; logger.warn("Exception encountered during context initialization - " + "cancelling refresh attempt: " + ex); &#125; // Destroy already created singletons to avoid dangling resources. destroyBeans(); // Reset 'active' flag. cancelRefresh(ex); // Propagate exception to caller. throw ex; &#125; finally &#123; // Reset common introspection caches in Spring's core, since we // might not ever need metadata for singleton beans anymore... resetCommonCaches(); &#125; &#125;&#125; 4ï¼‰ã€ onRefresh(); webçš„iocå®¹å™¨é‡å†™äº†onRefreshæ–¹æ³• 5ï¼‰ã€webiocå®¹å™¨ä¼šåˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨ï¼›createEmbeddedServletContainer(); 6ï¼‰ã€èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨å·¥åŽ‚ï¼š EmbeddedServletContainerFactory containerFactory = getEmbeddedServletContainerFactory(); â€‹ ä»Žiocå®¹å™¨ä¸­èŽ·å–EmbeddedServletContainerFactory ç»„ä»¶ï¼›TomcatEmbeddedServletContainerFactoryåˆ›å»ºå¯¹è±¡ï¼ŒåŽç½®å¤„ç†å™¨ä¸€çœ‹æ˜¯è¿™ä¸ªå¯¹è±¡ï¼Œå°±èŽ·å–æ‰€æœ‰çš„å®šåˆ¶å™¨æ¥å…ˆå®šåˆ¶Servletå®¹å™¨çš„ç›¸å…³é…ç½®ï¼› 7ï¼‰ã€ä½¿ç”¨å®¹å™¨å·¥åŽ‚èŽ·å–åµŒå…¥å¼çš„Servletå®¹å™¨ï¼šthis.embeddedServletContainer = containerFactory .getEmbeddedServletContainer(getSelfInitializer()); 8ï¼‰ã€åµŒå…¥å¼çš„Servletå®¹å™¨åˆ›å»ºå¯¹è±¡å¹¶å¯åŠ¨Servletå®¹å™¨ï¼› å…ˆå¯åŠ¨åµŒå…¥å¼çš„Servletå®¹å™¨ï¼Œå†å°†iocå®¹å™¨ä¸­å‰©ä¸‹æ²¡æœ‰åˆ›å»ºå‡ºçš„å¯¹è±¡èŽ·å–å‡ºæ¥ï¼› ==IOCå®¹å™¨å¯åŠ¨åˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨== 9ã€ä½¿ç”¨å¤–ç½®çš„Servletå®¹å™¨åµŒå…¥å¼Servletå®¹å™¨ï¼šåº”ç”¨æ‰“æˆå¯æ‰§è¡Œçš„jar â€‹ ä¼˜ç‚¹ï¼šç®€å•ã€ä¾¿æºï¼› â€‹ ç¼ºç‚¹ï¼šé»˜è®¤ä¸æ”¯æŒJSPã€ä¼˜åŒ–å®šåˆ¶æ¯”è¾ƒå¤æ‚ï¼ˆä½¿ç”¨å®šåˆ¶å™¨ã€ServerPropertiesã€è‡ªå®šä¹‰EmbeddedServletContainerCustomizerã€‘ï¼Œè‡ªå·±ç¼–å†™åµŒå…¥å¼Servletå®¹å™¨çš„åˆ›å»ºå·¥åŽ‚ã€EmbeddedServletContainerFactoryã€‘ï¼‰ï¼› å¤–ç½®çš„Servletå®¹å™¨ï¼šå¤–é¢å®‰è£…Tomcatâ€”åº”ç”¨waråŒ…çš„æ–¹å¼æ‰“åŒ…ï¼› æ­¥éª¤1ï¼‰ã€å¿…é¡»åˆ›å»ºä¸€ä¸ªwaré¡¹ç›®ï¼›ï¼ˆåˆ©ç”¨ideaåˆ›å»ºå¥½ç›®å½•ç»“æž„ï¼‰ 2ï¼‰ã€å°†åµŒå…¥å¼çš„TomcatæŒ‡å®šä¸ºprovidedï¼› 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 3ï¼‰ã€å¿…é¡»ç¼–å†™ä¸€ä¸ªSpringBootServletInitializerçš„å­ç±»ï¼Œå¹¶è°ƒç”¨configureæ–¹æ³• 123456789public class ServletInitializer extends SpringBootServletInitializer &#123; @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder application) &#123; //ä¼ å…¥SpringBootåº”ç”¨çš„ä¸»ç¨‹åº return application.sources(SpringBoot04WebJspApplication.class); &#125;&#125; 4ï¼‰ã€å¯åŠ¨æœåŠ¡å™¨å°±å¯ä»¥ä½¿ç”¨ï¼› åŽŸç†jaråŒ…ï¼šæ‰§è¡ŒSpringBootä¸»ç±»çš„mainæ–¹æ³•ï¼Œå¯åŠ¨iocå®¹å™¨ï¼Œåˆ›å»ºåµŒå…¥å¼çš„Servletå®¹å™¨ï¼› waråŒ…ï¼šå¯åŠ¨æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¯åŠ¨SpringBootåº”ç”¨ã€SpringBootServletInitializerã€‘ï¼Œå¯åŠ¨iocå®¹å™¨ï¼› servlet3.0ï¼ˆSpringæ³¨è§£ç‰ˆï¼‰ï¼š 8.2.4 Shared libraries / runtimes pluggabilityï¼š è§„åˆ™ï¼š â€‹ 1ï¼‰ã€æœåŠ¡å™¨å¯åŠ¨ï¼ˆwebåº”ç”¨å¯åŠ¨ï¼‰ä¼šåˆ›å»ºå½“å‰webåº”ç”¨é‡Œé¢æ¯ä¸€ä¸ªjaråŒ…é‡Œé¢ServletContainerInitializerå®žä¾‹ï¼š â€‹ 2ï¼‰ã€ServletContainerInitializerçš„å®žçŽ°æ”¾åœ¨jaråŒ…çš„META-INF/servicesæ–‡ä»¶å¤¹ä¸‹ï¼Œæœ‰ä¸€ä¸ªåä¸ºjavax.servlet.ServletContainerInitializerçš„æ–‡ä»¶ï¼Œå†…å®¹å°±æ˜¯ServletContainerInitializerçš„å®žçŽ°ç±»çš„å…¨ç±»å â€‹ 3ï¼‰ã€è¿˜å¯ä»¥ä½¿ç”¨@HandlesTypesï¼Œåœ¨åº”ç”¨å¯åŠ¨çš„æ—¶å€™åŠ è½½æˆ‘ä»¬æ„Ÿå…´è¶£çš„ç±»ï¼› æµç¨‹ï¼š 1ï¼‰ã€å¯åŠ¨Tomcat 2ï¼‰ã€org\springframework\spring-web\4.3.14.RELEASE\spring-web-4.3.14.RELEASE.jar!\META-INF\services\javax.servlet.ServletContainerInitializerï¼š Springçš„webæ¨¡å—é‡Œé¢æœ‰è¿™ä¸ªæ–‡ä»¶ï¼šorg.springframework.web.SpringServletContainerInitializer 3ï¼‰ã€SpringServletContainerInitializerå°†@HandlesTypes(WebApplicationInitializer.class)æ ‡æ³¨çš„æ‰€æœ‰è¿™ä¸ªç±»åž‹çš„ç±»éƒ½ä¼ å…¥åˆ°onStartupæ–¹æ³•çš„Set&lt;Class&lt;?&gt;&gt;ï¼›ä¸ºè¿™äº›WebApplicationInitializerç±»åž‹çš„ç±»åˆ›å»ºå®žä¾‹ï¼› 4ï¼‰ã€æ¯ä¸€ä¸ªWebApplicationInitializeréƒ½è°ƒç”¨è‡ªå·±çš„onStartupï¼› 5ï¼‰ã€ç›¸å½“äºŽæˆ‘ä»¬çš„SpringBootServletInitializerçš„ç±»ä¼šè¢«åˆ›å»ºå¯¹è±¡ï¼Œå¹¶æ‰§è¡ŒonStartupæ–¹æ³• 6ï¼‰ã€SpringBootServletInitializerå®žä¾‹æ‰§è¡ŒonStartupçš„æ—¶å€™ä¼šcreateRootApplicationContextï¼›åˆ›å»ºå®¹å™¨ 1234567891011121314151617181920212223242526272829303132333435363738protected WebApplicationContext createRootApplicationContext( ServletContext servletContext) &#123; //1ã€åˆ›å»ºSpringApplicationBuilder SpringApplicationBuilder builder = createSpringApplicationBuilder(); StandardServletEnvironment environment = new StandardServletEnvironment(); environment.initPropertySources(servletContext, null); builder.environment(environment); builder.main(getClass()); ApplicationContext parent = getExistingRootWebApplicationContext(servletContext); if (parent != null) &#123; this.logger.info("Root context already created (using as parent)."); servletContext.setAttribute( WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE, null); builder.initializers(new ParentContextApplicationContextInitializer(parent)); &#125; builder.initializers( new ServletContextApplicationContextInitializer(servletContext)); builder.contextClass(AnnotationConfigEmbeddedWebApplicationContext.class); //è°ƒç”¨configureæ–¹æ³•ï¼Œå­ç±»é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œå°†SpringBootçš„ä¸»ç¨‹åºç±»ä¼ å…¥äº†è¿›æ¥ builder = configure(builder); //ä½¿ç”¨builderåˆ›å»ºä¸€ä¸ªSpringåº”ç”¨ SpringApplication application = builder.build(); if (application.getSources().isEmpty() &amp;&amp; AnnotationUtils .findAnnotation(getClass(), Configuration.class) != null) &#123; application.getSources().add(getClass()); &#125; Assert.state(!application.getSources().isEmpty(), "No SpringApplication sources have been defined. Either override the " + "configure method or add an @Configuration annotation"); // Ensure error pages are registered if (this.registerErrorPageFilter) &#123; application.getSources().add(ErrorPageFilterConfiguration.class); &#125; //å¯åŠ¨Springåº”ç”¨ return run(application);&#125; 7ï¼‰ã€Springçš„åº”ç”¨å°±å¯åŠ¨å¹¶ä¸”åˆ›å»ºIOCå®¹å™¨ 1234567891011121314151617181920212223242526272829303132333435public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; configureHeadlessProperty(); SpringApplicationRunListeners listeners = getRunListeners(args); listeners.starting(); try &#123; ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); Banner printedBanner = printBanner(environment); context = createApplicationContext(); analyzers = new FailureAnalyzers(context); prepareContext(context, environment, listeners, applicationArguments, printedBanner); //åˆ·æ–°IOCå®¹å™¨ refreshContext(context); afterRefresh(context, applicationArguments); listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; ==å¯åŠ¨Servletå®¹å™¨ï¼Œå†å¯åŠ¨SpringBootåº”ç”¨== äº”ã€Docker1ã€ç®€ä»‹Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“Žï¼›æ˜¯ä¸€ä¸ªè½»é‡çº§å®¹å™¨æŠ€æœ¯ï¼› Dockeræ”¯æŒå°†è½¯ä»¶ç¼–è¯‘æˆä¸€ä¸ªé•œåƒï¼›ç„¶åŽåœ¨é•œåƒä¸­å„ç§è½¯ä»¶åšå¥½é…ç½®ï¼Œå°†é•œåƒå‘å¸ƒå‡ºåŽ»ï¼Œå…¶ä»–ä½¿ç”¨è€…å¯ä»¥ç›´æŽ¥ä½¿ç”¨è¿™ä¸ªé•œåƒï¼› è¿è¡Œä¸­çš„è¿™ä¸ªé•œåƒç§°ä¸ºå®¹å™¨ï¼Œå®¹å™¨å¯åŠ¨æ˜¯éžå¸¸å¿«é€Ÿçš„ã€‚ 2ã€æ ¸å¿ƒæ¦‚å¿µdockerä¸»æœº(Host)ï¼šå®‰è£…äº†Dockerç¨‹åºçš„æœºå™¨ï¼ˆDockerç›´æŽ¥å®‰è£…åœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼‰ï¼› dockerå®¢æˆ·ç«¯(Client)ï¼šè¿žæŽ¥dockerä¸»æœºè¿›è¡Œæ“ä½œï¼› dockerä»“åº“(Registry)ï¼šç”¨æ¥ä¿å­˜å„ç§æ‰“åŒ…å¥½çš„è½¯ä»¶é•œåƒï¼› dockeré•œåƒ(Images)ï¼šè½¯ä»¶æ‰“åŒ…å¥½çš„é•œåƒï¼›æ”¾åœ¨dockerä»“åº“ä¸­ï¼› dockerå®¹å™¨(Container)ï¼šé•œåƒå¯åŠ¨åŽçš„å®žä¾‹ç§°ä¸ºä¸€ä¸ªå®¹å™¨ï¼›å®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ ä½¿ç”¨Dockerçš„æ­¥éª¤ï¼š 1ï¼‰ã€å®‰è£…Docker 2ï¼‰ã€åŽ»Dockerä»“åº“æ‰¾åˆ°è¿™ä¸ªè½¯ä»¶å¯¹åº”çš„é•œåƒï¼› 3ï¼‰ã€ä½¿ç”¨Dockerè¿è¡Œè¿™ä¸ªé•œåƒï¼Œè¿™ä¸ªé•œåƒå°±ä¼šç”Ÿæˆä¸€ä¸ªDockerå®¹å™¨ï¼› 4ï¼‰ã€å¯¹å®¹å™¨çš„å¯åŠ¨åœæ­¢å°±æ˜¯å¯¹è½¯ä»¶çš„å¯åŠ¨åœæ­¢ï¼› 3ã€å®‰è£…Docker1ï¼‰ã€å®‰è£…linuxè™šæ‹Ÿæœºâ€‹ 1ï¼‰ã€VMWareã€VirtualBoxï¼ˆå®‰è£…ï¼‰ï¼› â€‹ 2ï¼‰ã€å¯¼å…¥è™šæ‹Ÿæœºæ–‡ä»¶centos7-atguigu.ovaï¼› â€‹ 3ï¼‰ã€åŒå‡»å¯åŠ¨linuxè™šæ‹Ÿæœº;ä½¿ç”¨ root/ 123456ç™»é™† â€‹ 4ï¼‰ã€ä½¿ç”¨å®¢æˆ·ç«¯è¿žæŽ¥linuxæœåŠ¡å™¨è¿›è¡Œå‘½ä»¤æ“ä½œï¼› â€‹ 5ï¼‰ã€è®¾ç½®è™šæ‹Ÿæœºç½‘ç»œï¼› â€‹ æ¡¥æŽ¥ç½‘ç»œ===é€‰å¥½ç½‘å¡====æŽ¥å…¥ç½‘çº¿ï¼› â€‹ 6ï¼‰ã€è®¾ç½®å¥½ç½‘ç»œä»¥åŽä½¿ç”¨å‘½ä»¤é‡å¯è™šæ‹Ÿæœºçš„ç½‘ç»œ 1service network restart â€‹ 7ï¼‰ã€æŸ¥çœ‹linuxçš„ipåœ°å€ 1ip addr â€‹ 8ï¼‰ã€ä½¿ç”¨å®¢æˆ·ç«¯è¿žæŽ¥linuxï¼› 2ï¼‰ã€åœ¨linuxè™šæ‹Ÿæœºä¸Šå®‰è£…dockeræ­¥éª¤ï¼š 12345678910111213141ã€æ£€æŸ¥å†…æ ¸ç‰ˆæœ¬ï¼Œå¿…é¡»æ˜¯3.10åŠä»¥ä¸Šuname -r2ã€å®‰è£…dockeryum install docker3ã€è¾“å…¥yç¡®è®¤å®‰è£…4ã€å¯åŠ¨docker[root@localhost ~]# systemctl start docker[root@localhost ~]# docker -vDocker version 1.12.6, build 3e8e77d/1.12.65ã€å¼€æœºå¯åŠ¨docker[root@localhost ~]# systemctl enable dockerCreated symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.6ã€åœæ­¢dockersystemctl stop docker 4ã€Dockerå¸¸ç”¨å‘½ä»¤&amp;æ“ä½œ1ï¼‰ã€é•œåƒæ“ä½œ æ“ä½œ å‘½ä»¤ è¯´æ˜Ž æ£€ç´¢ docker search å…³é”®å­— egï¼šdocker search redis æˆ‘ä»¬ç»å¸¸åŽ»docker hubä¸Šæ£€ç´¢é•œåƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚é•œåƒçš„TAGã€‚ æ‹‰å– docker pull é•œåƒå:tag :tagæ˜¯å¯é€‰çš„ï¼Œtagè¡¨ç¤ºæ ‡ç­¾ï¼Œå¤šä¸ºè½¯ä»¶çš„ç‰ˆæœ¬ï¼Œé»˜è®¤æ˜¯latest åˆ—è¡¨ docker images æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°é•œåƒ åˆ é™¤ docker rmi image-id åˆ é™¤æŒ‡å®šçš„æœ¬åœ°é•œåƒ https://hub.docker.com/ 2ï¼‰ã€å®¹å™¨æ“ä½œè½¯ä»¶é•œåƒï¼ˆQQå®‰è£…ç¨‹åºï¼‰â€”-è¿è¡Œé•œåƒâ€”-äº§ç”Ÿä¸€ä¸ªå®¹å™¨ï¼ˆæ­£åœ¨è¿è¡Œçš„è½¯ä»¶ï¼Œè¿è¡Œçš„QQï¼‰ï¼› æ­¥éª¤ï¼š 1234567891011121314151617181920212223242526272829301ã€æœç´¢é•œåƒ[root@localhost ~]# docker search tomcat2ã€æ‹‰å–é•œåƒ[root@localhost ~]# docker pull tomcat3ã€æ ¹æ®é•œåƒå¯åŠ¨å®¹å™¨docker run --name mytomcat -d tomcat:latest4ã€docker ps æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨5ã€ åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨docker stop å®¹å™¨çš„id6ã€æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨docker ps -a7ã€å¯åŠ¨å®¹å™¨docker start å®¹å™¨id8ã€åˆ é™¤ä¸€ä¸ªå®¹å™¨ docker rm å®¹å™¨id9ã€å¯åŠ¨ä¸€ä¸ªåšäº†ç«¯å£æ˜ å°„çš„tomcat[root@localhost ~]# docker run -d -p 8888:8080 tomcat-dï¼šåŽå°è¿è¡Œ-p: å°†ä¸»æœºçš„ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ä¸€ä¸ªç«¯å£ ä¸»æœºç«¯å£:å®¹å™¨å†…éƒ¨çš„ç«¯å£10ã€ä¸ºäº†æ¼”ç¤ºç®€å•å…³é—­äº†linuxçš„é˜²ç«å¢™service firewalld status ï¼›æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€service firewalld stopï¼šå…³é—­é˜²ç«å¢™11ã€æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—docker logs container-name/container-idæ›´å¤šå‘½ä»¤å‚çœ‹https://docs.docker.com/engine/reference/commandline/docker/å¯ä»¥å‚è€ƒæ¯ä¸€ä¸ªé•œåƒçš„æ–‡æ¡£ 3ï¼‰ã€å®‰è£…MySQLç¤ºä¾‹1docker pull mysql é”™è¯¯çš„å¯åŠ¨ 1234567891011121314151617[root@localhost ~]# docker run --name mysql01 -d mysql42f09819908bb72dd99ae19e792e0a5d03c48638421fa64cce5f8ba0f40f5846mysqlé€€å‡ºäº†[root@localhost ~]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES42f09819908b mysql "docker-entrypoint.sh" 34 seconds ago Exited (1) 33 seconds ago mysql01538bde63e500 tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago compassionate_goldstinec4f1ac60b3fc tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago lonely_fermi81ec743a5271 tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago sick_ramanujan//é”™è¯¯æ—¥å¿—[root@localhost ~]# docker logs 42f09819908berror: database is uninitialized and password option is not specified You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORDï¼›è¿™ä¸ªä¸‰ä¸ªå‚æ•°å¿…é¡»æŒ‡å®šä¸€ä¸ª æ­£ç¡®çš„å¯åŠ¨ 12345[root@localhost ~]# docker run --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlb874c56bec49fb43024b3805ab51e9097da779f2f572c22c695305dedd684c5f[root@localhost ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESb874c56bec49 mysql "docker-entrypoint.sh" 4 seconds ago Up 3 seconds 3306/tcp mysql01 åšäº†ç«¯å£æ˜ å°„ 12345[root@localhost ~]# docker run -p 3306:3306 --name mysql02 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlad10e4bc5c6a0f61cbad43898de71d366117d120e39db651844c0e73863b9434[root@localhost ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESad10e4bc5c6a mysql "docker-entrypoint.sh" 4 seconds ago Up 2 seconds 0.0.0.0:3306-&gt;3306/tcp mysql02 å‡ ä¸ªå…¶ä»–çš„é«˜çº§æ“ä½œ 123456docker run --name mysql03 -v /conf/mysql:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tagæŠŠä¸»æœºçš„/conf/mysqlæ–‡ä»¶å¤¹æŒ‚è½½åˆ° mysqldockerå®¹å™¨çš„/etc/mysql/conf.dæ–‡ä»¶å¤¹é‡Œé¢æ”¹mysqlçš„é…ç½®æ–‡ä»¶å°±åªéœ€è¦æŠŠmysqlé…ç½®æ–‡ä»¶æ”¾åœ¨è‡ªå®šä¹‰çš„æ–‡ä»¶å¤¹ä¸‹ï¼ˆ/conf/mysqlï¼‰docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ciæŒ‡å®šmysqlçš„ä¸€äº›é…ç½®å‚æ•° å…­ã€SpringBootä¸Žæ•°æ®è®¿é—®1ã€JDBC123456789&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; 123456spring: datasource: username: root password: 123456 url: jdbc:mysql://192.168.15.22:3306/jdbc driver-class-name: com.mysql.jdbc.Driver æ•ˆæžœï¼š â€‹ é»˜è®¤æ˜¯ç”¨org.apache.tomcat.jdbc.pool.DataSourceä½œä¸ºæ•°æ®æºï¼› â€‹ æ•°æ®æºçš„ç›¸å…³é…ç½®éƒ½åœ¨DataSourcePropertiesé‡Œé¢ï¼› è‡ªåŠ¨é…ç½®åŽŸç†ï¼š org.springframework.boot.autoconfigure.jdbcï¼š 1ã€å‚è€ƒDataSourceConfigurationï¼Œæ ¹æ®é…ç½®åˆ›å»ºæ•°æ®æºï¼Œé»˜è®¤ä½¿ç”¨Tomcatè¿žæŽ¥æ± ï¼›å¯ä»¥ä½¿ç”¨spring.datasource.typeæŒ‡å®šè‡ªå®šä¹‰çš„æ•°æ®æºç±»åž‹ï¼› 2ã€SpringBooté»˜è®¤å¯ä»¥æ”¯æŒï¼› 1org.apache.tomcat.jdbc.pool.DataSourceã€HikariDataSourceã€BasicDataSourceã€ 3ã€è‡ªå®šä¹‰æ•°æ®æºç±»åž‹ 1234567891011121314/** * Generic DataSource configuration. */@ConditionalOnMissingBean(DataSource.class)@ConditionalOnProperty(name = "spring.datasource.type")static class Generic &#123; @Bean public DataSource dataSource(DataSourceProperties properties) &#123; //ä½¿ç”¨DataSourceBuilderåˆ›å»ºæ•°æ®æºï¼Œåˆ©ç”¨åå°„åˆ›å»ºå“åº”typeçš„æ•°æ®æºï¼Œå¹¶ä¸”ç»‘å®šç›¸å…³å±žæ€§ return properties.initializeDataSourceBuilder().build(); &#125;&#125; 4ã€DataSourceInitializerï¼šApplicationListenerï¼› â€‹ ä½œç”¨ï¼š â€‹ 1ï¼‰ã€runSchemaScripts();è¿è¡Œå»ºè¡¨è¯­å¥ï¼› â€‹ 2ï¼‰ã€runDataScripts();è¿è¡Œæ’å…¥æ•°æ®çš„sqlè¯­å¥ï¼› é»˜è®¤åªéœ€è¦å°†æ–‡ä»¶å‘½åä¸ºï¼š 123456schema-*.sqlã€data-*.sqlé»˜è®¤è§„åˆ™ï¼šschema.sqlï¼Œschema-all.sqlï¼›å¯ä»¥ä½¿ç”¨ schema: - classpath:department.sql æŒ‡å®šä½ç½® 5ã€æ“ä½œæ•°æ®åº“ï¼šè‡ªåŠ¨é…ç½®äº†JdbcTemplateæ“ä½œæ•°æ®åº“ 2ã€æ•´åˆDruidæ•°æ®æº12345678910111213141516171819202122232425262728293031323334353637383940414243å¯¼å…¥druidæ•°æ®æº@Configurationpublic class DruidConfig &#123; @ConfigurationProperties(prefix = "spring.datasource") @Bean public DataSource druid()&#123; return new DruidDataSource(); &#125; //é…ç½®Druidçš„ç›‘æŽ§ //1ã€é…ç½®ä¸€ä¸ªç®¡ç†åŽå°çš„Servlet @Bean public ServletRegistrationBean statViewServlet()&#123; ServletRegistrationBean bean = new ServletRegistrationBean(new StatViewServlet(), "/druid/*"); Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;(); initParams.put("loginUsername","admin"); initParams.put("loginPassword","123456"); initParams.put("allow","");//é»˜è®¤å°±æ˜¯å…è®¸æ‰€æœ‰è®¿é—® initParams.put("deny","192.168.15.21"); bean.setInitParameters(initParams); return bean; &#125; //2ã€é…ç½®ä¸€ä¸ªwebç›‘æŽ§çš„filter @Bean public FilterRegistrationBean webStatFilter()&#123; FilterRegistrationBean bean = new FilterRegistrationBean(); bean.setFilter(new WebStatFilter()); Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;(); initParams.put("exclusions","*.js,*.css,/druid/*"); bean.setInitParameters(initParams); bean.setUrlPatterns(Arrays.asList("/*")); return bean; &#125;&#125; 3ã€æ•´åˆMyBatis12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt; æ­¥éª¤ï¼š â€‹ 1ï¼‰ã€é…ç½®æ•°æ®æºç›¸å…³å±žæ€§ï¼ˆè§ä¸Šä¸€èŠ‚Druidï¼‰ â€‹ 2ï¼‰ã€ç»™æ•°æ®åº“å»ºè¡¨ â€‹ 3ï¼‰ã€åˆ›å»ºJavaBean 4ï¼‰ã€æ³¨è§£ç‰ˆ1234567891011121314151617//æŒ‡å®šè¿™æ˜¯ä¸€ä¸ªæ“ä½œæ•°æ®åº“çš„mapper@Mapperpublic interface DepartmentMapper &#123; @Select("select * from department where id=#&#123;id&#125;") public Department getDeptById(Integer id); @Delete("delete from department where id=#&#123;id&#125;") public int deleteDeptById(Integer id); @Options(useGeneratedKeys = true,keyProperty = "id") @Insert("insert into department(departmentName) values(#&#123;departmentName&#125;)") public int insertDept(Department department); @Update("update department set departmentName=#&#123;departmentName&#125; where id=#&#123;id&#125;") public int updateDept(Department department);&#125; é—®é¢˜ï¼š è‡ªå®šä¹‰MyBatisçš„é…ç½®è§„åˆ™ï¼›ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªConfigurationCustomizerï¼› 1234567891011121314@org.springframework.context.annotation.Configurationpublic class MyBatisConfig &#123; @Bean public ConfigurationCustomizer configurationCustomizer()&#123; return new ConfigurationCustomizer()&#123; @Override public void customize(Configuration configuration) &#123; configuration.setMapUnderscoreToCamelCase(true); &#125; &#125;; &#125;&#125; 123456789ä½¿ç”¨MapperScanæ‰¹é‡æ‰«ææ‰€æœ‰çš„MapperæŽ¥å£ï¼›@MapperScan(value = "com.atguigu.springboot.mapper")@SpringBootApplicationpublic class SpringBoot06DataMybatisApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpringBoot06DataMybatisApplication.class, args); &#125;&#125; 5ï¼‰ã€é…ç½®æ–‡ä»¶ç‰ˆ123mybatis: config-location: classpath:mybatis/mybatis-config.xml æŒ‡å®šå…¨å±€é…ç½®æ–‡ä»¶çš„ä½ç½® mapper-locations: classpath:mybatis/mapper/*.xml æŒ‡å®šsqlæ˜ å°„æ–‡ä»¶çš„ä½ç½® æ›´å¤šä½¿ç”¨å‚ç…§ http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/ 4ã€æ•´åˆSpringData JPA1ï¼‰ã€SpringDataç®€ä»‹ 2ï¼‰ã€æ•´åˆSpringData JPAJPA:ORMï¼ˆObject Relational Mappingï¼‰ï¼› 1ï¼‰ã€ç¼–å†™ä¸€ä¸ªå®žä½“ç±»ï¼ˆbeanï¼‰å’Œæ•°æ®è¡¨è¿›è¡Œæ˜ å°„ï¼Œå¹¶ä¸”é…ç½®å¥½æ˜ å°„å…³ç³»ï¼› 12345678910111213//ä½¿ç”¨JPAæ³¨è§£é…ç½®æ˜ å°„å…³ç³»@Entity //å‘Šè¯‰JPAè¿™æ˜¯ä¸€ä¸ªå®žä½“ç±»ï¼ˆå’Œæ•°æ®è¡¨æ˜ å°„çš„ç±»ï¼‰@Table(name = "tbl_user") //@Tableæ¥æŒ‡å®šå’Œå“ªä¸ªæ•°æ®è¡¨å¯¹åº”;å¦‚æžœçœç•¥é»˜è®¤è¡¨åå°±æ˜¯userï¼›public class User &#123; @Id //è¿™æ˜¯ä¸€ä¸ªä¸»é”® @GeneratedValue(strategy = GenerationType.IDENTITY)//è‡ªå¢žä¸»é”® private Integer id; @Column(name = "last_name",length = 50) //è¿™æ˜¯å’Œæ•°æ®è¡¨å¯¹åº”çš„ä¸€ä¸ªåˆ— private String lastName; @Column //çœç•¥é»˜è®¤åˆ—åå°±æ˜¯å±žæ€§å private String email; 2ï¼‰ã€ç¼–å†™ä¸€ä¸ªDaoæŽ¥å£æ¥æ“ä½œå®žä½“ç±»å¯¹åº”çš„æ•°æ®è¡¨ï¼ˆRepositoryï¼‰ 123//ç»§æ‰¿JpaRepositoryæ¥å®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œpublic interface UserRepository extends JpaRepository&lt;User,Integer&gt; &#123;&#125; 3ï¼‰ã€åŸºæœ¬çš„é…ç½®JpaProperties 1234567spring: jpa: hibernate:# æ›´æ–°æˆ–è€…åˆ›å»ºæ•°æ®è¡¨ç»“æž„ ddl-auto: update# æŽ§åˆ¶å°æ˜¾ç¤ºSQL show-sql: true ä¸ƒã€å¯åŠ¨é…ç½®åŽŸç†å‡ ä¸ªé‡è¦çš„äº‹ä»¶å›žè°ƒæœºåˆ¶ é…ç½®åœ¨META-INF/spring.factories ApplicationContextInitializer SpringApplicationRunListener åªéœ€è¦æ”¾åœ¨iocå®¹å™¨ä¸­ ApplicationRunner CommandLineRunner å¯åŠ¨æµç¨‹ï¼š 1ã€åˆ›å»ºSpringApplicationå¯¹è±¡12345678910111213141516initialize(sources);private void initialize(Object[] sources) &#123; //ä¿å­˜ä¸»é…ç½®ç±» if (sources != null &amp;&amp; sources.length &gt; 0) &#123; this.sources.addAll(Arrays.asList(sources)); &#125; //åˆ¤æ–­å½“å‰æ˜¯å¦ä¸€ä¸ªwebåº”ç”¨ this.webEnvironment = deduceWebEnvironment(); //ä»Žç±»è·¯å¾„ä¸‹æ‰¾åˆ°META-INF/spring.factoriesé…ç½®çš„æ‰€æœ‰ApplicationContextInitializerï¼›ç„¶åŽä¿å­˜èµ·æ¥ setInitializers((Collection) getSpringFactoriesInstances( ApplicationContextInitializer.class)); //ä»Žç±»è·¯å¾„ä¸‹æ‰¾åˆ°ETA-INF/spring.factoriesé…ç½®çš„æ‰€æœ‰ApplicationListener setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class)); //ä»Žå¤šä¸ªé…ç½®ç±»ä¸­æ‰¾åˆ°æœ‰mainæ–¹æ³•çš„ä¸»é…ç½®ç±» this.mainApplicationClass = deduceMainApplicationClass();&#125; 2ã€è¿è¡Œrunæ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; configureHeadlessProperty(); //èŽ·å–SpringApplicationRunListenersï¼›ä»Žç±»è·¯å¾„ä¸‹META-INF/spring.factories SpringApplicationRunListeners listeners = getRunListeners(args); //å›žè°ƒæ‰€æœ‰çš„èŽ·å–SpringApplicationRunListener.starting()æ–¹æ³• listeners.starting(); try &#123; //å°è£…å‘½ä»¤è¡Œå‚æ•° ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); //å‡†å¤‡çŽ¯å¢ƒ ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); //åˆ›å»ºçŽ¯å¢ƒå®ŒæˆåŽå›žè°ƒSpringApplicationRunListener.environmentPrepared()ï¼›è¡¨ç¤ºçŽ¯å¢ƒå‡†å¤‡å®Œæˆ Banner printedBanner = printBanner(environment); //åˆ›å»ºApplicationContextï¼›å†³å®šåˆ›å»ºwebçš„iocè¿˜æ˜¯æ™®é€šçš„ioc context = createApplicationContext(); analyzers = new FailureAnalyzers(context); //å‡†å¤‡ä¸Šä¸‹æ–‡çŽ¯å¢ƒ;å°†environmentä¿å­˜åˆ°iocä¸­ï¼›è€Œä¸”applyInitializers()ï¼› //applyInitializers()ï¼šå›žè°ƒä¹‹å‰ä¿å­˜çš„æ‰€æœ‰çš„ApplicationContextInitializerçš„initializeæ–¹æ³• //å›žè°ƒæ‰€æœ‰çš„SpringApplicationRunListenerçš„contextPrepared()ï¼› // prepareContext(context, environment, listeners, applicationArguments, printedBanner); //prepareContextè¿è¡Œå®Œæˆä»¥åŽå›žè°ƒæ‰€æœ‰çš„SpringApplicationRunListenerçš„contextLoadedï¼ˆï¼‰ï¼› //såˆ·æ–°å®¹å™¨ï¼›iocå®¹å™¨åˆå§‹åŒ–ï¼ˆå¦‚æžœæ˜¯webåº”ç”¨è¿˜ä¼šåˆ›å»ºåµŒå…¥å¼çš„Tomcatï¼‰ï¼›Springæ³¨è§£ç‰ˆ //æ‰«æï¼Œåˆ›å»ºï¼ŒåŠ è½½æ‰€æœ‰ç»„ä»¶çš„åœ°æ–¹ï¼›ï¼ˆé…ç½®ç±»ï¼Œç»„ä»¶ï¼Œè‡ªåŠ¨é…ç½®ï¼‰ refreshContext(context); //ä»Žiocå®¹å™¨ä¸­èŽ·å–æ‰€æœ‰çš„ApplicationRunnerå’ŒCommandLineRunnerè¿›è¡Œå›žè°ƒ //ApplicationRunnerå…ˆå›žè°ƒï¼ŒCommandLineRunnerå†å›žè°ƒ afterRefresh(context, applicationArguments); //æ‰€æœ‰çš„SpringApplicationRunListenerå›žè°ƒfinishedæ–¹æ³• listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; //æ•´ä¸ªSpringBootåº”ç”¨å¯åŠ¨å®Œæˆä»¥åŽè¿”å›žå¯åŠ¨çš„iocå®¹å™¨ï¼› return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; 3ã€äº‹ä»¶ç›‘å¬æœºåˆ¶é…ç½®åœ¨META-INF/spring.factories ApplicationContextInitializer 123456public class HelloApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; &#123; @Override public void initialize(ConfigurableApplicationContext applicationContext) &#123; System.out.println("ApplicationContextInitializer...initialize..."+applicationContext); &#125;&#125; SpringApplicationRunListener 123456789101112131415161718192021222324252627282930313233public class HelloSpringApplicationRunListener implements SpringApplicationRunListener &#123; //å¿…é¡»æœ‰çš„æž„é€ å™¨ public HelloSpringApplicationRunListener(SpringApplication application, String[] args)&#123; &#125; @Override public void starting() &#123; System.out.println("SpringApplicationRunListener...starting..."); &#125; @Override public void environmentPrepared(ConfigurableEnvironment environment) &#123; Object o = environment.getSystemProperties().get("os.name"); System.out.println("SpringApplicationRunListener...environmentPrepared.."+o); &#125; @Override public void contextPrepared(ConfigurableApplicationContext context) &#123; System.out.println("SpringApplicationRunListener...contextPrepared..."); &#125; @Override public void contextLoaded(ConfigurableApplicationContext context) &#123; System.out.println("SpringApplicationRunListener...contextLoaded..."); &#125; @Override public void finished(ConfigurableApplicationContext context, Throwable exception) &#123; System.out.println("SpringApplicationRunListener...finished..."); &#125;&#125; é…ç½®ï¼ˆMETA-INF/spring.factoriesï¼‰ 12345org.springframework.context.ApplicationContextInitializer=\com.atguigu.springboot.listener.HelloApplicationContextInitializerorg.springframework.boot.SpringApplicationRunListener=\com.atguigu.springboot.listener.HelloSpringApplicationRunListener åªéœ€è¦æ”¾åœ¨iocå®¹å™¨ä¸­ ApplicationRunner 1234567@Componentpublic class HelloApplicationRunner implements ApplicationRunner &#123; @Override public void run(ApplicationArguments args) throws Exception &#123; System.out.println("ApplicationRunner...run...."); &#125;&#125; CommandLineRunner 1234567@Componentpublic class HelloCommandLineRunner implements CommandLineRunner &#123; @Override public void run(String... args) throws Exception &#123; System.out.println("CommandLineRunner...run..."+ Arrays.asList(args)); &#125;&#125; å…«ã€è‡ªå®šä¹‰starterstarterï¼š â€‹ 1ã€è¿™ä¸ªåœºæ™¯éœ€è¦ä½¿ç”¨åˆ°çš„ä¾èµ–æ˜¯ä»€ä¹ˆï¼Ÿ â€‹ 2ã€å¦‚ä½•ç¼–å†™è‡ªåŠ¨é…ç½® 12345678910111213@Configuration //æŒ‡å®šè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»@ConditionalOnXXX //åœ¨æŒ‡å®šæ¡ä»¶æˆç«‹çš„æƒ…å†µä¸‹è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆ@AutoConfigureAfter //æŒ‡å®šè‡ªåŠ¨é…ç½®ç±»çš„é¡ºåº@Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶@ConfigurationPropertieç»“åˆç›¸å…³xxxPropertiesç±»æ¥ç»‘å®šç›¸å…³çš„é…ç½®@EnableConfigurationProperties //è®©xxxPropertiesç”Ÿæ•ˆåŠ å…¥åˆ°å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»è¦èƒ½åŠ è½½å°†éœ€è¦å¯åŠ¨å°±åŠ è½½çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œé…ç½®åœ¨META-INF/spring.factoriesorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\ â€‹ 3ã€æ¨¡å¼ï¼š å¯åŠ¨å™¨åªç”¨æ¥åšä¾èµ–å¯¼å…¥ï¼› ä¸“é—¨æ¥å†™ä¸€ä¸ªè‡ªåŠ¨é…ç½®æ¨¡å—ï¼› å¯åŠ¨å™¨ä¾èµ–è‡ªåŠ¨é…ç½®ï¼›åˆ«äººåªéœ€è¦å¼•å…¥å¯åŠ¨å™¨ï¼ˆstarterï¼‰ mybatis-spring-boot-starterï¼›è‡ªå®šä¹‰å¯åŠ¨å™¨å-spring-boot-starter æ­¥éª¤ï¼š 1ï¼‰ã€å¯åŠ¨å™¨æ¨¡å— 12345678910111213141516171819202122&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!--å¯åŠ¨å™¨--&gt; &lt;dependencies&gt; &lt;!--å¼•å…¥è‡ªåŠ¨é…ç½®æ¨¡å—--&gt; &lt;dependency&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 2ï¼‰ã€è‡ªåŠ¨é…ç½®æ¨¡å— 123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!--å¼•å…¥spring-boot-starterï¼›æ‰€æœ‰starterçš„åŸºæœ¬é…ç½®--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 1234567891011121314151617181920212223242526package com.atguigu.starter;import org.springframework.boot.context.properties.ConfigurationProperties;@ConfigurationProperties(prefix = "atguigu.hello")public class HelloProperties &#123; private String prefix; private String suffix; public String getPrefix() &#123; return prefix; &#125; public void setPrefix(String prefix) &#123; this.prefix = prefix; &#125; public String getSuffix() &#123; return suffix; &#125; public void setSuffix(String suffix) &#123; this.suffix = suffix; &#125;&#125; 123456789101112131415161718package com.atguigu.starter;public class HelloService &#123; HelloProperties helloProperties; public HelloProperties getHelloProperties() &#123; return helloProperties; &#125; public void setHelloProperties(HelloProperties helloProperties) &#123; this.helloProperties = helloProperties; &#125; public String sayHellAtguigu(String name)&#123; return helloProperties.getPrefix()+"-" +name + helloProperties.getSuffix(); &#125;&#125; 12345678910111213141516171819202122package com.atguigu.starter;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;@Configuration@ConditionalOnWebApplication //webåº”ç”¨æ‰ç”Ÿæ•ˆ@EnableConfigurationProperties(HelloProperties.class)public class HelloServiceAutoConfiguration &#123; @Autowired HelloProperties helloProperties; @Bean public HelloService helloService()&#123; HelloService service = new HelloService(); service.setHelloProperties(helloProperties); return service; &#125;&#125; æ›´å¤šSpringBootæ•´åˆç¤ºä¾‹https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples]]></content>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
</search>
