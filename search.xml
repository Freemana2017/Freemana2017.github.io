<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[JVM Âë®Èò≥ Â∞öÁ°ÖË∞∑]]></title>
    <url>%2F2019%2F06%2F20%2FJVM%2FJVM%E5%B0%9A%E7%A1%85%E8%B0%B7%20%E5%91%A8%E9%98%B3%2F</url>
    <content type="text"><![CDATA[JVM Âë®Èò≥]]></content>
      <categories>
        <category>JVM</category>
      </categories>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F06%2F20%2FVue_Webpack%2Fwebpack%20(copy)%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[ÊÖïËØæÁΩëÂâëÊåáJava]]></title>
    <url>%2F2019%2F06%2F19%2F%E9%9D%A2%E8%AF%95%2F%E5%89%91%E6%8C%87Java%E9%9D%A2%E8%AF%95%EF%BC%88%E6%85%95%E8%AF%BE%E7%BD%91%EF%BC%89%2F</url>
    <content type="text"><![CDATA[1 ÁΩëÁªú 2 TCPÁöÑ‰∏âÊ¨°Êè°ÊâãËøûÊé• 3 TCPÁöÑÂõõÊ¨°Êè°Êâã Â∞èÁªì 4 TCPÁöÑÊªëÂä®Á™óÂè£]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁÆóÊ≥ï‰∏éÊï∞ÊçÆÁªìÊûÑ]]></title>
    <url>%2F2019%2F06%2F19%2F%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95%2F%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%2F</url>
    <content type="text"><![CDATA[Â∞öÁ°ÖË∞∑ Èü©È°∫Âπ≥1Êú¨ËØæÁ®ãÊòØ‰ΩøÁî®JavaÊù•ËÆ≤Ëß£Êï∞ÊçÆÁªìÊûÑÂíåÁÆóÊ≥ïÔºåËÄÉËôëÂà∞Êï∞ÊçÆÁªìÊûÑÂíåÁÆóÊ≥ïËæÉÈöæÔºåÊéàËØæÈááÁî®ÂõæËß£Âä†ÁÆóÊ≥ïÊ∏∏ÊàèÁöÑÊñπÂºè. ÂÜÖÂÆπÂåÖÊã¨: Á®ÄÁñèÊï∞ÁªÑ„ÄÅÂçïÂêëÈòüÂàó„ÄÅÁéØÂΩ¢ÈòüÂàó„ÄÅÂçïÂêëÈìæË°®„ÄÅÂèåÂêëÈìæË°®„ÄÅÁéØÂΩ¢ÈìæË°®„ÄÅÁ∫¶ÁëüÂ§´ÈóÆÈ¢ò„ÄÅÊ†à„ÄÅÂâçÁºÄ„ÄÅ‰∏≠ÁºÄ„ÄÅÂêéÁºÄË°®ËææÂºè„ÄÅ‰∏≠ÁºÄË°®ËææÂºèËΩ¨Êç¢‰∏∫ÂêéÁºÄË°®ËææÂºè„ÄÅÈÄíÂΩí‰∏éÂõûÊ∫Ø„ÄÅËø∑ÂÆ´ÈóÆÈ¢ò„ÄÅÂÖ´ÁöáÂêéÈóÆÈ¢ò„ÄÅÁÆóÊ≥ïÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÅÂÜíÊ≥°ÊéíÂ∫è„ÄÅÈÄâÊã©ÊéíÂ∫è„ÄÅÊèíÂÖ•ÊéíÂ∫è„ÄÅÂø´ÈÄüÊéíÂ∫è„ÄÅÂΩíÂπ∂ÊéíÂ∫è„ÄÅÂ∏åÂ∞îÊéíÂ∫è„ÄÅÂü∫Êï∞ÊéíÂ∫è(Ê°∂ÊéíÂ∫è)„ÄÅÂ†ÜÊéíÂ∫è„ÄÅÊéíÂ∫èÈÄüÂ∫¶ÂàÜÊûê„ÄÅ‰∫åÂàÜÊü•Êâæ„ÄÅÊèíÂÄºÊü•Êâæ„ÄÅÊñêÊ≥¢ÈÇ£Â•ëÊü•Êâæ„ÄÅÊï£Âàó„ÄÅÂìàÂ∏åË°®„ÄÅ‰∫åÂèâÊ†ë„ÄÅ‰∫åÂèâÊ†ë‰∏éÊï∞ÁªÑËΩ¨Êç¢„ÄÅ‰∫åÂèâÊéíÂ∫èÊ†ë(BST)Á≠â 1 Á®ÄÁñèÊï∞ÁªÑ 2 ÂéüÂßã‰∫åÁª¥Êï∞ÁªÑËΩ¨‰∏∫Á®ÄÁñèÊï∞ÁªÑ ÈÅçÂéÜÂéüÂßãÁöÑ‰∫åÁª¥Êï∞ÁªÑ ÂæóÂà∞Èùû0ÁöÑÊï∞Â≠ósum‰∏™ Ê†πÊçÆsum ÂàõÂª∫Á®ÄÁñèÊï∞ÁªÑsparseArr int [sum+1] [3] Â∞Ü‰∫åÁª¥Êï∞ÁªÑÈùû0 ÁöÑÊï∞Â≠óÂ≠òÂà∞Á®ÄÁñèÊï∞ÁªÑÈáåÈù¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package DataStructure.SparseArray;/** * @description: * @author: apple * @date: 2019-06-25 09:35 */public class SpareseArray &#123; public static void main(String[] args) &#123; //step1 : ÂàõÂª∫‰∏Ä‰∏™ÂéüÂßãÁöÑ‰∫åÁª¥Êï∞ÁªÑ int chessArr[][] = new int[11][11]; chessArr[1][2] = 1; chessArr[2][3] = 2; for (int[] row : chessArr) &#123; for (int data : row) &#123; System.out.printf("%d\t", data);//%d ÊâìÂç∞ÂçÅËøõÂà∂Êï¥Êï∞ &#125; System.out.println(); &#125; //step2Ôºö Â∞Ü‰∫åÁª¥Êï∞ÁªÑËΩ¨Êç¢ÊàêÁ®ÄÁñèÊï∞ÁªÑ //step2.1: ÂÖàÈÅçÂéÜ‰∫åÁª¥Êï∞ÁªÑ ÂæóÂà∞Èùû0Êï∞ÊçÆÁöÑ‰∏™Êï∞ int sum = 0; for (int i = 0; i &lt; chessArr.length; i++) &#123; for (int j = 0; j &lt; chessArr.length; j++) &#123; if (chessArr[i][j] != 0) &#123; sum++; &#125; &#125; &#125; System.out.println("sumÈùû0‰∏™Êï∞‰∏∫" + sum); //step3:ÂàõÂª∫ÂØπÂ∫îÁöÑÁ®ÄÁñèÊï∞ÁªÑ int[][] sparseArr = new int[sum + 1][3]; //step3.1 ÁªôÁ®ÄÁñèÊï∞ÁªÑËµãÂÄº sparseArr[0][0] = 11; sparseArr[0][1] = 11; sparseArr[0][2] = sum; //step3.2 ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏èÈÅçÂéÜ‰∫åÁª¥Êï∞ÁªÑ Â∞ÜÈùû0ÁöÑÂÄº 1 2 Â≠òÊîæÂà∞Á®ÄÁñèÊï∞ÁªÑ‰∏≠‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è int count = 0; //countÁî®‰∫éËÆ∞ÂΩïÊòØÁ¨¨Âá†‰∏™Èùû0ÁöÑÊï∞ÊçÆ for (int i = 0; i &lt; chessArr.length; i++) &#123; for (int j = 0; j &lt; chessArr.length; j++) &#123; if (chessArr[i][j] != 0) &#123; count++; sparseArr[count][0] = i; sparseArr[count][1] = j; sparseArr[count][2] = chessArr[i][j]; &#125; &#125; &#125; //step3.3: ËæìÂá∫Á®ÄÁñèÊï∞ÁªÑÁöÑÊ†ºÂºè for (int[] arr : sparseArr) &#123; for (int row : arr) &#123; System.out.printf("%d\t", row); &#125; System.out.println(); &#125; &#125;&#125; Á®ÄÁñèÊï∞ÁªÑËΩ¨‰∫åÁª¥Êï∞ÁªÑ ÂÖàËØªÂèñÁ®ÄÁñèÊï∞ÁªÑÁöÑÁ¨¨‰∏ÄË°å Ê†πÊçÆÁ¨¨‰∏ÄË°åÁöÑÊï∞ÊçÆ ÂàõÂª∫ÂéüÂßãÁöÑ‰∫åÁª¥Êï∞ÁªÑ Âú®ËØªÂèñÁ®ÄÁñèÊï∞ÁªÑÂêéÂá†Ë°åÁöÑÊï∞ÊçÆ Âπ∂ËµãÁªôÂéüÂßãÁöÑ‰∫åÁª¥Êï∞ÁªÑ 12345678910111213141516171819 //1 ÂÖàËØªÂèñÁ®ÄÁñèÊï∞ÁªÑÁöÑÁ¨¨‰∏ÄË°å Ê†πÊçÆÁ¨¨‰∏ÄË°åÁöÑÊï∞ÊçÆ ÂàõÂª∫ÂéüÂßãÁöÑ‰∫åÁª¥Êï∞ÁªÑ int chessArr2[][] = new int[sparseArr[0][1]][sparseArr[0][1]]; //2 Âú®ËØªÂèñÁ®ÄÁñèÊï∞ÁªÑÂêéÂá†Ë°åÁöÑÊï∞ÊçÆ Âπ∂ËµãÁªôÂéüÂßãÁöÑ‰∫åÁª¥Êï∞ÁªÑ for (int i = 1; i &lt; sparseArr.length; i++) &#123; //3 ËæìÂá∫ÂêéÁöÑ‰∫åÁª¥Êï∞ÁªÑ ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è chessArr2[sparseArr[i][0]][sparseArr[i][1]] = sparseArr[i][2]; &#125;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è for (int[] chess2 : chessArr2) &#123; for (int row : chess2) &#123; System.out.printf("%d\t", row); &#125; System.out.println(); &#125; &#125;]]></content>
      <tags>
        <tag>ÁÆóÊ≥ï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mysql ËØ≠Ê≥ï]]></title>
    <url>%2F2019%2F06%2F10%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRedis%2FMysql%20sql%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁΩëÊòì‰∫ë‰πêËØÑ]]></title>
    <url>%2F2019%2F06%2F01%2F%E7%BD%91%E6%98%93%E4%BA%91%E4%B9%90%E8%AF%84%2F</url>
    <content type="text"><![CDATA[ÂÉèÊàëËøôÁßçÁªèÂ∏∏ÂçäÈÄîËÄåÂ∫üÁöÑ‰∫∫ Áà±‰Ω†ÊòØÊàëÂÅöËøáÊúÄ‰ºòÁßÄÁöÑ‰∫ãÊÉÖ.üíî ÊúâÊó∂ÂÖ≥‰∏ç‰∏äÂÜ∞ÁÆ±ÁöÑÈó® ËÑöË∂æÊíûÂà∞‰∫ÜÊ°åËÖø ‰∏¥Âá∫Èó®Êâæ‰∏çÂà∞ÊÉ≥Ë¶ÅÁöÑ‰∏úË•ø Á™ÅÁÑ∂Âøç‰∏ç‰ΩèÊéâÊ≥™ ‰Ω†ËßâÂæóÂ∞èÈ¢òÂ§ß‰Ωú Âè™ÊúâÊàëËá™Â∑±Áü•ÈÅì‰∏∫‰ªÄ‰πà Ëøá‰∫ÜËøô‰∏™ÂÖ≠ÊúàÔºåÂ∞±ËøûÂÅ∑Áúã‰Ω†ÁöÑÊú∫‰ºö‰πüÊ≤°Êúâ‰∫Ü ÊÄª‰∏çËÉΩËøòÊ≤°Âä™ÂäõÂ∞±ÂêëÁîüÊ¥ªÂ¶•ÂçèÂêß ÊàëÊõæ‰ª•‰∏∫‰∫ÜÊó†ÁâµÊåÇÊòØÂè•Á©∫ËØù ÊàëÊõæËΩªÁ¨ëËåïËåïÂ≠ëÁ´ãÂè™Â±û‰∫éÊóÅ‰∫∫ ÂêéÊù•ÊàëË¢´Ê¢¶ÊÉ≥Êé®Âêë‰∫ÜÊñ≠Â¥ñ Ë¢´Â¶ÑÊÉ≥‰æµËöÄ‰∫ÜÂ≠§Âãá ÂèàË¢´Âù¶ËØöÂà∫Á©ø‰∫ÜËÉ∏Âè£ Â•πËØ¥‰∫∫ÁîüÊòØÁ¨ëÁöÑÊúâÊªãÊúâÂë≥ ÊàëËØ¥ËøòÊúâÂì≠ÁöÑ‰∫îÂë≥ÊùÇÈôà ÁîüÊ¥ª‰∏çÂÖÅËÆ∏ÊôÆÈÄö‰∫∫ÂÜÖÂêë ‰Ω†‰∏çÂä™ÂäõÂèØËÉΩËøûËá™Â∑±ÂñúÊ¨¢ÁöÑÂ≠¶Ê†°ÈÉΩËÄÉ‰∏ç‰∫Ü ‰Ω†ÂñúÊ¨¢ÁöÑ‰∫∫ÈÇ£‰πà‰ºòÁßÄ ‰ªñ‰πüÊòØÂä™ÂäõÊù•ÁöÑ Âè™ÊúâËá™Â∑±‰ºòÁßÄËµ∑Êù• ‰ªñÁöÑÁúºÈáåÂ∞±ÂèëÁé∞Ëøô‰∏™Â•≥Â≠©Â≠êÂèØ‰ª•Âì¶ ‰∏çÁÆ°ÁªìÂ±ÄÊÄé‰πàÊ†∑ ‰Ω†‰∏∫‰Ω†Ëá™Â∑±Âä™Âäõ‰∫Ü ‰∏∫‰ªñÂä™Âäõ‰∫Ü Â§öÂä™Âäõ‰∏∫‰ª•ÂêéÁöÑË∑ØÊõ¥Â•ΩËµ∞ ÂêéÊù•ÂèëÁé∞ ÈÇ£‰∫õÂø´‰πêÈÉΩ‰∏çÊòØÁúüÁöÑÂø´‰πê ÂÜçÂêéÊù• ‰Ω†‰ºöÂêéÊÇî ‰∏∫‰ªÄ‰πàÂΩìÂàù‰∏çÂÜçÂä™Âäõ‰∏ÄÁÇπ ÊàëÈÇ£Êó∂ÂÄôÁöÑÁ°ÆÂ§™ÂñúÊ¨¢‰Ω†ÔºåÂèØË∞ÅËÆ©Êàë‰ª¨ÈÅáËßÅÁöÑÂ§™Êó©‰∫ÜÂë¢ÔºåÂΩìÂàùÊàë‰ª¨ÈÉΩÂ§™È™ÑÂÇ≤ÔºåÁà±Ëá™Â∑±ÁöÑËá™Â∞äÂøÉËÉúËøáÂØπÊñπÔºåÊÄªËßâÂæóÈîô‰∏Ä‰∏™‰∫∫ÔºåÊ≤°‰ªÄ‰πàÂ§ß‰∏ç‰∫ÜÁöÑÔºåÊØïÁ´üÂâçË∑ØÊº´ÈïøÔºåËøòÊúâÂæàÂ§öÊó∂Èó¥ÂèØ‰ª•Êµ™Ë¥πÔºåÊÄªËßâÂæóËá™Â∑±‰∏ÄÂÆö‰ºöÈÅáËßÅÂæàÂ§öÂñúÊ¨¢ÁöÑ‰∫∫ÔºåÂèØÂΩìÊàë‰ª¨ÁúüÊ≠£Á¶ªÂºÄËøáÂêéÔºåÊâçÂèëÁé∞ÂñúÊ¨¢‰ªéÊù•‰∏çÊòØ‰∏Ä‰∏™‰∫∫ÁöÑ‰∫ãÔºåÂΩì‰Ω†ËøûÂõûÂøÜÈÉΩÂêù‰∫éÁªôÊàëÊó∂ÔºåÊàëÊâçÊáÇ‰∫ÜÁªøËâ≤ Âπ∏Â•Ω‰Ω†ÁªôÁöÑÂ§±ÊúõÂ§üÂ§ö ÊàëÁöÑÁ¶ªÂºÄ‰πüÁÆóÂÄºÂæó ‰∏ÄÂ§©‰∏ÄÂ§©ÊúüÂæÖÊàë‰ª¨ÂÜçÊ¨°Áõ∏ÈÅá ‰∏ÄÁÇπ‰∏ÄÁÇπÊï¥ÁêÜÂ•ΩÊâ∞‰π±ÁöÑÂøÉÁª™ ÂΩìÊ∑±Â§úÈáåÂêµÈÜí‰∫ÜÊ¢¶Âëì ‰æùÊóßÂõûËç°ÈùôË∞ßÁöÑÁîúËúú ‰Ω†Áî®‚ÄúÈöèÊú∫Êí≠Êîæ‚ÄùÁöÑÊôöÂÆâ ÂõûÊàë‚ÄúÂçïÊõ≤Âæ™ÁéØ‚ÄùÁöÑÊôöÂÆâ ‚ÄúÊôöÂÆâ‚ÄùÁöÑÊÑèÊÄùÂ∞±ÊòØ‚ÄúÊàë‰ªäÂ§©ÊâìÁÉä‰∫Ü‚Äù Âè™ÊòØ‰∏çÂØπÂ§ñËê•‰∏ö‰∫ÜËÄåÂ∑≤ Ë∑üÁù°‰∏çÁù°ËßâÊ≤°ÂÖ≥Á≥ª ÂÖ∂ÂÆû‚ÄúÊôöÂÆâ‚ÄùËøòÊúâÂè¶‰∏ÄÁßçÊÑèÊÄù ÊääÊ∏©Êüî‰∏éÊµ™Êº´ËóèËøõÊôöÂÆâÈáå ‚ÄúÊàëÂØπÂÖ®‰∏ñÁïåËØ¥ÊôöÂÆâ Áã¨Áã¨ÂØπ‰Ω†ËØ¥ÂñúÊ¨¢‚Äù Â∏åÊúõ‰Ω†‰∏ÄËæàÂ≠êÈÉΩÊòØÂ∞èÂ≠©ÂÑø ÂØπÊâÄÊúâ‰∫ãÈÉΩÂ•ΩÂ•á Áà±ÂìºÂ∞èÊõ≤ Ê∞∏ËøúÂø´‰πê ÂñúÊ¨¢ÂíåËÆ®Âéå‰∏çÁî®ÈÅÆÊé© ÊØèÂ§©ÈÉΩËÉΩË∑üÂñúÊ¨¢ÁöÑ‰∫∫ËÆ≤‰∏ÄÂ§ßÂ†ÜÂ∫üËØù ‰πüËÉΩ‰∫íÈÅìÊôöÂÆâ ÊôöÊòØ‰∏ñÁïåÁöÑÊôö ÂÆâÊòØÁªô‰Ω†ÁöÑÂÆâ ‚ÄúÂæàÊä±Ê≠âÂïäÔºåÊàëÁôΩÂ§©ÈÉΩÊ≤°‰ªÄ‰πàÊú∫‰ºöÂíå‰Ω†ËØ¥ËØùÔºåÂè™ËÉΩÊÜãÂà∞Êôö‰∏äÂíå‰Ω†ËØ¥Âè•ÊôöÂÆâ„ÄÇ‰ΩÜ‰Ω†ÂèØÂà´Â∞èÁúã‰∫ÜËøô‰∏§‰∏™Â≠óÔºåÂÆÉÂèØÂåÖÂê´ÁùÄÊàë‰ªäÂ§©Ê∏ÖÊô®ËßÅÂà∞ÁöÑÈò≥ÂÖâÔºå‰∏≠ÂçàÁúãÂà∞ÁöÑÁôΩ‰∫ëÔºåÂÇçÊôöÈÅáËßÅÁöÑÂæÆÈ£éÔºåÂåÖÂê´ÁùÄÊàëËøô‰∏ÄÂ§©ÊØèÂè•ÊÉ≥ÂØπ‰Ω†ËØ¥ÁöÑËØùÔºåÊôöÂÆâ„ÄÇ‚Äù ‰Ω†Á¶ªÂºÄ‰ª•ÂêéÔºåÊàëÂ∞±ÂÜç‰πüÊ≤°Êî∂Âà∞ËøáÊôöÂÆâ„ÄÇ ÊôöÂÆâ ‚ÄúÊàëÁúüÁöÑÁúüÁöÑÁúüÁöÑÔºå‰∏çÊÉ≥ÂÜçÂºÇÂú∞ÊÅã‰∫Ü ÂêéÊù•ÁöÑÊàëÁªà‰∫éÊòéÁôΩÔºåÁúüÊ≠£ÁöÑÊÄùÂøµ‰∏çÊòØÂΩªÂ§úÈöæÁú†ÊÉ≥‰Ω†Âà∞ÊµÅÊ≥™Ôºå‰πü‰∏çÊòØÂ§ßÈÜâÂêéÂ§ßÂ£∞Âú∞ÂëºÂñä‰Ω†ÁöÑÂêçÂ≠óÔºåËÄåÊòØÊàë‰ª•‰∏∫ÊàëÂ∑≤ÁªèÂΩªÂ∫ïÂøòËÆ∞‰Ω†‰∫ÜÂç¥Âú®ÁîüÊ¥ªÊúÄÂπ≥Âá°ÁöÑÊó∂ÂàªÊÉ≥Ëµ∑‰Ω†‰∫ÜÔºåÂè™ÈúÄË¶Å‰∏Ä‰∏™ËÉåÂΩ±Ôºå‰∏Ä‰∏™ÂêçÂ≠óÊàñËÄÖ‰ªª‰Ωï‰∏Ä‰∏™ÁÜüÊÇâÁöÑÂú∫ÊôØËøô‰∫õÈÉΩ‰ºöÂëäËØâÊàëÔºåÊàëÁà±‰Ω†Ëøô‰∏™‰∫ãÂÆû‰∏ÄÁõ¥‰ª•Êù•‰ªéÊú™ÊîπÂèòËøá„ÄÇ Á≠â‰∏Ä‰∏™Â•≥Â≠©ÊãøÊéâÊàëÊâãÈáåÁöÑÈÖíÔºåÊàëÂ∞±‰∏çÂñù‰∫Ü Á≠â‰∏Ä‰∏™Â•≥Â≠©ÊâîÊéâÊàëÊâãÈáåÁöÑÁÉüÔºåÊàëÂ∞±‰∏çÊäΩ‰∫Ü Á≠â‰∏Ä‰∏™Â•≥Â≠©Áù°Âú®ÊàëÊÄÄÈáåÔºåÊàëÂ∞±‰∏çÁÜ¨Â§ú‰∫Ü Á≠âÊàëÂêÉÂà∞ÊàëÂñúÊ¨¢ÁöÑ‰∫∫ÂÅöÁöÑÈ•≠ÔºåÊàëÂ∞±‰∏çÊåëÈ£ü‰∫Ü Á≠âÊàëÁ©øÂà∞ÊàëÂñúÊ¨¢ÁöÑ‰∫∫‰π∞ÁöÑË°£ÊúçÊàëÂ∞±Âú®Â§öÁ©øÁÇπÔºåÂõ†‰∏∫ÊàëËøòË¶ÅÂú®Ëøô‰∏™ËñÑÊÉÖÁöÑ‰∏ñÁïåÔºåÊ∑±ÊÉÖÁöÑÊ¥ªÁùÄ Ê≤°‰∫ÜÂøÉÂä®ÁöÑÊÑüËßâÔºåÂç¥Áæ°ÊÖïÂà´‰∫∫ÁöÑÁà±ÊÉÖ ÊúãÂèã‰ª¨ÈóÆÊàëËøòÊÉ≥‰ªñÂêó ÊàëÈÉΩËØ¥Êó©Â∞±‰∏çÊÉ≥‰∫Ü ÂÅ∂Â∞îÁøªÁøª‰ªñÁöÑÂæÆÂçö Áü•ÈÅì‰ªñËÆ§ËØÜ‰∫ÜÊñ∞ÁöÑÊúãÂèã ÊØèÂ§©ËøáÂæóÂæàÂºÄÂøÉ ‰∏çÂÉèÂéüÊù•Âú®‰∏ÄËµ∑ÁöÑÊó∂ÂÄô‰∫íÁõ∏‰º§ÂÆ≥ ÊàëËßâÂæóËøôÊ†∑Êå∫Â•ΩÁöÑ ‰∏çÁü•ÈÅìÊú™Êù•ËÉΩ‰∏çËÉΩÂÜçÈÅáÂà∞ÂíåÂ•π‰∏ÄÊ†∑ÁöÑÁî∑Â≠© Êàë‰∏çÊÄ™‰ªñ‰∫Ü ÁúüÂøÉÁ•ùÁ¶è‰ªñËøáÂæóÊØîÊàëÂ•Ω ËøôÊÆµËØù‰ªñËøôËæàÂ≠êÈÉΩ‰∏ç‰ºöÁü•ÈÅì Ê≤°ÂÖ≥Á≥ª ÊàëËá™Â∑±Áü•ÈÅìÂ∞±Â•Ω‰∫Ü Âú®Â§©ÊñáÂ≠¶‰∏≠ÔºåÈÄÉÈÄ∏ÈÄüÂ∫¶Ë°®Á§∫Áâ©‰ΩìÈÄÉËÑ±ÊòüÁêÉÂºïÂäõÁöÑÈÄüÂ∫¶ÔºåÊ∞¥ÊòüÁöÑÈÄÉÈÄ∏ÈÄüÂ∫¶ÊòØ4.435km/sÔºå‰ΩÜËøôÂπ∂‰∏çÊÑèÂë≥ÁùÄÈÄÉÁ¶ªÔºåÊàëÊÑøÊÑèÔºå‰πüÂ∏åÊúõ‰Ω†Âê∏ÂºïÊàëËΩ®Ëøπ„ÄÇ ÊöóÊÅãÊòØ‰∏ÄÁßçÁ§ºË≤å ÊöóÂú∞ÈáåÁõñ‰∏ÄÂ∫ßÂüéÂ†° ÊößÊòßÊòØ‰ªÄ‰πàÔºü‚Äù ‚ÄúÊâÄÊúâ‰∫∫ÈÉΩ‰ª•‰∏∫‰Ω†‰ª¨Âú®‰∏ÄËµ∑‰∫ÜÔºåÂè™Êúâ‰Ω†Ê∏ÖÊ•öÁöÑÁü•ÈÅì‰Ω†‰ª¨ÁöÑË∑ùÁ¶ª„ÄÇ‚Äù Â¶ÇÊûúËØ¥Êàë‰ª¨ËøòÂâ©‰∏ãÂîØ‰∏ÄÁöÑÂÖ≥Á≥ªÔºåÈÇ£Â§ßÊ¶ÇÂ∞±ÊòØÊàë‰ª¨ÈÉΩÊòØÁ§æ‰ºö‰∏ª‰πâÁöÑÊé•Áè≠‰∫∫‰∫ÜÂêß ÊàëÁé∞Âú®ÊâçËßâÂæóÂ§±ÊÅãÁÆó‰ªÄ‰πàÔºåÊöóÊÅãÊâçË¶Å‰∫∫ÂëΩ„ÄÇÂàÜÂàÜÈíüËÆ©‰Ω†Â§±ÊÅãÂá†‰∏áÊ¨°„ÄÇ‰ªñ‰ªÄ‰πàÈÉΩ‰∏çÁü•ÈÅìÔºåÂè™ÊòØËá™Â∑±Â∑≤ÁªèËá™ÂØºËá™Êºî‰∫ÜÊó†Êï∞Âú∫ÂÜÖÂøÉÊàè„ÄÇ Âπ¥ËΩªÁöÑÊó∂ÂÄôÔºåÁé©ÂÑøÂëΩ‰ººÂæóÁà±Ëøá‰∏Ä‰∏™‰∫∫ÔºåÂêéÊù•ÊàëÊ≤°Ê≠ªÔºåÈùíÊò•ÊõøÊàëÊäµ‰∫ÜÂçäÊù°ÂëΩ„ÄÇ ÊúÄËøëÂæàÂñúÊ¨¢Âç¢ÊÄùÊµ©ÁöÑ‰∏ÄÂè•ËØùÔºöÁà±ÁöÑÊó∂ÂÄô‰∏çËæúË¥ü‰∫∫ÔºåÁé©ÁöÑÊó∂ÂÄô‰∏çËæúË¥üÈ£éÊôØÔºõÁù°ËßâÊó∂‰∏çËæúË¥üÂ∫äÔºå‰∏Ä‰∏™‰∫∫Êó∂‰∏çËæúË¥üËá™Â∑±„ÄÇ ÊúâÈÉ®ÁîµÂΩ±‰∏≠ÔºåËÆ∞ÂæóÊúâËøôÊ†∑ÁöÑÂØπËØù ‚Äú‰Ω†ÊÑøÊÑè‰∏∫ÊàëËÄåÊ≠ªÂêóÔºü‚Äù ‚ÄúÊàëÊÑøÊÑè‚Äù ‚Äú‰∏çÔºåÈÇ£Â§™ÁÆÄÂçï‰∫ÜÔºåÊç¢‰∏™ÈóÆÈ¢òÔºå‰Ω†ÊÑøÊÑè‰∏∫ÊàëËÄåÊ¥ªÂêóÔºü ÂæÆÂçö‰∏ä‰∏Ä‰ΩçÂ¶àÂ¶àÂÜôÁöÑËØù Â¶ÇÊûú‰ªñÊ≤°ÊúâÂÉè‰Ω†Áà∏Áà∏‰∏ÄÊ†∑ÂåÖÂÆπ‰Ω† Ê≤°ÊúâÂÉè‰∏™Áî∑‰∫∫‰∏ÄÊ†∑‰øùÊä§‰Ω† Ê≤°ÊúâÂÉèÊàë‰∏ÄÊ†∑ÂøÉÁñº‰Ω† Âπ∂‰∏çÊòØÂÆ≥ÊÄï‰Ω†Âú®ÂçÅÂá†Â≤ÅÁöÑÊó∂ÂÄôË∞àÊÅãÁà± ÊàëÊòØÊãÖÂøÉ‰Ω†Âú®Ëøô‰∏™Âπ¥Á∫™ÈÅáÂà∞ÈîôÁöÑ‰∫∫ ‰∏çÊòØÁúüÊ≠£Áà±‰Ω†ÁöÑ‰∫∫ ËÆ§‰∏∫ÂÅö‰∫ÜÁÇπÊØõÁöÆÂ∞±ËØ¥ÊòØÁà±‰Ω†ÁöÑ‰∫∫ ËøôÂè´ËÄΩËØØ ËøáÂ∫¶Áº∫‰πèÂÆâÂÖ®ÊÑüÁñëÂøÉÁóÖÈáçÁà±ËÉ°ÊÄù‰π±ÊÉ≥ ÂñúÊ¨¢ÂÜ∑Êö¥ÂäõÂç†ÊúâÊ¨≤Âº∫Âèà‰∏ß ÂèØËÉΩÂàöËÆ§ËØÜ‰ºöËßâÂæóÊàëÂèØÁà±‰πêËßÇÁßØÊûÅ ËßâÂæó‰∏ÄÂÆöÊòØ‰∏™ÂæàÁîúÁöÑÂ•≥Â≠©Â≠ê ÂèØ‰Ω†‰∏çÁü•ÈÅìÂïäÊàëÊØèÂ§©ÈÉΩÂú®Âä™ÂäõÂéãÂà∂Ëá™Â∑± ÊàëÊääÊâÄÊúâÂùèÊÉÖÁª™ÂêûÂú®ËÇöÂ≠êÈáåÊàëÂæàÊ∂àÊûÅ Âç≥‰Ωø‰∏ÄÁõ¥Â∏åÊúõÊúâ‰∏™‰∫∫ÊÑøÊÑèÂÆâÊäöÊàëÁöÑÂùèÊÉÖÁª™ ÂèØÊõ¥ÂÆ≥ÊÄï‰ªñ‰ºöÂõ†‰∏∫ÂíåÈ¢ÑÊÉ≥‰∏≠ÁöÑÁà±ÊÉÖ Â∑Æ‰∫ÜÂçÅ‰∏áÂÖ´ÂçÉÈáåËÄåÂºÉÊàëËÄåÂéª Âº†Áà±Áé≤ËØ¥:ÂøòËÆ∞‰∏Ä‰∏™‰∫∫Êúâ‰∏§ÁßçÊñπÂºèÔºå‰∏ÄÊòØÊó∂Èó¥Ôºå‰∫åÊòØÊñ∞Ê¨¢ ‰Ω†ÈÄâÊã©‰∫ÜÊñ∞Ê¨¢ÔºåËÄåÊàëÈÄâÊã©‰∫ÜÊó∂Èó¥„ÄÇ ‰Ω†ËØïËøá‰æßË∫∫Âú®Â∫ä‰∏äÔºåÁúºÊ≥™ÂàíËøáÈºªÊ¢ÅÁ†∏Âà∞Âè¶‰∏Ä‰∏™ÁúºÁùõÈáåÁöÑÊÑüËßâÂêó ‰Ω†Ë¶ÅÊêûÊ∏ÖÊ•öÔºåÊòØ‰Ω†ÂñúÊ¨¢ÂØπÊñπÔºå‰∏çÊòØ‰∫∫ÂÆ∂ÂñúÊ¨¢‰Ω†ÔºåÊó¢ÁÑ∂‰Ω†Âä®ÂøÉ‰∫Ü ‰∏ªÂä®‰∫ÜÔºåÂ∞±ÁÆóÂèó‰∫ÜÂ§©Â§ßÁöÑÂßîÂ±àÔºå‰πüÊòØ‰Ω†È¢ÑÊñô‰∏≠ÁöÑ‰∫ãÊÉÖÔºåÊÄ™‰∏ç‰∫Ü‰ªª‰Ωï‰∫∫„ÄÇ‰Ω†‰∏çÊòØÂ∞èÊúãÂèã ‰∏çÂºÄÂøÉ‰πü‰∏ç‰ºöÊ≠ªÔºåÁªìÊûúÂè™ËÉΩËá™Â∑±ÊâøÊãÖÔºå‰∏çÁÆ°Â§öÈöæËøá ‰Ω†‰πüÂè™ËÉΩËá™Â∑±ÁÜ¨„ÄÇË∞ÅÂè´‰Ω†ÊúâÊú¨‰∫ãÂñúÊ¨¢‰∫∫ÂÆ∂ÔºåÊ≤°Êú¨‰∫ãËÆ©‰∫∫ÂÆ∂ÂñúÊ¨¢‰Ω†„ÄÇ ÂºÇÂú∞ÊÅãÊúÄÊÄïÁöÑÊòØ. ‚Äú‰∏Ä‰∏™Âú®ÈÖùÈÖøÂàÜÊâã. ‰∏Ä‰∏™Âú®ËÆ°ÂàíÊú™Êù•„ÄÇ ‰Ω†ÊÉ≥Ë±°‰∏Ä‰∏ã ÂçÅÂπ¥‰πãÂêé ‰Ω†ÁªìÂ©ö‰∫Ü Â∞èÂ≠©ÂæàÁÜä ‰Ω†ËÄÅÂÖ¨ÊòØ‰Ω†‰∏çÂñúÊ¨¢ÁöÑ‰∫∫ Â∑•‰Ωú‰∏ç‰∏ä‰∏ç‰∏ãÔºåÂ∑•ËµÑ‰∏çËßÅÂ¢ûÈïøÔºåËÄÅÊùøÊó•Â∏∏ÊåñËã¶ ‰∏ãÁè≠ÂõûÂÆ∂ÈóªÁùÄËÆ®ÂéåÁöÑÊ¥óÂèëÊ∞¥ÂíåÊ≤êÊµ¥Èú≤ÁöÑÂë≥ÈÅì ÁúãÁùÄ‰ªñ‰∏ëÈôãÁöÑÊ†∑Â≠ê ÊÉ≥Âá∫ËΩ®Âèà‰∏çÊï¢ ‰Ω†‰ºö‰∏ç‰ºöÂêéÊÇî ‰ªäÂ§©Ê≤°ÊúâË∑üÊàëË°®ÁôΩ Á∫¶‰∫Ü‰∏ÄÁæ§ÊúãÂèã‰∏ÄËµ∑ÂéªÁúãÔºåÈ°∫‰æøÊääÊàëÊöóÊÅã‰∫Ü‰∏§Âπ¥ÁöÑÁî∑Â≠©‰πüÁ∫¶Âá∫Êù•ÔºåÊàëÂùêÂú®7Êéí09Ôºå‰ªñÂùêÂú®7Êéí07ÔºåÁîµÂΩ±ÈáåÁå™Â§¥ÂéªËøΩÁáïÂ≠êÊó∂ÔºåÁå™Â§¥Âñä‚ÄúÊàëÁà±‰Ω†‚ÄùÔºåÊàëÂÅ∑ÂÅ∑Áî®Âò¥ÂΩ¢ËØ¥‰∫ÜËøô‰∏â‰∏™Â≠óÔºåÁÑ∂ÂêéÂú®ÂøÉÈáåÊîæ‰∏ã‰∫ÜËøô‰ªΩÊÑüÊÉÖ„ÄÇÂõ†‰∏∫7Êéí08ÂùêÁùÄ‰ªñÁöÑÂ•≥ÊúãÂèãÔºåËÄåÊàëÂπ∂‰∏çÊÉ≥ÂΩìÂà´‰∫∫ÊÑüÊÉÖÁöÑÊèíË∂≥ËÄÖ„ÄÇ‰ªé‰Ω†ÁöÑÂÖ®‰∏ñÁïåË∑ØËøáÔºåÁªàÁ©∂ËøòÊòØÊó†Ê≥ïÂú®ÁªàÁÇπÈÅáËßÅ‰Ω† ‰∏™‰∫∫ÁöÑËÆ∞ÂøÜÊòØ‰∏ÄÂ∫ßÂüéÂ∏ÇÔºåÊó∂Èó¥ËÖêËöÄÁùÄ‰∏ÄÂàáÂª∫Á≠ëÔºåÊääÈ´òÊ•ºÂíåË°óÈÅìÂÖ®ÈÉ®Ê≤ôÂåñ„ÄÇÂÅ∂Â∞îÊ¢¶ËßÅÂõûÂà∞Ê≤ôÂüéÔºåÈÇ£‰∫õË∑ØÁÅØÂíåËÑöÂç∞Êó†ÊØîÊ∏ÖÊô∞ÔºåËÄå‰Ω†Êó†Ê≥ïËß¶Á¢∞Ôºå‰∏ÄÊó¶ÂèåÊâãÈô∑ÂÖ•ÔºåÊï¥Â∫ßÂüéÂ∏ÇÂ∞±ËΩ∞ÈöÜÈöÜÂú∞Â¥©Â°åÔºåÊääÂÖ≥‰∫éÊàë‰ª¨ÁöÑÊâÄÊúâÂΩ±Â≠êÂüãËë¨„ÄÇÂ¶ÇÊûú‰Ω†‰∏çÂæÄÂâçËµ∞ÔºåÂ∞±‰ºöË¢´Ê≤ôÂ≠êÂüãËë¨„ÄÇÊâÄ‰ª•Êàë‰ª¨Ê≥™ÊµÅÈù¢ÔºåÊ≠•Ê≠•ÂõûÂ§¥ÔºåÂèØÊòØÂè™ËÉΩÂæÄÂâçËµ∞„ÄÇ ‰∏ÄÊ∞î‰πã‰∏ãÂ∞±Á´ãÂàªÊëîÈó®ËÄåËµ∞ËøôÁßç‰ªªÊÄßÁöÑË°å‰∏∫ Â§ßÊ¶ÇÂè™ÊúâË¢´Áà±ÁöÑ‰∫∫ÊâçÊúâËµÑÊ†ºËøô‰πàÂÅöÂêß ÊàëÂ§ñÂ©ÜÂÆ∂ÂÖª‰∫Ü‰∏ÄÊù°ÈªëËâ≤ÁöÑÂúüÁãó Âπ≥Êó∂Â∞±ÊòØÂêÉÂâ©È•≠ ‰∏çÁÆ°Êò•Â§èÁßãÂÜ¨Êôö‰∏äÁù°ËßâÈîÅÂú®Èó®Â§ñ Ê≤°Êúâ‰∫∫ÂΩìÂÆÉÊòØ‰∏ÄÊù°ÂÆ†Áâ©Áãó ‰πü‰∏ç‰ºöÊ∏©ÊüîÁöÑÊäöÊë∏ÂÆÉ ‰ΩÜÊòØÁôΩÂ§©Ëß£ÂºÄÈìæÂ≠êÁöÑÊó∂ÂÄô ÂÆÉÊ≤°Êúâ‰∏ÄÊ¨°ÈÄÉÁ¶ªËøá ÊàëÊÉ≥ÂÆÉ‰∏ÄÂÆöÂÆ≥ÊÄïÁ¶ªÂºÄ‰∫Ü ‰πü‰∏ç‰ºöÊúâ‰ªª‰Ωï‰∫∫ÊâæÂÆÉ„ÄÇ‚Äù ÈôàÊú´ÂºÄËΩ¶ÊíûÂùèÂ∞èÂÆπËΩ¶‰πãÂêéËÑ∏‰∏äÁöÑË°Ä„ÄÇ Â∞èÂÆπ‰ª£Áè≠ÈôàÊú´Êó∂ÁöÑÂ£∞Èü≥„ÄÇËçîÊûùËØ¥ÊúÄËÆ®ÂéåÂà´‰∫∫ËØ¥Ë∞éÊó∂ÁöÑÂò¥Ëßí„ÄÇËåÖÂçÅÂÖ´Ê±ÇÂ©öÊó∂ÂÄôÁúºËßíÁöÑÊ≥™„ÄÇÁå™Â§¥Ë¢´ÁáïÂ≠ê‰ªéÂç´ÁîüÈó¥ÊãâÂõûÂéªÊó∂ÁöÑÁ¨ëÂÆπ„ÄÇÁáïÂ≠êÂùêÂú®ËàçÂ∫ä‰∏äÂì≠Ê≥£ÁöÑË°®ÊÉÖ„ÄÇÂπ∫È∏°Èù¢ËØïÊó∂ÂÄôËØ¥ÊÉ≥Á¶ª‰ªñÊõ¥ËøëÊó∂ÁöÑÁúºÁ•û„ÄÇÊâÄÊúâÁöÑ‰∏ÄÂàáÊÇ≤‰º§Âø´‰πêÂøßÊÑÅÊ¨¢ÂñúÊúÄÂàùÁöÑÂéüÂõ†ÈÉΩÊòØÊÉ≥Êé•Ëøë„ÄÇÊÑøÂ§©‰∏ãÊúâÊÉÖ‰∫∫ÁªàÊàêÁú∑Â±û Êúâ‰∏™ÁâáÊÆµÊòØÁå™Â§¥ÈÄÅÁáïÂ≠êÁ¶ªÂºÄÔºåÂØπÂ•πÊèêÁöÑÂàÜÊâã‰∏ÄÁÇπÊÄ®Ë®ÄÈÉΩÊ≤°ÊúâÔºåÁ¨ëÁùÄÂØπÂ•πËØ¥‰Ω†Ë¶ÅÂπ∏Á¶è‰Ω†Ë¶ÅÈ´òÂÖ¥ÔºåÁÑ∂ÂêéÂú®ËΩ¶ÂºÄËµ∞ÂêéÊ≥™ÊµÅÊª°Èù¢ËøΩÁùÄËΩ¶ËØ¥ÔºåÁáïÂ≠êÊ≤°Êúâ‰Ω†ÊàëÊÄé‰πàÊ¥ª„ÄÇÈÇ£‰∏ÄÂàªÁöÑÁå™Â§¥Â∫îËØ•ÁóõÁöÑÊíïÂøÉË£ÇËÇ∫Âêß ÂàÜÊâãÂêéÁ¨¨‰∫åÂπ¥Êàë‰æùÁÑ∂ÂçïË∫´ÔºåÂ•πÂèëÊù•‰∏ÄÊù°‰ø°ÊÅØÔºö‰Ω†ÁúãËøáÔºåÊäöÊë∏ËøáÊàëË∫´‰ΩìÁöÑÊØè‰∏ÄÂØ∏ËÇåËÇ§ÔºåÁ°ÆÂîØÁã¨Áúã‰∏çÂà∞ÊàëÁ©øÂ©öÁ∫±ÁöÑÊ†∑Â≠ê„ÄÇÈÇ£‰∏Ä‰∏™Êôö‰∏äÊàëÊä±ÁùÄÊâãÊú∫ÔºåÁúãÁùÄÈÇ£Êù°‰ø°ÊÅØÔºåÊï¥Êï¥ÊäΩ‰∫Ü‰∏ÄÂåÖÁöÑÁÉüÔºåÊúÄÂêéÂõûÂ§ç‰∫Ü‰∏ÄÂè•Ôºö‰∏ÄÂÆöË¶ÅËøáÂæóÊØîÊàëÂ•ΩÔºåÂè™ÊòØ‰∏çË¶ÅÂÜçËÆ©ÊàëÁü•ÈÅì‰∫Ü„ÄÇ ÁáïÂ≠êÂπ∏‰∫èÊàë‰ª¨Ê≤°È¢ÜËØÅÔºåË¶Å‰∏çÁÑ∂ÊàëËÄΩËØØ‰Ω†‰∏ÄËæàÂ≠êÔºå‰Ω†‰πü‰øùÈáçÔºåÂÜçËßÅÔºåËøò‰ºöÂÜçËßÅÂêóÁáïÂ≠êÔºåÂÜçËßÅÁöÑÊó∂ÂÄô‰Ω†Ë¶ÅÂπ∏Á¶èÂ•Ω‰∏çÂ•ΩÔºåÁáïÂ≠ê‰Ω†Ë¶ÅÂºÄÂøÉÔºå‰Ω†Ë¶ÅÂπ∏Á¶èÔºåÂ•Ω‰∏çÂ•ΩÔºåÂºÄÂøÉÂïäÔºåÂπ∏Á¶è!‰Ω†ÁöÑ‰∏ñÁïå‰ª•ÂêéÊ≤°ÊúâÊàë‰∫ÜÔºåÊ≤°ÂÖ≥Á≥ª‰Ω†Ë¶ÅËá™Â∑±Âπ∏Á¶èÔºåÁáïÂ≠ê!ÁáïÂ≠ê!ÁáïÂ≠êÔºåÊ≤°Êúâ‰Ω†ÊàëÊÄé‰πàÊ¥ªÂïä!ÁáïÂ≠êÔºåÁáïÂ≠êÔºåÁáïÂ≠êÔºåÁáïÂ≠êÔºåÁáïÂ≠êÔºåÁáïÂ≠êÔºåÁáïÂ≠ê‰Ω†Â∏¶ÊàëËµ∞ÂêßÔºåÁáïÂ≠ê! ÊàëÁü•ÈÅì‰Ω†ÂæàÂ§ö‰∫ãÊÉÖ Áü•ÈÅì‰Ω†‰ºöÊãçÈ´òÁáïÁÖßÁâáËØ¥Â•πÈïøÂæóÂÉèÁßã ÁßãËÉÉÁñº‰ºöÊâæ‰Ω†Êãø‰∏ÄÁßçÂæàÁ•ûÂ•áÁöÑËçØ ‰Ω†‰ª¨‰ºö‰∏ÄËµ∑ÂéªÁúãË°£ÊúçËØïË°£Êúç ‰ºöÂéªËèúÂ∏ÇÂú∫‰π∞Ê∞¥Êûú Áü•ÈÅì‰Ω†Ë¢´Âõæ‰π¶È¶ÜÊâ£‰∫Ü26ÂùóÂÖ´ Áü•ÈÅì‰Ω†‰ªéÁßãÁöÑ‰ΩçÁΩÆ Êù•Âà∞‰∏ÄÊ•º‰∫Ü Â∑Æ‰∏çÂ§öÂêß ÂæàÂ§ö‰∫ãÊÉÖ‰πü‰∏çÊÉ≥ÊÉ≥‰∏çËµ∑Êù•‰∫Ü]]></content>
  </entry>
  <entry>
    <title><![CDATA[RabbitmqÂ≠¶ÊàêÂú®Á∫øÈªëÈ©¨]]></title>
    <url>%2F2019%2F06%2F01%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2FRabbitmq%2F</url>
    <content type="text"><![CDATA[#Â∑•‰ΩúÊ®°Âºè worker 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*; import java.io.IOException;import java.util.concurrent.TimeoutException; * ÂÖ•Èó®Á®ãÂ∫èÊ∂àË¥πËÄÖpublic class Consumer01 &#123; //ÈòüÂàó private static final String QUEUE = "helloworld"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); //ÁõëÂê¨ÈòüÂàó //Â£∞ÊòéÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÂú®mq ‰∏≠Ê≤°ÊúâÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞ÔºöString queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE,true,false,false,null); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE,true,defaultConsumer); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * rabbitmqÁöÑÂÖ•Èó®Á®ãÂ∫èpublic class Producer01 &#123; //ÈòüÂàó private static final String QUEUE = "helloworld"; public static void main(String[] args) &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); Connection connection = null; Channel channel = null; try &#123; //Âª∫Á´ãÊñ∞ËøûÊé• connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÂú®mq ‰∏≠Ê≤°ÊúâÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞ÔºöString queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE,true,false,false,null); //ÂèëÈÄÅÊ∂àÊÅØ //ÂèÇÊï∞ÔºöString exchange, String routingKey, BasicProperties props, byte[] body /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅexchangeÔºå‰∫§Êç¢Êú∫ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÂ∞Ü‰ΩøÁî®mqÁöÑÈªòËÆ§‰∫§Êç¢Êú∫ÔºàËÆæÁΩÆ‰∏∫""Ôºâ * 2„ÄÅroutingKeyÔºåË∑ØÁî±keyÔºå‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÊù•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàóÔºåÂ¶ÇÊûú‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫ÔºåroutingKeyËÆæÁΩÆ‰∏∫ÈòüÂàóÁöÑÂêçÁß∞ * 3„ÄÅpropsÔºåÊ∂àÊÅØÁöÑÂ±ûÊÄß * 4„ÄÅbodyÔºåÊ∂àÊÅØÂÜÖÂÆπ */ //Ê∂àÊÅØÂÜÖÂÆπ String message = "hello world ÈªëÈ©¨Á®ãÂ∫èÂëò"; channel.basicPublish("",QUEUE,null,message.getBytes()); System.out.println("send to mq "+message); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //ÂÖ≥Èó≠ËøûÊé• //ÂÖàÂÖ≥Èó≠ÈÄöÈÅì try &#123; channel.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (TimeoutException e) &#123; e.printStackTrace(); &#125; try &#123; connection.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; ÂèëÂ∏ÉËÆ¢ÈòÖpublish/subscribeÊ®°Âºè123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.BuiltinExchangeType;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Producer02_publish &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_FANOUT_INFORM="exchange_fanout_inform"; public static void main(String[] args) &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); Connection connection = null; Channel channel = null; try &#123; //Âª∫Á´ãÊñ∞ËøûÊé• connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÂú®mq ‰∏≠Ê≤°ÊúâÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞ÔºöString queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL,EXCHANGE_FANOUT_INFORM,""); channel.queueBind(QUEUE_INFORM_SMS,EXCHANGE_FANOUT_INFORM,""); //ÂèëÈÄÅÊ∂àÊÅØ //ÂèÇÊï∞ÔºöString exchange, String routingKey, BasicProperties props, byte[] body /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅexchangeÔºå‰∫§Êç¢Êú∫ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÂ∞Ü‰ΩøÁî®mqÁöÑÈªòËÆ§‰∫§Êç¢Êú∫ÔºàËÆæÁΩÆ‰∏∫""Ôºâ * 2„ÄÅroutingKeyÔºåË∑ØÁî±keyÔºå‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÊù•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàóÔºåÂ¶ÇÊûú‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫ÔºåroutingKeyËÆæÁΩÆ‰∏∫ÈòüÂàóÁöÑÂêçÁß∞ * 3„ÄÅpropsÔºåÊ∂àÊÅØÁöÑÂ±ûÊÄß * 4„ÄÅbodyÔºåÊ∂àÊÅØÂÜÖÂÆπ */ for(int i=0;i&lt;5;i++)&#123; //Ê∂àÊÅØÂÜÖÂÆπ String message = "send inform message to user"; channel.basicPublish(EXCHANGE_FANOUT_INFORM,"",null,message.getBytes()); System.out.println("send to mq "+message); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //ÂÖ≥Èó≠ËøûÊé• //ÂÖàÂÖ≥Èó≠ÈÄöÈÅì try &#123; channel.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (TimeoutException e) &#123; e.printStackTrace(); &#125; try &#123; connection.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Consumer02_subscribe_email &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String EXCHANGE_FANOUT_INFORM="exchange_fanout_inform"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_FANOUT_INFORM, ""); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_EMAIL,true,defaultConsumer); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 18:22 **/public class Consumer02_subscribe_sms &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_FANOUT_INFORM="exchange_fanout_inform"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_FANOUT_INFORM, ""); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_SMS,true,defaultConsumer); &#125;&#125; Ë∑ØÁî±Ê®°Âºè123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.BuiltinExchangeType;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 19:23 **/public class Producer03_routing &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_ROUTING_INFORM="exchange_routing_inform"; private static final String ROUTINGKEY_EMAIL="inform_email"; private static final String ROUTINGKEY_SMS="inform_sms"; public static void main(String[] args) &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); Connection connection = null; Channel channel = null; try &#123; //Âª∫Á´ãÊñ∞ËøûÊé• connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÂú®mq ‰∏≠Ê≤°ÊúâÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞ÔºöString queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL,EXCHANGE_ROUTING_INFORM,ROUTINGKEY_EMAIL); channel.queueBind(QUEUE_INFORM_EMAIL,EXCHANGE_ROUTING_INFORM,"inform"); channel.queueBind(QUEUE_INFORM_SMS,EXCHANGE_ROUTING_INFORM,ROUTINGKEY_SMS); channel.queueBind(QUEUE_INFORM_SMS,EXCHANGE_ROUTING_INFORM,"inform"); //ÂèëÈÄÅÊ∂àÊÅØ //ÂèÇÊï∞ÔºöString exchange, String routingKey, BasicProperties props, byte[] body /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅexchangeÔºå‰∫§Êç¢Êú∫ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÂ∞Ü‰ΩøÁî®mqÁöÑÈªòËÆ§‰∫§Êç¢Êú∫ÔºàËÆæÁΩÆ‰∏∫""Ôºâ * 2„ÄÅroutingKeyÔºåË∑ØÁî±keyÔºå‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÊù•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàóÔºåÂ¶ÇÊûú‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫ÔºåroutingKeyËÆæÁΩÆ‰∏∫ÈòüÂàóÁöÑÂêçÁß∞ * 3„ÄÅpropsÔºåÊ∂àÊÅØÁöÑÂ±ûÊÄß * 4„ÄÅbodyÔºåÊ∂àÊÅØÂÜÖÂÆπ */ /* for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send email inform message to user"; channel.basicPublish(EXCHANGE_ROUTING_INFORM,ROUTINGKEY_EMAIL,null,message.getBytes()); System.out.println("send to mq "+message); &#125; for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send sms inform message to user"; channel.basicPublish(EXCHANGE_ROUTING_INFORM,ROUTINGKEY_SMS,null,message.getBytes()); System.out.println("send to mq "+message); &#125;*/ for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send inform message to user"; channel.basicPublish(EXCHANGE_ROUTING_INFORM,"inform",null,message.getBytes()); System.out.println("send to mq "+message); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //ÂÖ≥Èó≠ËøûÊé• //ÂÖàÂÖ≥Èó≠ÈÄöÈÅì try &#123; channel.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (TimeoutException e) &#123; e.printStackTrace(); &#125; try &#123; connection.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091package com.xuecheng.test.rabbitmqimport com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Consumer03_routing_email &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String EXCHANGE_ROUTING_INFORM="exchange_routing_inform"; private static final String ROUTINGKEY_EMAIL="inform_email"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_ROUTING_INFORM,ROUTINGKEY_EMAIL); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_EMAIL,true,defaultConsumer); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Consumer03_routing_sms &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_ROUTING_INFORM="exchange_routing_inform"; private static final String ROUTINGKEY_SMS="inform_sms"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_ROUTING_INFORM,ROUTINGKEY_SMS); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_SMS,true,defaultConsumer); &#125;&#125; Topic ÈÄöÈÖçÁ¨¶Ê®°Âºè123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.BuiltinExchangeType;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Producer04_topics &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_TOPICS_INFORM="exchange_topics_inform"; private static final String ROUTINGKEY_EMAIL="inform.#.email.#"; private static final String ROUTINGKEY_SMS="inform.#.sms.#"; public static void main(String[] args) &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); Connection connection = null; Channel channel = null; try &#123; //Âª∫Á´ãÊñ∞ËøûÊé• connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÂú®mq ‰∏≠Ê≤°ÊúâÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞ÔºöString queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL,EXCHANGE_TOPICS_INFORM,ROUTINGKEY_EMAIL); channel.queueBind(QUEUE_INFORM_SMS,EXCHANGE_TOPICS_INFORM,ROUTINGKEY_SMS); //ÂèëÈÄÅÊ∂àÊÅØ //ÂèÇÊï∞ÔºöString exchange, String routingKey, BasicProperties props, byte[] body /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅexchangeÔºå‰∫§Êç¢Êú∫ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÂ∞Ü‰ΩøÁî®mqÁöÑÈªòËÆ§‰∫§Êç¢Êú∫ÔºàËÆæÁΩÆ‰∏∫""Ôºâ * 2„ÄÅroutingKeyÔºåË∑ØÁî±keyÔºå‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÊù•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàóÔºåÂ¶ÇÊûú‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫ÔºåroutingKeyËÆæÁΩÆ‰∏∫ÈòüÂàóÁöÑÂêçÁß∞ * 3„ÄÅpropsÔºåÊ∂àÊÅØÁöÑÂ±ûÊÄß * 4„ÄÅbodyÔºåÊ∂àÊÅØÂÜÖÂÆπ */ for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send email inform message to user"; channel.basicPublish(EXCHANGE_TOPICS_INFORM,"inform.email",null,message.getBytes()); System.out.println("send to mq "+message); &#125; for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send sms inform message to user"; channel.basicPublish(EXCHANGE_TOPICS_INFORM,"inform.sms",null,message.getBytes()); System.out.println("send to mq "+message); &#125; for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send sms and email inform message to user"; channel.basicPublish(EXCHANGE_TOPICS_INFORM,"inform.sms.email",null,message.getBytes()); System.out.println("send to mq "+message); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //ÂÖ≥Èó≠ËøûÊé• //ÂÖàÂÖ≥Èó≠ÈÄöÈÅì try &#123; channel.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (TimeoutException e) &#123; e.printStackTrace(); &#125; try &#123; connection.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 18:22 **/public class Consumer04_topics_email &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String EXCHANGE_TOPICS_INFORM="exchange_topics_inform"; private static final String ROUTINGKEY_EMAIL="inform.#.email.#"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_TOPICS_INFORM,ROUTINGKEY_EMAIL); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_EMAIL,true,defaultConsumer); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 18:22 **/public class Consumer04_topics_sms &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_TOPICS_INFORM="exchange_topics_inform"; private static final String ROUTINGKEY_SMS="inform.#.sms.#"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_TOPICS_INFORM,ROUTINGKEY_SMS); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_SMS,true,defaultConsumer); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package com.xuecheng.test.rabbitmq;import com.alibaba.fastjson.JSON;import com.xuecheng.test.rabbitmq.config.RabbitmqConfig;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.amqp.rabbit.core.RabbitTemplate;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;import java.util.HashMap;import java.util.Map;/** * @author Administrator * @version 1.0 * @create 2018-06-17 19:23 **/@SpringBootTest@RunWith(SpringRunner.class)public class Producer05_topics_springboot &#123; @Autowired RabbitTemplate rabbitTemplate; //‰ΩøÁî®rabbitTemplateÂèëÈÄÅÊ∂àÊÅØ @Test public void testSendEmail()&#123; String message = "send email message to user"; /** * ÂèÇÊï∞Ôºö * 1„ÄÅ‰∫§Êç¢Êú∫ÂêçÁß∞ * 2„ÄÅroutingKey * 3„ÄÅÊ∂àÊÅØÂÜÖÂÆπ */ rabbitTemplate.convertAndSend(RabbitmqConfig.EXCHANGE_TOPICS_INFORM,"inform.email",message); &#125; //‰ΩøÁî®rabbitTemplateÂèëÈÄÅÊ∂àÊÅØ @Test public void testSendPostPage()&#123; Map message = new HashMap&lt;&gt;(); message.put("pageId","5a795ac7dd573c04508f3a56"); //Â∞ÜÊ∂àÊÅØÂØπË±°ËΩ¨Êàêjson‰∏≤ String messageString = JSON.toJSONString(message); //Ë∑ØÁî±keyÔºåÂ∞±ÊòØÁ´ôÁÇπID String routingKey = "5a751fab6abb5044e0d19ea1"; /** * ÂèÇÊï∞Ôºö * 1„ÄÅ‰∫§Êç¢Êú∫ÂêçÁß∞ * 2„ÄÅroutingKey * 3„ÄÅÊ∂àÊÅØÂÜÖÂÆπ */ rabbitTemplate.convertAndSend("ex_routing_cms_postpage",routingKey,messageString); &#125;&#125;]]></content>
      <tags>
        <tag>Rabbitmq</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQ for Mac]]></title>
    <url>%2F2019%2F06%2F01%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2FRabbitMQ%20%20mac%20%2F</url>
    <content type="text"><![CDATA[http://www.rabbitmq.com/install-standalone-mac.html 2„ÄÅÈÖçÁΩÆÂëΩ‰ª§ËÆøÈóÆË∑ØÂæÑ cd ~ vi .bash_profileÔºàÂâçÊèêÊòØÂ≠òÂú®ËØ•Êñá‰ª∂ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂèØ‰ª•ÂÖàÂàõÂª∫mkdir .bash_profileÔºå‰πãÂêéÂÜçÊâßË°åviÁºñËæëÔºâ ËæìÂÖ•‰ª•‰∏ã‰∏§Ë°å export RABBIT_HOME=/Users/enniu1/Desktop/zjg/rabbitmq_server-3.6.1 export PATH=$PATH:$RABBIT_HOME/sbin ‰πãÂêé‰øùÂ≠òÊñá‰ª∂Âç≥ÂèØ 3„ÄÅÂêØÂä®server ÈáçÊñ∞ÂêØÂä®ÁªàÁ´ØÊàñËÄÖÂàáÊç¢‰∏ÄÂ±èÔºå ËæìÂÖ•rabbitmq-serverÔºåÂá∫Áé∞Â¶Ç‰∏ãÊ®°Ê†∑ÔºåË°®Á§∫ÂÆâË£ÖÂπ∂ÂêØÂä®ÊàêÂäü„ÄÇ https://www.cnblogs.com/java-zhao/p/5429091.html https://www.jianshu.com/p/e26ebf5abace https://www.cnblogs.com/xingzc/p/5945030.html ÊïôÁ®ã]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊÖïËØæÁΩëVue]]></title>
    <url>%2F2019%2F05%2F28%2F%E5%89%8D%E7%AB%AF%2FVue%2F</url>
    <content type="text"><![CDATA[Á¨¨‰∏ÄÁ´† ÊÖïËØæÁΩë]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Intellij Idea ‰ΩøÁî®ÊäÄÂ∑ß]]></title>
    <url>%2F2019%2F05%2F24%2F%E5%85%B6%E4%BB%96%2FIntellij%2F</url>
    <content type="text"><![CDATA[È°πÁõÆÂºïÂÖ•ËøõÊù• Ë¶ÅÊ∑ªÂä†Âà∞model‰∏≠ÈáåÈù¢Âéª„ÄÇ 1.jar!/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration.class]; nested exception is java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/jdbc/datasource/embedded/EmbeddedDatabaseType not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152Error:Kotlin: [Internal Error] java.util.zip.ZipException: invalid LOC header (bad signature) at java.util.zip.ZipFile.read(Native Method) at java.util.zip.ZipFile.access$1400(ZipFile.java:60) at java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:734) at java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:434) at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158) at com.intellij.openapi.util.io.FileUtilRt.loadBytes(FileUtilRt.java:649) at com.intellij.openapi.util.io.FileUtil.loadBytes(FileUtil.java:1643) at com.intellij.openapi.vfs.impl.ZipHandlerBase.contentsToByteArray(ZipHandlerBase.java:140) at com.intellij.openapi.vfs.impl.jar.CoreJarVirtualFile.contentsToByteArray(CoreJarVirtualFile.java:122) at org.jetbrains.kotlin.cli.jvm.compiler.JvmPackagePartProvider.addRoots(JvmPackagePartProvider.kt:98) at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.createPackagePartProvider(KotlinCoreEnvironment.kt:319) at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1$1.invoke(KotlinToJVMBytecodeCompiler.kt:380) at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1$1.invoke(KotlinToJVMBytecodeCompiler.kt:67) at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.createContainer(TopDownAnalyzerFacadeForJVM.kt:175) at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:84) at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82) at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:375) at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67) at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107) at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:366) at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:120) at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161) at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57) at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96) at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52) at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93) at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:436) at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:102) at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1029) at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102) at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137) at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1071) at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1028) at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:434) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) at sun.rmi.transport.Transport$1.run(Transport.java:200) at sun.rmi.transport.Transport$1.run(Transport.java:197) at java.security.AccessController.doPrivileged(Native Method) at sun.rmi.transport.Transport.serviceCall(Transport.java:196) at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568) at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826) at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683) at java.security.AccessController.doPrivileged(Native Method) at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748) Áúã‰∏ãÈù¢Êä•Èîô‰ø°ÊÅØ ‰∏ÄËà¨ÊòØÂõ†‰∏∫jarÂåÖÈóÆÈ¢ò 12&gt; Warning:Kotlin: Classpath entry points to a non-existent location: /Users/apple/.m2/repository/commons-logging/commons-logging/unknown/commons-logging-unknown.jar&gt; Idea Â¢ûÂä†Êñ∞Ê®°Âùó hostÈÖçÁΩÆÂüüÂêçËÆøÈóÆÂ≠¶ÊàêÂú®Á∫ø Êü•ËØ¢È°µÈù¢ÈîôËØØ‰ø°ÊÅØÔºàÔºâ]]></content>
      <categories>
        <category>Intellij</category>
      </categories>
      <tags>
        <tag>Intellij</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Freemark]]></title>
    <url>%2F2019%2F05%2F22%2F%E5%85%B6%E4%BB%96%2FFreemark%2F</url>
    <content type="text"><![CDATA[12345678910111213server:port: 8088 #ÊúçÂä°Á´ØÂè£spring:application:name: test‚Äêfreemarker #ÊåáÂÆöÊúçÂä°Âêç freemarker:cache: false #ÂÖ≥Èó≠Ê®°ÊùøÁºìÂ≠òÔºåÊñπ‰æøÊµãËØï settings:template_update_delay: 0 #Ê£ÄÊü•Ê®°ÊùøÊõ¥Êñ∞Âª∂ËøüÊó∂Èó¥ÔºåËÆæÁΩÆ‰∏∫0Ë°®Á§∫Á´ãÂç≥Ê£ÄÊü•ÔºåÂ¶ÇÊûúÊó∂Èó¥Â§ß‰∫é0‰ºöÊúâÁºìÂ≠ò‰∏çÊñπ‰æø ËøõË°åÊ®°ÊùøÊµãËØï 1&lt;artifactId&gt;test-freemarker&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt; List Êåá‰ª§ MapÊåá‰ª§ IFÊåá‰ª§ 2 ‰ΩøÁî®Ê®°ÊùøÊñá‰ª∂ÈùôÊÄÅÂåñ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465@SpringBootTest@RunWith(SpringRunner.class)public class FreemarkerTest &#123; //Âü∫‰∫éÊ®°ÊùøÁîüÊàêÈùôÊÄÅÂåñÊñá‰ª∂ @Test public void testGenerateHtml() throws IOException, TemplateException &#123; //ÂàõÂª∫ÈÖçÁΩÆÁ±ª Configuration configuration=new Configuration(Configuration.getVersion()); String classpath = this.getClass().getResource("/").getPath(); //ËÆæÁΩÆÊ®°ÊùøË∑ØÂæÑ configuration.setDirectoryForTemplateLoading(new File(classpath + "/templates/")); //ËÆæÁΩÆÂ≠óÁ¨¶ÈõÜ configuration.setDefaultEncoding("utf-8"); //Âä†ËΩΩÊ®°Êùø Template template = configuration.getTemplate("test1.ftl"); //Êï∞ÊçÆÊ®°Âûã Map map = getMap(); //ÈùôÊÄÅÂåñ String content = FreeMarkerTemplateUtils.processTemplateIntoString(template, map); //ÈùôÊÄÅÂåñÂÜÖÂÆπ System.out.println(content); InputStream inputStream = IOUtils.toInputStream(content); //ËæìÂá∫Êñá‰ª∂ FileOutputStream fileOutputStream = new FileOutputStream(new File("d:/test1.html")); int copy = IOUtils.copy(inputStream, fileOutputStream); &#125; //Êï∞ÊçÆÊ®°Âûã private Map getMap()&#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); //ÂêëÊï∞ÊçÆÊ®°ÂûãÊîæÊï∞ÊçÆ map.put("name","ÈªëÈ©¨Á®ãÂ∫èÂëò"); Student stu1 = new Student(); stu1.setName("Â∞èÊòé"); stu1.setAge(18); stu1.setMondy(1000.86f); stu1.setBirthday(new Date()); Student stu2 = new Student(); stu2.setName("Â∞èÁ∫¢"); stu2.setMondy(200.1f); stu2.setAge(19);// stu2.setBirthday(new Date()); List&lt;Student&gt; friends = new ArrayList&lt;&gt;(); friends.add(stu1); stu2.setFriends(friends); stu2.setBestFriend(stu1); List&lt;Student&gt; stus = new ArrayList&lt;&gt;(); stus.add(stu1); stus.add(stu2); //ÂêëÊï∞ÊçÆÊ®°ÂûãÊîæÊï∞ÊçÆ map.put("stus",stus); //ÂáÜÂ§ámapÊï∞ÊçÆ HashMap&lt;String,Student&gt; stuMap = new HashMap&lt;&gt;(); stuMap.put("stu1",stu1); stuMap.put("stu2",stu2); //ÂêëÊï∞ÊçÆÊ®°ÂûãÊîæÊï∞ÊçÆ map.put("stu1",stu1); //ÂêëÊï∞ÊçÆÊ®°ÂûãÊîæÊï∞ÊçÆ map.put("stuMap",stuMap); return map; &#125;&#125; ‚≠êÔ∏èÂü∫‰∫éÊ®°ÊùøÂ≠óÁ¨¶‰∏≤ÁîüÊàêÈùôÊÄÅÂåñÊñá‰ª∂1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768@Test public void testGenerateHtmlByString() throws IOException, TemplateException &#123; //ÂàõÂª∫ÈÖçÁΩÆÁ±ª Configuration configuration=new Configuration(Configuration.getVersion()); //Ëé∑ÂèñÊ®°ÊùøÂÜÖÂÆπ //Ê®°ÊùøÂÜÖÂÆπÔºåËøôÈáåÊµãËØïÊó∂‰ΩøÁî®ÁÆÄÂçïÁöÑÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫Ê®°Êùø String templateString="" + "&lt;html&gt;\n" + " &lt;head&gt;&lt;/head&gt;\n" + " &lt;body&gt;\n" + " ÂêçÁß∞Ôºö$&#123;name&#125;\n" + " &lt;/body&gt;\n" + "&lt;/html&gt;"; //Âä†ËΩΩÊ®°Êùø //Ê®°ÊùøÂä†ËΩΩÂô® StringTemplateLoader stringTemplateLoader = new StringTemplateLoader(); stringTemplateLoader.putTemplate("template",templateString); configuration.setTemplateLoader(stringTemplateLoader); Template template = configuration.getTemplate("template","utf-8"); //Êï∞ÊçÆÊ®°Âûã Map map = getMap(); //ÈùôÊÄÅÂåñ String content = FreeMarkerTemplateUtils.processTemplateIntoString(template, map); //ÈùôÊÄÅÂåñÂÜÖÂÆπ System.out.println(content); InputStream inputStream = IOUtils.toInputStream(content); //ËæìÂá∫Êñá‰ª∂ FileOutputStream fileOutputStream = new FileOutputStream(new File("d:/test1.html")); IOUtils.copy(inputStream, fileOutputStream); &#125; //Êï∞ÊçÆÊ®°Âûã private Map getMap()&#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); //ÂêëÊï∞ÊçÆÊ®°ÂûãÊîæÊï∞ÊçÆ map.put("name","ÈªëÈ©¨Á®ãÂ∫èÂëò"); Student stu1 = new Student(); stu1.setName("Â∞èÊòé"); stu1.setAge(18); stu1.setMondy(1000.86f); stu1.setBirthday(new Date()); Student stu2 = new Student(); stu2.setName("Â∞èÁ∫¢"); stu2.setMondy(200.1f); stu2.setAge(19);// stu2.setBirthday(new Date()); List&lt;Student&gt; friends = new ArrayList&lt;&gt;(); friends.add(stu1); stu2.setFriends(friends); stu2.setBestFriend(stu1); List&lt;Student&gt; stus = new ArrayList&lt;&gt;(); stus.add(stu1); stus.add(stu2); //ÂêëÊï∞ÊçÆÊ®°ÂûãÊîæÊï∞ÊçÆ map.put("stus",stus); //ÂáÜÂ§ámapÊï∞ÊçÆ HashMap&lt;String,Student&gt; stuMap = new HashMap&lt;&gt;(); stuMap.put("stu1",stu1); stuMap.put("stu2",stu2); //ÂêëÊï∞ÊçÆÊ®°ÂûãÊîæÊï∞ÊçÆ map.put("stu1",stu1); //ÂêëÊï∞ÊçÆÊ®°ÂûãÊîæÊï∞ÊçÆ map.put("stuMap",stuMap); return map; &#125;&#125;]]></content>
      <categories>
        <category>Freemark</category>
      </categories>
      <tags>
        <tag>Freemark</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈªëÈ©¨Á®ãÂ∫èÂëò web pack]]></title>
    <url>%2F2019%2F05%2F05%2FVue_Webpack%2Fwebpack%2F</url>
    <content type="text"><![CDATA[1. webpackÁöÑÂÆâË£Ö1 ÂÖàÂÆâË£Önode.js1234node -vnpm -vcd webpack-demo(Âú®Ê°åÈù¢‰∏äÊñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂Â§π)npm init ÔºàÂú®Êñ∞Âª∫Êñá‰ª∂Â§π‰∏ãÔºâ 2.ÂÖ®Â±ÄÂÆâË£Öwebpack Ôºà‰∏çÊé®ËçêÔºâ 1npm install webpack webpack-cli -g (gË°®Á§∫ÂÖ®Â±ÄÂÆâË£Ö Áî®ÊâãÊú∫ÁÉ≠ÁÇπÂÆâË£Ö Èò≤Ê≠¢Ë¢´Â¢ô) 3 Âú®È°πÁõÆÂÜÖÂÆâË£Öwebpack(Êé®Ëçê)1234cd webpack-demo (Âú®È°πÁõÆÂÜÖÂÆâË£Ö)npm install webpack webpack-cli --save-d (npm install webpack webpack-cli -D) ‰∏§ËÄÖÁ≠â‰ª∑npm webpack -v (6.4.1)npx webpack -v (4.30.0) 12ËøõÂÖ•Âà∞È°πÁõÆÊñá‰ª∂Â§π‰∏≠npm install ÂëΩ‰ª§ÂèØ‰ª•Â∞ÜÊï¥‰∏™Êñá‰ª∂ÊâìÂåÖ 2 webpackÊâìÂåÖÈ°πÁõÆ webpack main.js build.js (‰ºöÊä•Èîô) 12&gt; ‰ΩøÁî® npx webpackÂëΩ‰ª§ ‰ºöÊä•Èîô&gt; Ê∑ªÂä†ÈÖçÁΩÆÊñá‰ª∂ webpack.config.js bug 3webpack ÈÖçÁΩÆÊñá‰ª∂ÁöÑÁºñÂÜô12 4 webpack-dev-server ‰ΩøÁî® webpack-dev-serverÈúÄË¶ÅÂÆâË£Öwebpack„ÄÅ webpack-dev-serverÂíå html-webpack-plugin‰∏â‰∏™ÂåÖ„ÄÇ 1npm install webpack@3.6.0 webpack-dev-server@2.9.1 html-webpack-plugin@2.30.1 --save-dev ÂÆâË£ÖÂÆåÊàêÔºå‰ºöÂèëÁé∞Á®ãÂ∫èÁõÆÂΩïÂá∫Áé∞‰∏Ä‰∏™package.jsonÊñá‰ª∂ ÈÖçÁΩÆwebpack-dev-server 1234567891011121314151617Âú®package.json‰∏≠ÈÖçÁΩÆscript&quot;scripts&quot;: &#123;&quot;dev&quot;: &quot;webpack‚Äêdev‚Äêserver ‚Äê‚Äêinline ‚Äê‚Äêhot ‚Äê‚Äêopen ‚Äê‚Äêport 5008&quot;&#125;,--inlineÔºöËá™Âä®Âà∑Êñ∞--hotÔºöÁÉ≠Âä†ËΩΩ--portÔºöÊåáÂÆöÁ´ØÂè£--openÔºöËá™Âä®Âú®ÈªòËÆ§ÊµèËßàÂô®ÊâìÂºÄ--hostÔºöÂèØ‰ª•ÊåáÂÆöÊúçÂä°Âô®ÁöÑ ipÔºå‰∏çÊåáÂÆöÂàô‰∏∫127.0.0.1ÔºåÂ¶ÇÊûúÂØπÂ§ñÂèëÂ∏ÉÂàôÂ°´ÂÜôÂÖ¨ÁΩëipÂú∞ÂùÄÊ≠§Êó∂package.jsonÁöÑÊñá‰ª∂ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö 12345678910&#123;&quot;scripts&quot;: &#123;&quot;dev&quot;: &quot;webpack‚Äêdev‚Äêserver ‚Äê‚Äêinline ‚Äê‚Äêhot ‚Äê‚Äêopen ‚Äê‚Äêport 5008&quot;&#125;,&quot;devDependencies&quot;: &#123;&quot;html‚Äêwebpack‚Äêplugin&quot;: &quot;^2.30.1&quot;,&quot;webpack&quot;: &quot;^3.6.0&quot;,&quot;webpack‚Äêdev‚Äêserver&quot;: &quot;^2.9.1&quot;&#125;&#125; ÈÖçÁΩÆwebpack.config.js Âú®webpack.config.js‰∏≠ÈÖçÁΩÆhtml-webpack-pluginÊèí‰ª∂ 1234567891011121314151617&gt; var htmlwp = require('html‚Äêwebpack‚Äêplugin');&gt; module.exports=&#123;&gt; entry:'./src/main.js', //ÊåáÂÆöÊâìÂåÖÁöÑÂÖ•Âè£Êñá‰ª∂&gt; output:&#123;&gt; path : __dirname+'/dist', // Ê≥®ÊÑèÔºö__dirnameË°®Á§∫webpack.config.jsÊâÄÂú®ÁõÆÂΩïÁöÑÁªùÂØπË∑ØÂæÑ&gt; filename:'build.js' //ËæìÂá∫Êñá‰ª∂&gt; &#125;,&gt; plugins:[&gt; new htmlwp(&#123;&gt; title: 'È¶ñÈ°µ', //ÁîüÊàêÁöÑÈ°µÈù¢Ê†áÈ¢ò&lt;head&gt;&lt;title&gt;È¶ñÈ°µ&lt;/title&gt;&lt;/head&gt;&gt; filename: 'index.html', //webpack‚Äêdev‚ÄêserverÂú®ÂÜÖÂ≠ò‰∏≠ÁîüÊàêÁöÑÊñá‰ª∂ÂêçÁß∞ÔºåËá™Âä®Â∞ÜbuildÊ≥®ÂÖ•Âà∞Ëøô&gt; ‰∏™È°µÈù¢Â∫ïÈÉ®ÔºåÊâçËÉΩÂÆûÁé∞Ëá™Âä®Âà∑Êñ∞ÂäüËÉΩ&gt; template: 'vue_02.html' //Ê†πÊçÆindex1.htmlËøô‰∏™Ê®°ÊùøÊù•ÁîüÊàê(Ëøô‰∏™Êñá‰ª∂ËØ∑Á®ãÂ∫èÂëòËá™Â∑±ÁîüÊàê)&gt; &#125;)&gt; ]&gt; &#125;&gt; ÈÖçÁΩÆÊ®°ÊùøÊñá‰ª∂ 12Â∞ÜÂéüÊù•ÁöÑvue_02.html‰Ωú‰∏∫Ê®°ÊùøÊñá‰ª∂Ôºå‰∏∫‰∫ÜÂíåÂÜÖÂ≠ò‰∏≠ÁöÑindex.htmlÊñá‰ª∂ÂêçÂå∫Âà´ÔºåÊ≥®ÊÑèÂ∞Üvue_02.html‰∏≠ÁöÑscriptÊ†áÁ≠æÂéªÊéâ ÂêØÂä® È°πÁõÆ 5 CMSÂâçÁ´ØÂ∑•Á®ãÊê≠Âª∫ Vue-cliËÑöÊâãÊû∂ÁöÑÂ∞ÅË£Ö ‚Äî‚Äîxc-ui-pc-sysmanage 1234567891011121314151617181920# install dependenciesnpm install# serve with hot reload at localhost:8080npm run dev# build for production with minificationnpm run build# build for production and view the bundle analyzer reportnpm run build --report# run unit testsnpm run unit# run e2e testsnpm run e2e# run all testsnpm test ‚≠êÔ∏è‚≠êÔ∏è Âà†Èô§node_mo dules ÁÑ∂ÂêéÊâßË°å npm install Ê≠§Êó∂‰ºöÂá∫Áé∞Âç°È°øÁΩëÊÖ¢„ÄÇÁÑ∂Âêé‰ΩøÁî®cnpm. install Êù•ÁîüÊàê node_modules ÁÑ∂Âêé„ÄÇnpm run dev ÂàõÂª∫È°µÈù¢ÂíåÂÆö‰πâË∑ØÁî± 123456789101112&lt;template&gt;&lt;div&gt; &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜ Âç≥viewÈÉ®ÂàÜ--&gt; Hello world&lt;/div&gt;&lt;/template&gt;&lt;script&gt; // &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜ Âç≥model vmÈÉ®ÂàÜ--&gt;&lt;/script&gt;&lt;!--ÁºñÂÜôÈ°µÈù¢Ê†∑Âºè ÈùûÂøÖÈ°ª--&gt;&lt;style&gt;&lt;/style&gt; 1234567891011121314151617181920212223import Home from '@/module/home/page/home.vue';import page_list from '@/module/cms/page/page_list.vue';export default [&#123; path: '/', component: Home, name: 'CMS',//ËèúÂçïÂêçÁß∞ hidden: false, children: [ &#123; path: '/cms/page/list', name: 'È°µÈù¢ÂàóË°®', component: page_list, hidden: false &#125; ]&#125;/*, &#123; path: '/login', component: Login, name: 'Login', hidden: true &#125;*/] 123456789101112131415import Vue from 'vue';import Router from 'vue-router';Vue.use(Router);// ÂÆö‰πâË∑ØÁî±ÈÖçÁΩÆlet routes = []let concat = (router) =&gt; &#123; routes = routes.concat(router)&#125;// // ÂØºÂÖ•Ë∑ØÁî±ËßÑÂàô base router ‰∏≠ÂØºÂÖ•Ë∑ØÁî±ËßÑÂàôimport HomeRouter from '@/module/home/router'import CmsRouter from '@/module/cms/router'// ÂêàÂπ∂Ë∑ØÁî±ËßÑÂàôconcat(HomeRouter)concat(CmsRouter)export default routes; TabelÁªÑÂª∫ÊµãËØï https://element.eleme.cn/#/zh-CN 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;template&gt; &lt;div&gt; &lt;el-table :data="tableData" stripe style="width: 100%"&gt; &lt;el-table-column prop="date" label="Êó•Êúü" width="180"&gt; &lt;/el-table-column&gt; &lt;el-table-column prop="name" label="ÂßìÂêç" width="180"&gt; &lt;/el-table-column&gt; &lt;el-table-column prop="address" label="Âú∞ÂùÄ"&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;/div&gt;&lt;/template&gt;&lt;div&gt; &lt;!‚Äê‚ÄêÁõ∏ÂΩì‰∫éÁºñÂÜôhtmlÁöÑÂÜÖÂÆπ‚Äê‚Äê&gt; &lt;el‚Äêtable :data="tableData" stripe style="width: 100%"&gt; &lt;el‚Äêtable‚Äêcolumn prop="date" label="Êó•Êúü" width="180"&gt; &lt;/el‚Äêtable‚Äêcolumn&gt; &lt;el‚Äêtable‚Äêcolumn prop="name" label="ÂßìÂêç" width="180"&gt; &lt;/el‚Äêtable‚Äêcolumn&gt; &lt;el‚Äêtable‚Äêcolumn prop="address" label="Âú∞ÂùÄ"&gt;&lt;/el‚Äêtable‚Äêcolumn&gt;&lt;/el‚Äêtable&gt; &lt;/div&gt;&lt;script&gt; // &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜ Âç≥model vmÈÉ®ÂàÜ--&gt; export default &#123; data() &#123; return &#123; tableData: [&#123; date: '2016-05-02', name: 'ÁéãÂ∞èËôé', address: '‰∏äÊµ∑Â∏ÇÊôÆÈôÄÂå∫ÈáëÊ≤ôÊ±üË∑Ø 1518 ÂºÑ' &#125;, &#123; date: '2016-05-04', name: 'ÁéãÂ∞èËôé', address: '‰∏äÊµ∑Â∏ÇÊôÆÈôÄÂå∫ÈáëÊ≤ôÊ±üË∑Ø 1517 ÂºÑ' &#125;, &#123; date: '2016-05-01', name: 'ÁéãÂ∞èËôé', address: '‰∏äÊµ∑Â∏ÇÊôÆÈôÄÂå∫ÈáëÊ≤ôÊ±üË∑Ø 1519 ÂºÑ' &#125;, &#123; date: '2016-05-03', name: 'ÁéãÂ∞èËôé', address: '‰∏äÊµ∑Â∏ÇÊôÆÈôÄÂå∫ÈáëÊ≤ôÊ±üË∑Ø 1516 ÂºÑ' &#125;] &#125; &#125; &#125;&lt;/script&gt;&lt;!--ÁºñÂÜôÈ°µÈù¢Ê†∑Âºè ÈùûÂøÖÈ°ª--&gt;&lt;style&gt;&lt;/style&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081&lt;template&gt; &lt;div&gt; &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜÔºåÂç≥viewÈÉ®ÂàÜ--&gt; &lt;el-button type=&quot;primary&quot; size=&quot;small&quot; v-on:click=&quot;query&quot;&gt;Êü•ËØ¢&lt;/el-button&gt; &lt;el-table :data=&quot;list&quot; stripe style=&quot;width: 100%&quot;&gt; &lt;el-table-column type=&quot;index&quot; width=&quot;60&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageName&quot; label=&quot;È°µÈù¢ÂêçÁß∞&quot; width=&quot;120&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageAliase&quot; label=&quot;Âà´Âêç&quot; width=&quot;120&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageType&quot; label=&quot;È°µÈù¢Á±ªÂûã&quot; width=&quot;150&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageWebPath&quot; label=&quot;ËÆøÈóÆË∑ØÂæÑ&quot; width=&quot;250&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pagePhysicalPath&quot; label=&quot;Áâ©ÁêÜË∑ØÂæÑ&quot; width=&quot;250&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageCreateTime&quot; label=&quot;ÂàõÂª∫Êó∂Èó¥&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;el-pagination layout=&quot;prev, pager, next&quot; :total=&quot;total&quot; :page-size=&quot;params.size&quot; :current-page=&quot;params.page&quot; v-on:current-change=&quot;changePage&quot; style=&quot;float:right&quot;&gt; &lt;/el-pagination&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; data() &#123; return &#123; list: [ &#123; &quot;siteId&quot;: &quot;5a751fab6abb5044e0d19ea1&quot;, &quot;pageId&quot;: &quot;5a754adf6abb500ad05688d9&quot;, &quot;pageName&quot;: &quot;index.html&quot;, &quot;pageAliase&quot;: &quot;È¶ñÈ°µ&quot;, &quot;pageWebPath&quot;: &quot;/index.html&quot;, &quot;pageParameter&quot;: null, &quot;pagePhysicalPath&quot;: &quot;F:\\develop\\xc_portal_static\\&quot;, &quot;pageType&quot;: &quot;0&quot;, &quot;pageTemplate&quot;: null, &quot;pageHtml&quot;: null, &quot;pageStatus&quot;: null, &quot;pageCreateTime&quot;: &quot;2018-02-03T05:37:53.256+0000&quot;, &quot;templateId&quot;: &quot;5a962b52b00ffc514038faf7&quot;, &quot;pageParams&quot;: null, &quot;htmlFileId&quot;: &quot;5a7c1c54d019f14d90a1fb23&quot;, &quot;dataUrl&quot;: null &#125;, &#123; &quot;siteId&quot;: &quot;5a751fab6abb5044e0d19ea1&quot;, &quot;pageId&quot;: &quot;5a795ac7dd573c04508f3a56&quot;, &quot;pageName&quot;: &quot;index_banner.html&quot;, &quot;pageAliase&quot;: &quot;ËΩÆÊí≠Âõæ&quot;, &quot;pageWebPath&quot;: &quot;/include/index_banner.html&quot;, &quot;pageParameter&quot;: null, &quot;pagePhysicalPath&quot;: &quot;F:\\develop\\xc_portal_static\\include\\&quot;, &quot;pageType&quot;: &quot;0&quot;, &quot;pageTemplate&quot;: null, &quot;pageHtml&quot;: null, &quot;pageStatus&quot;: null, &quot;pageCreateTime&quot;: &quot;2018-02-06T07:34:21.255+0000&quot;, &quot;templateId&quot;: &quot;5a962bf8b00ffc514038fafa&quot;, &quot;pageParams&quot;: null, &quot;htmlFileId&quot;: &quot;5a795bbcdd573c04508f3a59&quot;, &quot;dataUrl&quot;: null &#125; ] &#125; &#125; &#125;&lt;/script&gt; ÂàÜÈ°µÊü•ËØ¢ ‰ΩøÁî®123456789&lt;el-pagination :page-size="params.page" :pager-count="params.size" layout="prev, pager, next" :total="total" style="float:right" @current-change="changePage" &gt; &lt;/el-pagination&gt; 12345678910111213141516171819&lt;script&gt; // &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜ Âç≥model vmÈÉ®ÂàÜ--&gt; export default &#123; data() &#123; return &#123; total: 1000, params: &#123; page: 20, size: 11 &#125;, methods: &#123; query: function () &#123; alert(&quot;qq&quot;) &#125;, changePage: function () &#123; //Ë∞ÉÁî®QueryÊñπÊ≥ï thisË°®Á§∫ÂΩìÂâçÂÆûÊ†óÂØπË±° this.query(); &#125; &#125; Api Ë∞ÉÁî®1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889require('es6-promise').polyfill()import axios from 'axios'axios.defaults.withCredentials = true //Ë∑®Âüüaxios.defaults.timeout = 10000axios.defaults.headers.post['Content-Type'] = 'application/x-www=form-urlencoded'import utils from '../../common/utils'if(utils.getJwt())&#123; axios.defaults.headers['Authorization'] = 'Bearer '+utils.getJwt()&#125;//axios.defaults.headers['Authorization'] = ''// ËØ∑Ê±Ç‰πãÂâçÊã¶Êà™/*axios.interceptors.request.use(config =&gt; &#123; // Âà§Êñ≠token //if (localStorage.token) &#123; config.headers.Authorization = 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1MjEwODA4ODYsInVzZXJfbmFtZSI6IjEyMyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQURNSU4iLCJST0xFX1VTRVIiXSwianRpIjoiYTNiM2RiYjgtODJkYS00YWI2LWIwZjEtMWMyZDI5ZjM3MjExIiwiY2xpZW50X2lkIjoibWFuYWdlciIsInNjb3BlIjpbIm1hbmFnZXIiXX0.YivH7foaYfSJs9nPBR40TbJ7T0sGXBGaZV2g8Ivktiatdv0Sjkl4PbS3tsjSBtbyqLekYDLoWSojiDLyvgMy5qskeRLefVk4FYpEMzpxfb5JtaxoIRH0o-Re1MC2quq-J7kxRKAL1DUEmr-_GEEmB8zswYJNwYn3vZK0FMQlbsIty4LCfgIwXfH9XnPcUhojUUIBRUDT2W3s8j-qZQ-iKk1y2kesrXloiOtPEL5CljmlOyZ3GED_HNude5b41TqCQyv2VS1baE9DEPo-P0Hb33rSCMILk3rZg-hO7zuDMGfbGWKMQRgY6Fb2uUtqokYa5aLtXyEwW67FKAi2mK2cPA' //&#125; return config&#125;,error =&gt;&#123; alert("ÂèÇÊï∞ÈîôËØØ", 'fail') return Promise.reject(error)&#125;)*/export default &#123; //getËØ∑Ê±Ç requestGet (url, params = &#123;&#125;) &#123; return new Promise((resolve, reject) =&gt; &#123; axios.get(url, params).then(res =&gt; &#123; resolve(res.data) &#125;).catch(error =&gt; &#123; reject(error) &#125;) &#125;) &#125;, //getËØ∑Ê±Ç‰∏çÂ∏¶ÂèÇÊï∞ requestQuickGet (url) &#123; return new Promise((resolve, reject) =&gt; &#123; axios.get(url).then(res =&gt; &#123; resolve(res.data) &#125;).catch(error =&gt; &#123; reject(error) &#125;) &#125;) &#125;, //postËØ∑Ê±Ç requestPost (url, params = &#123;&#125;) &#123; return new Promise((resolve, reject) =&gt; &#123; axios.post(url, params).then(res =&gt; &#123; resolve(res.data) &#125;).catch(error =&gt; &#123; reject(error) &#125;) &#125;) &#125;, //postËØ∑Ê±Ç requestPostForm (url, params = &#123;&#125;) &#123; return new Promise((resolve, reject) =&gt; &#123; axios.post(url, params, &#123; headers: &#123; 'Content-Type': 'application/x-www-form-urlencoded', &#125;, &#125;).then(res =&gt; &#123; resolve(res.data)//Ê≥®ÊÑèresÊòØaxiosÂ∞ÅË£ÖÁöÑÂØπË±°Ôºåres.dataÊâçÊòØÊúçÂä°Á´ØËøîÂõûÁöÑ‰ø°ÊÅØ &#125;).catch(error =&gt; &#123; reject(error) &#125;) &#125;) &#125;, //putËØ∑Ê±Ç requestPut (url, params = &#123;&#125;) &#123; return new Promise((resolve, reject) =&gt; &#123; axios.put(url, params).then(res =&gt; &#123; resolve(res.data) &#125;).catch(error =&gt; &#123; reject(error) &#125;) &#125;) &#125;, //deleteËØ∑Ê±Ç requestDelete (url, params = &#123;&#125;) &#123; return new Promise((resolve, reject) =&gt; &#123; axios.delete(url, params).then(res =&gt; &#123; resolve(res.data) &#125;).catch(error =&gt; &#123; reject(error) &#125;) &#125;) &#125;&#125; 123456789101112import http from './../../../base/api/public'import querystring from 'querystring'let sysConfig = require('@/../config/sysConfig')let apiUrl = sysConfig.xcApiUrlPre;//ÂÆö‰πâÊñπÊ≥ïËØ∑Ê±Ç ÊúçÂä°Á´ØÁöÑÈ°µÈù¢Êü•ËØ¢Êé•Âè£export const page_list = (page, size, params) =&gt; &#123; //ËØ∑Ê±Ç ÊúçÂä°Á´ØÁöÑÈ°µÈù¢Êü•ËØ¢Êé•Âè£ return http.requestQuickGet(apiUrl+'/cms/page/list/'+page+'/'+size); // return http.requestGet("apiUrl+'/cms/page/list/'+page+'/'+size);&#125;; 1234567891011121314151617181920212223&lt;script&gt; import * as cmsApi from '../api/cms' // &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜ Âç≥model vmÈÉ®ÂàÜ--&gt; export default &#123; data() &#123; return &#123; total: 1000, params: &#123; page: 20, size: 11 &#125;, list: [] &#125; &#125;, methods: &#123; query: function () &#123; //Ë∞ÉÁî®ÊúçÂä°Á´ØÁöÑÊé•Âè£ cms.js Ë∞ÉÁî® cmsApi.page_list(this.params.page, this.params.size).then((res) =&gt; &#123; this.list = res.queryResult.list; this.total = res.queryResult.total; &#125;) &#125;, &lt;script&gt; ApiË∑®ÂüüÈóÆÈ¢ò 123456789101112131415161718192021222324252627282930'use strict'// Template version: 1.2.4// see http://vuejs-templates.github.io/webpack for documentation.const path = require('path')var proxyConfig = require('./proxyConfig')let sysConfig = require('./sysConfig')let xcApiUrl = sysConfig.xcApiUrlmodule.exports = &#123; dev: &#123; // Paths assetsSubDirectory: 'static', assetsPublicPath: '/', //proxyTable: proxyConfig.proxyList, proxyTable: &#123; '/banner': &#123; // target: 'http://localhost:3000/mock/11' target: 'http://127.0.0.1:7777' &#125;, //http://localhost:8080/cms/page/list/1/11 '/api/cms': &#123; target: 'http://localhost:8080', pathRewrite: &#123; '^/api': '' &#125; //target: 'http://127.0.0.1:50201' &#125; 12345678910var sysConfig = &#123; xcApiUrlPre: '/api', xcApiUrl: 'http://api.xuecheng.com/', imgUrl:'http://img.xuecheng.com/', videoUrl:'http://video.xuecheng.com/', openAuthenticate:true, openAuthorize:true&#125;module.exports = sysConfig ÂàÜÈ°µÊü•ËØ¢ Èí©Â≠êÂáΩÊï∞12345678910111213141516171819202122232425262728293031323334353637&lt;script&gt; import * as cmsApi from '../api/cms' // &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜ Âç≥model vmÈÉ®ÂàÜ--&gt; export default &#123; data() &#123; return &#123; total: 1000, params: &#123; page: 1, size: 11 &#125;, list: [] &#125; &#125;, methods: &#123; query: function () &#123; //Ë∞ÉÁî®ÊúçÂä°Á´ØÁöÑÊé•Âè£ cms.js Ë∞ÉÁî® cmsApi.page_list(this.params.page, this.params.size).then((res) =&gt; &#123; this.list = res.queryResult.list; this.total = res.queryResult.total; &#125;) &#125;, changePage: function (page) &#123; alert(page); this.params.page = page; this.query(); &#125; &#125;, //Èí©Â≠êÂáΩÊï∞ mounted() &#123; this.query(); &#125; &#125;&lt;/script&gt; ###]]></content>
  </entry>
  <entry>
    <title><![CDATA[Elasticsearch]]></title>
    <url>%2F2019%2F04%2F28%2FELasticseach%2FElsearch%E6%85%95%E8%AF%BE%E7%BD%91%2F</url>
    <content type="text"><![CDATA[1 Elasticsearch ÂêØÂä®‰∏éÂÆâË£Ö https://www.elastic.co/cn/downloads/elasticsearch 123cd /elasticsearch-7.0.0 sh ./bin/elasticsearchÊµèËßàÂô®ËæìÂÖ•Ôºö127.0.0.1Ôºö9200 ÈÖçÁΩÆÊñá‰ª∂ 2 head Êèí‰ª∂ https://github.com/mobz/elasticsearch-head npm run start 3 ES Âø´ÈÄüÂÖ•Èó®]]></content>
      <categories>
        <category>Elasticsearch</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈªëÈ©¨Á®ãÂ∫èÂëòVue]]></title>
    <url>%2F2019%2F04%2F26%2FVue_Webpack%2FVue%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617&lt;head&gt; &lt;meta charset="utf-8"/&gt; &lt;title&gt;Âø´ÈÄüÂÖ•Èó®&lt;/title&gt; &lt;script src="https://cdn.jsdelivr.net/npm/vue"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id="app"&gt; &#123;&#123;message&#125;&#125;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; new Vue(&#123; el: '#app', data: &#123; message: 'Hello World' &#125; &#125;); 12345678910111213141516171819202122&lt;div id="app"&gt; &#123;&#123;message&#125;&#125; &lt;button v-on:click="fun1('Hexo')"&gt;VueÁöÑonclick&lt;/button&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; new Vue(&#123; el: "#app", data: &#123; message: "Hello Vue" &#125;, methods: &#123; fun1: function (msg) &#123; alert("Hell"); this.message = msg; &#125; &#125;, &#125;);]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â≠¶ÊàêÂú®Á∫ø„ÄÇÁ¨îËÆ∞]]></title>
    <url>%2F2019%2F04%2F20%2F%E5%AD%A6%E6%88%90%E5%9C%A8%E7%BA%BF%20%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[Á¨¨‰∏ÄÁ´† day01 Êê≠Âª∫ÁéØÂ¢É CMSÊúçÂä°Á´ØÂºÄÂèë1 È°πÁõÆÂàùÂßãÂåñ‚ÄîËßÅÊ∫ê‰ª£Á†Å Â∑•Á®ã 2 È°µÈù¢Êü•ËØ¢Êé•Âè£ÂÆö‰πâ-ÂÆö‰πâÊé•Âè£1.1 ResponseËøîÂõûÂÄºÁöÑ Á±ªÊ∫ê‰ª£Á†Å1234567891011121314151617181920212223242526272829303132333435@ToStringpublic enum CommonCode implements ResultCode&#123; SUCCESS(true,10000,"Êìç‰ΩúÊàêÂäüÔºÅ"), FAIL(false,11111,"Êìç‰ΩúÂ§±Ë¥•ÔºÅ"), UNAUTHENTICATED(false,10001,"Ê≠§Êìç‰ΩúÈúÄË¶ÅÁôªÈôÜÁ≥ªÁªüÔºÅ"), UNAUTHORISE(false,10002,"ÊùÉÈôê‰∏çË∂≥ÔºåÊó†ÊùÉÊìç‰ΩúÔºÅ"), SERVER_ERROR(false,99999,"Êä±Ê≠âÔºåÁ≥ªÁªüÁπÅÂøôÔºåËØ∑Á®çÂêéÈáçËØïÔºÅ");// private static ImmutableMap&lt;Integer, CommonCode&gt; codes ; //Êìç‰ΩúÊòØÂê¶ÊàêÂäü boolean success; //Êìç‰Ωú‰ª£Á†Å int code; //ÊèêÁ§∫‰ø°ÊÅØ String message; private CommonCode(boolean success,int code, String message)&#123; this.success = success; this.code = code; this.message = message; &#125; @Override public boolean success() &#123; return success; &#125; @Override public int code() &#123; return code; &#125; @Override public String message() &#123; return message; &#125;&#125; 123456789public interface ResultCode &#123; //Êìç‰ΩúÊòØÂê¶ÊàêÂäü,true‰∏∫ÊàêÂäüÔºåfalseÊìç‰ΩúÂ§±Ë¥• boolean success(); //Êìç‰Ωú‰ª£Á†Å int code(); //ÊèêÁ§∫‰ø°ÊÅØ String message();&#125; 1234public interface Response &#123; public static final boolean SUCCESS = true; public static final int SUCCESS_CODE = 10000;&#125; 12345678910111213141516171819202122232425262728@Data@ToString@NoArgsConstructorpublic class ResponseResult implements Response &#123; //Êìç‰ΩúÊòØÂê¶ÊàêÂäü boolean success = SUCCESS; //Êìç‰Ωú‰ª£Á†Å int code = SUCCESS_CODE; //ÊèêÁ§∫‰ø°ÊÅØ String message; public ResponseResult(ResultCode resultCode)&#123; this.success = resultCode.success(); this.code = resultCode.code(); this.message = resultCode.message(); &#125; public static ResponseResult SUCCESS()&#123; return new ResponseResult(CommonCode.SUCCESS); &#125; public static ResponseResult FAIL()&#123; return new ResponseResult(CommonCode.FAIL); &#125;&#125; 123456789101112@Data@ToStringpublic class QueryResponseResult extends ResponseResult &#123; QueryResult queryResult; public QueryResponseResult(ResultCode resultCode,QueryResult queryResult)&#123; super(resultCode); this.queryResult = queryResult; &#125;&#125; 1234public interface CmsPageControllerApi &#123; // È°µÈù¢Êü•ËØ¢ public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest);&#125; 1.2 Á±ªÁöÑÂàÜÊûê‰∏éËÆ≤Ëß£ TODO// @@@@Êûö‰∏æÂíåÂÖ¨ÂÖ±Á±ªÁöÑÂºÄÂèëËØ¶ÁªÜËß£Á≠î // @@@@Êûö‰∏æÂíåÂÖ¨ÂÖ±Á±ªÁöÑÂºÄÂèëËØ¶ÁªÜËß£Á≠î /// @@@@Êûö‰∏æÂíåÂÖ¨ÂÖ±Á±ªÁöÑÂºÄÂèëËØ¶ÁªÜËß£Á≠î // @@@@Êûö‰∏æÂíåÂÖ¨ÂÖ±Á±ªÁöÑÂºÄÂèëËØ¶ÁªÜËß£Á≠î // @@@@Êûö‰∏æÂíåÂÖ¨ÂÖ±Á±ªÁöÑÂºÄÂèëËØ¶ÁªÜËß£Á≠î 2 È°µÈù¢Êü•ËØ¢ÊúçÂä°Á´ØÂºÄÂèë-ÂàõÂª∫CMSÊúçÂä°Â∑•Á®ã-ÊµãËØï 12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-service-api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-model&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-utils&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;configuration&gt; &lt;!--ÂÆö‰πâÊó•ÂøóÊñá‰ª∂ÁöÑÂ≠òÂÇ®Âú∞ÂùÄ,‰ΩøÁî®ÁªùÂØπË∑ØÂæÑ--&gt; &lt;property name="LOG_HOME" value="d:/logs"/&gt; &lt;!-- Console ËæìÂá∫ËÆæÁΩÆ --&gt; &lt;appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;encoder&gt; &lt;!--Ê†ºÂºèÂåñËæìÂá∫Ôºö%dË°®Á§∫Êó•ÊúüÔºå%threadË°®Á§∫Á∫øÁ®ãÂêçÔºå%-5levelÔºöÁ∫ßÂà´‰ªéÂ∑¶ÊòæÁ§∫5‰∏™Â≠óÁ¨¶ÂÆΩÂ∫¶%msgÔºöÊó•ÂøóÊ∂àÊÅØÔºå%nÊòØÊç¢Ë°åÁ¨¶--&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n&lt;/pattern&gt; &lt;charset&gt;utf8&lt;/charset&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- ÊåâÁÖßÊØèÂ§©ÁîüÊàêÊó•ÂøóÊñá‰ª∂ --&gt; &lt;appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;!--Êó•ÂøóÊñá‰ª∂ËæìÂá∫ÁöÑÊñá‰ª∂Âêç--&gt; &lt;fileNamePattern&gt;$&#123;LOG_HOME&#125;/xc.%d&#123;yyyy-MM-dd&#125;.log&lt;/fileNamePattern&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- ÂºÇÊ≠•ËæìÂá∫ --&gt; &lt;appender name="ASYNC" class="ch.qos.logback.classic.AsyncAppender"&gt; &lt;!-- ‰∏ç‰∏¢Â§±Êó•Âøó.ÈªòËÆ§ÁöÑ,Â¶ÇÊûúÈòüÂàóÁöÑ80%Â∑≤Êª°,Âàô‰ºö‰∏¢ÂºÉTRACT„ÄÅDEBUG„ÄÅINFOÁ∫ßÂà´ÁöÑÊó•Âøó --&gt; &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- Êõ¥ÊîπÈªòËÆ§ÁöÑÈòüÂàóÁöÑÊ∑±Â∫¶,ËØ•ÂÄº‰ºöÂΩ±ÂìçÊÄßËÉΩ.ÈªòËÆ§ÂÄº‰∏∫256 --&gt; &lt;queueSize&gt;512&lt;/queueSize&gt; &lt;!-- Ê∑ªÂä†ÈôÑÂä†ÁöÑappender,ÊúÄÂ§öÂè™ËÉΩÊ∑ªÂä†‰∏Ä‰∏™ --&gt; &lt;appender-ref ref="FILE"/&gt; &lt;/appender&gt; &lt;logger name="org.apache.ibatis.cache.decorators.LoggingCache" level="DEBUG" additivity="false"&gt; &lt;appender-ref ref="CONSOLE"/&gt; &lt;/logger&gt; &lt;logger name="org.springframework.boot" level="DEBUG"/&gt; &lt;root level="info"&gt; &lt;!--&lt;appender-ref ref="ASYNC"/&gt;--&gt; &lt;appender-ref ref="FILE"/&gt; &lt;appender-ref ref="CONSOLE"/&gt; &lt;/root&gt;&lt;/configuration&gt; ÂêØÂä®Á±ªÁºñÂÜô‰ª£Á†Å 12345678910@SpringBootApplication(exclude = DataSourceAutoConfiguration.class)//ËøûÊé•mongodbÂøÖÈ°ªÊéíÈô§datasourceautoconfiguration,class@EntityScan("com.xuecheng.framework.domain.cms")//Êâ´ÊèèÂÆû‰ΩìÁ±ª@ComponentScan(basePackages = &#123;"com.xuecheng.api"&#125;)//Êâ´ÊèèÊé•Âè£@ComponentScan(basePackages = &#123;"com.xuecheng.manage_cms"&#125;)//Êâ´ÊèèÊú¨È°πÁõÆ‰∏ãÁöÑÊâÄÊúâÁ±ª@EnableMongoRepositories(basePackages = "com.xuecheng.manage_cms.dao")public class ManageCmsApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ManageCmsApplication.class, args); &#125;&#125; 3 È°µÈù¢Êü•ËØ¢ÊúçÂä°Á´ØÂºÄÂèë-ÂàõÂª∫CMSÊúçÂä°Â∑•Á®ã- SSM1234567891011121314151617181920212223242526272829303132@RestController@RequestMapping("/cms/page")public class CmsPageController implements CmsPageControllerApi &#123; @Autowired PageService pageService; @Override @GetMapping("/list/&#123;page&#125;/&#123;size&#125;") public QueryResponseResult findList(@PathVariable("page") int page, @PathVariable("size") int size, QueryPageRequest queryPageRequest) &#123; return pageService.findList(page, size, queryPageRequest); &#125;/** *public class QueryPageRequest &#123; * //Êé•ÂèóÈ°µÈù¢Êü•ËØ¢ÁöÑÊù°‰ª∂ * //Á´ôÁÇπID * private String siteId; * //È°µÈù¢ID * private String pageId; * //È°µÈù¢ÂêçÁß∞ * private String pageName; * //Âà´Âêç * private String pageAliase; * //Ê®°ÁâàID * private String templateId; * &#125; */&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556@Servicepublic class PageService &#123; @Autowired CmsPageRepository cmsPageRepository; public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest) &#123; //1„ÄÇ ÂàÜÈ°µÂèÇÊï∞ if (page &lt;= 0) &#123; page = 1; &#125; page = page - 1; if (size &lt;= 0) &#123; size = 10; &#125; Pageable pageable = PageRequest.of(page, size); Page&lt;CmsPage&gt; all = cmsPageRepository.findAll(pageable); System.err.println("all=====" + all); System.err.println("all.getContent()" + all.getContent()); System.err.println("all.getTotalElements()" + all.getTotalElements()); QueryResult queryResult = new QueryResult(); queryResult.setList(all.getContent());//Êï∞ÊçÆÂàóË°® queryResult.setTotal(all.getTotalElements());//Êï∞ÊçÆÊÄªËÆ∞ÂΩïÊï∞ System.err.println("queryResult" + queryResult); QueryResponseResult queryResponseResult = new QueryResponseResult(CommonCode.SUCCESS, queryResult); return queryResponseResult; &#125; /** * public class QueryResult&lt;T&gt; &#123; * //Êï∞ÊçÆÂàóË°® * private List&lt;T&gt; list; * //Êï∞ÊçÆÊÄªÊï∞ * private long total; * &#125; */ /** *public class QueryPageRequest &#123; * //Êé•ÂèóÈ°µÈù¢Êü•ËØ¢ÁöÑÊù°‰ª∂ * //Á´ôÁÇπID * private String siteId; * //È°µÈù¢ID * private String pageId; * //È°µÈù¢ÂêçÁß∞ * private String pageName; * //Âà´Âêç * private String pageAliase; * //Ê®°ÁâàID * private String templateId; */&#125; 12345678910server: port: 8080spring: application: name: xc-service-manage-cms data: mongodb: host: localhost port: 27017 database: xccms 123456789101112131415161718192021222324@Configuration@EnableSwagger2public class Swagger2Configuration &#123; @Bean public Docket createRestApi() &#123; return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() .apis(RequestHandlerSelectors.basePackage("com.xuecheng")) .paths(PathSelectors.any()) .build(); &#125; private ApiInfo apiInfo() &#123; return new ApiInfoBuilder() .title("Â≠¶ÊàêÁΩëapiÊñáÊ°£") .description("Â≠¶ÊàêÁΩëapiÊñáÊ°£")// .termsOfServiceUrl("/") .version("1.0") .build(); &#125;&#125; 12345//Api Âè™ÂÜôÊé•Âè£public interface CmsPageControllerApi &#123; // È°µÈù¢Êü•ËØ¢ public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest);&#125; Á¨¨‰∫åÁ´† day02 CMSÂâçÁ´ØÂºÄÂèë1 vue.jsÂü∫Á°Ä-MVVMÊ®°Âºè . Á¨¨‰∏âÁ´† day03-Ëá™ÂÆö‰πâÊü•ËØ¢È°µÈù¢-ÊúçÂä°Á´Ø-Dao1 Ëá™ÂÆö‰πâÊü•ËØ¢ SpringDataMongoDB1234567891011121314151617181920212223242526 @Test public void testFindByExample() &#123; //ÂàÜÈ°µÊü•ËØ¢ int page = 0; int size = 10; Pageable pageable = PageRequest.of(page, size); //Êù°‰ª∂ÂÄºÂØπË±° CmsPage cmsPage = new CmsPage(); cmsPage.setPageAliase("ËΩÆÊí≠");// //Êù°‰ª∂ÂåπÈÖçÂô®// ExampleMatcher exampleMatcher = ExampleMatcher.matching();// exampleMatcher = exampleMatcher.withMatcher("pageAliase", ExampleMatcher.GenericPropertyMatchers.contains()); ExampleMatcher exampleMatcher = ExampleMatcher.matching() .withMatcher("pageAliase", ExampleMatcher.GenericPropertyMatchers.contains()); //ÂÆö‰πâExample Example&lt;CmsPage&gt; example = Example.of(cmsPage, exampleMatcher); Page&lt;CmsPage&gt; all = cmsPageRepository.findAll(example, pageable); List&lt;CmsPage&gt; content = all.getContent(); System.out.println(content); &#125;&#125; 2 Ëá™ÂÆö‰πâÊü•ËØ¢È°µÈù¢„ÄÇ ÊúçÂä°Á´ØDaoÂºÄÂèë12345678910111213141516171819202122232425262728293031323334353637383940414243public class PageService &#123; @Autowired CmsPageRepository cmsPageRepository; public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest) &#123; if (queryPageRequest == null) &#123; queryPageRequest = new QueryPageRequest(); &#125; //Ëá™ÂÆö‰πâÊù°‰ª∂Êü•ËØ¢ ExampleMatcher exampleMatcher = ExampleMatcher.matching().withMatcher("pageAliase", ExampleMatcher.GenericPropertyMatchers.contains()); CmsPage cmsPage = new CmsPage(); if (StringUtils.isEmpty(queryPageRequest.getSiteId())) &#123; cmsPage.setSiteId(queryPageRequest.getSiteId()); &#125; if (StringUtils.isEmpty(queryPageRequest.getTemplateId())) &#123; cmsPage.setSiteId(queryPageRequest.getTemplateId()); &#125; if (StringUtils.isEmpty(queryPageRequest.getPageAliase())) &#123; cmsPage.setPageAliase(queryPageRequest.getPageAliase()); &#125; //ÂÆö‰πâÊù°‰ª∂ÂØπË±° Example&lt;CmsPage&gt; example = Example.of(cmsPage, exampleMatcher); //ÂÆö‰πâÊù°‰ª∂ÂåπÈÖçÂô® //1„ÄÇ ÂàÜÈ°µÂèÇÊï∞ if (page &lt;= 0) &#123; page = 1; &#125; page = page - 1; if (size &lt;= 0) &#123; size = 10; &#125; Pageable pageable = PageRequest.of(page, size); Page&lt;CmsPage&gt; all = cmsPageRepository.findAll(example, pageable);//ÂÆûÁé∞Ëá™ÂÆö‰πâÊü•ËØ¢ Âπ∂‰∏îÂàÜÈ°µÊü•ËØ¢ QueryResult queryResult = new QueryResult(); queryResult.setList(all.getContent());//Êï∞ÊçÆÂàóË°® queryResult.setTotal(all.getTotalElements());//Êï∞ÊçÆÊÄªËÆ∞ÂΩïÊï∞ System.err.println("queryResult" + queryResult); QueryResponseResult queryResponseResult = new QueryResponseResult(CommonCode.SUCCESS, queryResult); return queryResponseResult; &#125; 123456789101112131415161718192021222324/** * Êü•ËØ¢Â§±Áâ©ÊãõÈ¢Ü‰ø°ÊÅØ * @return */ @GetMapping("/lost/list") public ApiReturnObject findAllLostProperty (String materialName,Timestamp registerTime,String status) &#123; LostProperty obj=new LostProperty(); obj.setMaterialName(materialName); obj.setRegisterTime(registerTime); obj.setStatus(status); //ÂàõÂª∫ÂåπÈÖçÂô®ÔºåÂç≥Â¶Ç‰Ωï‰ΩøÁî®Êü•ËØ¢Êù°‰ª∂ ExampleMatcher matcher = ExampleMatcher.matching() //ÊûÑÂª∫ÂØπË±° .withMatcher("materialName", GenericPropertyMatchers.contains()) //ÂßìÂêçÈááÁî®‚ÄúÂºÄÂßãÂåπÈÖç‚ÄùÁöÑÊñπÂºèÊü•ËØ¢ .withMatcher("registerTime", GenericPropertyMatchers.contains()) //ÂßìÂêçÈááÁî®‚ÄúÂºÄÂßãÂåπÈÖç‚ÄùÁöÑÊñπÂºèÊü•ËØ¢ .withMatcher("status", GenericPropertyMatchers.contains()) //ÂßìÂêçÈááÁî®‚ÄúÂºÄÂßãÂåπÈÖç‚ÄùÁöÑÊñπÂºèÊü•ËØ¢ .withIgnorePaths("id"); //ÂøΩÁï•Â±ûÊÄßÔºöÊòØÂê¶ÂÖ≥Ê≥®„ÄÇÂõ†‰∏∫ÊòØÂü∫Êú¨Á±ªÂûãÔºåÈúÄË¶ÅÂøΩÁï•Êéâ //ÂàõÂª∫ÂÆû‰æã Example&lt;LostProperty&gt; ex = Example.of(obj, matcher); //Êü•ËØ¢ List&lt;LostProperty&gt; ls = lostPropertyRespository.findAll(ex); return ApiReturnUtil.success(ls); &#125; Ëá™ÂÆö‰πâÊü•ËØ¢È°µÈù¢ ÂâçÁ´Ø12345678910111213&lt;el-form :model="params"&gt; &lt;el-select v-model="params.siteId" placeholder="ËØ∑ÈÄâÊã©Á´ôÁÇπ"&gt; &lt;el-option v-for="item in siteList" :key="item.siteId" :label="item.siteName" :value="item.siteId"&gt; &lt;/el-option&gt; &lt;/el-select&gt; È°µÈù¢Âà´ÂêçÔºö &lt;el-input v-model="params.pageAliase" style="width: 100px"&gt;&lt;/el-input&gt; &lt;el-button type="primary" size="small" v-on:click="query"&gt;Êü•ËØ¢&lt;/el-button&gt;&lt;/el-form&gt; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;script&gt; import * as cmsApi from '../api/cms' // &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜ Âç≥model vmÈÉ®ÂàÜ--&gt; export default &#123; data() &#123; return &#123; siteList: [], total: 1000, params: &#123; page: 1, size: 11, siteId: '', pageAliase: '' &#125;, list: [] &#125; &#125;, methods: &#123; query: function () &#123; //Ë∞ÉÁî®ÊúçÂä°Á´ØÁöÑÊé•Âè£ cms.js Ë∞ÉÁî® cmsApi.page_list(this.params.page, this.params.size, this.params).then((res) =&gt; &#123; this.list = res.queryResult.list; this.total = res.queryResult.total; &#125;) &#125;, changePage: function (page) &#123; alert(page); this.params.page = page; this.query(); &#125; &#125;, //Èí©Â≠êÂáΩÊï∞ mounted() &#123; this.query(); this.siteList = [ &#123; siteId: '5a751fab6abb5044e0d19ea1', siteName: 'Èó®Êà∑‰∏ªÁ´ô' &#125;, &#123; siteId: '102', siteName: 'ÊµãËØïÁ´ô' &#125; ] &#125; &#125; &lt;/script&gt; 123456789101112131415161718import http from './../../../base/api/public'// import queryString from 'querystring'const querystring = require('querystring');let sysConfig = require('@/../config/sysConfig')let apiUrl = sysConfig.xcApiUrlPre;//ÂÆö‰πâÊñπÊ≥ïËØ∑Ê±Ç ÊúçÂä°Á´ØÁöÑÈ°µÈù¢Êü•ËØ¢Êé•Âè£export const page_list = (page, size, params) =&gt; &#123; //Â∞ÜparamsÂØπË±°Êï∞ÊçÆ JSONÊï∞ÊçÆÊãºË£ÖÊàêkey value‰∏≤ ÔºàqueryStringÔºâ //ËØ∑Ê±Ç ÊúçÂä°Á´ØÁöÑÈ°µÈù¢Êü•ËØ¢Êé•Âè£ //ÂÜôËøôÂè•ËØù‰ºöÂá∫Áé∞BUGÂëÄ È°µÈù¢Âá∫Áé∞‰∏ç‰∫Ü‰ø°ÊÅØ ÊîπÂèò‰∏Ä‰∏ãÂïä(S Â§ßÂ∞èÂÜôÁöÑÈóÆÈ¢ò ==„ÄãqueryString++stringify Ê≥®ÊÑèSÁöÑÂ§ßÂ∞èÂÜôÈóÆÈ¢ò ) let queryString = querystring.stringify(params); return http.requestQuickGet(apiUrl + '/cms/page/list/' + page + '/' + size + "?" + queryString); // var sysConfig = &#123; // xcApiUrlPre: '/api', // return http.requestGet("apiUrl+'/cms/page/list/'+page+'/'+size);&#125;; 1234567891011121314@RestController@RequestMapping("/cms/page")public class CmsPageController implements CmsPageControllerApi &#123; @Autowired PageService pageService; @Override @GetMapping("/list/&#123;page&#125;/&#123;size&#125;") public QueryResponseResult findList(@PathVariable("page") int page, @PathVariable("size") int size, QueryPageRequest queryPageRequest) &#123; return pageService.findList(page, size, queryPageRequest); &#125; 1234567891011121314@Datapublic class QueryPageRequest &#123; //Êé•ÂèóÈ°µÈù¢Êü•ËØ¢ÁöÑÊù°‰ª∂ //Á´ôÁÇπID private String siteId; //È°µÈù¢ID private String pageId; //È°µÈù¢ÂêçÁß∞ private String pageName; //Âà´Âêç private String pageAliase; //Ê®°ÁâàID private String templateId;&#125; 3 Êñ∞Â¢ûÈ°µÈù¢12@ApiOperation(&quot;Êñ∞Â¢ûÈ°µÈù¢&quot;)public CmsPageResult add(CmsPage cmsPage); 12345678910111213141516171819202122public CmsPageResult add(CmsPage cmsPage) &#123; //Ê†°È™åÈ°µÈù¢ÂêçÁß∞ Á´ôÁÇπID È°µÈù¢webpathÁöÑÂîØ‰∏ÄÊÄß //Ê†πÊçÆÈ°µÈù¢ÂêçÁß∞ Á´ôÁÇπID È°µÈù¢webpathÂéªCms‚Äî‚Äîpage //ÈõÜÂêà Â¶ÇÊûúÊü•Âà∞ËØ¥ÊòéÊ≠§È°µÈù¢Â∑≤ÁªèÂ≠òÂú® Â¶ÇÊûúÊü•ËØ¢‰∏çÂà∞ÁªßÁª≠Ê∑ªÂä†È°µÈù¢ //Ë∞ÉÁî®daoÊñ∞Â¢ûÈ°µÈù¢ CmsPage cmsPagefindBy = cmsPageRepository.findByPageNameAndSiteIdAndPageWebPath (cmsPage.getPageName(), cmsPage.getSiteId(), cmsPage.getPageWebPath()); if (cmsPagefindBy == null) &#123; cmsPage.setPageId(null); cmsPageRepository.save(cmsPage); return new CmsPageResult(CommonCode.SUCCESS, cmsPage); &#125; return new CmsPageResult(CommonCode.FAIL, null); /** * public CmsPageResult(ResultCode resultCode, CmsPage cmsPage) &#123; * super(resultCode); * this.cmsPage = cmsPage; * &#125; */ &#125; 1CmsPage findByPageNameAndSiteIdAndPageWebPath(String pageName, String siteId, String pageWebPath); 123456789@Datapublic class CmsPageResult extends ResponseResult &#123; CmsPage cmsPage; public CmsPageResult(ResultCode resultCode, CmsPage cmsPage) &#123; super(resultCode); this.cmsPage = cmsPage; &#125;&#125; 4 Êñ∞Â¢ûÈ°µÈù¢ ÂâçÁ´Ø123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114&lt;template&gt; &lt;div&gt; &lt;el-form :model=&quot;pageForm&quot; label-width=&quot;80px&quot; :rules=&quot;pageFormRules&quot; ref=&quot;pageForm&quot;&gt; &lt;el-form-item label=&quot;ÊâÄÂ±ûÁ´ôÁÇπ&quot; prop=&quot;siteId&quot;&gt; &lt;el-select v-model=&quot;pageForm.siteId&quot; placeholder=&quot;ËØ∑ÈÄâÊã©Á´ôÁÇπ&quot;&gt; &lt;el-option v-for=&quot;item in siteList&quot; :key=&quot;item.siteId&quot; :label=&quot;item.siteName&quot; :value=&quot;item.siteId&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;ÈÄâÊã©Ê®°Áâà&quot; prop=&quot;templateId&quot;&gt; &lt;el-select v-model=&quot;pageForm.templateId&quot; placeholder=&quot;ËØ∑ÈÄâÊã©&quot;&gt; &lt;el-option v-for=&quot;item in templateList&quot; :key=&quot;item.templateId&quot; :label=&quot;item.templateName&quot; :value=&quot;item.templateId&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;È°µÈù¢ÂêçÁß∞&quot; prop=&quot;pageName&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageName&quot; auto-complete=&quot;off&quot;&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;Âà´Âêç&quot; prop=&quot;pageAliase&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageAliase&quot; auto-complete=&quot;off&quot;&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;ËÆøÈóÆË∑ØÂæÑ&quot; prop=&quot;pageWebPath&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageWebPath&quot; auto-complete=&quot;off&quot;&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;Áâ©ÁêÜË∑ØÂæÑ&quot; prop=&quot;pagePhysicalPath&quot;&gt; &lt;el-input v-model=&quot;pageForm.pagePhysicalPath&quot; auto-complete=&quot;off&quot;&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;Á±ªÂûã&quot;&gt; &lt;el-radio-group v-model=&quot;pageForm.pageType&quot;&gt; &lt;el-radio class=&quot;radio&quot; label=&quot;0&quot;&gt;ÈùôÊÄÅ&lt;/el-radio&gt; &lt;el-radio class=&quot;radio&quot; label=&quot;1&quot;&gt;Âä®ÊÄÅ&lt;/el-radio&gt; &lt;/el-radio-group&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;ÂàõÂª∫Êó∂Èó¥&quot;&gt; &lt;el-date-picker type=&quot;datetime&quot; placeholder=&quot;ÂàõÂª∫Êó∂Èó¥&quot; v-model=&quot;pageForm.pageCreateTime&quot;&gt;&lt;/el-date-picker&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;addSubmit&quot;&gt;Êèê‰∫§&lt;/el-button&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;go_back&quot;&gt;ËøîÂõû&lt;/el-button&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import * as cmsApi from &apos;../api/cms&apos; // &lt;!--ÁºñÂÜôÈ°µÈù¢ÈùôÊÄÅÈÉ®ÂàÜ Âç≥model vmÈÉ®ÂàÜ--&gt; export default &#123; data() &#123; return &#123; siteList: [], templateList: [], pageForm: &#123; siteId: &apos;&apos;, templateId: &apos;&apos;, pageName: &apos;&apos;, pageAliase: &apos;&apos;, pageWebPath: &apos;&apos;, pageParameter: &apos;&apos;, pagePhysicalPath: &apos;&apos;, pageType: &apos;&apos;, pageCreateTime: new Date() &#125; &#125; &#125;, //Èí©Â≠êÂáΩÊï∞ mounted() &#123; //ÂàùÂßãÂåñÁ´ôÁÇπÂàóË°® this.siteList = [ &#123; siteId: &apos;5a751fab6abb5044e0d19ea1&apos;, siteName: &apos;Èó®Êà∑‰∏ªÁ´ô&apos; &#125;, &#123; siteId: &apos;102&apos;, siteName: &apos;ÊµãËØïÁ´ô&apos; &#125; ]; //Ê®°ÊùøÂàóË°® this.templateList = [ &#123; templateId: &apos;5a962b52b00ffc514038faf7&apos;, templateName: &apos;È¶ñÈ°µ&apos; &#125;, &#123; templateId: &apos;5a962bf8b00ffc514038fafa&apos;, templateName: &apos;ËΩÆÊí≠Âõæ&apos; &#125; ] &#125;, methods: &#123; addSubmit: function () &#123; alert(&quot;hexo&quot;); &#125; &#125; &#125;&lt;/script&gt;&lt;!--ÁºñÂÜôÈ°µÈù¢Ê†∑Âºè ÈùûÂøÖÈ°ª--&gt;&lt;style&gt;&lt;/style&gt; 12345678910111213141516171819202122232425262728293031import Home from &apos;@/module/home/page/home.vue&apos;;import page_list from &apos;@/module/cms/page/page_list.vue&apos;;import page_add from &apos;@/module/cms/page/page_add.vue&apos;;export default [&#123; path: &apos;/&apos;, component: Home, name: &apos;CMS&apos;,//ËèúÂçïÂêçÁß∞ hidden: false, children: [ &#123; path: &apos;/cms/page/list&apos;,//http://localhost:11000/#/cms/page/list name: &apos;È°µÈù¢ÂàóË°®&apos;, component: page_list, hidden: false &#125;, &#123; path: &apos;/cms/page/add&apos;,//http://localhost:11000/#/cms/page/add name: &apos;Êñ∞Â¢ûÈ°µÈù¢&apos;, component: page_add, hidden: true &#125; ]&#125;/*, &#123; path: &apos;/login&apos;, component: Login, name: &apos;Login&apos;, hidden: true &#125;*/] 5 È°µÈù¢ÂÆåÂñÑ(queryÂèÇÊï∞ ËøîÂõû Â∏¶ÂèÇÊï∞)12345678910111213141516methods: &#123; addSubmit: function () &#123; alert("hexo"); &#125;, go_back: function () &#123; this.$router.push(&#123; path: '/cms/page/list', query: &#123; page: this.$route.query.page,//ÂèñÂá∫Ë∑ØÁî±‰∏≠ÁöÑÂèÇÊï∞ siteId: this.$route.query.siteId &#125; &#125;); &#125; 12345678&lt;!--query :http://localhost:11000/#/cms/page/add?page=1&amp;siteId=5a751fab6abb5044e0d19ea1 Â∏¶ÂèÇÊï∞--&gt; &lt;router-link class="mui‚Äêtab‚Äêitem" :to="&#123;path:'/cms/page/add', query:&#123; page:this.params.page, siteId:this.params.siteId &#125;&#125;"&gt; 1234567 //Èí©Â≠êÂáΩÊï∞created() &#123; //ËøõÂÖ•È°µÈù¢ÂèñÂá∫ÂèÇÊï∞ Ê≤°ÊúâÊ∏≤Êüì ÂèñÂá∫Ë∑ØÁî±ÈáåÈù¢ÁöÑÂèÇÊï∞ ËµãÂÄºÁªôÂèÇÊï∞ÂØπË±° this.params.page = Number.parseInt(this.$route.query.page) || 1; this.params.siteId = this.$route.query.siteId;&#125;, Ê†°È™åËßÑÂàô 123456789101112131415161718192021222324252627282930313233343536export default &#123; data() &#123; return &#123; siteList: [], templateList: [], pageForm: &#123; siteId: '', templateId: '', pageName: '', pageAliase: '', pageWebPath: '', pageParameter: '', pagePhysicalPath: '', pageType: '', pageCreateTime: new Date() &#125;, pageFormRules: &#123; siteId:[ &#123;required: true, message: 'ËØ∑ÈÄâÊã©Á´ôÁÇπ', trigger: 'blur'&#125; ], templateId:[ &#123;required: true, message: 'ËØ∑ÈÄâÊã©Ê®°Áâà', trigger: 'blur'&#125; ], pageName: [ &#123;required: true, message: 'ËØ∑ËæìÂÖ•È°µÈù¢ÂêçÁß∞', trigger: 'blur'&#125; ], pageWebPath: [ &#123;required: true, message: 'ËØ∑ËæìÂÖ•ËÆøÈóÆË∑ØÂæÑ', trigger: 'blur'&#125; ], pagePhysicalPath: [ &#123;required: true, message: 'ËØ∑ËæìÂÖ•Áâ©ÁêÜË∑ØÂæÑ', trigger: 'blur'&#125; ] &#125;, &#125; &#125;, 1234567891011121314151617181920212223242526272829methods: &#123; addSubmit: function () &#123; this.$refs.pageForm.validate((valid) =&gt; &#123;//Ë°®ÂçïÊ†°È™å if (valid) &#123;//Ë°®ÂçïÊ†°È™åÈÄöËøá this.$confirm('Á°ÆËÆ§Êèê‰∫§ÂêóÔºü', 'ÊèêÁ§∫', &#123;&#125;).then(() =&gt; &#123; this.addLoading = true; //‰øÆÊîπÊèê‰∫§ËØ∑Ê±ÇÊúçÂä°Á´ØÁöÑÊé•Âè£ cmsApi.page_edit(this.pageId, this.pageForm).then((res) =&gt; &#123; console.log(res); if (res.success) &#123; this.addLoading = false; this.$message(&#123; message: 'Êèê‰∫§ÊàêÂäü', type: 'success' &#125;); //ËøîÂõû this.go_back(); &#125; else &#123; this.addLoading = false; this.$message.error('Êèê‰∫§Â§±Ë¥•'); &#125; &#125;); &#125;); &#125; &#125;); &#125; &#125;, 6.APi ‚ÄîÊñ∞Âª∫È°µÈù¢12345678910111213141516171819202122232425262728293031323334353637methods: &#123; addSubmit: function () &#123; this.$refs['pageForm'].validate((valid) =&gt; &#123; if (valid) &#123; //Âä†‰∏Ä‰∏™Á°ÆËÆ§ÊèêÁ§∫ this.$confirm('ÊÇ®Á°ÆËÆ§Êèê‰∫§Âêó?', 'ÊèêÁ§∫', &#123;&#125;).then(() =&gt; &#123; cmsApi.page_add(this.pageForm).then(res =&gt; &#123; //Ëß£ÊûêÂìçÂ∫îÂÜÖÂÆπ if (res.success) &#123; this.$message(&#123; message: 'ok', type: 'success' &#125;) //Â∞ÜË°®ÂçïÊ∏ÖÁ©∫ this.$refs['pageForm'].resetField(); &#125; else &#123; this.$message.error("Êèê‰∫§Â§±Ë¥•"); &#125; &#125; ); &#125;); &#125; &#125;,); &#125;, //ËøîÂõû go_back: function () &#123; this.$router.push(&#123; path: '/cms/page/list', query: &#123; page: this.$route.query.page,//ÂèñÂá∫Ë∑ØÁî±‰∏≠ÁöÑÂèÇÊï∞ siteId: this.$route.query.siteId &#125; &#125;) &#125; &#125;, 1234export const page_add = params =&gt; &#123; //http://localhost:8080/cms/page/add return http.requestPost(apiUrl + &apos;/cms/page/add&apos;, params);&#125;; 7 ‰øÆÊîπÈ°µÈù¢‚Äî-Êé•Âè£ÂºÄÂèë12345678//Ê†πÊçÆÈ°µÈù¢ID Êü•ËØ¢È°µÈù¢‰ø°ÊÅØ @ApiOperation("Ê†πÊçÆÈ°µÈù¢ID Êü•ËØ¢È°µÈù¢‰ø°ÊÅØ") public CmsPage findById(String id); //‰øÆÊîπÈ°µÈù¢ @ApiOperation("‰øÆÊîπÈ°µÈù¢") public CmsPageResult edit(String id, CmsPage cmsPage); 1234567891011@Override @GetMapping("/get/&#123;id&#125;") public CmsPage findById(@PathVariable("id") String id) &#123; return pageService.getById(id); &#125; @Override @PutMapping("/edit/&#123;id&#125;") public CmsPageResult edit(@PathVariable("id") String id, @RequestBody CmsPage cmsPage) &#123; return pageService.update(id, cmsPage); &#125; 12345678910111213141516171819 //‰øÆÊîπÈ°µÈù¢ public CmsPageResult update(String id, CmsPage cmsPage) &#123; //Ê†πÊçÆID‰ªéÊï∞ÊçÆÂ∫ìÊü•ËØ¢È°µÈù¢‰ø°ÊÅØ CmsPage cmsPagebyId = this.getById(id); if (cmsPagebyId != null) &#123; cmsPagebyId.setPageAliase(cmsPage.getPageAliase()); cmsPagebyId.setPageName(cmsPage.getPageName()); cmsPagebyId.setPageId(cmsPage.getPageId()); cmsPagebyId.setTemplateId(cmsPage.getTemplateId()); cmsPagebyId.setPagePhysicalPath(cmsPage.getPagePhysicalPath()); cmsPagebyId.setSiteId(cmsPage.getSiteId()); cmsPageRepository.save(cmsPagebyId); return new CmsPageResult(CommonCode.SUCCESS, cmsPagebyId); &#125; return new CmsPageResult(CommonCode.FAIL, null); &#125;&#125; 12345678910 public CmsPage getById(String id) &#123; Optional&lt;CmsPage&gt; optional = cmsPageRepository.findById(id);//optional.isPresent() ==&gt;Â¶ÇÊûúÂÄºÂ≠òÂú®Âàô‰ΩøÁî®ËØ•ÂÄºË∞ÉÁî® consumer , Âê¶Âàô‰∏çÂÅö‰ªª‰Ωï‰∫ãÊÉÖ„ÄÇ// ËøôÊòØ‰∏Ä‰∏™ÂèØ‰ª•ÂåÖÂê´ÊàñËÄÖ‰∏çÂåÖÂê´Èùû null ÂÄºÁöÑÂÆπÂô®„ÄÇÂ¶ÇÊûúÂÄºÂ≠òÂú®Âàô isPresent()ÊñπÊ≥ï‰ºöËøîÂõû trueÔºåË∞ÉÁî® get() ÊñπÊ≥ï‰ºöËøîÂõûËØ•ÂØπË±° if (optional.isPresent()) &#123; CmsPage cmsPage = optional.get(); return cmsPage; &#125; return null; &#125; 8 ‰øÆÊîπÈ°µÈù¢„ÄÇ ÂâçÁ´Ø123456789101112&lt;el-table-column label="Êìç‰Ωú" width="80"&gt; &lt;template slot-scope="page"&gt; &lt;el-button size="small" type="text" v-on:click="edit(page.row.pageId)"&gt;ÁºñËæë &lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; 1234567edit: function (pageId) &#123; //ÊâìÂºÄ‰øÆÊîπÈ°µÈù¢ this.$router.push(&#123; //Â∞ë‰∫Ü‰∏Ä‰∏™&quot;/&quot; Ê≥®ÊÑè path:&apos;/cms/page/edit/&apos; + pageId &#125;) &#125; 1234567891011import page_edit from '@/module/cms/page/page_edit.vue'; &#123; path: '/cms/page/edit/:pageId', //http://localhost:11000/#/cms/page/edit5a795ac7dd573c04508f3a56 name: '‰øÆÊîπÈ°µÈù¢', component: page_edit, hidden: true &#125; 12345678910created: function () &#123; this.pageId=this.$route.params.pageId; //Ê†πÊçÆ‰∏ªÈîÆÊü•ËØ¢È°µÈù¢‰ø°ÊÅØ cmsApi.page_get(this.pageId).then((res) =&gt; &#123; console.log(res); if(res)&#123; this.pageForm = res; &#125; &#125;);&#125;, 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176&lt;template&gt; &lt;div&gt; &lt;el-form :model="pageForm" label-width="80px" :rules="pageFormRules" ref="pageForm" &gt; &lt;el-form-item label="ÊâÄÂ±ûÁ´ôÁÇπ" prop="siteId"&gt; &lt;el-select v-model="pageForm.siteId" placeholder="ËØ∑ÈÄâÊã©Á´ôÁÇπ"&gt; &lt;el-option v-for="item in siteList" :key="item.siteId" :label="item.siteName" :value="item.siteId"&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label="ÈÄâÊã©Ê®°Áâà" prop="templateId"&gt; &lt;el-select v-model="pageForm.templateId" placeholder="ËØ∑ÈÄâÊã©"&gt; &lt;el-option v-for="item in templateList" :key="item.templateId" :label="item.templateName" :value="item.templateId"&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label="È°µÈù¢ÂêçÁß∞" prop="pageName"&gt; &lt;el-input v-model="pageForm.pageName" auto-complete="off" &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Âà´Âêç" prop="pageAliase"&gt; &lt;el-input v-model="pageForm.pageAliase" auto-complete="off" &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="ËÆøÈóÆË∑ØÂæÑ" prop="pageWebPath"&gt; &lt;el-input v-model="pageForm.pageWebPath" auto-complete="off" &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Áâ©ÁêÜË∑ØÂæÑ" prop="pagePhysicalPath"&gt; &lt;el-input v-model="pageForm.pagePhysicalPath" auto-complete="off" &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Êï∞ÊçÆUrl" prop="dataUrl"&gt; &lt;el-input v-model="pageForm.dataUrl" auto-complete="off" &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label="Á±ªÂûã"&gt; &lt;el-radio-group v-model="pageForm.pageType"&gt; &lt;el-radio class="radio" label="0"&gt;ÈùôÊÄÅ&lt;/el-radio&gt; &lt;el-radio class="radio" label="1"&gt;Âä®ÊÄÅ&lt;/el-radio&gt; &lt;/el-radio-group&gt; &lt;/el-form-item&gt; &lt;el-form-item label="ÂàõÂª∫Êó∂Èó¥"&gt; &lt;el-date-picker type="datetime" placeholder="ÂàõÂª∫Êó∂Èó¥" v-model="pageForm.pageCreateTime"&gt;&lt;/el-date-picker&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;div slot="footer" class="dialog-footer"&gt; &lt;el-button @click="go_back"&gt;ËøîÂõû&lt;/el-button&gt; &lt;el-button type="primary" @click.native="editSubmit" :loading="addLoading"&gt;Êèê‰∫§&lt;/el-button&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import * as cmsApi from '../api/cms' export default&#123; data()&#123; return &#123; //È°µÈù¢id pageId:'', //Ê®°ÁâàÂàóË°® templateList:[], addLoading: false,//Âä†ËΩΩÊïàÊûúÊ†áËÆ∞ //Êñ∞Â¢ûÁïåÈù¢Êï∞ÊçÆ pageForm: &#123; siteId:'', templateId:'', pageName: '', pageAliase: '', pageWebPath: '', dataUrl:'', pageParameter:'', pagePhysicalPath:'', pageType:'', pageCreateTime: new Date() &#125;, pageFormRules: &#123; siteId:[ &#123;required: true, message: 'ËØ∑ÈÄâÊã©Á´ôÁÇπ', trigger: 'blur'&#125; ], templateId:[ &#123;required: true, message: 'ËØ∑ÈÄâÊã©Ê®°Áâà', trigger: 'blur'&#125; ], pageName: [ &#123;required: true, message: 'ËØ∑ËæìÂÖ•È°µÈù¢ÂêçÁß∞', trigger: 'blur'&#125; ], pageWebPath: [ &#123;required: true, message: 'ËØ∑ËæìÂÖ•ËÆøÈóÆË∑ØÂæÑ', trigger: 'blur'&#125; ], pagePhysicalPath: [ &#123;required: true, message: 'ËØ∑ËæìÂÖ•Áâ©ÁêÜË∑ØÂæÑ', trigger: 'blur'&#125; ] &#125;, siteList:[] &#125; &#125;, methods:&#123; go_back()&#123; this.$router.push(&#123; path: '/cms/page/list', query: &#123; page: this.$route.query.page, siteId:this.$route.query.siteId &#125; &#125;) &#125;, editSubmit()&#123; this.$refs.pageForm.validate((valid) =&gt; &#123; if (valid) &#123; this.$confirm('Á°ÆËÆ§Êèê‰∫§ÂêóÔºü', 'ÊèêÁ§∫', &#123;&#125;).then(() =&gt; &#123; this.addLoading = true; cmsApi.page_edit(this.pageId,this.pageForm).then((res) =&gt; &#123; console.log(res); if(res.success)&#123; this.addLoading = false; this.$message(&#123; message: 'Êèê‰∫§ÊàêÂäü', type: 'success' &#125;); //ËøîÂõû this.go_back(); &#125;else&#123; this.addLoading = false; this.$message.error('Êèê‰∫§Â§±Ë¥•'); &#125; &#125;); &#125;); &#125; &#125;); &#125; &#125;, created: function () &#123; this.pageId=this.$route.params.pageId; //Ê†πÊçÆ‰∏ªÈîÆÊü•ËØ¢È°µÈù¢‰ø°ÊÅØ cmsApi.page_get(this.pageId).then((res) =&gt; &#123; console.log(res); if(res)&#123; this.pageForm = res; &#125; &#125;); &#125;, mounted:function()&#123; //ÂàùÂßãÂåñÁ´ôÁÇπÂàóË°® this.siteList = [ &#123; siteId:'5a751fab6abb5044e0d19ea1', siteName:'Èó®Êà∑‰∏ªÁ´ô' &#125;, &#123; siteId:'102', siteName:'ÊµãËØïÁ´ô' &#125; ] //Ê®°ÊùøÂàóË°® this.templateList = [ &#123; templateId:'5a962b52b00ffc514038faf7', templateName:'È¶ñÈ°µ' &#125;, &#123; templateId:'5a962bf8b00ffc514038fafa', templateName:'ËΩÆÊí≠Âõæ' &#125; ] &#125; &#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; 123export const page_get = id=&gt; &#123; return http.requestQuickGet(apiUrl + '/cms/page/get/'+id)&#125;; 9.‰øÆÊîπÈ°µÈù¢ API Ë∞ÉÁî®123export const page_edit = (id,params)=&gt; &#123;return http.requestPut(apiUrl + '/cms/page/edit/'+id,params)&#125;; 12345678910111213141516171819202122232425editSubmit()&#123; this.$refs.pageForm.validate((valid) =&gt; &#123; if (valid) &#123; this.$confirm('Á°ÆËÆ§Êèê‰∫§ÂêóÔºü', 'ÊèêÁ§∫', &#123;&#125;).then(() =&gt; &#123; this.addLoading = true; cmsApi.page_edit(this.pageId,this.pageForm).then((res) =&gt; &#123; console.log(res); if(res.success)&#123; this.addLoading = false; this.$message(&#123; message: 'Êèê‰∫§ÊàêÂäü', type: 'success' &#125;); //ËøîÂõû this.go_back(); &#125;else&#123; this.addLoading = false; this.$message.error('Êèê‰∫§Â§±Ë¥•'); &#125; &#125;); &#125;); &#125; &#125;); &#125; 10.Âà†Èô§È°µÈù¢12@ApiOperation("Âà†Èô§È°µÈù¢")public ResponseResult delete(String id); 12345@Override @DeleteMapping("/del/&#123;id&#125;") public ResponseResult delete(@PathVariable("id") String id) &#123; return pageService.delete(id); &#125; 12345678910//Ê†πÊçÆIDÂà†Èô§Êï∞ÊçÆpublic ResponseResult delete(String id) &#123; Optional&lt;CmsPage&gt; optional = cmsPageRepository.findById(id); if (optional.isPresent()) &#123; cmsPageRepository.deleteById(id); return new ResponseResult(CommonCode.SUCCESS); &#125; return new ResponseResult(CommonCode.FAIL);&#125; 11.Âà†Èô§È°µÈù¢ ÂâçÁ´ØÂºÄÂèë12345&lt;el-button size="small" type="text" v-on:click="del(page.row.pageId)"&gt;Âà†Èô§ &lt;/el-button&gt; 123456789101112del: function (pageId) &#123; this.$confirm('ÊÇ®Á°ÆËÆ§Êèê‰∫§Âêó', 'ÊèêÁ§∫', &#123;&#125;).then(() =&gt; &#123; //Ë∞ÉÁî®ÊúçÂä°Á´ØÁöÑÊé•Âè£ cmsApi.page_del(pageId).then(res =&gt; &#123; if (res.success) &#123; this.$message.success("Âà†Èô§ÊàêÂäü"); this.query() &#125; else this.$message.error("Âà†Èô§Â§±Ë¥•") &#125;) &#125;) &#125; &#125;, 123export const page_del = (id) =&gt; &#123; return http.requestDelete(apiUrl + '/cms/page/del/' + id)&#125;; Á¨¨ÂõõÁ´† È°µÈù¢ÈùôÊÄÅÂåñ FreemarkËΩÆÊí≠ÂõæDataUrlÊé•Âè£ÂºÄÂèë1234public interface CmsConfigControllerApi &#123; @ApiOperation("Ê†πÊçÆIDÊü•ËØ¢CMS ÈÖçÁΩÆ‰ø°ÊÅØ") public CmsConfig getmodel(String id); &#125; 1234567891011121314@RestController@RequestMapping("cms/config")public class CmsConfigController implements CmsConfigControllerApi &#123; @Autowired PageService pageService; @Override @GetMapping("/getmodel/&#123;id&#125;") public CmsConfig getmodel(@PathVariable("id") String id) &#123; return pageService.getConfigById(id); &#125;&#125; 123public interface CmsConfigRepository extends MongoRepository&lt;CmsConfig, String&gt; &#123;&#125; 1234567891011 //Ê†πÊçÆID Êü•ËØ¢Cmsconfig public CmsConfig getConfigById(String id) &#123; Optional&lt;CmsConfig&gt; optional = cmsConfigRepository.findById(id); if (optional.isPresent()) &#123; CmsConfig cmsConfig = optional.get(); return cmsConfig; &#125; return null; &#125;&#125; ËøúÁ®ãÊé•Âè£Ë∞ÉÁî®a1234@Bean public RestTemplate restTemplate() &#123; return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); &#125; 123456789101112@AutowiredRestTemplate restTemplate;@Testpublic void TestRestTemplate() &#123; ResponseEntity&lt;Map&gt; forEntity = restTemplate.getForEntity("http://localhost:8080/cms/config/getmodel/5a791725dd573c3574ee333f", Map.class); Map body = forEntity.getBody(); System.out.println(body);&#125; Ê®°ÁâàÁÆ°ÁêÜÊµÅÁ®ã È°µÈù¢Ê®°ÁâàÁÆ°ÁêÜ123456&lt;script type="text/javascript" src="http://www.xuecheng.com:8888/plugins/jquery/dist/jquery.js"&gt; &lt;/script&gt;&lt;script type="text/javascript" src="http://www.xuecheng.com:8888/plugins/bootstrap/dist/js/bootstrap.js"&gt; &lt;/script&gt; ÂüüÂêç+Á´ØÂè£Âè∑ 1234567&lt;div class="item" style="background-image: url(http://www.xuecheng.com:8888/img/widget-bannerA.jpg);"&gt;&lt;/div&gt; &lt;div class="item" style="background-image: url(http://www.xuecheng.com:8888/img/widget-banner3.png);"&gt;&lt;/div&gt; &lt;div class="item" style="background-image: url(http://www.xuecheng.com:8888/img/widget-bannerB.jpg);"&gt;&lt;/div&gt; &lt;div class="item" style="background-image: url(http://www.xuecheng.com:8888/img/widget-bannerA.jpg);"&gt;&lt;/div&gt; &lt;div class="item" style="background-image: url(http://www.xuecheng.com:8888/img/widget-banner3.png);"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="indicators"&gt;&lt;/div&gt; GridFsÂ≠òÊñá‰ª∂123456789101112131415161718@SpringBootTest@RunWith(SpringRunner.class)public class GridFsTest &#123; @Autowired GridFsTemplate gridFsTemplate; //Â≠òÊñá‰ª∂ @Test public void testGrodFsTemplate() throws FileNotFoundException &#123; //Â≠òÊ®°ÁâàÊñá‰ª∂ /Users/apple/Desktop/index_banner.ftl File file = new File("/Users/apple/Desktop/index_banner.ftl"); //ÂÆö‰πâFile FileInputStream fileInputStream = new FileInputStream(file); ObjectId objectId = gridFsTemplate.store(fileInputStream, "index_banner.ftl"); System.out.println(objectId); &#125;&#125; Fs.chunks ËØªÊñá‰ª∂1234567891011121314151617181920212223242526package com.xuecheng.manage_cms.config;import com.mongodb.MongoClient;import com.mongodb.client.MongoDatabase;import com.mongodb.client.gridfs.GridFSBucket;import com.mongodb.client.gridfs.GridFSBuckets;import org.springframework.beans.factory.annotation.Value;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import javax.validation.Valid;@Configurationpublic class MongoConfig &#123; @Value("$&#123;spring.data.mongodb.database&#125;") String db; @Bean public GridFSBucket getGridFSBucket(MongoClient mongoClient) &#123; MongoDatabase database = mongoClient.getDatabase(db); GridFSBucket bucket = GridFSBuckets.create(database); return bucket; &#125;&#125; 12@Autowired GridFSBucket gridFSBucket; 12345678910111213141516171819//ËØªÊñá‰ª∂ @Test public void queryFile() throws IOException &#123; //Ê†πÊçÆÊñá‰ª∂ID Êü•ËØ¢Êñá‰ª∂ GridFSFile gridFSFile = gridFsTemplate.findOne(Query.query(Criteria.where("_id").is("5cef9623b65d21c6dd00f9fc"))); //ÊâìÂºÄ‰∏Ä‰∏™‰∏ãËΩΩÊµÅÂØπË±° GridFSDownloadStream gridFSDownloadStream = gridFSBucket.openDownloadStream(gridFSFile.getObjectId()); //ÂàõÂª∫GridFsResourceÂØπË±° Ëé∑ÂèñÊµÅ GridFsResource gridFsResource = new GridFsResource(gridFSFile, gridFSDownloadStream); //‰ªéÊµÅ‰∏≠ÂèñÊï∞ÊçÆ String content = IOUtils.toString(gridFsResource.getInputStream(), "UTF-8"); System.out.println(content); &#125;&#125; Ê®°ÁâàÁÆ°ÁêÜ È°µÈù¢ÈùôÊÄÅÂåñÁ¨¨‰∫îÁ´†. Rabbitmq Áîü‰∫ßËÄÖ Producter12345678910&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;4.0.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051public class Producer01 &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE = "helloworld"; public static void main(String[] args) &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé• ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672); connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫,‰∏Ä‰∏™mqÁöÑÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ ÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); Connection connection = null; try &#123; //1 Âª∫Á´ãÊñ∞ËøûÊé• connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); //Áî≥ÊòéÈòüÂàóÔºöÂ¶ÇÊûúÈòüÂàóÂú®mq‰∏≠Ê≤°Êúâ ÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞: //String queue boolean durable boolean exclusive boolean autoDelete Map&lt;String,Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÇÔºàqueueÔºâÈòüÂàóÂêçÁß∞ * 2„ÄÇÔºàdurableÔºâÊòØÂê¶ÊåÅ‰πÖÂåñ mqÈáçÂêØÂêé ÈòüÂàóËøòÂú® * 3„ÄÇÔºàexclusiveÔºâÊòØÂê¶Áã¨Âç†ËøûÊé• ÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆ Â¶ÇÊûúËøûÊé•ÂÖ≥Èó≠ÈòüÂàóËá™Âä®Âà†Èô§ * Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÇ(autoDelete) Ëá™Âä®Âà†Èô§ ÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàó Â¶ÇÊûúÊ≠§ÂèÇÊï∞ÂíåexclusiveËÆæÁΩÆÊàêtrueÂ∞±‰ºöÂèòÊàê‰∏¥Êó∂ÈòüÂàó * 5„ÄÇarguments ÂèÇÊï∞ ÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ ÊØîÂ¶ÇÔºöËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥Á≠âÁ≠â */ channel.queueDeclare(QUEUE, true, false, false, null); //ÂèëÈÄÅÊ∂àÊÅØ //ÂèÇÊï∞ String exchange String routingKey BasicProperties props, byte[]body /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÇexchange ‰∫§Êç¢Êú∫ Â¶ÇÊûú‰∏çÊåáÂÆö‰ΩøÁî®mqÁöÑÈªòËÆ§‰∫§Êç¢Êú∫ (ËÆæÁΩÆ‰∏∫"") * 2„ÄÇroutingKey Ë∑ØÁî±Key ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±KeyÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÁöÑÊåáÂÆöÁöÑÈòüÂàó, * Â¶ÇÊûú‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫ routingKeyË¶ÅËÆæÁΩÆÊàêÈòüÂàóÁöÑÂêçÁß∞ * 3„ÄÇprops Ê∂àÊÅØÁöÑÂ±ûÊÄß * 4„ÄÇbody Ê∂àÊÅØÂÜÖÂÆπ */ String message = "Hello world"; channel.basicPublish("", QUEUE, null, message.getBytes()); System.out.println("send to mq " + message); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; &#125; &#125;&#125; Ê∂àË¥πËÄÖ Consumer1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374public class Consumer &#123; private static final String QUEUE = "helloworld"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé• ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672); connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫,‰∏Ä‰∏™mqÁöÑÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ ÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); //ÁõëÂê¨ÈòüÂàó //Áî≥ÊòéÈòüÂàóÔºöÂ¶ÇÊûúÈòüÂàóÂú®mq‰∏≠Ê≤°Êúâ ÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞: //String queue boolean durable boolean exclusive boolean autoDelete Map&lt;String,Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÇÔºàqueueÔºâÈòüÂàóÂêçÁß∞ * 2„ÄÇÔºàdurableÔºâÊòØÂê¶ÊåÅ‰πÖÂåñ mqÈáçÂêØÂêé ÈòüÂàóËøòÂú® * 3„ÄÇÔºàexclusiveÔºâÊòØÂê¶Áã¨Âç†ËøûÊé• ÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆ Â¶ÇÊûúËøûÊé•ÂÖ≥Èó≠ÈòüÂàóËá™Âä®Âà†Èô§ * Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÇ(autoDelete) Ëá™Âä®Âà†Èô§ ÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàó Â¶ÇÊûúÊ≠§ÂèÇÊï∞ÂíåexclusiveËÆæÁΩÆÊàêtrueÂ∞±‰ºöÂèòÊàê‰∏¥Êó∂ÈòüÂàó * 5„ÄÇarguments ÂèÇÊï∞ ÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ ÊØîÂ¶ÇÔºöËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥Á≠âÁ≠â */ channel.queueDeclare(QUEUE, true, false, false, null); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel) &#123; @Override //ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® //ÂèÇÊï∞ String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body /** * 1„ÄÇConsumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æ Áî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑ * Âú®ÁõëÂê¨ÈòüÂàóËÆæÁΩÆchannel.basucConsume * 2„ÄÇenvelope ‰ø°Â∞ÅÈÄöËøáenvelope * 3„ÄÇproperties Ê∂àÊÅØÂ±ûÊÄß * 4„ÄÇbody Ê∂àÊÅØÂÜÖÂÆπ * */ public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØID mqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑid ÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØ‰ª•Êé•Âèó long deliveryTag = envelope.getDeliveryTag(); String string = new String(body, "utf-8"); System.out.println("receive:" + string); System.out.println("==============================="); System.out.println(exchange); System.out.println(deliveryTag); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ String queue boolean autoAck Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÇqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÇautoACK Ëá™Âä®ÂõûÂ§ç ÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÂëäËØâMQÊ∂àÊÅØÂ∑≤ÁªèÊé•Âèó * Ëã•ÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueË°®Á§∫Ëá™Âä®ÂõûÂ§çmq false ÈÄöËøáÂèòÊàêÂÆûÁé∞ * 3‚≠êÔ∏è callback Ê∂àË¥πÊñπÊ≥ï ÂΩìÊ∂àË¥πËÄÖÊé•ÂèóÂà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE, true, defaultConsumer); &#125;&#125; Â∑•‰ΩúÈòüÂàóÊ®°Âºè ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè Áîü‰∫ßËÄÖ prducter_publish123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.BuiltinExchangeType;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 18:10 **/public class Producer02_publish &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_FANOUT_INFORM = "exchange_fanout_inform"; public static void main(String[] args) &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); Connection connection = null; Channel channel = null; try &#123; //Âª∫Á´ãÊñ∞ËøûÊé• connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÂú®mq ‰∏≠Ê≤°ÊúâÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞ÔºöString queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL, true, false, false, null); channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_FANOUT_INFORM, ""); channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_FANOUT_INFORM, ""); //ÂèëÈÄÅÊ∂àÊÅØ //ÂèÇÊï∞ÔºöString exchange, String routingKey, BasicProperties props, byte[] body /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅexchangeÔºå‰∫§Êç¢Êú∫ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÂ∞Ü‰ΩøÁî®mqÁöÑÈªòËÆ§‰∫§Êç¢Êú∫ÔºàËÆæÁΩÆ‰∏∫""Ôºâ * 2„ÄÅroutingKeyÔºåË∑ØÁî±keyÔºå‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÊù•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàóÔºåÂ¶ÇÊûú‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫ÔºåroutingKeyËÆæÁΩÆ‰∏∫ÈòüÂàóÁöÑÂêçÁß∞ * 3„ÄÅpropsÔºåÊ∂àÊÅØÁöÑÂ±ûÊÄß * 4„ÄÅbodyÔºåÊ∂àÊÅØÂÜÖÂÆπ */ for (int i = 0; i &lt; 5; i++) &#123; //Ê∂àÊÅØÂÜÖÂÆπ String message = "send inform message to user"; channel.basicPublish(EXCHANGE_FANOUT_INFORM, "", null, message.getBytes()); System.out.println("send to mq " + message); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //ÂÖ≥Èó≠ËøûÊé• //ÂÖàÂÖ≥Èó≠ÈÄöÈÅì try &#123; channel.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (TimeoutException e) &#123; e.printStackTrace(); &#125; try &#123; connection.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; Ê∂àË¥πËÄÖconsumer123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.BuiltinExchangeType;import com.rabbitmq.client.Channel;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.DefaultConsumer;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @description: * @author: apple * @date: 2019-06-01 11:09 */public class Consumer02_subscribe_email &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String EXCHANGE_FANOUT_INFORM = "exchange_fanout_inform"; public static void main(String[] args) throws IOException, TimeoutException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL, true, false, false, null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_FANOUT_INFORM, ""); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel) &#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message = new String(body, "utf-8"); System.out.println("receive message:" + message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_EMAIL, true, defaultConsumer); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @description: * @author: apple * @date: 2019-06-01 11:11 */public class Consumer02_subscribe_sms &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_FANOUT_INFORM = "exchange_fanout_inform"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_FANOUT_INFORM, ""); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel) &#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message = new String(body, "utf-8"); System.out.println("receive message:" + message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_SMS, true, defaultConsumer); &#125;&#125; Routing Ë∑ØÁî±Ê®°Âºè 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.BuiltinExchangeType;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 19:23 **/public class Producer03_routing &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_ROUTING_INFORM="exchange_routing_inform"; private static final String ROUTINGKEY_EMAIL="inform_email"; private static final String ROUTINGKEY_SMS="inform_sms"; public static void main(String[] args) &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); Connection connection = null; Channel channel = null; try &#123; //Âª∫Á´ãÊñ∞ËøûÊé• connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÂú®mq ‰∏≠Ê≤°ÊúâÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞ÔºöString queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL,EXCHANGE_ROUTING_INFORM,ROUTINGKEY_EMAIL); channel.queueBind(QUEUE_INFORM_EMAIL,EXCHANGE_ROUTING_INFORM,"inform"); channel.queueBind(QUEUE_INFORM_SMS,EXCHANGE_ROUTING_INFORM,ROUTINGKEY_SMS); channel.queueBind(QUEUE_INFORM_SMS,EXCHANGE_ROUTING_INFORM,"inform"); //ÂèëÈÄÅÊ∂àÊÅØ //ÂèÇÊï∞ÔºöString exchange, String routingKey, BasicProperties props, byte[] body /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅexchangeÔºå‰∫§Êç¢Êú∫ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÂ∞Ü‰ΩøÁî®mqÁöÑÈªòËÆ§‰∫§Êç¢Êú∫ÔºàËÆæÁΩÆ‰∏∫""Ôºâ * 2„ÄÅroutingKeyÔºåË∑ØÁî±keyÔºå‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÊù•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàóÔºåÂ¶ÇÊûú‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫ÔºåroutingKeyËÆæÁΩÆ‰∏∫ÈòüÂàóÁöÑÂêçÁß∞ * 3„ÄÅpropsÔºåÊ∂àÊÅØÁöÑÂ±ûÊÄß * 4„ÄÅbodyÔºåÊ∂àÊÅØÂÜÖÂÆπ */ /* for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send email inform message to user"; channel.basicPublish(EXCHANGE_ROUTING_INFORM,ROUTINGKEY_EMAIL,null,message.getBytes()); System.out.println("send to mq "+message); &#125; for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send sms inform message to user"; channel.basicPublish(EXCHANGE_ROUTING_INFORM,ROUTINGKEY_SMS,null,message.getBytes()); System.out.println("send to mq "+message); &#125;*/ for(int i=0;i&lt;5;i++)&#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send inform message to user"; channel.basicPublish(EXCHANGE_ROUTING_INFORM,"inform",null,message.getBytes()); System.out.println("send to mq "+message); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //ÂÖ≥Èó≠ËøûÊé• //ÂÖàÂÖ≥Èó≠ÈÄöÈÅì try &#123; channel.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (TimeoutException e) &#123; e.printStackTrace(); &#125; try &#123; connection.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 18:22 **/public class Consumer03_routing_email &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String EXCHANGE_ROUTING_INFORM="exchange_routing_inform"; private static final String ROUTINGKEY_EMAIL="inform_email"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_ROUTING_INFORM,ROUTINGKEY_EMAIL); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_EMAIL,true,defaultConsumer); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 18:22 **/public class Consumer03_routing_sms &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_ROUTING_INFORM="exchange_routing_inform"; private static final String ROUTINGKEY_SMS="inform_sms"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_ROUTING_INFORM,ROUTINGKEY_SMS); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_SMS,true,defaultConsumer); &#125;&#125; Toptic ÈÄöÈÖçÁ¨¶ Ê®°Âºè 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.BuiltinExchangeType;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Producer04_topics &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_TOPICS_INFORM = "exchange_topics_inform"; private static final String ROUTINGKEY_EMAIL = "inform.#.email.#"; private static final String ROUTINGKEY_SMS = "inform.#.sms.#"; public static void main(String[] args) &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); Connection connection = null; Channel channel = null; try &#123; //Âª∫Á´ãÊñ∞ËøûÊé• connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàóÔºåÂ¶ÇÊûúÈòüÂàóÂú®mq ‰∏≠Ê≤°ÊúâÂàôË¶ÅÂàõÂª∫ //ÂèÇÊï∞ÔºöString queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL, true, false, false, null); channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_TOPICS_INFORM, ROUTINGKEY_EMAIL); channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_TOPICS_INFORM, ROUTINGKEY_SMS); //ÂèëÈÄÅÊ∂àÊÅØ //ÂèÇÊï∞ÔºöString exchange, String routingKey, BasicProperties props, byte[] body /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅexchangeÔºå‰∫§Êç¢Êú∫ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÂ∞Ü‰ΩøÁî®mqÁöÑÈªòËÆ§‰∫§Êç¢Êú∫ÔºàËÆæÁΩÆ‰∏∫""Ôºâ * 2„ÄÅroutingKeyÔºåË∑ØÁî±keyÔºå‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÊù•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàóÔºåÂ¶ÇÊûú‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫ÔºåroutingKeyËÆæÁΩÆ‰∏∫ÈòüÂàóÁöÑÂêçÁß∞ * 3„ÄÅpropsÔºåÊ∂àÊÅØÁöÑÂ±ûÊÄß * 4„ÄÅbodyÔºåÊ∂àÊÅØÂÜÖÂÆπ */ for (int i = 0; i &lt; 5; i++) &#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send email inform message to user"; channel.basicPublish(EXCHANGE_TOPICS_INFORM, "inform.email", null, message.getBytes()); System.out.println("send to mq " + message); &#125; for (int i = 0; i &lt; 5; i++) &#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send sms inform message to user"; channel.basicPublish(EXCHANGE_TOPICS_INFORM, "inform.sms", null, message.getBytes()); System.out.println("send to mq " + message); &#125; for (int i = 0; i &lt; 5; i++) &#123; //ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÊåáÂÆöroutingKey String message = "send sms and email inform message to user"; channel.basicPublish(EXCHANGE_TOPICS_INFORM, "inform.sms.email", null, message.getBytes()); System.out.println("send to mq " + message); &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; //ÂÖ≥Èó≠ËøûÊé• //ÂÖàÂÖ≥Èó≠ÈÄöÈÅì try &#123; channel.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (TimeoutException e) &#123; e.printStackTrace(); &#125; try &#123; connection.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;/** * @author Administrator * @version 1.0 * @create 2018-06-17 18:22 **/public class Consumer04_topics_email &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; private static final String EXCHANGE_TOPICS_INFORM="exchange_topics_inform"; private static final String ROUTINGKEY_EMAIL="inform.#.email.#"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_TOPICS_INFORM,ROUTINGKEY_EMAIL); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel)&#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message= new String(body,"utf-8"); System.out.println("receive message:"+message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_EMAIL,true,defaultConsumer); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788package com.xuecheng.test.rabbitmq;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Consumer04_topics_sms &#123; //ÈòüÂàóÂêçÁß∞ private static final String QUEUE_INFORM_SMS = "queue_inform_sms"; private static final String EXCHANGE_TOPICS_INFORM = "exchange_topics_inform"; private static final String ROUTINGKEY_SMS = "inform.#.sms.#"; public static void main(String[] args) throws IOException, TimeoutException &#123; //ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÂíåmqÂª∫Á´ãËøûÊé• ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("127.0.0.1"); connectionFactory.setPort(5672);//Á´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); //ËÆæÁΩÆËôöÊãüÊú∫Ôºå‰∏Ä‰∏™mqÊúçÂä°ÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ËôöÊãüÊú∫ÔºåÊØè‰∏™ËôöÊãüÊú∫Â∞±Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Áã¨Á´ãÁöÑmq connectionFactory.setVirtualHost("/"); //Âª∫Á´ãÊñ∞ËøûÊé• Connection connection = connectionFactory.newConnection(); //ÂàõÂª∫‰ºöËØùÈÄöÈÅì,Áîü‰∫ßËÄÖÂíåmqÊúçÂä°ÊâÄÊúâÈÄö‰ø°ÈÉΩÂú®channelÈÄöÈÅì‰∏≠ÂÆåÊàê Channel channel = connection.createChannel(); /** * ÂèÇÊï∞ÊòéÁªÜ * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅdurable ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÊåÅ‰πÖÂåñÔºåmqÈáçÂêØÂêéÈòüÂàóËøòÂú® * 3„ÄÅexclusive ÊòØÂê¶Áã¨Âç†ËøûÊé•ÔºåÈòüÂàóÂè™ÂÖÅËÆ∏Âú®ËØ•ËøûÊé•‰∏≠ËÆøÈóÆÔºåÂ¶ÇÊûúconnectionËøûÊé•ÂÖ≥Èó≠ÈòüÂàóÂàôËá™Âä®Âà†Èô§,Â¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆtrueÂèØÁî®‰∫é‰∏¥Êó∂ÈòüÂàóÁöÑÂàõÂª∫ * 4„ÄÅautoDelete Ëá™Âä®Âà†Èô§ÔºåÈòüÂàó‰∏çÂÜç‰ΩøÁî®Êó∂ÊòØÂê¶Ëá™Âä®Âà†Èô§Ê≠§ÈòüÂàóÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ÂíåexclusiveÂèÇÊï∞ËÆæÁΩÆ‰∏∫trueÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏¥Êó∂ÈòüÂàóÔºàÈòüÂàó‰∏çÁî®‰∫ÜÂ∞±Ëá™Âä®Âà†Èô§Ôºâ * 5„ÄÅarguments ÂèÇÊï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÁöÑÊâ©Â±ïÂèÇÊï∞ÔºåÊØîÂ¶ÇÔºöÂèØËÆæÁΩÆÂ≠òÊ¥ªÊó∂Èó¥ */ channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //Â£∞Êòé‰∏Ä‰∏™‰∫§Êç¢Êú∫ //ÂèÇÊï∞ÔºöString exchange, String type /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ * 2„ÄÅ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã * fanoutÔºöÂØπÂ∫îÁöÑrabbitmqÁöÑÂ∑•‰ΩúÊ®°ÂºèÊòØ publish/subscribe * directÔºöÂØπÂ∫îÁöÑRouting Â∑•‰ΩúÊ®°Âºè * topicÔºöÂØπÂ∫îÁöÑTopicsÂ∑•‰ΩúÊ®°Âºè * headersÔºö ÂØπÂ∫îÁöÑheadersÂ∑•‰ΩúÊ®°Âºè */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //ËøõË°å‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁªëÂÆö //ÂèÇÊï∞ÔºöString queue, String exchange, String routingKey /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅexchange ‰∫§Êç¢Êú∫ÂêçÁß∞ * 3„ÄÅroutingKey Ë∑ØÁî±keyÔºå‰ΩúÁî®ÊòØ‰∫§Êç¢Êú∫Ê†πÊçÆË∑ØÁî±keyÁöÑÂÄºÂ∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÊåáÂÆöÁöÑÈòüÂàó‰∏≠ÔºåÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠Ë∞ÉÂçè‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_TOPICS_INFORM, ROUTINGKEY_SMS); //ÂÆûÁé∞Ê∂àË¥πÊñπÊ≥ï DefaultConsumer defaultConsumer = new DefaultConsumer(channel) &#123; /** * ÂΩìÊé•Êî∂Âà∞Ê∂àÊÅØÂêéÊ≠§ÊñπÊ≥ïÂ∞ÜË¢´Ë∞ÉÁî® * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÁî®Êù•Ê†áËØÜÊ∂àË¥πËÄÖÁöÑÔºåÂú®ÁõëÂê¨ÈòüÂàóÊó∂ËÆæÁΩÆchannel.basicConsume * @param envelope ‰ø°Â∞ÅÔºåÈÄöËøáenvelope * @param properties Ê∂àÊÅØÂ±ûÊÄß * @param body Ê∂àÊÅØÂÜÖÂÆπ * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //‰∫§Êç¢Êú∫ String exchange = envelope.getExchange(); //Ê∂àÊÅØidÔºåmqÂú®channel‰∏≠Áî®Êù•Ê†áËØÜÊ∂àÊÅØÁöÑidÔºåÂèØÁî®‰∫éÁ°ÆËÆ§Ê∂àÊÅØÂ∑≤Êé•Êî∂ long deliveryTag = envelope.getDeliveryTag(); //Ê∂àÊÅØÂÜÖÂÆπ String message = new String(body, "utf-8"); System.out.println("receive message:" + message); &#125; &#125;; //ÁõëÂê¨ÈòüÂàó //ÂèÇÊï∞ÔºöString queue, boolean autoAck, Consumer callback /** * ÂèÇÊï∞ÊòéÁªÜÔºö * 1„ÄÅqueue ÈòüÂàóÂêçÁß∞ * 2„ÄÅautoAck Ëá™Âä®ÂõûÂ§çÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂêéË¶ÅÂëäËØâmqÊ∂àÊÅØÂ∑≤Êé•Êî∂ÔºåÂ¶ÇÊûúÂ∞ÜÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫truË°®Á§∫‰ºöËá™Âä®ÂõûÂ§çmqÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseË¶ÅÈÄöËøáÁºñÁ®ãÂÆûÁé∞ÂõûÂ§ç * 3„ÄÅcallbackÔºåÊ∂àË¥πÊñπÊ≥ïÔºåÂΩìÊ∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØË¶ÅÊâßË°åÁöÑÊñπÊ≥ï */ channel.basicConsume(QUEUE_INFORM_SMS, true, defaultConsumer); &#125;&#125; SpringBoot Êï¥ÂêàRabbitMQ12345678910111213&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package com.xuecheng.test.rabbitmq;import com.xuecheng.test.rabbitmq.config.RabbitmqConfig;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.amqp.rabbit.core.RabbitTemplate;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;/** * @author Administrator * @version 1.0 * @create 2018-06-17 19:23 **/@SpringBootTest@RunWith(SpringRunner.class)public class Producer05_topic_springboot &#123; @Autowired RabbitTemplate rabbitTemplate; //‰ΩøÁî®rabbitTemplateÂèëÈÄÅÊ∂àÊÅØ @Test public void testSendEmail() &#123; String message = "send email message to user"; /** * ÂèÇÊï∞Ôºö * 1„ÄÅ‰∫§Êç¢Êú∫ÂêçÁß∞ * 2„ÄÅroutingKey * 3„ÄÅÊ∂àÊÅØÂÜÖÂÆπ */ rabbitTemplate.convertAndSend(RabbitmqConfig.EXCHANGE_TOPICS_INFORM, "inform.email", message); &#125; //‰ΩøÁî®rabbitTemplateÂèëÈÄÅÊ∂àÊÅØ// @Test// public void testSendPostPage() &#123;//// Map message = new HashMap&lt;&gt;();// message.put("pageId", "5a795ac7dd573c04508f3a56");// //Â∞ÜÊ∂àÊÅØÂØπË±°ËΩ¨Êàêjson‰∏≤// String messageString = JSON.toJSONString(message);// //Ë∑ØÁî±keyÔºåÂ∞±ÊòØÁ´ôÁÇπID// String routingKey = "5a751fab6abb5044e0d19ea1";// /**// * ÂèÇÊï∞Ôºö// * 1„ÄÅ‰∫§Êç¢Êú∫ÂêçÁß∞// * 2„ÄÅroutingKey// * 3„ÄÅÊ∂àÊÅØÂÜÖÂÆπ// */// rabbitTemplate.convertAndSend("ex_routing_cms_postpage", routingKey, messageString);//// &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package com.xuecheng.test.rabbitmq.config;import org.springframework.amqp.core.*;import org.springframework.beans.factory.annotation.Qualifier;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;/** * @author Administrator * @version 1.0 * @create 2018-06-17 20:45 **/@Configurationpublic class RabbitmqConfig &#123; public static final String QUEUE_INFORM_EMAIL = "queue_inform_email"; public static final String QUEUE_INFORM_SMS = "queue_inform_sms"; public static final String EXCHANGE_TOPICS_INFORM = "exchange_topics_inform"; public static final String ROUTINGKEY_EMAIL = "inform.#.email.#"; public static final String ROUTINGKEY_SMS = "inform.#.sms.#"; //Â£∞Êòé‰∫§Êç¢Êú∫ @Bean(EXCHANGE_TOPICS_INFORM) public Exchange EXCHANGE_TOPICS_INFORM() &#123; //durable(true) ÊåÅ‰πÖÂåñÔºåmqÈáçÂêØ‰πãÂêé‰∫§Êç¢Êú∫ËøòÂú® //BugÔºödurableËÆæÁΩÆÊàê(true) /* Caused by:com.rabbitmq.client.ShutdownSignalException:channel error; protocol method: #method&lt;channel.close&gt; (reply - code = 406, reply - text = PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'exchange_topics_inform' in vhost '/':received 'true' but current is 'false',class -id = 40, method - id = 10) */ return ExchangeBuilder.topicExchange(EXCHANGE_TOPICS_INFORM).durable(false).build(); &#125; //Â£∞ÊòéQUEUE_INFORM_EMAILÈòüÂàó @Bean(QUEUE_INFORM_EMAIL) public Queue QUEUE_INFORM_EMAIL() &#123; return new Queue(QUEUE_INFORM_EMAIL); &#125; //Â£∞ÊòéQUEUE_INFORM_SMSÈòüÂàó @Bean(QUEUE_INFORM_SMS) public Queue QUEUE_INFORM_SMS() &#123; return new Queue(QUEUE_INFORM_SMS); &#125; //ROUTINGKEY_EMAILÈòüÂàóÁªëÂÆö‰∫§Êç¢Êú∫ÔºåÊåáÂÆöroutingKey @Bean public Binding BINDING_QUEUE_INFORM_EMAIL(@Qualifier(QUEUE_INFORM_EMAIL) Queue queue, @Qualifier(EXCHANGE_TOPICS_INFORM) Exchange exchange) &#123; return BindingBuilder.bind(queue).to(exchange).with(ROUTINGKEY_EMAIL).noargs(); &#125; //ROUTINGKEY_SMSÈòüÂàóÁªëÂÆö‰∫§Êç¢Êú∫ÔºåÊåáÂÆöroutingKey @Bean public Binding BINDING_ROUTINGKEY_SMS(@Qualifier(QUEUE_INFORM_SMS) Queue queue, @Qualifier(EXCHANGE_TOPICS_INFORM) Exchange exchange) &#123; return BindingBuilder.bind(queue).to(exchange).with(ROUTINGKEY_SMS).noargs(); &#125;&#125; 1234567891011121314151617package com.xuecheng.test.rabbitmq;import com.xuecheng.test.rabbitmq.config.RabbitmqConfig;import org.springframework.amqp.core.Message;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Component;import java.nio.channels.Channel;@Componentpublic class ReceiveHandler &#123; @RabbitListener(queues = &#123;RabbitmqConfig.QUEUE_INFORM_EMAIL&#125;) public void send_email(String msg, Message message, Channel channel) &#123; System.out.println("Êé•ÂèóÂà∞ÁöÑÊï∞ÊçÆÊòØ" + msg); &#125;&#125; 1234567891011server: port: 44000spring: application: name: test-rabbitmq-producer rabbitmq: host: 127.0.0.1 port: 5672 username: guest password: guest virtualHost: / Á¨¨‰∏ÉÁ´† È°µÈù¢ÁÆ°ÁêÜ ËØæÁ®ãÁÆ°ÁêÜ1234567891011121314151617181920server: port: 31200spring: application: name: xc-service-manage-course datasource: druid: url: jdbc:mysql://localhost:3306/xc_course?characterEncoding=utf-8 username: root password: YHP836143 #driverClassName: com.mysql.jdbc.Driver driverClassName: com.mysql.cj.jdbc.Driver initialSize: 5 #ÂàùÂßãÂª∫Á´ãËøûÊé•Êï∞Èáè minIdle: 5 #ÊúÄÂ∞èËøûÊé•Êï∞Èáè maxActive: 20 #ÊúÄÂ§ßËøûÊé•Êï∞Èáè maxWait: 10000 #Ëé∑ÂèñËøûÊé•ÊúÄÂ§ßÁ≠âÂæÖÊó∂Èó¥ÔºåÊØ´Áßí testOnBorrow: true #Áî≥ËØ∑ËøûÊé•Êó∂Ê£ÄÊµãËøûÊé•ÊòØÂê¶ÊúâÊïà testOnReturn: false #ÂΩíËøòËøûÊé•Êó∂Ê£ÄÊµãËøûÊé•ÊòØÂê¶ÊúâÊïà timeBetweenEvictionRunsMillis: 60000 #ÈÖçÁΩÆÈó¥ÈöîÊ£ÄÊµãËøûÊé•ÊòØÂê¶ÊúâÊïàÁöÑÊó∂Èó¥ÔºàÂçï‰ΩçÊòØÊØ´ÁßíÔºâ minEvictableIdleTimeMillis: 300000 #ËøûÊé•Âú®ËøûÊé•Ê±†ÁöÑÊúÄÂ∞èÁîüÂ≠òÊó∂Èó¥ÔºàÊØ´ÁßíÔºâ 123456&lt;mapper namespace="com.xuecheng.manage_course.dao.CourseMapper"&gt; &lt;select id="findCourseBaseById" parameterType="java.lang.String" resultType="com.xuecheng.framework.domain.course.CourseBase"&gt; select * from course_base where id = #&#123;id&#125; &lt;/select&gt;&lt;/mapper&gt; 1234@Mapperpublic interface CourseMapper &#123; CourseBase findCourseBaseById(String id);&#125; 12345&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.14&lt;/version&gt; &lt;/dependency&gt; 12public interface CourseBaseRepository extends JpaRepository&lt;CourseBase,String&gt; &#123;&#125; 1234567891011121314151617181920212223242526@SpringBootTest@RunWith(SpringRunner.class)public class TestDao &#123; @Autowired CourseBaseRepository courseBaseRepository; @Autowired CourseMapper courseMapper; @Test public void testCourseBaseRepository() &#123; Optional&lt;CourseBase&gt; optional = courseBaseRepository.findById("402885816240d276016240f7e5000002"); if (optional.isPresent()) &#123; CourseBase courseBase = optional.get(); System.out.println(courseBase); &#125; &#125; @Test public void testCourseMapper() &#123; CourseBase courseBase = courseMapper.findCourseBaseById("402885816240d276016240f7e5000002"); System.out.println(courseBase); &#125;&#125; ÂØºÂÖ•ÂâçÁ´ØVueÂ∑•Á®ã Êä•Èîô mybatis‰∏çË¶ÅÂÜôÊ≥®Èáä ËØæÁ®ãËÆ°ÂàíÊü•ËØ¢Êé•Âè£ÔºàSQLÔºâ ÂÖ≥‰∫éleft on 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" &gt;&lt;mapper namespace="com.xuecheng.manage_course.dao.TeachplanMapper"&gt; &lt;resultMap id="teachplanMap" type="com.xuecheng.framework.domain.course.ext.TeachplanNode"&gt; &lt;id column="one_id" property="id"&gt;&lt;/id&gt; &lt;result column="one_pname" property="pname"&gt;&lt;/result&gt; //‰∏ÄÂØπÂ§ö &lt;collection property="children" ofType="com.xuecheng.framework.domain.course.ext.TeachplanNode"&gt; &lt;id column="two_id" property="id"&gt;&lt;/id&gt; &lt;result column="two_pname" property="pname"&gt;&lt;/result&gt; &lt;collection property="children" ofType="com.xuecheng.framework.domain.course.ext.TeachplanNode"&gt; &lt;id column="three_id" property="id"&gt;&lt;/id&gt; &lt;result column="three_pname" property="pname"&gt;&lt;/result&gt; &lt;/collection&gt; &lt;/collection&gt; &lt;/resultMap&gt; &lt;select id="selectList" parameterType="java.lang.String" resultMap="teachplanMap"&gt; SELECT a.id one_id, a.pname one_pname, b.id two_id, b.pname two_pname, c.id three_id, c.pname three_pname FROM teachplan a LEFT JOIN teachplan b ON b.parentid = a.id LEFT JOIN teachplan c ON c.parentid = b.id WHERE a.parentid = '0' &lt;if test="_parameter !=null and _parameter!=''"&gt; AND a.courseid = #&#123;courseId&#125; &lt;/if&gt; ORDER BY a.orderby, b.orderby, c.orderby &lt;/select&gt;&lt;/mapper&gt; „ÄãÂâçÁ´ØÂ∑•Á®ã Ê≤°ÊúâÁî® Êõ¥Êç¢node.jsÁöÑÁâàÊú¨ FastDFS Êñá‰ª∂‰∏ä‰º†12345678910111213141516171819202122232425262728293031323334server: port: 22100spring: application: name: xc-service-base-filesystem #mongoÈÖçÁΩÆ data: mongodb: host: localhost port: 27017 database: xc_fs # data: # mongodb: # database: xc_fs # uri: mongodb://root:123@127.0.0.1:27017#SpringMVC‰∏ä‰º†Êñá‰ª∂ÈÖçÁΩÆ servlet: multipart: #ÈªòËÆ§ÊîØÊåÅÊñá‰ª∂‰∏ä‰º†. enabled: true #ÊîØÊåÅÊñá‰ª∂ÂÜôÂÖ•Á£ÅÁõò. file-size-threshold: 0 # ‰∏ä‰º†Êñá‰ª∂ÁöÑ‰∏¥Êó∂ÁõÆÂΩï location: # ÊúÄÂ§ßÊîØÊåÅÊñá‰ª∂Â§ßÂ∞è max-file-size: 1MB # ÊúÄÂ§ßÊîØÊåÅËØ∑Ê±ÇÂ§ßÂ∞è max-request-size: 30MBxuecheng: fastdfs: connect_timeout_in_seconds: 5 network_timeout_in_seconds: 30 charset: UTF-8 tracker_servers: 192.168.0.106:22122 #Â§ö‰∏™ trackerServer‰∏≠Èó¥‰ª•ÈÄóÂè∑ÂàÜÈöî 123456789101112@RestController@RequestMapping("/filesystem")public class FileSystemController implements FileSystemControllerApi &#123; @Autowired FileSystemService fileSystemService; @Override @GetMapping("/upload") public UploadFileResult upload(MultipartFile multipartFile, String filetag, String businesskey, String metadata) throws IOException &#123; return fileSystemService.upload(multipartFile, filetag, businesskey, metadata); &#125;&#125; Á¨¨ÂÖ´Á´† Eureka Feign12345&lt;!-- ÂØºÂÖ•EurekaÊúçÂä°ÁöÑ‰æùËµñ --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;&lt;/dependency&gt; 1234567@EnableEurekaServer //Ê†áËØÜÊ≠§Â∑•Á®ãÊòØ‰∏Ä‰∏™EurekaServer@SpringBootApplicationpublic class GovernCenterApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(GovernCenterApplication.class,args); &#125;&#125; 12345678910111213141516server: port: $&#123;PORT:50101&#125; #ÊúçÂä°Á´ØÂè£spring: application: name: xc-govern-center #ÊåáÂÆöÊúçÂä°Âêçeureka: client: registerWithEureka: true #ÊúçÂä°Ê≥®ÂÜåÔºåÊòØÂê¶Â∞ÜËá™Â∑±Ê≥®ÂÜåÂà∞EurekaÊúçÂä°‰∏≠ fetchRegistry: true #ÊúçÂä°ÂèëÁé∞ÔºåÊòØÂê¶‰ªéEureka‰∏≠Ëé∑ÂèñÊ≥®ÂÜå‰ø°ÊÅØ serviceUrl: #EurekaÂÆ¢Êà∑Á´Ø‰∏éEurekaÊúçÂä°Á´ØÁöÑ‰∫§‰∫íÂú∞ÂùÄÔºåÈ´òÂèØÁî®Áä∂ÊÄÅÈÖçÁΩÆÂØπÊñπÁöÑÂú∞ÂùÄÔºåÂçïÊú∫Áä∂ÊÄÅÈÖçÁΩÆËá™Â∑±ÔºàÂ¶ÇÊûú‰∏çÈÖçÁΩÆÂàôÈªòËÆ§Êú¨Êú∫8761Á´ØÂè£Ôºâ defaultZone: $&#123;EUREKA_SERVER:http://eureka02:50102/eureka/&#125; server: enable-self-preservation: false #ÊòØÂê¶ÂºÄÂêØËá™Êàë‰øùÊä§Ê®°Âºè eviction-interval-timer-in-ms: 60000 #ÊúçÂä°Ê≥®ÂÜåË°®Ê∏ÖÁêÜÈó¥ÈöîÔºàÂçï‰ΩçÊØ´ÁßíÔºåÈªòËÆ§ÊòØ60*1000Ôºâ instance: hostname: $&#123;EUREKA_DOMAIN:eureka01&#125; 12345&lt;!-- ÂØºÂÖ•EurekaÂÆ¢Êà∑Á´ØÁöÑ‰æùËµñ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt; 1234567891011121314151617181920212223eureka: client: registerWithEureka: true #ÊúçÂä°Ê≥®ÂÜåÂºÄÂÖ≥ fetchRegistry: true #ÊúçÂä°ÂèëÁé∞ÂºÄÂÖ≥ serviceUrl: #EurekaÂÆ¢Êà∑Á´Ø‰∏éEurekaÊúçÂä°Á´ØËøõË°å‰∫§‰∫íÁöÑÂú∞ÂùÄÔºåÂ§ö‰∏™‰∏≠Èó¥Áî®ÈÄóÂè∑ÂàÜÈöî defaultZone: $&#123;EUREKA_SERVER:http://localhost:50101/eureka/,http://localhost:50102/eureka/&#125; instance: prefer-ip-address: true #Â∞ÜËá™Â∑±ÁöÑipÂú∞ÂùÄÊ≥®ÂÜåÂà∞EurekaÊúçÂä°‰∏≠ ip-address: $&#123;IP_ADDRESS:127.0.0.1&#125; instance-id: $&#123;spring.application.name&#125;:$&#123;server.port&#125; #ÊåáÂÆöÂÆû‰æãidribbon: MaxAutoRetries: 2 #ÊúÄÂ§ßÈáçËØïÊ¨°Êï∞ÔºåÂΩìEureka‰∏≠ÂèØ‰ª•ÊâæÂà∞ÊúçÂä°Ôºå‰ΩÜÊòØÊúçÂä°Ëøû‰∏ç‰∏äÊó∂Â∞Ü‰ºöÈáçËØï MaxAutoRetriesNextServer: 3 #ÂàáÊç¢ÂÆû‰æãÁöÑÈáçËØïÊ¨°Êï∞ OkToRetryOnAllOperations: false #ÂØπÊâÄÊúâÊìç‰ΩúËØ∑Ê±ÇÈÉΩËøõË°åÈáçËØïÔºåÂ¶ÇÊûúÊòØgetÂàôÂèØ‰ª•ÔºåÂ¶ÇÊûúÊòØpostÔºåputÁ≠âÊìç‰ΩúÊ≤°ÊúâÂÆûÁé∞ÂπÇÁ≠âÁöÑÊÉÖÂÜµ‰∏ãÊòØÂæàÂç±Èô©ÁöÑ,ÊâÄ‰ª•ËÆæÁΩÆ‰∏∫false ConnectTimeout: 5000 #ËØ∑Ê±ÇËøûÊé•ÁöÑË∂ÖÊó∂Êó∂Èó¥ ReadTimeout: 6000 #ËØ∑Ê±ÇÂ§ÑÁêÜÁöÑË∂ÖÊó∂Êó∂Èó¥course-publish: siteId: 5b30cba5f58b4411fc6cb1e5 templateId: 5b345a6b94db44269cb2bfec previewUrl: http://www.xuecheng.com/cms/preview/ pageWebPath: /course/detail/ pagePhysicalPath: /course/detail/ dataUrlPre: http://localhost:31200/course/courseview/ 123456789101112131415161718@SpringBootTest@RunWith(SpringRunner.class)public class TestRibbon &#123; @Autowired RestTemplate restTemplate; @Test public void testRibbon()&#123; //Á°ÆÂÆöË¶ÅËé∑ÂèñÁöÑÊúçÂä°Âêç String serviceId = "XC-SERVICE-MANAGE-CMS"; for (int i=0;i&lt;10;i++)&#123; //ribbonÂÆ¢Êà∑Á´Ø‰ªéeurekaServer‰∏≠Ëé∑ÂèñÊúçÂä°ÂàóË°®,Ê†πÊçÆÊúçÂä°ÂêçËé∑ÂèñÊúçÂä°ÂàóË°® ResponseEntity&lt;Map&gt; forEntity = restTemplate.getForEntity("http://"+serviceId+"/cms/page/get/5a754adf6abb500ad05688d9", Map.class); Map body = forEntity.getBody(); System.out.println(body); &#125; &#125; 1@EnableFeignClients//ÂºÄÂêØFegin 1234567@FeignClient(value = "XC-SERVICE-MANAGE-CMS")public interface CmsPageClient &#123; //Ê†πÊçÆÈ°µÈù¢idÊü•ËØ¢È°µÈù¢‰ø°ÊÅØ ËøúÁ®ãË∞ÉÁî®cmsËØ∑Ê±ÇÊï∞ÊçÆ @GetMapping("/cms/page/get/&#123;id&#125;")//Ë°®Á§∫ËøúÁ®ãË∞ÉÁî®ÁöÑhttpÁöÑÊñπÊ≥ïÁ±ªÂûã public CmsPage findCmsPageById(@PathVariable("id") String id);&#125; 12345678910111213public class TestFeign &#123; @Autowired CmsPageClient cmsPageClient; @Test public void testfing() &#123; //ÂèëËµ∑ËøúÁ®ãË∞ÉÁî® CmsPage cmsPageById = cmsPageClient.findCmsPageById("5a754adf6abb500ad05688d9"); System.out.println(cmsPageById); &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[RedisÊÖïËØæÁΩëËßÜÈ¢ëÊïôÁ®ã]]></title>
    <url>%2F2019%2F04%2F17%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRedis%2FRedis%E6%85%95%E8%AF%BE%E7%BD%91%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[1 ÂàùËØÜRedis]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F04%2F12%2F%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%2FThreadLocal%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[Hbase]]></title>
    <url>%2F2019%2F04%2F08%2F%E5%85%B6%E4%BB%96%2FHbase%2F</url>
    <content type="text"><![CDATA[1 ÁâπÂæÅ 2 ÂàÜÂ∏ÉÂºèÈõÜÁæ§Êê≠Âª∫1234567891011121314151617181920212223242526272829303132333435363738394041[root@bogon ~]# ssh-keygen Generating public/private rsa key pair. Enter file in which to save the key (/root/.ssh/id_rsa): Created directory '/root/.ssh'. Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /root/.ssh/id_rsa. Your public key has been saved in /root/.ssh/id_rsa.pub. The key fingerprint is: SHA256:9cjANdBB5Uez1RUvOHpz1kbsQlWjmL4/eRNSauNZ8K4 root@bogon The key's randomart image is: +---[RSA 2048]----+ | .+=o. ooX| | . ..ooo.*+| | o .o+.= +| | +.+ = * | | S +.+ O +| | ..O * | | .o B .| | .= + | | E+ .| +----[SHA256]-----+ [root@bogon ~]# [root@bogon ~]# [root@bogon ~]# [root@bogon ~]# cd[root@bogon ~]# cd .ssh[root@bogon .ssh]# lsid_rsa id_rsa.pub[root@bogon .ssh]# cat id_rsa.pub &gt;&gt; authorized_keys [root@bogon .ssh]# lsauthorized_keys id_rsa id_rsa.pub[root@bogon .ssh]# chmod 600 authorized_keys [root@bogon .ssh]# ssh localhostThe authenticity of host 'localhost (::1)' can't be established.RSA key fingerprint is SHA256:92H28KhI3EPvAoTIblOfgpTzCQ8XoSNNMjATiN8DbEs.RSA key fingerprint is MD5:9f:0d:61:0c:9c:53:5f:c3:77:31:8b:27:36:24:a5:86.Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added 'localhost' (RSA) to the list of known hosts.Last login: Mon Apr 8 01:04:07 2019 from 192.168.0.104[root@bogon ~]# 3 HBase Âü∫Á°ÄÊû∂ÊûÑ 4 HBase ÂÆâË£Ö /root/hadoop-2.7.3/etc/hadoop core-site.xml hdfs-site.xml ËÆæÁΩÆ Ôºö javaÁéØÂ¢Évim hbase-env.sh‚Äî‚Äî‚Äî‚Äî‚Äîjava_home=„ÄÇ/usr/java/jdk1.7.0_80/ ./hbase shell ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî„Äã hbaseÂëΩ‰ª§Ë°åÁöÑËÆæÁΩÆ status Êü•ÁúãHbaseÁöÑÁä∂ÊÄÅ]]></content>
      <categories>
        <category>Hbase</category>
      </categories>
      <tags>
        <tag>Hbase</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F04%2F08%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FKafka%2FKafka%2F</url>
    <content type="text"><![CDATA[/hexo/source/_posts/MongoDB/MongoDB.mdË∑≥ËøáÁöÑÂõæÁâáÔºö19https://ws1.sinaimg.cn/large/006tNc79gy1fzatdfup9oj30hp0dbgqw.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzgknnso5aj30m50fpq4g.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1fzgknoqgapj30fu05emxm.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzgknms5q4j30dm04uglu.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1fzbnmr1vvkj30il03oq4x.jpghttps://ws2.sinaimg.cn/large/006tNc79gy1fzbnn3gsu1j308k03jt95.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzbnnh5jlgj30g703ft9w.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1g2806suz1ej30me09c0x9.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzbnpeufd0j30go09jwgk.jpghttps://ws2.sinaimg.cn/large/006tNc79gy1fzbnqyke9oj306a02j0t1.jpghttps://ws1.sinaimg.cn/large/006tNc79gy1fzbxnuu9muj30gm07t75j.jpghttps://ws1.sinaimg.cn/large/006tNc79gy1fzbxmdhz5qj30fm06l756.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzbxmt1g31j30ca04et9j.jpghttps://ws1.sinaimg.cn/large/006tNc79gy1fzbxpqbwf1j30m804q3zh.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1fzgkoozlanj30m803sgng.jpghttps://ws1.sinaimg.cn/large/006tNc79gy1fzgkqhoc5oj30bw0datde.jpghttps://ws4.sinaimg.cn/large/006tNc79gy1fzgkvgb96rj30rd0b3jv7.jpghttps://ws2.sinaimg.cn/large/006tNc79gy1g2926tr0q8j30os107wnt.jpghttps://ws3.sinaimg.cn/large/006tNc79gy1g294ssvikdj30u0283kjo.jpg]]></content>
  </entry>
  <entry>
    <title><![CDATA[SpringCloud ËØæÁ®ãÊï¥ÁêÜ]]></title>
    <url>%2F2019%2F03%2F31%2FSpringCloud%2FSpringCloud%2F</url>
    <content type="text"><![CDATA[SpringCloud1 .EurekaServer]]></content>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Activiti6.0 Â≠¶‰π†]]></title>
    <url>%2F2019%2F03%2F30%2FActiviti6.0%2FActiviti6.0%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>Activiti</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FastDFS ÂàÜÂ∏ÉÂºèÊñá‰ª∂Á≥ªÁªü]]></title>
    <url>%2F2019%2F03%2F27%2FFastDFS%2FFastDFS%2F</url>
    <content type="text"><![CDATA[1.FastDFSÁÆÄ‰ªã„ÄÅÁéØÂ¢ÉÊê≠Âª∫‰∏é‰ΩøÁî®ÂÖàÂú®192.168.0.106 ‰∏≠ÂÆâË£Ötracker FastÂÆâË£ÖÊ≠•È™§1 ÂÆâË£Ögcc-c++11 yum install gcc-c++ 2 ÂÆâË£Ölibevent12 yum -y install libevent 3 ÂÆâË£Ölibfastcommon12345678910111213143 Â∞Ü libfastcommonV1.0.7.tar.gz Êã∑Ë¥ùËá≥/usr/local/‰∏ã cd /usr/local tar -zxvf libfastcommonV1.0.7.tar.gz cd libfastcommon-1.0.7 ./make.sh ./make.sh install Ê≥®ÊÑèÔºölibfastcommon ÂÆâË£ÖÂ•ΩÂêé‰ºöËá™Âä®Â∞ÜÂ∫ìÊñá‰ª∂Êã∑Ë¥ùËá≥/usr/lib64 ‰∏ãÔºåÁî±‰∫é FastDFS Á®ã Â∫èÂºïÁî® usr/lib ÁõÆÂΩïÊâÄ‰ª•ÈúÄË¶ÅÂ∞Ü/usr/lib64 ‰∏ãÁöÑÂ∫ìÊñá‰ª∂Êã∑Ë¥ùËá≥/usr/lib ‰∏ã„ÄÇ [root@localhost lib64]# cp libfastcommon.so /usr/lib 4 tracker ÁºñËØëÂÆâË£Ö123456789101112131415161718192021222324252627282930313233Â∞Ü FastDFS_v5.05.tar.gz Êã∑Ë¥ùËá≥/usr/local/‰∏ãtar -zxvf FastDFS_v5.05.tar.gzcd FastDFS./make.sh ÁºñËØë ./make.sh install ÂÆâË£Ö ÂÆâË£ÖÊàêÂäüÂêéËøõÂÖ•/etc/fdfs ÁõÆÂΩïÔºöÊã∑Ë¥ù‰∏Ä‰ªΩÊñ∞ÁöÑ tracker ÈÖçÁΩÆÊñá‰ª∂Ôºöcp tracker.conf.sample tracker.conf‰øÆÊîπ tracker.confvi tracker.conf base_path=/home/yuqing/FastDFSÊîπ‰∏∫Ôºöbase_path=/home/FastDFSÈÖçÁΩÆ http Á´ØÂè£Ôºöhttp.server_port=80 123456789101112131415161718‚≠êÔ∏è ÂêØÂä®Fast DFS &gt; /usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf restart‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è Ê≥®ÊÑè Ë¶Åcd /usr/local/FastDFS/conf ‰∏≠ÊâßË°å‰∏äÈù¢ÁöÑÂëΩ‰ª§ÂêØÂä®FastDFS[root@localhost ~]# cd /usr/local[root@localhost local]# cd FastDFS[root@localhost FastDFS]# lsclient COPYING-3_0.txt init.d php_client stop.sh trackercommon fastdfs.spec INSTALL README.md storageconf HISTORY make.sh restart.sh test[root@localhost FastDFS]# cd conf[root@localhost conf]# /usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf restartwaiting for pid [21316] exit ...starting ...[root@localhost conf]# ÂêØÂä®Tracker Âú®ip ‰∏≠ÂÆâË£Östorage11 yum install gcc-c++ 12 yum -y install libevent 12345678910111213143 Â∞Ü libfastcommonV1.0.7.tar.gz Êã∑Ë¥ùËá≥/usr/local/‰∏ã cd /usr/local tar -zxvf libfastcommonV1.0.7.tar.gz cd libfastcommon-1.0.7 ./make.sh ./make.sh install Ê≥®ÊÑèÔºölibfastcommon ÂÆâË£ÖÂ•ΩÂêé‰ºöËá™Âä®Â∞ÜÂ∫ìÊñá‰ª∂Êã∑Ë¥ùËá≥/usr/lib64 ‰∏ãÔºåÁî±‰∫é FastDFS Á®ã Â∫èÂºïÁî® usr/lib ÁõÆÂΩïÊâÄ‰ª•ÈúÄË¶ÅÂ∞Ü/usr/lib64 ‰∏ãÁöÑÂ∫ìÊñá‰ª∂Êã∑Ë¥ùËá≥/usr/lib ‰∏ã„ÄÇ [root@localhost lib64]# cp libfastcommon.so /usr/lib 123456789101112131415161718192021222324252627282930ÂÆâË£ÖÊàêÂäüÂêéËøõÂÖ•/etc/fdfs ÁõÆÂΩïÔºöÊã∑Ë¥ù‰∏Ä‰ªΩÊñ∞ÁöÑ storage ÈÖçÁΩÆÊñá‰ª∂Ôºöcp storage.conf.sample storage.conf‰øÆÊîπ storage.confvi storage.confgroup_name=group1base_path=/home/yuqing/FastDFS Êîπ‰∏∫Ôºöbase_path=/home/ fastdfs store_path0=/home/yuqing/FastDFSÊîπ‰∏∫Ôºöstore_path0=/home/fastdfs/fdfs_storage#Â¶ÇÊûúÊúâÂ§ö‰∏™ÊåÇËΩΩÁ£ÅÁõòÂàôÂÆö‰πâÂ§ö‰∏™ store_pathÔºåÂ¶Ç‰∏ã#store_path1=.....#store_path2=...... tracker_server=192.168.101.3:22122#Â¶ÇÊûúÊúâÂ§ö‰∏™ÂàôÈÖçÁΩÆÂ§ö‰∏™ trackertracker_server=192.168.101.4:22122#ÈÖçÁΩÆ http Á´ØÂè£http.server_port=80 ËØ¶ÊÉÖÂÆâË£ÖËßÅÂ≠¶ÊàêÂú®Á∫øÂèÇËÄÉÊñáÊ°£PDF ÂíåËΩØ‰ª∂ÊµãËØï‰∏ä‰º†‰∏ãËΩΩÊñá‰ª∂12345 &lt;dependency&gt; &lt;groupId&gt;net.oschina.zcx7878&lt;/groupId&gt; &lt;artifactId&gt;fastdfs-client-java&lt;/artifactId&gt; &lt;version&gt;1.27.0.0&lt;/version&gt;&lt;/dependency&gt; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182package com.xuecheng.test.fastdfs;import org.csource.common.MyException;import org.junit.runner.RunWith;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringRunner;import org.springframework.boot.test.context.SpringBootTest;import org.csource.fastdfs.*;import org.junit.Test;import java.io.File;import java.io.FileOutputStream;import java.io.IOException;/** * @description: * @author: apple * @date: 2019-06-13 12:25 */@SpringBootTest@RunWith(SpringRunner.class)@ContextConfiguration(classes = TestFastDFS.class)public class TestFastDFS &#123; //‰∏ä‰º†Êñá‰ª∂ @Test public void testUpload() &#123; try &#123; //Âä†ËΩΩfastdfs-client.propertiesÈÖçÁΩÆÊñá‰ª∂ ClientGlobal.initByProperties("config/fastdfs-client.properties"); //ÂÆö‰πâTrackerClientÔºåÁî®‰∫éËØ∑Ê±ÇTrackerServer TrackerClient trackerClient = new TrackerClient(); //ËøûÊé•tracker TrackerServer trackerServer = trackerClient.getConnection(); //Ëé∑ÂèñStroage StorageServer storeStorage = trackerClient.getStoreStorage(trackerServer); //ÂàõÂª∫stroageClient StorageClient1 storageClient1 = new StorageClient1(trackerServer, storeStorage); //ÂêëstroageÊúçÂä°Âô®‰∏ä‰º†Êñá‰ª∂ //Êú¨Âú∞Êñá‰ª∂ÁöÑË∑ØÂæÑ String filePath = "/Users/apple/Desktop/log.png"; //‰∏ä‰º†ÊàêÂäüÂêéÊãøÂà∞Êñá‰ª∂Id String fileId = storageClient1.upload_file1(filePath, "png", null); System.out.println(fileId); System.out.println(fileId+"___________________-"); //group1/M00/00/01/wKhlQVuhU3eADb4pAAAawU0ID2Q159.png &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; //‰∏ãËΩΩÊñá‰ª∂ @Test public void testDownload()&#123; try &#123; //Âä†ËΩΩfastdfs-client.propertiesÈÖçÁΩÆÊñá‰ª∂ ClientGlobal.initByProperties("config/fastdfs-client.properties"); //ÂÆö‰πâTrackerClientÔºåÁî®‰∫éËØ∑Ê±ÇTrackerServer TrackerClient trackerClient = new TrackerClient(); //ËøûÊé•tracker TrackerServer trackerServer = trackerClient.getConnection(); //Ëé∑ÂèñStroage StorageServer storeStorage = trackerClient.getStoreStorage(trackerServer); //ÂàõÂª∫stroageClient StorageClient1 storageClient1 = new StorageClient1(trackerServer,storeStorage); //‰∏ãËΩΩÊñá‰ª∂ //Êñá‰ª∂id String fileId = "group1/M00/00/00/wKgAa10DPEuAE3I_AAAqyWT9QGs879.png"; byte[] bytes = storageClient1.download_file1(fileId); //‰ΩøÁî®ËæìÂá∫ÊµÅ‰øùÂ≠òÊñá‰ª∂ FileOutputStream fileOutputStream = new FileOutputStream(new File("/Users/apple/Desktop/logg.png")); fileOutputStream.write(bytes); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (MyException e) &#123; e.printStackTrace(); &#125; &#125;&#125;]]></content>
      <categories>
        <category>FastDFS</category>
      </categories>
      <tags>
        <tag>FastDFS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JVMÂú£ÊÄùÊ∫ê]]></title>
    <url>%2F2019%2F03%2F26%2FJVM%2FJVM%E5%9C%A3%E6%80%9D%E6%BA%90%2F</url>
    <content type="text"><![CDATA[Â≠¶‰π†ÊñπÊ≥ïËÆ∫ ÁêÜËß£ ËæìÂÖ•ËæìÂá∫ JVM ‰ªãÁªçÔºöJVMÊòØ‰∏Ä‰∏™‰ª§‰∫∫ÊúõËÄåÂç¥Ê≠•ÁöÑÈ¢ÜÂüüÔºåÂõ†‰∏∫ÂÆÉÂçöÂ§ßÁ≤æÊ∑±ÔºåÊ∂âÂèäÂà∞ÁöÑÂÜÖÂÆπ‰∏éÁü•ËØÜÁÇπÈùûÂ∏∏‰πãÂ§ö„ÄÇËôΩÁÑ∂JavaÂºÄÂèëËÄÖÊØèÂ§©ÈÉΩÂú®‰ΩøÁî®JVMÔºå‰ΩÜÂØπÂÖ∂ÊúâÊâÄÁ†îÁ©∂Âπ∂‰∏îÁ†îÁ©∂Ê∑±ÂÖ•ÁöÑ‰∫∫Âç¥Â∞ë‰πãÂèàÂ∞ë„ÄÇÁÑ∂ËÄåÔºåJVMÁöÑÈáçË¶ÅÊÄßÂç¥ÂèàÊòØ‰∏çË®ÄËÄåÂñªÁöÑ„ÄÇÂü∫‰∫éJVMÁöÑÂêÑÁßçÂä®ÊÄÅ‰∏éÈùôÊÄÅËØ≠Ë®ÄÁîüÊÄÅÂúàÂ∑≤ÁªèÂºÇÂ∏∏ÁπÅËç£‰∫ÜÔºåÂØπJVMÁöÑËøêË°åÊú∫Âà∂Êúâ‰∏ÄÂÆöÁöÑ‰∫ÜËß£‰∏ç‰ΩÜÂèØ‰ª•ÊèêÂçáÊàë‰ª¨ÁöÑÁ´û‰∫âÂäõÔºåËøòÂèØ‰ª•ËÆ©Êàë‰ª¨Âú®Èù¢ÂØπÈóÆÈ¢òÊó∂ËÉΩÂ§üÊ≤âÁùÄÂ∫îÂØπÔºåÂä†ÈÄüÈóÆÈ¢òÁöÑËß£ÂÜ≥ÈÄüÂ∫¶ÔºõÂêåÊó∂ËøòËÉΩÂ§üÂ¢ûÂº∫Êàë‰ª¨ÁöÑËá™‰ø°ÂøÉÔºåËÆ©Êàë‰ª¨Êõ¥Âä†Ê∏∏ÂàÉÊúâ‰Ωô„ÄÇ JVM‰ªãÁªç HotSpotËôöÊãüÊú∫ËÆ≤Ëß£ ÂûÉÂúæÊî∂ÈõÜÊñπÂºèËØ¶Ëß£ ÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ïËØ¶Ëß£ ÂûÉÂúæÊî∂ÈõÜÂô®ËØ¶Ëß£ ÂàÜ‰ª£ÂûÉÂúæÊî∂ÈõÜÊú∫Âà∂ËØ¶Ëß£ Êñ∞Áîü‰ª£ËÆ≤Ëß£ ËÄÅÂπ¥‰ª£ËÆ≤Ëß£ G1Êî∂ÈõÜÂô®ÂàÜÊûê‰∏éÂÆû‰æã Â∏∏ËßÅ‰∏îÈáçË¶ÅËôöÊãüÊú∫ÂèÇÊï∞Á§∫‰æã Ê†à ÊñπÊ≥ïÂå∫ Á∫øÁ®ãÂÖ±‰∫´ÂÜÖÂ≠òÂå∫ Ê†πÊêúÁ¥¢ÁÆóÊ≥ï SerialÊî∂ÈõÜÂô® ParNewÊî∂ÈõÜÂô® Á±ªÂä†ËΩΩÊú∫Âà∂ËØ¶Ëß£ Á±ªÂä†ËΩΩÁöÑÂèå‰∫≤ÂßîÊâòÊú∫Âà∂ Â≠óËäÇÁ†ÅÊñá‰ª∂ÁîüÊàê‰∏éÂàÜÊûê È≠îÊï∞ Â∏∏ÈáèÊ±†‰∏éÊñπÊ≥ïË°® ÂêÑÁßçÊåá‰ª§ËØ¶Ëß£ ÈîÅËØ¶Ëß£ Á∫øÁ®ãÂÆâÂÖ® ÂÅèÂêëÈîÅ„ÄÅËá™ÊóãÈîÅ‰∏éËΩªÈáèÁ∫ßÈîÅ JITÁºñËØëÂô® GCÊó•ÂøóÁîüÊàê‰∏éÂàÜÊûê ËôöÊãüÊú∫ÁõëÊéßÂ∑•ÂÖ∑ËØ¶Ëß£ jConsole‰ΩøÁî®ÊñπÂºèËØ¶Ëß£ ‰Ωï‰∏∫ÈÄÉÈÄ∏‰∏éÈÄÉÈÄ∏ÂàÜÊûê ÊñπÊ≥ïÂÜÖËÅî ËôöÊãüÊú∫ÂÜÖÂ≠òÊ®°ÂûãËØ¶Ëß£ Á±ªÂä†ËΩΩÂô®Ê∑±ÂÖ•Ëß£Êûê‰∏éÈò∂ÊÆµÂàÜËß£### 2 Á±ªÁöÑÂä†ËΩΩËøûÊé•‰∏éÂàùÂßãÂåñËøáÁ®ãËØ¶Ëß£ 6 Â∏∏ÈáèÁöÑÊú¨Ë¥®Âê´‰πâ‰∏éÂèçÁºñËØëÂèäÂä©ËÆ∞Á¨¶ËØ¶Ëß£ final: 7_ÁºñËØëÊúüÂ∏∏Èáè‰∏éËøêË°åÊúüÂ∏∏ÈáèÁöÑÂå∫Âà´ÂèäÊï∞ÁªÑÂàõÂª∫Êú¨Ë¥®ÂàÜÊûê 8 Êé•Âè£ÂàùÂßãÂåñËßÑÂàô‰∏éÁ±ªÂä†ËΩΩÂô®ÂáÜÂ§áÈò∂ÊÆµÂíåÂàùÂßãÂåñÈò∂ÊÆµÁöÑÈáçË¶ÅÊÑè‰πâÂàÜÊûê]]></content>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NginxÊÖïËØæÁΩë]]></title>
    <url>%2F2019%2F03%2F21%2FNginx%2FNginx%20%E6%85%95%E8%AF%BE%E7%BD%91%20%2F</url>
    <content type="text"><![CDATA[NginxÈÖçÁΩÆÊñá‰ª∂ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586&gt; &gt; #user root;&gt; #worker_processes auto;&gt; &gt; #error_log logs/error.log;&gt; #error_log logs/error.log notice;&gt; #error_log logs/error.log info;&gt; &gt; #pid logs/nginx.pid;&gt; &gt; &gt; events &#123;&gt; worker_connections 1024;&gt; &#125;&gt; &gt; &gt; http &#123;&gt; include mime.types;&gt; default_type application/octet-stream;&gt; &gt; #log_format main '$remote_addr - $remote_user [$time_local] "$request" '&gt; # '$status $body_bytes_sent "$http_referer" '&gt; # '"$http_user_agent" "$http_x_forwarded_for"';&gt; &gt; #access_log logs/access.log main;&gt; &gt; sendfile on;&gt; #tcp_nopush on;&gt; &gt; #keepalive_timeout 0;&gt; keepalive_timeout 65;&gt; &gt; #gzip on;&gt; &gt; server&#123;&gt; listen 8888;&gt; server_name www.xuecheng.com; //ÂüüÂêç&gt; ssi on;&gt; ssi_silent_errors on;&gt; location / &#123;&gt; root /Users/apple/Desktop/xc-ui-pc-static-portal; //ÂâçÁ´ØÈ°πÁõÆÂú∞ÂùÄ root&gt; index index.html index.htm; //index &gt; &#125;&gt; &gt; #include /etc/nginx/default.d/*.conf;&gt; &gt; &#125;&gt; &gt; &gt; # another virtual host using mix of IP-, name-, and port-based configuration&gt; #&gt; #server &#123;&gt; # listen 8000;&gt; # listen somename:8080;&gt; # server_name somename alias another.alias;&gt; &gt; # location / &#123;&gt; # root html;&gt; # index index.html index.htm;&gt; # &#125;&gt; #&#125;&gt; &gt; &gt; # HTTPS server&gt; #&gt; #server &#123;&gt; # listen 443 ssl;&gt; # server_name localhost;&gt; &gt; # ssl_certificate cert.pem;&gt; # ssl_certificate_key cert.key;&gt; &gt; # ssl_session_cache shared:SSL:1m;&gt; # ssl_session_timeout 5m;&gt; &gt; # ssl_ciphers HIGH:!aNULL:!MD5;&gt; # ssl_prefer_server_ciphers on;&gt; &gt; # location / &#123;&gt; # root html;&gt; # index index.html index.htm;&gt; # &#125;&gt; #&#125;&gt; &gt; &#125;&gt; 12~ ÓÇ∞ nginx -s reload ÈáçÂêØ ‰ΩøÁîüÊïà~ ÓÇ∞ vim /Usr/local/etc/Nginx/nginx.conf ‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂ Nginx ÊúçÂä°Âô®ÈÅáÂà∞ÈóÆÈ¢ò„ÄÇÈáçÂêØÁîµËÑë]]></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[java8Êñ∞ÁâπÊÄß]]></title>
    <url>%2F2019%2F03%2F20%2FJava%208%209%2011%E6%96%B0%E7%89%B9%E6%80%A7%2Fjava8%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"><![CDATA[1.LambdaË°®ËææÂºè 12345678List&lt;Employee&gt; employees = Arrays.asList( new Employee("w1", 213, 1), new Employee("w2", 2142, 3), new Employee("w3", 212, 2), new Employee("w4", 2123, 21), new Employee("w5", 214, 2132421), new Employee("w6", 212, 2123421) ); 12345678910111213//ÈúÄÊ±ÇËé∑ÂèñÂΩìÂâçÂÖ¨Âè∏ÂëòÂ∑•Âπ¥ÈæÑÂ§ß‰∫é35ÁöÑÂëòÂ∑•‰ø°ÊÅØ public List&lt;Employee&gt; filterEmployees(List&lt;Employee&gt; list) &#123; //Áî≥Êòé‰∏Ä‰∏™listÈõÜÂêàÂ≠òÊîæ‰∏úË•ø List&lt;Employee&gt; emps = new ArrayList&lt;&gt;(); //2 ÈÅçÂéÜ for (Employee emp : list) &#123; if (emp.getAge() &gt;= 35) &#123; emps.add(emp); &#125; &#125; //ËøîÂõûÂõûÂéª return emps; &#125; 1234567@Test public void test() &#123; List&lt;Employee&gt; employ = filterEmployees(employees); for (Employee employee : employ) &#123; System.out.println(employee); &#125; &#125; 123456789public List&lt;Employee&gt; filterEmployee(List&lt;Employee&gt; list, Mypredicate&lt;Employee&gt; mp) &#123; List&lt;Employee&gt; employ = new ArrayList&lt;&gt;(); for (Employee employee : list) &#123; if (mp.test(employee)) &#123; employ.add(employee); &#125; &#125; return employ; &#125; 1234public interface Mypredicate&lt;T&gt; &#123; public boolean test(T t);&#125; 12345678910111213 // ÊñπÊ≥ï2 ÂåøÂêçÂÜÖÈÉ®Á±ª@Test public void teste() &#123; List&lt;Employee&gt; list = filterEmployee(employees, new Mypredicate&lt;Employee&gt;() &#123; @Override public boolean test(Employee o) &#123; return o.getSalary() &lt;= 90; &#125; &#125;); for (Employee employee : list) &#123; System.out.println(employee); &#125; &#125; 12345678//3 ÊñπÊ≥ï3 LambdaË°®ËææÂºè @Test public void t2est() &#123; List&lt;Employee&gt; employees = filterEmployee(this.employees, (e) -&gt; e.getSalary() &lt;= 90); employees.forEach(System.out::println); System.out.println("============================"); System.out.println(employees); &#125; 12345678910//‰ºòÂåñÊñπÂºè4 ÊâÄÊúâÁöÑÈÉΩÊ≤°Êúâ Âè™ÊúâÈõÜÂêàÊúâ @Test public void test7() &#123; employees.stream().filter((e) -&gt; e.getSalary() &gt;= 90) .limit(2) .forEach(System.out::println); employees.stream().map(Employee::getName).forEach(System.out::println); &#125; 2.Labbda Ë°®ËææÂºè 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104/* * ‰∏Ä„ÄÅLambda Ë°®ËææÂºèÁöÑÂü∫Á°ÄËØ≠Ê≥ïÔºöJava8‰∏≠ÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÊìç‰ΩúÁ¨¶ "-&gt;" ËØ•Êìç‰ΩúÁ¨¶Áß∞‰∏∫ÁÆ≠Â§¥Êìç‰ΩúÁ¨¶Êàñ Lambda Êìç‰ΩúÁ¨¶ * ÁÆ≠Â§¥Êìç‰ΩúÁ¨¶Â∞Ü Lambda Ë°®ËææÂºèÊãÜÂàÜÊàê‰∏§ÈÉ®ÂàÜÔºö * * Â∑¶‰æßÔºöLambda Ë°®ËææÂºèÁöÑÂèÇÊï∞ÂàóË°® * Âè≥‰æßÔºöLambda Ë°®ËææÂºè‰∏≠ÊâÄÈúÄÊâßË°åÁöÑÂäüËÉΩÔºå Âç≥ Lambda ‰Ωì * * ËØ≠Ê≥ïÊ†ºÂºè‰∏ÄÔºöÊó†ÂèÇÊï∞ÔºåÊó†ËøîÂõûÂÄº * () -&gt; System.out.println("Hello Lambda!"); * * ËØ≠Ê≥ïÊ†ºÂºè‰∫åÔºöÊúâ‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂπ∂‰∏îÊó†ËøîÂõûÂÄº * (x) -&gt; System.out.println(x) * * ËØ≠Ê≥ïÊ†ºÂºè‰∏âÔºöËã•Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂ∞èÊã¨Âè∑ÂèØ‰ª•ÁúÅÁï•‰∏çÂÜô * x -&gt; System.out.println(x) * * ËØ≠Ê≥ïÊ†ºÂºèÂõõÔºöÊúâ‰∏§‰∏™‰ª•‰∏äÁöÑÂèÇÊï∞ÔºåÊúâËøîÂõûÂÄºÔºåÂπ∂‰∏î Lambda ‰Ωì‰∏≠ÊúâÂ§öÊù°ËØ≠Âè• * Comparator&lt;Integer&gt; com = (x, y) -&gt; &#123; * System.out.println("ÂáΩÊï∞ÂºèÊé•Âè£"); * return Integer.compare(x, y); * &#125;; * * ËØ≠Ê≥ïÊ†ºÂºè‰∫îÔºöËã• Lambda ‰Ωì‰∏≠Âè™Êúâ‰∏ÄÊù°ËØ≠Âè•Ôºå return Âíå Â§ßÊã¨Âè∑ÈÉΩÂèØ‰ª•ÁúÅÁï•‰∏çÂÜô * Comparator&lt;Integer&gt; com = (x, y) -&gt; Integer.compare(x, y); * * ËØ≠Ê≥ïÊ†ºÂºèÂÖ≠ÔºöLambda Ë°®ËææÂºèÁöÑÂèÇÊï∞ÂàóË°®ÁöÑÊï∞ÊçÆÁ±ªÂûãÂèØ‰ª•ÁúÅÁï•‰∏çÂÜôÔºåÂõ†‰∏∫JVMÁºñËØëÂô®ÈÄöËøá‰∏ä‰∏ãÊñáÊé®Êñ≠Âá∫ÔºåÊï∞ÊçÆÁ±ªÂûãÔºåÂç≥‚ÄúÁ±ªÂûãÊé®Êñ≠‚Äù * (Integer x, Integer y) -&gt; Integer.compare(x, y); * * ‰∏äËÅîÔºöÂ∑¶Âè≥ÈÅá‰∏ÄÊã¨Âè∑ÁúÅ * ‰∏ãËÅîÔºöÂ∑¶‰æßÊé®Êñ≠Á±ªÂûãÁúÅ * Ê®™ÊâπÔºöËÉΩÁúÅÂàôÁúÅ * * ‰∫å„ÄÅLambda Ë°®ËææÂºèÈúÄË¶Å‚ÄúÂáΩÊï∞ÂºèÊé•Âè£‚ÄùÁöÑÊîØÊåÅ * ÂáΩÊï∞ÂºèÊé•Âè£ÔºöÊé•Âè£‰∏≠Âè™Êúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÁöÑÊé•Âè£ÔºåÁß∞‰∏∫ÂáΩÊï∞ÂºèÊé•Âè£„ÄÇ ÂèØ‰ª•‰ΩøÁî®Ê≥®Ëß£ @FunctionalInterface ‰øÆÈ•∞ * ÂèØ‰ª•Ê£ÄÊü•ÊòØÂê¶ÊòØÂáΩÊï∞ÂºèÊé•Âè£ */public class TestLambda2 &#123; @Test public void test1()&#123; int num = 0;//jdk 1.7 ÂâçÔºåÂøÖÈ°ªÊòØ final Runnable r = new Runnable() &#123; @Override public void run() &#123; System.out.println("Hello World!" + num); &#125; &#125;; r.run(); System.out.println("-------------------------------"); Runnable r1 = () -&gt; System.out.println("Hello Lambda!"); r1.run(); &#125; @Test public void test2()&#123; Consumer&lt;String&gt; con = x -&gt; System.out.println(x); con.accept("ÊàëÂ§ßÂ∞öÁ°ÖË∞∑Â®ÅÊ≠¶ÔºÅ"); &#125; @Test public void test3()&#123; Comparator&lt;Integer&gt; com = (x, y) -&gt; &#123; System.out.println("ÂáΩÊï∞ÂºèÊé•Âè£"); return Integer.compare(x, y); &#125;; &#125; @Test public void test4()&#123; Comparator&lt;Integer&gt; com = (x, y) -&gt; Integer.compare(x, y); &#125; @Test public void test5()&#123;// String[] strs;// strs = &#123;"aaa", "bbb", "ccc"&#125;; List&lt;String&gt; list = new ArrayList&lt;&gt;(); show(new HashMap&lt;&gt;()); &#125; public void show(Map&lt;String, Integer&gt; map)&#123; &#125; //ÈúÄÊ±ÇÔºöÂØπ‰∏Ä‰∏™Êï∞ËøõË°åËøêÁÆó @Test public void test6()&#123; Integer num = operation(100, (x) -&gt; x * x); System.out.println(num); System.out.println(operation(200, (y) -&gt; y + 200)); &#125; public Integer operation(Integer num, MyFun mf)&#123; return mf.getValue(num); &#125;&#125; Lambda ÁªÉ‰π†12345678910111213141516171819202122232425262728293031//Lambda Ë°®ËææÂºè ÁªÉ‰π† @Test public void test1() &#123; Collections.sort(emps, new Comparator&lt;Employee&gt;() &#123; @Override public int compare(Employee o1, Employee o2) &#123; if (o1.getAge() == o2.getAge()) &#123; return o1.getName().compareTo(o2.getName()); &#125; else &#123; return Integer.compare(o1.getAge(), o2.getAge()); &#125; &#125; &#125;); for (Employee employee : emps) &#123; System.out.println(employee + "Hello world"); &#125; &#125; @Test public void test11() &#123; Collections.sort(emps, (e1, e2) -&gt; &#123; if (e1.getAge() == e2.getAge()) &#123; return e1.getName().compareTo(e2.getName()); &#125; else &#123; return Integer.compare(e1.getAge(), e2.getAge()); &#125; &#125;); for (Employee emp : emps) &#123; System.out.println(emp); &#125; &#125; 1234567891011121314151617181920@FunctionalInterfacepublic interface MyFunction &#123; public String getValue(String str);&#125; //Áî®‰∫éÂ§ÑÁêÜÂ≠óÁ¨¶‰∏≤ public String strHandler(String str, MyFunction myFunction) &#123; return myFunction.getValue(str); &#125; @Test public void testMyFunction() &#123; String s = strHandler("Hello World", (str) -&gt; str.toUpperCase()); System.out.println(s); &#125; #3.java 8ÂõõÂ§ßÊ†∏ÂøÉÂÜÖÁΩÆÂáΩÊï∞ÂºèÊé•Âè£ https://blog.csdn.net/qq_38958113/article/details/82909615 Consumer Ê∂àË¥πÂûãÊé•Âè£12345678910//Consumer&lt;T&gt; Ê∂àË¥πÂûãÊé•Âè£ @Test public void test1() &#123; happy(20, (m) -&gt; System.out.println("Ê∂àË¥π" + m)); &#125; public void happy(double money, Consumer&lt;Double&gt; con) &#123; con.accept(money); &#125; Á¨îËÆ∞1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889/* * Java8 ÂÜÖÁΩÆÁöÑÂõõÂ§ßÊ†∏ÂøÉÂáΩÊï∞ÂºèÊé•Âè£ * * Consumer&lt;T&gt; : Ê∂àË¥πÂûãÊé•Âè£ * void accept(T t); * * Supplier&lt;T&gt; : ‰æõÁªôÂûãÊé•Âè£ * T get(); * * Function&lt;T, R&gt; : ÂáΩÊï∞ÂûãÊé•Âè£ * R apply(T t); * * Predicate&lt;T&gt; : Êñ≠Ë®ÄÂûãÊé•Âè£ * boolean test(T t); * */public class TestLambda3 &#123; //Predicate&lt;T&gt; Êñ≠Ë®ÄÂûãÊé•Âè£Ôºö @Test public void test4()&#123; List&lt;String&gt; list = Arrays.asList("Hello", "atguigu", "Lambda", "www", "ok"); List&lt;String&gt; strList = filterStr(list, (s) -&gt; s.length() &gt; 3); for (String str : strList) &#123; System.out.println(str); &#125; &#125; //ÈúÄÊ±ÇÔºöÂ∞ÜÊª°Ë∂≥Êù°‰ª∂ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊîæÂÖ•ÈõÜÂêà‰∏≠ public List&lt;String&gt; filterStr(List&lt;String&gt; list, Predicate&lt;String&gt; pre)&#123; List&lt;String&gt; strList = new ArrayList&lt;&gt;(); for (String str : list) &#123; if(pre.test(str))&#123; strList.add(str); &#125; &#125; return strList; &#125; //Function&lt;T, R&gt; ÂáΩÊï∞ÂûãÊé•Âè£Ôºö @Test public void test3()&#123; String newStr = strHandler("\t\t\t ÊàëÂ§ßÂ∞öÁ°ÖË∞∑Â®ÅÊ≠¶ ", (str) -&gt; str.trim()); System.out.println(newStr); String subStr = strHandler("ÊàëÂ§ßÂ∞öÁ°ÖË∞∑Â®ÅÊ≠¶", (str) -&gt; str.substring(2, 5)); System.out.println(subStr); &#125; //ÈúÄÊ±ÇÔºöÁî®‰∫éÂ§ÑÁêÜÂ≠óÁ¨¶‰∏≤ public String strHandler(String str, Function&lt;String, String&gt; fun)&#123; return fun.apply(str); &#125; //Supplier&lt;T&gt; ‰æõÁªôÂûãÊé•Âè£ : @Test public void test2()&#123; List&lt;Integer&gt; numList = getNumList(10, () -&gt; (int)(Math.random() * 100)); for (Integer num : numList) &#123; System.out.println(num); &#125; &#125; //ÈúÄÊ±ÇÔºö‰∫ßÁîüÊåáÂÆö‰∏™Êï∞ÁöÑÊï¥Êï∞ÔºåÂπ∂ÊîæÂÖ•ÈõÜÂêà‰∏≠ public List&lt;Integer&gt; getNumList(int num, Supplier&lt;Integer&gt; sup)&#123; List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; num; i++) &#123; Integer n = sup.get(); list.add(n); &#125; return list; &#125; //Consumer&lt;T&gt; Ê∂àË¥πÂûãÊé•Âè£ : @Test public void test1()&#123; happy(10000, (m) -&gt; System.out.println("‰Ω†‰ª¨ÂàöÂì•ÂñúÊ¨¢Â§ßÂÆùÂâëÔºåÊØèÊ¨°Ê∂àË¥πÔºö" + m + "ÂÖÉ")); &#125; public void happy(double money, Consumer&lt;Double&gt; con)&#123; con.accept(money); &#125;&#125; 4.ÊñπÊ≥ïÂºïÁî®‰∏éÊûÑÈÄ†Ëµ∑ÂºïÁî® 5.Stream 123456789101112131415161718192021222324252627282930/** * ‰∏Ä„ÄÇStream ÁöÑ‰∏â‰∏™Êìç‰ΩúÊ≠•È™§ * &lt;p&gt; * 1.ÂàõÂª∫Stream * 2„ÄÇ‰∏≠Èó¥Êìç‰Ωú * 3„ÄÇÁªàÊ≠¢Êìç‰ΩúÔºàÁªàÁ´ØÊìç‰ΩúÔºâ */public class TestStreamAPi &#123; //ÂàõÂª∫Stream @Test public void test1() &#123;//1.ÂèØ‰ª•ÈÄöËøáCollectionÁ≥ªÂàóÈõÜÂêàÊèê‰æõÁöÑStreamÔºàÔºâÊàñparallelStream() List&lt;String&gt; list = new ArrayList&lt;&gt;(); Stream&lt;String&gt; stream1 = list.stream();//2.ÈÄöËøáArrays‰∏≠ÁöÑÈùôÊÄÅÊñπÊ≥ïstreamÔºàÔºâËé∑ÂèñÊï∞ÁªÑÊµÅ Employee[] emps = new Employee[10]; Stream&lt;Employee&gt; stream2 = Arrays.stream(emps);//3.ÈÄöËøáStream‰∏≠ÁöÑÈùôÊÄÅÊñπÊ≥ï of() Stream&lt;String&gt; stream3 = Stream.of("aa", "bb", "bb");//4 ÂàõÂª∫Êó†ÈôêÊµÅ //Ëø≠‰ª£ Stream&lt;Integer&gt; stream4 = Stream.iterate(0, (x) -&gt; x + 2); stream4.limit(4).forEach(System.out::println); //ÁîüÊàê Stream.generate(() -&gt; Math.random()).limit(14).forEach(System.out::println); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class TestStreamApi2 &#123; List&lt;Employee&gt; employees = Arrays.asList( new Employee(102, "ÊùéÂõõ", 59, 6666), new Employee(101, "Âº†‰∏â", 18, 9999), new Employee(103, "Áéã‰∫î", 28, 3333), new Employee(104, "ËµµÂÖ≠", 8, 7777) ); //‰∏≠Èó¥Êìç‰Ωú /** * 1 filter--Êé•ÂèóLambda ‰ªéÂÖ≠ÁßçÊéíÈô§Êüê‰∫õÂÖÉÁ¥† * 2 limit --Êà™Êñ≠ÊµÅ ‰ΩøÂÖ∂ÂÖÉÁ¥†‰∏çË∂ÖËøáÁªôÂÆöÊï∞Èáè * 3 skip(n)--Ë∑≥ËøáÂÖÉÁ¥† ËøîÂõû‰∏Ä‰∏™ÊâîÊéâ‰∫ÜÂâçn‰∏™ÂÖÉÁ¥†ÁöÑÊµÅ ËØ∫ÊµÅ‰∏≠ÂÖÉÁ¥†‰∏çË∂≥n‰∏™ Âàô * ËøîÂõû‰∏Ä‰∏™Á©∫ÊµÅ ‰∏élimitÔºànÔºâ‰∫íË°• * 4 distinct--- Á≠õÈÄâ ÈÄöËøáÊµÅÊâÄÁîüÊàêÂÖÉÁ¥†ÁöÑhashCodeÔºàÔºâÂíåequals()ÂéªÈô§ÈáçÂ§çÂÖÉÁ¥† */ //ÂÜÖÈÉ®Ëø≠‰ª£ Ëø≠‰ª£Áî±Stream API ÂÆåÊàê @Test public void test1() &#123; //‰∏≠Èó¥Êìç‰ΩúÔºö‰∏ç‰ºöÊâßË°å‰ªª‰ΩïÊìç‰Ωú Stream&lt;Employee&gt; employeeStream = employees.stream().filter((e) -&gt; &#123; return e.getAge() &gt; 35; &#125;); //ÁªàÊ≠¢Êìç‰ΩúÔºö‰∏ÄÊ¨°ÊÄßÊâßË°åÂÖ®ÈÉ®ÂÜÖÂÆπ Âç≥ÊÉ∞ÊÄßÊ±ÇÂÄº employeeStream.forEach(System.out::println); &#125; //Â§ñÈÉ®Ëø≠‰ª£ @Test public void test2() &#123; Iterator&lt;Employee&gt; iterator = employees.iterator(); while (iterator.hasNext()) &#123; System.out.println(iterator); &#125; &#125; @Test public void test3() &#123; employees.stream().filter((e) -&gt; &#123; return e.getSalary() &gt; 20; &#125;).limit(2) .forEach(System.out::println); &#125; @Test public void test4() &#123; employees.stream().filter((e) -&gt; &#123; return e.getSalary() &gt; 5000; &#125;).skip(2).forEach(System.out::println); &#125; @Test public void test5() &#123; employees.stream().filter((e) -&gt; &#123; return e.getSalary() &gt; 90; &#125;).skip(2).distinct().forEach(System.out::println); &#125; //distinct ÈáçÂÜôequales Âíåhashcode 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class TestStreamApi3 &#123; List&lt;Employee&gt; employees = Arrays.asList( new Employee(102, "ÊùéÂõõ", 59, 6666), new Employee(101, "Âº†‰∏â", 18, 9999), new Employee(103, "Áéã‰∫î", 28, 3333), new Employee(104, "ËµµÂÖ≠", 8, 7777) ); //2. ‰∏≠Èó¥Êìç‰Ωú /* Êò†Â∞Ñ map‚Äî‚ÄîÊé•Êî∂ Lambda Ôºå Â∞ÜÂÖÉÁ¥†ËΩ¨Êç¢ÊàêÂÖ∂‰ªñÂΩ¢ÂºèÊàñÊèêÂèñ‰ø°ÊÅØ„ÄÇ Êé•Êî∂‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåËØ•ÂáΩÊï∞‰ºöË¢´Â∫îÁî®Âà∞ÊØè‰∏™ÂÖÉÁ¥†‰∏äÔºå Âπ∂Â∞ÜÂÖ∂Êò†Â∞ÑÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†„ÄÇ flatMap‚Äî‚ÄîÊé•Êî∂‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂ∞ÜÊµÅ‰∏≠ÁöÑÊØè‰∏™ÂÄºÈÉΩÊç¢ÊàêÂè¶‰∏Ä‰∏™ÊµÅÔºåÁÑ∂ÂêéÊääÊâÄÊúâÊµÅËøûÊé•Êàê‰∏Ä‰∏™ÊµÅ */ @Test public void test1() &#123; List&lt;String&gt; list = Arrays.asList("a", "vc", "va"); list.stream().map((str) -&gt; str.toUpperCase()).forEach(System.out::println); System.out.println("........................"); employees.stream().map( Employee::getAge ).forEach(System.out::println); System.out.println("........................"); Stream&lt;Stream&lt;Character&gt;&gt; streamStream = list.stream().map(TestStreamApi3::filterCharcter); streamStream.forEach((sm) -&gt; &#123; sm.forEach(System.out::println); &#125;); System.out.println("........................"); Stream&lt;Character&gt; characterStream = list.stream().flatMap(TestStreamApi3::filterCharcter); &#125; @Test public static Stream&lt;Character&gt; filterCharcter(String str) &#123; List&lt;Character&gt; list = new ArrayList&lt;&gt;(); for (Character ch : str.toCharArray()) &#123; list.add(ch); &#125; return list.stream(); &#125;&#125; 6 ÊéíÂ∫è 7 StreamÁªàÊ≠¢Êìç‰Ωú 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667public class demo1 &#123; List&lt;Employee&gt; emps = Arrays.asList( new Employee(102, "ÊùéÂõõ", 79, 6666.66, Employee.Status.BUSY), new Employee(101, "Âº†‰∏â", 18, 9999.99, Employee.Status.FREE), new Employee(103, "Áéã‰∫î", 28, 3333.33, Employee.Status.VOCATION), new Employee(104, "ËµµÂÖ≠", 8, 7777.77, Employee.Status.BUSY), new Employee(104, "ËµµÂÖ≠", 8, 7777.77, Employee.Status.FREE), new Employee(104, "ËµµÂÖ≠", 8, 7777.77, Employee.Status.FREE), new Employee(105, "Áî∞‰∏É", 38, 5555.55, Employee.Status.BUSY) ); public static void main(String[] args) &#123; &#125; @Test public void test1() &#123; List&lt;String&gt; list = Arrays.asList("ccc", "aaa", "bbb"); list.stream().sorted().forEach(System.out::println); &#125; /* Êü•Êâæ‰∏éÂåπÈÖçÔºö allMath:--Ê£ÄÊü•ÊòØÂê¶ÂåπÈÖçÊâÄÊúâÂÖÉÁ¥† anyMatch:--Ê£ÄÊü•ÊòØÂê¶Ëá≥Â∞ëÂåπÈÖç‰∏Ä‰∏™ÂÖÉÁ¥† noneMatch:--Ê£ÄÊü•ÊòØÂê¶Ê≤°ÊúâÂåπÈÖçÊâÄÊúâÂÖÉÁ¥† findFirst--ËøîÂõûÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥† findAny--ËøîÂõûÂΩìÂâçÊµÅ‰∏≠ÁöÑ‰ªªÊÑèÂÖÉÁ¥† count--ËøîÂõûÊµÅ‰∏≠ÂÖÉÁ¥†ÁöÑÊÄª‰∏™Êï∞ max--ËøîÂõûÊµÅ‰∏≠ÊúÄÂ§ßÂÄº min--ËøîÂõûÊµÅ‰∏≠ÊúÄÂ∞èÂÄº */ @Test public void test12() &#123; boolean b1 = emps.stream().allMatch((e) -&gt; e.getStatus().equals(Employee.Status.BUSY)); System.out.print(b1); boolean b2 = emps.stream().anyMatch((e) -&gt; e.getStatus().equals(Employee.Status.BUSY)); System.out.print(b2); boolean b3 = emps.stream().noneMatch((e) -&gt; e.getStatus().equals(Employee.Status.BUSY)); System.out.print(b3); Optional&lt;Employee&gt; first = emps.stream().sorted((e1, e2) -&gt; Double.compare(e1.getSalary(), e2.getSalary())).findFirst(); System.out.println(first.get()); Optional&lt;Employee&gt; op2 = emps.stream().filter((e) -&gt; e.getStatus().equals(Employee.Status.BUSY)) .findAny(); System.out.println(op2.get()); &#125; @Test public void test2() &#123; long count = emps.stream().count(); System.out.println(count); Optional&lt;Employee&gt; max = emps.stream().max((e1, e2) -&gt; Double.compare(e1.getSalary(), e2.getSalary())); System.out.println(max.get()); Optional&lt;Double&gt; min = emps.stream().map((Employee::getSalary)).min(Double::compare); System.out.println(min.get()); &#125; 8 ÂΩíÁ∫¶‰∏éÊî∂ÈõÜ 12345678@Testpublic void test3() &#123; Optional&lt;Double&gt; reduce = emps.stream().map(Employee::getSalary).reduce(Double::max); Double aDouble = reduce.get(); System.out.println(aDouble); &#125; 1234567@Testpublic void test4() &#123; List&lt;String&gt; collect = emps.stream().map(Employee::getName).collect(Collectors.toList()); collect.forEach(System.out::println); Set&lt;String&gt; collect1 = emps.stream().map(Employee::getName).collect(Collectors.toSet()); collect1.forEach(System.out::println);&#125; 9]]></content>
      <categories>
        <category>java8</category>
      </categories>
      <tags>
        <tag>java8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Áîü‰∫ßËÄÖ ÊúçÂä°Á´Ø Ê∂àË¥πËÄÖÂÆ¢Êà∑Á´Ø]]></title>
    <url>%2F2019%2F03%2F15%2FSpringCloud%2F%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20%E6%9C%8D%E5%8A%A1%E7%AB%AF%2F</url>
    <content type="text"><![CDATA[ClientÊ∂àË¥πÁ´Ø Ê∂àË¥πÁ´Ø 12consumer: Ë∞ÉÁî®Êñπ Ê∂àË¥πËÄÖ ÂÆ¢Êà∑Á´Ø client provider: Ë¢´Ë∞ÉÁî®Êñπ Êèê‰æõËÄÖ ÊúçÂä°Á´Ø service]]></content>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JsonUtil]]></title>
    <url>%2F2019%2F03%2F15%2F%E5%B7%A5%E5%85%B7%E7%B1%BB%F0%9F%94%A7%2FJsonUtil%2F</url>
    <content type="text"><![CDATA[12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879package com.leyou.httpdemo;import com.fasterxml.jackson.core.JsonProcessingException;import com.fasterxml.jackson.core.type.TypeReference;import com.fasterxml.jackson.databind.ObjectMapper;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.lang.Nullable;import java.io.IOException;import java.util.List;import java.util.Map;/** * @author: HuYi.Zhang * @create: 2018-04-24 17:20 **/public class JsonUtils &#123; public static final ObjectMapper mapper = new ObjectMapper(); private static final Logger logger = LoggerFactory.getLogger(JsonUtils.class); @Nullable public static String serialize(Object obj) &#123; if (obj == null) &#123; return null; &#125; if (obj.getClass() == String.class) &#123; return (String) obj; &#125; try &#123; return mapper.writeValueAsString(obj); &#125; catch (JsonProcessingException e) &#123; logger.error("jsonÂ∫èÂàóÂåñÂá∫ÈîôÔºö" + obj, e); return null; &#125; &#125; @Nullable public static &lt;T&gt; T parse(String json, Class&lt;T&gt; tClass) &#123; try &#123; return mapper.readValue(json, tClass); &#125; catch (IOException e) &#123; logger.error("jsonËß£ÊûêÂá∫ÈîôÔºö" + json, e); return null; &#125; &#125; @Nullable public static &lt;E&gt; List&lt;E&gt; parseList(String json, Class&lt;E&gt; eClass) &#123; try &#123; return mapper.readValue(json, mapper.getTypeFactory().constructCollectionType(List.class, eClass)); &#125; catch (IOException e) &#123; logger.error("jsonËß£ÊûêÂá∫ÈîôÔºö" + json, e); return null; &#125; &#125; @Nullable public static &lt;K, V&gt; Map&lt;K, V&gt; parseMap(String json, Class&lt;K&gt; kClass, Class&lt;V&gt; vClass) &#123; try &#123; return mapper.readValue(json, mapper.getTypeFactory().constructMapType(Map.class, kClass, vClass)); &#125; catch (IOException e) &#123; logger.error("jsonËß£ÊûêÂá∫ÈîôÔºö" + json, e); return null; &#125; &#125; @Nullable public static &lt;T&gt; T nativeRead(String json, TypeReference&lt;T&gt; type) &#123; try &#123; return mapper.readValue(json, type); &#125; catch (IOException e) &#123; logger.error("jsonËß£ÊûêÂá∫ÈîôÔºö" + json, e); return null; &#125; &#125;&#125;]]></content>
      <categories>
        <category>JsonUtil</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[HttpClient]]></title>
    <url>%2F2019%2F03%2F15%2F%E5%B7%A5%E5%85%B7%E7%B1%BB%F0%9F%94%A7%2FHttpClient%2F</url>
    <content type="text"><![CDATA[HttpClientpom12345&lt;dependency&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;artifactId&gt;httpclient&lt;/artifactId&gt; &lt;version&gt;4.5.1&lt;/version&gt; &lt;/dependency&gt; 123456789public class User implements Serializable &#123; private static final long serialVersionUID = 1L; private Long id; // Áî®Êà∑Âêç private String userName; // ÂØÜÁ†Å private String password; // ÂßìÂêç private String name; 1234567891011121314@RunWith(SpringRunner.class)@SpringBootTest(classes = HttpDemoApplication.class)public class HttpDemoApplicationTests &#123; @Autowired private RestTemplate restTemplate; @Test public void httpGet() &#123; User user = this.restTemplate.getForObject("http://localhost/hello", User.class); System.out.println(user); &#125;&#125; 12345678910111213141516171819202122232425262728293031public class HttpTests &#123; CloseableHttpClient httpClient; @Before public void init() &#123; httpClient = HttpClients.createDefault(); &#125; @Test public void testGet() throws IOException &#123; HttpGet request = new HttpGet("http://www.baidu.com"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response); &#125; @Test public void testPost() throws IOException &#123; HttpGet request = new HttpGet("http://www.oschina.net/"); request.setHeader("User-Agent", "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response); &#125; @Test public void testGetPojo() throws IOException &#123; HttpGet request = new HttpGet("http://localhost/hello"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response); &#125;&#125; https://www.jianshu.com/p/375be5929bed ‚Äî- https://www.cnblogs.com/ITtangtang/p/3968093.html https://www.cnblogs.com/bethunebtj/p/8493379.html]]></content>
      <categories>
        <category>Â∑•ÂÖ∑Á±ª</category>
      </categories>
      <tags>
        <tag>Â∑•ÂÖ∑Á±ª</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â∞öÁ°ÖË∞∑ Dubbo Èõ∑‰∏∞Èò≥ËÆ≤‰πâ]]></title>
    <url>%2F2019%2F03%2F14%2FDubbo%2F%E5%B0%9A%E7%A1%85%E8%B0%B7%20Dubbo%20%E9%9B%B7%E4%B8%B0%E9%98%B3%E8%AE%B2%E4%B9%89%2F</url>
    <content type="text"><![CDATA[Â∞öÁ°ÖË∞∑ Dubbo Èõ∑‰∏∞Èò≥ËÆ≤‰πâboot-order-service-consumer12345678910111213@Controllerpublic class OrderController &#123; @Autowired OrderService orderService; @ResponseBody @RequestMapping("/initOrder") public List&lt;UserAddress&gt; initOrder(@RequestParam("uid")String userId) &#123; return orderService.initOrder(userId); &#125;&#125; 123456789@EnableDubbo@EnableHystrix@SpringBootApplicationpublic class BootOrderServiceConsumerApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(BootOrderServiceConsumerApplication.class, args); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435/** * 1„ÄÅÂ∞ÜÊúçÂä°Êèê‰æõËÄÖÊ≥®ÂÜåÂà∞Ê≥®ÂÜå‰∏≠ÂøÉÔºàÊö¥Èú≤ÊúçÂä°Ôºâ * 1Ôºâ„ÄÅÂØºÂÖ•dubbo‰æùËµñÔºà2.6.2Ôºâ\Êìç‰ΩúzookeeperÁöÑÂÆ¢Êà∑Á´Ø(curator) * 2Ôºâ„ÄÅÈÖçÁΩÆÊúçÂä°Êèê‰æõËÄÖ * * 2„ÄÅËÆ©ÊúçÂä°Ê∂àË¥πËÄÖÂéªÊ≥®ÂÜå‰∏≠ÂøÉËÆ¢ÈòÖÊúçÂä°Êèê‰æõËÄÖÁöÑÊúçÂä°Âú∞ÂùÄ * @author lfy * */@Servicepublic class OrderServiceImpl implements OrderService &#123; //@Autowired @Reference(loadbalance="random",timeout=1000) //dubboÁõ¥Ëøû UserService userService; @HystrixCommand(fallbackMethod="hello") @Override public List&lt;UserAddress&gt; initOrder(String userId) &#123; // TODO Auto-generated method stub System.out.println("Áî®Êà∑idÔºö"+userId); //1„ÄÅÊü•ËØ¢Áî®Êà∑ÁöÑÊî∂Ë¥ßÂú∞ÂùÄ List&lt;UserAddress&gt; addressList = userService.getUserAddressList(userId); return addressList; &#125; public List&lt;UserAddress&gt; hello(String userId) &#123; // TODO Auto-generated method stub return Arrays.asList(new UserAddress(10, "ÊµãËØïÂú∞ÂùÄ", "1", "ÊµãËØï", "ÊµãËØï", "Y")); &#125; &#125; 12345server.port=8081dubbo.application.name=boot-order-service-consumerdubbo.registry.address=zookeeper://127.0.0.1:2181dubbo.monitor.protocol=registry boot-user-service-provider12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758@Configurationpublic class MyDubboConfig &#123; @Bean public ApplicationConfig applicationConfig() &#123; ApplicationConfig applicationConfig = new ApplicationConfig(); applicationConfig.setName("boot-user-service-provider"); return applicationConfig; &#125; //&lt;dubbo:registry protocol="zookeeper" address="127.0.0.1:2181"&gt;&lt;/dubbo:registry&gt; @Bean public RegistryConfig registryConfig() &#123; RegistryConfig registryConfig = new RegistryConfig(); registryConfig.setProtocol("zookeeper"); registryConfig.setAddress("127.0.0.1:2181"); return registryConfig; &#125; //&lt;dubbo:protocol name="dubbo" port="20882"&gt;&lt;/dubbo:protocol&gt; @Bean public ProtocolConfig protocolConfig() &#123; ProtocolConfig protocolConfig = new ProtocolConfig(); protocolConfig.setName("dubbo"); protocolConfig.setPort(20882); return protocolConfig; &#125; /** *&lt;dubbo:service interface="com.atguigu.gmall.service.UserService" ref="userServiceImpl01" timeout="1000" version="1.0.0"&gt; &lt;dubbo:method name="getUserAddressList" timeout="1000"&gt;&lt;/dubbo:method&gt; &lt;/dubbo:service&gt; */ @Bean public ServiceConfig&lt;UserService&gt; userServiceConfig(UserService userService)&#123; ServiceConfig&lt;UserService&gt; serviceConfig = new ServiceConfig&lt;&gt;(); serviceConfig.setInterface(UserService.class); serviceConfig.setRef(userService); serviceConfig.setVersion("1.0.0"); //ÈÖçÁΩÆÊØè‰∏Ä‰∏™methodÁöÑ‰ø°ÊÅØ MethodConfig methodConfig = new MethodConfig(); methodConfig.setName("getUserAddressList"); methodConfig.setTimeout(1000); //Â∞ÜmethodÁöÑËÆæÁΩÆÂÖ≥ËÅîÂà∞serviceÈÖçÁΩÆ‰∏≠ List&lt;MethodConfig&gt; methods = new ArrayList&lt;&gt;(); methods.add(methodConfig); serviceConfig.setMethods(methods); //ProviderConfig //MonitorConfig return serviceConfig; &#125;&#125; 123456789101112131415161718192021222324/** * 1„ÄÅÂØºÂÖ•‰æùËµñÔºõ * 1Ôºâ„ÄÅÂØºÂÖ•dubbo-starter * 2Ôºâ„ÄÅÂØºÂÖ•dubboÁöÑÂÖ∂‰ªñ‰æùËµñ * @author lfy * * SpringBoot‰∏édubboÊï¥ÂêàÁöÑ‰∏âÁßçÊñπÂºèÔºö * 1Ôºâ„ÄÅÂØºÂÖ•dubbo-starterÔºåÂú®application.propertiesÈÖçÁΩÆÂ±ûÊÄßÔºå‰ΩøÁî®@Service„ÄêÊö¥Èú≤ÊúçÂä°„Äë‰ΩøÁî®@Reference„ÄêÂºïÁî®ÊúçÂä°„Äë * 2Ôºâ„ÄÅ‰øùÁïôdubbo xmlÈÖçÁΩÆÊñá‰ª∂; * ÂØºÂÖ•dubbo-starterÔºå‰ΩøÁî®@ImportResourceÂØºÂÖ•dubboÁöÑÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØ * 3Ôºâ„ÄÅ‰ΩøÁî®Ê≥®Ëß£APIÁöÑÊñπÂºèÔºö * Â∞ÜÊØè‰∏Ä‰∏™ÁªÑ‰ª∂ÊâãÂä®ÂàõÂª∫Âà∞ÂÆπÂô®‰∏≠,ËÆ©dubboÊù•Êâ´ÊèèÂÖ∂‰ªñÁöÑÁªÑ‰ª∂ *///@EnableDubbo //ÂºÄÂêØÂü∫‰∫éÊ≥®Ëß£ÁöÑdubboÂäüËÉΩ//@ImportResource(locations="classpath:provider.xml")@EnableDubbo(scanBasePackages="com.atguigu.gmall")@EnableHystrix //ÂºÄÂêØÊúçÂä°ÂÆπÈîô@SpringBootApplicationpublic class BootUserServiceProviderApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(BootUserServiceProviderApplication.class, args); &#125;&#125; 1234567891011121314151617181920212223@Service//Êö¥Èú≤ÊúçÂä° @Componentpublic class UserServiceImpl implements UserService &#123; @HystrixCommand @Override public List&lt;UserAddress&gt; getUserAddressList(String userId) &#123; // TODO Auto-generated method stub System.out.println("UserServiceImpl..3....."); UserAddress address1 = new UserAddress(1, "Âåó‰∫¨Â∏ÇÊòåÂπ≥Âå∫ÂÆèÁ¶èÁßëÊäÄÂõ≠ÁªºÂêàÊ•º3Â±Ç", "1", "ÊùéËÄÅÂ∏à", "010-56253825", "Y"); UserAddress address2 = new UserAddress(2, "Ê∑±Âú≥Â∏ÇÂÆùÂÆâÂå∫Ë•øÈÉ®Á°ÖË∞∑Â§ßÂé¶BÂ∫ß3Â±ÇÔºàÊ∑±Âú≥ÂàÜÊ†°Ôºâ", "1", "ÁéãËÄÅÂ∏à", "010-56253825", "N");// try &#123;// Thread.sleep(2000);// &#125; catch (InterruptedException e) &#123;// e.printStackTrace();// &#125; if(Math.random()&gt;0.5) &#123; throw new RuntimeException(); &#125; return Arrays.asList(address1,address2); &#125;&#125; 1234567#dubbo.application.name=user-service-provider#dubbo.registry.address=127.0.0.1:2181#dubbo.registry.protocol=zookeeper#dubbo.protocol.name=dubbo##dubbo.protocol.port=20881#dubbo.monitor.protocol=registry##dubbo.scan.base-packages=com.atguigu.gmall 1dubbo.protocol.port=20882 123456789101112131415161718192021222324252627282930313233343536&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&gt; &lt;!-- 1„ÄÅÊåáÂÆöÂΩìÂâçÊúçÂä°/Â∫îÁî®ÁöÑÂêçÂ≠óÔºàÂêåÊ†∑ÁöÑÊúçÂä°ÂêçÂ≠óÁõ∏ÂêåÔºå‰∏çË¶ÅÂíåÂà´ÁöÑÊúçÂä°ÂêåÂêçÔºâ --&gt; &lt;dubbo:application name=&quot;boot-user-service-provider&quot;&gt;&lt;/dubbo:application&gt; &lt;!-- 2„ÄÅÊåáÂÆöÊ≥®ÂÜå‰∏≠ÂøÉÁöÑ‰ΩçÁΩÆ --&gt; &lt;!-- &lt;dubbo:registry address=&quot;zookeeper://127.0.0.1:2181&quot;&gt;&lt;/dubbo:registry&gt; --&gt; &lt;dubbo:registry protocol=&quot;zookeeper&quot; address=&quot;127.0.0.1:2181&quot;&gt;&lt;/dubbo:registry&gt; &lt;!-- 3„ÄÅÊåáÂÆöÈÄö‰ø°ËßÑÂàôÔºàÈÄö‰ø°ÂçèËÆÆÔºüÈÄö‰ø°Á´ØÂè£Ôºâ --&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20882&quot;&gt;&lt;/dubbo:protocol&gt; &lt;!-- 4„ÄÅÊö¥Èú≤ÊúçÂä° refÔºöÊåáÂêëÊúçÂä°ÁöÑÁúüÊ≠£ÁöÑÂÆûÁé∞ÂØπË±° --&gt; &lt;dubbo:service interface=&quot;com.atguigu.gmall.service.UserService&quot; ref=&quot;userServiceImpl01&quot; timeout=&quot;1000&quot; version=&quot;1.0.0&quot;&gt; &lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt; &lt;/dubbo:service&gt; &lt;!--Áªü‰∏ÄËÆæÁΩÆÊúçÂä°Êèê‰æõÊñπÁöÑËßÑÂàô --&gt; &lt;dubbo:provider timeout=&quot;1000&quot;&gt;&lt;/dubbo:provider&gt; &lt;!-- ÊúçÂä°ÁöÑÂÆûÁé∞ --&gt; &lt;bean id=&quot;userServiceImpl01&quot; class=&quot;com.atguigu.gmall.service.impl.UserServiceImpl&quot;&gt;&lt;/bean&gt; &lt;!-- ËøûÊé•ÁõëÊéß‰∏≠ÂøÉ --&gt; &lt;dubbo:monitor protocol=&quot;registry&quot;&gt;&lt;/dubbo:monitor&gt; &lt;/beans&gt; gmall-interface12345678public class UserAddress implements Serializable &#123; private Integer id; private String userAddress; //Áî®Êà∑Âú∞ÂùÄ private String userId; //Áî®Êà∑id private String consignee; //Êî∂Ë¥ß‰∫∫ private String phoneNum; //ÁîµËØùÂè∑Á†Å private String isDefault; //ÊòØÂê¶‰∏∫ÈªòËÆ§Âú∞ÂùÄ Y-ÊòØ N-Âê¶ 123456789public interface OrderService &#123; /** * ÂàùÂßãÂåñËÆ¢Âçï * @param userId */ public List&lt;UserAddress&gt; initOrder(String userId);&#125; 12345678910111213 /** * Áî®Êà∑ÊúçÂä° */public interface UserService &#123; /** * ÊåâÁÖßÁî®Êà∑idËøîÂõûÊâÄÊúâÁöÑÊî∂Ë¥ßÂú∞ÂùÄ * @param userId * @return */ public List&lt;UserAddress&gt; getUserAddressList(String userId);&#125; order-service-consumer1234567891011121314public class MainApplication &#123; @SuppressWarnings(&quot;resource&quot;) public static void main(String[] args) throws IOException &#123; ClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;consumer.xml&quot;); OrderService orderService = applicationContext.getBean(OrderService.class); orderService.initOrder(&quot;1&quot;); System.out.println(&quot;Ë∞ÉÁî®ÂÆåÊàê....&quot;); System.in.read(); &#125;&#125; 123456789101112131415161718192021222324252627/** * 1„ÄÅÂ∞ÜÊúçÂä°Êèê‰æõËÄÖÊ≥®ÂÜåÂà∞Ê≥®ÂÜå‰∏≠ÂøÉÔºàÊö¥Èú≤ÊúçÂä°Ôºâ * 1Ôºâ„ÄÅÂØºÂÖ•dubbo‰æùËµñÔºà2.6.2Ôºâ\Êìç‰ΩúzookeeperÁöÑÂÆ¢Êà∑Á´Ø(curator) * 2Ôºâ„ÄÅÈÖçÁΩÆÊúçÂä°Êèê‰æõËÄÖ * * 2„ÄÅËÆ©ÊúçÂä°Ê∂àË¥πËÄÖÂéªÊ≥®ÂÜå‰∏≠ÂøÉËÆ¢ÈòÖÊúçÂä°Êèê‰æõËÄÖÁöÑÊúçÂä°Âú∞ÂùÄ * @author lfy * */@Servicepublic class OrderServiceImpl implements OrderService &#123; @Autowired UserService userService; @Override public List&lt;UserAddress&gt; initOrder(String userId) &#123; // TODO Auto-generated method stub System.out.println("Áî®Êà∑idÔºö"+userId); //1„ÄÅÊü•ËØ¢Áî®Êà∑ÁöÑÊî∂Ë¥ßÂú∞ÂùÄ List&lt;UserAddress&gt; addressList = userService.getUserAddressList(userId); for (UserAddress userAddress : addressList) &#123; System.out.println(userAddress.getUserAddress()); &#125; return addressList; &#125; &#125; 1234567891011121314151617181920212223242526272829303132333435363738&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://dubbo.apache.org/schema/dubbo" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"&gt; &lt;context:component-scan base-package="com.atguigu.gmall.service.impl"&gt;&lt;/context:component-scan&gt; &lt;dubbo:application name="order-service-consumer"&gt;&lt;/dubbo:application&gt; &lt;dubbo:registry address="zookeeper://127.0.0.1:2181"&gt;&lt;/dubbo:registry&gt; &lt;!-- ÈÖçÁΩÆÊú¨Âú∞Â≠òÊ†π--&gt; &lt;!--Â£∞ÊòéÈúÄË¶ÅË∞ÉÁî®ÁöÑËøúÁ®ãÊúçÂä°ÁöÑÊé•Âè£ÔºõÁîüÊàêËøúÁ®ãÊúçÂä°‰ª£ÁêÜ --&gt; &lt;!-- 1Ôºâ„ÄÅÁ≤æÁ°Æ‰ºòÂÖà (ÊñπÊ≥ïÁ∫ß‰ºòÂÖàÔºåÊé•Âè£Á∫ßÊ¨°‰πãÔºåÂÖ®Â±ÄÈÖçÁΩÆÂÜçÊ¨°‰πã) 2Ôºâ„ÄÅÊ∂àË¥πËÄÖËÆæÁΩÆ‰ºòÂÖà(Â¶ÇÊûúÁ∫ßÂà´‰∏ÄÊ†∑ÔºåÂàôÊ∂àË¥πÊñπ‰ºòÂÖàÔºåÊèê‰æõÊñπÊ¨°‰πã) --&gt; &lt;!-- timeout="0" ÈªòËÆ§ÊòØ1000ms--&gt; &lt;!-- retries="":ÈáçËØïÊ¨°Êï∞Ôºå‰∏çÂåÖÂê´Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®Ôºå0‰ª£Ë°®‰∏çÈáçËØï--&gt; &lt;!-- ÂπÇÁ≠âÔºàËÆæÁΩÆÈáçËØïÊ¨°Êï∞Ôºâ„ÄêÊü•ËØ¢„ÄÅÂà†Èô§„ÄÅ‰øÆÊîπ„Äë„ÄÅÈùûÂπÇÁ≠âÔºà‰∏çËÉΩËÆæÁΩÆÈáçËØïÊ¨°Êï∞Ôºâ„ÄêÊñ∞Â¢û„Äë --&gt; &lt;dubbo:reference interface="com.atguigu.gmall.service.UserService" id="userService" timeout="5000" retries="3" version="*"&gt; &lt;!-- &lt;dubbo:method name="getUserAddressList" timeout="1000"&gt;&lt;/dubbo:method&gt; --&gt; &lt;/dubbo:reference&gt; &lt;!-- ÈÖçÁΩÆÂΩìÂâçÊ∂àË¥πËÄÖÁöÑÁªü‰∏ÄËßÑÂàôÔºöÊâÄÊúâÁöÑÊúçÂä°ÈÉΩ‰∏çÊ£ÄÊü• --&gt; &lt;dubbo:consumer check="false" timeout="5000"&gt;&lt;/dubbo:consumer&gt; &lt;dubbo:monitor protocol="registry"&gt;&lt;/dubbo:monitor&gt; &lt;!-- &lt;dubbo:monitor address="127.0.0.1:7070"&gt;&lt;/dubbo:monitor&gt; --&gt; &lt;/beans&gt; user-service-provider12345678910111213141516171819public class UserServiceImpl implements UserService &#123; @Override public List&lt;UserAddress&gt; getUserAddressList(String userId) &#123; System.out.println(&quot;UserServiceImpl.....old...&quot;); // TODO Auto-generated method stub UserAddress address1 = new UserAddress(1, &quot;Âåó‰∫¨Â∏ÇÊòåÂπ≥Âå∫ÂÆèÁ¶èÁßëÊäÄÂõ≠ÁªºÂêàÊ•º3Â±Ç&quot;, &quot;1&quot;, &quot;ÊùéËÄÅÂ∏à&quot;, &quot;010-56253825&quot;, &quot;Y&quot;); UserAddress address2 = new UserAddress(2, &quot;Ê∑±Âú≥Â∏ÇÂÆùÂÆâÂå∫Ë•øÈÉ®Á°ÖË∞∑Â§ßÂé¶BÂ∫ß3Â±ÇÔºàÊ∑±Âú≥ÂàÜÊ†°Ôºâ&quot;, &quot;1&quot;, &quot;ÁéãËÄÅÂ∏à&quot;, &quot;010-56253825&quot;, &quot;N&quot;); /*try &#123; Thread.sleep(4000); &#125; catch (InterruptedException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125;*/ return Arrays.asList(address1,address2); &#125;&#125; 12345678910111213public class UserServiceImpl2 implements UserService &#123; @Override public List&lt;UserAddress&gt; getUserAddressList(String userId) &#123; System.out.println(&quot;UserServiceImpl.....new...&quot;); // TODO Auto-generated method stub UserAddress address1 = new UserAddress(1, &quot;Âåó‰∫¨Â∏ÇÊòåÂπ≥Âå∫ÂÆèÁ¶èÁßëÊäÄÂõ≠ÁªºÂêàÊ•º3Â±Ç&quot;, &quot;1&quot;, &quot;ÊùéËÄÅÂ∏à&quot;, &quot;010-56253825&quot;, &quot;Y&quot;); UserAddress address2 = new UserAddress(2, &quot;Ê∑±Âú≥Â∏ÇÂÆùÂÆâÂå∫Ë•øÈÉ®Á°ÖË∞∑Â§ßÂé¶BÂ∫ß3Â±ÇÔºàÊ∑±Âú≥ÂàÜÊ†°Ôºâ&quot;, &quot;1&quot;, &quot;ÁéãËÄÅÂ∏à&quot;, &quot;010-56253825&quot;, &quot;N&quot;); return Arrays.asList(address1,address2); &#125;&#125; 1234567891011121314151617181920212223public class UserServiceStub implements UserService &#123; private final UserService userService&#123; /* * ‰º†ÂÖ•ÁöÑÊòØuserServiceËøúÁ®ãÁöÑ‰ª£ÁêÜÂØπË±° * @param userService */ public UserServiceStub(UserService userService) &#123; super(); this.userService = userService; &#125; @Override public List&lt;UserAddress&gt; getUserAddressList(String userId) &#123; // TODO Auto-generated method stub System.out.println(&quot;UserServiceStub.....&quot;); if(!StringUtils.isEmpty(userId)) &#123; return userService.getUserAddressList(userId); &#125; return null; &#125;&#125; 12345678910public class MainApplication &#123; public static void main(String[] args) throws IOException &#123; ClassPathXmlApplicationContext ioc = new ClassPathXmlApplicationContext(&quot;provider.xml&quot;); ioc.start(); System.in.read(); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&gt; &lt;!-- 1„ÄÅÊåáÂÆöÂΩìÂâçÊúçÂä°/Â∫îÁî®ÁöÑÂêçÂ≠óÔºàÂêåÊ†∑ÁöÑÊúçÂä°ÂêçÂ≠óÁõ∏ÂêåÔºå‰∏çË¶ÅÂíåÂà´ÁöÑÊúçÂä°ÂêåÂêçÔºâ --&gt; &lt;dubbo:application name=&quot;user-service-provider&quot;&gt;&lt;/dubbo:application&gt; &lt;!-- 2„ÄÅÊåáÂÆöÊ≥®ÂÜå‰∏≠ÂøÉÁöÑ‰ΩçÁΩÆ --&gt; &lt;!-- &lt;dubbo:registry address=&quot;zookeeper://127.0.0.1:2181&quot;&gt;&lt;/dubbo:registry&gt; --&gt; &lt;dubbo:registry protocol=&quot;zookeeper&quot; address=&quot;127.0.0.1:2181&quot;&gt;&lt;/dubbo:registry&gt; &lt;!-- 3„ÄÅÊåáÂÆöÈÄö‰ø°ËßÑÂàôÔºàÈÄö‰ø°ÂçèËÆÆÔºüÈÄö‰ø°Á´ØÂè£Ôºâ --&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20882&quot;&gt;&lt;/dubbo:protocol&gt; &lt;!-- 4„ÄÅÊö¥Èú≤ÊúçÂä° refÔºöÊåáÂêëÊúçÂä°ÁöÑÁúüÊ≠£ÁöÑÂÆûÁé∞ÂØπË±° --&gt; &lt;dubbo:service interface=&quot;com.atguigu.gmall.service.UserService&quot; ref=&quot;userServiceImpl01&quot; timeout=&quot;1000&quot; version=&quot;1.0.0&quot;&gt; &lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt; &lt;/dubbo:service&gt; &lt;!--Áªü‰∏ÄËÆæÁΩÆÊúçÂä°Êèê‰æõÊñπÁöÑËßÑÂàô --&gt; &lt;dubbo:provider timeout=&quot;1000&quot;&gt;&lt;/dubbo:provider&gt; &lt;!-- ÊúçÂä°ÁöÑÂÆûÁé∞ --&gt; &lt;bean id=&quot;userServiceImpl01&quot; class=&quot;com.atguigu.gmall.service.impl.UserServiceImpl&quot;&gt;&lt;/bean&gt; &lt;dubbo:service interface=&quot;com.atguigu.gmall.service.UserService&quot; ref=&quot;userServiceImpl02&quot; timeout=&quot;1000&quot; version=&quot;2.0.0&quot;&gt; &lt;dubbo:method name=&quot;getUserAddressList&quot; timeout=&quot;1000&quot;&gt;&lt;/dubbo:method&gt; &lt;/dubbo:service&gt; &lt;bean id=&quot;userServiceImpl02&quot; class=&quot;com.atguigu.gmall.service.impl.UserServiceImpl2&quot;&gt;&lt;/bean&gt; &lt;!-- ËøûÊé•ÁõëÊéß‰∏≠ÂøÉ --&gt; &lt;dubbo:monitor protocol=&quot;registry&quot;&gt;&lt;/dubbo:monitor&gt; &lt;/beans&gt;]]></content>
      <tags>
        <tag>Dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F03%2F14%2FDubbo%2FDubbo%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[JSON]]></title>
    <url>%2F2019%2F03%2F13%2F%E5%89%8D%E7%AB%AF%2FJson%2F</url>
    <content type="text"><![CDATA[‚Äî-]]></content>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F03%2F12%2FDubbo%2FSpringBoot-Dubbo%E2%80%94Demo%2F</url>
    <content type="text"><![CDATA[1 ZookeeperÁöÑ‰∏ãËΩΩ ‰∏éÈÖçÁΩÆMac‰∏äÁöÑÂÆâË£Ö‰∏éÈÖçÁΩÆ1 ÂÆâË£ÖJDKÈÖçÁΩÆÁéØÂ¢É12345export ZOOKEEPER_HOME=/root/zookeeper-3.4.10export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jarexport JAVA_HOME=/root/jdk1.8.0_201export PATH=$PATH:$JAVA_HOME/binexport PATH=$PATH:$ZOOKEEPER_HOME/bin:$JAVA_HOME/bin 2 ÂÆâË£Özookeeper 3.Êõ¥ÊîπÈÖçÁΩÆÊñá‰ª∂123cp zooxxx.cfg zoo.cfg mkdir dataDir 4ÂêØÂä®‰∏éÊöÇÂÅú 123456789 /zookeeper-3.5.4-beta/bin ÓÇ∞ ./zkServer.sh start‚≠êÔ∏è ‚≠êÔ∏è ‚≠êÔ∏è‚≠êÔ∏è ‚≠êÔ∏è ‚≠êÔ∏èZooKeeper JMX enabled by defaultUsing config: /zookeeper-3.5.4-beta/bin/../conf/zoo.cfgStarting zookeeper ... STARTED /zookeeper-3.5.4-beta/bin ÓÇ∞ ./zkServer.sh status ‚≠êÔ∏è ‚≠êÔ∏è ‚≠êÔ∏èZooKeeper JMX enabled by defaultUsing config: /zookeeper-3.5.4-beta/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: standalone]]></content>
      <categories>
        <category>dubbo</category>
      </categories>
      <tags>
        <tag>Dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot MavenÂ∑•Á®ãÊê≠Âª∫]]></title>
    <url>%2F2019%2F03%2F12%2FGit%20Maven%20%2FSpringBoot%20Maven%E8%81%9A%E5%90%88%E5%B7%A5%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[SpringBoot Êï¥ÂêàMavenËÅöÂêàÂ∑•Á®ã springboot-dubbo-parent/pom.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;springboot-dubbo-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; //1 ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏èpom‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;packaging&gt;pom&lt;/packaging&gt; &lt;name&gt;springboot-dubbo-parent&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; //2 ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è&lt;modules&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;modules&gt; &lt;module&gt;springboot-dubbo-server&lt;/module&gt; &lt;module&gt;springboot-dubbo-client&lt;/module&gt; &lt;/modules&gt; //3 ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è&lt;properties&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;!-- Âú®properties‰∏≠Áªü‰∏ÄÊéßÂà∂‰æùËµñÂåÖÁöÑÁâàÊú¨ÔºåÊõ¥Ê∏ÖÊô∞--&gt; &lt;dubbo.version&gt;2.5.3&lt;/dubbo.version&gt; &lt;zk.version&gt;3.4.5&lt;/zk.version&gt; &lt;zkclient.version&gt;0.1&lt;/zkclient.version&gt; &lt;/properties&gt; //4 ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è&lt;properties&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;dependencyManagement&gt; &lt;!--dependencyManagementÁî®‰∫éÁÆ°ÁêÜ‰æùËµñÁâàÊú¨Âè∑--&gt; &lt;dependencies&gt; &lt;!--Âà†Èô§spring-boot-starterÂíåspring-boot-starter-testÔºå--&gt; &lt;!--Âõ†‰∏∫parent‰∏≠ÁªßÊâøÁöÑÁ•ñÂÖà‰∏≠Â∑≤ÁªèÊúâ‰∫ÜÔºåÂπ∂‰∏î‰∏ÄËà¨dependencyManagementÁÆ°ÁêÜÁöÑ‰æùËµñÈÉΩË¶ÅÂÜôÁâàÊú¨Âè∑--&gt; &lt;!--&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!--Êñ∞Â¢ûÂêéÁª≠dubboÈ°πÁõÆ‰∏≠ÊâÄÈúÄ‰æùËµñÔºådubbo„ÄÅzk--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;version&gt;$&#123;dubbo.version&#125;&lt;/version&gt;&lt;!--‰ΩøÁî®properties‰∏≠ÈÖçÁΩÆÁöÑÁâàÊú¨Âè∑--&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;$&#123;zk.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;$&#123;zkclient.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; springvoot-dubbo-client/pom.xml12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;springboot-dubbo-client&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; //1 ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏èjar‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;springboot-dubbo-client&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; //2 ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è&lt;parent&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;parent&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;springboot-dubbo-parent&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;properties&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; //3 ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;!--Êñ∞Â¢ûÂêéÁª≠dubboÈ°πÁõÆ‰∏≠ÊâÄÈúÄ‰æùËµñÔºådubbo„ÄÅzk„ÄÇ Áà∂Ê®°Âùópom‰∏≠‰ΩøÁî®dependencyManagementÊù•ÁÆ°ÁêÜ‰æùËµñÁâàÊú¨Âè∑ÔºåÂ≠êÊ®°Âùópom‰∏≠‰∏çÈúÄË¶ÅÂÜçÂÜôÁâàÊú¨Âè∑Ôºåexclusion‰πü‰∏çÈúÄË¶Å--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;springboot-dubbo-server&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven]]></title>
    <url>%2F2019%2F03%2F12%2FGit%20Maven%20%2FMaven%2F</url>
    <content type="text"><![CDATA[1parent ‰∏∫Áà∂Ê®°ÂùóÔºåÊäΩË±°Âá∫Êù•ÁÆ°ÁêÜÂ≠êÈ°πÁõÆÁöÑÂÖ¨ÂÖ±‰æùËµñÔºå‰∏∫‰∫ÜÈ°πÁõÆÁöÑÊ≠£Á°ÆËøêË°åÔºåÂøÖÈ°ªËÆ©ÊâÄÊúâÁöÑÂ≠êÈ°πÁõÆ‰ΩøÁî®‰æùËµñÈ°πÁöÑÁªü‰∏ÄÁâàÊú¨ÔºåÂøÖÈ°ªÁ°Æ‰øùÂ∫îÁî®ÁöÑÂêÑ‰∏™È°πÁõÆÁöÑ‰æùËµñÈ°πÂíåÁâàÊú¨‰∏ÄËá¥ÔºåÊâçËÉΩ‰øùËØÅÊµãËØïÁöÑÂíåÂèëÂ∏ÉÁöÑÊòØÁõ∏ÂêåÁöÑÁªìÊûú„ÄÇ 123dependencyManagementÂú®È°πÁõÆÁöÑ parent Â±ÇÔºåÂèØ‰ª•ÈÄöËøá dependencyManagement ÂÖÉÁ¥†Êù•ÁÆ°ÁêÜ jar ÂåÖÁöÑÁâàÊú¨ÔºåËÆ©Â≠êÈ°πÁõÆ‰∏≠ÂºïÁî®‰∏Ä‰∏™‰æùËµñËÄå‰∏çÁî®ÊòæÁ§∫ÁöÑÂàóÂá∫ÁâàÊú¨Âè∑„ÄÇ parent ‰∏≠ pom.xml 12345678910111213141516171819&lt;properties&gt; &lt;version.framework&gt;1.0-SNAPSHOT&lt;/version.framework&gt; &lt;javaee-api.version&gt;1.0-SNAPSHOT&lt;/javaee-api.version&gt;&lt;/properties&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt;//=================framework-cache &lt;groupId&gt;com.zhisheng&lt;/groupId&gt; &lt;artifactId&gt;framework-cache&lt;/artifactId&gt; &lt;version&gt;$&#123;version.framework&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; //===============javax &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;version&gt;$&#123;javaee-api.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt; extendion ‰∏≠ÁöÑ pom.xml 123456789101112131415161718192021&lt;parent&gt; &lt;artifactId&gt;parent&lt;/artifactId&gt; &lt;groupId&gt;com.zhisheng&lt;/groupId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../parent/pom.xml&lt;/relativePath&gt; &lt;/parent&gt;&lt;!--‰æùËµñÂÖ≥Á≥ª--&gt; &lt;dependencies&gt; &lt;dependency&gt; // =============javax &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt;// ===============framework-cache &lt;groupId&gt;com.zhisheng&lt;/groupId&gt; &lt;artifactId&gt;framework-cache&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 1234Âå∫Âà´dependencies Âç≥‰ΩøÂú®Â≠êÈ°πÁõÆ‰∏≠‰∏çÂÜôËØ•‰æùËµñÈ°πÔºåÈÇ£‰πàÂ≠êÈ°πÁõÆ‰ªçÁÑ∂‰ºö‰ªéÁà∂È°πÁõÆ‰∏≠ÁªßÊâøËØ•‰æùËµñÈ°πÔºàÂÖ®ÈÉ®ÁªßÊâøÔºâdependencyManagement ÈáåÂè™ÊòØÂ£∞Êòé‰æùËµñÔºåÂπ∂‰∏çÂÆûÁé∞ÂºïÂÖ•ÔºåÂõ†Ê≠§Â≠êÈ°πÁõÆÈúÄË¶ÅÊòæÁ§∫ÁöÑÂ£∞ÊòéÈúÄË¶ÅÁî®ÁöÑ‰æùËµñ„ÄÇÂ¶ÇÊûú‰∏çÂú®Â≠êÈ°πÁõÆ‰∏≠Â£∞Êòé‰æùËµñÔºåÊòØ‰∏ç‰ºö‰ªéÁà∂È°πÁõÆ‰∏≠ÁªßÊâø‰∏ãÊù•ÁöÑÔºõÂè™ÊúâÂú®Â≠êÈ°πÁõÆ‰∏≠ÂÜô‰∫ÜËØ•‰æùËµñÈ°πÔºåÂπ∂‰∏îÊ≤°ÊúâÊåáÂÆöÂÖ∑‰ΩìÁâàÊú¨ÔºåÊâç‰ºö‰ªéÁà∂È°πÁõÆ‰∏≠ÁªßÊâøËØ•È°πÔºåÂπ∂‰∏î version Âíå scope ÈÉΩËØªÂèñËá™Áà∂ pom; Âè¶Â§ñÂ¶ÇÊûúÂ≠êÈ°πÁõÆ‰∏≠ÊåáÂÆö‰∫ÜÁâàÊú¨Âè∑ÔºåÈÇ£‰πà‰ºö‰ΩøÁî®Â≠êÈ°πÁõÆ‰∏≠ÊåáÂÆöÁöÑjarÁâàÊú¨„ÄÇ Á§∫‰æãËØ¥ÊòéÔºå Âú®Áà∂Ê®°Âùó‰∏≠Ôºö 123456789&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt;//=====================&gt;mysql &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.44&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt; ÈÇ£‰πàÂú®Â≠êÊ®°Âùó‰∏≠Âè™ÈúÄË¶ÅÂíåÂç≥ÂèØÔºåÂ¶ÇÔºö 123456&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; ËØ¥ÊòéÔºö‰ΩøÁî®dependencyManagementÂèØ‰ª•Áªü‰∏ÄÁÆ°ÁêÜÈ°πÁõÆÁöÑÁâàÊú¨Âè∑ÔºåÁ°Æ‰øùÂ∫îÁî®ÁöÑÂêÑ‰∏™È°πÁõÆÁöÑ‰æùËµñÂíåÁâàÊú¨‰∏ÄËá¥Ôºå‰∏çÁî®ÊØè‰∏™Ê®°ÂùóÈ°πÁõÆÈÉΩÂºÑ‰∏Ä‰∏™ÁâàÊú¨Âè∑Ôºå‰∏çÂà©‰∫éÁÆ°ÁêÜÔºåÂΩìÈúÄË¶ÅÂèòÊõ¥ÁâàÊú¨Âè∑ÁöÑÊó∂ÂÄôÂè™ÈúÄË¶ÅÂú®Áà∂Á±ªÂÆπÂô®ÈáåÊõ¥Êñ∞Ôºå‰∏çÈúÄË¶Å‰ªª‰Ωï‰∏Ä‰∏™Â≠êÈ°πÁõÆÁöÑ‰øÆÊîπÔºõÂ¶ÇÊûúÊüê‰∏™Â≠êÈ°πÁõÆÈúÄË¶ÅÂè¶Â§ñ‰∏Ä‰∏™ÁâπÊÆäÁöÑÁâàÊú¨Âè∑Êó∂ÔºåÂè™ÈúÄË¶ÅÂú®Ëá™Â∑±ÁöÑÊ®°Âùódependencies‰∏≠Â£∞Êòé‰∏Ä‰∏™ÁâàÊú¨Âè∑Âç≥ÂèØ„ÄÇÂ≠êÁ±ªÂ∞±‰ºö‰ΩøÁî®Â≠êÁ±ªÂ£∞ÊòéÁöÑÁâàÊú¨Âè∑Ôºå‰∏çÁªßÊâø‰∫éÁà∂Á±ªÁâàÊú¨Âè∑„ÄÇ ‰∏édependenciesÂå∫Âà´Ôºö 1)DependenciesÁõ∏ÂØπ‰∫édependencyManagementÔºåÊâÄÊúâÁîüÂëΩÂú®dependenciesÈáåÁöÑ‰æùËµñÈÉΩ‰ºöËá™Âä®ÂºïÂÖ•ÔºåÂπ∂ÈªòËÆ§Ë¢´ÊâÄÊúâÁöÑÂ≠êÈ°πÁõÆÁªßÊâø„ÄÇ2)dependencyManagementÈáåÂè™ÊòØÂ£∞Êòé‰æùËµñÔºåÂπ∂‰∏çËá™Âä®ÂÆûÁé∞ÂºïÂÖ•ÔºåÂõ†Ê≠§Â≠êÈ°πÁõÆÈúÄË¶ÅÊòæÁ§∫ÁöÑÂ£∞ÊòéÈúÄË¶ÅÁî®ÁöÑ‰æùËµñ„ÄÇ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏èÂ¶ÇÊûú‰∏çÂú®Â≠êÈ°πÁõÆ‰∏≠Â£∞Êòé‰æùËµñÔºåÊòØ‰∏ç‰ºö‰ªéÁà∂È°πÁõÆ‰∏≠ÁªßÊâø‰∏ãÊù•ÁöÑÔºõÂè™ÊúâÂú®Â≠êÈ°πÁõÆ‰∏≠ÂÜô‰∫ÜËØ•‰æùËµñÈ°πÔºåÂπ∂‰∏îÊ≤°ÊúâÊåáÂÆöÂÖ∑‰ΩìÁâàÊú¨ÔºåÊâç‰ºö‰ªéÁà∂È°πÁõÆ‰∏≠ÁªßÊâøËØ•È°πÔºåÂπ∂‰∏îversionÂíåscopeÈÉΩËØªÂèñËá™Áà∂pom;Âè¶Â§ñÂ¶ÇÊûúÂ≠êÈ°πÁõÆ‰∏≠ÊåáÂÆö‰∫ÜÁâàÊú¨Âè∑ÔºåÈÇ£‰πà‰ºö‰ΩøÁî®Â≠êÈ°πÁõÆ‰∏≠ÊåáÂÆöÁöÑjarÁâàÊú¨„ÄÇ https://www.imooc.com/video/8651 xxxxxxxxxx 1‚Äã23 &lt;version.framework&gt;1.0-SNAPSHOT&lt;/version.framework&gt;4 &lt;javaee-api.version&gt;1.0-SNAPSHOT&lt;/javaee-api.version&gt;567 8 //=================framework-cache9 com.zhisheng10 framework-cache11 ${version.framework}12 13 //===============javax14 javax 15 javaee-api 16 ${javaee-api.version} 17 18 19xml MavenËÅöÂêàÂíåÁªßÊâøÂç≥‰ΩøÊòØÈïøÊúü‰ªé‰∫ã Maven Â∑•‰ΩúÁöÑÂºÄÂèë‰∫∫Âëò‰πü‰∏çËÉΩÂÆåÂÖ®ÊéåÊè°ËÅöÂêàÔºàÂ§öÊ®°ÂùóÔºâÂíå Parent ÁªßÊâøÁöÑÂÖ≥Á≥ªÔºåÂú®‰ΩøÁî®Â§öÊ®°ÂùóÊó∂ÔºåÂ≠êÊ®°ÂùóÊÄªË¶ÅÊåáÂÆöËÅöÂêàÁöÑ pom ‰∏∫ „ÄÇÁî±‰∫éÂú®Â§ßÂ§öÊï∞Á§∫‰æã‰∏≠ÈÉΩÊòØËøô‰πàÂÜôÁöÑÔºåÊâÄ‰ª•ÂæàÈöæËÆ©‰∫∫ÊêûÊáÇËøô‰∏§ËÄÖÁöÑÂÖ∑‰Ωì‰ΩúÁî®ÂíåÂÖ≥Á≥ª„ÄÇ ÂÆûÈôÖ‰∏äÂú® Maven ‰∏≠ËÅöÂêàÔºàÂ§öÊ®°ÂùóÔºâÂíåÁªßÊâøÊòØ‰∏§Âõû‰∫ãÔºå‰∏§ËÄÖ‰∏çÂ≠òÂú®Áõ¥Êé•ËÅîÁ≥ª 1dependencyManagement2Âú®È°πÁõÆÁöÑ parent Â±ÇÔºåÂèØ‰ª•ÈÄöËøá dependencyManagement ÂÖÉÁ¥†Êù•ÁÆ°ÁêÜ jar ÂåÖÁöÑÁâàÊú¨Ôºå3ËÆ©Â≠êÈ°πÁõÆ‰∏≠ÂºïÁî®‰∏Ä‰∏™‰æùËµñËÄå‰∏çÁî®ÊòæÁ§∫ÁöÑÂàóÂá∫ÁâàÊú¨Âè∑„ÄÇ]]></content>
      <categories>
        <category>Maven</category>
      </categories>
      <tags>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2Â∞èÊó∂Â∏¶‰Ω†ÂÆûÊàòDubboÂàÜÂ∏ÉÂºèÊúçÂä°Ë∞ÉÂ∫¶]]></title>
    <url>%2F2019%2F03%2F12%2FDubbo%2FDubbo%E6%85%95%E8%AF%BE%E7%BD%91%2F</url>
    <content type="text"><![CDATA[1 DubboÊ¶ÇÂøµ 2 Êê≠Âª∫ÂæÆÊúçÂä°SpringBootÂ§öÊ®°ÂùóÈ°πÁõÆ1.POMdubboone.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.3.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;modules&gt; &lt;module&gt;dubboone-api&lt;/module&gt; &lt;module&gt;dubboone-modle&lt;/module&gt; &lt;module&gt;dubboone-server&lt;/module&gt; &lt;/modules&gt; &lt;groupId&gt;com.dubboOne&lt;/groupId&gt; &lt;artifactId&gt;dubboone&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;dubboone&lt;/name&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;packaging&gt;pom&lt;/packaging&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; dubboone-api123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;parent&gt; &lt;groupId&gt;com.dubboOne&lt;/groupId&gt; &lt;artifactId&gt;dubboone&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;groupId&gt;com.dubboOne.api&lt;/groupId&gt; &lt;artifactId&gt;dubboone-api&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;dubboone-api&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;mybatis-pagehelper.version&gt;4.1.2&lt;/mybatis-pagehelper.version&gt; &lt;lombok.version&gt;1.16.10&lt;/lombok.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!--javaÊ†°È™å Ë∑ü hibernateÊ†°È™å--&gt; &lt;dependency&gt; &lt;groupId&gt;javax.validation&lt;/groupId&gt; &lt;artifactId&gt;validation-api&lt;/artifactId&gt; &lt;version&gt;1.1.0.Final&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; &lt;version&gt;5.3.5.Final&lt;/version&gt; &lt;/dependency&gt; &lt;!--for page--&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis-pagehelper.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--lombok--&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;$&#123;lombok.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--//SpringBootÁöÑ‰æùËµñÈÖçÁΩÆ--&gt;&lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; dubbo-modle1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;parent&gt; &lt;groupId&gt;com.dubboOne&lt;/groupId&gt; &lt;artifactId&gt;dubboone&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;groupId&gt;com.dubboone.modle&lt;/groupId&gt; &lt;artifactId&gt;dubboone-modle&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;dubboone-modle&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;mybatis-spring-boot.version&gt;1.1.1&lt;/mybatis-spring-boot.version&gt; &lt;mybatis-pagehelper.version&gt;4.1.2&lt;/mybatis-pagehelper.version&gt; &lt;/properties&gt; &lt;dependencies&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;!--api--&gt; &lt;dependency&gt; &lt;groupId&gt;com.dubboOne.api&lt;/groupId&gt; &lt;artifactId&gt;dubboone-api&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;!--spring-mybatis--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis-spring-boot.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; dubboone-server123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;parent&gt; &lt;groupId&gt;com.dubboOne&lt;/groupId&gt; &lt;artifactId&gt;dubboone&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;groupId&gt;com.dubboone.server&lt;/groupId&gt; &lt;artifactId&gt;dubboone-server&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;dubboone-server&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;start-class&gt;com.debug.mooc.dubbo.one.server.BootMoreApplication&lt;/start-class&gt; &lt;!--&lt;spring-boot.version&gt;1.3.3.RELEASE&lt;/spring-boot.version&gt;--&gt; &lt;spring-boot.version&gt;2.0.5.RELEASE&lt;/spring-boot.version&gt; &lt;spring-session.version&gt;1.2.0.RELEASE&lt;/spring-session.version&gt; &lt;slf4j.version&gt;1.7.13&lt;/slf4j.version&gt; &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt; &lt;mysql.version&gt;5.1.37&lt;/mysql.version&gt; &lt;druid.version&gt;1.0.16&lt;/druid.version&gt; &lt;guava.version&gt;19.0&lt;/guava.version&gt; &lt;joda-time.version&gt;2.9.2&lt;/joda-time.version&gt; &lt;cglib.version&gt;3.1&lt;/cglib.version&gt; &lt;zookeeper.version&gt;3.4.10&lt;/zookeeper.version&gt; &lt;curator.version&gt;2.12.0&lt;/curator.version&gt; &lt;resteasy.version&gt;3.0.7.Final&lt;/resteasy.version&gt; &lt;okhttp.version&gt;3.1.2&lt;/okhttp.version&gt; &lt;gson.version&gt;2.6.1&lt;/gson.version&gt; &lt;httpclient.version&gt;4.3.6&lt;/httpclient.version&gt; &lt;/properties&gt; &lt;!--‰æùËµñÈÖçÁΩÆÁÆ°ÁêÜ--&gt; &lt;!-- ‰æùËµñÁÆ°ÁêÜ --&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-boot.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;!--maven‰æùËµñ--&gt; &lt;dependencies&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;!--model--&gt; &lt;dependency&gt; &lt;groupId&gt;com.dubboone.modle&lt;/groupId&gt; &lt;artifactId&gt;dubboone-modle&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;!--log--&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;$&#123;log4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--guava--&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;$&#123;guava.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- time --&gt; &lt;dependency&gt; &lt;groupId&gt;joda-time&lt;/groupId&gt; &lt;artifactId&gt;joda-time&lt;/artifactId&gt; &lt;version&gt;$&#123;joda-time.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--mysql--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;$&#123;mysql.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--druid--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;$&#123;druid.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- jsp ÊîØÊåÅ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;/dependency&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;!-- dubbo --&gt; &lt;!-- https://mvnrepository.com/artifact/com.alibaba.boot/dubbo-spring-boot-starter --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.boot&lt;/groupId&gt; &lt;artifactId&gt;dubbo-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;0.2.0&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;curator-framework&lt;/artifactId&gt; &lt;groupId&gt;org.apache.curator&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;curator-client&lt;/artifactId&gt; &lt;groupId&gt;org.apache.curator&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;cglib&lt;/groupId&gt; &lt;artifactId&gt;cglib&lt;/artifactId&gt; &lt;version&gt;$&#123;cglib.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;asm&lt;/artifactId&gt; &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;!-- zookeeper start --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;$&#123;zookeeper.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.curator&lt;/groupId&gt; &lt;artifactId&gt;curator-framework&lt;/artifactId&gt; &lt;version&gt;$&#123;curator.version&#125;&lt;/version&gt; &lt;/dependency&gt; //==&gt;‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è &lt;!--dubbo rest--&gt; &lt;dependency&gt; &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt; &lt;version&gt;$&#123;resteasy.version&#125;&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;httpclient&lt;/artifactId&gt; &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-netty&lt;/artifactId&gt; &lt;version&gt;$&#123;resteasy.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt; &lt;version&gt;$&#123;resteasy.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt; &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt; &lt;version&gt;$&#123;resteasy.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--for test--&gt; &lt;!-- gson --&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt; &lt;artifactId&gt;gson&lt;/artifactId&gt; &lt;version&gt;$&#123;gson.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- okhttp --&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;version&gt;$&#123;okhttp.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 2.server :spring-dubbo.xml12345678910111213141516171819202122&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&quot;&gt; &lt;!--ÂèëÂ∏ÉÂá∫ÂéªÁöÑdubboÊúçÂä°Á±ªÊâÄÂú®ÂåÖÁöÑÊ≥®Ëß£--&gt; &lt;dubbo:annotation package=&quot;com.debug.mooc.dubbo.one.server.service.dubbo&quot; /&gt; &lt;!--Ê≥®ÂÜå‰∏≠ÂøÉzookeeperÈÖçÁΩÆ‰ø°ÊÅØ--&gt; &lt;dubbo:registry address=&quot;$&#123;dubbo.registry.address&#125;&quot; /&gt; &lt;!--ÊîØÊåÅ‰∏§ÁßçÂçèËÆÆÁöÑË∞ÉÁî®Ôºörpc-dubboÂçèËÆÆÔºõhttpÂçèËÆÆ-rest api-urlË∞ÉÁî®--&gt; &lt;dubbo:protocol name=&quot;rest&quot; threads=&quot;500&quot; contextpath=&quot;v1&quot; server=&quot;tomcat&quot; accepts=&quot;500&quot;/&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; /&gt; &lt;!--Ê∂àË¥πÊñπ‰ø°ÊÅØÈÖçÁΩÆ--&gt; &lt;dubbo:application name=&quot;dubboOne-consume&quot; owner=&quot;debug&quot; organization=&quot;dubbox&quot;/&gt;&lt;/beans&gt; ##3.server :spring-jdbc.xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd " &gt; &lt;!--dubboOne --&gt; &lt;bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource" init-method="init" destroy-method="close" primary="true" &gt; &lt;!-- Âü∫Êú¨Â±ûÊÄß url„ÄÅuser„ÄÅpassword --&gt; &lt;property name="url" value="$&#123;datasource.url&#125;" /&gt; &lt;property name="username" value="$&#123;datasource.username&#125;" /&gt; &lt;property name="password" value="$&#123;datasource.password&#125;" /&gt; &lt;!-- ÈÖçÁΩÆÂàùÂßãÂåñÂ§ßÂ∞è„ÄÅÊúÄÂ∞è„ÄÅÊúÄÂ§ß --&gt; &lt;property name="initialSize" value="10" /&gt; &lt;property name="minIdle" value="10" /&gt; &lt;property name="maxActive" value="20" /&gt; &lt;!-- ÈÖçÁΩÆËé∑ÂèñËøûÊé•Á≠âÂæÖË∂ÖÊó∂ÁöÑÊó∂Èó¥ --&gt; &lt;property name="maxWait" value="60000" /&gt; &lt;!-- ÈÖçÁΩÆÈó¥ÈöîÂ§ö‰πÖÊâçËøõË°å‰∏ÄÊ¨°Ê£ÄÊµãÔºåÊ£ÄÊµãÈúÄË¶ÅÂÖ≥Èó≠ÁöÑÁ©∫Èó≤ËøûÊé•ÔºåÂçï‰ΩçÊòØÊØ´Áßí --&gt; &lt;property name="timeBetweenEvictionRunsMillis" value="60000" /&gt; &lt;!-- ÈÖçÁΩÆ‰∏Ä‰∏™ËøûÊé•Âú®Ê±†‰∏≠ÊúÄÂ∞èÁîüÂ≠òÁöÑÊó∂Èó¥ÔºåÂçï‰ΩçÊòØÊØ´Áßí --&gt; &lt;property name="minEvictableIdleTimeMillis" value="300000" /&gt; &lt;property name="validationQuery" value="SELECT 1 " /&gt; &lt;property name="testWhileIdle" value="true" /&gt; &lt;property name="testOnBorrow" value="false" /&gt; &lt;property name="testOnReturn" value="false" /&gt; &lt;!-- ÊâìÂºÄPSCacheÔºåÂπ∂‰∏îÊåáÂÆöÊØè‰∏™ËøûÊé•‰∏äPSCacheÁöÑÂ§ßÂ∞è --&gt; &lt;property name="poolPreparedStatements" value="true" /&gt; &lt;property name="maxPoolPreparedStatementPerConnectionSize" value="20" /&gt; &lt;!-- ÈÖçÁΩÆÁõëÊéßÁªüËÆ°Êã¶Êà™ÁöÑfiltersÔºåÂéªÊéâÂêéÁõëÊéßÁïåÈù¢sqlÊó†Ê≥ïÁªüËÆ° --&gt; &lt;property name="filters" value="stat" /&gt; &lt;/bean&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;/bean&gt;&lt;/beans&gt; 4.application.properties12345678910111213141516171819202122232425262728293031323334353637#profile#spring.profiles.active=production#spring.profiles.active=localserver.port=8093#server.context-path=/dubboOneserver.servlet.context-path=/dubboOne#logginglogging.path=E:\\logs\\mooc\\dubboOne\\logslogging.file=dubboOnelogging.level.org.springframework = INFOlogging.level.com.fasterxml.jackson = INFOlogging.level.com.debug.mooc.dubbo.one = debug#json\u5E8F\u5217\u5316\u914D\u7F6Espring.jackson.date-format=yyyy-MM-dd HH:mm:ssspring.jackson.time-zone=GMT+8#spring.datasource.initialize=falsespring.datasource.initialization-mode=neverspring.jmx.enabled=false#\u6570\u636E\u6E90\u914D\u7F6Edatasource.url=jdbc:mysql://127.0.0.1:3306/mooc_one?useUnicode=true&amp;amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNulldatasource.username=rootdatasource.password=linsen#mybatismybatis.config-location=classpath:mybatis-config.xmlmybatis.checkConfigLocation = truemybatis.mapper-locations=classpath:mappers/*.xml#dubbo zookeeper\u914D\u7F6E\u4FE1\u606Fdubbo.registry.address=zookeeper://127.0.0.1:2181 5dubbo.properties12345678910111213141516171819202122232425262728293031### Copyright 1999-2011 Alibaba Group.# # Licensed under the Apache License, Version 2.0 (the "License");# you may not use this file except in compliance with the License.# You may obtain a copy of the License at# # http://www.apache.org/licenses/LICENSE-2.0# # Unless required by applicable law or agreed to in writing, software# distributed under the License is distributed on an "AS IS" BASIS,# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.# See the License for the specific language governing permissions and# limitations under the License.##dubbo.container=log4j,springdubbo.reference.check=falsedubbo.registry.client=curatordubbo.application.name=dubboOne-providerdubbo.application.owner=debug#dubbo\u652F\u6301\u7684dubbo\u534F\u8BAE\u914D\u7F6Edubbo.protocol.name=dubbodubbo.protocol.dubbo.port=20903#dubbo\u652F\u6301\u7684http rest api\u7684\u914D\u7F6Edubbo.protocol.name=restdubbo.protocol.rest.port=9013dubbo.protocol.rest.server=tomcatdubbo.service.loadbalance=roundrobin ##6.log4j.xml 123456789101112131415161718192021222324252627282930313233343536373839#Console Loglog4j.rootLogger=INFO,console,debug,info,warn,errorLOG_PATTERN=[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] boot%X&#123;context&#125; - %5p [%t] --- %c&#123;1&#125;: %m%n#A1--Print log to Consolelog4j.appender.console=org.apache.log4j.ConsoleAppenderlog4j.appender.console.Threshold=DEBUGlog4j.appender.console.layout=org.apache.log4j.PatternLayoutlog4j.appender.console.layout.ConversionPattern=$&#123;LOG_PATTERN&#125;log4j.appender.info=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.info.Threshold=INFOlog4j.appender.info.File=$&#123;LOG_PATH&#125;/$&#123;LOG_FILE&#125;_info.loglog4j.appender.info.DatePattern=&apos;.&apos;yyyy-MM-ddlog4j.appender.info.layout = org.apache.log4j.PatternLayoutlog4j.appender.info.layout.ConversionPattern=$&#123;LOG_PATTERN&#125;log4j.appender.error=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.error.Threshold=ERRORlog4j.appender.error.File=$&#123;LOG_PATH&#125;/$&#123;LOG_FILE&#125;_error.loglog4j.appender.error.DatePattern=&apos;.&apos;yyyy-MM-ddlog4j.appender.error.layout = org.apache.log4j.PatternLayoutlog4j.appender.error.layout.ConversionPattern=$&#123;LOG_PATTERN&#125;log4j.appender.debug=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.debug.Threshold=DEBUGlog4j.appender.debug.File=$&#123;LOG_PATH&#125;/$&#123;LOG_FILE&#125;_debug.loglog4j.appender.debug.DatePattern=&apos;.&apos;yyyy-MM-ddlog4j.appender.debug.layout = org.apache.log4j.PatternLayoutlog4j.appender.debug.layout.ConversionPattern=$&#123;LOG_PATTERN&#125;log4j.appender.warn=org.apache.log4j.DailyRollingFileAppenderlog4j.appender.warn.Threshold=WARNlog4j.appender.warn.File=$&#123;LOG_PATH&#125;/$&#123;LOG_FILE&#125;_warn.loglog4j.appender.warn.DatePattern=&apos;.&apos;yyyy-MM-ddlog4j.appender.warn.layout = org.apache.log4j.PatternLayoutlog4j.appender.warn.layout.ConversionPattern=$&#123;LOG_PATTERN&#125; ##7.mybatis-config.xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;settings&gt; &lt;!-- Globally enables or disables any caches configured in any mapper under this configuration --&gt; &lt;setting name="cacheEnabled" value="true"/&gt; &lt;!-- Sets the number of seconds the driver will wait for a response from the database --&gt; &lt;setting name="defaultStatementTimeout" value="3000"/&gt; &lt;!-- Enables automatic mapping from classic database column names A_COLUMN to camel case classic Java property names aColumn --&gt; &lt;setting name="mapUnderscoreToCamelCase" value="true"/&gt; &lt;!-- Allows JDBC support for generated keys. A compatible driver is required. This setting forces generated keys to be used if set to true, as some drivers deny compatibility but still work --&gt; &lt;setting name="useGeneratedKeys" value="true"/&gt; &lt;!-- ËÆæÁΩÆÊéßÂà∂Âè∞ÊâìÂç∞sql --&gt; &lt;!--&lt;setting name="logImpl" value="stdout_logging" /&gt;--&gt; &lt;/settings&gt; &lt;!-- Continue going here --&gt; &lt;!--&lt;typeAliases&gt;--&gt; &lt;!--&lt;package name="cn.com.countrygarden.ucenter.entity"/&gt;--&gt; &lt;!--&lt;/typeAliases&gt;--&gt; &lt;plugins&gt; &lt;!-- com.github.pagehelper‰∏∫PageHelperÁ±ªÊâÄÂú®ÂåÖÂêç --&gt; &lt;plugin interceptor="com.github.pagehelper.PageHelper"&gt; &lt;!-- 4.0.0‰ª•ÂêéÁâàÊú¨ÂèØ‰ª•‰∏çËÆæÁΩÆËØ•ÂèÇÊï∞ --&gt; &lt;property name="dialect" value="mysql"/&gt; &lt;!-- ËØ•ÂèÇÊï∞ÈªòËÆ§‰∏∫false --&gt; &lt;!-- ËÆæÁΩÆ‰∏∫trueÊó∂Ôºå‰ºöÂ∞ÜRowBoundsÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞offsetÂΩìÊàêpageNumÈ°µÁ†Å‰ΩøÁî® --&gt; &lt;!-- ÂíåstartPage‰∏≠ÁöÑpageNumÊïàÊûú‰∏ÄÊ†∑--&gt; &lt;property name="offsetAsPageNum" value="true"/&gt; &lt;!-- ËØ•ÂèÇÊï∞ÈªòËÆ§‰∏∫false --&gt; &lt;!-- ËÆæÁΩÆ‰∏∫trueÊó∂Ôºå‰ΩøÁî®RowBoundsÂàÜÈ°µ‰ºöËøõË°åcountÊü•ËØ¢ --&gt; &lt;property name="rowBoundsWithCount" value="true"/&gt; &lt;!-- ËÆæÁΩÆ‰∏∫trueÊó∂ÔºåÂ¶ÇÊûúpageSize=0ÊàñËÄÖRowBounds.limit = 0Â∞±‰ºöÊü•ËØ¢Âá∫ÂÖ®ÈÉ®ÁöÑÁªìÊûú --&gt; &lt;!-- ÔºàÁõ∏ÂΩì‰∫éÊ≤°ÊúâÊâßË°åÂàÜÈ°µÊü•ËØ¢Ôºå‰ΩÜÊòØËøîÂõûÁªìÊûú‰ªçÁÑ∂ÊòØPageÁ±ªÂûãÔºâ--&gt; &lt;property name="pageSizeZero" value="true"/&gt; &lt;!-- 3.3.0ÁâàÊú¨ÂèØÁî® - ÂàÜÈ°µÂèÇÊï∞ÂêàÁêÜÂåñÔºåÈªòËÆ§falseÁ¶ÅÁî® --&gt; &lt;!-- ÂêØÁî®ÂêàÁêÜÂåñÊó∂ÔºåÂ¶ÇÊûúpageNum&lt;1‰ºöÊü•ËØ¢Á¨¨‰∏ÄÈ°µÔºåÂ¶ÇÊûúpageNum&gt;pages‰ºöÊü•ËØ¢ÊúÄÂêé‰∏ÄÈ°µ --&gt; &lt;!-- Á¶ÅÁî®ÂêàÁêÜÂåñÊó∂ÔºåÂ¶ÇÊûúpageNum&lt;1ÊàñpageNum&gt;pages‰ºöËøîÂõûÁ©∫Êï∞ÊçÆ --&gt; &lt;property name="reasonable" value="false"/&gt; &lt;!-- 3.5.0ÁâàÊú¨ÂèØÁî® - ‰∏∫‰∫ÜÊîØÊåÅstartPage(Object params)ÊñπÊ≥ï --&gt; &lt;!-- Â¢ûÂä†‰∫Ü‰∏Ä‰∏™`params`ÂèÇÊï∞Êù•ÈÖçÁΩÆÂèÇÊï∞Êò†Â∞ÑÔºåÁî®‰∫é‰ªéMapÊàñServletRequest‰∏≠ÂèñÂÄº --&gt; &lt;!-- ÂèØ‰ª•ÈÖçÁΩÆpageNum,pageSize,count,pageSizeZero,reasonable,orderBy,‰∏çÈÖçÁΩÆÊò†Â∞ÑÁöÑÁî®ÈªòËÆ§ÂÄº --&gt; &lt;!-- ‰∏çÁêÜËß£ËØ•Âê´‰πâÁöÑÂâçÊèê‰∏ãÔºå‰∏çË¶ÅÈöè‰æøÂ§çÂà∂ËØ•ÈÖçÁΩÆ --&gt; &lt;!--&lt;property name="params" value="pageNum=pageHelperStart;pageSize=pageHelperRows;"/&gt;--&gt; &lt;!-- ÊîØÊåÅÈÄöËøáMapperÊé•Âè£ÂèÇÊï∞Êù•‰º†ÈÄíÂàÜÈ°µÂèÇÊï∞ --&gt; &lt;property name="supportMethodsArguments" value="false"/&gt; &lt;!-- alwaysÊÄªÊòØËøîÂõûPageInfoÁ±ªÂûã,checkÊ£ÄÊü•ËøîÂõûÁ±ªÂûãÊòØÂê¶‰∏∫PageInfo,noneËøîÂõûPage --&gt; &lt;property name="returnPageInfo" value="none"/&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;!--&lt;mappers&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;&lt;package name="cn.com.countrygarden.ucenter.mapper" /&gt;&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;mapper resource="mappers/DiaryMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/EmpEvaluateMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/EmployeeMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/LikesMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/PicMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/RepliesMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/TeamMapper.xml"/&gt;--&gt; &lt;!--&lt;mapper resource="mappers/UserMapper.xml"/&gt;--&gt; &lt;!--&lt;/mappers&gt;--&gt;&lt;/configuration&gt; 3.Êï¥ÂêàDubboÂíåZookeeper 12345application.properties:dubbo.registry.address=zookeeper://127.0.0.1:2181„ÄÅ#server.context-path=/dubboOneserver.servlet.context-path=/dubboOne 1234567891011121314dubbo.propertiesdubbo.container=log4j,springdubbo.reference.check=falsedubbo.registry.client=curatordubbo.application.name=dubboOne-providerdubbo.application.owner=debug#dubbo\u652F\u6301\u7684dubbo\u534F\u8BAE\u914D\u7F6Edubbo.protocol.name=dubbodubbo.protocol.dubbo.port=20903#dubbo\u652F\u6301\u7684http rest api\u7684\u914D\u7F6Edubbo.protocol.name=restdubbo.protocol.rest.port=9013dubbo.protocol.rest.server=tomcatdubbo.service.loadbalance=roundrobin 123456789101112131415161718192021spring-dubbo&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"&gt; &lt;!--ÂèëÂ∏ÉÂá∫ÂéªÁöÑdubboÊúçÂä°Á±ªÊâÄÂú®ÂåÖÁöÑÊ≥®Ëß£--&gt; &lt;dubbo:annotation package="com.debug.mooc.dubbo.one.server.service.dubbo"/&gt; &lt;!--Ê≥®ÂÜå‰∏≠ÂøÉzookeeperÈÖçÁΩÆ‰ø°ÊÅØ--&gt; &lt;dubbo:registry address="$&#123;dubbo.registry.address&#125;"/&gt; &lt;!--ÊîØÊåÅ‰∏§ÁßçÂçèËÆÆÁöÑË∞ÉÁî®Ôºörpc-dubboÂçèËÆÆÔºõhttpÂçèËÆÆ-rest api-urlË∞ÉÁî®--&gt; &lt;dubbo:protocol name="rest" threads="500" contextpath="v1" server="tomcat" accepts="500"/&gt; &lt;dubbo:protocol name="dubbo"/&gt; &lt;!--Ê∂àË¥πÊñπ‰ø°ÊÅØÈÖçÁΩÆ--&gt; &lt;dubbo:application name="dubboOne-consume" owner="debug" organization="dubbox"/&gt;&lt;/beans&gt; 4 zookeeperÁöÑÂÆâË£Ö1./zkServer.sh]]></content>
      <categories>
        <category>dubbo</category>
      </categories>
      <tags>
        <tag>dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂâçÁ´ØAjax ÊÖïËØæÁΩë]]></title>
    <url>%2F2019%2F03%2F12%2F%E5%89%8D%E7%AB%AF%2FAjax%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>Ajax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JqueryÂü∫Á°ÄÁØá Ôºà‰∏âÔºâ ‰∫ã‰ª∂]]></title>
    <url>%2F2019%2F03%2F12%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%9F%BA%E7%A1%80(%E4%B8%89)%2F</url>
    <content type="text"><![CDATA[jQueryÈº†Ê†á‰∫ã‰ª∂‰πãclick‰∏édbclick‰∫ã‰ª∂Áî®‰∫§‰∫íÊìç‰Ωú‰∏≠ÔºåÊúÄÁÆÄÂçïÁõ¥Êé•ÁöÑÊìç‰ΩúÂ∞±ÊòØÁÇπÂáªÊìç‰Ωú„ÄÇjQueryÊèê‰æõ‰∫Ü‰∏§‰∏™ÊñπÊ≥ï‰∏Ä‰∏™ÊòØclickÊñπÊ≥ïÁî®‰∫éÁõëÂê¨Áî®Êà∑ÂçïÂáªÊìç‰ΩúÔºåÂè¶‰∏Ä‰∏™ÊñπÊ≥ïÊòØdbclickÊñπÊ≥ïÁî®‰∫éÁõëÂê¨Áî®Êà∑ÂèåÂáªÊìç‰Ωú„ÄÇËøô‰∏§‰∏™ÊñπÊ≥ïÁöÑÁî®Ê≥ïÊòØÁ±ª‰ººÁöÑÔºå‰∏ãÈù¢‰ª•click()‰∫ã‰ª∂‰∏∫‰æã ‰ΩøÁî®‰∏äÈùûÂ∏∏ÁÆÄÂçïÔºö ÊñπÊ≥ï‰∏ÄÔºö$ele.click() ÁªëÂÆö$eleÂÖÉÁ¥†Ôºå‰∏çÂ∏¶‰ªª‰ΩïÂèÇÊï∞‰∏ÄËà¨ÊòØÁî®Êù•ÊåáÂÆöËß¶Âèë‰∏Ä‰∏™‰∫ã‰ª∂ÔºåÁî®ÁöÑÊØîËæÉÂ∞ë 1234567&lt;div id=&quot;test&quot;&gt;ÁÇπÂáªËß¶Âèë&lt;div&gt;$(&quot;ele&quot;).click(function()&#123; alert(&apos;Ëß¶ÂèëÊåáÂÆö‰∫ã‰ª∂&apos;)&#125;)$(&quot;#test&quot;).click(function()&#123; $(&quot;ele&quot;).click() //ÊâãÂä®ÊåáÂÆöËß¶Âèë‰∫ã‰ª∂ &#125;); ÊñπÊ≥ï‰∫åÔºö$ele.click( handler(eventObject) ) ÁªëÂÆö$eleÂÖÉÁ¥†ÔºåÊØèÊ¨°$eleÂÖÉÁ¥†Ëß¶ÂèëÁÇπÂáªÊìç‰Ωú‰ºöÊâßË°åÂõûË∞É handlerÂáΩÊï∞ÔºåËøôÊ†∑ÂèØ‰ª•ÈíàÂØπ‰∫ã‰ª∂ÁöÑÂèçÈ¶àÂÅöÂæàÂ§öÊìç‰Ωú‰∫ÜÔºåÊñπÊ≥ï‰∏≠ÁöÑthisÊòØÊåáÂêë‰∫ÜÁªëÂÆö‰∫ã‰ª∂ÁöÑÂÖÉÁ¥† 1234&lt;div id=&quot;test&quot;&gt;ÁÇπÂáªËß¶Âèë&lt;div&gt;$(&quot;#test&quot;).click(function() &#123; //thisÊåáÂêë divÂÖÉÁ¥†&#125;); ÊñπÊ≥ï‰∏âÔºö$ele.click( [eventData ], handler(eventObject) ) ‰ΩøÁî®‰∏éÊñπÊ≥ï‰∫å‰∏ÄËá¥Ôºå‰∏çËøáÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™Êï∞ÊçÆÂèÇÊï∞ÔºåËøôÊ†∑ÁöÑÂ§ÑÁêÜÊòØ‰∏∫‰∫ÜËß£ÂÜ≥‰∏çÂêå‰ΩúÁî®Âüü‰∏ãÊï∞ÊçÆ‰º†ÈÄíÁöÑÈóÆÈ¢ò 12345&lt;div id=&quot;test&quot;&gt;ÁÇπÂáªËß¶Âèë&lt;div&gt;$(&quot;#test&quot;).click(11111,function(e) &#123; //thisÊåáÂêë divÂÖÉÁ¥† //e.data =&gt; 11111 ‰º†ÈÄíÊï∞ÊçÆ&#125;); dbclick()ÁöÑÁî®Ê≥ïÂíåclick()ÁöÑÁî®Ê≥ïÊòØÁ±ª‰ººÁöÑÔºåÂèØ‰ª•ÂèÇËÄÉ‰ª•‰∏äclick()ÁöÑÁî®Ê≥ï„ÄÇ dbclick‰∏éclick‰∫ã‰ª∂‰∏çÂêåÁöÑÊòØÔºö click‰∫ã‰ª∂Ëß¶ÂèëÈúÄË¶Å‰ª•‰∏ãÂá†ÁÇπÔºö click‰∫ã‰ª∂ÂÖ∂ÂÆûÊòØÁî±mousedown‰∏émouseup 2‰∏™Âä®‰ΩúÊûÑÊàêÔºåÊâÄ‰ª•ÁÇπÂáªÁöÑÂä®‰ΩúÂè™ÊúâÂú®ÊùæÊâãÂêéÊâçËß¶Âèë PS:mousedownÂíåmouseup‰∏ã‰∏ÄËäÇ‰ºöËÆ≤Âà∞ dbclick**‰∫ã‰ª∂Ëß¶ÂèëÈúÄË¶Å‰ª•‰∏ãÂá†ÁÇπÔºö** dbclickÂèàÊòØÁî±2‰∏™clickÂè†Âä†ËÄåÊù•ÁöÑÔºåÊâÄ‰ª•dbclick‰∫ã‰ª∂Âè™ÊúâÂú®Êª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂ÁöÑÊÉÖÂÜµ‰∏ãÊâçËÉΩË¢´Ëß¶Âèë Èº†Ê†áÊåáÈíàÂú®ÂÖÉÁ¥†ÈáåÈù¢Êó∂ÁÇπÂáª„ÄÇ Èº†Ê†áÊåáÈíàÂú®ÂÖÉÁ¥†ÈáåÈù¢Êó∂ÈáäÊîæ„ÄÇ Èº†Ê†áÊåáÈíàÂú®ÂÖÉÁ¥†ÈáåÈù¢Êó∂ÂÜçÊ¨°ÁÇπÂáªÔºåÁÇπÂáªÈó¥ÈöîÊó∂Èó¥ÔºåÊòØÁ≥ªÁªüËÄåÂÆö„ÄÇ Èº†Ê†áÊåáÈíàÂú®ÂÖÉÁ¥†ÈáåÈù¢Êó∂ÂÜçÊ¨°ÈáäÊîæ„ÄÇ Ê≥®ÊÑèÔºöÂú®Âêå‰∏ÄÂÖÉÁ¥†‰∏äÂêåÊó∂ÁªëÂÆö click Âíå dbclick ‰∫ã‰ª∂ÊòØ‰∏çÂèØÂèñÁöÑ„ÄÇÂêÑ‰∏™ÊµèËßàÂô®‰∫ã‰ª∂Ëß¶ÂèëÁöÑÈ°∫Â∫èÊòØ‰∏çÂêåÁöÑÔºå‰∏Ä‰∫õÊµèËßàÂô®Âú®dbclick‰πãÂâçÊé•Âèó‰∏§‰∏™ click ‰∫ã‰ª∂ ÔºåËÄå‰∏Ä‰∫õÊµèËßàÂô®Âè™Êé•Âèó‰∏Ä‰∏™ click ‰∫ã‰ª∂„ÄÇÁî®Êà∑ÂæÄÂæÄÂèØÈÄöËøá‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªüÂíåÊµèËßàÂô®ÈÖçÁΩÆÂèåÂáªÁÅµÊïèÂ∫¶ 12345678910&lt;h2&gt;.click()ÊñπÊ≥ï&lt;/h2&gt;&lt;h4&gt;ÊµãËØï‰∏Ä&lt;/h4&gt;&lt;button&gt;ÂÖÉÁ¥†ÁªëÂÆö‰∫ã‰ª∂,ÂºπÂá∫ÂõûË∞É‰∏≠ÁöÑthis&lt;/button&gt;&lt;script type="text/javascript"&gt; //thisÊåáÂêëbuttonÂÖÉÁ¥† $("button:eq(0)").click(function() &#123; alert(this) &#125;)&lt;/script&gt; 1234567891011121314&lt;h4&gt;ÊµãËØï‰∫å&lt;/h4&gt;&lt;div class="test2"&gt; &lt;p&gt;$('button:first').click(function(e) &#123;alert(this)&#125;)&lt;/p&gt;&lt;/div&gt;&lt;button&gt;ÊåáÂÆöËß¶Âèë‰∫ã‰ª∂&lt;/button&gt;&lt;script type="text/javascript"&gt; $('p').click(function(e) &#123; alert(e.target.textContent) &#125;) //thisÊåáÂêëbuttonÂÖÉÁ¥† $("button:eq(1)").click(function() &#123; $('p').click() //ÊåáÂÆöËß¶ÂèëÁªëÂÆöÁöÑ‰∫ã‰ª∂ &#125;)&lt;/script&gt; 12345678910111213141516171819&lt;h4&gt;ÊµãËØï‰∏â&lt;/h4&gt;&lt;div class="test3"&gt; &lt;p&gt;$('.right').click(1111, set)&lt;/p&gt;&lt;/div&gt;&lt;button&gt;‰∏çÂêåÂáΩÊï∞‰º†ÈÄíÊï∞ÊçÆ&lt;/button&gt;&lt;script type="text/javascript"&gt; //‰∏çÂêåÂáΩÊï∞‰º†ÈÄíÊï∞ÊçÆ function data(e) &#123; alert(e.data) //1111 &#125; function a() &#123; $("button:eq(2)").click(1111, data) &#125; a();&lt;/script&gt; jQueryÈº†Ê†á‰∫ã‰ª∂‰πãmousedown‰∏émouseup‰∫ã‰ª∂ https://www.imooc.com/code/9717]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jquery Ajax]]></title>
    <url>%2F2019%2F03%2F11%2F%E5%89%8D%E7%AB%AF%2FJquery%20Ajax%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî®load()ÊñπÊ≥ïÂºÇÊ≠•ËØ∑Ê±ÇÊï∞ÊçÆ‰ΩøÁî®load()ÊñπÊ≥ïÈÄöËøáAjaxËØ∑Ê±ÇÂä†ËΩΩÊúçÂä°Âô®‰∏≠ÁöÑÊï∞ÊçÆÔºåÂπ∂ÊääËøîÂõûÁöÑÊï∞ÊçÆÊîæÁΩÆÂà∞ÊåáÂÆöÁöÑÂÖÉÁ¥†‰∏≠ÔºåÂÆÉÁöÑË∞ÉÁî®Ê†ºÂºè‰∏∫Ôºö load(url,[data],[callback]) ÂèÇÊï∞url‰∏∫Âä†ËΩΩÊúçÂä°Âô®Âú∞ÂùÄÔºåÂèØÈÄâÈ°πdataÂèÇÊï∞‰∏∫ËØ∑Ê±ÇÊó∂ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºåcallbackÂèÇÊï∞‰∏∫Êï∞ÊçÆËØ∑Ê±ÇÊàêÂäüÂêéÔºåÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞ ‰æãÂ¶ÇÔºåÁÇπÂáª‚ÄúÂä†ËΩΩ‚ÄùÊåâÈíÆÊó∂ÔºåÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÂä†ËΩΩ‰∏Ä‰∏™ÊåáÂÆöÈ°µÈù¢ÁöÑÂÜÖÂÆπÔºåÂä†ËΩΩÊàêÂäüÂêéÔºåÂ∞ÜÊï∞ÊçÆÂÜÖÂÆπÊòæÁ§∫Âú®ÂÖÉÁ¥†‰∏≠ÔºåÂπ∂Â∞ÜÂä†ËΩΩÊåâÈíÆÂèò‰∏∫‰∏çÂèØÁî®„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ‰ªéÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂΩìÁÇπÂáª‚ÄúÂä†ËΩΩ‚ÄùÊåâÈíÆÊó∂ÔºåÈÄöËøáË∞ÉÁî®load()ÊñπÊ≥ïÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÂä†ËΩΩfruit.htmlÊñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπÔºåÂΩìÂä†ËΩΩÊàêÂäüÂêéÔºåÂÖàÊòæÁ§∫Êï∞ÊçÆÔºåÂπ∂Â∞ÜÊåâÈíÆÂèò‰∏∫‰∏çÂèØÁî®„ÄÇ 2 ‚≠êÔ∏è‰ΩøÁî®getJSON()ÊñπÊ≥ïÂºÇÊ≠•Âä†ËΩΩJSONÊ†ºÂºèÊï∞ÊçÆ‰ΩøÁî®getJSON()ÊñπÊ≥ïÂèØ‰ª•ÈÄöËøáAjaxÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÊñπÂºèÔºåËé∑ÂèñÊúçÂä°Âô®‰∏≠ÁöÑÊï∞ÊçÆÔºåÂπ∂ÂØπËé∑ÂèñÁöÑÊï∞ÊçÆËøõË°åËß£ÊûêÔºåÊòæÁ§∫Âú®È°µÈù¢‰∏≠ÔºåÂÆÉÁöÑË∞ÉÁî®Ê†ºÂºè‰∏∫Ôºö 1**jQuery.getJSON(url,[data],[callback])**`**Êàñ**`**$.getJSON(url,[data],[callback])** ÂÖ∂‰∏≠ÔºåurlÂèÇÊï∞‰∏∫ËØ∑Ê±ÇÂä†ËΩΩjsonÊ†ºÂºèÊñá‰ª∂ÁöÑÊúçÂä°Âô®Âú∞ÂùÄÔºåÂèØÈÄâÈ°πdataÂèÇÊï∞‰∏∫ËØ∑Ê±ÇÊó∂ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºåcallbackÂèÇÊï∞‰∏∫Êï∞ÊçÆËØ∑Ê±ÇÊàêÂäüÂêéÔºåÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞ ‰æãÂ¶ÇÔºåÁÇπÂáªÈ°µÈù¢‰∏≠ÁöÑ‚ÄúÂä†ËΩΩ‚ÄùÊåâÈíÆÔºåË∞ÉÁî®getJSON()ÊñπÊ≥ïËé∑ÂèñÊúçÂä°Âô®‰∏≠JSONÊ†ºÂºèÊñá‰ª∂‰∏≠ÁöÑÊï∞ÊçÆÔºåÂπ∂ÈÅçÂéÜÊï∞ÊçÆÔºåÂ∞ÜÊåáÂÆöÁöÑÂ≠óÊÆµÂêçÂÜÖÂÆπÊòæÁ§∫Âú®È°µÈù¢‰∏≠„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ‰ªéÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂΩìÁÇπÂáª‚ÄúÂä†ËΩΩ‚ÄùÊåâÈíÆÊó∂ÔºåÈÄöËøágetJSON()ÊñπÊ≥ïË∞ÉÁî®ÊúçÂä°Âô®‰∏≠ÁöÑsport.jsonÊñá‰ª∂ÔºåËé∑ÂèñËøîÂõûÁöÑdataÊñá‰ª∂Êï∞ÊçÆÔºåÂπ∂ÈÅçÂéÜËØ•Êï∞ÊçÆÂØπË±°Ôºå‰ª•data[‚Äúname‚Äù]ÂèñÂá∫Êï∞ÊçÆ‰∏≠ÊåáÂÆöÁöÑÂÜÖÂÆπÔºåÊòæÁ§∫Âú®È°µÈù¢‰∏≠„ÄÇ 3 ‰ΩøÁî®getScript()ÊñπÊ≥ïÂºÇÊ≠•Âä†ËΩΩÂπ∂ÊâßË°åjsÊñá‰ª∂‰ΩøÁî®getScript()ÊñπÊ≥ïÂºÇÊ≠•ËØ∑Ê±ÇÂπ∂ÊâßË°åÊúçÂä°Âô®‰∏≠ÁöÑJavaScriptÊ†ºÂºèÁöÑÊñá‰ª∂ÔºåÂÆÉÁöÑË∞ÉÁî®Ê†ºÂºèÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 1jQuery.getScript(url,[callback])`Êàñ`$.getScript(url,[callback]) ÂèÇÊï∞url‰∏∫ÊúçÂä°Âô®ËØ∑Ê±ÇÂú∞ÂùÄÔºåÂèØÈÄâÈ°πcallbackÂèÇÊï∞‰∏∫ËØ∑Ê±ÇÊàêÂäüÂêéÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ ‰æãÂ¶ÇÔºåÁÇπÂáª‚ÄúÂä†ËΩΩ‚ÄùÊåâÈíÆÔºåË∞ÉÁî®getScript()Âä†ËΩΩÂπ∂ÊâßË°åÊúçÂä°Âô®‰∏≠ÊåáÂÆöÂêçÁß∞ÁöÑJavaScriptÊ†ºÂºèÁöÑÊñá‰ª∂ÔºåÂπ∂Âú®È°µÈù¢‰∏≠ÊòæÁ§∫Âä†ËΩΩÂêéÁöÑÊï∞ÊçÆÂÜÖÂÆπÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ‰ªéÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂΩìÁÇπÂáª‚ÄúÂä†ËΩΩ‚ÄùÊåâÈíÆË∞ÉÁî®getScript()ÊñπÊ≥ïÂä†ËΩΩÊúçÂä°Âô®‰∏≠ÁöÑJavaScriptÊ†ºÂºèÊñá‰ª∂ÂêéÔºåËá™Âä®ÊâßË°åÊñá‰ª∂‰ª£Á†ÅÔºåÂ∞ÜÊï∞ÊçÆÂÜÖÂÆπÊòæÁ§∫Âú®ÂÖÉÁ¥†‰∏≠ ‰ΩøÁî®get()ÊñπÊ≥ï‰ª•GETÊñπÂºè‰ªéÊúçÂä°Âô®Ëé∑ÂèñÊï∞ÊçÆ‰ΩøÁî®get()ÊñπÊ≥ï‰ª•GETÊñπÂºè‰ªéÊúçÂä°Âô®Ëé∑ÂèñÊï∞ÊçÆ‰ΩøÁî®get()ÊñπÊ≥ïÊó∂ÔºåÈááÁî®GETÊñπÂºèÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊï∞ÊçÆÔºåÂπ∂ÈÄöËøáÊñπÊ≥ï‰∏≠ÂõûË∞ÉÂáΩÊï∞ÁöÑÂèÇÊï∞ËøîÂõûËØ∑Ê±ÇÁöÑÊï∞ÊçÆÔºåÂÆÉÁöÑË∞ÉÁî®Ê†ºÂºèÂ¶Ç‰∏ãÔºö 1$.get(url,[callback]) ÂèÇÊï∞url‰∏∫ÊúçÂä°Âô®ËØ∑Ê±ÇÂú∞ÂùÄÔºåÂèØÈÄâÈ°πcallbackÂèÇÊï∞‰∏∫ËØ∑Ê±ÇÊàêÂäüÂêéÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ ‰æãÂ¶ÇÔºåÂΩìÁÇπÂáª‚ÄúÂä†ËΩΩ‚ÄùÊåâÈíÆÊó∂ÔºåË∞ÉÁî®get()ÊñπÊ≥ïÂêëÊúçÂä°Âô®‰∏≠ÁöÑ‰∏Ä‰∏™.phpÊñá‰ª∂‰ª•GETÊñπÂºèËØ∑Ê±ÇÊï∞ÊçÆÔºåÂπ∂Â∞ÜËøîÂõûÁöÑÊï∞ÊçÆÂÜÖÂÆπÊòæÁ§∫Âú®È°µÈù¢‰∏≠ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ‰ªéÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÈÄöËøá$.get()ÊñπÊ≥ïÂêëÊúçÂä°Âô®ÊàêÂäüËØ∑Ê±ÇÊï∞ÊçÆÂêéÔºåÂú®ÂõûË∞ÉÂáΩÊï∞‰∏≠ÈÄöËøádataÂèÇÊï∞‰º†ÂõûËØ∑Ê±ÇÁöÑÊï∞ÊçÆÔºåÂπ∂‰ª•data.nameÊ†ºÂºèËÆøÈóÆÊï∞ÊçÆ‰∏≠ÂêÑÈ°πÁöÑÂÜÖÂÆπ„ÄÇ 123456789101112&lt;script type="text/javascript"&gt; $(function () &#123; $("#btnShow").bind("click", function () &#123; var $this = $(this); $.get("http://www.imooc.com/data/info_f.php",function(data) &#123; $this.attr("disabled", "true"); $("ul").append("&lt;li&gt;ÊàëÁöÑÂêçÂ≠óÂè´Ôºö" + data.name + "&lt;/li&gt;"); $("ul").append("&lt;li&gt;Áî∑ÊúãÂèãÂØπÊàëËØ¥Ôºö" + data.say + "&lt;/li&gt;"); &#125;, "json"); &#125;) &#125;); &lt;/script&gt; 1234&#123;"name": "ÁôΩÂØåÁæé","say": "Âí±‰ª¨ÁªìÂ©öÂêß!"&#125; ‰ΩøÁî®post()ÊñπÊ≥ï‰ª•POSTÊñπÂºè‰ªéÊúçÂä°Âô®ÂèëÈÄÅÊï∞ÊçÆ‰∏éget()ÊñπÊ≥ïÁõ∏ÊØîÔºåpost()ÊñπÊ≥ïÂ§öÁî®‰∫é‰ª•POSTÊñπÂºèÂêëÊúçÂä°Âô®ÂèëÈÄÅÊï∞ÊçÆÔºåÊúçÂä°Âô®Êé•Êî∂Âà∞Êï∞ÊçÆ‰πãÂêéÔºåËøõË°åÂ§ÑÁêÜÔºåÂπ∂Â∞ÜÂ§ÑÁêÜÁªìÊûúËøîÂõûÈ°µÈù¢ÔºåË∞ÉÁî®Ê†ºÂºèÂ¶Ç‰∏ãÔºö 1$.post(url,[data],[callback]) ÂèÇÊï∞url‰∏∫ÊúçÂä°Âô®ËØ∑Ê±ÇÂú∞ÂùÄÔºåÂèØÈÄâÈ°πdata‰∏∫ÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊó∂ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºåÂèØÈÄâÈ°πcallbackÂèÇÊï∞‰∏∫ËØ∑Ê±ÇÊàêÂäüÂêéÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ ‰æãÂ¶ÇÔºåÂú®ËæìÂÖ•Ê°Ü‰∏≠ÂΩïÂÖ•‰∏Ä‰∏™Êï∞Â≠óÔºåÁÇπÂáª‚ÄúÊ£ÄÊµã‚ÄùÊåâÈíÆÔºåË∞ÉÁî®post()ÊñπÊ≥ïÂêëÊúçÂä°Âô®‰ª•POSTÊñπÂºèÂèëÈÄÅËØ∑Ê±ÇÔºåÊ£ÄÊµãËæìÂÖ•ÂÄºÁöÑÂ•áÂÅ∂ÊÄßÔºåÂπ∂ÊòæÁ§∫Âú®È°µÈù¢‰∏≠ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö Âú®ÊµèËßàÂô®‰∏≠ÊòæÁ§∫ÁöÑÊïàÊûúÔºö ‰ªéÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂΩìÁÇπÂáª‚ÄúÊ£ÄÊµã‚ÄùÊåâÈíÆÊó∂ÔºåËé∑ÂèñËæìÂÖ•Ê°Ü‰∏≠ÁöÑÂÄºÔºåÂπ∂Â∞ÜËØ•ÂÄº‰ΩøÁî®$.post()ÊñπÊ≥ï‰∏ÄËµ∑ÂèëÈÄÅÁªôÊúçÂä°Âô®ÔºåÊúçÂä°Âô®Êé•Êî∂ËØ•ÂÄºÂêéÂπ∂ËøõË°åÂ§ÑÁêÜÔºåÊúÄÂêéËøîÂõûÂ§ÑÁêÜÁªìÊûú„ÄÇ 123456789101112&lt;script type="text/javascript"&gt; $(function () &#123; $("#btnCheck").bind("click", function () &#123; $.post("http://www.imooc.com/data/check_f.php",&#123;name:$("#txtNumber").val()&#125;, function (data) &#123; $("ul").append("&lt;li&gt;‰Ω†ËæìÂÖ•ÁöÑ&lt;b&gt; " + $("#txtNumber").val() + " &lt;/b&gt;ÊòØ&lt;b&gt; " + data + " &lt;/b&gt;&lt;/li&gt;"); &#125;); &#125;) &#125;); &lt;/script&gt; ‰ΩøÁî®serialize()ÊñπÊ≥ïÂ∫èÂàóÂåñË°®ÂçïÂÖÉÁ¥†ÂÄº‰ΩøÁî®serialize()ÊñπÊ≥ïÂèØ‰ª•Â∞ÜË°®Âçï‰∏≠ÊúânameÂ±ûÊÄßÁöÑÂÖÉÁ¥†ÂÄºËøõË°åÂ∫èÂàóÂåñÔºåÁîüÊàêÊ†áÂáÜURLÁºñÁ†ÅÊñáÊú¨Â≠óÁ¨¶‰∏≤ÔºåÁõ¥Êé•ÂèØÁî®‰∫éajaxËØ∑Ê±ÇÔºåÂÆÉÁöÑË∞ÉÁî®Ê†ºÂºèÂ¶Ç‰∏ãÔºö 1**$(selector).serialize()** ÂÖ∂‰∏≠selectorÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ë°®Âçï‰∏≠ÁöÑÂÖÉÁ¥†ÊàñË°®ÂçïÂÖÉÁ¥†Êú¨Ë∫´„ÄÇ ‰æãÂ¶ÇÔºåÂú®Ë°®Âçï‰∏≠Ê∑ªÂä†Â§ö‰∏™ÂÖÉÁ¥†ÔºåÁÇπÂáª‚ÄúÂ∫èÂàóÂåñ‚ÄùÊåâÈíÆÂêéÔºåË∞ÉÁî®serialize()ÊñπÊ≥ïÔºåÂ∞ÜË°®ÂçïÂÖÉÁ¥†Â∫èÂàóÂåñÂêéÁöÑÊ†áÂáÜURLÁºñÁ†ÅÊñáÊú¨Â≠óÁ¨¶‰∏≤ÊòæÁ§∫Âú®È°µÈù¢‰∏≠ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ‰ΩøÁî®ajax()ÊñπÊ≥ïÂä†ËΩΩÊúçÂä°Âô®Êï∞ÊçÆ‰ΩøÁî®ajax()ÊñπÊ≥ïÊòØÊúÄÂ∫ïÂ±Ç„ÄÅÂäüËÉΩÊúÄÂº∫Â§ßÁöÑËØ∑Ê±ÇÊúçÂä°Âô®Êï∞ÊçÆÁöÑÊñπÊ≥ïÔºåÂÆÉ‰∏ç‰ªÖÂèØ‰ª•Ëé∑ÂèñÊúçÂä°Âô®ËøîÂõûÁöÑÊï∞ÊçÆÔºåËøòËÉΩÂêëÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÂπ∂‰º†ÈÄíÊï∞ÂÄºÔºåÂÆÉÁöÑË∞ÉÁî®Ê†ºÂºèÂ¶Ç‰∏ãÔºö 1**jQuery.ajax([settings])**`**Êàñ**`**$.ajax([settings])** ÂÖ∂‰∏≠ÂèÇÊï∞settings‰∏∫ÂèëÈÄÅajaxËØ∑Ê±ÇÊó∂ÁöÑÈÖçÁΩÆÂØπË±°ÔºåÂú®ËØ•ÂØπË±°‰∏≠ÔºåurlË°®Á§∫ÊúçÂä°Âô®ËØ∑Ê±ÇÁöÑË∑ØÂæÑÔºådata‰∏∫ËØ∑Ê±ÇÊó∂‰º†ÈÄíÁöÑÊï∞ÊçÆÔºådataType‰∏∫ÊúçÂä°Âô®ËøîÂõûÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåsuccess‰∏∫ËØ∑Ê±ÇÊàêÂäüÁöÑÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞Ôºåtype‰∏∫ÂèëÈÄÅÊï∞ÊçÆËØ∑Ê±ÇÁöÑÊñπÂºèÔºåÈªòËÆ§‰∏∫get„ÄÇ ‰æãÂ¶ÇÔºåÁÇπÂáªÈ°µÈù¢‰∏≠ÁöÑ‚ÄúÂä†ËΩΩ‚ÄùÊåâÈíÆÔºåË∞ÉÁî®ajax()ÊñπÊ≥ïÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÂä†ËΩΩ‰∏Ä‰∏™txtÊñá‰ª∂ÔºåÂπ∂Â∞ÜËøîÂõûÁöÑÊñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπÊòæÁ§∫Âú®È°µÈù¢ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö 12345678910111213141516&lt;script type="text/javascript"&gt; $(function () &#123; $("#btnCheck").bind("click", function () &#123; $.ajax(&#123; url: "http://www.imooc.com/data/check.php", data: &#123; num: $("#txtNumber").val() &#125;, type: 'POST', success: function (data) &#123; $("ul").append("&lt;li&gt;‰Ω†ËæìÂÖ•ÁöÑ&lt;b&gt; " + $("#txtNumber").val() + " &lt;/b&gt;ÊòØ&lt;b&gt; " + data + " &lt;/b&gt;&lt;/li&gt;"); &#125; &#125;); &#125;) &#125;); &lt;/script&gt;]]></content>
      <tags>
        <tag>Jquery</tag>
        <tag>Ajax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁîµÂïÜÁΩëÁ´ôÂºÄÂèë Ë∞∑Á≤íÂïÜÂüé ÂæêÈùôÂçö]]></title>
    <url>%2F2019%2F03%2F10%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E7%AE%80%E4%BB%8B%20%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"></content>
      <tags>
        <tag>ÂÆûÊàò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂêéÂè∞ÊúçÂä°‰ª£Á†ÅÊû∂ÊûÑÔºödubooÈõÜÁæ§ÈÉ®ÁΩ≤ÂÆâË£Ö]]></title>
    <url>%2F2019%2F03%2F10%2FDubbo%2Fduboo%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[dubboÈõÜÁæ§ÈÉ®ÁΩ≤ÂÆâË£Ö‰æùËµñ‰∫ézookeeperÔºåÊâÄ‰ª•Êàë‰ª¨‰∏ãÈù¢ÈáçÁÇπÂÆâË£ÖzookeeperÈõÜÁæ§„ÄÇ1„ÄÅ**ÂáÜÂ§á‰∏âÂè∞Êú∫Âô®ÂÅöÈõÜÁæ§** ÊúçÂä°Âô® IPÂú∞ÂùÄ Á´ØÂè£ ÊúçÂä°Âô®1 10.211.55.7 2181/2881/3881 ÊúçÂä°Âô®2 10.211.55.8 2181/2881/3881 ÊúçÂä°Âô®3 10.211.55.9 2181/2881/3881 12345export ZOOKEEPER_HOME=/root/zookeeper-3.4.10export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jarexport JAVA_HOME=/root/jdk1.8.0_201export PATH=$PATH:$JAVA_HOME/binexport PATH=$PATH:$ZOOKEEPER_HOME/bin:$JAVA_HOME/bin 2.2 ‰øÆÊîπÊìç‰ΩúÁ≥ªÁªüÁöÑ/etc/hostsÊñá‰ª∂ÔºåÊ∑ªÂä†IP‰∏é‰∏ªÊú∫ÂêçÊò†Â∞ÑÔºö # zookeeper cluster servers 10.211.55.7 bigdata1 10.211.55.8 bigdata2 10.211.55.9 bigdata3 tar -zxvf zookeeper-3.4.9.tar.gz 2.5 Âú®zookeeperÁöÑÂêÑ‰∏™ËäÇÁÇπ‰∏ã ÂàõÂª∫Êï∞ÊçÆÂíåÊó•ÂøóÁõÆÂΩïcd zookeeper mkdir data mkdir logs 12345678910112.6 ÈáçÂëΩÂêçÈÖçÁΩÆÊñá‰ª∂ Â∞Üzookeeper/confÁõÆÂΩï‰∏ãÁöÑzoo_sample.cfgÊñá‰ª∂Êã∑Ë¥ù‰∏Ä‰ªΩÔºåÂëΩÂêç‰∏∫zoo.cfg:#cp zoo_sample.cfg zoo.cfg‰øÆÊîπzoo.cfg ÈÖçÁΩÆÊñá‰ª∂clientPort=2181dataDir=/data/program/software/zookeeper/datadataLogDir=/data/program/software/zookeeper/logs server.1=bigdata1:2881:3881server.2=bigdata2:2881:3881server.3=bigdata3:2881:3881 1234567891011121314151617181920ÂèÇÊï∞ËØ¥Êòé:tickTime=2000tickTimeËøô‰∏™Êó∂Èó¥ÊòØ‰Ωú‰∏∫ZookeeperÊúçÂä°Âô®‰πãÈó¥ÊàñÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Âô®‰πãÈó¥Áª¥ÊåÅÂøÉË∑≥ÁöÑÊó∂Èó¥Èó¥Èöî,‰πüÂ∞±ÊòØÊØè‰∏™tickTimeÊó∂Èó¥Â∞±‰ºöÂèëÈÄÅ‰∏Ä‰∏™ÂøÉË∑≥„ÄÇinitLimit=10initLimitËøô‰∏™ÈÖçÁΩÆÈ°πÊòØÁî®Êù•ÈÖçÁΩÆZookeeperÊé•ÂèóÂÆ¢Êà∑Á´ØÔºàËøôÈáåÊâÄËØ¥ÁöÑÂÆ¢Êà∑Á´Ø‰∏çÊòØÁî®Êà∑ËøûÊé•ZookeeperÊúçÂä°Âô®ÁöÑÂÆ¢Êà∑Á´Ø,ËÄåÊòØZookeeperÊúçÂä°Âô®ÈõÜÁæ§‰∏≠ËøûÊé•Âà∞LeaderÁöÑFollower ÊúçÂä°Âô®ÔºâÂàùÂßãÂåñËøûÊé•Êó∂ÊúÄÈïøËÉΩÂøçÂèóÂ§öÂ∞ë‰∏™ÂøÉË∑≥Êó∂Èó¥Èó¥ÈöîÊï∞„ÄÇÂΩìÂ∑≤ÁªèË∂ÖËøá10‰∏™ÂøÉË∑≥ÁöÑÊó∂Èó¥Ôºà‰πüÂ∞±ÊòØtickTimeÔºâÈïøÂ∫¶ÂêéZookeeper ÊúçÂä°Âô®ËøòÊ≤°ÊúâÊî∂Âà∞ÂÆ¢Êà∑Á´ØÁöÑËøîÂõû‰ø°ÊÅØ,ÈÇ£‰πàË°®ÊòéËøô‰∏™ÂÆ¢Êà∑Á´ØËøûÊé•Â§±Ë¥•„ÄÇÊÄªÁöÑÊó∂Èó¥ÈïøÂ∫¶Â∞±ÊòØ10*2000=20 Áßí„ÄÇsyncLimit=5syncLimitËøô‰∏™ÈÖçÁΩÆÈ°πÊ†áËØÜLeader‰∏éFollower‰πãÈó¥ÂèëÈÄÅÊ∂àÊÅØ,ËØ∑Ê±ÇÂíåÂ∫îÁ≠îÊó∂Èó¥ÈïøÂ∫¶,ÊúÄÈïø‰∏çËÉΩË∂ÖËøáÂ§öÂ∞ë‰∏™tickTimeÁöÑÊó∂Èó¥ÈïøÂ∫¶,ÊÄªÁöÑÊó∂Èó¥ÈïøÂ∫¶Â∞±ÊòØ5*2000=10Áßí„ÄÇdataDir=/data/program/software/zookeeper/datadataDirÈ°æÂêçÊÄù‰πâÂ∞±ÊòØZookeeper‰øùÂ≠òÊï∞ÊçÆÁöÑÁõÆÂΩï,ÈªòËÆ§ÊÉÖÂÜµ‰∏ãZookeeperÂ∞ÜÂÜôÊï∞ÊçÆÁöÑÊó•ÂøóÊñá‰ª∂‰πü‰øùÂ≠òÂú®Ëøô‰∏™ÁõÆÂΩïÈáå„ÄÇclientPort=2181clientPortËøô‰∏™Á´ØÂè£Â∞±ÊòØÂÆ¢Êà∑Á´ØÔºàÂ∫îÁî®Á®ãÂ∫èÔºâËøûÊé•ZookeeperÊúçÂä°Âô®ÁöÑÁ´ØÂè£,Zookeeper‰ºöÁõëÂê¨Ëøô‰∏™Á´ØÂè£Êé•ÂèóÂÆ¢Êà∑Á´ØÁöÑËÆøÈóÆËØ∑Ê±Ç„ÄÇserver.A=BÔºöCÔºöDserver.1=bigdata1:2881:3881server.2=bigdata2:2881:3881server.3=bigdata3:2881:3881AÊòØ‰∏Ä‰∏™Êï∞Â≠ó,Ë°®Á§∫Ëøô‰∏™ÊòØÁ¨¨Âá†Âè∑ÊúçÂä°Âô®ÔºõBÊòØËøô‰∏™ÊúçÂä°Âô®ÁöÑIPÂú∞ÂùÄÔºàÊàñËÄÖÊòØ‰∏éIPÂú∞ÂùÄÂÅö‰∫ÜÊò†Â∞ÑÁöÑ‰∏ªÊú∫ÂêçÔºâÔºõCÁ¨¨‰∏Ä‰∏™Á´ØÂè£Áî®Êù•ÈõÜÁæ§ÊàêÂëòÁöÑ‰ø°ÊÅØ‰∫§Êç¢,Ë°®Á§∫Ëøô‰∏™ÊúçÂä°Âô®‰∏éÈõÜÁæ§‰∏≠ÁöÑLeaderÊúçÂä°Âô®‰∫§Êç¢‰ø°ÊÅØÁöÑÁ´ØÂè£ÔºõDÊòØÂú®leaderÊåÇÊéâÊó∂‰∏ìÈó®Áî®Êù•ËøõË°åÈÄâ‰∏æleaderÊâÄÁî®ÁöÑÁ´ØÂè£„ÄÇÊ≥®ÊÑèÔºöÂ¶ÇÊûúÊòØ‰º™ÈõÜÁæ§ÁöÑÈÖçÁΩÆÊñπÂºèÔºå‰∏çÂêåÁöÑ Zookeeper ÂÆû‰æãÈÄö‰ø°Á´ØÂè£Âè∑‰∏çËÉΩ‰∏ÄÊ†∑ÔºåÊâÄ‰ª•Ë¶ÅÁªôÂÆÉ‰ª¨ÂàÜÈÖç‰∏çÂêåÁöÑÁ´ØÂè£Âè∑„ÄÇ 12345678910112.8 ÂàõÂª∫myidÊñá‰ª∂Âú®dataDir= dataDir=/data/program/software/zookeeper/data ‰∏ãÂàõÂª∫myidÊñá‰ª∂ÁºñËæëmyidÊñá‰ª∂ÔºåÂπ∂Âú®ÂØπÂ∫îÁöÑIPÁöÑÊú∫Âô®‰∏äËæìÂÖ•ÂØπÂ∫îÁöÑÁºñÂè∑„ÄÇÂ¶ÇÂú®1‰∏äÔºåmyidÊñá‰ª∂ÂÜÖÂÆπÂ∞±ÊòØ1, 2‰∏äÂ∞±ÊòØ2Ôºå 3‰∏äÂ∞±ÊòØ3Ôºö#vi /myid## ÂÄº‰∏∫1#vi /myid## ÂÄº‰∏∫2#vi /myid## ÂÄº‰∏∫32.9 ÂêØÂä®ÊµãËØïzookeeper(1)ËøõÂÖ•/binÁõÆÂΩï‰∏ãÊâßË°åÔºö# /zkServer.sh start# /zkServer.sh start# /zkServer.sh start ‚Äî-]]></content>
      <categories>
        <category>dubbo</category>
      </categories>
      <tags>
        <tag>Dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JqueryÂü∫Á°ÄÁØáÔºà‰∫åÔºâ-DOMÁØáÁ´†]]></title>
    <url>%2F2019%2F03%2F09%2F%E5%89%8D%E7%AB%AF%2FjQuery%E5%9F%BA%E7%A1%80(%E4%BA%8C)%E2%80%94DOM%E7%AF%87%2F</url>
    <content type="text"><![CDATA[DOMÂàõÂª∫ËäÇÁÇπÂèäËäÇÁÇπÂ±ûÊÄßÊú¨ÊñáÂêëÂ§ßÂÆ∂‰ªãÁªç‰∏Ä‰∏ãÂ¶Ç‰Ωï‰ΩøÁî®JavaScriptÂàõÂª∫divËäÇÁÇπÂÖÉÁ¥†Ôºå‰∏ªË¶ÅÂåÖÊã¨ÂàõÂª∫divËäÇÁÇπÂÖÉÁ¥†ÁöÑÂ±ûÊÄßÂíåÂàõÂª∫divËäÇÁÇπÂÖÉÁ¥†ÁöÑÊ†∑Âºè‰∏§Â§ßÈÉ®ÂàÜÂÜÖÂÆπ ÂàõÂª∫ÊµÅÁ®ãÊØîËæÉÁÆÄÂçïÔºåÂ§ß‰ΩìÂ¶Ç‰∏ãÔºö ÂàõÂª∫ËäÇÁÇπ(Â∏∏ËßÅÁöÑÔºöÂÖÉÁ¥†„ÄÅÂ±ûÊÄßÂíåÊñáÊú¨) Ê∑ªÂä†ËäÇÁÇπÁöÑ‰∏Ä‰∫õÂ±ûÊÄß Âä†ÂÖ•Âà∞ÊñáÊ°£‰∏≠ ÊµÅÁ®ã‰∏≠Ê∂âÂèäÁöÑ‰∏ÄÁÇπÊñπÊ≥ïÔºö ÂàõÂª∫ÂÖÉÁ¥†Ôºödocument.createElement ËÆæÁΩÆÂ±ûÊÄßÔºösetAttribute Ê∑ªÂä†ÊñáÊú¨ÔºöinnerHTML Âä†ÂÖ•ÊñáÊ°£ÔºöappendChild 12345678910111213141516171819202122&lt;script type="text/javascript"&gt; var body = document.querySelector('body'); document.addEventListener('click',function()&#123; //ÂàõÂª∫2‰∏™divÂÖÉÁ¥† var rightdiv = document.createElement('div') var rightaaron = document.createElement("div"); //Áªô2‰∏™divËÆæÁΩÆ‰∏çÂêåÁöÑÂ±ûÊÄß rightdiv.setAttribute('class', 'right') rightaaron.className = 'aaron' rightaaron.innerHTML = "Âä®ÊÄÅÂàõÂª∫DIVÂÖÉÁ¥†ËäÇÁÇπ"; //2‰∏™divÂêàÂπ∂ÊàêÂåÖÂê´ÂÖ≥Á≥ª rightdiv.appendChild(rightaaron) //ÁªòÂà∂Âà∞È°µÈù¢body body.appendChild(rightdiv) &#125;,false) &lt;script&gt; Â¶ÇÂè≥Ëæπ‰ª£Á†ÅÊâÄÁ§∫ÔºåÂÜô‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑÂÖÉÁ¥†ÂàõÂª∫ÔºåÊàë‰ª¨‰ºöÂèëÁé∞Âá†‰∏™ÈóÆÈ¢òÔºö ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ËäÇÁÇπÈÉΩÂøÖÈ°ªÂçïÁã¨ÂàõÂª∫ ËäÇÁÇπÊòØÂ±ûÊÄßÈúÄË¶ÅÂçïÁã¨ËÆæÁΩÆÔºåËÄå‰∏îËÆæÁΩÆÁöÑÊé•Âè£‰∏çÊòØÂæàÁªü‰∏Ä Ê∑ªÂä†Âà∞ÊåáÂÆöÁöÑÂÖÉÁ¥†‰ΩçÁΩÆ‰∏çÁÅµÊ¥ª ÊúÄÂêéËøòÊúâ‰∏Ä‰∏™ÊúÄÈáçË¶ÅÁöÑÔºöÊµèËßàÂô®ÂÖºÂÆπÈóÆÈ¢òÂ§ÑÁêÜ jQueryËäÇÁÇπÂàõÂª∫‰∏éÂ±ûÊÄßÁöÑÂ§ÑÁêÜÂàõÂª∫ÂÖÉÁ¥†ËäÇÁÇπÔºö 1ÂèØ‰ª•ÊúâÂá†ÁßçÊñπÂºèÔºåÂêéÈù¢‰ºöÊÖ¢ÊÖ¢Êé•Ëß¶„ÄÇÂ∏∏ËßÅÁöÑÂ∞±ÊòØÁõ¥Êé•ÊääËøô‰∏™ËäÇÁÇπÁöÑÁªìÊûÑÁªôÈÄöËøáHTMLÊ†áËÆ∞Â≠óÁ¨¶‰∏≤ÊèèËø∞Âá∫Êù•ÔºåÈÄöËøá $()ÂáΩÊï∞Â§ÑÁêÜÔºå$(&quot;htmlÁªìÊûÑ&quot;) 1$(&quot;&lt;div&gt;&lt;/div&gt;&quot;) ÂàõÂª∫‰∏∫Êú¨ËäÇÁÇπÔºö 12‰∏éÂàõÂª∫ÂÖÉÁ¥†ËäÇÁÇπÁ±ª‰ººÔºåÂèØ‰ª•Áõ¥Êé•ÊääÊñáÊú¨ÂÜÖÂÆπ‰∏ÄÂπ∂ÊèèËø∞$(&quot;&lt;div&gt;ÊàëÊòØÊñáÊú¨ËäÇÁÇπ&lt;/div&gt;&quot;) ÂàõÂª∫‰∏∫Â±ûÊÄßËäÇÁÇπ 12‰∏éÂàõÂª∫ÂÖÉÁ¥†ËäÇÁÇπÂêåÊ†∑ÁöÑÊñπÂºè$(&quot;&lt;div id=&apos;test&apos; class=&apos;aaron&apos;&gt;ÊàëÊòØÊñáÊú¨ËäÇÁÇπ&lt;/div&gt;&quot;) Êàë‰ª¨ÈÄöËøájQueryÊää‰∏ä‰∏ÄÂ±äÁöÑ‰ª£Á†ÅÊîπÈÄ†‰∏Ä‰∏ãÔºåÂ¶ÇÂè≥Ëæπ‰ª£Á†ÅÊâÄÁ§∫ ‰∏ÄÊù°‰∏ÄÂè•Â∞±ÊêûÂÆö‰∫ÜÔºåË∑üÂÜôHTMLÁªìÊûÑÊñπÂºèÊòØ‰∏ÄÊ†∑ÁöÑ 1$(&quot;&lt;div class=&apos;right&apos;&gt;&lt;div class=&apos;aaron&apos;&gt;Âä®ÊÄÅÂàõÂª∫DIVÂÖÉÁ¥†ËäÇÁÇπ&lt;/div&gt;&lt;/div&gt;&quot;) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;html&gt;&lt;head&gt; &lt;meta http-equiv="Content-type" content="text/html; charset=utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;script src="https://www.imooc.com/static/lib/jquery/1.9.1/jquery.js"&gt;&lt;/script&gt; &lt;style&gt; .left, .right &#123; width: 300px; height: 120px; &#125; .left div, .right div &#123; width: 100px; height: 90px; padding: 5px; margin: 5px; float: left; border: 1px solid #ccc; &#125; .left div &#123; background: #bbffaa; &#125; .right div &#123; background: yellow; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt;Âä®ÊÄÅÂàõÂª∫ÂÖÉÁ¥†ËäÇÁÇπ&lt;/h2&gt; &lt;button&gt;ÁÇπÂáªÈÄöËøájQueryÂä®ÊÄÅÂàõÂª∫ÂÖÉÁ¥†ËäÇÁÇπ&lt;/button&gt; &lt;script type="text/javascript"&gt; var $body = $('body'); $body.on('click', function() &#123; //ÈÄöËøájQueryÁîüÊàêdivÂÖÉÁ¥†ËäÇÁÇπ var div = $("&lt;div class='right'&gt;&lt;div class='aaron'&gt;Âä®ÊÄÅÂàõÂª∫DIVÂÖÉÁ¥†ËäÇÁÇπ&lt;/div&gt;&lt;/div&gt;") $body.append(div) &#125;) // var body = document.querySelector('body'); // document.addEventListener('click',function()&#123; // //ÂàõÂª∫2‰∏™divÂÖÉÁ¥† // var rightdiv = document.createElement('div') // var rightaaron = document.createElement("div"); // //Áªô2‰∏™divËÆæÁΩÆ‰∏çÂêåÁöÑÂ±ûÊÄß // rightdiv.setAttribute('class', 'right') // rightaaron.className = 'aaron' // rightaaron.innerHTML = "Âä®ÊÄÅÂàõÂª∫DIVÂÖÉÁ¥†ËäÇÁÇπ"; // //2‰∏™divÂêàÂπ∂ÊàêÂåÖÂê´ÂÖ≥Á≥ª // rightdiv.appendChild(rightaaron) // //ÁªòÂà∂Âà∞È°µÈù¢body // body.appendChild(rightdiv) // &#125;,false) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 12345678var $body = $('body'); $body.on('click', function() &#123; //ÈÄöËøájQueryÁîüÊàêdivÂÖÉÁ¥†ËäÇÁÇπ var div = $("&lt;div class='right'&gt;&lt;div class='aaron'&gt;Âä®ÊÄÅÂàõÂª∫DIVÂÖÉÁ¥†ËäÇÁÇπ&lt;/div&gt;&lt;/div&gt;") $body.append(div) &#125;) DOMÂÜÖÈÉ®ÊèíÂÖ•append()‰∏éappendTo()Âä®ÊÄÅÂàõÂª∫ÁöÑÂÖÉÁ¥†ÊòØ‰∏çÂ§üÁöÑÔºåÂÆÉÂè™ÊòØ‰∏¥Êó∂Â≠òÊîæÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÊúÄÁªàÊàë‰ª¨ÈúÄË¶ÅÊîæÂà∞È°µÈù¢ÊñáÊ°£Âπ∂ÂëàÁé∞Âá∫Êù•„ÄÇÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºåÊÄé‰πàÊîæÂà∞ÊñáÊ°£‰∏äÔºü ËøôÈáåÂ∞±Ê∂âÂèäÂà∞‰∏Ä‰∏™‰ΩçÁΩÆÂÖ≥Á≥ªÔºåÂ∏∏ËßÅÁöÑÂ∞±ÊòØÊääËøô‰∏™Êñ∞ÂàõÂª∫ÁöÑÂÖÉÁ¥†ÔºåÂΩì‰ΩúÈ°µÈù¢Êüê‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂ≠êÂÖÉÁ¥†ÊîæÂà∞ÂÖ∂ÂÜÖÈÉ®„ÄÇÈíàÂØπËøôÊ†∑ÁöÑÂ§ÑÁêÜÔºåjQueryÂ∞±ÂÆö‰πâ2‰∏™Êìç‰ΩúÁöÑÊñπÊ≥ï appendÔºöËøô‰∏™Êìç‰Ωú‰∏éÂØπÊåáÂÆöÁöÑÂÖÉÁ¥†ÊâßË°åÂéüÁîüÁöÑappendChildÊñπÊ≥ïÔºåÂ∞ÜÂÆÉ‰ª¨Ê∑ªÂä†Âà∞ÊñáÊ°£‰∏≠ÁöÑÊÉÖÂÜµÁ±ª‰ºº„ÄÇ appendToÔºöÂÆûÈôÖ‰∏äÔºå‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïÊòØÈ¢†ÂÄí‰∫ÜÂ∏∏ËßÑÁöÑ$(A).append(B)ÁöÑÊìç‰ΩúÔºåÂç≥‰∏çÊòØÊääBËøΩÂä†Âà∞A‰∏≠ÔºåËÄåÊòØÊääAËøΩÂä†Âà∞B‰∏≠„ÄÇ ÁÆÄÂçïÁöÑÊÄªÁªìÂ∞±ÊòØÔºö .append()Âíå.appendTo()‰∏§ÁßçÊñπÊ≥ïÂäüËÉΩÁõ∏ÂêåÔºå‰∏ªË¶ÅÁöÑ‰∏çÂêåÊòØËØ≠Ê≥ï‚Äî‚ÄîÂÜÖÂÆπÂíåÁõÆÊ†áÁöÑ‰ΩçÁΩÆ‰∏çÂêå 12append()ÂâçÈù¢ÊòØË¢´ÊèíÂÖ•ÁöÑÂØπË±°ÔºåÂêéÈù¢ÊòØË¶ÅÂú®ÂØπË±°ÂÜÖÊèíÂÖ•ÁöÑÂÖÉÁ¥†ÂÜÖÂÆπappendTo()ÂâçÈù¢ÊòØË¶ÅÊèíÂÖ•ÁöÑÂÖÉÁ¥†ÂÜÖÂÆπÔºåËÄåÂêéÈù¢ÊòØË¢´ÊèíÂÖ•ÁöÑÂØπË±° 123456&lt;body&gt; &lt;h2&gt;ÈÄöËøáappend‰∏éappendToÊ∑ªÂä†ÂÖÉÁ¥†&lt;/h2&gt; &lt;button id="bt1"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑappendÊ∑ªÂä†ÂÖÉÁ¥†&lt;/button&gt; &lt;button id="bt2"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑappendToÊ∑ªÂä†ÂÖÉÁ¥†&lt;/button&gt; &lt;div class="content"&gt;&lt;/div&gt; 123456789101112131415161718 $("#bt1").on('click', function() &#123; //.append(), ÂÜÖÂÆπÂú®ÊñπÊ≥ïÁöÑÂêéÈù¢Ôºå //ÂèÇÊï∞ÊòØÂ∞ÜË¶ÅÊèíÂÖ•ÁöÑÂÜÖÂÆπ„ÄÇ $(".content").append('&lt;div class="append"&gt;ÈÄöËøáappendÊñπÊ≥ïÊ∑ªÂä†ÁöÑÂÖÉÁ¥†&lt;/div&gt;') &#125;)&lt;/script&gt;&lt;script type="text/javascript"&gt; $("#bt2").on('click', function() &#123; //.appendTo()ÂàöÂ•ΩÁõ∏ÂèçÔºåÂÜÖÂÆπÂú®ÊñπÊ≥ïÂâçÈù¢Ôºå //Êó†ËÆ∫ÊòØ‰∏Ä‰∏™ÈÄâÊã©Âô®Ë°®ËææÂºè ÊàñÂàõÂª∫‰Ωú‰∏∫Ê†áËÆ∞‰∏äÁöÑÊ†áËÆ∞ //ÂÆÉÈÉΩÂ∞ÜË¢´ÊèíÂÖ•Âà∞ÁõÆÊ†áÂÆπÂô®ÁöÑÊú´Â∞æ„ÄÇ $('&lt;div class="appendTo"&gt;ÈÄöËøáappendToÊñπÊ≥ïÊ∑ªÂä†ÁöÑÂÖÉÁ¥†&lt;/div&gt;').appendTo($(".content")) &#125;)&lt;/script&gt; ![image-20190311090109502](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025541.jpg) # DOMÂ§ñÈÉ®ÊèíÂÖ•after()‰∏ébefore() ËäÇÁÇπ‰∏éËäÇÁÇπ‰πãÂâçÊúâÂêÑÁßçÂÖ≥Á≥ªÔºåÈô§‰∫ÜÁà∂Â≠êÔºåÁ•ñËæàÂÖ≥Á≥ªÔºåËøòÂèØ‰ª•ÊòØÂÖÑÂºüÂÖ≥Á≥ª„ÄÇ‰πãÂâçÊàë‰ª¨Âú®Â§ÑÁêÜËäÇÁÇπÊèíÂÖ•ÁöÑÊó∂ÂÄôÔºåÊé•Ëß¶Âà∞‰∫ÜÂÜÖÈÉ®ÊèíÂÖ•ÁöÑÂá†‰∏™ÊñπÊ≥ïÔºåËøôËäÇÊàë‰ª¨ÂºÄÂßãËÆ≤Â§ñÈÉ®ÊèíÂÖ•ÁöÑÂ§ÑÁêÜÔºå‰πüÂ∞±ÊòØÂÖÑÂºü‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂ§ÑÁêÜÔºåËøôÈáåjQueryÂºïÂÖ•‰∫Ü2‰∏™ÊñπÊ≥ïÔºåÂèØ‰ª•Áî®Êù•Âú®ÂåπÈÖçIÁöÑÂÖÉÁ¥†ÂâçÂêéÊèíÂÖ•ÂÜÖÂÆπ ![image-20190311090216128](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025546.jpg) - before‰∏éafterÈÉΩÊòØÁî®Êù•ÂØπÁõ∏ÂØπÈÄâ‰∏≠ÂÖÉÁ¥†Â§ñÈÉ®Â¢ûÂä†Áõ∏ÈÇªÁöÑÂÖÑÂºüËäÇÁÇπ - 2‰∏™ÊñπÊ≥ïÈÉΩÊòØÈÉΩÂèØ‰ª•Êé•Êî∂HTMLÂ≠óÁ¨¶‰∏≤ÔºåDOM ÂÖÉÁ¥†ÔºåÂÖÉÁ¥†Êï∞ÁªÑÔºåÊàñËÄÖjQueryÂØπË±°ÔºåÁî®Êù•ÊèíÂÖ•Âà∞ÈõÜÂêà‰∏≠ÊØè‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑÂâçÈù¢ÊàñËÄÖÂêéÈù¢ - 2‰∏™ÊñπÊ≥ïÈÉΩÊîØÊåÅÂ§ö‰∏™ÂèÇÊï∞‰º†ÈÄíafter(div1,div2,....) ÂèØ‰ª•ÂèÇËÄÉÂè≥ËæπÊ°à‰æã‰ª£Á†Å - afterÂêëÂÖÉÁ¥†ÁöÑÂêéËæπÊ∑ªÂä†html‰ª£Á†ÅÔºåÂ¶ÇÊûúÂÖÉÁ¥†ÂêéÈù¢ÊúâÂÖÉÁ¥†‰∫ÜÔºåÈÇ£Â∞ÜÂêéÈù¢ÁöÑÂÖÉÁ¥†ÂêéÁßªÔºåÁÑ∂ÂêéÂ∞Ühtml‰ª£Á†ÅÊèíÂÖ• - beforeÂêëÂÖÉÁ¥†ÁöÑÂâçËæπÊ∑ªÂä†html‰ª£Á†ÅÔºåÂ¶ÇÊûúÂÖÉÁ¥†ÂâçÈù¢ÊúâÂÖÉÁ¥†‰∫ÜÔºåÈÇ£Â∞ÜÂâçÈù¢ÁöÑÂÖÉÁ¥†ÂâçÁßªÔºåÁÑ∂ÂêéÂ∞Ühtml‰ª£Á†ÅÊèí 12345678910&lt;body&gt; &lt;h2&gt;ÈÄöËøábefore‰∏éafterÊ∑ªÂä†ÂÖÉÁ¥†&lt;/h2&gt; &lt;button id="bt1"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑbeforeÊ∑ªÂä†ÂÖÉÁ¥†&lt;/button&gt; &lt;button id="bt2"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑafterÊ∑ªÂä†ÂÖÉÁ¥†&lt;/button&gt; &lt;div class="aaron"&gt; &lt;p class="test1"&gt;ÊµãËØïbefore&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p class="test2"&gt;ÊµãËØïafter&lt;/p&gt; &lt;/div&gt; 123456&lt;script type="text/javascript"&gt; $("#bt1").on('click', function() &#123; //Âú®ÂåπÈÖçtest1ÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÂâçÈù¢ÊèíÂÖ•pÂÖÉÁ¥† $(".test1").before('&lt;p style="color:red"&gt;before,Âú®ÂåπÈÖçÂÖÉÁ¥†‰πãÂâçÂ¢ûÂä†&lt;/p&gt;', '&lt;p style="color:red"&gt;Â§öÂèÇÊï∞&lt;/p&gt;') &#125;)&lt;/script&gt; 1234567&lt;script type="text/javascript"&gt; $("#bt2").on('click', function() &#123; //Âú®ÂåπÈÖçtest1ÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÂêéÈù¢ÊèíÂÖ•pÂÖÉÁ¥† $(".test2").after('&lt;p style="color:blue"&gt;after,Âú®ÂåπÈÖçÂÖÉÁ¥†‰πãÂêéÂ¢ûÂä†&lt;/p&gt;', '&lt;p style="color:blue"&gt;Â§öÂèÇÊï∞&lt;/p&gt;') &#125;) &lt;/script&gt; --- ![image-20190311090518464](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025548.jpg) --- # DOMÂÜÖÈÉ®ÊèíÂÖ•prepend()‰∏éprependTo() Âú®ÂÖÉÁ¥†ÂÜÖÈÉ®ËøõË°åÊìç‰ΩúÁöÑÊñπÊ≥ïÔºåÈô§‰∫ÜÂú®Ë¢´ÈÄâÂÖÉÁ¥†ÁöÑÁªìÂ∞æÔºà‰ªçÁÑ∂Âú®ÂÜÖÈÉ®ÔºâÈÄöËøáappend‰∏éappendToÊèíÂÖ•ÊåáÂÆöÂÜÖÂÆπÂ§ñÔºåÁõ∏Â∫îÁöÑËøòÂèØ‰ª•Âú®Ë¢´ÈÄâÂÖÉÁ¥†‰πãÂâçÊèíÂÖ•ÔºåjQueryÊèê‰æõÁöÑÊñπÊ≥ïÊòØprepend‰∏éprependTo ![image-20190311090618510](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025559.jpg) --- ÈÄöËøáÂè≥Ëæπ‰ª£Á†ÅÂèØ‰ª•ÁúãÂà∞prepend‰∏éprependToÁöÑ‰ΩøÁî®ÂèäÂå∫Âà´Ôºö - .prepend()ÊñπÊ≥ïÂ∞ÜÊåáÂÆöÂÖÉÁ¥†ÊèíÂÖ•Âà∞ÂåπÈÖçÂÖÉÁ¥†ÈáåÈù¢‰Ωú‰∏∫ÂÆÉÁöÑÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥† (Â¶ÇÊûúË¶Å‰Ωú‰∏∫ÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÊèíÂÖ•Áî®.append()). - .prepend()Âíå.prependTo()ÂÆûÁé∞ÂêåÊ†∑ÁöÑÂäüËÉΩÔºå‰∏ªË¶ÅÁöÑ‰∏çÂêåÊòØËØ≠Ê≥ïÔºåÊèíÂÖ•ÁöÑÂÜÖÂÆπÂíåÁõÆÊ†áÁöÑ‰ΩçÁΩÆ‰∏çÂêå - ÂØπ‰∫é.prepend() ËÄåË®ÄÔºåÈÄâÊã©Âô®Ë°®ËææÂºèÂÜôÂú®ÊñπÊ≥ïÁöÑÂâçÈù¢Ôºå‰Ωú‰∏∫ÂæÖÊèíÂÖ•ÂÜÖÂÆπÁöÑÂÆπÂô®ÔºåÂ∞ÜË¶ÅË¢´ÊèíÂÖ•ÁöÑÂÜÖÂÆπ‰Ωú‰∏∫ÊñπÊ≥ïÁöÑÂèÇÊï∞ - ËÄå.prependTo() Ê≠£Â•ΩÁõ∏ÂèçÔºåÂ∞ÜË¶ÅË¢´ÊèíÂÖ•ÁöÑÂÜÖÂÆπÂÜôÂú®ÊñπÊ≥ïÁöÑÂâçÈù¢ÔºåÂèØ‰ª•ÊòØÈÄâÊã©Âô®Ë°®ËææÂºèÊàñÂä®ÊÄÅÂàõÂª∫ÁöÑÊ†áËÆ∞ÔºåÂæÖÊèíÂÖ•ÂÜÖÂÆπÁöÑÂÆπÂô®‰Ωú‰∏∫ÂèÇÊï∞„ÄÇ ËøôÈáåÊÄªÁªì‰∏ãÂÜÖÈÉ®Êìç‰ΩúÂõõ‰∏™ÊñπÊ≥ïÁöÑÂå∫Âà´Ôºö - append()ÂêëÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†ÂÜÖÈÉ®ËøΩÂä†ÂÜÖÂÆπ - prepend()ÂêëÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†ÂÜÖÈÉ®ÂâçÁΩÆÂÜÖÂÆπ - appendTo()ÊääÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ËøΩÂä†Âà∞Âè¶‰∏Ä‰∏™ÊåáÂÆöÂÖÉÁ¥†ÁöÑÈõÜÂêà‰∏≠ - prependTo()ÊääÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÂâçÁΩÆÂà∞Âè¶‰∏Ä‰∏™ÊåáÂÆöÁöÑÂÖÉÁ¥†ÈõÜÂêà‰∏≠ --- 123456789&lt;h2&gt;ÈÄöËøáprepend‰∏éprependToÊ∑ªÂä†ÂÖÉÁ¥†&lt;/h2&gt; &lt;button id="bt1"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑprependÊ∑ªÂä†ÂÖÉÁ¥†&lt;/button&gt; &lt;button id="bt2"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑprependToÊ∑ªÂä†ÂÖÉÁ¥†&lt;/button&gt; &lt;div class="aaron1"&gt; &lt;p&gt;ÊµãËØïprepend&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron2"&gt; &lt;p&gt;ÊµãËØïprependTo&lt;/p&gt; &lt;/div&gt; 123456$("#bt1").on('click', function() &#123; //ÊâæÂà∞class="aaron1"ÁöÑdivËäÇÁÇπ //ÁÑ∂ÂêéÈÄöËøáprependÂú®ÂÜÖÈÉ®ÁöÑÈ¶ñ‰ΩçÁΩÆÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑpËäÇÁÇπ $('.aaron1') .prepend('&lt;p&gt;prependÂ¢ûÂä†ÁöÑpÂÖÉÁ¥†&lt;/p&gt;')&#125;) 1234567&lt;script type="text/javascript"&gt; $("#bt2").on('click', function() &#123; //ÊâæÂà∞class="aaron2"ÁöÑdivËäÇÁÇπ //ÁÑ∂ÂêéÈÄöËøáprependToÂÜÖÈÉ®ÁöÑÈ¶ñ‰ΩçÁΩÆÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑpËäÇÁÇπ $('&lt;p&gt;prependToÂ¢ûÂä†ÁöÑpÂÖÉÁ¥†&lt;/p&gt;') .prependTo($('.aaron2')) &#125;) ![image-20190311090917184](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025604.jpg) --- ![image-20190311093931113](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025607.jpg) --- # DOMÂ§ñÈÉ®ÊèíÂÖ•insertAfter()‰∏éinsertBefore() ‰∏éÂÜÖÈÉ®ÊèíÂÖ•Â§ÑÁêÜ‰∏ÄÊ†∑ÔºåjQueryÁî±‰∫éÂÜÖÂÆπÁõÆÊ†áÁöÑ‰ΩçÁΩÆ‰∏çÂêåÔºåÁÑ∂Â¢ûÂä†‰∫Ü2‰∏™Êñ∞ÁöÑÊñπÊ≥ïinsertAfter‰∏éinsertBefore ![image-20190311094156294](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025610.jpg) --- - .before()Âíå.insertBefore()ÂÆûÁé∞ÂêåÊ†∑ÁöÑÂäüËÉΩ„ÄÇ‰∏ªË¶ÅÁöÑÂå∫Âà´ÊòØËØ≠Ê≥ï‚Äî‚ÄîÂÜÖÂÆπÂíåÁõÆÊ†áÁöÑ‰ΩçÁΩÆ„ÄÇ ÂØπ‰∫ébefore()ÈÄâÊã©Ë°®ËææÂºèÂú®ÂáΩÊï∞ÂâçÈù¢ÔºåÂÜÖÂÆπ‰Ωú‰∏∫ÂèÇÊï∞ÔºåËÄå.insertBefore()ÂàöÂ•ΩÁõ∏ÂèçÔºåÂÜÖÂÆπÂú®ÊñπÊ≥ïÂâçÈù¢ÔºåÂÆÉÂ∞ÜË¢´ÊîæÂú®ÂèÇÊï∞ÈáåÂÖÉÁ¥†ÁöÑÂâçÈù¢ - .after()Âíå.insertAfter() ÂÆûÁé∞ÂêåÊ†∑ÁöÑÂäüËÉΩ„ÄÇ‰∏ªË¶ÅÁöÑ‰∏çÂêåÊòØËØ≠Ê≥ï‚Äî‚ÄîÁâπÂà´ÊòØÔºàÊèíÂÖ•ÔºâÂÜÖÂÆπÂíåÁõÆÊ†áÁöÑ‰ΩçÁΩÆ„ÄÇ ÂØπ‰∫éafter()ÈÄâÊã©Ë°®ËææÂºèÂú®ÂáΩÊï∞ÁöÑÂâçÈù¢ÔºåÂèÇÊï∞ÊòØÂ∞ÜË¶ÅÊèíÂÖ•ÁöÑÂÜÖÂÆπ„ÄÇÂØπ‰∫é .insertAfter(), ÂàöÂ•ΩÁõ∏ÂèçÔºåÂÜÖÂÆπÂú®ÊñπÊ≥ïÂâçÈù¢ÔºåÂÆÉÂ∞ÜË¢´ÊîæÂú®ÂèÇÊï∞ÈáåÂÖÉÁ¥†ÁöÑÂêéÈù¢ - before„ÄÅafter‰∏éinsertBefore„ÄÇinsertAfterÁöÑÈô§‰∫ÜÁõÆÊ†á‰∏é‰ΩçÁΩÆÁöÑ‰∏çÂêåÂ§ñÔºåÂêéÈù¢ÁöÑ‰∏çÊîØÊåÅÂ§öÂèÇÊï∞Â§ÑÁêÜ 123Ê≥®ÊÑè‰∫ãÈ°πÔºöinsertAfterÂ∞ÜJQueryÂ∞ÅË£ÖÂ•ΩÁöÑÂÖÉÁ¥†ÊèíÂÖ•Âà∞ÊåáÂÆöÂÖÉÁ¥†ÁöÑÂêéÈù¢ÔºåÂ¶ÇÊûúÂÖÉÁ¥†ÂêéÈù¢ÊúâÂÖÉÁ¥†‰∫ÜÔºåÈÇ£Â∞ÜÂêéÈù¢ÁöÑÂÖÉÁ¥†ÂêéÁßªÔºåÁÑ∂ÂêéÂ∞ÜJQueryÂØπË±°ÊèíÂÖ•ÔºõinsertBeforeÂ∞ÜJQueryÂ∞ÅË£ÖÂ•ΩÁöÑÂÖÉÁ¥†ÊèíÂÖ•Âà∞ÊåáÂÆöÂÖÉÁ¥†ÁöÑÂâçÈù¢ÔºåÂ¶ÇÊûúÂÖÉÁ¥†ÂâçÈù¢ÊúâÂÖÉÁ¥†‰∫ÜÔºåÈÇ£Â∞ÜÂâçÈù¢ÁöÑÂÖÉÁ¥†ÂâçÁßªÔºåÁÑ∂ÂêéÂ∞ÜJQueryÂØπË±°ÊèíÂÖ•Ôºõ 12345678910&lt;h2&gt;ÈÄöËøáinsertBefore‰∏éinsertAfterÊ∑ªÂä†ÂÖÉÁ¥†&lt;/h2&gt; &lt;button id="bt1"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑinsertBeforeÊ∑ªÂä†ÂÖÉÁ¥†&lt;/button&gt; &lt;button id="bt2"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑinsertAfterÊ∑ªÂä†ÂÖÉÁ¥†&lt;/button&gt; &lt;div class="aaron"&gt; &lt;p class="test1"&gt;ÊµãËØïinsertBefore,‰∏çÊîØÊåÅÂ§öÂèÇÊï∞&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p class="test2"&gt;ÊµãËØïinsertAfter,‰∏çÊîØÊåÅÂ§öÂèÇÊï∞&lt;/p&gt; &lt;/div&gt; --- 12345678&lt;script type="text/javascript"&gt; $("#bt1").on('click', function() &#123; //Âú®test1ÂÖÉÁ¥†ÂâçÂêéÊèíÂÖ•ÈõÜÂêà‰∏≠ÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥† //‰∏çÊîØÊåÅÂ§öÂèÇÊï∞ $('&lt;p style="color:red"&gt;ÊµãËØïinsertBeforeÊñπÊ≥ïÂ¢ûÂä†&lt;/p&gt;', '&lt;p style="color:red"&gt;Â§öÂèÇÊï∞&lt;/p&gt;').insertBefore($(".test1")) &#125;) &lt;/script&gt; 1234567&lt;script type="text/javascript"&gt; $("#bt2").on('click', function() &#123; //Âú®test2ÂÖÉÁ¥†ÂâçÂêéÊèíÂÖ•ÈõÜÂêà‰∏≠ÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥† //‰∏çÊîØÊåÅÂ§öÂèÇÊï∞ $('&lt;p style="color:red"&gt;ÊµãËØïinsertAfterÊñπÊ≥ïÂ¢ûÂä†&lt;/p&gt;', '&lt;p style="color:red"&gt;Â§öÂèÇÊï∞&lt;/p&gt;').insertAfter($(".test2")) &#125;) &lt;/script&gt; --- ![image-20190311094448653](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025613.jpg) --- # DOMËäÇÁÇπÂà†Èô§‰πãempty()ÁöÑÂü∫Êú¨Áî®Ê≥ï Ë¶ÅÁßªÈô§È°µÈù¢‰∏äËäÇÁÇπÊòØÂºÄÂèëËÄÖÂ∏∏ËßÅÁöÑÊìç‰ΩúÔºåjQueryÊèê‰æõ‰∫ÜÂá†Áßç‰∏çÂêåÁöÑÊñπÊ≥ïÁî®Êù•Â§ÑÁêÜËøô‰∏™ÈóÆÈ¢òÔºåËøôÈáåÊàë‰ª¨ÂºÄ‰ªîÁªÜ‰∫ÜËß£‰∏ãemptyÊñπÊ≥ï empty È°æÂêçÊÄù‰πâÔºåÊ∏ÖÁ©∫ÊñπÊ≥ïÔºå‰ΩÜÊòØ‰∏éÂà†Èô§ÂèàÊúâÁÇπ‰∏ç‰∏ÄÊ†∑ÔºåÂõ†‰∏∫ÂÆÉÂè™ÁßªÈô§‰∫Ü ÊåáÂÆöÂÖÉÁ¥†‰∏≠ÁöÑÊâÄÊúâÂ≠êËäÇÁÇπ„ÄÇ Ëøô‰∏™ÊñπÊ≥ï‰∏ç‰ªÖÁßªÈô§Â≠êÂÖÉÁ¥†ÔºàÂíåÂÖ∂‰ªñÂêé‰ª£ÂÖÉÁ¥†ÔºâÔºåÂêåÊ†∑ÁßªÈô§ÂÖÉÁ¥†ÈáåÁöÑÊñáÊú¨„ÄÇÂõ†‰∏∫ÔºåÊ†πÊçÆËØ¥ÊòéÔºåÂÖÉÁ¥†Èáå‰ªª‰ΩïÊñáÊú¨Â≠óÁ¨¶‰∏≤ÈÉΩË¢´ÁúãÂÅöÊòØËØ•ÂÖÉÁ¥†ÁöÑÂ≠êËäÇÁÇπ„ÄÇËØ∑Áúã‰∏ãÈù¢ÁöÑHTMLÔºö 1&lt;div class=&quot;hello&quot;&gt;&lt;p&gt;ÊÖïËØæÁΩë&lt;/p&gt;&lt;/div&gt; Â¶ÇÊûúÊàë‰ª¨ÈÄöËøáemptyÊñπÊ≥ïÁßªÈô§ÈáåÈù¢divÁöÑÊâÄÊúâÂÖÉÁ¥†ÔºåÂÆÉÂè™ÊòØÊ∏ÖÁ©∫ÂÜÖÈÉ®ÁöÑhtml‰ª£Á†ÅÔºå‰ΩÜÊòØÊ†áËÆ∞‰ªçÁÑ∂ÁïôÂú®DOM‰∏≠ 12345//ÈÄöËøáemptyÂ§ÑÁêÜ$(&apos;.hello&apos;).empty()//ÁªìÊûúÔºö&lt;p&gt;ÊÖïËØæÁΩë&lt;/p&gt;Ë¢´ÁßªÈô§&lt;div class=&quot;hello&quot;&gt;&lt;/div&gt; 12ÈÄöËøáemptyÁßªÈô§‰∫ÜÂΩìÂâçdivÂÖÉÁ¥†‰∏ãÁöÑÊâÄÊúâpÂÖÉÁ¥†‰ΩÜÊòØÊú¨Ë∫´id=testÁöÑdivÂÖÉÁ¥†Ê≤°ÊúâË¢´Âà†Èô§ 123456789101112&lt;h2&gt;ÈÄöËøáemptyÁßªÈô§ÂÖÉÁ¥†&lt;/h2&gt;&lt;div id="test"&gt; &lt;p&gt;pÂÖÉÁ¥†1&lt;/p&gt; &lt;p&gt;pÂÖÉÁ¥†2&lt;/p&gt;&lt;/div&gt;&lt;button&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑemptyÁßªÈô§ÂÖÉÁ¥†&lt;/button&gt;&lt;script type="text/javascript"&gt;$("button").on('click', function() &#123; //ÈÄöËøáemptyÁßªÈô§‰∫ÜÂΩìÂâçdivÂÖÉÁ¥†‰∏ãÁöÑÊâÄÊúâpÂÖÉÁ¥† //‰ΩÜÊòØÊú¨Ë∫´id=testÁöÑdivÂÖÉÁ¥†Ê≤°ÊúâË¢´Âà†Èô§ $("#test").empty()&#125;) ![image-20190311095432041](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025618.jpg) --- ![image-20190311095442913](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025619.jpg) --- # DOMËäÇÁÇπÂà†Èô§‰πãremove()ÁöÑÊúâÂèÇÁî®Ê≥ïÂíåÊó†ÂèÇÁî®Ê≥ï remove‰∏éempty‰∏ÄÊ†∑ÔºåÈÉΩÊòØÁßªÈô§ÂÖÉÁ¥†ÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØremove‰ºöÂ∞ÜÂÖÉÁ¥†Ëá™Ë∫´ÁßªÈô§ÔºåÂêåÊó∂‰πü‰ºöÁßªÈô§ÂÖÉÁ¥†ÂÜÖÈÉ®ÁöÑ‰∏ÄÂàáÔºåÂåÖÊã¨ÁªëÂÆöÁöÑ‰∫ã‰ª∂Âèä‰∏éËØ•ÂÖÉÁ¥†Áõ∏ÂÖ≥ÁöÑjQueryÊï∞ÊçÆ„ÄÇ ‰æãÂ¶Ç‰∏ÄÊÆµËäÇÁÇπÔºåÁªëÂÆöÁÇπÂáª‰∫ã‰ª∂ 12&lt;div class="hello"&gt;&lt;p&gt;ÊÖïËØæÁΩë&lt;/p&gt;&lt;/div&gt;$('.hello').on("click",fn) Â¶ÇÊûú‰∏çÈÄöËøáremoveÊñπÊ≥ïÂà†Èô§Ëøô‰∏™ËäÇÁÇπÂÖ∂ÂÆû‰πüÂæàÁÆÄÂçïÔºå‰ΩÜÊòØÂêåÊó∂ÈúÄË¶ÅÊää‰∫ã‰ª∂ÁªôÈîÄÊØÅÊéâÔºåËøôÈáåÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢"ÂÜÖÂ≠òÊ≥ÑÊºè"ÔºåÊâÄ‰ª•ÂâçÁ´ØÂºÄÂèëËÄÖ‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÔºåÁªë‰∫ÜÂ§öÂ∞ë‰∫ã‰ª∂Ôºå‰∏çÁî®ÁöÑÊó∂ÂÄô‰∏ÄÂÆöË¶ÅËÆ∞ÂæóÈîÄÊØÅ ÈÄöËøáremoveÊñπÊ≥ïÁßªÈô§divÂèäÂÖ∂ÂÜÖÈÉ®ÊâÄÊúâÂÖÉÁ¥†ÔºåremoveÂÜÖÈÉ®‰ºöËá™Âä®Êìç‰Ωú‰∫ã‰ª∂ÈîÄÊØÅÊñπÊ≥ïÔºåÊâÄ‰ª•‰ΩøÁî®‰ΩøÁî®Ëµ∑Êù•ÈùûÂ∏∏ÁÆÄÂçï 1234//ÈÄöËøáremoveÂ§ÑÁêÜ$(&apos;.hello&apos;).remove()//ÁªìÊûúÔºö&lt;div class=&quot;hello&quot;&gt;&lt;p&gt;ÊÖïËØæÁΩë&lt;/p&gt;&lt;/div&gt; ÂÖ®ÈÉ®Ë¢´ÁßªÈô§//ËäÇÁÇπ‰∏çÂ≠òÂú®‰∫Ü,Âêå‰∫ã‰∫ã‰ª∂‰πü‰ºöË¢´ÈîÄÊØÅ **removeË°®ËææÂºèÂèÇÊï∞Ôºö** removeÊØîemptyÂ•ΩÁî®ÁöÑÂú∞ÊñπÂ∞±ÊòØÂèØ‰ª•‰º†ÈÄí‰∏Ä‰∏™ÈÄâÊã©Âô®Ë°®ËææÂºèÁî®Êù•ËøáÊª§Â∞ÜË¢´ÁßªÈô§ÁöÑÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêàÔºåÂèØ‰ª•ÈÄâÊã©ÊÄßÁöÑÂà†Èô§ÊåáÂÆöÁöÑËäÇÁÇπ Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá$()ÈÄâÊã©‰∏ÄÁªÑÁõ∏ÂêåÁöÑÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÈÄöËøáremoveÔºàÔºâ‰º†ÈÄíÁ≠õÈÄâÁöÑËßÑÂàôÔºå‰ªéËÄåËøôÊ†∑Â§ÑÁêÜ ÂØπÊØîÂè≥ËæπÁöÑ‰ª£Á†ÅÂå∫ÂüüÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁ±ª‰ºº‰∫éËøôÊ†∑Â§ÑÁêÜ 1$(&quot;p&quot;).filter(&quot;:contains(&apos;3&apos;)&quot;).remove() 1234567891011&lt;h2&gt;ÈÄöËøájQuery removeÊñπÊ≥ïÁßªÈô§ÂÖÉÁ¥†&lt;/h2&gt; &lt;div class="test1"&gt; &lt;p&gt;pÂÖÉÁ¥†1&lt;/p&gt; &lt;p&gt;pÂÖÉÁ¥†2&lt;/p&gt; &lt;/div&gt; &lt;div class="test2"&gt; &lt;p&gt;pÂÖÉÁ¥†3&lt;/p&gt; &lt;p&gt;pÂÖÉÁ¥†4&lt;/p&gt; &lt;/div&gt; &lt;button&gt;ÈÄöËøáÁÇπÂáªjQueryÁöÑremoveÁßªÈô§ÂÖÉÁ¥†&lt;/button&gt; &lt;button&gt;ÈÄöËøáÁÇπÂáªjQueryÁöÑremoveÁßªÈô§ÊåáÂÆöÂÖÉÁ¥†&lt;/button&gt; 12345&lt;script type="text/javascript"&gt; $("button:first").on('click', function() &#123; //Âà†Èô§Êï¥‰∏™ class=test1ÁöÑdivËäÇÁÇπ $(".test1").remove() &#125;) 12345$("button:last").on('click', function() &#123; //ÊâæÂà∞ÊâÄÊúâpÂÖÉÁ¥†‰∏≠ÔºåÂåÖÂê´‰∫Ü3ÁöÑÂÖÉÁ¥† //Ëøô‰∏™‰πüÊòØ‰∏Ä‰∏™ËøáÊª§Âô®ÁöÑÂ§ÑÁêÜ $("p").remove(":contains('3')")&#125;) ![image-20190311095903962](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025621.jpg) --- ![image-20190311095915688](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025626.jpg) --- # DOMËäÇÁÇπÂà†Èô§‰πãemptyÂíåremoveÂå∫Âà´ 1234567891011Ë¶ÅÁî®Âà∞ÁßªÈô§ÊåáÂÆöÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºåjQueryÊèê‰æõ‰∫Üempty()‰∏éremove([expr])‰∫å‰∏™ÊñπÊ≥ïÔºå‰∏§‰∏™ÈÉΩÊòØÂà†Èô§ÂÖÉÁ¥†Ôºå‰ΩÜÊòØ‰∏§ËÄÖËøòÊòØÊúâÂå∫Âà´emptyÊñπÊ≥ï‰∏•Ê†ºÂú∞ËÆ≤Ôºåempty()ÊñπÊ≥ïÂπ∂‰∏çÊòØÂà†Èô§ËäÇÁÇπÔºåËÄåÊòØÊ∏ÖÁ©∫ËäÇÁÇπÔºåÂÆÉËÉΩÊ∏ÖÁ©∫ÂÖÉÁ¥†‰∏≠ÁöÑÊâÄÊúâÂêé‰ª£ËäÇÁÇπempty‰∏çËÉΩÂà†Èô§Ëá™Â∑±Êú¨Ë∫´Ëøô‰∏™ËäÇÁÇπremoveÊñπÊ≥ïËØ•ËäÇÁÇπ‰∏éËØ•ËäÇÁÇπÊâÄÂåÖÂê´ÁöÑÊâÄÊúâÂêé‰ª£ËäÇÁÇπÂ∞ÜÂêåÊó∂Ë¢´Âà†Èô§Êèê‰æõ‰º†ÈÄí‰∏Ä‰∏™Á≠õÈÄâÁöÑË°®ËææÂºèÔºåÂà†Èô§ÊåáÂÆöÂêàÈõÜ‰∏≠ÁöÑÂÖÉÁ¥†‰ª•‰∏äÂ∞±ÊòØ‰∫åËÄÖÁöÑÂå∫Âà´ÔºåÊàë‰ª¨ÂÖ∑‰ΩìÈÄöËøáÂè≥Ëæπ‰ª£Á†ÅÈÉ®ÂàÜÂä†Ê∑±ÁêÜËß£ 123456789101112131415&lt;h2&gt;ÈÄöËøáempty‰∏éremoveÁßªÈô§ÂÖÉÁ¥†&lt;/h2&gt; &lt;div class="left"&gt; &lt;button id="bt1"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑemptyÁßªÈô§ÂÜÖÈÉ®PÂÖÉÁ¥†&lt;/button&gt; &lt;button id="bt2"&gt;ÁÇπÂáªÈÄöËøájQueryÁöÑremoveÁßªÈô§Êï¥‰∏™ËäÇÁÇπ&lt;/button&gt; &lt;/div&gt; &lt;div class="right"&gt; &lt;div id="test1"&gt; &lt;p&gt;pÂÖÉÁ¥†1&lt;/p&gt; &lt;p&gt;pÂÖÉÁ¥†2&lt;/p&gt; &lt;/div&gt; &lt;div id="test2"&gt; &lt;p&gt;pÂÖÉÁ¥†3&lt;/p&gt; &lt;p&gt;pÂÖÉÁ¥†4&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; 1234567891011&lt;script type="text/javascript"&gt; $("#bt1").on('click', function() &#123; //Âà†Èô§‰∫Ü2‰∏™pÂÖÉÁ¥†Ôºå‰ΩÜÊòØÊú¨ÁùÄÊ≤°ÊúâÂà†Èô§ $("#test1").empty() &#125;) $("#bt2").on('click', function() &#123; //Âà†Èô§Êï¥‰∏™ËäÇÁÇπ $("#test2").remove() &#125;) &lt;/script&gt; ![image-20190311100126080](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025627.jpg) ![image-20190311100139394](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025630.jpg) --- # DOMËäÇÁÇπÂà†Èô§‰πã‰øùÁïôÊï∞ÊçÆÁöÑÂà†Èô§Êìç‰Ωúdetach() Â¶ÇÊûúÊàë‰ª¨Â∏åÊúõ‰∏¥Êó∂Âà†Èô§È°µÈù¢‰∏äÁöÑËäÇÁÇπÔºå‰ΩÜÊòØÂèà‰∏çÂ∏åÊúõËäÇÁÇπ‰∏äÁöÑÊï∞ÊçÆ‰∏é‰∫ã‰ª∂‰∏¢Â§±ÔºåÂπ∂‰∏îËÉΩÂú®‰∏ã‰∏Ä‰∏™Êó∂Èó¥ÊÆµËÆ©Ëøô‰∏™Âà†Èô§ÁöÑËäÇÁÇπÊòæÁ§∫Âà∞È°µÈù¢ÔºåËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•‰ΩøÁî®detachÊñπÊ≥ïÊù•Â§ÑÁêÜ detach‰ªéÂ≠óÈù¢‰∏äÂ∞±ÂæàÂÆπÊòìÁêÜËß£„ÄÇËÆ©‰∏Ä‰∏™webÂÖÉÁ¥†ÊâòÁÆ°„ÄÇÂç≥‰ªéÂΩìÂâçÈ°µÈù¢‰∏≠ÁßªÈô§ËØ•ÂÖÉÁ¥†Ôºå‰ΩÜ‰øùÁïôËøô‰∏™ÂÖÉÁ¥†ÁöÑÂÜÖÂ≠òÊ®°ÂûãÂØπË±°„ÄÇ Êù•ÁúãÁúãjqueryÂÆòÊñπÊñáÊ°£ÁöÑËß£ÈáäÔºö 12Ëøô‰∏™ÊñπÊ≥ï‰∏ç‰ºöÊääÂåπÈÖçÁöÑÂÖÉÁ¥†‰ªéjQueryÂØπË±°‰∏≠Âà†Èô§ÔºåÂõ†ËÄåÂèØ‰ª•Âú®Â∞ÜÊù•ÂÜç‰ΩøÁî®Ëøô‰∫õÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ‰∏éremove()‰∏çÂêåÁöÑÊòØÔºåÊâÄÊúâÁªëÂÆöÁöÑ‰∫ã‰ª∂„ÄÅÈôÑÂä†ÁöÑÊï∞ÊçÆÁ≠âÈÉΩ‰ºö‰øùÁïô‰∏ãÊù•„ÄÇ$(&quot;div&quot;).detach()Ëøô‰∏ÄÂè•‰ºöÁßªÈô§ÂØπË±°Ôºå‰ªÖ‰ªÖÊòØÊòæÁ§∫ÊïàÊûúÊ≤°Êúâ‰∫Ü„ÄÇ‰ΩÜÊòØÂÜÖÂ≠ò‰∏≠ËøòÊòØÂ≠òÂú®ÁöÑ„ÄÇÂΩì‰Ω†append‰πãÂêéÔºåÂèàÈáçÊñ∞ÂõûÂà∞‰∫ÜÊñáÊ°£ÊµÅ‰∏≠„ÄÇÂ∞±ÂèàÊòæÁ§∫Âá∫Êù•‰∫Ü„ÄÇ ÂΩìÁÑ∂ËøôÈáåË¶ÅÁâπÂà´Ê≥®ÊÑèÔºådetachÊñπÊ≥ïÊòØJQueryÁâπÊúâÁöÑÔºåÊâÄ‰ª•ÂÆÉÂè™ËÉΩÂ§ÑÁêÜÈÄöËøáJQueryÁöÑÊñπÊ≥ïÁªëÂÆöÁöÑ‰∫ã‰ª∂ÊàñËÄÖÊï∞ÊçÆ ÂèÇËÄÉÂè≥ËæπÁöÑ‰ª£Á†ÅÂå∫ÂüüÔºåÈÄöËøá $("p").detach()ÊääÊâÄÊúâÁöÑPÂÖÉÁ¥†Âà†Èô§ÂêéÔºåÂÜçÈÄöËøáappendÊääÂà†Èô§ÁöÑpÂÖÉÁ¥†ÊîæÂà∞È°µÈù¢‰∏äÔºåÈÄöËøáÁÇπÂáªÊñáÂ≠óÔºåÂèØ‰ª•ËØÅÊòé‰∫ã‰ª∂Ê≤°Êúâ‰∏¢Â§± PÂÖÉÁ¥†1ÔºåÈªòËÆ§ÁªôÁªëÂÆö‰∏Ä‰∏™ÁÇπÂáª‰∫ã‰ª∂ 123&lt;p&gt;PÂÖÉÁ¥†2ÔºåÈªòËÆ§ÁªôÁªëÂÆö‰∏Ä‰∏™ÁÇπÂáª‰∫ã‰ª∂&lt;/p&gt;&lt;button id="bt1"&gt;ÁÇπÂáªÂà†Èô§ p ÂÖÉÁ¥†&lt;/button&gt;&lt;button id="bt2"&gt;ÁÇπÂáªÁßªÂä® p ÂÖÉÁ¥†&lt;/button&gt; 12345678910111213141516171819&lt;script type="text/javascript"&gt; $('p').click(function(e) &#123; alert(e.target.innerHTML) &#125;) var p; $("#bt1").click(function() &#123; if (!$("p").length) return; //ÂéªÈáç //ÈÄöËøádetachÊñπÊ≥ïÂà†Èô§ÂÖÉÁ¥† //Âè™ÊòØÈ°µÈù¢‰∏çÂèØËßÅÔºå‰ΩÜÊòØËøô‰∏™ËäÇÁÇπËøòÊòØ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ //Êï∞ÊçÆ‰∏é‰∫ã‰ª∂ÈÉΩ‰∏ç‰ºö‰∏¢Â§± p = $("p").detach() &#125;); $("#bt2").click(function() &#123; //ÊääpÂÖÉÁ¥†Âú®Ê∑ªÂä†Âà∞È°µÈù¢‰∏≠ //‰∫ã‰ª∂ËøòÊòØÂ≠òÂú® $("body").append(p); &#125;); &lt;/script&gt; --- ![image-20190311101545162](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025633.jpg) > ÈÄöËøá $("p").detach()ÊääÊâÄÊúâÁöÑPÂÖÉÁ¥†Âà†Èô§Âêé # DOMËäÇÁÇπÂà†Èô§‰πãdetach()Âíåremove()Âå∫Âà´ remove()Âíådetach()ÂèØËÉΩÂ∞±ÊòØÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™ÔºåÂèØËÉΩremove()Êàë‰ª¨Áî®ÂæóÊØîËæÉÂ§öÔºåËÄådetach()Â∞±ÂèØËÉΩ‰ºöÂæàÂ∞ë‰∫Ü ![image-20190311101654121](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025645.jpg) **remove****Ôºö**ÁßªÈô§ËäÇÁÇπ - Êó†ÂèÇÊï∞ÔºåÁßªÈô§Ëá™Ë∫´Êï¥‰∏™ËäÇÁÇπ‰ª•ÂèäËØ•ËäÇÁÇπÁöÑÂÜÖÈÉ®ÁöÑÊâÄÊúâËäÇÁÇπÔºåÂåÖÊã¨ËäÇÁÇπ‰∏ä‰∫ã‰ª∂‰∏éÊï∞ÊçÆ - ÊúâÂèÇÊï∞ÔºåÁßªÈô§Á≠õÈÄâÂá∫ÁöÑËäÇÁÇπ‰ª•ÂèäËØ•ËäÇÁÇπÁöÑÂÜÖÈÉ®ÁöÑÊâÄÊúâËäÇÁÇπÔºåÂåÖÊã¨ËäÇÁÇπ‰∏ä‰∫ã‰ª∂‰∏éÊï∞ÊçÆ **detach****Ôºö**ÁßªÈô§ËäÇÁÇπ - ÁßªÈô§ÁöÑÂ§ÑÁêÜ‰∏éremove‰∏ÄËá¥ - ‰∏éremove()‰∏çÂêåÁöÑÊòØÔºåÊâÄÊúâÁªëÂÆöÁöÑ‰∫ã‰ª∂„ÄÅÈôÑÂä†ÁöÑÊï∞ÊçÆÁ≠âÈÉΩ‰ºö‰øùÁïô‰∏ãÊù• - ‰æãÂ¶ÇÔºö$("p").detach()Ëøô‰∏ÄÂè•‰ºöÁßªÈô§ÂØπË±°Ôºå‰ªÖ‰ªÖÊòØÊòæÁ§∫ÊïàÊûúÊ≤°Êúâ‰∫Ü„ÄÇ‰ΩÜÊòØÂÜÖÂ≠ò‰∏≠ËøòÊòØÂ≠òÂú®ÁöÑ„ÄÇÂΩì‰Ω†append‰πãÂêéÔºåÂèàÈáçÊñ∞ÂõûÂà∞‰∫ÜÊñáÊ°£ÊµÅ‰∏≠„ÄÇÂ∞±ÂèàÊòæÁ§∫Âá∫Êù•‰∫Ü„ÄÇ 12345678910111213141516171819202122232425 &lt;h3&gt;ÁªôÈ°µÈù¢2‰∏™pÂÖÉÁ¥†ËäÇÁÇπÁªëÂÆöÁÇπÂáª‰∫ã‰ª∂,ÁÇπÂáªÂêéÂºπÂá∫Ëá™Â∑±Êú¨Ë∫´ÁöÑËäÇÁÇπÂÜÖÂÆπ&lt;/h3&gt; &lt;p&gt;ÂÖÉÁ¥†p1ÔºåÂêåÊó∂ÁªëÂÆöÁÇπÂáª‰∫ã‰ª∂&lt;/p&gt; &lt;p&gt;ÂÖÉÁ¥†p2ÔºåÂêåÊó∂ÁªëÂÆöÁÇπÂáª‰∫ã‰ª∂&lt;/p&gt; &lt;h3&gt;ÈÄöËøáÁÇπÂáª2‰∏™ÊåâÈíÆÂêéËßÇÂØüÊñπÊ≥ïÂ§ÑÁêÜÁöÑÂå∫Âà´&lt;/h3&gt; &lt;button&gt;ÁÇπÂáªÈÄöËøáremoveÂ§ÑÁêÜÂÖÉÁ¥†p1&lt;/button&gt; &lt;button&gt;ÁÇπÂáªÈÄöËøádetachÂ§ÑÁêÜÂÖÉÁ¥†p2&lt;/button&gt;&lt;/body&gt;&lt;script type="text/javascript"&gt; //ÁªôÈ°µÈù¢‰∏ä2‰∏™pÂÖÉÁ¥†ÈÉΩÁªëÂÆöÊó∂Èó¥ $('p').click(function(e) &#123; alert(e.target.innerHTML) &#125;) $("button:first").click(function() &#123; var p = $("p:first").remove(); p.css('color','red').text('p1ÈÄöËøáremoveÂ§ÑÁêÜÂêé,ÁÇπÂáªËØ•ÂÖÉÁ¥†,‰∫ã‰ª∂‰∏¢Â§±') $("body").append(p); &#125;); $("button:last").click(function() &#123; var p = $("p:first").detach(); p.css('color','blue').text('p2ÈÄöËøádetachÂ§ÑÁêÜÂêé,ÁÇπÂáªËØ•ÂÖÉÁ¥†‰∫ã‰ª∂Â≠òÂú®') $("body").append(p); &#125;);&lt;/script&gt; # DOMÊã∑Ë¥ùclone() ÂÖãÈöÜËäÇÁÇπÊòØDOMÁöÑÂ∏∏ËßÅÊìç‰ΩúÔºåjQueryÊèê‰æõ‰∏Ä‰∏™cloneÊñπÊ≥ïÔºå‰∏ìÈó®Áî®‰∫éÂ§ÑÁêÜdomÁöÑÂÖãÈöÜ 1.clone()ÊñπÊ≥ïÊ∑±Â∫¶ Â§çÂà∂ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÈõÜÂêàÔºåÂåÖÊã¨ÊâÄÊúâÂåπÈÖçÂÖÉÁ¥†„ÄÅÂåπÈÖçÂÖÉÁ¥†ÁöÑ‰∏ãÁ∫ßÂÖÉÁ¥†„ÄÅÊñáÂ≠óËäÇÁÇπ„ÄÇ cloneÊñπÊ≥ïÊØîËæÉÁÆÄÂçïÂ∞±ÊòØÂÖãÈöÜËäÇÁÇπÔºå‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÔºåÂ¶ÇÊûúËäÇÁÇπÊúâ‰∫ã‰ª∂ÊàñËÄÖÊï∞ÊçÆ‰πãÁ±ªÁöÑÂÖ∂‰ªñÂ§ÑÁêÜÔºåÊàë‰ª¨ÈúÄË¶ÅÈÄöËøáclone(ture)‰º†ÈÄí‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºtureÁî®Êù•ÊåáÂÆöÔºåËøôÊ†∑‰∏ç‰ªÖ‰ªÖÂè™ÊòØÂÖãÈöÜÂçïÁ∫ØÁöÑËäÇÁÇπÁªìÊûÑÔºåËøòË¶ÅÊääÈôÑÂ∏¶ÁöÑ‰∫ã‰ª∂‰∏éÊï∞ÊçÆÁªô‰∏ÄÂπ∂ÂÖãÈöÜ‰∫Ü 1234567891011HTMLÈÉ®ÂàÜ&lt;div&gt;&lt;/div&gt;JavaScriptÈÉ®ÂàÜ$("div").on('click', function() &#123;//ÊâßË°åÊìç‰Ωú&#125;)//cloneÂ§ÑÁêÜ‰∏Ä$("div").clone() //Âè™ÂÖãÈöÜ‰∫ÜÁªìÊûÑÔºå‰∫ã‰ª∂‰∏¢Â§±//cloneÂ§ÑÁêÜ‰∫å$("div").clone(true) //ÁªìÊûÑ„ÄÅ‰∫ã‰ª∂‰∏éÊï∞ÊçÆÈÉΩÂÖãÈöÜ ‰ΩøÁî®‰∏äÂ∞±ÊòØËøôÊ†∑ÁÆÄÂçïÔºå‰ΩøÁî®ÂÖãÈöÜÁöÑÊàë‰ª¨ÈúÄË¶ÅÈ¢ùÂ§ñÁü•ÈÅìÁöÑÁªÜËäÇÔºö - clone()ÊñπÊ≥ïÊó∂ÔºåÂú®Â∞ÜÂÆÉÊèíÂÖ•Âà∞ÊñáÊ°£‰πãÂâçÔºåÊàë‰ª¨ÂèØ‰ª•‰øÆÊîπÂÖãÈöÜÂêéÁöÑÂÖÉÁ¥†ÊàñËÄÖÂÖÉÁ¥†ÂÜÖÂÆπÔºåÂ¶ÇÂè≥Ëæπ‰ª£Á†ÅÊàë $(this).clone().css('color','red') Â¢ûÂä†‰∫Ü‰∏Ä‰∏™È¢úËâ≤ - ÈÄöËøá‰º†ÈÄítrueÔºåÂ∞ÜÊâÄÊúâÁªëÂÆöÂú®ÂéüÂßãÂÖÉÁ¥†‰∏äÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞Â§çÂà∂Âà∞ÂÖãÈöÜÂÖÉÁ¥†‰∏ä - clone()ÊñπÊ≥ïÊòØjQueryÊâ©Â±ïÁöÑÔºåÂè™ËÉΩÂ§ÑÁêÜÈÄöËøájQueryÁªëÂÆöÁöÑ‰∫ã‰ª∂‰∏éÊï∞ÊçÆ - ÂÖÉÁ¥†Êï∞ÊçÆÔºàdataÔºâÂÜÖÂØπË±°ÂíåÊï∞ÁªÑ‰∏ç‰ºöË¢´Â§çÂà∂ÔºåÂ∞ÜÁªßÁª≠Ë¢´ÂÖãÈöÜÂÖÉÁ¥†ÂíåÂéüÂßãÂÖÉÁ¥†ÂÖ±‰∫´„ÄÇÊ∑±Â§çÂà∂ÁöÑÊâÄÊúâÊï∞ÊçÆÔºåÈúÄË¶ÅÊâãÂä®Â§çÂà∂ÊØè‰∏Ä‰∏™ --- ÈÄöËøácloneÂÖãÈöÜÂÖÉÁ¥† 1234&lt;div class="left"&gt; &lt;div class="aaron1"&gt;ÁÇπÂáª,cloneÊµÖÊã∑Ë¥ù&lt;/div&gt; &lt;div class="aaron2"&gt;ÁÇπÂáª,cloneÊ∑±Êã∑Ë¥ù,ÂèØ‰ª•ÁªßÁª≠Ëß¶ÂèëÂàõÂª∫&lt;/div&gt;&lt;/div&gt; 1234567&lt;script type="text/javascript"&gt; //Âè™ÂÖãÈöÜËäÇÁÇπ //‰∏çÂÖãÈöÜ‰∫ã‰ª∂ $(".aaron1").on('click', function() &#123; $(".left").append( $(this).clone().css('color','red') ) &#125;) &lt;/script&gt; ![image-20190311102443530](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025648.jpg) --- 12345678&lt;script type="text/javascript"&gt; //ÂÖãÈöÜËäÇÁÇπ //ÂÖãÈöÜ‰∫ã‰ª∂ $(".aaron2").on('click', function() &#123; console.log(1) $(".left").append( $(this).clone(true).css('color','blue') ) &#125;) &lt;/script&gt; ![image-20190311102510959](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025654.jpg) --- #DOMÊõøÊç¢replaceWith()ÂíåreplaceAll() **.replaceWith( newContent )**ÔºöÁî®Êèê‰æõÁöÑÂÜÖÂÆπÊõøÊç¢ÈõÜÂêà‰∏≠ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†Âπ∂‰∏îËøîÂõûË¢´Âà†Èô§ÂÖÉÁ¥†ÁöÑÈõÜÂêà ÁÆÄÂçïÊù•ËØ¥ÔºöÁî®$()ÈÄâÊã©ËäÇÁÇπAÔºåË∞ÉÁî®replaceWithÊñπÊ≥ïÔºå‰º†ÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑÂÜÖÂÆπBÔºàHTMLÂ≠óÁ¨¶‰∏≤ÔºåDOMÂÖÉÁ¥†ÔºåÊàñËÄÖjQueryÂØπË±°ÔºâÁî®Êù•ÊõøÊç¢ÈÄâ‰∏≠ÁöÑËäÇÁÇπA Áúã‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö‰∏ÄÊÆµHTML‰ª£Á†Å 12345&lt;div&gt; &lt;p&gt;Á¨¨‰∏ÄÊÆµ&lt;/p&gt; &lt;p&gt;Á¨¨‰∫åÊÆµ&lt;/p&gt; &lt;p&gt;Á¨¨‰∏âÊÆµ&lt;/p&gt;&lt;/div&gt; ÊõøÊç¢Á¨¨‰∫åÊÆµÁöÑËäÇÁÇπ‰∏éÂÜÖÂÆπ 1$(&quot;p:eq(1)&quot;).replaceWith(&apos;&lt;a style=&quot;color:red&quot;&gt;ÊõøÊç¢Á¨¨‰∫åÊÆµÁöÑÂÜÖÂÆπ&lt;/a&gt;&apos;) ÈÄöËøájQueryÁ≠õÈÄâÂá∫Á¨¨‰∫å‰∏™pÂÖÉÁ¥†ÔºåË∞ÉÁî®replaceWithËøõË°åÊõøÊç¢ÔºåÁªìÊûúÂ¶Ç‰∏ã 12345&lt;div&gt; &lt;p&gt;Á¨¨‰∏ÄÊÆµ&lt;/p&gt; &lt;a style=&quot;color:red&quot;&gt;ÊõøÊç¢Á¨¨‰∫åÊÆµÁöÑÂÜÖÂÆπ&lt;/a&gt;&apos; &lt;p&gt;Á¨¨‰∏âÊÆµ&lt;/p&gt;&lt;/div&gt; **.replaceAll( target )** **Ôºö**Áî®ÈõÜÂêàÁöÑÂåπÈÖçÂÖÉÁ¥†ÊõøÊç¢ÊØè‰∏™ÁõÆÊ†áÂÖÉÁ¥† .replaceAll()Âíå.replaceWith()ÂäüËÉΩÁ±ª‰ººÔºå‰ΩÜÊòØÁõÆÊ†áÂíåÊ∫êÁõ∏ÂèçÔºåÁî®‰∏äËø∞ÁöÑHTMLÁªìÊûÑÔºåÊàë‰ª¨Áî®replaceAllÂ§ÑÁêÜ 1$(&apos;&lt;a style=&quot;color:red&quot;&gt;ÊõøÊç¢Á¨¨‰∫åÊÆµÁöÑÂÜÖÂÆπ&lt;/a&gt;&apos;).replaceAll(&apos;p:eq(1)&apos;) ÊÄªÁªìÔºö - .replaceAll()Âíå.replaceWith()ÂäüËÉΩÁ±ª‰ººÔºå‰∏ªË¶ÅÊòØÁõÆÊ†áÂíåÊ∫êÁöÑ‰ΩçÁΩÆÂå∫Âà´ - .replaceWith()‰∏é.replaceAll() ÊñπÊ≥ï‰ºöÂà†Èô§‰∏éËäÇÁÇπÁõ∏ÂÖ≥ËÅîÁöÑÊâÄÊúâÊï∞ÊçÆÂíå‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è - .replaceWith()ÊñπÊ≥ïÔºåÂíåÂ§ßÈÉ®ÂàÜÂÖ∂‰ªñjQueryÊñπÊ≥ï‰∏ÄÊ†∑ÔºåËøîÂõûjQueryÂØπË±°ÔºåÊâÄ‰ª•ÂèØ‰ª•ÂíåÂÖ∂‰ªñÊñπÊ≥ïÈìæÊé•‰ΩøÁî® - .replaceWith()ÊñπÊ≥ïËøîÂõûÁöÑjQueryÂØπË±°ÂºïÁî®ÁöÑÊòØÊõøÊç¢ÂâçÁöÑËäÇÁÇπÔºåËÄå‰∏çÊòØÈÄöËøáreplaceWith/replaceAllÊñπÊ≥ïÊõøÊç¢ÂêéÁöÑËäÇÁÇπ 1234567891011121314151617&lt;h2&gt;replaceWith()ÂíåreplaceAll()&lt;/h2&gt; &lt;div class="left"&gt; &lt;button class="bt1"&gt;ÁÇπÂáª,ÈÄöËøáreplaceWithÊõøÊç¢ÂÜÖÂÆπ&lt;/button&gt; &lt;button class="bt2"&gt;ÁÇπÂáª,ÈÄöËøárreplaceAllÊõøÊç¢ÂÜÖÂÆπ&lt;/button&gt; &lt;/div&gt; &lt;div class="right"&gt; &lt;div&gt; &lt;p&gt;Á¨¨‰∏ÄÊÆµ&lt;/p&gt; &lt;p&gt;Á¨¨‰∫åÊÆµ&lt;/p&gt; &lt;p&gt;Á¨¨‰∏âÊÆµ&lt;/p&gt; &lt;/div&gt; &lt;div&gt; &lt;p&gt;Á¨¨ÂõõÊÆµ&lt;/p&gt; &lt;p&gt;Á¨¨‰∫îÊÆµ&lt;/p&gt; &lt;p&gt;Á¨¨ÂÖ≠ÊÆµ&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; 12345678&lt;script type="text/javascript"&gt; //Âè™ÂÖãÈöÜËäÇÁÇπ //‰∏çÂÖãÈöÜ‰∫ã‰ª∂ $(".bt1").on('click', function() &#123; //ÊâæÂà∞ÂÜÖÂÆπ‰∏∫Á¨¨‰∫åÊÆµÁöÑpÂÖÉÁ¥† //ÈÄöËøáreplaceWithÂà†Èô§Âπ∂ÊõøÊç¢Ëøô‰∏™ËäÇÁÇπ $(".right &gt; div:first p:eq(1)").replaceWith('&lt;a style="color:red"&gt;replaceWithÊõøÊç¢Á¨¨‰∫åÊÆµÁöÑÂÜÖÂÆπ&lt;/a&gt;') &#125;) 1234567&lt;script type="text/javascript"&gt; //ÊâæÂà∞ÂÜÖÂÆπ‰∏∫Á¨¨ÂÖ≠ÊÆµÁöÑpÂÖÉÁ¥† //ÈÄöËøáreplaceAllÂà†Èô§Âπ∂ÊõøÊç¢Ëøô‰∏™ËäÇÁÇπ $(".bt2").on('click', function() &#123; $('&lt;a style="color:red"&gt;replaceAllÊõøÊç¢Á¨¨ÂÖ≠ÊÆµÁöÑÂÜÖÂÆπ&lt;/a&gt;').replaceAll('.right &gt; div:last p:last'); &#125;) &lt;/script&gt; # DOMÂåÖË£πwrap()ÊñπÊ≥ï Â¶ÇÊûúË¶ÅÂ∞ÜÂÖÉÁ¥†Áî®ÂÖ∂‰ªñÂÖÉÁ¥†ÂåÖË£πËµ∑Êù•Ôºå‰πüÂ∞±ÊòØÁªôÂÆÉÂ¢ûÂä†‰∏Ä‰∏™Áà∂ÂÖÉÁ¥†ÔºåÈíàÂØπËøôÊ†∑ÁöÑÂ§ÑÁêÜÔºåJQueryÊèê‰æõ‰∫Ü‰∏Ä‰∏™wrapÊñπÊ≥ï **.wrap( wrappingElement )****Ôºö**Âú®ÈõÜÂêà‰∏≠ÂåπÈÖçÁöÑÊØè‰∏™ÂÖÉÁ¥†Âë®Âõ¥ÂåÖË£π‰∏Ä‰∏™HTMLÁªìÊûÑ ÁÆÄÂçïÁöÑÁúã‰∏ÄÊÆµ‰ª£Á†ÅÔºö 1&lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt; ÁªôpÂÖÉÁ¥†Â¢ûÂä†‰∏Ä‰∏™divÂåÖË£π 1$(&apos;p&apos;).wrap(&apos;&lt;div&gt;&lt;/div&gt;&apos;) ÊúÄÂêéÁöÑÁªìÊûÑÔºåpÂÖÉÁ¥†Â¢ûÂä†‰∫Ü‰∏Ä‰∏™Áà∂divÁöÑÁªìÊûÑ 123&lt;div&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt;&lt;/div&gt; **.wrap( function )** **Ôºö**‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåËøîÂõûÁî®‰∫éÂåÖË£πÂåπÈÖçÂÖÉÁ¥†ÁöÑ HTML ÂÜÖÂÆπÊàñ jQuery ÂØπË±° ‰ΩøÁî®ÂêéÁöÑÊïàÊûú‰∏éÁõ¥Êé•‰º†ÈÄíÂèÇÊï∞ÊòØ‰∏ÄÊ†∑ÔºåÂè™‰∏çËøáÂèØ‰ª•Êää‰ª£Á†ÅÂÜôÂú®ÂáΩÊï∞‰ΩìÂÜÖÈÉ®ÔºåÂÜôÊ≥ï‰∏çÂêåËÄåÂ∑≤ ‰ª•Á¨¨‰∏Ä‰∏™Ê°à‰æã‰∏∫‰æãÔºö 123$(&apos;p&apos;).wrap(function() &#123; return &apos;&lt;div&gt;&lt;/div&gt;&apos;; //‰∏éÁ¨¨‰∏ÄÁßçÁ±ª‰ººÔºåÂè™ÊòØÂÜôÊ≥ï‰∏ç‰∏ÄÊ†∑&#125;) .wrap()ÂáΩÊï∞ÂèØ‰ª•Êé•Âèó‰ªª‰ΩïÂ≠óÁ¨¶‰∏≤ÊàñÂØπË±°ÔºåÂèØ‰ª•‰º†ÈÄíÁªô$()Â∑•ÂéÇÂáΩÊï∞Êù•ÊåáÂÆö‰∏Ä‰∏™DOMÁªìÊûÑ„ÄÇËøôÁßçÁªìÊûÑÂèØ‰ª•ÂµåÂ•ó‰∫ÜÂ•ΩÂá†Â±ÇÊ∑±Ôºå‰ΩÜÂ∫îËØ•Âè™ÂåÖÂê´‰∏Ä‰∏™Ê†∏ÂøÉÁöÑÂÖÉÁ¥†„ÄÇÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†ÈÉΩ‰ºöË¢´ËøôÁßçÁªìÊûÑÂåÖË£π„ÄÇËØ•ÊñπÊ≥ïËøîÂõûÂéüÂßãÁöÑÂÖÉÁ¥†ÈõÜÔºå‰ª•‰æø‰πãÂêé‰ΩøÁî®ÈìæÂºèÊñπÊ≥ï„ÄÇ DOMÂåÖË£πwrap()ÊñπÊ≥ï 123456789101112&lt;div class="left"&gt; &lt;button class="aaron1"&gt;ÁÇπÂáª,ÈÄöËøáwrapÊñπÊ≥ïÁªôpÂÖÉÁ¥†Â¢ûÂä†Áà∂ÂÆπÂô®div&lt;/button&gt; &lt;button class="aaron2"&gt;ÁÇπÂáª,ÈÄöËøáwrapÁöÑÂõûË∞ÉÊñπÊ≥ïÁªôaÂÖÉÁ¥†Â¢ûÂä†Áà∂ÂÆπÂô®div&lt;/div&gt;&lt;/div&gt;&lt;div class="right"&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt;&lt;/div&gt;&lt;div class="left"&gt; &lt;a&gt;aÂÖÉÁ¥†&lt;/a&gt; &lt;a&gt;aÂÖÉÁ¥†&lt;/a&gt;&lt;/div&gt; 12345678910111213&lt;script type="text/javascript"&gt; $(".aaron1").on('click', function() &#123; //ÁªôÊâÄÊúâpÂÖÉÁ¥†ÔºåÂ¢ûÂä†Áà∂ÂÆπÂô®div $('p').wrap('&lt;div&gt;&lt;/div&gt;') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $(".aaron2").on('click', function() &#123; $('a').wrap(function() &#123; return '&lt;div class="' + $(this).text() + '" /&gt;'; &#125;) &#125;) &lt;/script&gt; ![image-20190311103309520](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025658.jpg) --- # DOMÂåÖË£πunwrap()ÊñπÊ≥ï Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáwrapÊñπÊ≥ïÁªôÈÄâ‰∏≠ÂÖÉÁ¥†Â¢ûÂä†‰∏Ä‰∏™ÂåÖË£πÁöÑÁà∂ÂÖÉÁ¥†„ÄÇÁõ∏ÂèçÔºåÂ¶ÇÊûúÂà†Èô§ÈÄâ‰∏≠ÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥†Ë¶ÅÂ¶Ç‰ΩïÂ§ÑÁêÜ ? jQueryÊèê‰æõ‰∫Ü‰∏Ä‰∏™unwrap()ÊñπÊ≥ï Ôºå‰ΩúÁî®‰∏éwrapÊñπÊ≥ïÊòØÁõ∏ÂèçÁöÑ„ÄÇÂ∞ÜÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêàÁöÑÁà∂Á∫ßÂÖÉÁ¥†Âà†Èô§Ôºå‰øùÁïôËá™Ë∫´ÔºàÂíåÂÖÑÂºüÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÂ≠òÂú®ÔºâÂú®ÂéüÊù•ÁöÑ‰ΩçÁΩÆ„ÄÇ Áúã‰∏ÄÊÆµÁÆÄÂçïÊ°à‰æãÔºö 123&lt;div&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt;&lt;/div&gt; ÊàëË¶ÅÂà†Èô§ËøôÊÆµ‰ª£Á†Å‰∏≠ÁöÑdivÔºå‰∏ÄËà¨Â∏∏ËßÑÁöÑÊñπÊ≥ï‰ºöÁõ¥Êé•ÈÄöËøáremoveÊàñËÄÖemptyÊñπÊ≥ï 1$(&apos;div&apos;).remove(); ‰ΩÜÊòØÂ¶ÇÊûúÊàëËøòË¶Å‰øùÁïôÂÜÖÈÉ®ÂÖÉÁ¥†pÔºåËøôÊ†∑Â∞±ÊÑèÂë≥ÁùÄÈúÄË¶ÅÂ§öÂÅöÂæàÂ§öÂ§ÑÁêÜÔºåÊ≠•È™§Áõ∏ÂØπË¶ÅÈ∫ªÁÉ¶ÂæàÂ§öÔºå‰∏∫‰∫ÜÊõ¥‰æøÊç∑ÔºåjQueryÊèê‰æõ‰∫ÜunwrapÊñπÊ≥ïÂæàÊñπ‰æøÁöÑÂ§ÑÁêÜ‰∫ÜËøô‰∏™ÈóÆÈ¢ò 1$(&apos;p&apos;).unwrap(); ÊâæÂà∞pÂÖÉÁ¥†ÔºåÁÑ∂ÂêéË∞ÉÁî®unwrapÊñπÊ≥ïÔºåËøôÊ†∑Âè™‰ºöÂà†Èô§Áà∂ËæàdivÂÖÉÁ¥†‰∫Ü ÁªìÊûúÔºö 1&lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt; Ëøô‰∏™ÊñπÊ≥ïÊØîËæÉÁÆÄÂçïÔºå‰πü‰∏çÊé•Âèó‰ªª‰ΩïÂèÇÊï∞ÔºåÊ≥®ÊÑèÂèÇËÄÉ‰∏ãÊ°à‰æãÁöÑ‰ΩøÁî®Âç≥ÂèØ 123456789101112131415161718192021&lt;h2&gt;DOMÂåÖË£πunwrap()ÊñπÊ≥ï&lt;/h2&gt; &lt;div class="left"&gt; &lt;div class="aaron1"&gt;ÁÇπÂáª,ÈÄöËøáunwrapÊñπÊ≥ïÁªôpÂÖÉÁ¥†Âà†Èô§Áà∂ÂÆπÂô®div&lt;/div&gt; &lt;div class="aaron2"&gt;ÁÇπÂáª,ÈÄöËøáunwrapÁöÑÂõûË∞ÉÊñπÊ≥ïÁªôaÂÖÉÁ¥†Âà†Èô§Áà∂ÂÆπÂô®div&lt;/div&gt; &lt;/div&gt; &lt;div class="right"&gt; &lt;div&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt; &lt;/div&gt; &lt;div&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="left"&gt; &lt;div&gt; &lt;a&gt;aÂÖÉÁ¥†&lt;/a&gt; &lt;/div&gt; &lt;div&gt; &lt;a&gt;aÂÖÉÁ¥†&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; --- 1234567891011121314&lt;script type="text/javascript"&gt; $(".aaron1").on('click', function() &#123; //ÊâæÂà∞ÊâÄÊúâpÂÖÉÁ¥†ÔºåÂà†Èô§Áà∂ÂÆπÂô®div $('p').unwrap('&lt;div&gt;&lt;/div&gt;') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $(".aaron2").on('click', function() &#123; //ÊâæÂà∞ÊâÄÊúâpÂÖÉÁ¥†ÔºåÂà†Èô§Áà∂ÂÆπÂô®div $('a').unwrap(function() &#123; return '&lt;div&gt;&lt;/div&gt;'; &#125;) &#125;) &lt;/script&gt; ![image-20190311103603895](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025701.jpg) --- # DOMÂåÖË£πwrapAll()ÊñπÊ≥ï wrapÊòØÈíàÂØπÂçï‰∏™domÂÖÉÁ¥†Â§ÑÁêÜÔºåÂ¶ÇÊûúË¶ÅÂ∞Ü**ÈõÜ****Âêà‰∏≠**ÁöÑÂÖÉÁ¥†Áî®ÂÖ∂‰ªñÂÖÉÁ¥†ÂåÖË£πËµ∑Êù•Ôºå‰πüÂ∞±ÊòØÁªô‰ªñ‰ª¨Â¢ûÂä†‰∏Ä‰∏™Áà∂ÂÖÉÁ¥†ÔºåÈíàÂØπËøôÊ†∑ÁöÑÂ§ÑÁêÜÔºåJQueryÊèê‰æõ‰∫Ü‰∏Ä‰∏™wrapAllÊñπÊ≥ï **.wrapAll( wrappingElement )****Ôºö**ÁªôÈõÜÂêà‰∏≠ÂåπÈÖçÁöÑÂÖÉÁ¥†Â¢ûÂä†‰∏Ä‰∏™Â§ñÈù¢ÂåÖË£πHTMLÁªìÊûÑ ÁÆÄÂçïÁöÑÁúã‰∏ÄÊÆµ‰ª£Á†ÅÔºö 12&lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt;&lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt; ÁªôÊâÄÊúâpÂÖÉÁ¥†Â¢ûÂä†‰∏Ä‰∏™divÂåÖË£π 1$(&apos;p&apos;).wrapAll(&apos;&lt;div&gt;&lt;/div&gt;&apos;) ÊúÄÂêéÁöÑÁªìÊûÑÔºå2‰∏™PÂÖÉÁ¥†ÈÉΩÂ¢ûÂä†‰∫Ü‰∏Ä‰∏™Áà∂divÁöÑÁªìÊûÑ 1234&lt;div&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt;&lt;/div&gt; **.wrapAll( function )** **Ôºö**‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåËøîÂõûÁî®‰∫éÂåÖË£πÂåπÈÖçÂÖÉÁ¥†ÁöÑ HTML ÂÜÖÂÆπÊàñ jQuery ÂØπË±° ÈÄöËøáÂõûË∞ÉÁöÑÊñπÂºèÂèØ‰ª•ÂçïÁã¨Â§ÑÁêÜÊØè‰∏Ä‰∏™ÂÖÉÁ¥† ‰ª•‰∏äÈù¢Ê°à‰æã‰∏∫‰æãÔºå 123$(&apos;p&apos;).wrapAll(function() &#123; return &apos;&lt;div&gt;&lt;div/&gt;&apos;; &#125;) ‰ª•‰∏äÁöÑÂÜôÊ≥ïÁöÑÁªìÊûúÂ¶Ç‰∏ãÔºåÁ≠âÂêå‰∫éwarpÁöÑÂ§ÑÁêÜ‰∫Ü 123456&lt;div&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt;pÂÖÉÁ¥†&lt;/p&gt;&lt;/div&gt; --- Ê≥®ÊÑèÔºö .wrapAll()ÂáΩÊï∞ÂèØ‰ª•Êé•Âèó‰ªª‰ΩïÂ≠óÁ¨¶‰∏≤ÊàñÂØπË±°ÔºåÂèØ‰ª•‰º†ÈÄíÁªô$()Â∑•ÂéÇÂáΩÊï∞Êù•ÊåáÂÆö‰∏Ä‰∏™DOMÁªìÊûÑ„ÄÇËøôÁßçÁªìÊûÑÂèØ‰ª•ÂµåÂ•óÂ§öÂ±ÇÔºå‰ΩÜÊòØÊúÄÂÜÖÂ±ÇÂè™ËÉΩÊúâ‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇÊâÄÊúâÂåπÈÖçÂÖÉÁ¥†Â∞Ü‰ºöË¢´ÂΩì‰ΩúÊòØ‰∏Ä‰∏™Êï¥‰ΩìÔºåÂú®Ëøô‰∏™Êï¥‰ΩìÁöÑÂ§ñÈÉ®Áî®ÊåáÂÆöÁöÑ HTML ÁªìÊûÑËøõË°åÂåÖË£π„ÄÇ --- DOMÂåÖË£πwrapAll()ÊñπÊ≥ï ÁÇπÂáª,ÈÄöËøáwrapAllÊñπÊ≥ïÁªôÊâÄÊúâPÂÖÉÁ¥†Â¢ûÂä†Áà∂ÂÆπÂô®div ÁÇπÂáª,ÈÄöËøáwrapAllÁöÑÂõûË∞ÉÊñπÊ≥ïÁªôÊØè‰∏™aÂÖÉÁ¥†Â¢ûÂä†Áà∂ÂÆπÂô®div pÂÖÉÁ¥† pÂÖÉÁ¥† aÂÖÉÁ¥† aÂÖÉÁ¥† 123456789101112131415&lt;script type="text/javascript"&gt; $(".aaron1").on('click', function() &#123; //ÁªôÊâÄÊúâpÂÖÉÁ¥†ÔºåÂ¢ûÂä†Áà∂ÂÆπÂô®div $('p').wrapAll('&lt;div&gt;&lt;/div&gt;'); &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $(".aaron2").on('click', function() &#123; //wrapAllÊé•Âèó‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ //ÊØè‰∏ÄÊ¨°ÈÅçÂéÜthisÈÉΩÊåáÂêë‰∫ÜÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™aÂÖÉÁ¥† $('a').wrapAll(function() &#123; return '&lt;div&gt;&lt;/div&gt;' &#125;) &#125;) &lt;/script&gt; ![image-20190311103935500](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025702.jpg) --- # DOMÂåÖË£πwrapInner()ÊñπÊ≥ï 12345678910111213&lt;h2&gt;DOMÂåÖË£πwrapInner()ÊñπÊ≥ï&lt;/h2&gt; &lt;div class="left"&gt; &lt;div class="aaron1"&gt;ÁÇπÂáª,ÈÄöËøáwrapInnerÊñπÊ≥ïÁªôÊâÄÊúâdivÂÖÉÁ¥†Â¢ûÂä†ÂÜÖÈÉ®Áà∂ÂÆπÂô®p&lt;/div&gt; &lt;div class="aaron2"&gt;ÁÇπÂáª,ÈÄöËøáwrapInnerÁöÑÂõûË∞ÉÊñπÊ≥ïÁªôÊØè‰∏™divÂÖÉÁ¥†Â¢ûÂä†ÂÜÖÈÉ®Áà∂ÂÆπÂô®a&lt;/div&gt; &lt;/div&gt; &lt;div class="right"&gt; &lt;div class="right1"&gt;pÂÖÉÁ¥†&lt;/div&gt; &lt;div class="right1"&gt;pÂÖÉÁ¥†&lt;/div&gt; &lt;/div&gt; &lt;div class="left"&gt; &lt;div class="left1"&gt;aÂÖÉÁ¥†&lt;/div&gt; &lt;div class="left1"&gt;aÂÖÉÁ¥†&lt;/div&gt; &lt;/div&gt; 123456789101112131415&lt;script type="text/javascript"&gt; $(".aaron1").on('click', function() &#123; //ÁªôÊâÄÊúâclass=right1ÁöÑdivÂÖÉÁ¥†ÔºåÂ¢ûÂä†ÂÜÖÈÉ®ÂåÖË£πÁà∂ÂÆπÂô®p $('.right1').wrapInner('&lt;p&gt;&lt;/p&gt;'); &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $(".aaron2").on('click', function() &#123; //wrapInnerÊé•Âèó‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ //ÊØè‰∏ÄÊ¨°ÈÅçÂéÜthisÈÉΩÊåáÂêë‰∫ÜÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™class=left1ÁöÑdivÂÖÉÁ¥† $('.left1').wrapInner(function() &#123; return '&lt;a&gt;&lt;/a&gt;' &#125;) &#125;) &lt;/script&gt; ![image-20190311104323744](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-025713.jpg) ---- # jQueryÈÅçÂéÜ‰πãchildren()ÊñπÊ≥ï jQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÂ¶ÇÊûúÊÉ≥Âø´ÈÄüÊü•ÊâæÂêàÈõÜÈáåÈù¢ÁöÑÁ¨¨‰∏ÄÁ∫ßÂ≠êÂÖÉÁ¥†ÔºåÊ≠§Êó∂ÂèØ‰ª•Áî®children()ÊñπÊ≥ï„ÄÇËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÔºö.children(selector) ÊñπÊ≥ïÊòØËøîÂõûÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥†Ôºà‰ªÖÂÑøÂ≠êËæàÔºåËøôÈáåÂèØ‰ª•ÁêÜËß£‰∏∫Â∞±ÊòØÁà∂‰∫≤-ÂÑøÂ≠êÁöÑÂÖ≥Á≥ªÔºâ **ÁêÜËß£ËäÇÁÇπÊü•ÊâæÂÖ≥Á≥ªÔºö** 12345&lt;div class=&quot;div&quot;&gt; &lt;ul class=&quot;son&quot;&gt; &lt;li class=&quot;grandson&quot;&gt;1&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; ‰ª£Á†ÅÂ¶ÇÊûúÊòØ$("div").children()ÔºåÈÇ£‰πàÊÑèÂë≥ÁùÄÂè™ËÉΩÊâæÂà∞ulÔºåÂõ†‰∏∫div‰∏éulÊòØÁà∂Â≠êÂÖ≥Á≥ªÔºåli‰∏édivÊòØÁ•ñËæàÂÖ≥Á≥ªÔºåÂõ†Ê≠§Êó†Ê≥ïÊâæÂà∞„ÄÇ **children()****Êó†ÂèÇÊï∞** ÂÖÅËÆ∏Êàë‰ª¨ÈÄöËøáÂú®DOMÊ†ë‰∏≠ÂØπËøô‰∫õÂÖÉÁ¥†ÁöÑÁõ¥Êé•Â≠êÂÖÉÁ¥†ËøõË°åÊêúÁ¥¢ÔºåÂπ∂‰∏îÊûÑÈÄ†‰∏Ä‰∏™Êñ∞ÁöÑÂåπÈÖçÂÖÉÁ¥†ÁöÑjQueryÂØπË±° 1Ê≥®ÊÑèÔºöjQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÊâÄ‰ª•ÈÄöËøáchildrenÊòØÂåπÈÖçÂêàÈõÜ‰∏≠ÊØè‰∏ÄÁªôÂÖÉÁ¥†ÁöÑÁ¨¨‰∏ÄÁ∫ßÂ≠êÂÖÉÁ¥† .**children()****ÊñπÊ≥ïÈÄâÊã©ÊÄßÂú∞Êé•ÂèóÂêå‰∏ÄÁ±ªÂûãÈÄâÊã©Âô®Ë°®ËææÂºè** 1$(&quot;div&quot;).children(&quot;.selected&quot;) ÂêåÊ†∑ÁöÑ‰πüÊòØÂõ†‰∏∫jQueryÊòØÂêàÈõÜÂØπË±°ÔºåÂèØËÉΩÈúÄË¶ÅÂØπËøô‰∏™ÂêàÈõÜÂØπË±°ËøõË°å‰∏ÄÂÆöÁöÑÁ≠õÈÄâÔºåÊâæÂá∫ÁõÆÊ†áÂÖÉÁ¥†ÔºåÊâÄ‰ª•ÂÖÅËÆ∏‰º†‰∏Ä‰∏™ÈÄâÊã©Âô®ÁöÑË°®ËææÂºè 12345678910111213&lt;script type="text/javascript"&gt; $("#bt1").click(function() &#123; $('div').children(); &#125;)f &lt;/script&gt; &lt;script type="text/javascript"&gt; $("#bt2").click(function() &#123; //ÊâæÂà∞ÊâÄÊúâclass=divÁöÑÂÖÉÁ¥† //ÊâæÂà∞ÂÖ∂ÂØπÂ∫îÁöÑÂ≠êÂÖÉÁ¥†ulÔºåÁÑ∂ÂêéÁ≠õÈÄâÂá∫ÊúÄÂêé‰∏Ä‰∏™ÔºåÁªôËæπÂÆΩÂä†‰∏äÈ¢úËâ≤ $('.div').children(':last').css('border', '3px solid blue') &#125;) &lt;/script&gt; # jQueryÈÅçÂéÜ‰πãfind()ÊñπÊ≥ï jQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÂ¶ÇÊûúÊÉ≥Âø´ÈÄüÊü•ÊâæDOMÊ†ë‰∏≠ÁöÑËøô‰∫õÂÖÉÁ¥†ÁöÑÂêé‰ª£ÂÖÉÁ¥†ÔºåÊ≠§Êó∂ÂèØ‰ª•Áî®find()ÊñπÊ≥ïÔºåËøô‰πüÊòØÂºÄÂèë‰ΩøÁî®È¢ëÁéáÂæàÈ´òÁöÑÊñπÊ≥ï„ÄÇËøôÈáåË¶ÅÊ≥®ÊÑè children‰∏éfindÊñπÊ≥ïÁöÑÂå∫Âà´ÔºåchildrenÊòØÁà∂Â≠êÂÖ≥Á≥ªÊü•ÊâæÔºåfindÊòØÂêé‰ª£ÂÖ≥Á≥ªÔºàÂåÖÂê´Áà∂Â≠êÂÖ≥Á≥ª) **ÁêÜËß£ËäÇÁÇπÊü•ÊâæÂÖ≥Á≥ªÔºö** 12345&lt;div class=&quot;div&quot;&gt; &lt;ul class=&quot;son&quot;&gt; &lt;li class=&quot;grandson&quot;&gt;1&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; ‰ª£Á†ÅÂ¶ÇÊûúÊòØ$("div").find("li")ÔºåÊ≠§Êó∂Ôºåli‰∏édivÊòØÁ•ñËæàÂÖ≥Á≥ªÔºåÈÄöËøáfindÊñπÊ≥ïÂ∞±ÂèØ‰ª•Âø´ÈÄüÁöÑÊü•ÊâæÂà∞‰∫Ü **.find()ÊñπÊ≥ïË¶ÅÊ≥®ÊÑèÁöÑÁü•ËØÜÁÇπÔºö** - findÊòØÈÅçÂéÜÂΩìÂâçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂêé‰ª£„ÄÇÂè™Ë¶ÅÁ¨¶ÂêàÔºå‰∏çÁÆ°ÊòØÂÑøÂ≠êËæàÔºåÂ≠ôÂ≠êËæàÈÉΩÂèØ‰ª•„ÄÇ - ‰∏éÂÖ∂‰ªñÁöÑÊ†ëÈÅçÂéÜÊñπÊ≥ï‰∏çÂêåÔºåÈÄâÊã©Âô®Ë°®ËææÂºèÂØπ‰∫é .find() ÊòØÂøÖÈúÄÁöÑÂèÇÊï∞„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞ÂØπÊâÄÊúâÂêé‰ª£ÂÖÉÁ¥†ÁöÑÂèñÂõûÔºåÂèØ‰ª•‰º†ÈÄíÈÄöÈÖçÈÄâÊã©Âô® '*'„ÄÇ - findÂè™Âú®Âêé‰ª£‰∏≠ÈÅçÂéÜÔºå‰∏çÂåÖÊã¨Ëá™Â∑±„ÄÇ - ÈÄâÊã©Âô® context ÊòØÁî± .find() ÊñπÊ≥ïÂÆûÁé∞ÁöÑÔºõÂõ†Ê≠§Ôºå$('.item-ii').find('li') Á≠â‰ª∑‰∫é $('li', '.item-ii')(ÊâæÂà∞Á±ªÂêç‰∏∫item-iiÁöÑÊ†áÁ≠æ‰∏ãÁöÑliÊ†áÁ≠æ)„ÄÇ **Ê≥®ÊÑèÈáçÁÇπÔºö** 123.find()Âíå.children()ÊñπÊ≥ïÊòØÁõ∏‰ººÁöÑ1.childrenÂè™Êü•ÊâæÁ¨¨‰∏ÄÁ∫ßÁöÑÂ≠êËäÇÁÇπ2.findÊü•ÊâæËåÉÂõ¥ÂåÖÊã¨Â≠êËäÇÁÇπÁöÑÊâÄÊúâÂêé‰ª£ËäÇÁÇπ --- 12345678910111213&lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.left').find('li:last').css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //ÊâæÂà∞ÊâÄÊúâpÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÁ≠õÈÄâÂá∫Â≠êÂÖÉÁ¥†ÊòØspanÊ†áÁ≠æÁöÑËäÇÁÇπ //ÊîπÂèòÂÖ∂Â≠ó‰ΩìÈ¢úËâ≤ var $spans = $('span'); $("p").find($spans).css('color', 'red'); &#125;) &lt;/script&gt; --- # jQueryÈÅçÂéÜ‰πãparent()ÊñπÊ≥ï jQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÂ¶ÇÊûúÊÉ≥Âø´ÈÄüÊü•ÊâæÂêàÈõÜÈáåÈù¢ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥†ÔºàËøôÈáåÂèØ‰ª•ÁêÜËß£‰∏∫Â∞±ÊòØÁà∂‰∫≤-ÂÑøÂ≠êÁöÑÂÖ≥Á≥ªÔºâÔºåÊ≠§Êó∂ÂèØ‰ª•Áî®parent()ÊñπÊ≥ï Âõ†‰∏∫ÊòØÁà∂ÂÖÉÁ¥†ÔºåËøô‰∏™ÊñπÊ≥ïÂè™‰ºöÂêë‰∏äÊü•Êâæ‰∏ÄÁ∫ß **ÁêÜËß£ËäÇÁÇπÊü•ÊâæÂÖ≥Á≥ªÔºö** 12345&lt;div class=&quot;div&quot;&gt; &lt;ul class=&quot;son&quot;&gt; &lt;li class=&quot;grandson&quot;&gt;1&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; Êü•ÊâæulÁöÑÁà∂ÂÖÉÁ¥†div, $(ul).parent()ÔºåÂ∞±ÊòØËøôÊ†∑ÁÆÄÂçïÁöÑË°®Ëææ **parent()****Êó†ÂèÇÊï∞** parent()ÊñπÊ≥ïÂÖÅËÆ∏Êàë‰ª¨ËÉΩÂ§üÂú®DOMÊ†ë‰∏≠ÊêúÁ¥¢Âà∞Ëøô‰∫õÂÖÉÁ¥†ÁöÑÁà∂Á∫ßÂÖÉÁ¥†Ôºå‰ªéÊúâÂ∫èÁöÑÂêë‰∏äÂåπÈÖçÂÖÉÁ¥†ÔºåÂπ∂Ê†πÊçÆÂåπÈÖçÁöÑÂÖÉÁ¥†ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ jQuery ÂØπË±° 1Ê≥®ÊÑèÔºöjQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÊâÄ‰ª•ÈÄöËøáparentÊòØÂåπÈÖçÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥† **parent()****ÊñπÊ≥ïÈÄâÊã©ÊÄßÂú∞Êé•ÂèóÂêå‰∏ÄÂûãÈÄâÊã©Âô®Ë°®ËææÂºè** 1ÂêåÊ†∑ÁöÑ‰πüÊòØÂõ†‰∏∫jQueryÊòØÂêàÈõÜÂØπË±°ÔºåÂèØËÉΩÈúÄË¶ÅÂØπËøô‰∏™ÂêàÈõÜÂØπË±°ËøõË°å‰∏ÄÂÆöÁöÑÁ≠õÈÄâÔºåÊâæÂá∫ÁõÆÊ†áÂÖÉÁ¥†ÔºåÊâÄ‰ª•ÂÖÅËÆ∏‰º†‰∏Ä‰∏™ÈÄâÊã©Âô®ÁöÑË°®ËææÂºè 12345678910111213&lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.level-3').parent().css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //ÊâæÂà∞ÊâÄÊúâclass=item-aÁöÑÁà∂ÂÖÉÁ¥† //ÁÑ∂ÂêéÁªôÊØè‰∏™ul,ÁÑ∂ÂêéÁ≠õÈÄâÂá∫ÊúÄÂêé‰∏Ä‰∏™ÔºåÂä†‰∏äËìùËâ≤ÁöÑËæπ $('.item-a').parent(':last').css('border', '1px solid blue') &#125;) &lt;/script&gt; --- #jQueryÈÅçÂéÜ‰πãclosest()ÊñπÊ≥ï ‰ª•ÈÄâÂÆöÁöÑÂÖÉÁ¥†‰∏∫‰∏≠ÂøÉÔºåÂæÄÂÜÖÊü•ÊâæÂèØ‰ª•ÈÄöËøáfind„ÄÅchildrenÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÂæÄ‰∏äÊü•ÊâæÔºå‰πüÂ∞±ÊòØÊü•ÊâæÂΩìÂâçÂÖÉÁ¥†ÁöÑÁà∂ËæàÁ•ñËæàÂÖÉÁ¥†ÔºåjQueryÊèê‰æõ‰∫Üclosest()ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁ±ª‰ººparents‰ΩÜÊòØÂèàÊúâ‰∏Ä‰∫õÁªÜÂæÆÁöÑÂå∫Âà´ÔºåÂ±û‰∫é‰ΩøÁî®È¢ëÁéáÂæàÈ´òÁöÑÊñπÊ≥ï **closest()****ÊñπÊ≥ïÊé•Âèó‰∏Ä‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑÈÄâÊã©Âô®Â≠óÁ¨¶‰∏≤** ‰ªéÂÖÉÁ¥†Êú¨Ë∫´ÂºÄÂßãÔºåÂú®DOM Ê†ë‰∏äÈÄêÁ∫ßÂêë‰∏äÁ∫ßÂÖÉÁ¥†ÂåπÈÖçÔºåÂπ∂ËøîÂõûÊúÄÂÖàÂåπÈÖçÁöÑÁ•ñÂÖàÂÖÉÁ¥† ‰æãÂ¶ÇÔºöÂú®divÂÖÉÁ¥†‰∏≠ÔºåÂæÄ‰∏äÊü•ÊâæÊâÄÊúâÁöÑliÂÖÉÁ¥†ÔºåÂèØ‰ª•ËøôÊ†∑Ë°®Ëææ 1$(&quot;div&quot;).closet(&quot;li&apos;) **Ê≥®ÊÑèÔºöjQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÊâÄ‰ª•ÈÄöËøáclosestÊòØÂåπÈÖçÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÁ•ñÂÖàÂÖÉÁ¥†** **closest()****ÊñπÊ≥ïÁªôÂÆöÁöÑ****jQuery****ÈõÜÂêàÊàñÂÖÉÁ¥†Êù•ËøáÊª§ÂÖÉÁ¥†** ÂêåÊ†∑ÁöÑ‰πüÊòØÂõ†‰∏∫jQueryÊòØÂêàÈõÜÂØπË±°ÔºåÂèØËÉΩÈúÄË¶ÅÂØπËøô‰∏™ÂêàÈõÜÂØπË±°ËøõË°å‰∏ÄÂÆöÁöÑÁ≠õÈÄâÔºåÊâæÂá∫ÁõÆÊ†áÂÖÉÁ¥†ÔºåÊâÄ‰ª•ÂÖÅËÆ∏‰º†‰∏Ä‰∏™jQueryÁöÑÂØπË±° **Ê≥®ÊÑè‰∫ãÈ°πÔºö**Âú®‰ΩøÁî®ÁöÑÊó∂ÂÄôÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑè‰∏ã Á≤óÁúã.parents()Âíå.closest()ÊòØÊúâÁÇπÁõ∏‰ººÁöÑÔºåÈÉΩÊòØÂæÄ‰∏äÈÅçÂéÜÁ•ñËæàÂÖÉÁ¥†Ôºå‰ΩÜÊòØ‰∏§ËÄÖËøòÊòØÊúâÂå∫Âà´ÁöÑÔºåÂê¶ÂàôÂ∞±Ê≤°ÊúâÂ≠òÂú®ÁöÑÊÑè‰πâ‰∫Ü 1. Ëµ∑Âßã‰ΩçÁΩÆ‰∏çÂêåÔºö.closestÂºÄÂßã‰∫éÂΩìÂâçÂÖÉÁ¥† .parentsÂºÄÂßã‰∫éÁà∂ÂÖÉÁ¥† 2. ÈÅçÂéÜÁöÑÁõÆÊ†á‰∏çÂêåÔºö.closestË¶ÅÊâæÂà∞ÊåáÂÆöÁöÑÁõÆÊ†áÔºå.parentsÈÅçÂéÜÂà∞ÊñáÊ°£Ê†πÂÖÉÁ¥†ÔºåclosestÂêë‰∏äÊü•ÊâæÔºåÁõ¥Âà∞ÊâæÂà∞‰∏Ä‰∏™ÂåπÈÖçÁöÑÂ∞±ÂÅúÊ≠¢Êü•ÊâæÔºåparents‰∏ÄÁõ¥Êü•ÊâæÂà∞Ê†πÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂåπÈÖçÁöÑÂÖÉÁ¥†Âä†ÂÖ•ÈõÜÂêà 3. ÁªìÊûú‰∏çÂêåÔºö.closestËøîÂõûÁöÑÊòØÂåÖÂê´Èõ∂‰∏™Êàñ‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑjqueryÂØπË±°ÔºåparentsËøîÂõûÁöÑÊòØÂåÖÂê´Èõ∂‰∏™Êàñ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÖÉÁ¥†ÁöÑjqueryÂØπË±° --- 123456789101112131415&lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('li.item-1') .closest('.level-2') .css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; var itemB = $('.item-b') $('li.item-1') .closest(itemB) .css('border', '1px solid blue'); &#125;) &lt;/script&gt; ## jQueryÈÅçÂéÜ‰πãnext()ÊñπÊ≥ï jQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÂ¶ÇÊûúÊÉ≥Âø´ÈÄüÊü•ÊâæÊåáÂÆöÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†Á¥ßÈÇªÁöÑÂêéÈù¢ÂêåËæàÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÈõÜÂêàÔºåÊ≠§Êó∂ÂèØ‰ª•Áî®next()ÊñπÊ≥ï **ÁêÜËß£ËäÇÁÇπÊü•ÊâæÂÖ≥Á≥ªÔºö** Â¶Ç‰∏ãclass="item-1"ÂÖÉÁ¥†Â∞±ÊòØÁ∫¢Ëâ≤ÈÉ®ÂàÜÔºåÈÇ£ËìùËâ≤ÁöÑclass="item-2"Â∞±ÊòØÂÆÉÁöÑÂÖÑÂºüÂÖÉÁ¥† 12345&lt;ul class=&quot;level-3&quot;&gt; &lt;li class=&quot;item-1&quot;&gt;1&lt;/li&gt; &lt;li class=&quot;item-2&quot;&gt;2&lt;/li&gt; &lt;li class=&quot;item-3&quot;&gt;3&lt;/li&gt;&lt;/ul&gt; **next****()****Êó†ÂèÇÊï∞** ÂÖÅËÆ∏Êàë‰ª¨ÊâæÈÅçÂÖÉÁ¥†ÈõÜÂêà‰∏≠Á¥ßË∑üÁùÄËøô‰∫õÂÖÉÁ¥†ÁöÑÁõ¥Êé•ÂÖÑÂºüÂÖÉÁ¥†ÔºåÂπ∂Ê†πÊçÆÂåπÈÖçÁöÑÂÖÉÁ¥†ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ jQuery ÂØπË±°„ÄÇ 1Ê≥®ÊÑèÔºöjQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÊâÄ‰ª•ÈÄöËøánextÂåπÈÖçÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÑÂºüÂÖÉÁ¥† **next****()****ÊñπÊ≥ïÈÄâÊã©ÊÄßÂú∞Êé•ÂèóÂêå‰∏ÄÁ±ªÂûãÈÄâÊã©Âô®Ë°®ËææÂºè** 1ÂêåÊ†∑ÁöÑ‰πüÊòØÂõ†‰∏∫jQueryÊòØÂêàÈõÜÂØπË±°ÔºåÂèØËÉΩÈúÄË¶ÅÂØπËøô‰∏™ÂêàÈõÜÂØπË±°ËøõË°å‰∏ÄÂÆöÁöÑÁ≠õÈÄâÔºåÊâæÂá∫ÁõÆÊ†áÂÖÉÁ¥†ÔºåÊâÄ‰ª•ÂÖÅËÆ∏‰º†‰∏Ä‰∏™ÈÄâÊã©Âô®ÁöÑË°®ËææÂºè 12345678910111213&lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.item-1').next().css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //ÊâæÂà∞ÊâÄÊúâclass=item-3ÁöÑli //ÁÑ∂ÂêéÁ≠õÈÄâÂá∫Á¨¨‰∏Ä‰∏™liÔºåÂä†‰∏äËìùËâ≤ÁöÑËæπ $('.item-2').next(':first').css('border', '1px solid blue') &#125;) &lt;/script&gt; # jQueryÈÅçÂéÜ‰πãprev()ÊñπÊ≥ï jQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÂ¶ÇÊûúÊÉ≥Âø´ÈÄüÊü•ÊâæÊåáÂÆöÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†Á¥ßÈÇªÁöÑÂâçÈù¢ÂêåËæàÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÈõÜÂêàÔºåÊ≠§Êó∂ÂèØ‰ª•Áî®prev()ÊñπÊ≥ï **ÁêÜËß£ËäÇÁÇπÊü•ÊâæÂÖ≥Á≥ªÔºö** Â¶Ç‰∏ãËìùËâ≤ÁöÑclass="item-2"ÁöÑliÂÖÉÁ¥†ÔºåÁ∫¢Ëâ≤ÁöÑËäÇÁÇπÂ∞±ÊòØÂÆÉÁöÑprevÂÖÑÂºüËäÇÁÇπ 12345&lt;ul class=&quot;level-3&quot;&gt; &lt;li class=&quot;item-1&quot;&gt;1&lt;/li&gt; &lt;li class=&quot;item-2&quot;&gt;2&lt;/li&gt; &lt;li class=&quot;item-3&quot;&gt;3&lt;/li&gt;&lt;/ul&gt; **prev()****Êó†ÂèÇÊï∞** ÂèñÂæó‰∏Ä‰∏™ÂåÖÂê´ÂåπÈÖçÁöÑÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†Á¥ßÈÇªÁöÑÂâç‰∏Ä‰∏™ÂêåËæàÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÈõÜÂêà 1Ê≥®ÊÑèÔºöjQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÊâÄ‰ª•ÈÄöËøáprevÊòØÂåπÈÖçÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑ‰∏ä‰∏Ä‰∏™ÂÖÑÂºüÂÖÉÁ¥† **prev()****ÊñπÊ≥ïÈÄâÊã©ÊÄßÂú∞Êé•ÂèóÂêå‰∏ÄÁ±ªÂûãÈÄâÊã©Âô®Ë°®ËææÂºè** 1ÂêåÊ†∑ÁöÑ‰πüÊòØÂõ†‰∏∫jQueryÊòØÂêàÈõÜÂØπË±°ÔºåÂèØËÉΩÈúÄË¶ÅÂØπËøô‰∏™ÂêàÈõÜÂØπË±°ËøõË°å‰∏ÄÂÆöÁöÑÁ≠õÈÄâÔºåÊâæÂá∫ÁõÆÊ†áÂÖÉÁ¥†ÔºåÊâÄ‰ª•ÂÖÅËÆ∏‰º†‰∏Ä‰∏™ÈÄâÊã©Âô®ÁöÑË°®ËææÂºè --- 123456789101112131415&lt;button&gt;ÁÇπÂáªÔºöprevÊó†ÂèÇÊï∞&lt;/button&gt; &lt;button&gt;ÁÇπÂáªÔºöprev‰º†ÈÄíÈÄâÊã©Âô®&lt;/button&gt; &lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.item-2').prev().css('border', '1px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //ÊâæÂà∞ÊâÄÊúâclass=item-2ÁöÑli //ÁÑ∂ÂêéÁ≠õÈÄâÂá∫ÊúÄÂêé‰∏Ä‰∏™ÔºåÂä†‰∏äËìùËâ≤ÁöÑËæπ $('.item-3').prev(':last').css('border', '1px solid blue') &#125;) &lt;/script&gt; --- # jQueryÈÅçÂéÜ‰πãsiblings() QueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÂ¶ÇÊûúÊÉ≥Âø´ÈÄüÊü•ÊâæÊåáÂÆöÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂêåËæàÂÖÉÁ¥†ÔºåÊ≠§Êó∂ÂèØ‰ª•Áî®siblings()ÊñπÊ≥ï **ÁêÜËß£ËäÇÁÇπÊü•ÊâæÂÖ≥Á≥ªÔºö** Â¶Ç‰∏ãËìùËâ≤ÁöÑclass="item-2"ÁöÑliÂÖÉÁ¥†ÔºåÁ∫¢Ëâ≤ÁöÑËäÇÁÇπÂ∞±ÊòØÂÆÉÁöÑsiblingsÂÖÑÂºüËäÇÁÇπ 12345&lt;ul class=&quot;level-3&quot;&gt; &lt;li class=&quot;item-1&quot;&gt;1&lt;/li&gt; &lt;li class=&quot;item-2&quot;&gt;2&lt;/li&gt; &lt;li class=&quot;item-3&quot;&gt;3&lt;/li&gt;&lt;/ul&gt; **siblings()****Êó†ÂèÇÊï∞** ÂèñÂæó‰∏Ä‰∏™ÂåÖÂê´ÂåπÈÖçÁöÑÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂêåËæàÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÈõÜÂêà 1Ê≥®ÊÑèÔºöjQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÊâÄ‰ª•ÈÄöËøásiblingsÊòØÂåπÈÖçÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂêåËæàÂÖÉÁ¥† **siblings()****ÊñπÊ≥ïÈÄâÊã©ÊÄßÂú∞Êé•ÂèóÂêå‰∏ÄÁ±ªÂûãÈÄâÊã©Âô®Ë°®ËææÂºè** 1ÂêåÊ†∑ÁöÑ‰πüÊòØÂõ†‰∏∫jQueryÊòØÂêàÈõÜÂØπË±°ÔºåÂèØËÉΩÈúÄË¶ÅÂØπËøô‰∏™ÂêàÈõÜÂØπË±°ËøõË°å‰∏ÄÂÆöÁöÑÁ≠õÈÄâÔºåÊâæÂá∫ÁõÆÊ†áÂÖÉÁ¥†ÔºåÊâÄ‰ª•ÂÖÅËÆ∏‰º†‰∏Ä‰∏™ÈÄâÊã©Âô®ÁöÑË°®ËææÂºè --- 123456789101112131415&lt;button&gt;ÁÇπÂáªÔºösiblingsvÊó†ÂèÇÊï∞&lt;/button&gt; &lt;button&gt;ÁÇπÂáªÔºösiblings‰º†ÈÄíÈÄâÊã©Âô®&lt;/button&gt; &lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; $('.item-2').siblings().css('border', '2px solid red') &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //ÊâæÂà∞class=item-2ÁöÑÊâÄÊúâÂÖÑÂºüËäÇÁÇπ //ÁÑ∂ÂêéÁ≠õÈÄâÂá∫ÊúÄÂêé‰∏Ä‰∏™ÔºåÂä†‰∏äËìùËâ≤ÁöÑËæπ $('.item-2').siblings(':last').css('border', '2px solid blue') &#125;) &lt;/script&gt; # jQueryÈÅçÂéÜ‰πãadd()ÊñπÊ≥ï jQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÈÄöËøá$()ÊñπÊ≥ïÊâæÂà∞ÊåáÂÆöÁöÑÂÖÉÁ¥†ÂêàÈõÜÂêéÂèØ‰ª•ËøõË°å‰∏ÄÁ≥ªÂàóÁöÑÊìç‰Ωú„ÄÇ$()‰πãÂêéÂ∞±ÊÑèÂë≥ÁùÄËøô‰∏™ÂêàÈõÜÂØπË±°Â∑≤ÁªèÊòØÁ°ÆÂÆöÁöÑÔºåÂ¶ÇÊûúÂêéÊúüÈúÄË¶ÅÂÜçÂæÄËøô‰∏™ÂêàÈõÜ‰∏≠Ê∑ªÂä†‰∏ÄÊñ∞ÁöÑÂÖÉÁ¥†Ë¶ÅÂ¶Ç‰ΩïÂ§ÑÁêÜÔºüjQuery‰∏∫Ê≠§Êèê‰æõaddÊñπÊ≥ïÔºåÁî®Êù•ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑjQueryÂØπË±° ÔºåÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÂåπÈÖçÁöÑÂÖÉÁ¥†ÈõÜÂêà‰∏≠ 1.add()ÁöÑÂèÇÊï∞ÂèØ‰ª•Âá†‰πéÊé•Âèó‰ªª‰ΩïÁöÑ$()ÔºåÂåÖÊã¨‰∏Ä‰∏™jQueryÈÄâÊã©Âô®Ë°®ËææÂºèÔºåDOMÂÖÉÁ¥†ÔºåÊàñHTMLÁâáÊÆµÂºïÁî®„ÄÇ ÁÆÄÂçïÁöÑÁúã‰∏Ä‰∏™Ê°à‰æãÔºö Êìç‰ΩúÔºöÈÄâÊã©ÊâÄÊúâÁöÑliÂÖÉÁ¥†Ôºå‰πãÂêéÊääpÂÖÉÁ¥†‰πüÂä†ÂÖ•Âà∞liÁöÑÂêàÈõÜ‰∏≠ 12345&lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 3&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Êñ∞ÁöÑpÂÖÉÁ¥†&lt;/p&gt; Â§ÑÁêÜ‰∏ÄÔºö‰º†ÈÄíÈÄâÊã©Âô® 1$(&apos;li&apos;).add(&apos;p&apos;) Â§ÑÁêÜ‰∫åÔºö‰º†ÈÄídomÂÖÉÁ¥† 1$(&apos;li&apos;).add(document.getElementsByTagName(&apos;p&apos;)[0]) ËøòÊúâ‰∏ÄÁßçÊñπÂºèÔºåÂ∞±ÊòØÂä®ÊÄÅÂàõÂª∫PÊ†áÁ≠æÂä†ÂÖ•Âà∞ÂêàÈõÜÔºåÁÑ∂ÂêéÊèíÂÖ•Âà∞ÊåáÂÆöÁöÑ‰ΩçÁΩÆÔºå‰ΩÜÊòØËøôÊ†∑Â∞±ÊîπÂèòÂÖÉÁ¥†ÁöÑÊú¨Ë∫´ÁöÑÊéíÂàó‰∫Ü 1$(&apos;li&apos;).add(&apos;&lt;p&gt;Êñ∞ÁöÑpÂÖÉÁ¥†&lt;/p&gt;&apos;).appendTo(ÁõÆÊ†á‰ΩçÁΩÆ) $("button:last").click(function() { //ÊäähtmlÁªìÊûÑ'Êñ∞ÁöÑpÂÖÉÁ¥†' //Âä†ÂÖ•Âà∞liÁöÑÂêàÈõÜ‰∏≠Ôºå‰∏∫‰∫ÜËÉΩÂ§üÂú®È°µÈù¢‰∏äÊòæÁ§∫ //ÈúÄË¶ÅÂÜçÈáçÊñ∞appendToÂà∞ÊåáÂÆöÁöÑËäÇÁÇπÂ§Ñ //ÂÄºÂæóÊ≥®ÊÑèÔºöÊï¥‰∏™ÁªìÊûÑ‰ΩçÁΩÆÈÉΩÊîπÂèò‰∫Ü $('li').add('Êñ∞ÁöÑpÂÖÉÁ¥†').appendTo($('.right')) }) jQueryÈÅçÂéÜ‰πãeach()jQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÈÄöËøá$()ÊñπÊ≥ïÊâæÂà∞ÊåáÂÆöÁöÑÂÖÉÁ¥†ÂêàÈõÜÂêéÂèØ‰ª•ËøõË°å‰∏ÄÁ≥ªÂàóÁöÑÊìç‰Ωú„ÄÇÊØîÂ¶ÇÊàë‰ª¨Êìç‰Ωú$(‚Äúli‚Äù).css(‚Äò‚Äô) ÁªôÊâÄÊúâÁöÑliËÆæÁΩÆstyleÂÄºÔºåÂõ†‰∏∫jQueryÊòØ‰∏Ä‰∏™ÂêàÈõÜÂØπË±°ÔºåÊâÄ‰ª•cssÊñπÊ≥ïÂÜÖÈÉ®Â∞±ÂøÖÈ°ªÂ∞ÅË£Ö‰∏Ä‰∏™ÈÅçÂéÜÁöÑÊñπÊ≥ïÔºåË¢´Áß∞‰∏∫ÈöêÂºèËø≠‰ª£ÁöÑËøáÁ®ã„ÄÇË¶Å‰∏Ä‰∏™‰∏Ä‰∏™ÁªôÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™liËÆæÁΩÆÈ¢úËâ≤ÔºåËøôÈáåÊñπÊ≥ïÂ∞±ÊòØeach .each() ÊñπÊ≥ïÂ∞±ÊòØ‰∏Ä‰∏™forÂæ™ÁéØÁöÑËø≠‰ª£Âô®ÔºåÂÆÉ‰ºöËø≠‰ª£jQueryÂØπË±°ÂêàÈõÜ‰∏≠ÁöÑÊØè‰∏Ä‰∏™DOMÂÖÉÁ¥†„ÄÇÊØèÊ¨°ÂõûË∞ÉÂáΩÊï∞ÊâßË°åÊó∂Ôºå‰ºö‰º†ÈÄíÂΩìÂâçÂæ™ÁéØÊ¨°Êï∞‰Ωú‰∏∫ÂèÇÊï∞(‰ªé0ÂºÄÂßãËÆ°Êï∞ ÊâÄ‰ª•Â§ß‰Ωì‰∏ä‰∫ÜËß£3‰∏™ÈáçÁÇπÔºö 123eachÊòØ‰∏Ä‰∏™forÂæ™ÁéØÁöÑÂåÖË£ÖËø≠‰ª£Âô®eachÈÄöËøáÂõûË∞ÉÁöÑÊñπÂºèÂ§ÑÁêÜÔºåÂπ∂‰∏î‰ºöÊúâ2‰∏™Âõ∫ÂÆöÁöÑÂÆûÂèÇÔºåÁ¥¢Âºï‰∏éÂÖÉÁ¥†eachÂõûË∞ÉÊñπÊ≥ï‰∏≠ÁöÑthisÊåáÂêëÂΩìÂâçËø≠‰ª£ÁöÑdomÂÖÉÁ¥† 12345$(&quot;li&quot;).each(function(index, element) &#123; index Á¥¢Âºï 0,1 elementÊòØÂØπÂ∫îÁöÑliËäÇÁÇπ li,li this ÊåáÂêëÁöÑÊòØli&#125;) ËøôÊ†∑ÂèØ‰ª•Âú®Âæ™ÁéØ‰Ωì‰ºöÂÅö‰∏Ä‰∫õÈÄªËæëÊìç‰Ωú‰∫ÜÔºåÂ¶ÇÊûúÈúÄË¶ÅÊèêÂâçÈÄÄÂá∫ÔºåÂèØ‰ª•‰ª•ÈÄöËøáËøîÂõû false‰ª•‰æøÂú®ÂõûË∞ÉÂáΩÊï∞ÂÜÖ‰∏≠Ê≠¢Âæ™ 1234567891011121314151617&lt;h2&gt;eachÊñπÊ≥ï&lt;/h2&gt; &lt;div class="left first-div"&gt; &lt;div class="div"&gt; &lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2&lt;/li&gt; &lt;li&gt;list item 3&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;ul&gt; &lt;li&gt;list item 4&lt;/li&gt; &lt;li&gt;list item 5&lt;/li&gt; &lt;li&gt;list item 6&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; 1234567891011121314151617181920212223&lt;button&gt;ÁÇπÂáªÔºöeachÊñπÊ≥ïÈÅçÂéÜÂÖÉÁ¥†&lt;/button&gt; &lt;button&gt;ÁÇπÂáªÔºöeachÊñπÊ≥ïÂõûË∞ÉÂà§Êñ≠&lt;/button&gt; &lt;script type="text/javascript"&gt; $("button:first").click(function() &#123; //ÈÅçÂéÜÊâÄÊúâÁöÑli //‰øÆÊîπÊØè‰∏™liÂÜÖÁöÑÂ≠ó‰ΩìÈ¢úËâ≤ $("li").each(function(index, element) &#123; $(this).css('color','red') &#125;) &#125;) &lt;/script&gt; &lt;script type="text/javascript"&gt; $("button:last").click(function() &#123; //ÈÅçÂéÜÊâÄÊúâÁöÑli //‰øÆÊîπÂÅ∂Êï∞liÂÜÖÁöÑÂ≠ó‰ΩìÈ¢úËâ≤ $("li").each(function(index, element) &#123; if (index % 2) &#123; $(this).css('color','blue') &#125; &#125;) &#125;) &lt;/script&gt;]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JquerÂü∫Á°Ä (‰∏Ä)‚ÄîÊ†∑ÂºèÁØá]]></title>
    <url>%2F2019%2F03%2F09%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%9F%BA%E7%A1%80%20%E6%85%95%E8%AF%BE%E7%BD%91%2F</url>
    <content type="text"><![CDATA[JqueryueryÂü∫Á°Ä (‰∏Ä)‚ÄîÊ†∑ÂºèÁØájQueryHelloWorld‰ΩìÈ™å HTML‰ª£Á†Å/ÊñáÊú¨/ÂÄº1Âú®‰∏Ä‰∏™ HTML ÊñáÊ°£‰∏≠, Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî® .html() ÊñπÊ≥ïÊù•Ëé∑Âèñ‰ªªÊÑè‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ„ÄÇ Â¶ÇÊûúÈÄâÊã©Âô®ÂåπÈÖçÂ§ö‰∫é‰∏Ä‰∏™ÁöÑÂÖÉÁ¥†ÔºåÈÇ£‰πàÂè™ÊúâÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑ HTML ÂÜÖÂÆπ‰ºöË¢´Ëé∑Âèñ„ÄÇ 12345val Áî®‰∫éËÆæÂÆöHTMLÂÜÖÂÆπÁöÑÂÄºfunction(index, html) Ê≠§ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™HTMLÂ≠óÁ¨¶‰∏≤„ÄÇÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºåindex‰∏∫ÂÖÉÁ¥†Âú®ÈõÜÂêà‰∏≠ÁöÑÁ¥¢Âºï‰ΩçÁΩÆÔºåhtml‰∏∫ÂéüÂÖàÁöÑHTMLÂÄº ËøîÂõûpÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ„ÄÇ 1$(&apos;p&apos;).html(); ÂèÇÊï∞val ÊèèËø∞:ËÆæÁΩÆÊâÄÊúâ p ÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ 1$(&quot;p&quot;).html(&quot;Hello &lt;b&gt;world&lt;/b&gt;!&quot;); ‰ΩøÁî®ÂáΩÊï∞Êù•ËÆæÁΩÆÊâÄÊúâÂåπÈÖçÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ„ÄÇ 123$(&quot;p&quot;).html(function(n)&#123; return &quot;Ëøô‰∏™ p ÂÖÉÁ¥†ÁöÑ index ÊòØÔºö&quot; + n; &#125;); #jQueryÂØπË±°‰∏éDOMÂØπË±° 123ÈÄöËøájQueryÊñπÊ≥ïÂåÖË£ÖÂêéÁöÑÂØπË±°ÔºåÊòØ‰∏Ä‰∏™Á±ªÊï∞ÁªÑÂØπË±°„ÄÇÂÆÉ‰∏éDOMÂØπË±°ÂÆåÂÖ®‰∏çÂêåÔºåÂîØ‰∏ÄÁõ∏‰ººÁöÑÊòØÂÆÉ‰ª¨ÈÉΩËÉΩÊìç‰ΩúDOM„ÄÇÈÄöËøájQueryÂ§ÑÁêÜDOMÁöÑÊìç‰ΩúÔºåÂèØ‰ª•ËÆ©ÂºÄÂèëËÄÖÊõ¥‰∏ìÊ≥®‰∏öÂä°ÈÄªËæëÁöÑÂºÄÂèëÔºåËÄå‰∏çÈúÄË¶ÅÊàë‰ª¨ÂÖ∑‰ΩìÁü•ÈÅìÂì™‰∏™DOMËäÇÁÇπÊúâÈÇ£‰∫õÊñπÊ≥ïÔºå‰πü‰∏çÈúÄË¶ÅÂÖ≥ÂøÉ‰∏çÂêåÊµèËßàÂô®ÁöÑÂÖºÂÆπÊÄßÈóÆÈ¢òÔºåÊàë‰ª¨ÈÄöËøájQueryÊèê‰æõÁöÑAPIËøõË°åÂºÄÂèëÔºå‰ª£Á†Å‰πü‰ºöÊõ¥Âä†Á≤æÁü≠„ÄÇ 12345678910111213141516171819202122232425262728293031 &lt;!-- ‰ΩøÁî®JSÂéüÁîüËØ≠Ê≥ï --&gt; &lt;script type="text/javascript"&gt; window.onload = function()&#123; // ÈÄöËøáÂéüÁîüJSËØ≠Ê≥ïËé∑Âèñid‰∏∫imooc1ÁöÑÂÖÉÁ¥†p var p = document.getElementById('imooc1'); // Â∞ÜÂÖÉÁ¥†pÂú®html‰∏≠ÂÜÖÂÆπÊîπÂèò p.innerHTML = 'P1ÔºöÊÇ®Â•ΩÔºÅÈÄöËøáÊÖïËØæÁΩëÂ≠¶‰π†jQueryÊâçÊòØÊúÄ‰Ω≥ÁöÑÈÄîÂæÑ'; // Â∞ÜÂÖÉÁ¥†pÁöÑÂÜÖÂÆπÈ¢úËâ≤Êîπ‰∏∫Á∫¢Ëâ≤ p.style.color = 'red'; &#125; &lt;/script&gt; &lt;!-- ‰ΩøÁî®jQueryËØ≠Ê≥ï --&gt; &lt;script type="text/javascript"&gt; $(document).ready(function() &#123; /** * ÈÄöËøájQueryËØ≠Ê≥ïËé∑Âèñid‰∏∫imooc2ÁöÑÂÖÉÁ¥†Ëé∑Âæó‰∏Ä‰∏™jQueryÂØπË±° * Ë∞ÉÁî®ËØ•ÂØπË±°ÁöÑhtml()ÊñπÊ≥ïËøõË°åÊõ¥ÊîπÂÜÖÂÆπ * Ë∞ÉÁî®ËØ•ÂØπË±°ÁöÑcss()ÊñπÊ≥ïËøõË°åÊõ¥ÊîπÈ¢úËâ≤Ê†∑Âºè */ var $p = $('#imooc2'); $p.html('P2ÔºöÊÇ®Â•ΩÔºÅÈÄöËøáÊÖïËØæÁΩëÂ≠¶‰π†jQueryÊâçÊòØÊúÄ‰Ω≥ÁöÑÈÄîÂæÑ').css('color','red'); &#125;); &lt;/script&gt; &lt;/head&gt;&lt;body&gt; &lt;p id="imooc1"&gt;&lt;/p&gt; &lt;p id="imooc2"&gt;&lt;/p&gt;&lt;/body&gt; jQueryÁöÑÂ§ÑÁêÜÔºö 12var $p = $(&apos;#imooc&apos;);$p.html(&apos;ÊÇ®Â•ΩÔºÅÈÄöËøáÊÖïËØæÁΩëÂ≠¶‰π†jQueryÊâçÊòØÊúÄ‰Ω≥ÁöÑÈÄîÂæÑ&apos;).css(&apos;color&apos;,&apos;red&apos;); ÈÄöËøá$(‚Äò#imooc‚Äô)ÊñπÊ≥ï‰ºöÂæóÂà∞‰∏Ä‰∏™‚Äã$pÁöÑjQueryÂØπË±°Ôºå$pÊòØ‰∏Ä‰∏™Á±ªÊï∞ÁªÑÂØπË±°„ÄÇËøô‰∏™ÂØπË±°ÈáåÈù¢ÂåÖÂê´‰∫ÜDOMÂØπË±°ÁöÑ‰ø°ÊÅØÔºåÁÑ∂ÂêéÂ∞ÅË£Ö‰∫ÜÂæàÂ§öÊìç‰ΩúÊñπÊ≥ïÔºåË∞ÉÁî®Ëá™Â∑±ÁöÑÊñπÊ≥ïhtml‰∏écssÔºåÂæóÂà∞ÁöÑÊïàÊûú‰∏éÊ†áÂáÜÁöÑJavaScriptÂ§ÑÁêÜÁªìÊûúÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ jQueryÂØπË±°ËΩ¨ÂåñÊàêDOMÂØπË±° jQueryÊòØ‰∏Ä‰∏™Á±ªÊï∞ÁªÑÂØπË±°ÔºåËÄåDOMÂØπË±°Â∞±ÊòØ‰∏Ä‰∏™ÂçïÁã¨ÁöÑDOMÂÖÉÁ¥†„ÄÇ Â¶Ç‰ΩïÊääjQueryÂØπË±°ËΩ¨ÊàêDOMÂØπË±°Ôºü Âà©Áî®Êï∞ÁªÑ‰∏ãÊ†áÁöÑÊñπÂºèËØªÂèñÂà∞jQuery‰∏≠ÁöÑDOMÂØπË±° HTML‰ª£Á†Å 123&lt;div&gt;ÂÖÉÁ¥†‰∏Ä&lt;/div&gt;&lt;div&gt;ÂÖÉÁ¥†‰∫å&lt;/div&gt;&lt;div&gt;ÂÖÉÁ¥†‰∏â&lt;/div&gt; JavaScript‰ª£Á†Å 123var $div = $(&apos;div&apos;) //jQueryÂØπË±°var div = $div[0] //ËΩ¨ÂåñÊàêDOMÂØπË±°div.style.color = &apos;red&apos; //Êìç‰ΩúdomÂØπË±°ÁöÑÂ±ûÊÄß Áî®jQueryÊâæÂà∞ÊâÄÊúâÁöÑdivÂÖÉÁ¥†Ôºà3‰∏™ÔºâÔºåÂõ†‰∏∫jQueryÂØπË±°‰πüÊòØ‰∏Ä‰∏™Êï∞ÁªÑÁªìÊûÑÔºåÂèØ‰ª•ÈÄöËøáÊï∞ÁªÑ‰∏ãÊ†áÁ¥¢ÂºïÊâæÂà∞Á¨¨‰∏Ä‰∏™divÂÖÉÁ¥†ÔºåÈÄöËøáËøîÂõûÁöÑdivÂØπË±°ÔºåË∞ÉÁî®ÂÆÉÁöÑstyleÂ±ûÊÄß‰øÆÊîπÁ¨¨‰∏Ä‰∏™divÂÖÉÁ¥†ÁöÑÈ¢úËâ≤„ÄÇËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁÇπÊòØÔºåÊï∞ÁªÑÁöÑÁ¥¢ÂºïÊòØ‰ªé0ÂºÄÂßãÁöÑÔºå‰πüÂ∞±ÊòØÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†‰∏ãÊ†áÊòØ0 ÈÄöËøájQueryËá™Â∏¶ÁöÑget()ÊñπÊ≥ï jQueryÂØπË±°Ëá™Ë∫´Êèê‰æõ‰∏Ä‰∏™.get() ÊñπÊ≥ïÂÖÅËÆ∏Êàë‰ª¨Áõ¥Êé•ËÆøÈóÆjQueryÂØπË±°‰∏≠Áõ∏ÂÖ≥ÁöÑDOMËäÇÁÇπÔºågetÊñπÊ≥ï‰∏≠Êèê‰æõ‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÁ¥¢ÂºïÔºö 123var $div = $(&apos;div&apos;) //jQueryÂØπË±°var div = $div.get(0) //ÈÄöËøágetÊñπÊ≥ïÔºåËΩ¨ÂåñÊàêDOMÂØπË±°div.style.color = &apos;red&apos; //Êìç‰ΩúdomÂØπË±°ÁöÑÂ±ûÊÄß DOMÂØπË±°ËΩ¨ÂåñÊàêjQueryÂØπË±°Áõ∏ÊØîËæÉjQueryËΩ¨ÂåñÊàêDOMÔºåÂºÄÂèë‰∏≠Êõ¥Â§öÁöÑÊÉÖÂÜµÊòØÊää‰∏Ä‰∏™domÂØπË±°Âä†Â∑•ÊàêjQueryÂØπË±°„ÄÇ$(ÂèÇÊï∞)ÊòØ‰∏Ä‰∏™Â§öÂäüËÉΩÁöÑÊñπÊ≥ïÔºåÈÄöËøá‰º†ÈÄí‰∏çÂêåÁöÑÂèÇÊï∞ËÄå‰∫ßÁîü‰∏çÂêåÁöÑ‰ΩúÁî®„ÄÇ 1Â¶ÇÊûú‰º†ÈÄíÁªô$(DOM)ÂáΩÊï∞ÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™DOMÂØπË±°ÔºåjQueryÊñπÊ≥ï‰ºöÊääËøô‰∏™DOMÂØπË±°ÁªôÂåÖË£ÖÊàê‰∏Ä‰∏™Êñ∞ÁöÑjQueryÂØπË±° ÈÄöËøá$(dom)ÊñπÊ≥ïÂ∞ÜÊôÆÈÄöÁöÑdomÂØπË±°Âä†Â∑•ÊàêjQueryÂØπË±°‰πãÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Ë∞ÉÁî®jQueryÁöÑÊñπÊ≥ï‰∫Ü 123&lt;div&gt;ÂÖÉÁ¥†‰∏Ä&lt;/div&gt;&lt;div&gt;ÂÖÉÁ¥†‰∫å&lt;/div&gt;&lt;div&gt;ÂÖÉÁ¥†‰∏â&lt;/div&gt; 1234567891011&lt;script type="text/javascript"&gt; var div = document.getElementsByTagName('div'); //domÂØπË±° //Â∞ÜdomËäÇÁÇπdivËΩ¨Âåñ‰∏∫$divÁöÑjqueryÂØπË±° $jqueryÂØπË±°=$(domÂØπË±°) var $div = $(div);//jqueryÂØπË±° var $first = $div.first(); //ÊâæÂà∞Á¨¨‰∏Ä‰∏™divÂÖÉÁ¥† $first.css('color', 'red'); //ÁªôÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ËÆæÁΩÆÈ¢úËâ≤ jQueryÈÄâÊã©Âô®‰πãidÈÄâÊã©Âô®idÈÄâÊã©Âô®Ôºö‰∏Ä‰∏™Áî®Êù•Êü•ÊâæÁöÑIDÔºåÂç≥ÂÖÉÁ¥†ÁöÑidÂ±ûÊÄß 1$( &quot;#id&quot; ) idÈÄâÊã©Âô®‰πüÊòØÂü∫Êú¨ÁöÑÈÄâÊã©Âô®ÔºåjQueryÂÜÖÈÉ®‰ΩøÁî®JavaScriptÂáΩÊï∞document.getElementById()Êù•Â§ÑÁêÜIDÁöÑËé∑Âèñ„ÄÇÂéüÁîüËØ≠Ê≥ïÁöÑÊîØÊåÅÊÄªÊòØÈùûÂ∏∏È´òÊïàÁöÑÔºåÊâÄ‰ª•Âú®Êìç‰ΩúDOMÁöÑËé∑Âèñ‰∏äÔºåÂ¶ÇÊûúËÉΩÈááÁî®idÁöÑËØùÂ∞ΩÁÑ∂ËÄÉËôëÁî®Ëøô‰∏™ÈÄâÊã©Âô® 1idÊòØÂîØ‰∏ÄÁöÑÔºåÊØè‰∏™idÂÄºÂú®‰∏Ä‰∏™È°µÈù¢‰∏≠Âè™ËÉΩ‰ΩøÁî®‰∏ÄÊ¨°„ÄÇÂ¶ÇÊûúÂ§ö‰∏™ÂÖÉÁ¥†ÂàÜÈÖç‰∫ÜÁõ∏ÂêåÁöÑidÔºåÂ∞ÜÂè™ÂåπÈÖçËØ•idÈÄâÊã©ÈõÜÂêàÁöÑÁ¨¨‰∏Ä‰∏™DOMÂÖÉÁ¥†„ÄÇ‰ΩÜËøôÁßçË°å‰∏∫‰∏çÂ∫îËØ•ÂèëÁîü;ÊúâË∂ÖËøá‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÈ°µÈù¢‰ΩøÁî®Áõ∏ÂêåÁöÑidÊòØÊó†ÊïàÁöÑ 1234567891011121314151617181920iv id="imooc"&gt; &lt;p&gt;id="imooc"&lt;/p&gt; &lt;p&gt;jQueryÈÄâ‰∏≠&lt;/p&gt; &lt;/div&gt; &lt;div id="imooc"&gt; &lt;p&gt;id="imooc"&lt;/p&gt; &lt;p&gt;jQueryÊú™ÈÄâ‰∏≠&lt;/p&gt; &lt;/div&gt; &lt;script type="text/javascript"&gt; //ÈÄöËøáÂéüÁîüÊñπÊ≥ïÂ§ÑÁêÜ var div = document.getElementById('aaron'); div.style.border = "3px solid blue"; &lt;/script&gt; &lt;script type="text/javascript"&gt; //ÈÄöËøájQueryÁõ¥Êé•‰º†ÂÖ•id //idÁöÑÂîØ‰∏ÄÔºåÂè™ÈÄâÊã©Âà∞‰∫ÜÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÁöÑid‰∏∫imoocÁöÑdivËäÇÁÇπ $("imooc").css("border", "3px solid red"); &lt;/script&gt; #jQueryÈÄâÊã©Âô®‰πãÁ±ªÈÄâÊã©Âô® Á±ªÈÄâÊã©Âô®ÔºåÈ°æÂêçÊÄù‰πâÔºåÈÄöËøáclassÊ†∑ÂºèÁ±ªÂêçÊù•Ëé∑ÂèñËäÇÁÇπ ÊèèËø∞Ôºö 1$( &quot;.class&quot; ) Á±ªÈÄâÊã©Âô®ÔºåÁõ∏ÂØπidÈÄâÊã©Âô®Êù•ËØ¥ÔºåÊïàÁéáÁõ∏ÂØπ‰ºö‰Ωé‰∏ÄÁÇπÔºå‰ΩÜÊòØ‰ºòÂäøÂ∞±ÊòØÂèØ‰ª•Â§öÈÄâ 1jQueryÈô§‰∫ÜÈÄâÊã©‰∏äÁöÑÁÆÄÂçïÔºåËÄå‰∏îÊ≤°ÊúâÂÜçÊ¨°‰ΩøÁî®Âæ™ÁéØÂ§ÑÁêÜ //ÈÄöËøáÂéüÁîüÊñπÊ≥ïÂ§ÑÁêÜ //Ê†∑ÂºèÊòØÂèØ‰ª•Â§öÈÄâÁöÑÔºåÊâÄ‰ª•ÂæóÂà∞ÁöÑÊòØ‰∏Ä‰∏™ÂêàÈõÜ //ÈúÄË¶ÅÈÄöËøáÂæ™ÁéØÁªôÂêàÈõÜ‰∏≠ÊØè‰∏Ä‰∏™ÂÖÉÁ¥†‰øÆÊîπÊ†∑Âºè var divs = document.getElementsByClassName('aaron'); for (var i = 0; i < divs.length; i++) { divs[i].style.border = "3px solid blue"; } --- //ÈÄöËøájQueryÁõ¥Êé•‰º†ÂÖ•class //classÈÄâÊã©Âô®ÂèØ‰ª•ÈÄâÊã©Â§ö‰∏™ÂÖÉÁ¥† $(".imooc").css("border", "3px solid red"); --- # jQueryÁöÑÈÄâÊã©Âô®‰πãÂÖÉÁ¥†ÈÄâÊã©Âô® ÂÖÉÁ¥†ÈÄâÊã©Âô®ÔºöÊ†πÊçÆÁªôÂÆöÔºàHTMLÔºâÊ†áËÆ∞ÂêçÁß∞ÈÄâÊã©ÊâÄÊúâÁöÑÂÖÉÁ¥† ÊèèËø∞Ôºö 1$Ôºà‚ÄúÂÖÉÁ¥†‚ÄùÔºâ ÊêúÁ¥¢ÊåáÂÆöÂÖÉÁ¥†Ê†áÁ≠æÂêçÁöÑÊâÄÊúâËäÇÁÇπÔºåËøô‰∏™ÊòØ‰∏Ä‰∏™ÂêàÈõÜÁöÑÊìç‰Ωú„ÄÇÂêåÊ†∑ÁöÑ‰πüÊúâÂéüÁîüÊñπÊ≥ïÁöÑgetElementsByTagNameÔºàÔºâÂáΩÊï∞ÊîØÊåÅ Á¨¨‰∏ÄÁªÑÔºöÈÄöËøáÁöÑgetElementsByTagNameÊñπÊ≥ïÂæóÂà∞È°µÈù¢ÊâÄÊúâÁöÑÂÖÉÁ¥† 1var divs = document.getElementsByTagNameÔºà&apos;div&apos;Ôºâ; ÁöÑdivÊòØDOMÂêàÈõÜÂØπË±°ÔºåÈÄöËøáÂæ™ÁéØÁªôÊØè‰∏Ä‰∏™ÂêàÈõÜ‰∏≠ÁöÑÂÖÉÁ¥†Ëµã‰∫àÊñ∞ÁöÑËæπÁïåÊ†∑Âºè Á¨¨‰∫åÁªÑÔºöÂêåÊ†∑ÁöÑÊïàÊûúÔºå$Ôºà ‚ÄúP‚ÄùÔºâÈÄâÂèñÊâÄÊúâÁöÑÂÖÉÁ¥†ÔºåÈÄöËøáCSSÊñπÊ≥ïÁõ¥Êé•Ëµã‰∫àÊ†∑Âºè # jQueryÈÄâÊã©Âô®‰πãÂÖ®ÈÄâÊã©Âô®Ôºà*ÈÄâÊã©Âô®Ôºâ Âú®CSS‰∏≠ÔºåÁªèÂ∏∏‰ºöÂú®Á¨¨‰∏ÄË°åÂÜô‰∏ãËøôÊ†∑‰∏ÄÊÆµÊ†∑Âºè 1* &#123;padding: 0; margin: 0;&#125; ÈÄöÈÖçÁ¨¶*ÊÑèÂë≥ÁùÄÁªôÊâÄÊúâÁöÑÂÖÉÁ¥†ËÆæÁΩÆÈªòËÆ§ÁöÑËæπË∑ù„ÄÇjQuery‰∏≠Êàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøá‰º†ÈÄí*ÈÄâÊã©Âô®Êù•ÈÄâ‰∏≠ÊñáÊ°£È°µÈù¢‰∏≠ÁöÑÂÖÉÁ¥† ÊèèËø∞Ôºö 1$( &quot;*&quot; ) //Ëé∑ÂèñÈ°µÈù¢‰∏≠ÊâÄÊúâÁöÑÂÖÉÁ¥† var elements2 = $("*") ; //ÂéüÁîü‰∏éjQueryÊñπÊ≥ïÊØîËæÉ //===Ë°®Á§∫Êï∞ÊçÆÂíåÁ±ªÂûãÈÉΩÁõ∏Á≠â if(elements2.length === elements1.length){ elements2.css("border","1px solid red"); } --- # jQueryÈÄâÊã©Âô®‰πãÂ±ÇÁ∫ßÈÄâÊã©Âô® ÊñáÊ°£‰∏≠ÁöÑÊâÄÊúâÁöÑËäÇÁÇπ‰πãÈó¥ÈÉΩÊòØÊúâËøôÊ†∑ÊàñËÄÖÈÇ£Ê†∑ÁöÑÂÖ≥Á≥ª„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääËäÇÁÇπ‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂèØ‰ª•Áî®‰º†ÁªüÁöÑÂÆ∂ÊóèÂÖ≥Á≥ªÊù•ÊèèËø∞ÔºåÂèØ‰ª•ÊääÊñáÊ°£Ê†ëÂΩì‰Ωú‰∏Ä‰∏™ÂÆ∂Ë∞±ÔºåÈÇ£‰πàËäÇÁÇπ‰∏éËäÇÁÇπÁõ¥Êé•Â∞±‰ºöÂ≠òÂú®Áà∂Â≠êÔºåÂÖÑÂºüÔºåÁ•ñÂ≠ôÁöÑÂÖ≥Á≥ª‰∫Ü„ÄÇ ÈÄâÊã©Âô®‰∏≠ÁöÑÂ±ÇÁ∫ßÈÄâÊã©Âô®Â∞±ÊòØÁî®Êù•Â§ÑÁêÜËøôÁßçÂÖ≥Á≥ª 1Â≠êÂÖÉÁ¥† Âêé‰ª£ÂÖÉÁ¥† ÂÖÑÂºüÂÖÉÁ¥† Áõ∏ÈÇªÂÖÉÁ¥† ÈÄöËøá‰∏Ä‰∏™ÂàóË°®ÔºåÂØπÊØîÂ±ÇÁ∫ßÈÄâÊã©Âô®ÁöÑÂå∫Âà´ ![image-20190309113655370](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024821.jpg) ‰ªîÁªÜËßÇÂØüÂ±ÇÁ∫ßÈÄâÊã©Âô®‰πãÈó¥ËøòÊòØÊúâÂæàÂ§öÁõ∏‰ºº‰∏é‰∏çÂêåÁÇπ 1. Â±ÇÁ∫ßÈÄâÊã©Âô®ÈÉΩÊúâ‰∏Ä‰∏™ÂèÇËÄÉËäÇÁÇπ 2. Âêé‰ª£ÈÄâÊã©Âô®ÂåÖÂê´Â≠êÈÄâÊã©Âô®ÁöÑÈÄâÊã©ÁöÑÂÜÖÂÆπ 3. ‰∏ÄËà¨ÂÖÑÂºüÈÄâÊã©Âô®ÂåÖÂê´Áõ∏ÈÇªÂÖÑÂºüÈÄâÊã©ÁöÑÂÜÖÂÆπ 4. Áõ∏ÈÇªÂÖÑÂºüÈÄâÊã©Âô®Âíå‰∏ÄËà¨ÂÖÑÂºüÈÄâÊã©Âô®ÊâÄÈÄâÊã©Âà∞ÁöÑÂÖÉÁ¥†ÔºåÂøÖÈ°ªÂú®Âêå‰∏Ä‰∏™Áà∂ÂÖÉÁ¥†‰∏ã --- Â≠êÈÄâÊã©Âô®‰∏éÂêé‰ª£ÈÄâÊã©Âô® 12345678910111213141516171819202122&lt;div class="left"&gt; &lt;div class="aaron"&gt; &lt;p&gt;div‰∏ãÁöÑÁ¨¨‰∏Ä‰∏™pÂÖÉÁ¥†&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;div‰∏ãÁöÑÁ¨¨‰∏Ä‰∏™pÂÖÉÁ¥†&lt;/p&gt; &lt;/div&gt;&lt;/div&gt;&lt;div class="right"&gt; &lt;div class="imooc"&gt; &lt;article&gt; &lt;p&gt;div‰∏ãÁöÑarticle‰∏ãÁöÑpÂÖÉÁ¥†&lt;/p&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class="imooc"&gt; &lt;article&gt; &lt;p&gt;div‰∏ãÁöÑarticle‰∏ãÁöÑpÂÖÉÁ¥†&lt;/p&gt; &lt;/article&gt; &lt;/div&gt;&lt;/div&gt; 12345&lt;script type="text/javascript"&gt; //Â≠êÈÄâÊã©Âô® //$('div &gt; p') ÈÄâÊã©ÊâÄÊúâdivÂÖÉÁ¥†ÈáåÈù¢ÁöÑÂ≠êÂÖÉÁ¥†P ‰ªÖ‰ªÖÂè™ÊòØÂú®&lt;div &gt;‰∏ãÈù¢ÁöÑÂÖÉÁ¥†P ‰∏çÂåÖÊã¨‰∏ãÈù¢ÁöÑ‰∏ãÈù¢ÁöÑ $('div &gt; p').css("border", "1px groove blue"); &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //Âêé‰ª£ÈÄâÊã©Âô® //$('div p') ÈÄâÊã©ÊâÄÊúâdivÂÖÉÁ¥†ÈáåÈù¢ÁöÑpÂÖÉÁ¥† Âè™Ë¶ÅÊòØ&lt;div&gt;‰∏ãÈù¢ÁöÑ&lt;p&gt;ÂÖÉÁ¥† ÂÖ®ÈÉ®ÈÄâ‰∏≠ $('div p').css("border", "1px groove red"); &lt;/script&gt; Áõ∏ÈÇªÂÖÑÂºüÈÄâÊã©Âô®‰∏é‰∏ÄËà¨ÂÖÑÂºüÈÄâÊã©Âô® 1234567891011&lt;h2&gt;Áõ∏ÈÇªÂÖÑÂºüÈÄâÊã©Âô®‰∏é‰∏ÄËà¨ÂÖÑÂºüÈÄâÊã©Âô®&lt;/h2&gt; &lt;div class="bottom"&gt; &lt;div&gt;ÂÖÑÂºüËäÇÁÇπdiv, +~ÈÄâÊã©Âô®‰∏çËÉΩÂêëÂâçÈÄâÊã©&lt;/div&gt; &lt;span class="prev"&gt;ÈÄâÊã©Âô®spanÂÖÉÁ¥†&lt;/span&gt; &lt;div&gt;spanÂêéÁ¨¨‰∏Ä‰∏™ÂÖÑÂºüËäÇÁÇπdiv&lt;/div&gt; &lt;div&gt;ÂÖÑÂºüËäÇÁÇπdiv &lt;div class="small"&gt;Â≠êÂÖÉÁ¥†div&lt;/div&gt; &lt;/div&gt; &lt;span&gt;ÂÖÑÂºüËäÇÁÇπspan,‰∏çÂèØÈÄâ&lt;/span&gt; &lt;div&gt;ÂÖÑÂºüËäÇÁÇπdiv&lt;/div&gt; &lt;/div&gt; 12345&lt;script type="text/javascript"&gt; //Áõ∏ÈÇªÂÖÑÂºüÈÄâÊã©Âô® //ÈÄâÂèñprevÂêéÈù¢ÁöÑÁ¨¨‰∏Ä‰∏™ÁöÑdivÂÖÑÂºüËäÇÁÇπ $(".prev+div") $(".prev+div").css("border", "3px groove blue"); &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //‰∏ÄËà¨Áõ∏ÈÇªÈÄâÊã©Âô® //ÈÄâÂèñprevÂêéÈù¢ÁöÑÊâÄÊúâÁöÑdivÂÖÑÂºüËäÇÁÇπ $(".prev ~ div") $(".prev ~ div").css("border", "3px groove yellow"); &lt;/script&gt; # jQueryÈÄâÊã©Âô®‰πãÂü∫Êú¨Á≠õÈÄâÈÄâÊã©Âô® Á≠õÈÄâÈÄâÊã©Âô®ÁöÑÁî®Ê≥ï‰∏éCSS‰∏≠ÁöÑ‰º™ÂÖÉÁ¥†Áõ∏‰ººÔºåÈÄâÊã©Âô®Áî®ÂÜíÂè∑‚ÄúÔºö‚ÄùÂºÄÂ§¥ÔºåÈÄöËøá‰∏Ä‰∏™ÂàóË°®ÔºåÁúãÁúãÂü∫Êú¨Á≠õÈÄâÂô®ÁöÑÊèèËø∞Ôºö ![image-20190309115232270](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024822.jpg) --- Ê≥®ÊÑè‰∫ãÈ°πÔºö 1. :eq(), :lt(), :gt(), :even, :odd Áî®Êù•Á≠õÈÄâ‰ªñ‰ª¨ÂâçÈù¢ÁöÑÂåπÈÖçË°®ËææÂºèÁöÑÈõÜÂêàÂÖÉÁ¥†ÔºåÊ†πÊçÆ‰πãÂâçÂåπÈÖçÁöÑÂÖÉÁ¥†Âú®Ëøõ‰∏ÄÊ≠•Á≠õÈÄâÔºåÊ≥®ÊÑèjQueryÂêàÈõÜÈÉΩÊòØ‰ªé0ÂºÄÂßãÁ¥¢Âºï 2. gtÊòØ‰∏Ä‰∏™ÊÆµËêΩÁ≠õÈÄâÔºå‰ªéÊåáÂÆöÁ¥¢ÂºïÁöÑ‰∏ã‰∏Ä‰∏™ÂºÄÂßãÔºågt(1) ÂÆûÈôÖ‰ªé2ÂºÄÂßã ‚Äî 12345678910111213141516171819202122232425&lt;body&gt; &lt;h2&gt;Âü∫Êú¨Á≠õÈÄâÂô®&lt;/h2&gt; &lt;h3&gt;:first/:last/:even/:odd&lt;/h3&gt; &lt;div class="left"&gt; &lt;div class="div"&gt; &lt;p&gt;div:first&lt;/p&gt; &lt;p&gt;:even&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:odd&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:even&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:odd&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:even&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;div:last&lt;/p&gt; &lt;p&gt;:odd&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; ![image-20190309115721147](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024845.jpg) --- 1234&lt;script type="text/javascript"&gt; //ÊâæÂà∞Á¨¨‰∏Ä‰∏™div Ê†πÊçÆÁ±ªÈÄâÊã©Âô®Êù•ÈÄâÊã©ÁöÑ $(".div:first").css("color", "#CD00CE"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //ÊâæÂà∞ÊúÄÂêé‰∏Ä‰∏™div $(".div:last").css("color", "#CD00CE"); &lt;/script&gt; ![image-20190309120036431](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024846.jpg) --- ![image-20190309120200550](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024849.jpg) 1234&lt;script type="text/javascript"&gt; //:even ÈÄâÊã©ÊâÄÂºïÂÄº‰∏∫ÂÅ∂Êï∞ÁöÑÂÖÉÁ¥†Ôºå‰ªé 0 ÂºÄÂßãËÆ°Êï∞ $(".div:even").css("color", "#CD00CE"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //:odd ÈÄâÊã©ÊâÄÂºïÂÄº‰∏∫Â•áÊï∞ÁöÑÂÖÉÁ¥†Ôºå‰ªé 0 ÂºÄÂßãËÆ°Êï∞ $(".div:odd").css("color", "#CD00CE"); &lt;/script&gt; ## Ê≥®ÊÑè ËøáÊª§Âô®ÈÉΩÊòØÂú®divÈáåÈù¢ËøáÊª§ÁöÑ 1234567891011121314151617181920&lt;h3&gt;:eq/:gt/:lt&lt;/h3&gt; &lt;div class="left"&gt; &lt;div class="aaron"&gt; &lt;p&gt;:lt(3)&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;:lt(3)&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;:eq(2)&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;:gt(3)&lt;/p&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;p&gt;:gt(3)&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; 12345&lt;script type="text/javascript"&gt; //:eq //ÈÄâÊã©Âçï‰∏™ $(".aaron:eq(2)").css("border", "3px groove blue"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //:gt ÈÄâÊã©ÂåπÈÖçÈõÜÂêà‰∏≠ÊâÄÊúâÁ¥¢ÂºïÂÄºÂ§ß‰∫éÁªôÂÆöindexÂèÇÊï∞ÁöÑÂÖÉÁ¥†$(".aaron:gt(2)").css("border", "3px groove blue"); &lt;/script&gt; 12345 &lt;script type="text/javascript"&gt;//:lt ÈÄâÊã©ÂåπÈÖçÈõÜÂêà‰∏≠ÊâÄÊúâÁ¥¢ÂºïÂÄºÂ∞è‰∫éÁªôÂÆöindexÂèÇÊï∞ÁöÑÂÖÉÁ¥†//‰∏é:gtÁõ∏Âèç$(".aaron:gt(2)").css("color", "#CD00CD");&lt;/script&gt; 123456 &lt;script type="text/javascript"&gt; //:not ÈÄâÊã©ÊâÄÊúâÂÖÉÁ¥†ÂéªÈô§‰∏çÂåπÈÖçÁªôÂÆöÁöÑÈÄâÊã©Âô®ÁöÑÂÖÉÁ¥† //ÈÄâ‰∏≠ÊâÄÊúâÁ¥ßÊé•ÁùÄÊ≤°ÊúâcheckedÂ±ûÊÄßÁöÑinputÂÖÉÁ¥†ÂêéÁöÑpÂÖÉÁ¥†ÔºåËµã‰∫àÈ¢úËâ≤ $("input:not(:checked) + p").css("background-color", "#CD00CD");&lt;/script&gt; # jQueryÈÄâÊã©Âô®‰πãÂÜÖÂÆπÁ≠õÈÄâÈÄâÊã©Âô® Âü∫Êú¨Á≠õÈÄâÈÄâÊã©Âô®ÈíàÂØπÁöÑÈÉΩÊòØÂÖÉÁ¥†DOMËäÇÁÇπÔºåÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅÈÄöËøáÂÜÖÂÆπÊù•ËøáÊª§ÔºåjQuery‰πüÊèê‰æõ‰∫Ü‰∏ÄÁªÑÂÜÖÂÆπÁ≠õÈÄâÈÄâÊã©Âô®ÔºåÂΩìÁÑ∂ÂÖ∂ËßÑÂàô‰πü‰ºö‰ΩìÁé∞Âú®ÂÆÉÊâÄÂåÖÂê´ÁöÑÂ≠êÂÖÉÁ¥†ÊàñËÄÖÊñáÊú¨ÂÜÖÂÆπ‰∏ä ÂÜÖÂÆπËøáÊª§Âô®ÊèèËø∞Â¶Ç‰∏ãË°®Ôºö ![image-20190309120754082](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-24850.jpg) --- **Ê≥®ÊÑè‰∫ãÈ°πÔºö** 1. :contains‰∏é:hasÈÉΩÊúâÊü•ÊâæÁöÑÊÑèÊÄùÔºå‰ΩÜÊòØcontainsÊü•ÊâæÂåÖÂê´‚ÄúÊåáÂÆöÊñáÊú¨‚ÄùÁöÑÂÖÉÁ¥†ÔºåhasÊü•ÊâæÂåÖÂê´‚ÄúÊåáÂÆöÂÖÉÁ¥†‚ÄùÁöÑÂÖÉÁ¥† 2. Â¶ÇÊûú:containsÂåπÈÖçÁöÑÊñáÊú¨ÂåÖÂê´Âú®ÂÖÉÁ¥†ÁöÑÂ≠êÂÖÉÁ¥†‰∏≠ÔºåÂêåÊ†∑ËÆ§‰∏∫ÊòØÁ¨¶ÂêàÊù°‰ª∂ÁöÑ„ÄÇ 3. :parent‰∏é:emptyÊòØÁõ∏ÂèçÁöÑÔºå‰∏§ËÄÖÊâÄÊ∂âÂèäÁöÑÂ≠êÂÖÉÁ¥†ÔºåÂåÖÊã¨ÊñáÊú¨ËäÇÁÇπ 123456789101112131415161718&lt;h2&gt;ÂÜÖÂÆπÁ≠õÈÄâÂô®&lt;/h2&gt; &lt;h3&gt;:contains/:has&lt;/h3&gt; &lt;div class="left"&gt; &lt;div class="div"&gt; &lt;p&gt;:contains&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:contains&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt; &lt;span&gt;:has&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;p&gt;:contains&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; ![image-20190309121007202](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024851.jpg) 12345&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâclass='div'‰∏≠DOMÂÖÉÁ¥†‰∏≠ÂåÖÂê´"contains"ÁöÑÂÖÉÁ¥†ËäÇÁÇπÊñáÊú¨Á±ªÂÆπ //Âπ∂‰∏îËÆæÁΩÆÈ¢úËâ≤ $(".div:contains(':contains')").css("color", "#CD00CD");&lt;/script&gt; 123456&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâclass='div'‰∏≠DOMÂÖÉÁ¥†‰∏≠ÂåÖÂê´"span"ÁöÑÂÖÉÁ¥†ËäÇÁÇπ //Âπ∂‰∏îËÆæÁΩÆÈ¢úËâ≤ $(".div:has(span)").css("color", "blue");&lt;/script&gt; 123456789101112131415&lt;h3&gt;:parent/:empty&lt;/h3&gt; &lt;div class="left"&gt; &lt;div class="aaron"&gt; &lt;a&gt;:parent&lt;/a&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;a&gt;:parent&lt;/a&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;a&gt;:parent&lt;/a&gt; &lt;/div&gt; &lt;div class="aaron"&gt; &lt;a&gt;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; ![image-20190309134925126](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-024852.jpg) //ÈÄâÊã©ÊâÄÊúâÂåÖÂê´Â≠êÂÖÉÁ¥†ÊàñËÄÖÊñáÊú¨ÁöÑaÂÖÉÁ¥† //Â¢ûÂä†‰∏Ä‰∏™ËìùËâ≤ÁöÑËæπÊ°Ü $("a:parent").css("border", "3px groove blue"); 12345&lt;script type="text/javascript"&gt; //ÈÄâÊã©ÊâÄÊúâÂåÖÂê´Â≠êÂÖÉÁ¥†ÊàñËÄÖÊñáÊú¨ÁöÑaÂÖÉÁ¥† //Â¢ûÂä†‰∏Ä‰∏™ËìùËâ≤ÁöÑËæπÊ°Ü $("a:parent").css("border", "3px groove blue"); &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //ÊâæÂà∞aÂÖÉÁ¥†‰∏ãÈù¢ÁöÑÊâÄÊúâÁ©∫ËäÇÁÇπ(Ê≤°ÊúâÂ≠êÂÖÉÁ¥†) //Â¢ûÂä†‰∏ÄÊÆµÊñáÊú¨‰∏éËæπÊ°Ü $("a:empty").text(":empty").css("border", "3px groove red"); &lt;/script&gt; jQueryÈÄâÊã©Âô®‰πãÂèØËßÅÊÄßÁ≠õÈÄâÈÄâÊã©Âô®ÂÖÉÁ¥†ÊúâÊòæÁ§∫Áä∂ÊÄÅ‰∏éÈöêËóèÁä∂ÊÄÅÔºåjQueryÊ†πÊçÆÂÖÉÁ¥†ÁöÑÁä∂ÊÄÅÊâ©Â±ï‰∫ÜÂèØËßÅÊÄßÁ≠õÈÄâÈÄâÊã©Âô®:visible‰∏é:hidden ÊèèËø∞Â¶Ç‰∏ãÔºö Ëøô2‰∏™ÈÄâÊã©Âô®ÈÉΩÊòØ jQuery Âª∂‰º∏Âá∫Êù•ÁöÑÔºåÁúãËµ∑Êù•ÊØîËæÉÁÆÄÂçïÔºå‰ΩÜÊòØÂÖÉÁ¥†ÂèØËßÅÊÄß‰æùËµñ‰∫éÈÄÇÁî®ÁöÑÊ†∑Âºè 1:hiddenÈÄâÊã©Âô®Ôºå‰∏ç‰ªÖ‰ªÖÂåÖÂê´Ê†∑ÂºèÊòØdisplay=&quot;none&quot;ÁöÑÂÖÉÁ¥†ÔºåËøòÂåÖÊã¨ÈöêËóèË°®Âçï„ÄÅvisibilityÁ≠âÁ≠â Êàë‰ª¨ÊúâÂá†ÁßçÊñπÂºèÂèØ‰ª•ÈöêËóè‰∏Ä‰∏™ÂÖÉÁ¥†Ôºö CSS displayÁöÑÂÄºÊòØnone„ÄÇ type=‚Äùhidden‚ÄùÁöÑË°®ÂçïÂÖÉÁ¥†„ÄÇ ÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶ÈÉΩÊòæÂºèËÆæÁΩÆ‰∏∫0„ÄÇ ‰∏Ä‰∏™Á•ñÂÖàÂÖÉÁ¥†ÊòØÈöêËóèÁöÑÔºåËØ•ÂÖÉÁ¥†ÊòØ‰∏ç‰ºöÂú®È°µÈù¢‰∏äÊòæÁ§∫ CSS visibilityÁöÑÂÄºÊòØhidden CSS opacityÁöÑÊåáÊòØ0 123Â¶ÇÊûúÂÖÉÁ¥†‰∏≠Âç†ÊçÆÊñáÊ°£‰∏≠‰∏ÄÂÆöÁöÑÁ©∫Èó¥,ÂÖÉÁ¥†Ë¢´ËÆ§‰∏∫ÊòØÂèØËßÅÁöÑ„ÄÇÂèØËßÅÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÊàñÈ´òÂ∫¶ÔºåÊòØÂ§ß‰∫éÈõ∂„ÄÇÂÖÉÁ¥†ÁöÑvisibility: hidden Êàñ opacity: 0Ë¢´ËÆ§‰∏∫ÊòØÂèØËßÅÁöÑÔºåÂõ†‰∏∫‰ªñ‰ª¨‰ªçÁÑ∂Âç†Áî®Á©∫Èó¥Â∏ÉÂ±Ä„ÄÇ ‰∏çÂú®ÊñáÊ°£‰∏≠ÁöÑÂÖÉÁ¥†ÊòØË¢´ËÆ§‰∏∫ÊòØ‰∏çÂèØËßÅÁöÑÔºåÂ¶ÇÊûúÂΩì‰ªñ‰ª¨Ë¢´ÊèíÂÖ•Âà∞ÊñáÊ°£‰∏≠ÔºåjQueryÊ≤°ÊúâÂäûÊ≥ïÁü•ÈÅì‰ªñ‰ª¨ÊòØÂê¶ÊòØÂèØËßÅÁöÑÔºåÂõ†‰∏∫ÂÖÉÁ¥†ÂèØËßÅÊÄß‰æùËµñ‰∫éÈÄÇÁî®ÁöÑÊ†∑Âºè 1234567891011121314151617181920&lt;h2&gt;ÂèØËßÅÊÄßÁ≠õÈÄâÈÄâÊã©Âô®&lt;/h2&gt;&lt;h3&gt;:visible/:hidden&lt;/h3&gt;&lt;div class="left"&gt; &lt;div class="div"&gt; &lt;a&gt;display&lt;/a&gt; &lt;p id="div1" style="display:none;"&gt;display&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;a&gt;width&lt;/a&gt; &lt;a&gt;height&lt;/a&gt; &lt;p id="div2" style="width:0;height:0"&gt;width/height&lt;/p&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;a&gt;visibility&lt;/a&gt; &lt;a&gt;opacity&lt;/a&gt; &lt;p id="div3" style="visibility:hidden;opacity:0"&gt;visibility&lt;/p&gt; &lt;/div&gt;&lt;/div&gt;&lt;p id="show"&gt;&lt;/p&gt; 123456789&lt;script type="text/javascript"&gt; //Êü•Êâæid = div3ÁöÑDOMÂÖÉÁ¥†,ÊòØÂê¶ÂèØËßÅ show( '#div3:visible' );&lt;/script&gt;&lt;script type="text/javascript"&gt; //Êü•Êâæid = div1ÁöÑDOMÂÖÉÁ¥†,ÊòØÂê¶ÈöêËóè show( '#div1:hidden; );&lt;/script&gt; jQueryÈÄâÊã©Âô®‰πãÂ±ûÊÄßÁ≠õÈÄâÈÄâÊã©Âô®Â±ûÊÄßÈÄâÊã©Âô®ËÆ©‰Ω†ÂèØ‰ª•Âü∫‰∫éÂ±ûÊÄßÊù•ÂÆö‰Ωç‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇÂèØ‰ª•Âè™ÊåáÂÆöËØ•ÂÖÉÁ¥†ÁöÑÊüê‰∏™Â±ûÊÄßÔºåËøôÊ†∑ÊâÄÊúâ‰ΩøÁî®ËØ•Â±ûÊÄßËÄå‰∏çÁÆ°ÂÆÉÁöÑÂÄºÔºåËøô‰∏™ÂÖÉÁ¥†ÈÉΩÂ∞ÜË¢´ÂÆö‰ΩçÔºå‰πüÂèØ‰ª•Êõ¥Âä†ÊòéÁ°ÆÂπ∂ÂÆö‰ΩçÂú®Ëøô‰∫õÂ±ûÊÄß‰∏ä‰ΩøÁî®ÁâπÂÆöÂÄºÁöÑÂÖÉÁ¥†ÔºåËøôÂ∞±ÊòØÂ±ûÊÄßÈÄâÊã©Âô®Â±ïÁ§∫ÂÆÉ‰ª¨ÁöÑÂ®ÅÂäõÁöÑÂú∞Êñπ„ÄÇ 1234Âú®Ëøô‰πàÂ§öÂ±ûÊÄßÈÄâÊã©Âô®‰∏≠[attr="value"]Âíå[attr*="value"]ÊòØÊúÄÂÆûÁî®ÁöÑ[attr="value"]ËÉΩÂ∏ÆÊàë‰ª¨ÂÆö‰Ωç‰∏çÂêåÁ±ªÂûãÁöÑÂÖÉÁ¥†ÔºåÁâπÂà´ÊòØË°®ÂçïformÂÖÉÁ¥†ÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇËØ¥input[type="text"],input[type="checkbox"]Á≠â[attr*="value"]ËÉΩÂú®ÁΩëÁ´ô‰∏≠Â∏ÆÂä©Êàë‰ª¨ÂåπÈÖç‰∏çÂêåÁ±ªÂûãÁöÑÊñá‰ª∂ 12345678910111213141516&lt;h2&gt;Â±ûÊÄßÁ≠õÈÄâÈÄâÊã©Âô®&lt;/h2&gt; &lt;h3&gt;[att=val]„ÄÅ[att]„ÄÅ[att|=val]„ÄÅ[att~=val]&lt;/h3&gt; &lt;div class="left" testattr="true" &gt; &lt;div class="div" testattr="true" name='p1'&gt; &lt;a&gt;[att=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" p2&gt; &lt;a&gt;[att]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" name="-"&gt; &lt;a&gt;[att|=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" name="a b"&gt; &lt;a&gt;[att~=val]&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; 1234&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâdiv‰∏≠ÔºåÂ±ûÊÄßname=p1ÁöÑdivÂÖÉÁ¥† &lt;div class="div" testattr="true" name='p1'&gt; $('div[name=p1]').css("border", "3px groove red"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâdiv‰∏≠ÔºåÊúâÂ±ûÊÄßp2ÁöÑdivÂÖÉÁ¥† &lt;div class="div" testattr="true" p2&gt; $('div[p2]').css("border", "3px groove blue"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâdiv‰∏≠ÔºåÊúâÂ±ûÊÄßname‰∏≠ÁöÑÂÄºÂè™ÂåÖÂê´‰∏Ä‰∏™ËøûÂ≠óÁ¨¶‚Äú-‚ÄùÁöÑdivÂÖÉÁ¥† 'div[name|="-"]" $('div[name|="-"]').css("border", "3px groove #00FF00"); &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâdiv‰∏≠ÔºåÊúâÂ±ûÊÄßname‰∏≠ÁöÑÂÄºÂåÖÂê´‰∏Ä‰∏™ËøûÂ≠óÁ¨¶‚ÄúÁ©∫‚ÄùÂíå‚Äúa‚ÄùÁöÑdivÂÖÉÁ¥† $('div[name~="a"]').css("border", "3px groove #668B8B"); &lt;/script&gt; 123456789101112131415&lt;h3&gt;[att^=val]„ÄÅ[att*=val]„ÄÅ[att$=val]„ÄÅ[att!=val]&lt;/h3&gt; &lt;div class="left" testattr="true" &gt; &lt;div class="div" testattr="true" name='imooc-aaorn'&gt; &lt;a&gt;[att^=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" name='aaorn-imooc'&gt; &lt;a&gt;[att$=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" testattr="true" name="attr-test-selector"&gt; &lt;a&gt;[att*=val]&lt;/a&gt; &lt;/div&gt; &lt;div class="div" name="a b"&gt; &lt;a&gt;[att!=val]&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; 123456789&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâdiv‰∏≠ÔºåÂ±ûÊÄßnameÁöÑÂÄºÊòØÁî®imoocÂºÄÂ§¥ÁöÑ $('div[name^=imooc]').css("border", "3px groove red"); &lt;/script&gt;&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâdiv‰∏≠ÔºåÂ±ûÊÄßnameÁöÑÂÄºÊòØÁî®imoocÁªìÂ∞æÁöÑ $('div[name$=imooc]').css("border", "3px groove blue"); &lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; //Êü•ÊâæÊâÄÊúâdiv‰∏≠ÔºåÊúâÂ±ûÊÄßname‰∏≠ÁöÑÂÄºÂåÖÂê´‰∏Ä‰∏™testÂ≠óÁ¨¶‰∏≤ÁöÑdivÂÖÉÁ¥† $(&apos;div*=test&apos;).css(&quot;border&quot;, &quot;3px groove #00FF00&quot;); &lt;/script&gt; 1234&lt;script type=&quot;text/javascript&quot;&gt; //Êü•ÊâæÊâÄÊúâdiv‰∏≠ÔºåÊúâÂ±ûÊÄßname‰∏≠ÁöÑÂÄºÂåÖÂê´‰∏Ä‰∏™testÂ≠óÁ¨¶‰∏≤ÁöÑdivÂÖÉÁ¥† $(&apos;div*=test&apos;).css(&quot;border&quot;, &quot;3px groove #00FF00&quot;); &lt;/script&gt; jQueryÈÄâÊã©Âô®‰πãÂ≠êÂÖÉÁ¥†Á≠õÈÄâÈÄâÊã©Âô®Â≠êÂÖÉÁ¥†Á≠õÈÄâÈÄâÊã©Âô®‰∏çÂ∏∏‰ΩøÁî®ÔºåÂÖ∂Á≠õÈÄâËßÑÂàôÊØîËµ∑ÂÖ∂ÂÆÉÁöÑÈÄâÊã©Âô®Á®çÂæÆË¶ÅÂ§çÊùÇÁÇπ Ê≥®ÊÑè‰∫ãÈ°πÔºö :firstÂè™ÂåπÈÖç‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂÖÉÁ¥†Ôºå‰ΩÜÊòØ:first-childÈÄâÊã©Âô®ÂèØ‰ª•ÂåπÈÖçÂ§ö‰∏™ÔºöÂç≥‰∏∫ÊØè‰∏™Áà∂Á∫ßÂÖÉÁ¥†ÂåπÈÖçÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†„ÄÇËøôÁõ∏ÂΩì‰∫é:nth-child(1) :last Âè™ÂåπÈÖç‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂÖÉÁ¥†Ôºå :last-child ÈÄâÊã©Âô®ÂèØ‰ª•ÂåπÈÖçÂ§ö‰∏™ÂÖÉÁ¥†ÔºöÂç≥Ôºå‰∏∫ÊØè‰∏™Áà∂Á∫ßÂÖÉÁ¥†ÂåπÈÖçÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥† Â¶ÇÊûúÂ≠êÂÖÉÁ¥†Âè™Êúâ‰∏Ä‰∏™ÁöÑËØùÔºå:first-child‰∏é:last-childÊòØÂêå‰∏Ä‰∏™ :only-childÂåπÈÖçÊüê‰∏™ÂÖÉÁ¥†ÊòØÁà∂ÂÖÉÁ¥†‰∏≠ÂîØ‰∏ÄÁöÑÂ≠êÂÖÉÁ¥†ÔºåÂ∞±ÊòØËØ¥ÂΩìÂâçÂ≠êÂÖÉÁ¥†ÊòØÁà∂ÂÖÉÁ¥†‰∏≠ÂîØ‰∏ÄÁöÑÂÖÉÁ¥†ÔºåÂàôÂåπÈÖç jQueryÂÆûÁé∞:nth-child(n)ÊòØ‰∏•Ê†ºÊù•Ëá™CSSËßÑËåÉÔºåÊâÄ‰ª•nÂÄºÊòØ‚ÄúÁ¥¢Âºï‚ÄùÔºå‰πüÂ∞±ÊòØËØ¥Ôºå‰ªé1ÂºÄÂßãËÆ°Êï∞Ôºå:nth-child(index)‰ªé1ÂºÄÂßãÁöÑÔºåËÄåeq(index)ÊòØ‰ªé0ÂºÄÂßãÁöÑ nth-child(n) ‰∏é :nth-last-child(n) ÁöÑÂå∫Âà´ÂâçËÄÖÊòØ‰ªéÂâçÂæÄÂêéËÆ°ÁÆóÔºåÂêéËÄÖ‰ªéÂêéÂæÄÂâçËÆ°ÁÆó 12345&lt;script type=&quot;text/javascript&quot;&gt; //Êü•Êâæclass=&quot;first-div&quot;‰∏ãÁöÑÁ¨¨‰∏Ä‰∏™aÂÖÉÁ¥† //ÈíàÂØπÊâÄÊúâÁà∂Á∫ß‰∏ãÁöÑÁ¨¨‰∏Ä‰∏™ $(&apos;.first-div a:first-child&apos;).css(&quot;color&quot;, &quot;#CD00CD&quot;); &lt;/script&gt; 123456&lt;script type=&quot;text/javascript&quot;&gt; //Êü•Êâæclass=&quot;first-div&quot;‰∏ãÁöÑÊúÄÂêé‰∏Ä‰∏™aÂÖÉÁ¥† //ÈíàÂØπÊâÄÊúâÁà∂Á∫ß‰∏ãÁöÑÊúÄÂêé‰∏Ä‰∏™ //Â¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑËØùÔºålast‰πüÊòØÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥† $(&apos;.first-div a:last-child&apos;).css(&quot;color&quot;, &quot;red&quot;); &lt;/script&gt; 12345&lt;script type=&quot;text/javascript&quot;&gt; //Êü•Êâæclass=&quot;first-div&quot;‰∏ãÁöÑÂè™Êúâ‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÁöÑaÂÖÉÁ¥† $(&apos;.first-div a:only-child&apos;).css(&quot;color&quot;, &quot;blue&quot;);&lt;/script&gt; 1234&lt;script type=&quot;text/javascript&quot;&gt; //Êü•Êâæclass=&quot;last-div&quot;‰∏ãÁöÑÁ¨¨‰∫å‰∏™aÂÖÉÁ¥† $(&apos;.last-div a:nth-child(2)&apos;).css(&quot;color&quot;, &quot;#CD00CD&quot;);&lt;/script&gt; 1234&lt;script type=&quot;text/javascript&quot;&gt; //Êü•Êâæclass=&quot;last-div&quot;‰∏ãÁöÑÂÄíÊï∞Á¨¨‰∫å‰∏™aÂÖÉÁ¥† $(&apos;.last-div a:nth-last-child(2)&apos;.css(&quot;color&quot;, &quot;red&quot;);&lt;/script&gt; jQueryÈÄâÊã©Âô®‰πãË°®ÂçïÂÖÉÁ¥†ÈÄâÊã©Âô®Êó†ËÆ∫ÊòØÊèê‰∫§ËøòÊòØ‰º†ÈÄíÊï∞ÊçÆÔºåË°®ÂçïÂÖÉÁ¥†Âú®Âä®ÊÄÅ‰∫§‰∫íÈ°µÈù¢ÁöÑ‰ΩúÁî®ÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ„ÄÇjQuery‰∏≠‰∏ìÈó®Âä†ÂÖ•‰∫ÜË°®ÂçïÈÄâÊã©Âô®Ôºå‰ªéËÄåËÉΩÂ§üÊûÅÂÖ∂Êñπ‰æøÂú∞Ëé∑ÂèñÂà∞Êüê‰∏™Á±ªÂûãÁöÑË°®ÂçïÂÖÉÁ¥† Ë°®ÂçïÈÄâÊã©Âô®ÁöÑÂÖ∑‰ΩìÊñπÊ≥ïÊèèËø∞Ôºö Èô§‰∫ÜinputÁ≠õÈÄâÈÄâÊã©Âô®ÔºåÂá†‰πéÊØè‰∏™Ë°®ÂçïÁ±ªÂà´Á≠õÈÄâÂô®ÈÉΩÂØπÂ∫î‰∏Ä‰∏™inputÂÖÉÁ¥†ÁöÑtypeÂÄº„ÄÇÂ§ßÈÉ®ÂàÜË°®ÂçïÁ±ªÂà´Á≠õÈÄâÂô®ÂèØ‰ª•‰ΩøÁî®Â±ûÊÄßÁ≠õÈÄâÂô®ÊõøÊç¢„ÄÇÊØîÂ¶Ç $(‚Äò:password‚Äô) == $(‚Äò[type=password]‚Äô) Â≠êÂÖÉÁ¥†Á≠õÈÄâÈÄâÊã©Âô®123456789101112131415&lt;h3&gt;input„ÄÅtext„ÄÅpassword„ÄÅradio„ÄÅcheckbox&lt;/h3&gt;&lt;h3&gt;submit„ÄÅimage„ÄÅreset„ÄÅbutton„ÄÅfile&lt;/h3&gt;&lt;div class="left first-div"&gt; &lt;form&gt; &lt;input type="text" value="textÁ±ªÂûã"/&gt; &lt;input type="password" value="password"/&gt; &lt;input type="radio"/&gt; &lt;input type="checkbox"/&gt; &lt;input type="submit" /&gt; &lt;input type="image" /&gt; &lt;input type="reset" /&gt; &lt;input type="button" value="Button" /&gt; &lt;input type="file" /&gt; &lt;/form&gt;&lt;/div&gt; 12345&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâ input, textarea, select Âíå button ÂÖÉÁ¥† //:input ÈÄâÊã©Âô®Âü∫Êú¨‰∏äÈÄâÊã©ÊâÄÊúâË°®ÂçïÊéß‰ª∂ $(':input').css("border", "1px groove red"); &lt;/script&gt; jQueryÈÄâÊã©Âô®‰πãË°®ÂçïÂØπË±°Â±ûÊÄßÁ≠õÈÄâÈÄâÊã©Âô®Èô§‰∫ÜË°®ÂçïÂÖÉÁ¥†ÈÄâÊã©Âô®Â§ñÔºåË°®ÂçïÂØπË±°Â±ûÊÄßÁ≠õÈÄâÈÄâÊã©Âô®‰πüÊòØ‰∏ìÈó®ÈíàÂØπË°®ÂçïÂÖÉÁ¥†ÁöÑÈÄâÊã©Âô®ÔºåÂèØ‰ª•ÈôÑÂä†Âú®ÂÖ∂‰ªñÈÄâÊã©Âô®ÁöÑÂêéÈù¢Ôºå‰∏ªË¶ÅÂäüËÉΩÊòØÂØπÊâÄÈÄâÊã©ÁöÑË°®ÂçïÂÖÉÁ¥†ËøõË°åÁ≠õÈÄâ Ê≥®ÊÑè‰∫ãÈ°πÔºö ÈÄâÊã©Âô®ÈÄÇÁî®‰∫éÂ§çÈÄâÊ°ÜÂíåÂçïÈÄâÊ°ÜÔºåÂØπ‰∫é‰∏ãÊãâÊ°ÜÂÖÉÁ¥†, ‰ΩøÁî® :selected ÈÄâÊã©Âô® Âú®Êüê‰∫õÊµèËßàÂô®‰∏≠ÔºåÈÄâÊã©Âô®:checkedÂèØËÉΩ‰ºöÈîôËØØÈÄâÂèñÂà∞ÂÖÉÁ¥†ÔºåÊâÄ‰ª•‰øùÈô©Ëµ∑ËßÅÊç¢Áî®ÈÄâÊã©Âô®input:checkedÔºåÁ°Æ‰øùÂè™‰ºöÈÄâÂèñÂÖÉÁ¥† 12345&lt;form&gt; &lt;input type="text" value="Êú™ËÆæÁΩÆdisabled" /&gt; &lt;input type="text" value="ËÆæÁΩÆdisabled" disabled="disabled" /&gt; &lt;input type="text" value="Êú™ËÆæÁΩÆdisabled" /&gt; &lt;/form&gt; 12345678910&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâinputÊâÄÊúâÂèØÁî®ÁöÑÔºàÊú™Ë¢´Á¶ÅÁî®ÁöÑÂÖÉÁ¥†ÔºâinputÂÖÉÁ¥†„ÄÇ $('input:enabled').css("border", "2px groove red");&lt;/script&gt;&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâinputÊâÄÊúâ‰∏çÂèØÁî®ÁöÑÔºàË¢´Á¶ÅÁî®ÁöÑÂÖÉÁ¥†ÔºâinputÂÖÉÁ¥†„ÄÇ $('input:disabled').css("border", "2px groove blue");&lt;/script&gt; 123456789101112131415&lt;h3&gt;checked„ÄÅselected&lt;/h3&gt; &lt;form&gt; &lt;input type="checkbox" checked="checked"&gt; &lt;input type="checkbox"&gt; &lt;input type="radio" checked&gt; &lt;input type="radio"&gt; &lt;select name="garden" multiple="multiple"&gt; &lt;option&gt;imooc&lt;/option&gt; &lt;option selected="selected"&gt;ÊÖïËØæÁΩë&lt;/option&gt; &lt;option&gt;aaron&lt;/option&gt; &lt;option selected="selected"&gt;ÂçöÂÆ¢Âõ≠&lt;/option&gt; &lt;/select&gt; &lt;/form&gt; 123456&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâinputÊâÄÊúâÂãæÈÄâÁöÑÂÖÉÁ¥†(ÂçïÈÄâÊ°Ü,Â§çÈÄâÊ°Ü) //ÁßªÈô§inputÁöÑcheckedÂ±ûÊÄß $('input:checked').removeAttr('checked')&lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //Êü•ÊâæÊâÄÊúâoptionÂÖÉÁ¥†‰∏≠,ÊúâselectedÂ±ûÊÄßË¢´ÈÄâ‰∏≠ÁöÑÈÄâÈ°π //ÁßªÈô§optionÁöÑselectedÂ±ûÊÄß $('input:selected').removeAttr('selected')&lt;/script&gt; jQueryÈÄâÊã©Âô®‰πãÁâπÊÆäÈÄâÊã©Âô®thisÁõ∏‰ø°ÂæàÂ§öÂàöÊé•Ëß¶jQueryÁöÑ‰∫∫ÔºåÂæàÂ§öÈÉΩ‰ºöÂØπ$(this)ÂíåthisÁöÑÂå∫Âà´Ê®°Á≥ä‰∏çÊ∏ÖÔºåÈÇ£‰πàËøô‰∏§ËÄÖÊúâ‰ªÄ‰πàÂå∫Âà´Âë¢ thisÊòØJavaScript‰∏≠ÁöÑÂÖ≥ÈîÆÂ≠óÔºåÊåáÁöÑÊòØÂΩìÂâçÁöÑ‰∏ä‰∏ãÊñáÂØπË±°ÔºåÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØÊñπÊ≥ï/Â±ûÊÄßÁöÑÊâÄÊúâËÄÖ 12345678var imooc = &#123; name:&quot;ÊÖïËØæÁΩë&quot;, getName:function()&#123; //this,Â∞±ÊòØimoocÂØπË±° return this.name; &#125;&#125;imooc.getName(); //ÊÖïËØæÁΩë ÂΩìÁÑ∂Âú®JavaScript‰∏≠thisÊòØÂä®ÊÄÅÁöÑÔºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™‰∏ä‰∏ãÊñáÂØπË±°ÈÉΩÊòØÂèØ‰ª•Ë¢´Âä®ÊÄÅÊîπÂèòÁöÑ(ÂèØ‰ª•ÈÄöËøácall,applyÁ≠âÊñπÊ≥ï)ÔºåÂÖ∑‰ΩìÁöÑÂ§ßÂÆ∂ÂèØ‰ª•Êü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñô ÂêåÊ†∑ÁöÑÂú®DOM‰∏≠thisÂ∞±ÊòØÊåáÂêë‰∫ÜËøô‰∏™htmlÂÖÉÁ¥†ÂØπË±°ÔºåÂõ†‰∏∫thisÂ∞±ÊòØDOMÂÖÉÁ¥†Êú¨Ë∫´ÁöÑ‰∏Ä‰∏™ÂºïÁî® ÂÅáÂ¶ÇÁªôÈ°µÈù¢‰∏Ä‰∏™PÂÖÉÁ¥†ÁªëÂÆö‰∏Ä‰∏™‰∫ã‰ª∂: 123456p.addEventListener(&apos;click&apos;,function()&#123; //this === p //‰ª•‰∏ã‰∏§ËÄÖÁöÑ‰øÆÊîπÈÉΩÊòØÁ≠â‰ª∑ÁöÑ this.style.color = &quot;red&quot;; p.style.color = &quot;red&quot;;&#125;,false); ÈÄöËøáaddEventListenerÁªëÂÆöÁöÑ‰∫ã‰ª∂ÂõûË∞É‰∏≠ÔºåthisÊåáÂêëÁöÑÊòØÂΩìÂâçÁöÑdomÂØπË±°ÔºåÊâÄ‰ª•ÂÜçÊ¨°‰øÆÊîπËøôÊ†∑ÂØπË±°ÁöÑÊ†∑ÂºèÔºåÂè™ÈúÄË¶ÅÈÄöËøáthisËé∑ÂèñÂà∞ÂºïÁî®Âç≥ÂèØ 1this.style.color = &quot;red&quot; ‰ΩÜÊòØËøôÊ†∑ÁöÑÊìç‰ΩúÂÖ∂ÂÆûËøòÊòØÂæà‰∏çÊñπ‰æøÁöÑÔºåËøôÈáåÈù¢Â∞±Ë¶ÅÊ∂âÂèä‰∏ÄÂ§ßÂ†ÜÁöÑÊ†∑ÂºèÂÖºÂÆπÔºåÂ¶ÇÊûúÈÄöËøájQueryÂ§ÑÁêÜÂ∞±‰ºöÁÆÄÂçïÂ§ö‰∫ÜÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊääthisÂä†Â∑•ÊàêjQueryÂØπË±° 12345$(&apos;p&apos;).click(function()&#123; //ÊääpÂÖÉÁ¥†ËΩ¨ÂåñÊàêjQueryÁöÑÂØπË±° var $this= $(this) $this.css(&apos;color&apos;,&apos;red&apos;)&#125;) ÈÄöËøáÊää$()ÊñπÊ≥ï‰º†ÂÖ•ÂΩìÂâçÁöÑÂÖÉÁ¥†ÂØπË±°ÁöÑÂºïÁî®thisÔºåÊääËøô‰∏™thisÂä†Â∑•ÊàêjQueryÂØπË±°ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Áî®jQueryÊèê‰æõÁöÑÂø´Êç∑ÊñπÊ≥ïÁõ¥Êé•Â§ÑÁêÜÊ†∑Âºè‰∫Ü 12thisÔºåË°®Á§∫ÂΩìÂâçÁöÑ‰∏ä‰∏ãÊñáÂØπË±°ÊòØ‰∏Ä‰∏™htmlÂØπË±°ÔºåÂèØ‰ª•Ë∞ÉÁî®htmlÂØπË±°ÊâÄÊã•ÊúâÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï„ÄÇ$(this),‰ª£Ë°®ÁöÑ‰∏ä‰∏ãÊñáÂØπË±°ÊòØ‰∏Ä‰∏™jqueryÁöÑ‰∏ä‰∏ãÊñáÂØπË±°ÔºåÂèØ‰ª•Ë∞ÉÁî®jQueryÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄßÂÄº„ÄÇ 1234567891011121314151617181920&lt;h2&gt;ÁâπÊÆäÈÄâÊã©Âô®this&lt;/h2&gt;&lt;p id="test1"&gt;ÁÇπÂáªÊµãËØïÔºöÈÄöËøáÂéüÁîüDOMÂ§ÑÁêÜ&lt;/p&gt;&lt;p id="test2"&gt;ÁÇπÂáªÊµãËØïÔºöÈÄöËøáÂéüÁîüjQueryÂ§ÑÁêÜ&lt;/p&gt;&lt;script type="text/javascript"&gt; var p1 = document.getElementById('test1') p1.addEventListener('click',function()&#123; //Áõ¥Êé•ÈÄöËøádomÁöÑÊñπÊ≥ïÊîπÂèòÈ¢úËâ≤ this.style.color = "red"; &#125;,false);&lt;/script&gt;&lt;script type="text/javascript"&gt; $('#test2').click(function()&#123; //ÈÄöËøáÂåÖË£ÖÊàêjQueryÂØπË±°ÊîπÂèòÈ¢úËâ≤ $(this).css('color','blue'); &#125;)&lt;/script&gt; jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πã.attr()‰∏é.removeAttr()ÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÊúâ‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™ÁâπÊÄßÔºåËøô‰∫õÁâπÊÄßÁöÑÁî®ÈÄîÂ∞±ÊòØÁªôÂá∫Áõ∏Â∫îÂÖÉÁ¥†ÊàñËÄÖÂÖ∂ÂÜÖÂÆπÁöÑÈôÑÂä†‰ø°ÊÅØ„ÄÇÂ¶ÇÔºöÂú®imgÂÖÉÁ¥†‰∏≠ÔºåsrcÂ∞±ÊòØÂÖÉÁ¥†ÁöÑÁâπÊÄßÔºåÁî®Êù•Ê†áËÆ∞ÂõæÁâáÁöÑÂú∞ÂùÄ„ÄÇ Êìç‰ΩúÁâπÊÄßÁöÑDOMÊñπÊ≥ï‰∏ªË¶ÅÊúâ3‰∏™ÔºågetAttributeÊñπÊ≥ï„ÄÅsetAttributeÊñπÊ≥ïÂíåremoveAttributeÊñπÊ≥ïÔºåÂ∞±ÁÆóÂ¶ÇÊ≠§Âú®ÂÆûÈôÖÊìç‰Ωú‰∏≠ËøòÊòØ‰ºöÂ≠òÂú®ÂæàÂ§öÈóÆÈ¢òÔºåËøôÈáåÂÖà‰∏çËØ¥„ÄÇËÄåÂú®jQuery‰∏≠Áî®‰∏Ä‰∏™attr()‰∏éremoveAttr()Â∞±ÂèØ‰ª•ÂÖ®ÈÉ®ÊêûÂÆö‰∫ÜÔºåÂåÖÊã¨ÂÖºÂÆπÈóÆÈ¢ò 1jQuery‰∏≠Áî®attr()ÊñπÊ≥ïÊù•Ëé∑ÂèñÂíåËÆæÁΩÆÂÖÉÁ¥†Â±ûÊÄß,attrÊòØattributeÔºàÂ±ûÊÄßÔºâÁöÑÁº©ÂÜôÔºåÂú®jQuery DOMÊìç‰Ωú‰∏≠‰ºöÁªèÂ∏∏Áî®Âà∞attr() attr()Êúâ4‰∏™Ë°®ËææÂºè attr(‰º†ÂÖ•Â±ûÊÄßÂêç)ÔºöËé∑ÂèñÂ±ûÊÄßÁöÑÂÄº attr(Â±ûÊÄßÂêç, Â±ûÊÄßÂÄº)ÔºöËÆæÁΩÆÂ±ûÊÄßÁöÑÂÄº attr(Â±ûÊÄßÂêç,ÂáΩÊï∞ÂÄº)ÔºöËÆæÁΩÆÂ±ûÊÄßÁöÑÂáΩÊï∞ÂÄº attr(attributes)ÔºöÁªôÊåáÂÆöÂÖÉÁ¥†ËÆæÁΩÆÂ§ö‰∏™Â±ûÊÄßÂÄºÔºåÂç≥Ôºö{Â±ûÊÄßÂêç‰∏Ä: ‚ÄúÂ±ûÊÄßÂÄº‰∏Ä‚Äù , Â±ûÊÄßÂêç‰∫å: ‚ÄúÂ±ûÊÄßÂÄº‰∫å‚Äù , ‚Ä¶ ‚Ä¶ } removeAttr()Âà†Èô§ÊñπÊ≥ï .removeAttr( attributeName ) : ‰∏∫ÂåπÈÖçÁöÑÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†‰∏≠ÁßªÈô§‰∏Ä‰∏™Â±ûÊÄßÔºàattributeÔºâ ‰ºòÁÇπÔºö attr„ÄÅremoveAttrÈÉΩÊòØjQuery‰∏∫‰∫ÜÂ±ûÊÄßÊìç‰ΩúÂ∞ÅË£ÖÁöÑÔºåÁõ¥Êé•Âú®‰∏Ä‰∏™ jQuery ÂØπË±°‰∏äË∞ÉÁî®ËØ•ÊñπÊ≥ïÔºåÂæàÂÆπÊòìÂØπÂ±ûÊÄßËøõË°åÊìç‰ΩúÔºå‰πü‰∏çÈúÄË¶ÅÂéªÁâπÊÑèÁöÑÁêÜËß£ÊµèËßàÂô®ÁöÑÂ±ûÊÄßÂêç‰∏çÂêåÁöÑÈóÆÈ¢ò Ê≥®ÊÑèÁöÑÈóÆÈ¢òÔºö dom‰∏≠Êúâ‰∏™Ê¶ÇÂøµÁöÑÂå∫ÂàÜÔºöAttributeÂíåPropertyÁøªËØëÂá∫Êù•ÈÉΩÊòØ‚ÄúÂ±ûÊÄß‚ÄùÔºå„ÄäjsÈ´òÁ∫ßÁ®ãÂ∫èËÆæËÆ°„Äã‰π¶‰∏≠ÁøªËØë‰∏∫‚ÄúÁâπÊÄß‚ÄùÂíå‚ÄúÂ±ûÊÄß‚Äù„ÄÇÁÆÄÂçïÁêÜËß£ÔºåAttributeÂ∞±ÊòØdomËäÇÁÇπËá™Â∏¶ÁöÑÂ±ûÊÄß ‰æãÂ¶ÇÔºöhtml‰∏≠Â∏∏Áî®ÁöÑid„ÄÅclass„ÄÅtitle„ÄÅalignÁ≠âÔºö 1&lt;div id=&quot;immooc&quot; title=&quot;ÊÖïËØæÁΩë&quot;&gt;&lt;/div&gt; ËÄåPropertyÊòØËøô‰∏™DOMÂÖÉÁ¥†‰Ωú‰∏∫ÂØπË±°ÔºåÂÖ∂ÈôÑÂä†ÁöÑÂÜÖÂÆπÔºå‰æãÂ¶Ç,tagName, nodeName, nodeType,, defaultChecked, Âíå defaultSelected ‰ΩøÁî®.prop()ÊñπÊ≥ïËøõË°åÂèñÂÄºÊàñËµãÂÄºÁ≠â 1Ëé∑ÂèñAttributeÂ∞±ÈúÄË¶ÅÁî®attrÔºåËé∑ÂèñPropertyÂ∞±ÈúÄË¶ÅÁî®prop 12345678&lt;h2&gt;.attr()‰∏é.removeAttr()&lt;/h2&gt; &lt;h3&gt;.attr&lt;/h3&gt; &lt;form&gt; &lt;input type="text" value="ËÆæÁΩÆvalue" /&gt; &lt;input type="text" value="Ëé∑Âèñvalue"/&gt; &lt;input type="text" value="ÂõûË∞ÉÊãºÊé•value" /&gt; &lt;input type="text" value="Âà†Èô§value" /&gt; &lt;/form&gt; 1234 &lt;script type="text/javascript"&gt;//ÊâæÂà∞Á¨¨‰∏Ä‰∏™inputÔºåÈÄöËøáattrËÆæÁΩÆÂ±ûÊÄßvalueÁöÑÂÄº value="ËÆæÁΩÆvalue"Êîπ‰∏∫ value=attributeNameÔºåvalue $("input:first").attr('value','.attr( attributeName, value )') &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //ÊâæÂà∞Á¨¨‰∫å‰∏™inputÔºåÈÄöËøáattrËé∑ÂèñÂ±ûÊÄßvalueÁöÑÂÄº var $atr=$('input:eq(1)').attr('value'); alert($atr);&lt;/script&gt; 12345678&lt;script type="text/javascript"&gt; //ÊâæÂà∞Á¨¨‰∏â‰∏™inputÔºåÈÄöËøá‰ΩøÁî®‰∏Ä‰∏™ÂáΩÊï∞Êù•ËÆæÁΩÆÂ±ûÊÄß //ÂèØ‰ª•Ê†πÊçÆËØ•ÂÖÉÁ¥†‰∏äÁöÑÂÖ∂ÂÆÉÂ±ûÊÄßÂÄºËøîÂõûÊúÄÁªàÊâÄÈúÄÁöÑÂ±ûÊÄßÂÄº //‰æãÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÊñ∞ÁöÑÂÄº‰∏éÁé∞ÊúâÁöÑÂÄºËÅîÁ≥ªÂú®‰∏ÄËµ∑Ôºö $('input:eq(2)').attr('value',function(i, val)&#123; return 'ÈÄöËøáfunctionËÆæÁΩÆ' + val &#125;) &lt;/script&gt; 1234567 &lt;script type="text/javascript"&gt; //ÊâæÂà∞Á¨¨Âõõ‰∏™inputÔºåÈÄöËøá‰ΩøÁî®removeAttrÂà†Èô§Â±ûÊÄß $('input:eq(3)').removeAttr('value') &lt;/script&gt;1:Â±ûÊÄßÂêçÁß∞„ÄÇ2:ËøîÂõûÂ±ûÊÄßÂÄºÁöÑÂáΩÊï∞,Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ÂΩìÂâçÂÖÉÁ¥†ÁöÑÁ¥¢ÂºïÂÄºÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÂéüÂÖàÁöÑÂ±ûÊÄßÂÄº„ÄÇ jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πãhtml()Âèä.text()ËØªÂèñ„ÄÅ‰øÆÊîπÂÖÉÁ¥†ÁöÑhtmlÁªìÊûÑÊàñËÄÖÂÖÉÁ¥†ÁöÑÊñáÊú¨ÂÜÖÂÆπÊòØÂ∏∏ËßÅÁöÑDOMÊìç‰ΩúÔºåjQueryÈíàÂØπËøôÊ†∑ÁöÑÂ§ÑÁêÜÊèê‰æõ‰∫Ü2‰∏™‰æøÊç∑ÁöÑÊñπÊ≥ï.html()‰∏é.text() .html()ÊñπÊ≥ï Ëé∑ÂèñÈõÜÂêà‰∏≠Á¨¨‰∏Ä‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑHTMLÂÜÖÂÆπ Êàñ ËÆæÁΩÆÊØè‰∏Ä‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑhtmlÂÜÖÂÆπÔºåÂÖ∑‰ΩìÊúâ3ÁßçÁî®Ê≥ïÔºö .html() ‰∏ç‰º†ÂÖ•ÂÄºÔºåÂ∞±ÊòØËé∑ÂèñÈõÜÂêà‰∏≠Á¨¨‰∏Ä‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑHTMLÂÜÖÂÆπ .html( htmlString ) ËÆæÁΩÆÊØè‰∏Ä‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑhtmlÂÜÖÂÆπ .html( function(index, oldhtml) ) Áî®Êù•ËøîÂõûËÆæÁΩÆHTMLÂÜÖÂÆπÁöÑ‰∏Ä‰∏™ÂáΩÊï∞ 1.html()ÊñπÊ≥ïÂÜÖÈÉ®‰ΩøÁî®ÁöÑÊòØDOMÁöÑinnerHTMLÂ±ûÊÄßÊù•Â§ÑÁêÜÁöÑÔºåÊâÄ‰ª•Âú®ËÆæÁΩÆ‰∏éËé∑Âèñ‰∏äÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏Ä‰∏™ÊúÄÈáçË¶ÅÁöÑÈóÆÈ¢òÔºåËøô‰∏™Êìç‰ΩúÊòØÈíàÂØπÊï¥‰∏™HTMLÂÜÖÂÆπÔºà‰∏ç‰ªÖ‰ªÖÂè™ÊòØÊñáÊú¨ÂÜÖÂÆπÔºâ .text()ÊñπÊ≥ï ÂæóÂà∞ÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÊñáÊú¨ÂÜÖÂÆπÁªìÂêàÔºåÂåÖÊã¨‰ªñ‰ª¨ÁöÑÂêé‰ª£ÔºåÊàñËÆæÁΩÆÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÊñáÊú¨ÂÜÖÂÆπ‰∏∫ÊåáÂÆöÁöÑÊñáÊú¨ÂÜÖÂÆπ„ÄÇÔºåÂÖ∑‰ΩìÊúâ3ÁßçÁî®Ê≥ïÔºö .text() ÂæóÂà∞ÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂêàÂπ∂ÊñáÊú¨ÔºåÂåÖÊã¨‰ªñ‰ª¨ÁöÑÂêé‰ª£ .text( textString ) Áî®‰∫éËÆæÁΩÆÂåπÈÖçÂÖÉÁ¥†ÂÜÖÂÆπÁöÑÊñáÊú¨ .text( function(index, text) ) Áî®Êù•ËøîÂõûËÆæÁΩÆÊñáÊú¨ÂÜÖÂÆπÁöÑ‰∏Ä‰∏™ÂáΩÊï∞ Ê≥®ÊÑè‰∫ãÈ°πÔºö 1.text()ÁªìÊûúËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂåÖÂê´ÊâÄÊúâÂåπÈÖçÂÖÉÁ¥†ÁöÑÂêàÂπ∂ÊñáÊú¨ .html‰∏é.textÁöÑÂºÇÂêå: .html‰∏é.textÁöÑÊñπÊ≥ïÊìç‰ΩúÊòØ‰∏ÄÊ†∑ÔºåÂè™ÊòØÂú®ÂÖ∑‰ΩìÈíàÂØπÂ§ÑÁêÜÂØπË±°‰∏çÂêå .htmlÂ§ÑÁêÜÁöÑÊòØÂÖÉÁ¥†ÂÜÖÂÆπÔºå.textÂ§ÑÁêÜÁöÑÊòØÊñáÊú¨ÂÜÖÂÆπ .htmlÂè™ËÉΩ‰ΩøÁî®Âú®HTMLÊñáÊ°£‰∏≠Ôºå.text Âú®XML Âíå HTML ÊñáÊ°£‰∏≠ÈÉΩËÉΩ‰ΩøÁî® Â¶ÇÊûúÂ§ÑÁêÜÁöÑÂØπË±°Âè™Êúâ‰∏Ä‰∏™Â≠êÊñáÊú¨ËäÇÁÇπÔºåÈÇ£‰πàhtmlÂ§ÑÁêÜÁöÑÁªìÊûú‰∏étextÊòØ‰∏ÄÊ†∑ÁöÑ ÁÅ´Áãê‰∏çÊîØÊåÅinnerTextÂ±ûÊÄßÔºåÁî®‰∫ÜÁ±ª‰ººÁöÑtextContentÂ±ûÊÄßÔºå.text()ÊñπÊ≥ïÁªºÂêà‰∫Ü2‰∏™Â±ûÊÄßÁöÑÊîØÊåÅÔºåÊâÄ‰ª•ÂèØ‰ª•ÂÖºÂÆπÊâÄÊúâÊµèËßàÂô® 12345678910111213141516171819&lt;h3&gt;.html()‰∏é.text()&lt;/h3&gt; &lt;div class="left first-div"&gt; &lt;div class="div"&gt; &lt;a&gt;:first-child&lt;/a&gt; &lt;a&gt;Á¨¨‰∫å‰∏™ÂÖÉÁ¥†&lt;/a&gt; &lt;a&gt;:last-child&lt;/a&gt; &lt;/div&gt; &lt;div class="div"&gt; &lt;a&gt;:first-child&lt;/a&gt; &lt;a&gt;Á¨¨‰∫å‰∏™ÂÖÉÁ¥†&lt;/a&gt; &lt;a&gt;:last-child&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;h4&gt;ÊòæÁ§∫ÈÄöËøáhtmlÊñπÊ≥ïËé∑ÂèñÂà∞ÁöÑÂÜÖÂÆπ&lt;/h4&gt; &lt;p&gt;&lt;/p&gt; &lt;h4&gt;ÊòæÁ§∫ÈÄöËøátextÊñπÊ≥ïËé∑ÂèñÂà∞ÁöÑÂÜÖÂÆπ&lt;/h4&gt; &lt;p&gt;&lt;/p&gt; 123456&lt;script type="text/javascript"&gt; //ÊòæÁ§∫Âá∫htmlÊñπÊ≥ïËé∑ÂèñÂà∞ÁöÑÂÜÖÂÆπ //.html()ÊòØÊï¥‰∏™htmlÊñáÊ°£ÁªìÊûÑ $('p:first').text( $(".first-div").html()); &lt;/script&gt; 12345&lt;script type="text/javascript"&gt; //ÊòæÁ§∫Âá∫textÊñπÊ≥ïËé∑ÂèñÂà∞ÁöÑÂÜÖÂÆπ //.text()ÊòØÊñáÊú¨ÂÜÖÂÆπÁöÑÂêàÈõÜ $('p:last').text( $(".first-div").text() ) &lt;/script&gt; 1234&lt;script type="text/javascript"&gt; //ÈÄöËøá.text()ÊñπÊ≥ïÊõøÊç¢ÊñáÊú¨ÂÜÖÂÆπ $(".left a:first").html('ÊõøÊç¢Á¨¨‰∏Ä‰∏™aÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ') &lt;/script&gt; 123456789101112&lt;script type="text/javascript"&gt; //ÈÄöËøá.html()ÊñπÊ≥ïÊõøÊç¢htmlÁªìÊûÑ $(".left div:first").html('Êï¥‰∏™divÁöÑÂ≠êËäÇÁÇπÈÉΩË¢´ÊõøÊç¢‰∫Ü') &lt;/script&gt; &lt;script type="text/javascript"&gt; //ÈÄöËøá.text()ÁöÑÂõûË∞ÉÔºåËé∑ÂèñÂéüÊú¨ÁöÑÂÜÖÂÆπÔºå‰øÆÊîπÔºåÂú®ÈáçÊñ∞ËµãÂÄº $(".left a:first").text(function(idnex,text)&#123; return 'Â¢ûÂä†Êñ∞ÁöÑÊñáÊú¨ÂÜÖÂÆπ' + text &#125;) &lt;/script&gt; jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πã.val()1jQuery‰∏≠Êúâ‰∏Ä‰∏™.val()ÊñπÊ≥ï‰∏ªË¶ÅÊòØÁî®‰∫éÂ§ÑÁêÜË°®ÂçïÂÖÉÁ¥†ÁöÑÂÄºÔºåÊØîÂ¶Ç input, select Âíå textarea„ÄÇ .val()ÊñπÊ≥ï .val()Êó†ÂèÇÊï∞ÔºåËé∑ÂèñÂåπÈÖçÁöÑÂÖÉÁ¥†ÈõÜÂêà‰∏≠Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂΩìÂâçÂÄº .val( value )ÔºåËÆæÁΩÆÂåπÈÖçÁöÑÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂÄº .val( function ) Ôºå‰∏Ä‰∏™Áî®Êù•ËøîÂõûËÆæÁΩÆÂÄºÁöÑÂáΩÊï∞ Ê≥®ÊÑè‰∫ãÈ°πÔºö ÈÄöËøá.val()Â§ÑÁêÜselectÂÖÉÁ¥†Ôºå ÂΩìÊ≤°ÊúâÈÄâÊã©È°πË¢´ÈÄâ‰∏≠ÔºåÂÆÉËøîÂõûnull .val()ÊñπÊ≥ïÂ§öÁî®Êù•ËÆæÁΩÆË°®ÂçïÁöÑÂ≠óÊÆµÁöÑÂÄº Â¶ÇÊûúselectÂÖÉÁ¥†ÊúâmultipleÔºàÂ§öÈÄâÔºâÂ±ûÊÄßÔºåÂπ∂‰∏îËá≥Â∞ë‰∏Ä‰∏™ÈÄâÊã©È°πË¢´ÈÄâ‰∏≠Ôºå .val()ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåËøô‰∏™Êï∞ÁªÑÂåÖÂê´ÊØè‰∏™ÈÄâ‰∏≠ÈÄâÊã©È°πÁöÑÂÄº .html(),.text()Âíå.val()ÁöÑÂ∑ÆÂºÇÊÄªÁªìÔºö .html(),.text(),.val()‰∏âÁßçÊñπÊ≥ïÈÉΩÊòØÁî®Êù•ËØªÂèñÈÄâÂÆöÂÖÉÁ¥†ÁöÑÂÜÖÂÆπÔºõ Âè™‰∏çËøá.html()ÊòØÁî®Êù•ËØªÂèñÂÖÉÁ¥†ÁöÑhtmlÂÜÖÂÆπÔºàÂåÖÊã¨htmlÊ†áÁ≠æÔºâÔºå .text()Áî®Êù•ËØªÂèñÂÖÉÁ¥†ÁöÑÁ∫ØÊñáÊú¨ÂÜÖÂÆπÔºåÂåÖÊã¨ÂÖ∂Âêé‰ª£ÂÖÉÁ¥†Ôºå .val()ÊòØÁî®Êù•ËØªÂèñË°®ÂçïÂÖÉÁ¥†ÁöÑ‚Äùvalue‚ÄùÂÄº„ÄÇ ÂÖ∂‰∏≠.html()Âíå.text()ÊñπÊ≥ï‰∏çËÉΩ‰ΩøÁî®Âú®Ë°®ÂçïÂÖÉÁ¥†‰∏ä,ËÄå.val()Âè™ËÉΩ‰ΩøÁî®Âú®Ë°®ÂçïÂÖÉÁ¥†‰∏äÔºõ Âè¶Â§ñ.html()ÊñπÊ≥ï‰ΩøÁî®Âú®Â§ö‰∏™ÂÖÉÁ¥†‰∏äÊó∂ÔºåÂè™ËØªÂèñÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Ôºõ .val()ÊñπÊ≥ïÂíå.html()Áõ∏ÂêåÔºåÂ¶ÇÊûúÂÖ∂Â∫îÁî®Âú®Â§ö‰∏™ÂÖÉÁ¥†‰∏äÊó∂ÔºåÂè™ËÉΩËØªÂèñÁ¨¨‰∏Ä‰∏™Ë°®ÂçïÂÖÉÁ¥†ÁöÑ‚Äùvalue‚ÄùÂÄºÔºå ‰ΩÜÊòØ.text()Âíå‰ªñ‰ª¨‰∏ç‰∏ÄÊ†∑ÔºåÂ¶ÇÊûú.text()Â∫îÁî®Âú®Â§ö‰∏™ÂÖÉÁ¥†‰∏äÊó∂ÔºåÂ∞Ü‰ºöËØªÂèñÊâÄÊúâÈÄâ‰∏≠ÂÖÉÁ¥†ÁöÑÊñáÊú¨ÂÜÖÂÆπ„ÄÇ .html(htmlString),.text(textString)Âíå.val(value)‰∏âÁßçÊñπÊ≥ïÈÉΩÊòØÁî®Êù•ÊõøÊç¢ÈÄâ‰∏≠ÂÖÉÁ¥†ÁöÑÂÜÖÂÆπÔºåÂ¶ÇÊûú‰∏â‰∏™ÊñπÊ≥ïÂêåÊó∂ËøêÁî®Âú®Â§ö‰∏™ÂÖÉÁ¥†‰∏äÊó∂ÔºåÈÇ£‰πàÂ∞Ü‰ºöÊõøÊç¢ÊâÄÊúâÈÄâ‰∏≠ÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ„ÄÇ .html(),.text(),.val()ÈÉΩÂèØ‰ª•‰ΩøÁî®ÂõûË∞ÉÂáΩÊï∞ÁöÑËøîÂõûÂÄºÊù•Âä®ÊÄÅÁöÑÊîπÂèòÂ§ö‰∏™ÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ„ÄÇ 123456789101112131415161718192021222324252627&lt;select id="single"&gt; &lt;option&gt;ÊÖïËØæÁΩë&lt;/option&gt; &lt;option&gt;ÂçöÂÆ¢Âõ≠&lt;/option&gt; &lt;/select&gt; &lt;select id="multiple" multiple="multiple"&gt; &lt;option selected="selected"&gt;imocc&lt;/option&gt; &lt;option&gt;ÊÖïËØæÁΩë&lt;/option&gt; &lt;option selected="selected"&gt;ÂçöÂÆ¢Âõ≠&lt;/option&gt; &lt;/select&gt; &lt;input type="text" value="click a button" /&gt; &lt;p&gt;&lt;/p&gt; &lt;script type="text/javascript"&gt; //Âçï‰∏™selectÔºåËøîÂõûÁ¨¨‰∏Ä‰∏™ $("p").text( $("#single").val() ) &lt;/script&gt; &lt;script type="text/javascript"&gt; //Â§ö‰∏™selectË¢´ÈÄâÊã©ÔºåËøîÂõû["imocc", "ÂçöÂÆ¢Âõ≠"] $("p").text( $("#multiple").val() ) &lt;/script&gt; &lt;script type="text/javascript"&gt; //ÈÄâÊã©‰∏Ä‰∏™Ë°®ÂçïÔºå‰øÆÊîπvalueÁöÑÂÄº $("input[type='text']").val('‰øÆÊîπË°®ÂçïÁöÑÂ≠óÊÆµ') &lt;/script&gt; #jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πãÂ¢ûÂä†Ê†∑Âºè.addClass() jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πãÂà†Èô§Ê†∑Âºè.removeClass()jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πãÂàáÊç¢Ê†∑Âºè.toggleClass()#jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πãÊ†∑ÂºèÊìç‰Ωú.css() jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πã.css()‰∏é.addClass()ËÆæÁΩÆÊ†∑ÂºèÁöÑÂå∫Âà´jQueryÁöÑÂ±ûÊÄß‰∏éÊ†∑Âºè‰πãÂÖÉÁ¥†ÁöÑÊï∞ÊçÆÂ≠òÂÇ®]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jquery2]]></title>
    <url>%2F2019%2F03%2F08%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%AD%A6%E4%B9%A03%E6%9D%8E%E6%B1%9F%E5%8D%97%2F</url>
    <content type="text"><![CDATA[01-ÂàùËØÜjQuer1234567891011121314151617181920212223242526272829303132333435&lt;script&gt; window.onload = function (ev) &#123; // 1.Âà©Áî®ÂéüÁîüÁöÑJSÊü•ÊâæDOMÂÖÉÁ¥† var div1 = document.getElementsByTagName("div")[0]; var div2 = document.getElementsByClassName("box1")[0]; var div3 = document.getElementById("box2"); // console.log(div1); // console.log(div2); // console.log(div3); // 2.Âà©Áî®ÂéüÁîüÁöÑJS‰øÆÊîπËÉåÊôØÈ¢úËâ≤ // div1.style.backgroundColor = "red"; // div2.style.backgroundColor = "blue"; // div3.style.backgroundColor = "yellow"; &#125; $(function () &#123; var $div1 = $("div"); var $div2 = $(".box1"); var $div3 = $("#box2"); // console.log($div1); // console.log($div2); // console.log($div3); $div1.css(&#123; background: "red", width: "200px", height: "200px" &#125;); $div2.css(&#123; background: "blue" &#125;); $div3.css(&#123; background: "yellow" &#125;); &#125;); &lt;/script&gt; 02-jQuery-HelloWorld123456789&lt;script&gt; // 1.ÂéüÁîüJSÁöÑÂõ∫ÂÆöÂÜôÊ≥ï window.onload = function (ev) &#123; &#125; // 2.jQueryÁöÑÂõ∫ÂÆöÂÜôÊ≥ï $(document).ready(function () &#123; alert("hello lnj"); &#125;); &lt;/script&gt; 03-jQueryÂíåJSÂÖ•Âè£ÂáΩÊï∞ÁöÑÂå∫Âà´12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849 &lt;script&gt; /* window.onload = function (ev) &#123; // 1.ÈÄöËøáÂéüÁîüÁöÑJSÂÖ•Âè£ÂáΩÊï∞ÂèØ‰ª•ÊãøÂà∞DOMÂÖÉÁ¥† var images = document.getElementsByTagName("images")[0]; console.log(images); // 2.ÈÄöËøáÂéüÁîüÁöÑJSÂÖ•Âè£ÂáΩÊï∞ÂèØ‰ª•ÊãøÂà∞DOMÂÖÉÁ¥†ÁöÑÂÆΩÈ´ò var width = window.getComputedStyle(images).width; console.log("onload", width); &#125; */ /* * 1.ÂéüÁîüJSÂíåjQueryÂÖ•Âè£ÂáΩÊï∞ÁöÑÂä†ËΩΩÊ®°Âºè‰∏çÂêå * ÂéüÁîüJS‰ºöÁ≠âÂà∞DOMÂÖÉÁ¥†Âä†ËΩΩÂÆåÊØï,Âπ∂‰∏îÂõæÁâá‰πüÂä†ËΩΩÂÆåÊØïÊâç‰ºöÊâßË°å * jQuery‰ºöÁ≠âÂà∞DOMÂÖÉÁ¥†Âä†ËΩΩÂÆåÊØï,‰ΩÜ‰∏ç‰ºöÁ≠âÂà∞ÂõæÁâá‰πüÂä†ËΩΩÂÆåÊØïÂ∞±‰ºöÊâßË°å * */ /* $(document).ready(function () &#123; // 1.ÈÄöËøájQueryÂÖ•Âè£ÂáΩÊï∞ÂèØ‰ª•ÊãøÂà∞DOMÂÖÉÁ¥† var $images = $("images"); console.log($images); // 2.ÈÄöËøájQueryÂÖ•Âè£ÂáΩÊï∞‰∏çÂèØ‰ª•ÊãøÂà∞DOMÂÖÉÁ¥†ÁöÑÂÆΩÈ´ò var $width = $images.width(); console.log("ready", $width); &#125;); */ /* 1.ÂéüÁîüÁöÑJSÂ¶ÇÊûúÁºñÂÜô‰∫ÜÂ§ö‰∏™ÂÖ•Âè£ÂáΩÊï∞,ÂêéÈù¢ÁºñÂÜôÁöÑ‰ºöË¶ÜÁõñÂâçÈù¢ÁºñÂÜôÁöÑ 2.jQuery‰∏≠ÁºñÂÜôÂ§ö‰∏™ÂÖ•Âè£ÂáΩÊï∞,ÂêéÈù¢ÁöÑ‰∏ç‰ºöË¶ÜÁõñÂâçÈù¢ÁöÑ */ // window.onload = function (ev) &#123; // alert("hello lnj1"); // &#125; // window.onload = function (ev) &#123; // alert("hello lnj2"); // &#125; $(document).ready(function () &#123; alert("hello lnj1"); &#125;); $(document).ready(function () &#123; alert("hello lnj2"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;img src="https://img.alicdn.com/tfs/TB1P_MofwmTBuNjy1XbXXaMrVXa-190-140.gif" alt=""&gt; 04-jQueryÂÖ•Âè£ÂáΩÊï∞ÁöÑÂÖ∂ÂÆÉÂÜôÊ≥ï123456789101112131415161718192021&lt;script&gt; // 1.Á¨¨‰∏ÄÁßçÂÜôÊ≥ï $(document).ready(function () &#123; // alert("hello lnj"); &#125;); // 2.Á¨¨‰∫åÁßçÂÜôÊ≥ï jQuery(document).ready(function () &#123; // alert("hello lnj"); &#125;); // 3.Á¨¨‰∏âÁßçÂÜôÊ≥ï(Êé®Ëçê) $(function () &#123; // alert("hello lnj"); &#125;); // 4.Á¨¨ÂõõÁßçÂÜôÊ≥ï jQuery(function () &#123; alert("hello lnj"); &#125;); &lt;/script&gt; 05-jQueryÂÜ≤Á™ÅÈóÆÈ¢ò1234567891011&lt;script&gt; // 1.ÈáäÊîæ$ÁöÑ‰ΩøÁî®ÊùÉ // Ê≥®ÊÑèÁÇπ: ÈáäÊîæÊìç‰ΩúÂøÖÈ°ªÂú®ÁºñÂÜôÂÖ∂ÂÆÉjQuery‰ª£Á†Å‰πãÂâçÁºñÂÜô // ÈáäÊîæ‰πãÂêéÂ∞±‰∏çËÉΩÂÜç‰ΩøÁî®$,Êîπ‰∏∫‰ΩøÁî®jQuery // jQueryÂéüÁêÜ.noConflict(); // 2.Ëá™ÂÆö‰πâ‰∏Ä‰∏™ËÆøÈóÆÁ¨¶Âè∑ var nj = jQuery.noConflict(); nj(function () &#123; alert("hello lnj"); &#125;); &lt;/script&gt; 06-jQueryÊ†∏ÂøÉÂáΩÊï∞1234567891011121314151617181920212223242526&lt;script&gt; // $();/jQueryÂéüÁêÜ();Â∞±‰ª£Ë°®Ë∞ÉÁî®jQueryÁöÑÊ†∏ÂøÉÂáΩÊï∞ // 1.Êé•Êî∂‰∏Ä‰∏™ÂáΩÊï∞ $(function () &#123; alert("hello lnj"); // 2.Êé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ // 2.1Êé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÈÄâÊã©Âô® // ËøîÂõû‰∏Ä‰∏™jQueryÂØπË±°, ÂØπË±°‰∏≠‰øùÂ≠ò‰∫ÜÊâæÂà∞ÁöÑDOMÂÖÉÁ¥† var $box1 = $(".box1"); var $box2 = $("#box2"); console.log($box1); console.log($box2); // 2.2Êé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰ª£Á†ÅÁâáÊÆµ // ËøîÂõû‰∏Ä‰∏™jQueryÂØπË±°, ÂØπË±°‰∏≠‰øùÂ≠ò‰∫ÜÂàõÂª∫ÁöÑDOMÂÖÉÁ¥† var $p = $("&lt;p&gt;ÊàëÊòØÊÆµËêΩ&lt;/p&gt;"); console.log($p); $box1.append($p); // 3.Êé•Êî∂‰∏Ä‰∏™DOMÂÖÉÁ¥† // ‰ºöË¢´ÂåÖË£ÖÊàê‰∏Ä‰∏™jQueryÂØπË±°ËøîÂõûÁªôÊàë‰ª¨ var span = document.getElementsByTagName("span")[0]; console.log(span); var $span = $(span); console.log($span); &#125;); &lt;/script&gt; 07-jQueryÂØπË±°12345678910111213141516&lt;script&gt; $(function () &#123; /* * 1.‰ªÄ‰πàÊòØjQueryÂØπË±° * jQueryÂØπË±°ÊòØ‰∏Ä‰∏™‰º™Êï∞ÁªÑ * * 2.‰ªÄ‰πàÊòØ‰º™Êï∞ÁªÑ? * Êúâ0Âà∞length-1ÁöÑÂ±ûÊÄß, Âπ∂‰∏îÊúâlengthÂ±ûÊÄß */ var $div = $("div"); console.log($div); var arr = [1, 3, 5]; console.log(arr); &#125;); &lt;/script&gt; 08-ÈùôÊÄÅÊñπÊ≥ïÂíåÂÆû‰æãÊñπÊ≥ï12345678910111213141516171819202122&lt;script&gt; // 1.ÂÆö‰πâ‰∏Ä‰∏™Á±ª function AClass() &#123; &#125; // 2.ÁªôËøô‰∏™Á±ªÊ∑ªÂä†‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ï // Áõ¥Êé•Ê∑ªÂä†ÁªôÁ±ªÁöÑÂ∞±ÊòØÈùôÊÄÅÊñπÊ≥ï AClass.staticMethod = function () &#123; alert("staticMethod"); &#125; // ÈùôÊÄÅÊñπÊ≥ïÈÄöËøáÁ±ªÂêçË∞ÉÁî® AClass.staticMethod(); // 3.ÁªôËøô‰∏™Á±ªÊ∑ªÂä†‰∏Ä‰∏™ÂÆû‰æãÊñπÊ≥ï AClass.prototype.instanceMethod = function () &#123; alert("instanceMethod"); &#125; // ÂÆû‰æãÊñπÊ≥ïÈÄöËøáÁ±ªÁöÑÂÆû‰æãË∞ÉÁî® // ÂàõÂª∫‰∏Ä‰∏™ÂÆû‰æã(ÂàõÂª∫‰∏Ä‰∏™ÂØπË±°) var a = new AClass(); // ÈÄöËøáÂÆû‰æãË∞ÉÁî®ÂÆû‰æãÊñπÊ≥ï a.instanceMethod(); &lt;/script&gt; 09-ÈùôÊÄÅÊñπÊ≥ïeachÊñπÊ≥ï123456789101112131415161718192021222324252627282930&lt;script&gt; var arr = [1, 3, 5, 7, 9]; var obj = &#123;0:1, 1:3, 2:5, 3:7, 4:9, length:5&#125;; /* Á¨¨‰∏Ä‰∏™ÂèÇÊï∞: ÈÅçÂéÜÂà∞ÁöÑÂÖÉÁ¥† Á¨¨‰∫å‰∏™ÂèÇÊï∞: ÂΩìÂâçÈÅçÂéÜÂà∞ÁöÑÁ¥¢Âºï Ê≥®ÊÑèÁÇπ: ÂéüÁîüÁöÑforEachÊñπÊ≥ïÂè™ËÉΩÈÅçÂéÜÊï∞ÁªÑ, ‰∏çËÉΩÈÅçÂéÜ‰º™Êï∞ÁªÑ */ // arr.forEach(function (value, index) &#123; // console.log(index, value); // &#125;); // obj.forEach(function (value, index) &#123; // console.log(index, value); // &#125;); // 1.Âà©Áî®jQueryÁöÑeachÈùôÊÄÅÊñπÊ≥ïÈÅçÂéÜÊï∞ÁªÑ /* Á¨¨‰∏Ä‰∏™ÂèÇÊï∞: ÂΩìÂâçÈÅçÂéÜÂà∞ÁöÑÁ¥¢Âºï Á¨¨‰∫å‰∏™ÂèÇÊï∞: ÈÅçÂéÜÂà∞ÁöÑÂÖÉÁ¥† Ê≥®ÊÑèÁÇπ: jQueryÁöÑeachÊñπÊ≥ïÊòØÂèØ‰ª•ÈÅçÂéÜ‰º™Êï∞ÁªÑÁöÑ */ // $.each(arr, function (index, value) &#123; // console.log(index, value); // &#125;); $.each(obj, function (index, value) &#123; console.log(index, value); &#125;); &lt;/script&gt; 10-ÈùôÊÄÅÊñπÊ≥ïmapÊñπÊ≥ï1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;script&gt; var arr = [1, 3, 5, 7, 9]; var obj = &#123;0:1, 1:3, 2:5, 3:7, 4:9, length:5&#125;; // 1.Âà©Áî®ÂéüÁîüJSÁöÑmapÊñπÊ≥ïÈÅçÂéÜ /* Á¨¨‰∏Ä‰∏™ÂèÇÊï∞: ÂΩìÂâçÈÅçÂéÜÂà∞ÁöÑÂÖÉÁ¥† Á¨¨‰∫å‰∏™ÂèÇÊï∞: ÂΩìÂâçÈÅçÂéÜÂà∞ÁöÑÁ¥¢Âºï Á¨¨‰∏â‰∏™ÂèÇÊï∞: ÂΩìÂâçË¢´ÈÅçÂéÜÁöÑÊï∞ÁªÑ Ê≥®ÊÑèÁÇπ: ÂíåÂéüÁîüÁöÑforEach‰∏ÄÊ†∑,‰∏çËÉΩÈÅçÂéÜÁöÑ‰º™Êï∞ÁªÑ */ // arr.map(function (value, index, array) &#123; // console.log(index, value, array); // &#125;); // obj.map(function (value, index, array) &#123; // console.log(index, value, array); // &#125;); /* Á¨¨‰∏Ä‰∏™ÂèÇÊï∞: Ë¶ÅÈÅçÂéÜÁöÑÊï∞ÁªÑ Á¨¨‰∫å‰∏™ÂèÇÊï∞: ÊØèÈÅçÂéÜ‰∏Ä‰∏™ÂÖÉÁ¥†‰πãÂêéÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞ ÂõûË∞ÉÂáΩÊï∞ÁöÑÂèÇÊï∞: Á¨¨‰∏Ä‰∏™ÂèÇÊï∞: ÈÅçÂéÜÂà∞ÁöÑÂÖÉÁ¥† Á¨¨‰∫å‰∏™ÂèÇÊï∞: ÈÅçÂéÜÂà∞ÁöÑÁ¥¢Âºï Ê≥®ÊÑèÁÇπ: ÂíåjQuery‰∏≠ÁöÑeachÈùôÊÄÅÊñπÊ≥ï‰∏ÄÊ†∑, mapÈùôÊÄÅÊñπÊ≥ï‰πüÂèØ‰ª•ÈÅçÂéÜ‰º™Êï∞ÁªÑ */ // $.map(arr, function (value, index) &#123; // console.log(index, value); // &#125;); var res = $.map(obj, function (value, index) &#123; console.log(index, value); return value + index; &#125;); var res2 = $.each(obj, function (index, value) &#123; console.log(index, value); return value + index; &#125;); /* jQuery‰∏≠ÁöÑeachÈùôÊÄÅÊñπÊ≥ïÂíåmapÈùôÊÄÅÊñπÊ≥ïÁöÑÂå∫Âà´: eachÈùôÊÄÅÊñπÊ≥ïÈªòËÆ§ÁöÑËøîÂõûÂÄºÂ∞±ÊòØ, ÈÅçÂéÜË∞ÅÂ∞±ËøîÂõûË∞Å mapÈùôÊÄÅÊñπÊ≥ïÈªòËÆ§ÁöÑËøîÂõûÂÄºÊòØ‰∏Ä‰∏™Á©∫Êï∞ÁªÑ eachÈùôÊÄÅÊñπÊ≥ï‰∏çÊîØÊåÅÂú®ÂõûË∞ÉÂáΩÊï∞‰∏≠ÂØπÈÅçÂéÜÁöÑÊï∞ÁªÑËøõË°åÂ§ÑÁêÜ mapÈùôÊÄÅÊñπÊ≥ïÂèØ‰ª•Âú®ÂõûË∞ÉÂáΩÊï∞‰∏≠ÈÄöËøáreturnÂØπÈÅçÂéÜÁöÑÊï∞ÁªÑËøõË°åÂ§ÑÁêÜ, ÁÑ∂ÂêéÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑËøîÂõû */ console.log(res); console.log(res2); &lt;/script&gt; 11-jQuery‰∏≠ÁöÑÂÖ∂ÂÆÉÈùôÊÄÅÊñπÊ≥ï1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;script&gt; /* $.trim(); ‰ΩúÁî®: ÂéªÈô§Â≠óÁ¨¶‰∏≤‰∏§Á´ØÁöÑÁ©∫Ê†º ÂèÇÊï∞: ÈúÄË¶ÅÂéªÈô§Á©∫Ê†ºÁöÑÂ≠óÁ¨¶‰∏≤ ËøîÂõûÂÄº: ÂéªÈô§Á©∫Ê†º‰πãÂêéÁöÑÂ≠óÁ¨¶‰∏≤ */ /* var str = " lnj "; var res = $.trim(str); console.log("---"+str+"---"); console.log("---"+res+"---"); */ // ÁúüÊï∞ÁªÑ var arr = [1, 3, 5, 7, 9]; // ‰º™Êï∞ÁªÑ var arrlike = &#123;0:1, 1:3, 2:5, 3:7, 4:9, length:5&#125;; // ÂØπË±° var obj = &#123;"name":"lnj", age:"33"&#125;; // ÂáΩÊï∞ var fn = function()&#123;&#125;; // windowÂØπË±° var w = window; /* $.isWindow(); ‰ΩúÁî®: Âà§Êñ≠‰º†ÂÖ•ÁöÑÂØπË±°ÊòØÂê¶ÊòØwindowÂØπË±° ËøîÂõûÂÄº: true/false */ /* var res = $.isWindow(w); console.log(res); */ /* $.isArray(); ‰ΩúÁî®: Âà§Êñ≠‰º†ÂÖ•ÁöÑÂØπË±°ÊòØÂê¶ÊòØÁúüÊï∞ÁªÑ ËøîÂõûÂÄº: true/false */ /* var res = $.isArray(w); console.log(res); */ /* $.isArray(); ‰ΩúÁî®: Âà§Êñ≠‰º†ÂÖ•ÁöÑÂØπË±°ÊòØÂê¶ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ ËøîÂõûÂÄº: true/false Ê≥®ÊÑèÁÇπ: jQueryÊ°ÜÊû∂Êú¨Ë¥®‰∏äÊòØ‰∏Ä‰∏™ÂáΩÊï∞ (function( window, undefined ) &#123; &#125;)( window ); */ var res = $.isFunction(jQuery); console.log(res); &lt;/script&gt; 12-ÈùôÊÄÅÊñπÊ≥ïholdReadyÊñπÊ≥ï12345678910111213141516 &lt;script&gt; // $.holdReady(true); ‰ΩúÁî®: ÊöÇÂÅúreadyÊâßË°å $.holdReady(true); $(document).ready(function () &#123; alert("ready"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;ÂõûÂ§çready‰∫ã‰ª∂&lt;/button&gt;&lt;script&gt; var btn = document.getElementsByTagName("button")[0]; btn.onclick = function () &#123; $.holdReady(false); &#125;&lt;/script&gt; 13-ÈÄöËøáwebstormÁÆÄÂåñÊìç‰Ωú1234567891011&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;13-ÈÄöËøáwebstormÁÆÄÂåñÊìç‰Ωú&lt;/title&gt; &lt;script src="js/jquery-1.12.4.js"&gt;&lt;/script&gt; &lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å alert("hello lnj"); &#125;); &lt;/script&gt;&lt;/head&gt; 14-jQueryÂÜÖÂÆπÈÄâÊã©Âô®1234567891011121314151617181920212223242526272829 &lt;script src="js/jquery-1.12.4.js"&gt;&lt;/script&gt; &lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å // :empty ‰ΩúÁî®:ÊâæÂà∞Êó¢Ê≤°ÊúâÊñáÊú¨ÂÜÖÂÆπ‰πüÊ≤°ÊúâÂ≠êÂÖÉÁ¥†ÁöÑÊåáÂÆöÂÖÉÁ¥† var $div = $("div:empty"); console.log($div); // :parent ‰ΩúÁî®: ÊâæÂà∞ÊúâÊñáÊú¨ÂÜÖÂÆπÊàñÊúâÂ≠êÂÖÉÁ¥†ÁöÑÊåáÂÆöÂÖÉÁ¥† var $div = $("div:parent"); console.log($div); // :contains(text) ‰ΩúÁî®: ÊâæÂà∞ÂåÖÂê´ÊåáÂÆöÊñáÊú¨ÂÜÖÂÆπÁöÑÊåáÂÆöÂÖÉÁ¥† var $div = $("div:contains('ÊàëÊòØdiv')"); console.log($div); // :has(selector) ‰ΩúÁî®: ÊâæÂà∞ÂåÖÂê´ÊåáÂÆöÂ≠êÂÖÉÁ¥†ÁöÑÊåáÂÆöÂÖÉÁ¥† var $div = $("div:has('span')"); console.log($div); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;ÊàëÊòØdiv&lt;/div&gt;&lt;div&gt;‰ªñ‰ª¨ÊàëÊòØdiv123&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt; 15-Â±ûÊÄßÂíåÂ±ûÊÄßËäÇÁÇπ123456789101112131415161718192021222324252627282930313233343536373839404142434445 &lt;script&gt; $(function () &#123; /* 1.‰ªÄ‰πàÊòØÂ±ûÊÄß? ÂØπË±°Ë∫´‰∏ä‰øùÂ≠òÁöÑÂèòÈáèÂ∞±ÊòØÂ±ûÊÄß 2.Â¶Ç‰ΩïÊìç‰ΩúÂ±ûÊÄß? ÂØπË±°.Â±ûÊÄßÂêçÁß∞ = ÂÄº; ÂØπË±°.Â±ûÊÄßÂêçÁß∞; ÂØπË±°["Â±ûÊÄßÂêçÁß∞"] = ÂÄº; ÂØπË±°["Â±ûÊÄßÂêçÁß∞"]; 3.‰ªÄ‰πàÊòØÂ±ûÊÄßËäÇÁÇπ? &lt;span name = "it666"&gt;&lt;/span&gt; Âú®ÁºñÂÜôHTML‰ª£Á†ÅÊó∂,Âú®HTMLÊ†áÁ≠æ‰∏≠Ê∑ªÂä†ÁöÑÂ±ûÊÄßÂ∞±ÊòØÂ±ûÊÄßËäÇÁÇπ Âú®ÊµèËßàÂô®‰∏≠ÊâæÂà∞spanËøô‰∏™DOMÂÖÉÁ¥†‰πãÂêé, Â±ïÂºÄÁúãÂà∞ÁöÑÈÉΩÊòØÂ±ûÊÄß Âú®attributesÂ±ûÊÄß‰∏≠‰øùÂ≠òÁöÑÊâÄÊúâÂÜÖÂÆπÈÉΩÊòØÂ±ûÊÄßËäÇÁÇπ 4.Â¶Ç‰ΩïÊìç‰ΩúÂ±ûÊÄßËäÇÁÇπ? DOMÂÖÉÁ¥†.setAttribute("Â±ûÊÄßÂêçÁß∞", "ÂÄº"); DOMÂÖÉÁ¥†.getAttribute("Â±ûÊÄßÂêçÁß∞"); 5.Â±ûÊÄßÂíåÂ±ûÊÄßËäÇÁÇπÊúâ‰ªÄ‰πàÂå∫Âà´? ‰ªª‰ΩïÂØπË±°ÈÉΩÊúâÂ±ûÊÄß, ‰ΩÜÊòØÂè™ÊúâDOMÂØπË±°ÊâçÊúâÂ±ûÊÄßËäÇÁÇπ */ function Person() &#123; &#125; var p = new Person(); // p.name = "lnj"; p["name"] = "zs"; // console.log(p.name); console.log(p["name"]); var span = document.getElementsByTagName("span")[0]; span.setAttribute("name", "lnj"); console.log(span.getAttribute("name")); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;span name = "it666"&gt;&lt;/span&gt; 16-jQueryÁöÑattrÊñπÊ≥ï1234567891011121314151617181920212223242526272829303132 &lt;script&gt; $(function () &#123; /* 1.attr(name|pro|key,val|fn) ‰ΩúÁî®: Ëé∑ÂèñÊàñËÄÖËÆæÁΩÆÂ±ûÊÄßËäÇÁÇπÁöÑÂÄº ÂèØ‰ª•‰º†ÈÄí‰∏Ä‰∏™ÂèÇÊï∞, ‰πüÂèØ‰ª•‰º†ÈÄí‰∏§‰∏™ÂèÇÊï∞ Â¶ÇÊûú‰º†ÈÄí‰∏Ä‰∏™ÂèÇÊï∞, ‰ª£Ë°®Ëé∑ÂèñÂ±ûÊÄßËäÇÁÇπÁöÑÂÄº Â¶ÇÊûú‰º†ÈÄí‰∏§‰∏™ÂèÇÊï∞, ‰ª£Ë°®ËÆæÁΩÆÂ±ûÊÄßËäÇÁÇπÁöÑÂÄº Ê≥®ÊÑèÁÇπ: Â¶ÇÊûúÊòØËé∑Âèñ:Êó†ËÆ∫ÊâæÂà∞Â§öÂ∞ë‰∏™ÂÖÉÁ¥†, ÈÉΩÂè™‰ºöËøîÂõûÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊåáÂÆöÁöÑÂ±ûÊÄßËäÇÁÇπÁöÑÂÄº Â¶ÇÊûúÊòØËÆæÁΩÆ:ÊâæÂà∞Â§öÂ∞ë‰∏™ÂÖÉÁ¥†Â∞±‰ºöËÆæÁΩÆÂ§öÂ∞ë‰∏™ÂÖÉÁ¥† Â¶ÇÊûúÊòØËÆæÁΩÆ: Â¶ÇÊûúËÆæÁΩÆÁöÑÂ±ûÊÄßËäÇÁÇπ‰∏çÂ≠òÂú®, ÈÇ£‰πàÁ≥ªÁªü‰ºöËá™Âä®Êñ∞Â¢û 2.removeAttr(name) Âà†Èô§Â±ûÊÄßËäÇÁÇπ Ê≥®ÊÑèÁÇπ: ‰ºöÂà†Èô§ÊâÄÊúâÊâæÂà∞ÂÖÉÁ¥†ÊåáÂÆöÁöÑÂ±ûÊÄßËäÇÁÇπ */ // console.log($("span").attr("class")); $("span").attr("class", "box"); // $("span").attr("abc", "123"); // $("span").removeAttr("class name"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;span class="span1" name="it666"&gt;&lt;/span&gt;&lt;span class="span2" name="lnj"&gt;&lt;/span&gt; 17-jQueryÁöÑpropÊñπÊ≥ï1234567891011121314151617181920212223242526272829303132333435 &lt;script&gt; $(function () &#123; /* 1.propÊñπÊ≥ï ÁâπÁÇπÂíåattrÊñπÊ≥ï‰∏ÄËá¥ 2.removePropÊñπÊ≥ï ÁâπÁÇπÂíåremoveAttrÊñπÊ≥ï‰∏ÄËá¥ */ /* $("span").eq(0).prop("demo", "it666"); $("span").eq(1).prop("demo", "lnj"); console.log($("span").prop("demo")); $("span").removeProp("demo"); */ /* Ê≥®ÊÑèÁÇπ: propÊñπÊ≥ï‰∏ç‰ªÖËÉΩÂ§üÊìç‰ΩúÂ±ûÊÄß, ‰ªñËøòËÉΩÊìç‰ΩúÂ±ûÊÄßËäÇÁÇπ ÂÆòÊñπÊé®ËçêÂú®Êìç‰ΩúÂ±ûÊÄßËäÇÁÇπÊó∂,ÂÖ∑Êúâ true Âíå false ‰∏§‰∏™Â±ûÊÄßÁöÑÂ±ûÊÄßËäÇÁÇπÔºåÂ¶Ç checked, selected ÊàñËÄÖ disabled ‰ΩøÁî®prop()ÔºåÂÖ∂‰ªñÁöÑ‰ΩøÁî® attr() */ // console.log($("span").prop("class")); // $("span").prop("class", "box"); console.log($("input").prop("checked")); // true / false console.log($("input").attr("checked")); // checked / undefined &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;span class="span1" name="it666"&gt;&lt;/span&gt;&lt;span class="span2" name="lnj"&gt;&lt;/span&gt;&lt;input type="checkbox"&gt; 18-attrÂíåpropÊñπÊ≥ïÁªÉ‰π†1234567891011121314151617181920script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å // 1.ÁªôÊåâÈíÆÊ∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂ var btn = document.getElementsByTagName("button")[0]; btn.onclick = function () &#123; // 2.Ëé∑ÂèñËæìÂÖ•Ê°ÜËæìÂÖ•ÁöÑÂÜÖÂÆπ var input = document.getElementsByTagName("input")[0]; var text = input.value; // 3.‰øÆÊîπimgÁöÑsrcÂ±ûÊÄßËäÇÁÇπÁöÑÂÄº $("img").attr("src", text); // $("images").prop("src", text); &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;input type="text"&gt;&lt;button&gt;ÂàáÊç¢ÂõæÁâá&lt;/button&gt;&lt;br&gt;&lt;img src="https://www.baidu.com/img/bd_logo1.png?where=super" alt=""&gt; 19-jQueryÊìç‰ΩúÁ±ªÁõ∏ÂÖ≥ÁöÑÊñπÊ≥ï1234567891011121314151617181920212223242526272829303132333435 &lt;script&gt; $(function () &#123; /* 1.addClass(class|fn) ‰ΩúÁî®: Ê∑ªÂä†‰∏Ä‰∏™Á±ª Â¶ÇÊûúË¶ÅÊ∑ªÂä†Â§ö‰∏™, Â§ö‰∏™Á±ªÂêç‰πãÈó¥Áî®Á©∫Ê†ºÈöîÂºÄÂç≥ÂèØ 2.removeClass([class|fn]) ‰ΩúÁî®: Âà†Èô§‰∏Ä‰∏™Á±ª Â¶ÇÊûúÊÉ≥Âà†Èô§Â§ö‰∏™, Â§ö‰∏™Á±ªÂêç‰πãÈó¥Áî®Á©∫Ê†ºÈöîÂºÄÂç≥ÂèØ 3.toggleClass(class|fn[,sw]) ‰ΩúÁî®: ÂàáÊç¢Á±ª ÊúâÂ∞±Âà†Èô§, Ê≤°ÊúâÂ∞±Ê∑ªÂä† */ var btns = document.getElementsByTagName("button"); btns[0].onclick = function () &#123; // $("div").addClass("class1"); $("div").addClass("class1 class2"); &#125; btns[1].onclick = function () &#123; // $("div").removeClass("class2"); $("div").removeClass("class2 class1"); &#125; btns[2].onclick = function () &#123; $("div").toggleClass("class2 class1"); &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;Ê∑ªÂä†Á±ª&lt;/button&gt;&lt;button&gt;Âà†Èô§Á±ª&lt;/button&gt;&lt;button&gt;ÂàáÊç¢Á±ª&lt;/button&gt;&lt;div&gt;&lt;/div&gt; 20-jQueryÊñáÊú¨ÂÄºÁõ∏ÂÖ≥ÁöÑÊñπÊ≥ï12345678910111213141516171819202122232425262728293031323334353637383940 &lt;script&gt; $(function () &#123; /* 1.html([val|fn]) ÂíåÂéüÁîüJS‰∏≠ÁöÑinnerHTML‰∏ÄÊ®°‰∏ÄÊ†∑ 2.text([val|fn]) ÂíåÂéüÁîüJS‰∏≠ÁöÑinnerText‰∏ÄÊ®°‰∏ÄÊ†∑ 3.val([val|fn|arr]) */ var btns = document.getElementsByTagName("button"); btns[0].onclick = function () &#123; $("div").html("&lt;p&gt;ÊàëÊòØÊÆµËêΩ&lt;span&gt;ÊàëÊòØspan&lt;/span&gt;&lt;/p&gt;"); &#125; btns[1].onclick = function () &#123; console.log($("div").html()); &#125; btns[2].onclick = function () &#123; $("div").text("&lt;p&gt;ÊàëÊòØÊÆµËêΩ&lt;span&gt;ÊàëÊòØspan&lt;/span&gt;&lt;/p&gt;"); &#125; btns[3].onclick = function () &#123; console.log($("div").text()); &#125; btns[4].onclick = function () &#123; $("input").val("ËØ∑ËæìÂÖ•ÂÜÖÂÆπ"); &#125; btns[5].onclick = function () &#123; console.log($("input").val());; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;ËÆæÁΩÆhtml&lt;/button&gt;&lt;button&gt;Ëé∑Âèñhtml&lt;/button&gt;&lt;button&gt;ËÆæÁΩÆtext&lt;/button&gt;&lt;button&gt;Ëé∑Âèñtext&lt;/button&gt;&lt;button&gt;ËÆæÁΩÆvalue&lt;/button&gt;&lt;button&gt;Ëé∑Âèñvalue&lt;/button&gt;&lt;div&gt;&lt;/div&gt;&lt;input type="text"&gt; 21-jQueryÊìç‰ΩúCSSÊ†∑ÂºèÁöÑÊñπÊ≥ï1234567891011121314151617181920212223&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å // 1.ÈÄê‰∏™ËÆæÁΩÆ $("div").css("width", "100px"); $("div").css("height", "100px"); $("div").css("background", "red"); // 2.ÈìæÂºèËÆæÁΩÆ // Ê≥®ÊÑèÁÇπ: ÈìæÂºèÊìç‰ΩúÂ¶ÇÊûúÂ§ß‰∫é3Ê≠•, Âª∫ËÆÆÂàÜÂºÄ $("div").css("width", "100px").css("height", "100px").css("background", "blue"); // 3.ÊâπÈáèËÆæÁΩÆ $("div").css(&#123; width: "100px", height: "100px", background: "red" &#125;); // 4.Ëé∑ÂèñCSSÊ†∑ÂºèÂÄº console.log($("div").css("background"));; &#125;); &lt;/script&gt; 22-jQuery‰ΩçÁΩÆÂíåÂ∞∫ÂØ∏Êìç‰ΩúÁöÑÊñπÊ≥ï123456789101112131415161718192021222324252627282930313233343536373839404142&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å var btns = document.getElementsByTagName("button"); // ÁõëÂê¨Ëé∑Âèñ btns[0].onclick = function () &#123; // Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ // console.log($(".father").width()); // offset([coordinates]) // ‰ΩúÁî®: Ëé∑ÂèñÂÖÉÁ¥†Ë∑ùÁ¶ªÁ™óÂè£ÁöÑÂÅèÁßª‰Ωç // console.log($(".son").offset().left); // position() // ‰ΩúÁî®: Ëé∑ÂèñÂÖÉÁ¥†Ë∑ùÁ¶ªÂÆö‰ΩçÂÖÉÁ¥†ÁöÑÂÅèÁßª‰Ωç console.log($(".son").position().left); &#125; // ÁõëÂê¨ËÆæÁΩÆ btns[1].onclick = function () &#123; // ËÆæÁΩÆÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ // $(".father").width("500px") // $(".son").offset(&#123; // left: 10 // &#125;); // Ê≥®ÊÑèÁÇπ: positionÊñπÊ≥ïÂè™ËÉΩËé∑Âèñ‰∏çËÉΩËÆæÁΩÆ // $(".son").position(&#123; // left: 10 // &#125;); $(".son").css(&#123; left: "10px" &#125;); &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="father"&gt; &lt;div class="son"&gt;&lt;/div&gt;&lt;/div&gt;&lt;button&gt;Ëé∑Âèñ&lt;/button&gt;&lt;button&gt;ËÆæÁΩÆ&lt;/button&gt; 23-jQueryÁöÑscrollTopÊñπÊ≥ï123456789101112131415161718192021&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å var btns = document.getElementsByTagName("button"); // ÁõëÂê¨Ëé∑Âèñ btns[0].onclick = function () &#123; // Ëé∑ÂèñÊªöÂä®ÁöÑÂÅèÁßª‰Ωç // console.log($(".scroll").scrollTop()); // Ëé∑ÂèñÁΩëÈ°µÊªöÂä®ÁöÑÂÅèÁßª‰Ωç // Ê≥®ÊÑèÁÇπ: ‰∏∫‰∫Ü‰øùËØÅÊµèËßàÂô®ÁöÑÂÖºÂÆπ, Ëé∑ÂèñÁΩëÈ°µÊªöÂä®ÁöÑÂÅèÁßª‰ΩçÈúÄË¶ÅÊåâÁÖßÂ¶Ç‰∏ãÂÜôÊ≥ï console.log($("body").scrollTop()+$("html").scrollTop()); &#125; btns[1].onclick = function () &#123; // ËÆæÁΩÆÊªöÂä®ÁöÑÂÅèÁßª‰Ωç $(".scroll").scrollTop(300); // ËÆæÁΩÆÁΩëÈ°µÊªöÂä®ÂÅèÁßª‰Ωç // Ê≥®ÊÑèÁÇπ: ‰∏∫‰∫Ü‰øùËØÅÊµèËßàÂô®ÁöÑÂÖºÂÆπ, ËÆæÁΩÆÁΩëÈ°µÊªöÂä®ÂÅèÁßª‰ΩçÁöÑÊó∂ÂÄôÂøÖÈ°ªÊåâÁÖßÂ¶Ç‰∏ãÂÜôÊ≥ï $("html,body").scrollTop(300); &#125; &#125;); &lt;/script&gt; 24-jQuery‰∫ã‰ª∂ÁªëÂÆö123456789101112131415161718192021222324252627282930313233343536373839&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å /* jQuery‰∏≠Êúâ‰∏§ÁßçÁªëÂÆö‰∫ã‰ª∂ÊñπÂºè 1.eventName(fn); ÁºñÁ†ÅÊïàÁéáÁï•È´ò/ ÈÉ®ÂàÜ‰∫ã‰ª∂jQueryÊ≤°ÊúâÂÆûÁé∞,ÊâÄ‰ª•‰∏çËÉΩÊ∑ªÂä† 2.on(eventName, fn); ÁºñÁ†ÅÊïàÁéáÁï•‰Ωé/ ÊâÄÊúâjs‰∫ã‰ª∂ÈÉΩÂèØ‰ª•Ê∑ªÂä† Ê≥®ÊÑèÁÇπ: ÂèØ‰ª•Ê∑ªÂä†Â§ö‰∏™Áõ∏ÂêåÊàñËÄÖ‰∏çÂêåÁ±ªÂûãÁöÑ‰∫ã‰ª∂,‰∏ç‰ºöË¶ÜÁõñ */ // $("button").click(function () &#123; // alert("hello lnj"); // &#125;); // $("button").click(function () &#123; // alert("hello 123"); // &#125;); // $("button").mouseleave(function () &#123; // alert("hello mouseleave"); // &#125;); // $("button").mouseenter(function () &#123; // alert("hello mouseenter"); // &#125;); $("button").on("click", function () &#123; alert("hello click1"); &#125;); $("button").on("click", function () &#123; alert("hello click2"); &#125;); $("button").on("mouseleave", function () &#123; alert("hello mouseleave"); &#125;); $("button").on("mouseenter", function () &#123; alert("hello mouseenter"); &#125;); &#125;); &lt;/script&gt; 25-jQuery‰∫ã‰ª∂ÁßªÈô§1234567891011121314151617181920212223242526&lt;script&gt; $(function () &#123; function test1() &#123; alert("hello lnj"); &#125; function test2() &#123; alert("hello 123"); &#125; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $("button").click(test1); $("button").click(test2); $("button").mouseleave(function () &#123; alert("hello mouseleave"); &#125;); $("button").mouseenter(function () &#123; alert("hello mouseenter"); &#125;); // offÊñπÊ≥ïÂ¶ÇÊûú‰∏ç‰º†ÈÄíÂèÇÊï∞, ‰ºöÁßªÈô§ÊâÄÊúâÁöÑ‰∫ã‰ª∂ // $("button").off(); // offÊñπÊ≥ïÂ¶ÇÊûú‰º†ÈÄí‰∏Ä‰∏™ÂèÇÊï∞, ‰ºöÁßªÈô§ÊâÄÊúâÊåáÂÆöÁ±ªÂûãÁöÑ‰∫ã‰ª∂ // $("button").off("click"); // offÊñπÊ≥ïÂ¶ÇÊûú‰º†ÈÄí‰∏§‰∏™ÂèÇÊï∞, ‰ºöÁßªÈô§ÊâÄÊúâÊåáÂÆöÁ±ªÂûãÁöÑÊåáÂÆö‰∫ã‰ª∂ $("button").off("click", test1); &#125;); &lt;/script&gt; 26-jQuery‰∫ã‰ª∂ÂÜíÊ≥°ÂíåÈªòË°å‰∏∫123456789101112131415161718192021222324252627282930313233343536 &lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å /* 1.‰ªÄ‰πàÊòØ‰∫ã‰ª∂ÂÜíÊ≥°? 2.Â¶Ç‰ΩïÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥° 3.‰ªÄ‰πàÊòØÈªòËÆ§Ë°å‰∏∫? 4.Â¶Ç‰ΩïÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫ */ /* $(".son").click(function (event) &#123; alert("son"); // return false; event.stopPropagation(); &#125;); $(".father").click(function () &#123; alert("father"); &#125;); */ $("a").click(function (event) &#123; alert("ÂºπÂá∫Ê≥®ÂÜåÊ°Ü"); // return false; event.preventDefault(); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="father"&gt; &lt;div class="son"&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.baidu.com"&gt;Ê≥®ÂÜå&lt;/a&gt;&lt;form action="http://www.taobao.com"&gt; &lt;input type="text"&gt; &lt;input type="submit"&gt;&lt;/form&gt; 26-jQuery‰∫ã‰ª∂ÂÜíÊ≥°ÂíåÈªòË°å‰∏∫12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $(".son").click(function (event) &#123; alert("son"); &#125;); $(".father").click(function () &#123; alert("father"); &#125;); // $(".father").trigger("click"); // $(".father").triggerHandler("click"); /* trigger: Â¶ÇÊûúÂà©Áî®triggerËá™Âä®Ëß¶Âèë‰∫ã‰ª∂,‰ºöËß¶Âèë‰∫ã‰ª∂ÂÜíÊ≥° triggerHandler: Â¶ÇÊûúÂà©Áî®triggerHandlerËá™Âä®Ëß¶Âèë‰∫ã‰ª∂, ‰∏ç‰ºöËß¶Âèë‰∫ã‰ª∂ÂÜíÊ≥° */ // $(".son").trigger("click"); // $(".son").triggerHandler("click"); $("input[type='submit']").click(function () &#123; alert("submit"); &#125;); /* trigger: Â¶ÇÊûúÂà©Áî®triggerËá™Âä®Ëß¶Âèë‰∫ã‰ª∂,‰ºöËß¶ÂèëÈªòËÆ§Ë°å‰∏∫ triggerHandler: Â¶ÇÊûúÂà©Áî®triggerHandlerËá™Âä®Ëß¶Âèë‰∫ã‰ª∂, ‰∏ç‰ºöËß¶ÂèëÈªòËÆ§Ë°å‰∏∫ */ // $("input[type='submit']").trigger("click"); // $("input[type='submit']").triggerHandler("click"); $("span").click(function () &#123; alert("a"); &#125;); // $("a").triggerHandler("click"); $("span").trigger("click"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="father"&gt; &lt;div class="son"&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.baidu.com"&gt;&lt;span&gt;Ê≥®ÂÜå&lt;/span&gt;&lt;/a&gt;&lt;form action="http://www.taobao.com"&gt; &lt;input type="text"&gt; &lt;input type="submit"&gt;&lt;/form&gt; 26-jQuery‰∫ã‰ª∂ÂÜíÊ≥°ÂíåÈªòË°å‰∏∫1234567891011121314151617&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å // $(".son").myClick(function (event) &#123; // alert("son"); // &#125;); /* ÊÉ≥Ë¶ÅËá™ÂÆö‰πâ‰∫ã‰ª∂, ÂøÖÈ°ªÊª°Ë∂≥‰∏§‰∏™Êù°‰ª∂ 1.‰∫ã‰ª∂ÂøÖÈ°ªÊòØÈÄöËøáonÁªëÂÆöÁöÑ 2.‰∫ã‰ª∂ÂøÖÈ°ªÈÄöËøátriggerÊù•Ëß¶Âèë */ $(".son").on("myClick", function () &#123; alert("son"); &#125;); $(".son").triggerHandler("myClick"); &#125;); &lt;/script&gt; 26-jQuery‰∫ã‰ª∂Ëá™Âä®Ëß¶Âèë123456789101112131415161718192021222324252627282930313233343536373839&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $(".son").click(function (event) &#123; alert("son"); &#125;); $(".father").click(function () &#123; alert("father"); &#125;); // $(".father").trigger("click"); // $(".father").triggerHandler("click"); /* trigger: Â¶ÇÊûúÂà©Áî®triggerËá™Âä®Ëß¶Âèë‰∫ã‰ª∂,‰ºöËß¶Âèë‰∫ã‰ª∂ÂÜíÊ≥° triggerHandler: Â¶ÇÊûúÂà©Áî®triggerHandlerËá™Âä®Ëß¶Âèë‰∫ã‰ª∂, ‰∏ç‰ºöËß¶Âèë‰∫ã‰ª∂ÂÜíÊ≥° */ // $(".son").trigger("click"); // $(".son").triggerHandler("click"); $("input[type='submit']").click(function () &#123; alert("submit"); &#125;); /* trigger: Â¶ÇÊûúÂà©Áî®triggerËá™Âä®Ëß¶Âèë‰∫ã‰ª∂,‰ºöËß¶ÂèëÈªòËÆ§Ë°å‰∏∫ triggerHandler: Â¶ÇÊûúÂà©Áî®triggerHandlerËá™Âä®Ëß¶Âèë‰∫ã‰ª∂, ‰∏ç‰ºöËß¶ÂèëÈªòËÆ§Ë°å‰∏∫ */ // $("input[type='submit']").trigger("click"); // $("input[type='submit']").triggerHandler("click"); $("span").click(function () &#123; alert("a"); &#125;); // $("a").triggerHandler("click"); $("span").trigger("click"); &#125;); &lt;/script&gt; 28 JqueryËá™ÂÆö‰πâ‰∫ã‰ª∂12345678910111213141516171819202122232425262728 &lt;script src="js/jquery-1.12.4.js"&gt;&lt;/script&gt; &lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å // $(".son").myClick(function (event) &#123; // alert("son"); // &#125;); /* ÊÉ≥Ë¶ÅËá™ÂÆö‰πâ‰∫ã‰ª∂, ÂøÖÈ°ªÊª°Ë∂≥‰∏§‰∏™Êù°‰ª∂ 1.‰∫ã‰ª∂ÂøÖÈ°ªÊòØÈÄöËøáonÁªëÂÆöÁöÑ 2.‰∫ã‰ª∂ÂøÖÈ°ªÈÄöËøátriggerÊù•Ëß¶Âèë */ $(".son").on("myClick", function () &#123; alert("son"); &#125;); $(".son").triggerHandler("myClick"); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="father"&gt; &lt;div class="son"&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.baidu.com"&gt;&lt;span&gt;Ê≥®ÂÜå&lt;/span&gt;&lt;/a&gt;&lt;form action="http://www.taobao.com"&gt; &lt;input type="text"&gt; &lt;input type="submit"&gt;&lt;/form&gt; 29Jquery‰∫ã‰ª∂ÂëΩÂêçÁ©∫Èó¥123456789101112131415161718&lt;script&gt; $(function () &#123; /* ÊÉ≥Ë¶Å‰∫ã‰ª∂ÁöÑÂëΩÂêçÁ©∫Èó¥ÊúâÊïà,ÂøÖÈ°ªÊª°Ë∂≥‰∏§‰∏™Êù°‰ª∂ 1.‰∫ã‰ª∂ÊòØÈÄöËøáonÊù•ÁªëÂÆöÁöÑ 2.ÈÄöËøátriggerËß¶Âèë‰∫ã‰ª∂ */ $(".son").on("click.zs", function () &#123; alert("click1"); &#125;); $(".son").on("click.ls", function () &#123; alert("click2"); &#125;); // $(".son").trigger("click.zs"); $(".son").trigger("click.ls"); &#125;); &lt;/script&gt; 30JqueryÂëΩÂêçÁ©∫Èó¥Èù¢ËØïÈ¢ò1234567891011121314151617181920&lt;script&gt; $(function () &#123; $(".father").on("click.ls", function () &#123; alert("father click1"); &#125;); $(".father").on("click", function () &#123; alert("father click2"); &#125;); $(".son").on("click.ls", function () &#123; alert("son click1"); &#125;); /* Âà©Áî®triggerËß¶ÂèëÂ≠êÂÖÉÁ¥†Â∏¶ÂëΩÂêçÁ©∫Èó¥ÁöÑ‰∫ã‰ª∂, ÈÇ£‰πàÁà∂ÂÖÉÁ¥†Â∏¶Áõ∏ÂêåÂëΩÂêçÁ©∫Èó¥ÁöÑ‰∫ã‰ª∂‰πü‰ºöË¢´Ëß¶Âèë. ËÄåÁà∂ÂÖÉÁ¥†Ê≤°ÊúâÂëΩÂêçÁ©∫Èó¥ÁöÑ‰∫ã‰ª∂‰∏ç‰ºöË¢´Ëß¶Âèë Âà©Áî®triggerËß¶ÂèëÂ≠êÂÖÉÁ¥†‰∏çÂ∏¶ÂëΩÂêçÁ©∫Èó¥ÁöÑ‰∫ã‰ª∂,ÈÇ£‰πàÂ≠êÂÖÉÁ¥†ÊâÄÊúâÁõ∏ÂêåÁ±ªÂûãÁöÑ‰∫ã‰ª∂ÂíåÁà∂ÂÖÉÁ¥†ÊâÄÊúâÁõ∏ÂêåÁ±ªÂûãÁöÑ‰∫ã‰ª∂ÈÉΩ‰ºöË¢´Ëß¶Âèë */ // $(".son").trigger("click.ls"); $(".son").trigger("click"); &#125;); &lt;/script&gt; 31-jQuery‰∫ã‰ª∂ÂßîÊâò1234567891011121314151617181920212223242526&lt;script&gt; $(function () &#123; /* 1.‰ªÄ‰πàÊòØ‰∫ã‰ª∂ÂßîÊâò? ËØ∑Âà´‰∫∫Â∏ÆÂøôÂÅö‰∫ãÊÉÖ, ÁÑ∂ÂêéÂ∞ÜÂÅöÂÆåÁöÑÁªìÊûúÂèçÈ¶àÁªôÊàë‰ª¨ */ $("button").click(function () &#123; $("ul").append("&lt;li&gt;ÊàëÊòØÊñ∞Â¢ûÁöÑli&lt;/li&gt;"); &#125;) /* Âú®jQuery‰∏≠,Â¶ÇÊûúÈÄöËøáÊ†∏ÂøÉÂáΩÊï∞ÊâæÂà∞ÁöÑÂÖÉÁ¥†‰∏çÊ≠¢‰∏Ä‰∏™, ÈÇ£‰πàÂú®Ê∑ªÂä†‰∫ã‰ª∂ÁöÑÊó∂ÂÄô,jQuery‰ºöÈÅçÂéÜÊâÄÊúâÊâæÂà∞ÁöÑÂÖÉÁ¥†,ÁªôÊâÄÊúâÊâæÂà∞ÁöÑÂÖÉÁ¥†Ê∑ªÂä†‰∫ã‰ª∂ */ // $("ul&gt;li").click(function () &#123; // console.log($(this).html()); // &#125;); /* ‰ª•‰∏ã‰ª£Á†ÅÁöÑÂê´‰πâ, ËÆ©ulÂ∏ÆliÁõëÂê¨click‰∫ã‰ª∂ ‰πãÊâÄ‰ª•ËÉΩÂ§üÁõëÂê¨, ÊòØÂõ†‰∏∫ÂÖ•Âè£ÂáΩÊï∞ÊâßË°åÁöÑÊó∂ÂÄôulÂ∞±Â∑≤ÁªèÂ≠òÂú®‰∫Ü, ÊâÄ‰ª•ËÉΩÂ§üÊ∑ªÂä†‰∫ã‰ª∂ ‰πãÊâÄ‰ª•thisÊòØli,ÊòØÂõ†‰∏∫Êàë‰ª¨ÁÇπÂáªÁöÑÊòØli, ËÄåliÊ≤°Êúâclick‰∫ã‰ª∂, ÊâÄ‰ª•‰∫ã‰ª∂ÂÜíÊ≥°‰º†ÈÄíÁªô‰∫Üul,ulÂìçÂ∫î‰∫Ü‰∫ã‰ª∂, Êó¢ÁÑ∂‰∫ã‰ª∂ÊòØ‰ªéli‰º†ÈÄíËøáÊù•ÁöÑ,ÊâÄ‰ª•ulÂøÖÁÑ∂ÊåáÂÆöthisÊòØË∞Å */ $("ul").delegate("li", "click", function () &#123; console.log($(this).html()); &#125;); &#125;); &lt;/script&gt; 32-jQuery‰∫ã‰ª∂ÂßîÊâòÁªÉ‰π†1234567891011121314151617181920&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $("a").click(function () &#123; var $mask = $("&lt;div class=\"mask\"&gt;\n" + " &lt;div class=\"login\"&gt;\n" + " &lt;img src=\"images/login.png\" alt=\"\"&gt;\n" + " &lt;span&gt;&lt;/span&gt;\n" + " &lt;/div&gt;\n" + "&lt;/div&gt;"); // Ê∑ªÂä†ËíôÁâà $("body").append($mask); $("body").delegate(".login&gt;span", "click", function () &#123; // ÁßªÈô§ËíôÁâà $mask.remove(); &#125;); return false; &#125;); &#125;); &lt;/script&gt; 33-jQueryÁßªÂÖ•ÁßªÂá∫‰∫ã‰ª∂1234567891011121314151617181920212223242526272829303132333435363738394041&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å /* mouseover/mouseout‰∫ã‰ª∂, Â≠êÂÖÉÁ¥†Ë¢´ÁßªÂÖ•ÁßªÂá∫‰πü‰ºöËß¶ÂèëÁà∂ÂÖÉÁ¥†ÁöÑ‰∫ã‰ª∂ */ /* $(".father").mouseover(function () &#123; console.log("fatherË¢´ÁßªÂÖ•‰∫Ü"); &#125;); $(".father").mouseout(function () &#123; console.log("fatherË¢´ÁßªÂá∫‰∫Ü"); &#125;); */ /* mouseenter/mouseleave‰∫ã‰ª∂, Â≠êÂÖÉÁ¥†Ë¢´ÁßªÂÖ•ÁßªÂá∫‰∏ç‰ºöËß¶ÂèëÁà∂ÂÖÉÁ¥†ÁöÑ‰∫ã‰ª∂ Êé®ËçêÂ§ßÂÆ∂‰ΩøÁî® */ /* $(".father").mouseenter(function () &#123; console.log("fatherË¢´ÁßªÂÖ•‰∫Ü"); &#125;); $(".father").mouseleave(function () &#123; console.log("fatherË¢´ÁßªÂá∫‰∫Ü"); &#125;); */ /* $(".father").hover(function () &#123; console.log("fatherË¢´ÁßªÂÖ•‰∫Ü"); &#125;,function () &#123; console.log("fatherË¢´ÁßªÂá∫‰∫Ü"); &#125;); */ $(".father").hover(function () &#123; console.log("fatherË¢´ÁßªÂÖ•ÁßªÂá∫‰∫Ü"); &#125;); &#125;); &lt;/script&gt; 34-ÁîµÂΩ±ÊéíË°åÊ¶ú‰∏ä1234567891011121314151617181920&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å /* // 1.ÁõëÂê¨liÁöÑÁßªÂÖ•‰∫ã‰ª∂ $(&quot;li&quot;).mouseenter(function () &#123; $(this).addClass(&quot;current&quot;); &#125;); // 2.ÁõëÂê¨liÁöÑÁßªÂá∫‰∫ã‰ª∂ $(&quot;li&quot;).mouseleave(function () &#123; $(this).removeClass(&quot;current&quot;); &#125;); */ $(&quot;li&quot;).hover(function () &#123; $(this).addClass(&quot;current&quot;); &#125;, function () &#123; $(this).removeClass(&quot;current&quot;); &#125;); &#125;); &lt;/script&gt; 36-TABÈÄâÈ°πÂç°‰∏ä1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374&lt;script&gt; $(function () &#123; // 1.ÁõëÂê¨ÈÄâÈ°πÂç°ÁöÑÁßªÂÖ•‰∫ã‰ª∂ $(&quot;.nav&gt;li&quot;).mouseenter(function () &#123; // 1.1‰øÆÊîπË¢´ÁßªÂÖ•ÈÄâÈ°πÂç°ÁöÑËÉåÊôØÈ¢úËâ≤ $(this).addClass(&quot;current&quot;); // 1.2Ëé∑ÂèñÂΩìÂâçÁßªÂÖ•ÈÄâÈ°πÂç°ÁöÑÁ¥¢Âºï var index = $(this).index(); // 1.3Ê†πÊçÆÁ¥¢ÂºïÊâæÂà∞ÂØπÂ∫îÁöÑÂõæÁâá var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.4ÊòæÁ§∫ÊâæÂà∞ÁöÑÂõæÁâá $li.addClass(&quot;show&quot;); &#125;); // 1.ÁõëÂê¨ÈÄâÈ°πÂç°ÁöÑÁßªÂá∫‰∫ã‰ª∂ $(&quot;.nav&gt;li&quot;).mouseleave(function () &#123; // 1.1ËøòÂéüÈÄâÈ°πÂç°ÁöÑËÉåÊôØÈ¢úËâ≤ $(this).removeClass(&quot;current&quot;); // 1.2Ëé∑ÂèñÂΩìÂâçÁßªÂá∫ÈÄâÈ°πÂç°ÁöÑÁ¥¢Âºï var index = $(this).index(); // 1.3Ê†πÊçÆÁ¥¢ÂºïÊâæÂà∞ÂØπÂ∫îÁöÑÂõæÁâá var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.4ÈöêËóèÂØπÂ∫îÁöÑÂõæÁâá $li.removeClass(&quot;show&quot;); &#125;); &#125;); &lt;/script&gt; &lt;script&gt; $(function () &#123; /* // 1.ÁõëÂê¨ÈÄâÈ°πÂç°ÁöÑÁßªÂÖ•‰∫ã‰ª∂ $(&quot;.nav&gt;li&quot;).mouseenter(function () &#123; // 1.1‰øÆÊîπË¢´ÁßªÂÖ•ÈÄâÈ°πÂç°ÁöÑËÉåÊôØÈ¢úËâ≤ $(this).addClass(&quot;current&quot;); // 1.2Ëé∑ÂèñÂΩìÂâçÁßªÂÖ•ÈÄâÈ°πÂç°ÁöÑÁ¥¢Âºï var index = $(this).index(); // 1.3Ê†πÊçÆÁ¥¢ÂºïÊâæÂà∞ÂØπÂ∫îÁöÑÂõæÁâá var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.4ÊòæÁ§∫ÊâæÂà∞ÁöÑÂõæÁâá $li.addClass(&quot;show&quot;); &#125;); // 1.ÁõëÂê¨ÈÄâÈ°πÂç°ÁöÑÁßªÂá∫‰∫ã‰ª∂ $(&quot;.nav&gt;li&quot;).mouseleave(function () &#123; // 1.1ËøòÂéüÈÄâÈ°πÂç°ÁöÑËÉåÊôØÈ¢úËâ≤ $(this).removeClass(&quot;current&quot;); // 1.2Ëé∑ÂèñÂΩìÂâçÁßªÂá∫ÈÄâÈ°πÂç°ÁöÑÁ¥¢Âºï var index = $(this).index(); // 1.3Ê†πÊçÆÁ¥¢ÂºïÊâæÂà∞ÂØπÂ∫îÁöÑÂõæÁâá var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.4ÈöêËóèÂØπÂ∫îÁöÑÂõæÁâá $li.removeClass(&quot;show&quot;); &#125;); */ // 1.ÁõëÂê¨ÈÄâÈ°πÂç°ÁöÑÁßªÂÖ•‰∫ã‰ª∂ $(&quot;.nav&gt;li&quot;).mouseenter(function () &#123; // 1.1‰øÆÊîπË¢´ÁßªÂÖ•ÈÄâÈ°πÂç°ÁöÑËÉåÊôØÈ¢úËâ≤ $(this).addClass(&quot;current&quot;); // 1.2ËøòÂéüÂÖ∂ÂÆÉÂÖÑÂºüÈÄâÈ°πÂç°ÁöÑËÉåÊôØÈ¢úËâ≤ $(this).siblings().removeClass(&quot;current&quot;); // 1.3Ëé∑ÂèñÂΩìÂâçÁßªÂá∫ÈÄâÈ°πÂç°ÁöÑÁ¥¢Âºï var index = $(this).index(); // 1.4Ê†πÊçÆÁ¥¢ÂºïÊâæÂà∞ÂØπÂ∫îÁöÑÂõæÁâá var $li = $(&quot;.content&gt;li&quot;).eq(index); // 1.5ÈöêËóèÈùûÂΩìÂâçÁöÑÂÖ∂ÂÆÉÂõæÁâá $li.siblings().removeClass(&quot;show&quot;); // 1.6ÊòæÁ§∫ÂØπÂ∫îÁöÑÂõæÁâá $li.addClass(&quot;show&quot;); &#125;); &#125;); &lt;/script&gt; 39-jQueryÊòæÁ§∫ÂíåÈöêËóèÂä®Áîª123456789101112131415161718192021222324&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $("button").eq(0).click(function () &#123; // $("div").css("display", "block"); // Ê≥®ÊÑè: ËøôÈáåÁöÑÊó∂Èó¥ÊòØÊØ´Áßí $("div").show(1000, function () &#123; // ‰ΩúÁî®: Âä®ÁîªÊâßË°åÂÆåÊØï‰πãÂêéË∞ÉÁî® alert("ÊòæÁ§∫Âä®ÁîªÊâßË°åÂÆåÊØï"); &#125;); &#125;); $("button").eq(1).click(function () &#123; // $("div").css("display", "none"); $("div").hide(1000, function () &#123; alert("ÈöêËóèÂä®ÁîªÊâßË°åÂÆåÊØï"); &#125;); &#125;); $("button").eq(2).click(function () &#123; $("div").toggle(1000, function () &#123; alert("ÂàáÊç¢Âä®ÁîªÊâßË°åÂÆåÊØï"); &#125;); &#125;); &#125;); &lt;/script&gt; 40-ÂØπËÅîÂπøÂëä123456789101112131415161718&lt;script&gt; $(function () &#123; // 1.ÁõëÂê¨ÁΩëÈ°µÁöÑÊªöÂä® $(window).scroll(function () &#123; // 1.1Ëé∑ÂèñÁΩëÈ°µÊªöÂä®ÁöÑÂÅèÁßª‰Ωç var offset = $("html,body").scrollTop(); // 1.2Âà§Êñ≠ÁΩëÈ°µÊòØÂê¶ÊªöÂä®Âà∞‰∫ÜÊåáÂÆöÁöÑ‰ΩçÁΩÆ if(offset &gt;= 500)&#123; // 1.3ÊòæÁ§∫ÂπøÂëä $("img").show(1000); &#125;else&#123; // 1.4ÈöêËóèÂπøÂëä $("img").hide(1000); &#125; &#125;); &#125;); &lt;/script&gt; 41-jQueryÂ±ïÂºÄÂíåÊî∂Ëµ∑Âä®Áîª1234567891011121314151617181920&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $("button").eq(0).click(function () &#123; $("div").slideDown(1000, function () &#123; alert("Â±ïÂºÄÂÆåÊØï"); &#125;); &#125;); $("button").eq(1).click(function () &#123; $("div").slideUp(1000, function () &#123; alert("Êî∂Ëµ∑ÂÆåÊØï"); &#125;); &#125;); $("button").eq(2).click(function () &#123; $("div").slideToggle(1000, function () &#123; alert("Êî∂Ëµ∑ÂÆåÊØï"); &#125;); &#125;); &#125;); &lt;/script&gt; 43-ÊäòÂè†ËèúÂçï‰∏ã12345678910111213141516171819&lt;script&gt; $(function () &#123; // 1.ÁõëÂê¨‰∏ÄÁ∫ßËèúÂçïÁöÑÁÇπÂáª‰∫ã‰ª∂ $(&quot;.nav&gt;li&quot;).click(function () &#123; // 1.1ÊãøÂà∞‰∫åÁ∫ßËèúÂçï var $sub = $(this).children(&quot;.sub&quot;); // 1.2ËÆ©‰∫åÁ∫ßËèúÂçïÂ±ïÂºÄ $sub.slideDown(1000); // 1.3ÊãøÂà∞ÊâÄÊúâÈùûÂΩìÂâçÁöÑ‰∫åÁ∫ßËèúÂçï var otherSub = $(this).siblings().children(&quot;.sub&quot;); // 1.4ËÆ©ÊâÄÊúâÈùûÂΩìÂâçÁöÑ‰∫åÁ∫ßËèúÂçïÊî∂Ëµ∑ otherSub.slideUp(1000); // 1.5ËÆ©Ë¢´ÁÇπÂáªÁöÑ‰∏ÄÁ∫ßËèúÂçïÁÆ≠Â§¥ÊóãËΩ¨ $(this).addClass(&quot;current&quot;); // 1.6ËÆ©ÊâÄÊúâÈùûË¢´ÁÇπÂáªÁöÑ‰∏ÄÁ∫ßËèúÂçïÁÆ≠Â§¥ËøòÂéü $(this).siblings().removeClass(&quot;current&quot;); &#125;); &#125;); &lt;/script&gt; 44-‰∏ãÊãâËèúÂçï1234567891011121314151617181920212223242526&lt;script&gt; $(function () &#123; /* Âú®jQuery‰∏≠Â¶ÇÊûúÈúÄË¶ÅÊâßË°åÂä®Áîª, Âª∫ËÆÆÂú®ÊâßË°åÂä®Áîª‰πãÂâçÂÖàË∞ÉÁî®stopÊñπÊ≥ï,ÁÑ∂ÂêéÂÜçÊâßË°åÂä®Áîª */ // 1.ÁõëÂê¨‰∏ÄÁ∫ßËèúÂçïÁöÑÁßªÂÖ•‰∫ã‰ª∂ $(&quot;.nav&gt;li&quot;).mouseenter(function () &#123; // 1.1ÊãøÂà∞‰∫åÁ∫ßËèúÂçï var $sub = $(this).children(&quot;.sub&quot;); // ÂÅúÊ≠¢ÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑÂä®ÁîªÔºö $sub.stop(); // 1.2ËÆ©‰∫åÁ∫ßËèúÂçïÂ±ïÂºÄ $sub.slideDown(1000); &#125;); // 2.ÁõëÂê¨‰∏ÄÁ∫ßËèúÂçïÁöÑÁßªÂá∫‰∫ã‰ª∂ $(&quot;.nav&gt;li&quot;).mouseleave(function () &#123; // 1.1ÊãøÂà∞‰∫åÁ∫ßËèúÂçï var $sub = $(this).children(&quot;.sub&quot;); // ÂÅúÊ≠¢ÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑÂä®ÁîªÔºö $sub.stop(); // 1.2ËÆ©‰∫åÁ∫ßËèúÂçïÊî∂Ëµ∑ $sub.slideUp(1000); &#125;); &#125;); &lt;/script&gt; 45-jQueryÊ∑°ÂÖ•Ê∑°Âá∫Âä®Áîª12345678910111213141516171819202122232425&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $(&quot;button&quot;).eq(0).click(function () &#123; $(&quot;div&quot;).fadeIn(1000, function () &#123; alert(&quot;Ê∑°ÂÖ•ÂÆåÊØï&quot;); &#125;); &#125;); $(&quot;button&quot;).eq(1).click(function () &#123; $(&quot;div&quot;).fadeOut(1000, function () &#123; alert(&quot;Ê∑°Âá∫ÂÆåÊØï&quot;); &#125;); &#125;); $(&quot;button&quot;).eq(2).click(function () &#123; $(&quot;div&quot;).fadeToggle(1000, function () &#123; alert(&quot;ÂàáÊç¢ÂÆåÊØï&quot;); &#125;); &#125;); $(&quot;button&quot;).eq(3).click(function () &#123; $(&quot;div&quot;).fadeTo(1000, 0.2, function () &#123; alert(&quot;Ê∑°ÂÖ•ÂÆåÊØï&quot;); &#125;) &#125;); &#125;); &lt;/script&gt; 46-ÂºπÁ™óÂπøÂëä12345678910111213141516171819&lt;script&gt; $(function () &#123; // 1.ÁõëÂê¨spanÁöÑÁÇπÂáª‰∫ã‰ª∂ $(&quot;span&quot;).click(function () &#123; $(&quot;.ad&quot;).remove(); &#125;); // 2.ÊâßË°åÂπøÂëäÂä®Áîª /* $(&quot;.ad&quot;).slideDown(1000, function () &#123; $(&quot;.ad&quot;).fadeOut(1000, function () &#123; $(&quot;.ad&quot;).fadeIn(1000); &#125;); &#125;); */ $(&quot;.ad&quot;).stop().slideDown(1000).fadeOut(1000).fadeIn(1000); &#125;); &lt;/script&gt; 47-jQueryËá™ÂÆö‰πâÂä®Áîª123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $(&quot;button&quot;).eq(0).click(function () &#123; /* $(&quot;.one&quot;).animate(&#123; width: 500 &#125;, 1000, function () &#123; alert(&quot;Ëá™ÂÆö‰πâÂä®ÁîªÊâßË°åÂÆåÊØï&quot;); &#125;); */ $(&quot;.one&quot;).animate(&#123; marginLeft: 500 &#125;, 5000, function () &#123; // alert(&quot;Ëá™ÂÆö‰πâÂä®ÁîªÊâßË°åÂÆåÊØï&quot;); &#125;); /* Á¨¨‰∏Ä‰∏™ÂèÇÊï∞: Êé•Êî∂‰∏Ä‰∏™ÂØπË±°, ÂèØ‰ª•Âú®ÂØπË±°‰∏≠‰øÆÊîπÂ±ûÊÄß Á¨¨‰∫å‰∏™ÂèÇÊï∞: ÊåáÂÆöÂä®ÁîªÊó∂Èïø Á¨¨‰∏â‰∏™ÂèÇÊï∞: ÊåáÂÆöÂä®ÁîªËäÇÂ•è, ÈªòËÆ§Â∞±ÊòØswing Á¨¨Âõõ‰∏™ÂèÇÊï∞: Âä®ÁîªÊâßË°åÂÆåÊØï‰πãÂêéÁöÑÂõûË∞ÉÂáΩÊï∞ */ $(&quot;.two&quot;).animate(&#123; marginLeft: 500 &#125;, 5000, &quot;linear&quot;, function () &#123; // alert(&quot;Ëá™ÂÆö‰πâÂä®ÁîªÊâßË°åÂÆåÊØï&quot;); &#125;); &#125;) $(&quot;button&quot;).eq(1).click(function () &#123; $(&quot;.one&quot;).animate(&#123; width: &quot;+=100&quot; &#125;, 1000, function () &#123; alert(&quot;Ëá™ÂÆö‰πâÂä®ÁîªÊâßË°åÂÆåÊØï&quot;); &#125;); &#125;); $(&quot;button&quot;).eq(2).click(function () &#123; $(&quot;.one&quot;).animate(&#123; // width: &quot;hide&quot; width: &quot;toggle&quot; &#125;, 1000, function () &#123; alert(&quot;Ëá™ÂÆö‰πâÂä®ÁîªÊâßË°åÂÆåÊØï&quot;); &#125;); &#125;) &#125;); &lt;/script&gt; 48-jQueryÁöÑstopÂíådelayÊñπÊ≥ï123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;script&gt; $(function () &#123; // ÁºñÂÜôjQueryÁõ∏ÂÖ≥‰ª£Á†Å $(&quot;button&quot;).eq(0).click(function () &#123; /* Âú®jQueryÁöÑ&#123;&#125;‰∏≠ÂèØ‰ª•ÂêåÊó∂‰øÆÊîπÂ§ö‰∏™Â±ûÊÄß, Â§ö‰∏™Â±ûÊÄßÁöÑÂä®Áîª‰πü‰ºöÂêåÊó∂ÊâßË°å */ /* $(&quot;.one&quot;).animate(&#123; width: 500 // height: 500 &#125;, 1000); $(&quot;.one&quot;).animate(&#123; height: 500 &#125;, 1000); */ /* delayÊñπÊ≥ïÁöÑ‰ΩúÁî®Â∞±ÊòØÁî®‰∫éÂëäËØâÁ≥ªÁªüÂª∂ËøüÊó∂Èïø */ /* $(&quot;.one&quot;).animate(&#123; width: 500 // height: 500 &#125;, 1000).delay(2000).animate(&#123; height: 500 &#125;, 1000); */ $(&quot;.one&quot;).animate(&#123; width: 500 &#125;, 1000); $(&quot;.one&quot;).animate(&#123; height: 500 &#125;, 1000); $(&quot;.one&quot;).animate(&#123; width: 100 &#125;, 1000); $(&quot;.one&quot;).animate(&#123; height: 100 &#125;, 1000); &#125;); $(&quot;button&quot;).eq(1).click(function () &#123; // Á´ãÂç≥ÂÅúÊ≠¢ÂΩìÂâçÂä®Áîª, ÁªßÁª≠ÊâßË°åÂêéÁª≠ÁöÑÂä®Áîª // $(&quot;div&quot;).stop(); // $(&quot;div&quot;).stop(false); // $(&quot;div&quot;).stop(false, false); // Á´ãÂç≥ÂÅúÊ≠¢ÂΩìÂâçÂíåÂêéÁª≠ÊâÄÊúâÁöÑÂä®Áîª // $(&quot;div&quot;).stop(true); // $(&quot;div&quot;).stop(true, false); // Á´ãÂç≥ÂÆåÊàêÂΩìÂâçÁöÑ, ÁªßÁª≠ÊâßË°åÂêéÁª≠Âä®Áîª // $(&quot;div&quot;).stop(false, true); // Á´ãÂç≥ÂÆåÊàêÂΩìÂâçÁöÑ, Âπ∂‰∏îÂÅúÊ≠¢ÂêéÁª≠ÊâÄÊúâÁöÑ $(&quot;div&quot;).stop(true, true); &#125;); &#125;); &lt;/script&gt; 49-ÂõæÊ†áÁâπÊïà1234567891011121314151617181920212223242526&lt;script&gt; $(function () &#123; // 1.ÈÅçÂéÜÊâÄÊúâÁöÑli $(&quot;li&quot;).each(function (index, ele) &#123; // 1.1ÁîüÊàêÊñ∞ÁöÑÂõæÁâá‰ΩçÁΩÆ var $url = &quot;url(\&quot;images/bg.png\&quot;) no-repeat 0 &quot;+(index * -24)+&quot;px&quot; // 1.2ËÆæÁΩÆÊñ∞ÁöÑÂõæÁâá‰ΩçÁΩÆ $(this).children(&quot;span&quot;).css(&quot;background&quot;, $url); &#125;); // 2.ÁõëÂê¨liÁßªÂÖ•‰∫ã‰ª∂ $(&quot;li&quot;).mouseenter(function () &#123; // 2.1Â∞ÜÂõæÊ†áÂæÄ‰∏äÁßªÂä® $(this).children(&quot;span&quot;).animate(&#123; top: -50 &#125;, 1000, function () &#123; // 2.2Â∞ÜÂõæÁâáÂæÄ‰∏ãÁßªÂä® $(this).css(&quot;top&quot;, &quot;50px&quot;); // 2.3Â∞ÜÂõæÁâáÂ§ç‰Ωç $(this).animate(&#123; top: 0 &#125;, 1000); &#125;); &#125;); &#125;); &lt;/script&gt; 50-Êó†ÈôêÂæ™ÁéØÊªöÂä®123456789101112131415161718192021222324252627282930313233&lt;script&gt; $(function () &#123; // 0.ÂÆö‰πâÂèòÈáè‰øùÂ≠òÂÅèÁßª‰Ωç var offset = 0; // 1.ËÆ©ÂõæÁâáÊªöÂä®Ëµ∑Êù• var timer; function autoPlay()&#123; timer = setInterval(function () &#123; offset += -10; if(offset &lt;= -1200)&#123; offset = 0; &#125; $(&quot;ul&quot;).css(&quot;marginLeft&quot;, offset); &#125;, 50); &#125; autoPlay(); // 2.ÁõëÂê¨liÁöÑÁßªÂÖ•ÂíåÁßªÂá∫‰∫ã‰ª∂ $(&quot;li&quot;).hover(function () &#123; // ÂÅúÊ≠¢ÊªöÂä® clearInterval(timer); // ÁªôÈùûÂΩìÂâçÈÄâ‰∏≠Ê∑ªÂä†ËíôÁâà $(this).siblings().fadeTo(100, 0.5); // ÂéªÈô§ÂΩìÂâçÈÄâ‰∏≠ÁöÑËíôÁâà $(this).fadeTo(100, 1); &#125;, function () &#123; // ÁªßÁª≠ÊªöÂä® autoPlay(); // ÂéªÈô§ÊâÄÊúâÁöÑËíôÁâà $(&quot;li&quot;).fadeTo(100, 1); &#125;); &#125;); &lt;/script&gt; 51-jQueryÊ∑ªÂä†ËäÇÁÇπÁõ∏ÂÖ≥ÊñπÊ≥ï12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849 &lt;script&gt; $(function () &#123; /* ÂÜÖÈÉ®ÊèíÂÖ• append(content|fn) appendTo(content) ‰ºöÂ∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÊåáÂÆöÂÖÉÁ¥†ÂÜÖÈÉ®ÁöÑÊúÄÂêé prepend(content|fn) prependTo(content) ‰ºöÂ∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÊåáÂÆöÂÖÉÁ¥†ÂÜÖÈÉ®ÁöÑÊúÄÂâçÈù¢ Â§ñÈÉ®ÊèíÂÖ• after(content|fn) ‰ºöÂ∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÊåáÂÆöÂÖÉÁ¥†Â§ñÈÉ®ÁöÑÂêéÈù¢ before(content|fn) ‰ºöÂ∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÊåáÂÆöÂÖÉÁ¥†Â§ñÈÉ®ÁöÑÂâçÈù¢ insertAfter(content) insertBefore(content) */ $("button").click(function () &#123; // 1.ÂàõÂª∫‰∏Ä‰∏™ËäÇÁÇπ var $li = $("&lt;li&gt;Êñ∞Â¢ûÁöÑli&lt;/li&gt;"); // 2.Ê∑ªÂä†ËäÇÁÇπ $("ul").append($li); $("ul").prepend($li); // $li.appendTo("ul"); // $li.prependTo("ul"); // $("ul").after($li); // $("ul").before($li); // $li.insertAfter("ul"); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;Ê∑ªÂä†ËäÇÁÇπ&lt;/button&gt;&lt;ul&gt; &lt;li&gt;ÊàëÊòØÁ¨¨1‰∏™li&lt;/li&gt; &lt;li&gt;ÊàëÊòØÁ¨¨2‰∏™li&lt;/li&gt; &lt;li&gt;ÊàëÊòØÁ¨¨3‰∏™li&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;ÊàëÊòØdiv&lt;/div&gt; 52-jQueryÂà†Èô§ËäÇÁÇπÁõ∏ÂÖ≥ÊñπÊ≥ï12345678910111213141516171819202122232425262728293031323334353637 &lt;script&gt; $(function () &#123; /* Âà†Èô§ remove([expr]) Âà†Èô§ÊåáÂÆöÂÖÉÁ¥† empty() Âà†Èô§ÊåáÂÆöÂÖÉÁ¥†ÁöÑÂÜÖÂÆπÂíåÂ≠êÂÖÉÁ¥†, ÊåáÂÆöÂÖÉÁ¥†Ëá™Ë∫´‰∏ç‰ºöË¢´Âà†Èô§ detach([expr]) */ $("button").click(function () &#123; // $("div").remove(); // $("div").empty(); // $("li").remove(".item"); // Âà©Áî®removeÂà†Èô§‰πãÂêéÂÜçÈáçÊñ∞Ê∑ªÂä†,ÂéüÊúâÁöÑ‰∫ã‰ª∂Êó†Ê≥ïÂìçÂ∫î // var $div = $("div").remove(); // Âà©Áî®detachÂà†Èô§‰πãÂêéÂÜçÈáçÊñ∞Ê∑ªÂä†,ÂéüÊúâ‰∫ã‰ª∂ÂèØ‰ª•ÂìçÂ∫î var $div = $("div").detach(); // console.log($div); $("body").append($div); &#125;); $("div").click(function () &#123; alert("divË¢´ÁÇπÂáª‰∫Ü"); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;Âà†Èô§ËäÇÁÇπ&lt;/button&gt;&lt;ul&gt; &lt;li class="item"&gt;ÊàëÊòØÁ¨¨1‰∏™li&lt;/li&gt; &lt;li&gt;ÊàëÊòØÁ¨¨2‰∏™li&lt;/li&gt; &lt;li class="item"&gt;ÊàëÊòØÁ¨¨3‰∏™li&lt;/li&gt; &lt;li&gt;ÊàëÊòØÁ¨¨4‰∏™li&lt;/li&gt; &lt;li class="item"&gt;ÊàëÊòØÁ¨¨5‰∏™li&lt;/li&gt;&lt;/ul&gt; 53-jQueryÊõøÊç¢ËäÇÁÇπÁõ∏ÂÖ≥ÊñπÊ≥ï1234567891011121314151617181920212223 &lt;script&gt; $(function () &#123; /* ÊõøÊç¢ replaceWith(content|fn) replaceAll(selector) ÊõøÊç¢ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†‰∏∫ÊåáÂÆöÁöÑÂÖÉÁ¥† */ $("button").click(function () &#123; // 1.Êñ∞Âª∫‰∏Ä‰∏™ÂÖÉÁ¥† var $h6 = $("&lt;h6&gt;ÊàëÊòØÊ†áÈ¢ò6&lt;/h6&gt;"); // 2.ÊõøÊç¢ÂÖÉÁ¥† // $("h1").replaceWith($h6); $h6.replaceAll("h1"); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;ÊõøÊç¢ËäÇÁÇπ&lt;/button&gt;&lt;h1&gt;ÊàëÊòØÊ†áÈ¢ò1&lt;/h1&gt;&lt;h1&gt;ÊàëÊòØÊ†áÈ¢ò1&lt;/h1&gt;&lt;p&gt;ÊàëÊòØÊÆµËêΩ&lt;/p&gt; 54-jQueryÂ§çÂà∂ËäÇÁÇπÁõ∏ÂÖ≥ÊñπÊ≥ï12345678910111213141516171819202122232425262728293031323334353637&lt;script&gt; $(function () &#123; // clone([Even[,deepEven]]) /* Â¶ÇÊûú‰º†ÂÖ•falseÂ∞±ÊòØÊµÖÂ§çÂà∂, Â¶ÇÊûú‰º†ÂÖ•trueÂ∞±ÊòØÊ∑±Â§çÂà∂ ÊµÖÂ§çÂà∂Âè™‰ºöÂ§çÂà∂ÂÖÉÁ¥†, ‰∏ç‰ºöÂ§çÂà∂ÂÖÉÁ¥†ÁöÑ‰∫ã‰ª∂ Ê∑±Â§çÂà∂‰ºöÂ§çÂà∂ÂÖÉÁ¥†, ËÄå‰∏îËøò‰ºöÂ§çÂà∂ÂÖÉÁ¥†ÁöÑ‰∫ã‰ª∂ */ $("button").eq(0).click(function () &#123; // 1.ÊµÖÂ§çÂà∂‰∏Ä‰∏™ÂÖÉÁ¥† var $li = $("li:first").clone(false); // 2.Â∞ÜÂ§çÂà∂ÁöÑÂÖÉÁ¥†Ê∑ªÂä†Âà∞ul‰∏≠ $("ul").append($li); &#125;); $("button").eq(1).click(function () &#123; // 1.Ê∑±Â§çÂà∂‰∏Ä‰∏™ÂÖÉÁ¥† var $li = $("li:first").clone(true); // 2.Â∞ÜÂ§çÂà∂ÁöÑÂÖÉÁ¥†Ê∑ªÂä†Âà∞ul‰∏≠ $("ul").append($li); &#125;); $("li").click(function () &#123; alert($(this).html()); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;button&gt;ÊµÖÂ§çÂà∂ËäÇÁÇπ&lt;/button&gt;&lt;button&gt;Ê∑±Â§çÂà∂ËäÇÁÇπ&lt;/button&gt;&lt;ul&gt; &lt;li&gt;ÊàëÊòØÁ¨¨1‰∏™li&lt;/li&gt; &lt;li&gt;ÊàëÊòØÁ¨¨2‰∏™li&lt;/li&gt; &lt;li&gt;ÊàëÊòØÁ¨¨3‰∏™li&lt;/li&gt; &lt;li&gt;ÊàëÊòØÁ¨¨4‰∏™li&lt;/li&gt; &lt;li&gt;ÊàëÊòØÁ¨¨5‰∏™li&lt;/li&gt;&lt;/ul&gt; Ajax12345678910111213141516171819202122232425262728293031323334353637383940&lt;!--1.ÂèØ‰ª•ÈÄöËøáformÊ†áÁ≠æÁöÑmethodÂ±ûÊÄßÊåáÂÆöÂèëÈÄÅËØ∑Ê±ÇÁöÑÁ±ªÂûã2.Â¶ÇÊûúÊòØgetËØ∑Ê±Ç‰ºöÂ∞ÜÊèê‰∫§ÁöÑÊï∞ÊçÆÊãºÊé•Âà∞URLÂêéÈù¢?userName=lnj&amp;userPwd=1234563.Â¶ÇÊûúÊòØpostËØ∑Ê±Ç‰ºöÂ∞ÜÊèê‰∫§ÁöÑÊï∞ÊçÆÊîæÂà∞ËØ∑Ê±ÇÂ§¥‰∏≠4.GETËØ∑Ê±ÇÂíåPOSTËØ∑Ê±ÇÁöÑÂºÇÂêå4.1Áõ∏ÂêåÁÇπ:ÈÉΩÊòØÂ∞ÜÊï∞ÊçÆÊèê‰∫§Âà∞ËøúÁ®ãÊúçÂä°Âô®4.2‰∏çÂêåÁÇπ:4.2.1Êèê‰∫§Êï∞ÊçÆÂ≠òÂÇ®ÁöÑ‰ΩçÁΩÆ‰∏çÂêåGETËØ∑Ê±Ç‰ºöÂ∞ÜÊï∞ÊçÆÊîæÂà∞URLÂêéÈù¢POSTËØ∑Ê±Ç‰ºöÂ∞ÜÊï∞ÊçÆÊîæÂà∞ËØ∑Ê±ÇÂ§¥‰∏≠4.2.2Êèê‰∫§Êï∞ÊçÆÂ§ßÂ∞èÈôêÂà∂‰∏çÂêåGETËØ∑Ê±ÇÂØπÊï∞ÊçÆÊúâÂ§ßÂ∞èÈôêÂà∂POSTËØ∑Ê±ÇÂØπÊï∞ÊçÆÊ≤°ÊúâÂ§ßÂ∞èÈôêÂà∂5.GET/POSTËØ∑Ê±ÇÂ∫îÁî®Âú∫ÊôØGETËØ∑Ê±ÇÁî®‰∫éÊèê‰∫§ÈùûÊïèÊÑüÊï∞ÊçÆÂíåÂ∞èÊï∞ÊçÆPOSTËØ∑Ê±ÇÁî®‰∫éÊèê‰∫§ÊïèÊÑüÊï∞ÊçÆÂíåÂ§ßÊï∞ÊçÆ&lt;--Ê≥®ÊÑè:1.‰∏ä‰º†Êñá‰ª∂‰∏ÄËà¨‰ΩøÁî®POSTÊèê‰∫§2.‰∏ä‰º†Êñá‰ª∂ÂøÖÈ°ªËÆæÁΩÆenctype=&quot;multipart/form-data&quot;3.‰∏ä‰º†ÁöÑÊñá‰ª∂Âú®PHP‰∏≠ÂèØ‰ª•ÈÄöËøá$_FILESËé∑Âèñ4.PHP‰∏≠Êñá‰ª∂ÈªòËÆ§‰ºö‰∏ä‰º†Âà∞‰∏Ä‰∏™‰∏¥Êó∂ÁõÆÂΩï, Êé•Êî∂ÂÆåÊØï‰πãÂêé‰ºöËá™Âä®Âà†Èô§--&gt;&lt;!--ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊúçÂä°Âô®ÂØπ‰∏ä‰º†Êñá‰ª∂ÁöÑÂ§ßÂ∞èÊòØÊúâÈôêÂà∂ÁöÑ, Â¶ÇÊûúÊÉ≥‰øÆÊîπ‰∏ä‰º†Êñá‰ª∂ÁöÑÈôêÂà∂ÂèØ‰ª•‰øÆÊîπphp.iniÊñá‰ª∂file_uploads = On ; ÊòØÂê¶ÂÖÅËÆ∏‰∏ä‰º†Êñá‰ª∂ On/Off ÈªòËÆ§ÊòØOnupload_max_filesize = 2048M ; ‰∏ä‰º†Êñá‰ª∂ÁöÑÊúÄÂ§ßÈôêÂà∂post_max_size = 2048M ; ÈÄöËøáPostÊèê‰∫§ÁöÑÊúÄÂ§öÊï∞ÊçÆmax_execution_time = 30000 ; ËÑöÊú¨ÊúÄÈïøÁöÑÊâßË°åÊó∂Èó¥ Âçï‰Ωç‰∏∫Áßímax_input_time = 30000 ; Êé•Êî∂Êèê‰∫§ÁöÑÊï∞ÊçÆÁöÑÊó∂Èó¥ÈôêÂà∂ Âçï‰Ωç‰∏∫Áßímemory_limit = 2048M ; ÊúÄÂ§ßÁöÑÂÜÖÂ≠òÊ∂àËÄó--&gt; 04-ajax-get12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;!-- 1.‰ªÄ‰πàÊòØAjax? AJAX ÊòØ‰∏éÊúçÂä°Âô®‰∫§Êç¢Êï∞ÊçÆÂπ∂Êõ¥Êñ∞ÈÉ®ÂàÜÁΩëÈ°µÁöÑËâ∫ÊúØÔºåÂú®‰∏çÈáçÊñ∞Âä†ËΩΩÊï¥‰∏™È°µÈù¢ÁöÑÊÉÖÂÜµ‰∏ã„ÄÇ --&gt; &lt;script&gt; window.onload = function (ev) &#123; var oBtn = document.querySelector(&quot;button&quot;); oBtn.onclick = function (ev1) &#123; // 1.ÂàõÂª∫‰∏Ä‰∏™ÂºÇÊ≠•ÂØπË±° var xmlhttp=new XMLHttpRequest(); // 2.ËÆæÁΩÆËØ∑Ê±ÇÊñπÂºèÂíåËØ∑Ê±ÇÂú∞ÂùÄ /* methodÔºöËØ∑Ê±ÇÁöÑÁ±ªÂûãÔºõGET Êàñ POST urlÔºöÊñá‰ª∂Âú®ÊúçÂä°Âô®‰∏äÁöÑ‰ΩçÁΩÆ asyncÔºötrueÔºàÂºÇÊ≠•ÔºâÊàñ falseÔºàÂêåÊ≠•Ôºâ */ xmlhttp.open(&quot;GET&quot;, &quot;04-ajax-get.php&quot;, true); // 3.ÂèëÈÄÅËØ∑Ê±Ç xmlhttp.send(); // 4.ÁõëÂê¨Áä∂ÊÄÅÁöÑÂèòÂåñ xmlhttp.onreadystatechange = function (ev2) &#123; /* 0: ËØ∑Ê±ÇÊú™ÂàùÂßãÂåñ 1: ÊúçÂä°Âô®ËøûÊé•Â∑≤Âª∫Á´ã 2: ËØ∑Ê±ÇÂ∑≤Êé•Êî∂ 3: ËØ∑Ê±ÇÂ§ÑÁêÜ‰∏≠ 4: ËØ∑Ê±ÇÂ∑≤ÂÆåÊàêÔºå‰∏îÂìçÂ∫îÂ∑≤Â∞±Áª™ */ if(xmlhttp.readyState === 4)&#123; // Âà§Êñ≠ÊòØÂê¶ËØ∑Ê±ÇÊàêÂäü if(xmlhttp.status &gt;= 200 &amp;&amp; xmlhttp.status &lt; 300 || xmlhttp.status === 304)&#123; // 5.Â§ÑÁêÜËøîÂõûÁöÑÁªìÊûú console.log(&quot;Êé•Êî∂Âà∞ÊúçÂä°Âô®ËøîÂõûÁöÑÊï∞ÊçÆ&quot;); &#125;else&#123; console.log(&quot;Ê≤°ÊúâÊé•Êî∂Âà∞ÊúçÂä°Âô®ËøîÂõûÁöÑÊï∞ÊçÆ&quot;); &#125; &#125; &#125; &#125; &#125; &lt;/script&gt; 05-ajax-get123456789101112131415161718192021222324252627282930313233343536373839&lt;script&gt; window.onload = function (ev) &#123; var oBtn = document.querySelector(&quot;button&quot;); oBtn.onclick = function (ev1) &#123; var xhr; if (window.XMLHttpRequest) &#123;// code for IE7+, Firefox, Chrome, Opera, Safari xhr=new XMLHttpRequest(); &#125; else &#123;// code for IE6, IE5 xhr=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); &#125; // var xhr = new XMLHttpRequest(); /* Âú®IEÊµèËßàÂô®‰∏≠, Â¶ÇÊûúÈÄöËøáAjaxÂèëÈÄÅGETËØ∑Ê±Ç, ÈÇ£‰πàIEÊµèËßàÂô®ËÆ§‰∏∫ Âêå‰∏Ä‰∏™URLÂè™Êúâ‰∏Ä‰∏™ÁªìÊûú 05-ajax-get.txt === abc console.log(Math.random()); console.log(new Date().getTime()); */ xhr.open(&quot;GET&quot;,&quot;05-ajax-get.txt?t=&quot;+(new Date().getTime()),true); xhr.send(); xhr.onreadystatechange = function (ev2) &#123; if(xhr.readyState === 4)&#123; if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300 || xhr.status === 304)&#123; // alert(&quot;ËØ∑Ê±ÇÊàêÂäü&quot;); alert(xhr.responseText); &#125;else&#123; alert(&quot;ËØ∑Ê±ÇÂ§±Ë¥•&quot;); &#125; &#125; &#125; &#125; &#125;&lt;/script&gt; 10-ajax-test123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687 &lt;script src=&quot;myAjax2.js&quot;&gt;&lt;/script&gt; &lt;script&gt; window.onload = function (ev) &#123; // 1.Ëé∑ÂèñÈúÄË¶ÅËÆæÁΩÆÁöÑÂÖÉÁ¥† var oTitle = document.querySelector(&quot;#title&quot;); var oDes = document.querySelector(&quot;#des&quot;); var oImg = document.querySelector(&quot;img&quot;); // 2.Ëé∑ÂèñÊâÄÊúâÊåâÈíÆ var oBtns = document.querySelectorAll(&quot;button&quot;); // 3.ÁªôÊåâÈíÆÊ∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂ oBtns[0].onclick = function () &#123; var self = this; // 4.ÂèëÈÄÅAajxËØ∑Ê±ÇÂà∞ÊúçÂä°Âô® ajax(&#123; type:&quot;get&quot;, url:&quot;10-ajax-test.php&quot;, data:&#123;&quot;name&quot;:this.getAttribute(&quot;name&quot;)&#125;, timeout: 3000, success: function (xhr) &#123; /* // alert(xhr.responseText); var res = xhr.responseText.split(&quot;|&quot;); // console.log(res); oTitle.innerHTML = res[0]; oDes.innerHTML = res[1]; oImg.setAttribute(&quot;src&quot;, res[2]); */ /* var name = self.getAttribute(&quot;name&quot;); var res = xhr.responseXML; var title = res.querySelector(name+&quot;&gt;title&quot;).innerHTML; var des = res.querySelector(name+&quot;&gt;des&quot;).innerHTML; var image = res.querySelector(name+&quot;&gt;image&quot;).innerHTML; oTitle.innerHTML = title; oDes.innerHTML = des; oImg.setAttribute(&quot;src&quot;, image); */ var name = self.getAttribute(&quot;name&quot;); var str = xhr.responseText; var obj = JSON.parse(str); // console.log(obj); var subObj = obj[name]; // console.log(subObj); oTitle.innerHTML = subObj.title; oDes.innerHTML = subObj.des; oImg.setAttribute(&quot;src&quot;, subObj.image); &#125;, error: function (xhr) &#123; alert(xhr.status); &#125; &#125;); &#125; oBtns[1].onclick = function () &#123; &#125; oBtns[2].onclick = function () &#123; &#125; &#125; &lt;/script&gt; -------- &lt;script&gt; window.onload = function (ev) &#123; var oBtn = document.querySelector(&quot;button&quot;); oBtn.onclick = function (ev1) &#123; ajax(&#123; type:&quot;get&quot;, url:&quot;11-ajax-xml.php&quot;, success: function (xhr) &#123; // console.log(xhr.responseXML); // console.log(document); var res = xhr.responseXML; console.log(res.querySelector(&quot;name&quot;).innerHTML); console.log(res.querySelector(&quot;age&quot;).innerHTML); &#125;, error: function (xhr) &#123; console.log(xhr.status); &#125; &#125;) &#125; &#125; &lt;/script&gt;&lt;/head&gt;]]></content>
      <tags>
        <tag>JqueryÊùéÊ±üÂçó</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mysql‰∏ªÂ±ÇÂ§çÂà∂]]></title>
    <url>%2F2019%2F03%2F08%2FMysql%2FMysql%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mybatis]]></title>
    <url>%2F2019%2F03%2F08%2FMybatis%2FresultType%20resultMap%2F</url>
    <content type="text"></content>
      <tags>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jquery2]]></title>
    <url>%2F2019%2F03%2F03%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%AD%A6%E4%B9%A02%2F</url>
    <content type="text"><![CDATA[1 $.getJson()jQuery‰∏≠ÁöÑ$.getJSON( )ÊñπÊ≥ïÂáΩÊï∞‰∏ªË¶ÅÁî®Êù•‰ªéÊúçÂä°Âô®Âä†ËΩΩjsonÁºñÁ†ÅÁöÑÊï∞ÊçÆÔºåÂÆÉ‰ΩøÁî®ÁöÑÊòØGET HTTPËØ∑Ê±Ç„ÄÇ‰ΩøÁî®ÊñπÊ≥ïÂ¶Ç‰∏ãÔºö 1$.getJSON( url [, data ] [, success(data, textStatus, jqXHR) ] ) urlÊòØÂøÖÈÄâÂèÇÊï∞ÔºåË°®Á§∫jsonÊï∞ÊçÆÁöÑÂú∞ÂùÄÔºõdataÊòØÂèØÈÄâÂèÇÊï∞ÔºåÁî®‰∫éËØ∑Ê±ÇÊï∞ÊçÆÊó∂ÂèëÈÄÅÊï∞ÊçÆÂèÇÊï∞ÔºõsuccessÊòØÂèØÂèÇÊï∞ÔºåËøôÊòØ‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåÁî®‰∫éÂ§ÑÁêÜËØ∑Ê±ÇÂà∞ÁöÑÊï∞ÊçÆ„ÄÇ Ëé∑ÂèñjsonÊï∞ÊçÆ‰∏æ‰æã 12345$.getJson('test.json',function(data)&#123; for(var i=0;i&lt;data.rows.length;i++)&#123; $('#test').append('&lt;p&gt;'+data.rows[i].realName+'&lt;/p&gt;') &#125;&#125;); Âú®WEBÂºÄÂèë‰∏≠ÂºÇÊ≠•ËØ∑Ê±ÇÊñπÂºèÊôÆÈÅç‰ΩøÁî®ÔºåajaxÊäÄÊúØÂáèÂ∞ëÁ®ãÂ∫èÂëòÁöÑÂ∑•‰ΩúÈáèÔºå‰πüÊèêÂçáÁî®Êà∑‰∫§‰∫í‰ΩìÈ™å„ÄÇAJAXÁöÑÂõõÁßçÂºÇÊ≠•ËØ∑Ê±ÇÊñπÂºèÈÉΩËÉΩÂÆûÁé∞Âü∫Êú¨ÈúÄÊ±ÇÔºåÈó≤ËØù‰∏çÂ§öËØ¥ÔºåÁõ¥Êé•ÂàáÂÖ•Ê≠£È¢ò„ÄÇ .$.getJSON $.getJSON()ÊòØ‰∏ìÈó®‰∏∫ajaxËé∑ÂèñjsonÊï∞ÊçÆËÄåËÆæÁΩÆÁöÑÔºåÂπ∂‰∏îÊîØÊåÅË∑®ÂüüË∞ÉÁî®ÔºåÂÖ∂ËØ≠Ê≥ïÁöÑÊ†ºÂºè‰∏∫Ôºö 123451 $.getJSON(2 url, //ËØ∑Ê±ÇURL3 [data], //‰º†ÂèÇÔºåÂèØÈÄâÂèÇÊï∞4 [callback] //ÂõûË∞ÉÂáΩÊï∞ÔºåÂèØÈÄâÂèÇÊï∞5 ); 123urlÔºöstringÁ±ªÂûãÔºå ÂèëÈÄÅËØ∑Ê±ÇÂú∞ÂùÄ data ÔºöÂèØÈÄâÂèÇÊï∞Ôºå ÂæÖÂèëÈÄÅ Key/value ÂèÇÊï∞ ÔºåÂêågetÔºåpostÁ±ªÂûãÁöÑdata callback ÔºöÂèØÈÄâÂèÇÊï∞ÔºåËΩΩÂÖ•ÊàêÂäüÊó∂ÂõûË∞ÉÂáΩÊï∞ÔºåÂêågetÔºåpostÁ±ªÂûãÁöÑcallback 4.$.ajax $.ajaxÊòØ‰∏ÄÁßçÂ∏∏Áî®ÁöÑÊôÆÈÄöÂ∞ÅË£ÖÂºÇÊ≠•ÊñπÂºè„ÄÇ 11 $.ajax(options)Ôºõ optionsÊòØ‰∏Ä‰∏™objectÁ±ªÂûãÔºåÂÆÉÊåáÊòé‰∫ÜÊú¨Ê¨°ajaxË∞ÉÁî®ÁöÑÂÖ∑‰ΩìÂèÇÊï∞„ÄÇÂëà‰∏ä‰ª£Á†ÅÔºö 123456789101112131415//Á§∫‰æã.ajax( url: "/legalconsult/layer/update-info", datatype:"json", type:'post', beforeSend:function()&#123; //ÂáΩÊï∞‰ΩìÔºåÊï∞ÊçÆÂèëÈÄÅÂâçÊâßË°å„ÄÇ &#125; successÔºöfunction()&#123; //ÂáΩÊï∞‰ΩìÔºåÊï∞ÊçÆÂèëÈÄÅÊàêÂäüÂõûË∞É &#125; error: function()&#123; //ÂáΩÊï∞‰ΩìÔºåÊï∞ÊçÆÂèëÈÄÅÈîôËØØÊó∂ÊâßË°å &#125; ); https://www.cnblogs.com/dongsh/p/3235487.html 1.ÊúçÂä°Âô®ËøîÂõûÁöÑJsonÊï∞ÊçÆÂøÖÈ°ª‰∏•Ê†ºÁ¨¶ÂêàJSINËØ≠Ê≥ïÔºå‰æãÂ¶ÇÔºöÊâÄÊúâÂ±ûÊÄßÂêçÁß∞ÂøÖÈ°ªÂä†ÂèåÂºïÂè∑ÔºåÊâÄÊúâÂ≠óÁ¨¶‰∏≤ÂÄºÂøÖÈ°ªÂä†ÂèåÂºïÂè∑Ôºà‰∏çÂèØ‰ª•ÊòØÂçïÂºïÂè∑Ôºâ 123456789ËØ≠Ê≥ïÔºö Jquery.getJSON( url [,data][,success]) url: StringÁ±ªÂûã ÊåáÂÆöËØ∑Ê±ÇÁöÑÁõÆÊ†áURL data:ÂèØÈÄâ ÂèëÈÄÅËØ∑Ê±Ç‰º†ÈÄíÁöÑÊï∞ÊçÆ success: ËØ∑Ê±ÇÊàêÂäüÊó∂ÊâßË°åÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ ÂáΩÊï∞Êúâ‰∏â‰∏™ÂèÇÊï∞Ôºö‰∏Ä ÊòØËØ∑Ê±ÇËøîÂõûÁöÑÊï∞ÊçÆ ‰∫å ËØ∑Ê±ÇÁä∂ÊÄÅÊñáÊú¨Ôºà‰æãÂ¶Ç"success","notmodified"Ôºâ,‰∏â ÂΩìÂâçjqXHRÂØπË±° 2 JQuery.getJSON(url,data,success); //Á≠â‰ª∑‰∫é 12345678910111213$.ajax(&#123; url:url, type:"GET", data:data, success:success, datatype:"json"&#125;);]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HttpServletRequest‰ªãÁªç]]></title>
    <url>%2F2019%2F03%2F03%2FjavaWeb%2FHttpServletRequest%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[https://www.cnblogs.com/xdp-gacl/p/3798347.html javawebÂ≠¶‰π†ÊÄªÁªì(ÂçÅ)‚Äî‚ÄîHttpServletRequestÂØπË±°(‰∏Ä)‰∏Ä„ÄÅHttpServletRequest‰ªãÁªç HttpServletRequestÂØπË±°‰ª£Ë°®ÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÔºåÂΩìÂÆ¢Êà∑Á´ØÈÄöËøáHTTPÂçèËÆÆËÆøÈóÆÊúçÂä°Âô®Êó∂ÔºåHTTPËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑÊâÄÊúâ‰ø°ÊÅØÈÉΩÂ∞ÅË£ÖÂú®Ëøô‰∏™ÂØπË±°‰∏≠ÔºåÈÄöËøáËøô‰∏™ÂØπË±°Êèê‰æõÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•Ëé∑ÂæóÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÁöÑÊâÄÊúâ‰ø°ÊÅØ„ÄÇ ÊâÄÊúâ‰ø°ÊÅØ„ÄÇ ‰∫å„ÄÅRequestÂ∏∏Áî®ÊñπÊ≥ï2.1„ÄÅËé∑ÂæóÂÆ¢Êà∑Êú∫‰ø°ÊÅØ getRequestURLÊñπÊ≥ïËøîÂõûÂÆ¢Êà∑Á´ØÂèëÂá∫ËØ∑Ê±ÇÊó∂ÁöÑÂÆåÊï¥URL„ÄÇ getRequestURIÊñπÊ≥ïËøîÂõûËØ∑Ê±ÇË°å‰∏≠ÁöÑËµÑÊ∫êÂêçÈÉ®ÂàÜ„ÄÇ getQueryString ÊñπÊ≥ïËøîÂõûËØ∑Ê±ÇË°å‰∏≠ÁöÑÂèÇÊï∞ÈÉ®ÂàÜ„ÄÇ getPathInfoÊñπÊ≥ïËøîÂõûËØ∑Ê±ÇURL‰∏≠ÁöÑÈ¢ùÂ§ñË∑ØÂæÑ‰ø°ÊÅØ„ÄÇÈ¢ùÂ§ñË∑ØÂæÑ‰ø°ÊÅØÊòØËØ∑Ê±ÇURL‰∏≠ÁöÑ‰Ωç‰∫éServletÁöÑË∑ØÂæÑ‰πãÂêéÂíåÊü•ËØ¢ÂèÇÊï∞‰πãÂâçÁöÑÂÜÖÂÆπÔºåÂÆÉ‰ª•‚Äú/‚ÄùÂºÄÂ§¥„ÄÇ getRemoteAddrÊñπÊ≥ïËøîÂõûÂèëÂá∫ËØ∑Ê±ÇÁöÑÂÆ¢Êà∑Êú∫ÁöÑIPÂú∞ÂùÄ„ÄÇ ËåÉ‰æãÔºöÈÄöËøárequestÂØπË±°Ëé∑ÂèñÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰ø°ÊÅØ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package gacl.request.study;import java.io.IOException;import java.io.PrintWriter;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;/** * @author gacl * ÈÄöËøárequestÂØπË±°Ëé∑ÂèñÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰ø°ÊÅØ */public class RequestDemo01 extends HttpServlet &#123; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; /** * 1.Ëé∑ÂæóÂÆ¢Êà∑Êú∫‰ø°ÊÅØ */ String requestUrl = request.getRequestURL().toString();//ÂæóÂà∞ËØ∑Ê±ÇÁöÑURLÂú∞ÂùÄ String requestUri = request.getRequestURI();//ÂæóÂà∞ËØ∑Ê±ÇÁöÑËµÑÊ∫ê String queryString = request.getQueryString();//ÂæóÂà∞ËØ∑Ê±ÇÁöÑURLÂú∞ÂùÄ‰∏≠ÈôÑÂ∏¶ÁöÑÂèÇÊï∞ String remoteAddr = request.getRemoteAddr();//ÂæóÂà∞Êù•ËÆøËÄÖÁöÑIPÂú∞ÂùÄ String remoteHost = request.getRemoteHost(); int remotePort = request.getRemotePort(); String remoteUser = request.getRemoteUser(); String method = request.getMethod();//ÂæóÂà∞ËØ∑Ê±ÇURLÂú∞ÂùÄÊó∂‰ΩøÁî®ÁöÑÊñπÊ≥ï String pathInfo = request.getPathInfo(); String localAddr = request.getLocalAddr();//Ëé∑ÂèñWEBÊúçÂä°Âô®ÁöÑIPÂú∞ÂùÄ String localName = request.getLocalName();//Ëé∑ÂèñWEBÊúçÂä°Âô®ÁöÑ‰∏ªÊú∫Âêç response.setCharacterEncoding("UTF-8");//ËÆæÁΩÆÂ∞ÜÂ≠óÁ¨¶‰ª•"UTF-8"ÁºñÁ†ÅËæìÂá∫Âà∞ÂÆ¢Êà∑Á´ØÊµèËßàÂô® //ÈÄöËøáËÆæÁΩÆÂìçÂ∫îÂ§¥ÊéßÂà∂ÊµèËßàÂô®‰ª•UTF-8ÁöÑÁºñÁ†ÅÊòæÁ§∫Êï∞ÊçÆÔºåÂ¶ÇÊûú‰∏çÂä†ËøôÂè•ËØùÔºåÈÇ£‰πàÊµèËßàÂô®ÊòæÁ§∫ÁöÑÂ∞ÜÊòØ‰π±Á†Å response.setHeader("content-type", "text/html;charset=UTF-8"); PrintWriter out = response.getWriter(); out.write("Ëé∑ÂèñÂà∞ÁöÑÂÆ¢Êà∑Êú∫‰ø°ÊÅØÂ¶Ç‰∏ãÔºö"); out.write("&lt;hr/&gt;"); out.write("ËØ∑Ê±ÇÁöÑURLÂú∞ÂùÄÔºö"+requestUrl); out.write("&lt;br/&gt;"); out.write("ËØ∑Ê±ÇÁöÑËµÑÊ∫êÔºö"+requestUri); out.write("&lt;br/&gt;"); out.write("ËØ∑Ê±ÇÁöÑURLÂú∞ÂùÄ‰∏≠ÈôÑÂ∏¶ÁöÑÂèÇÊï∞Ôºö"+queryString); out.write("&lt;br/&gt;"); out.write("Êù•ËÆøËÄÖÁöÑIPÂú∞ÂùÄÔºö"+remoteAddr); out.write("&lt;br/&gt;"); out.write("Êù•ËÆøËÄÖÁöÑ‰∏ªÊú∫ÂêçÔºö"+remoteHost); out.write("&lt;br/&gt;"); out.write("‰ΩøÁî®ÁöÑÁ´ØÂè£Âè∑Ôºö"+remotePort); out.write("&lt;br/&gt;"); out.write("remoteUserÔºö"+remoteUser); out.write("&lt;br/&gt;"); out.write("ËØ∑Ê±Ç‰ΩøÁî®ÁöÑÊñπÊ≥ïÔºö"+method); out.write("&lt;br/&gt;"); out.write("pathInfoÔºö"+pathInfo); out.write("&lt;br/&gt;"); out.write("localAddrÔºö"+localAddr); out.write("&lt;br/&gt;"); out.write("localNameÔºö"+localName); &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125;&#125; 2.2„ÄÅËé∑ÂæóÂÆ¢Êà∑Êú∫ËØ∑Ê±ÇÂ§¥ getHeader(string name)ÊñπÊ≥ï:String getHeaders(String name)ÊñπÊ≥ï:Enumeration getHeaderNames()ÊñπÊ≥ï ËåÉ‰æãÔºöÈÄöËøárequestÂØπË±°Ëé∑ÂèñÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÂ§¥‰ø°ÊÅØ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package gacl.request.study;import java.io.IOException;import java.io.PrintWriter;import java.util.Enumeration;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;/** * @author gacl * Ëé∑ÂèñÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÂ§¥‰ø°ÊÅØ * ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÂ§¥Ôºö * */public class RequestDemo02 extends HttpServlet &#123; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; response.setCharacterEncoding("UTF-8");//ËÆæÁΩÆÂ∞ÜÂ≠óÁ¨¶‰ª•"UTF-8"ÁºñÁ†ÅËæìÂá∫Âà∞ÂÆ¢Êà∑Á´ØÊµèËßàÂô® //ÈÄöËøáËÆæÁΩÆÂìçÂ∫îÂ§¥ÊéßÂà∂ÊµèËßàÂô®‰ª•UTF-8ÁöÑÁºñÁ†ÅÊòæÁ§∫Êï∞ÊçÆ response.setHeader("content-type", "text/html;charset=UTF-8"); PrintWriter out = response.getWriter(); Enumeration&lt;String&gt; reqHeadInfos = request.getHeaderNames();//Ëé∑ÂèñÊâÄÊúâÁöÑËØ∑Ê±ÇÂ§¥ out.write("Ëé∑ÂèñÂà∞ÁöÑÂÆ¢Êà∑Á´ØÊâÄÊúâÁöÑËØ∑Ê±ÇÂ§¥‰ø°ÊÅØÂ¶Ç‰∏ãÔºö"); out.write("&lt;hr/&gt;"); while (reqHeadInfos.hasMoreElements()) &#123; String headName = (String) reqHeadInfos.nextElement(); String headValue = request.getHeader(headName);//Ê†πÊçÆËØ∑Ê±ÇÂ§¥ÁöÑÂêçÂ≠óËé∑ÂèñÂØπÂ∫îÁöÑËØ∑Ê±ÇÂ§¥ÁöÑÂÄº out.write(headName+":"+headValue); out.write("&lt;br/&gt;"); &#125; out.write("&lt;br/&gt;"); out.write("Ëé∑ÂèñÂà∞ÁöÑÂÆ¢Êà∑Á´ØAccept-EncodingËØ∑Ê±ÇÂ§¥ÁöÑÂÄºÔºö"); out.write("&lt;hr/&gt;"); String value = request.getHeader("Accept-Encoding");//Ëé∑ÂèñAccept-EncodingËØ∑Ê±ÇÂ§¥ÂØπÂ∫îÁöÑÂÄº out.write(value); Enumeration&lt;String&gt; e = request.getHeaders("Accept-Encoding"); while (e.hasMoreElements()) &#123; String string = (String) e.nextElement(); System.out.println(string); &#125; &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125;&#125; 2.3„ÄÅËé∑ÂæóÂÆ¢Êà∑Êú∫ËØ∑Ê±ÇÂèÇÊï∞(ÂÆ¢Êà∑Á´ØÊèê‰∫§ÁöÑÊï∞ÊçÆ) getParameter(String)ÊñπÊ≥ï(Â∏∏Áî®) getParameterValues(String name)ÊñπÊ≥ï(Â∏∏Áî®) getParameterNames()ÊñπÊ≥ï(‰∏çÂ∏∏Áî®) getParameterMap()ÊñπÊ≥ï(ÁºñÂÜôÊ°ÜÊû∂Êó∂Â∏∏Áî®) ÊØîÂ¶ÇÁé∞Âú®ÊúâÂ¶Ç‰∏ãÁöÑformË°®Âçï 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;HtmlÁöÑFormË°®ÂçïÂÖÉÁ¥†&lt;/title&gt;&lt;/head&gt;&lt;fieldset style=&quot;width:500px;&quot;&gt; &lt;legend&gt;HtmlÁöÑFormË°®ÂçïÂÖÉÁ¥†&lt;/legend&gt; &lt;!--formË°®ÂçïÁöÑactionÂ±ûÊÄßËßÑÂÆöÂΩìÊèê‰∫§Ë°®ÂçïÊó∂ÔºåÂêë‰ΩïÂ§ÑÂèëÈÄÅË°®ÂçïÊï∞ÊçÆÔºåmethodÂ±ûÊÄßÊåáÊòéË°®ÂçïÁöÑÊèê‰∫§ÊñπÂºèÔºåÂàÜ‰∏∫getÂíåpostÔºåÈªòËÆ§‰∏∫get--&gt; &lt;form action=&quot;$&#123;pageContext.request.contextPath&#125;/servlet/RequestDemo03&quot; method=&quot;post&quot;&gt; &lt;!--ËæìÂÖ•ÊñáÊú¨Ê°ÜÔºåSIZEË°®Á§∫ÊòæÁ§∫ÈïøÂ∫¶ÔºåmaxlengthË°®Á§∫ÊúÄÂ§öËæìÂÖ•ÈïøÂ∫¶--&gt; Áºñ&amp;nbsp;&amp;nbsp;Âè∑(ÊñáÊú¨Ê°Ü)Ôºö &lt;input type=&quot;text&quot; name=&quot;userid&quot; value=&quot;NO.&quot; size=&quot;2&quot; maxlength=&quot;2&quot;&gt;&lt;br&gt; &lt;!--ËæìÂÖ•ÊñáÊú¨Ê°ÜÔºåÈÄöËøávalueÊåáÂÆöÂÖ∂ÊòæÁ§∫ÁöÑÈªòËÆ§ÂÄº--&gt; Áî®Êà∑Âêç(ÊñáÊú¨Ê°Ü)Ôºö&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;ËØ∑ËæìÂÖ•Áî®Êà∑Âêç&quot;&gt;&lt;br&gt; &lt;!--ÂØÜÁ†ÅÊ°ÜÔºåÂÖ∂‰∏≠ÊâÄÊúâËæìÂÖ•ÁöÑÂÜÖÂÆπÈÉΩ‰ª•ÂØÜÊñáÁöÑÂΩ¢ÂºèÊòæÁ§∫--&gt; ÂØÜ&amp;nbsp;&amp;nbsp;Á†Å(ÂØÜÁ†ÅÊ°Ü)Ôºö &lt;!--&amp;nbsp;Ë°®Á§∫ÁöÑÊòØ‰∏Ä‰∏™Á©∫Ê†º--&gt; &lt;input type=&quot;password&quot; name=&quot;userpass&quot; value=&quot;ËØ∑ËæìÂÖ•ÂØÜÁ†Å&quot;&gt;&lt;br&gt; &lt;!--ÂçïÈÄâÊåâÈíÆÔºåÈÄöËøácheckedÊåáÂÆöÈªòËÆ§ÈÄâ‰∏≠ÔºåÂêçÁß∞ÂøÖÈ°ª‰∏ÄÊ†∑ÔºåÂÖ∂‰∏≠value‰∏∫ÁúüÊ≠£ÈúÄË¶ÅÁöÑÂÜÖÂÆπ--&gt; ÊÄß&amp;nbsp;&amp;nbsp;Âà´(ÂçïÈÄâÊ°Ü)Ôºö &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;Áî∑&quot; checked&gt;Áî∑ &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;Â•≥&quot;&gt;Â•≥&lt;br&gt; &lt;!--‰∏ãÊãâÂàóË°®Ê°ÜÔºåÈÄöËøá&lt;option&gt;ÂÖÉÁ¥†ÊåáÂÆö‰∏ãÊãâÁöÑÈÄâÈ°π--&gt; ÈÉ®&amp;nbsp;&amp;nbsp;Èó®(‰∏ãÊãâÊ°Ü)Ôºö &lt;select name=&quot;dept&quot;&gt; &lt;option value=&quot;ÊäÄÊúØÈÉ®&quot;&gt;ÊäÄÊúØÈÉ®&lt;/option&gt; &lt;option value=&quot;ÈîÄÂîÆÈÉ®&quot; SELECTED&gt;ÈîÄÂîÆÈÉ®&lt;/option&gt; &lt;option value=&quot;Ë¥¢Âä°ÈÉ®&quot;&gt;Ë¥¢Âä°ÈÉ®&lt;/option&gt; &lt;/select&gt;&lt;br&gt; &lt;!--Â§çÈÄâÊ°ÜÔºåÂèØ‰ª•ÂêåÊó∂ÈÄâÊã©Â§ö‰∏™ÈÄâÈ°πÔºåÂêçÁß∞ÂøÖÈ°ª‰∏ÄÊ†∑ÔºåÂÖ∂‰∏≠value‰∏∫ÁúüÊ≠£ÈúÄË¶ÅÁöÑÂÜÖÂÆπ--&gt; ÂÖ¥&amp;nbsp;&amp;nbsp;Ë∂£(Â§çÈÄâÊ°Ü)Ôºö &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;Âî±Ê≠å&quot;&gt;Âî±Ê≠å &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;Ê∏∏Ê≥≥&quot;&gt;Ê∏∏Ê≥≥ &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;Ë∑≥Ëàû&quot;&gt;Ë∑≥Ëàû &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;ÁºñÁ®ã&quot; checked&gt;ÁºñÁ®ã &lt;input type=&quot;checkbox&quot; name=&quot;inst&quot; value=&quot;‰∏äÁΩë&quot;&gt;‰∏äÁΩë &lt;br&gt; &lt;!--Â§ßÊñáÊú¨ËæìÂÖ•Ê°ÜÔºåÂÆΩÂ∫¶‰∏∫34ÂàóÔºåÈ´òÂ∫¶‰∏∫5Ë°å--&gt; ËØ¥&amp;nbsp;&amp;nbsp;Êòé(ÊñáÊú¨Âüü)Ôºö &lt;textarea name=&quot;note&quot; cols=&quot;34&quot; rows=&quot;5&quot;&gt; &lt;/textarea&gt; &lt;br&gt; &lt;!--ÈöêËóèÂüüÔºåÂú®È°µÈù¢‰∏äÊó†Ê≥ïÁúãÂà∞Ôºå‰∏ìÈó®Áî®Êù•‰º†ÈÄíÂèÇÊï∞ÊàñËÄÖ‰øùÂ≠òÂèÇÊï∞--&gt; &lt;input type=&quot;hidden&quot; name=&quot;hiddenField&quot; value=&quot;hiddenvalue&quot;/&gt; &lt;!--Êèê‰∫§Ë°®ÂçïÊåâÈíÆÔºåÂΩìÁÇπÂáªÊèê‰∫§ÂêéÔºåÊâÄÊúâÂ°´ÂÜôÁöÑË°®ÂçïÂÜÖÂÆπÈÉΩ‰ºöË¢´‰º†ËæìÂà∞ÊúçÂä°Âô®Á´Ø--&gt; &lt;input type=&quot;submit&quot; value=&quot;Êèê‰∫§(Êèê‰∫§ÊåâÈíÆ)&quot;&gt; &lt;!--ÈáçÁΩÆË°®ÂçïÊåâÈíÆÔºåÂΩìÁÇπÂáªÈáçÁΩÆÂêéÔºåÊâÄÊúâË°®ÂçïÊÅ¢Â§çÂéüÂßãÊòæÁ§∫ÂÜÖÂÆπ--&gt; &lt;input type=&quot;reset&quot; value=&quot;ÈáçÁΩÆ(ÈáçÁΩÆÊåâÈíÆ)&quot;&gt;&lt;/form&gt;&lt;!--Ë°®ÂçïÁªìÊùü--&gt;&lt;/fieldset&gt;&lt;/body&gt;&lt;!--ÂÆåÁªìÊ†áËÆ∞--&gt;&lt;/html&gt;&lt;!--ÂÆåÁªìÊ†áËÆ∞--&gt; Âú®ÊúçÂä°Âô®Á´Ø‰ΩøÁî®getParameterÊñπÊ≥ïÂíågetParameterValuesÊñπÊ≥ïÊé•Êî∂Ë°®ÂçïÂèÇÊï∞Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071package gacl.request.study;import java.io.IOException;import java.text.MessageFormat;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;/** * @author gacl * Ëé∑ÂèñÂÆ¢Êà∑Á´ØÈÄöËøáFormË°®ÂçïÊèê‰∫§‰∏äÊù•ÁöÑÂèÇÊï∞ */public class RequestDemo03 extends HttpServlet &#123; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; //ÂÆ¢Êà∑Á´ØÊòØ‰ª•UTF-8ÁºñÁ†ÅÊèê‰∫§Ë°®ÂçïÊï∞ÊçÆÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅËÆæÁΩÆÊúçÂä°Âô®Á´Ø‰ª•UTF-8ÁöÑÁºñÁ†ÅËøõË°åÊé•Êî∂ÔºåÂê¶ÂàôÂØπ‰∫é‰∏≠ÊñáÊï∞ÊçÆÂ∞±‰ºö‰∫ßÁîü‰π±Á†Å request.setCharacterEncoding("UTF-8"); /** * Áºñ&amp;nbsp;&amp;nbsp;Âè∑(ÊñáÊú¨Ê°Ü)Ôºö &lt;input type="text" name="userid" value="NO." size="2" maxlength="2"&gt; */ String userid = request.getParameter("userid");//Ëé∑ÂèñÂ°´ÂÜôÁöÑÁºñÂè∑ÔºåuseridÊòØÊñáÊú¨Ê°ÜÁöÑÂêçÂ≠óÔºå&lt;input type="text" name="userid"&gt; /** * Áî®Êà∑Âêç(ÊñáÊú¨Ê°Ü)Ôºö&lt;input type="text" name="username" value="ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"&gt; */ String username = request.getParameter("username");//Ëé∑ÂèñÂ°´ÂÜôÁöÑÁî®Êà∑Âêç /** * ÂØÜ&amp;nbsp;&amp;nbsp;Á†Å(ÂØÜÁ†ÅÊ°Ü)Ôºö&lt;input type="password" name="userpass" value="ËØ∑ËæìÂÖ•ÂØÜÁ†Å"&gt; */ String userpass = request.getParameter("userpass");//Ëé∑ÂèñÂ°´ÂÜôÁöÑÂØÜÁ†Å String sex = request.getParameter("sex");//Ëé∑ÂèñÈÄâ‰∏≠ÁöÑÊÄßÂà´ String dept = request.getParameter("dept");//Ëé∑ÂèñÈÄâ‰∏≠ÁöÑÈÉ®Èó® //Ëé∑ÂèñÈÄâ‰∏≠ÁöÑÂÖ¥Ë∂£ÔºåÂõ†‰∏∫ÂèØ‰ª•ÈÄâ‰∏≠Â§ö‰∏™ÂÄºÔºåÊâÄ‰ª•Ëé∑ÂèñÂà∞ÁöÑÂÄºÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Êï∞ÁªÑÔºåÂõ†Ê≠§ÈúÄË¶Å‰ΩøÁî®getParameterValuesÊñπÊ≥ïÊù•Ëé∑Âèñ String[] insts = request.getParameterValues("inst"); String note = request.getParameter("note");//Ëé∑ÂèñÂ°´ÂÜôÁöÑËØ¥Êòé‰ø°ÊÅØ String hiddenField = request.getParameter("hiddenField");//Ëé∑ÂèñÈöêËóèÂüüÁöÑÂÜÖÂÆπ String instStr=""; /** * Ëé∑ÂèñÊï∞ÁªÑÊï∞ÊçÆÁöÑÊäÄÂ∑ßÔºåÂèØ‰ª•ÈÅøÂÖçinstsÊï∞ÁªÑ‰∏∫nullÊó∂ÂºïÂèëÁöÑÁ©∫ÊåáÈíàÂºÇÂ∏∏ÈîôËØØÔºÅ */ for (int i = 0; insts!=null &amp;&amp; i &lt; insts.length; i++) &#123; if (i == insts.length-1) &#123; instStr+=insts[i]; &#125;else &#123; instStr+=insts[i]+","; &#125; &#125; String htmlStr = "&lt;table&gt;" + "&lt;tr&gt;&lt;td&gt;Â°´ÂÜôÁöÑÁºñÂè∑Ôºö&lt;/td&gt;&lt;td&gt;&#123;0&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;Â°´ÂÜôÁöÑÁî®Êà∑ÂêçÔºö&lt;/td&gt;&lt;td&gt;&#123;1&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;Â°´ÂÜôÁöÑÂØÜÁ†ÅÔºö&lt;/td&gt;&lt;td&gt;&#123;2&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;ÈÄâ‰∏≠ÁöÑÊÄßÂà´Ôºö&lt;/td&gt;&lt;td&gt;&#123;3&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;ÈÄâ‰∏≠ÁöÑÈÉ®Èó®Ôºö&lt;/td&gt;&lt;td&gt;&#123;4&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;ÈÄâ‰∏≠ÁöÑÂÖ¥Ë∂£Ôºö&lt;/td&gt;&lt;td&gt;&#123;5&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;Â°´ÂÜôÁöÑËØ¥ÊòéÔºö&lt;/td&gt;&lt;td&gt;&#123;6&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;tr&gt;&lt;td&gt;ÈöêËóèÂüüÁöÑÂÜÖÂÆπÔºö&lt;/td&gt;&lt;td&gt;&#123;7&#125;&lt;/td&gt;&lt;/tr&gt;" + "&lt;/table&gt;"; htmlStr = MessageFormat.format(htmlStr, userid,username,userpass,sex,dept,instStr,note,hiddenField); response.setCharacterEncoding("UTF-8");//ËÆæÁΩÆÊúçÂä°Âô®Á´Ø‰ª•UTF-8ÁºñÁ†ÅËæìÂá∫Êï∞ÊçÆÂà∞ÂÆ¢Êà∑Á´Ø response.setContentType("text/html;charset=UTF-8");//ËÆæÁΩÆÂÆ¢Êà∑Á´ØÊµèËßàÂô®‰ª•UTF-8ÁºñÁ†ÅËß£ÊûêÊï∞ÊçÆ response.getWriter().write(htmlStr);//ËæìÂá∫htmlStrÈáåÈù¢ÁöÑÂÜÖÂÆπÂà∞ÂÆ¢Êà∑Á´ØÊµèËßàÂô®ÊòæÁ§∫ &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125;&#125; 12345&lt;form action="login"&gt;Ë¥¶Âè∑:&lt;input type="text" name="username"/&gt;&lt;br&gt;Ë¥¶Âè∑:&lt;input type="text" name="password"/&gt;&lt;br&gt;&lt;input type="submit" name="ÁôªÈôÜ"/&gt;&lt;br&gt;&lt;/form&gt; String username = request.getParameter(‚Äúusername‚Äù); String password= request.getParameter(‚Äúpassword‚Äù); ‰ΩøÁî®getParameterÊñπÊ≥ïÂèñÂá∫username]]></content>
      <categories>
        <category>javaweb</category>
      </categories>
      <tags>
        <tag>javaweb</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F03%2F02%2F%E9%9D%A2%E8%AF%95%2F%E4%B8%AD%E5%8D%8E%E7%9F%B3%E6%9D%89%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[ÊÖïËØæÁΩëSpringBoot+DubboÊâìÈÄ†ËÆøÁå´ÁúºÈ°πÁõÆ]]></title>
    <url>%2F2019%2F03%2F01%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2FDubbo%E6%89%93%E9%80%A0%E7%8C%AB%E7%9C%BC%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[1 ÂæÆÊúçÂä°]]></content>
      <tags>
        <tag>ÂÆûÊàò</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F02%2F28%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2Fjava%E4%BB%BF%E6%85%95%E8%AF%BE%E7%BD%91%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[zookeeperÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2019%2F02%2F23%2FDubbo%2FZookeeper%2F</url>
    <content type="text"><![CDATA[ZookeeperÁöÑ‰ΩøÁî® 1 ÂÆâË£ÖJDK https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html scp /Users/apple/Downloads/jdk-8u201-linux-x64.tar.gz root@94.191.24.33:vim /etc/profile1234567export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL``export ZOOKEEPER_HOME=/root/zookeeper-3.4.10``export JAVA_HOME=/root/jdk1.8.0_201``export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jar``export PATH=$PATH:$JAVA_HOME/bin` source /etc/profile javaÁéØÂ¢ÉÈÖçÁΩÆ 1234export JAVA_HOME=/root/jdk1.8.0_201export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jarexport PATH=$PATH:$JAVA_HOME/bin 2 ÂÆâË£Özookeeper12345678910111213# export ZOOKEEPER_HOME=/root/zookeeper-3.4.10` `export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jar``export JAVA_HOME=/root/jdk1.8.0_201``export ZOOKEEPER_HOME=/root/zookeeper-3.4.10` # `export PATH=$PATH:$JAVA_HOME/bin``export PATH=$PATH:$ZOOKEEPER_HOME/bin:$JAVA_HOME/bin` Bug 12345671. uname -a ‰∏äÂõæ‰∏≠i686Ë°®ÊòéÁ≥ªÁªüÂÆâË£ÖÁöÑÊòØ32‰ΩçÁöÑÔºå‰ΩÜÊòØËøô‰∏™ÁªìÊûúÂπ∂‰∏çÊòéÊòæÔºåÂØπlinuxÁ≥ªÁªü‰∏çÁÜüÁöÑÊòØÊó†Ê≥ïÂàÜËæ®Âá∫ÊòØ32‰ΩçËøòÊòØ64‰ΩçÁöÑ„ÄÇ2. getconf LONG_BITÔºàÊé®Ëçê‰ΩøÁî®Ôºâ 32 bitÁªìÊûúÈùûÂ∏∏Áõ¥ËßÇÊòéÊòæ„ÄÇ]]></content>
      <categories>
        <category>dubbo</category>
      </categories>
      <tags>
        <tag>zookeeper</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F02%2F22%2FSpring%20Boot%2FSpringBoot%E9%9B%B7%E4%B8%B0%E9%98%B3%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[SpringÊ≥®Ëß£]]></title>
    <url>%2F2019%2F02%2F19%2FSpring%2F%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%2F</url>
    <content type="text"><![CDATA[@Component1„ÄÅ@controller ÊéßÂà∂Âô®ÔºàÊ≥®ÂÖ•ÊúçÂä°Ôºâ Áî®‰∫éÊ†áÊ≥®ÊéßÂà∂Â±ÇÔºåÁõ∏ÂΩì‰∫éstruts‰∏≠ÁöÑactionÂ±Ç2„ÄÅ@service ÊúçÂä°ÔºàÊ≥®ÂÖ•daoÔºâ Áî®‰∫éÊ†áÊ≥®ÊúçÂä°Â±ÇÔºå‰∏ªË¶ÅÁî®Êù•ËøõË°å‰∏öÂä°ÁöÑÈÄªËæëÂ§ÑÁêÜ3„ÄÅ@repositoryÔºàÂÆûÁé∞daoËÆøÈóÆÔºâ Áî®‰∫éÊ†áÊ≥®Êï∞ÊçÆËÆøÈóÆÂ±ÇÔºå‰πüÂèØ‰ª•ËØ¥Áî®‰∫éÊ†áÊ≥®Êï∞ÊçÆËÆøÈóÆÁªÑ‰ª∂ÔºåÂç≥DAOÁªÑ‰ª∂.4„ÄÅ@component ÔºàÊääÊôÆÈÄöpojoÂÆû‰æãÂåñÂà∞springÂÆπÂô®‰∏≠ÔºåÁõ∏ÂΩì‰∫éÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑ Ôºâ Ê≥õÊåáÂêÑÁßçÁªÑ‰ª∂ÔºåÂ∞±ÊòØËØ¥ÂΩìÊàë‰ª¨ÁöÑÁ±ª‰∏çÂ±û‰∫éÂêÑÁßçÂΩíÁ±ªÁöÑÊó∂ÂÄôÔºà‰∏çÂ±û‰∫é@Controller„ÄÅ@ServicesÁ≠âÁöÑÊó∂ÂÄôÔºâÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•‰ΩøÁî®@ComponentÊù•Ê†áÊ≥®Ëøô‰∏™Á±ª„ÄÇÊ°à‰æãÔºö&lt;context:component-scan base-package=‚Äùcom.*‚Äù&gt;‰∏äÈù¢ÁöÑËøô‰∏™‰æãÂ≠êÊòØÂºïÂÖ•ComponentÁªÑ‰ª∂ÁöÑ‰æãÂ≠êÔºåÂÖ∂‰∏≠base-packageË°®Á§∫‰∏∫ÈúÄË¶ÅÊâ´ÊèèÁöÑÊâÄÊúâÂ≠êÂåÖ„ÄÇ ÂÖ±ÂêåÁÇπÔºöË¢´@controller „ÄÅ@service„ÄÅ@repository „ÄÅ@component Ê≥®Ëß£ÁöÑÁ±ªÔºåÈÉΩ‰ºöÊääËøô‰∫õÁ±ªÁ∫≥ÂÖ•ËøõspringÂÆπÂô®‰∏≠ËøõË°åÁÆ°ÁêÜ @RequestParamGETÂíåPOSTËØ∑Ê±Ç‰º†ÁöÑÂèÇÊï∞‰ºöËá™Âä®ËΩ¨Êç¢ËµãÂÄºÂà∞@RequestParam ÊâÄÊ≥®Ëß£ÁöÑÂèòÈáè‰∏ä\1. @RequestParamÔºàorg.springframework.web.bind.annotation.RequestParamÔºâÁî®‰∫éÂ∞ÜÊåáÂÆöÁöÑËØ∑Ê±ÇÂèÇÊï∞ËµãÂÄºÁªôÊñπÊ≥ï‰∏≠ÁöÑÂΩ¢ÂèÇ„ÄÇ‰æãÔºö(1) getËØ∑Ê±ÇÔºö urlËØ∑Ê±ÇÔºöhttp://localhost:8080/WxProgram/findAllBookByTag?tagId=1&amp;pageIndex=3 userTest.jsp 123456&lt;form action=&quot;/WxProgram/json/requestParamTest&quot; method=&quot;get&quot;&gt; requestParam Test&lt;br&gt; Áî®Êà∑ÂêçÔºö&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt; Áî®Êà∑ÊòµÁß∞Ôºö&lt;input type=&quot;text&quot; name=&quot;usernick&quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;Êèê‰∫§&quot;&gt;&lt;/form&gt; UserController.java ;) 1234567@RequestMapping(value=&quot;/requestParamTest&quot;, method = RequestMethod.GET)public String requestParamTest(@RequestParam(value=&quot;username&quot;) String userName, @RequestParam(value=&quot;usernick&quot;) String userNick)&#123; System.out.println(&quot;requestParam Test&quot;); System.out.println(&quot;username: &quot; + userName); System.out.println(&quot;usernick: &quot; + userNick); return &quot;hello&quot;;&#125; ;) ‰∏äËø∞‰ª£Á†Å‰ºöÂ∞ÜËØ∑Ê±Ç‰∏≠ÁöÑusernameÂèÇÊï∞ÁöÑÂÄºËµãÁªôusernameÂèòÈáè„ÄÇ Á≠â‰ª∑‰∫éÔºö ;) 12345678@RequestMapping(value=&quot;/requestParamTest&quot;, method = RequestMethod.GET)public String requestParamTest(String username, HttpServletRequest request)&#123; System.out.println(&quot;requestParam Test&quot;); System.out.println(&quot;username: &quot; + username); String usernick = request.getParameter(&quot;usernick&quot;); System.out.println(&quot;usernick: &quot; + usernick); return &quot;hello&quot;;&#125; ;) ‰πüÂèØ‰ª•‰∏ç‰ΩøÁî®@RequestParamÔºåÁõ¥Êé•Êé•Êî∂ÔºåÊ≠§Êó∂Ë¶ÅÊ±ÇcontrollerÊñπÊ≥ï‰∏≠ÁöÑÂèÇÊï∞ÂêçÁß∞Ë¶ÅË∑üform‰∏≠nameÂêçÁß∞‰∏ÄËá¥ ;) 1234567@RequestMapping(value=&quot;/requestParamTest&quot;, method = RequestMethod.GET)public String requestParamTest(String username, String usernick)&#123; System.out.println(&quot;requestParam Test&quot;); System.out.println(&quot;username: &quot; + username); System.out.println(&quot;usernick: &quot; + usernick); return &quot;hello&quot;;&#125; ;) ÊÄªÁªìÔºö Êé•Êî∂ËØ∑Ê±ÇÂèÇÊï∞ÁöÑÊñπÂºèÔºö 123@RequestParam(value=&quot;username&quot;) String userName, @RequestParam(value=&quot;usernick&quot;) String userNick //value‰∏≠ÁöÑÂèÇÊï∞ÂêçÁß∞Ë¶ÅË∑üname‰∏≠ÂèÇÊï∞ÂêçÁß∞‰∏ÄËá¥String username, String usernick// Ê≠§Êó∂Ë¶ÅÂèÇÊï∞ÂêçÁß∞‰∏ÄËá¥HttpServletRequest request //request.getParameter(&quot;usernick&quot;) @ResponseBodyÂë¢Ôºü @ResponseBodyÊòØ‰ΩúÁî®Âú®ÊñπÊ≥ï‰∏äÁöÑÔºå@ResponseBody Ë°®Á§∫ËØ•ÊñπÊ≥ïÁöÑËøîÂõûÁªìÊûúÁõ¥Êé•ÂÜôÂÖ• HTTP response body ‰∏≠Ôºå‰∏ÄËà¨Âú®ÂºÇÊ≠•Ëé∑ÂèñÊï∞ÊçÆÊó∂‰ΩøÁî®„Äê‰πüÂ∞±ÊòØAJAX„ÄëÔºåÂú®‰ΩøÁî® @RequestMappingÂêéÔºåËøîÂõûÂÄºÈÄöÂ∏∏Ëß£Êûê‰∏∫Ë∑≥ËΩ¨Ë∑ØÂæÑÔºå‰ΩÜÊòØÂä†‰∏ä @ResponseBody ÂêéËøîÂõûÁªìÊûú‰∏ç‰ºöË¢´Ëß£Êûê‰∏∫Ë∑≥ËΩ¨Ë∑ØÂæÑÔºåËÄåÊòØÁõ¥Êé•ÂÜôÂÖ• HTTP response body ‰∏≠„ÄÇ ÊØîÂ¶ÇÂºÇÊ≠•Ëé∑Âèñ json Êï∞ÊçÆÔºåÂä†‰∏ä @ResponseBody ÂêéÔºå‰ºöÁõ¥Êé•ËøîÂõû json Êï∞ÊçÆ„ÄÇ@RequestBody Â∞Ü HTTP ËØ∑Ê±ÇÊ≠£ÊñáÊèíÂÖ•ÊñπÊ≥ï‰∏≠Ôºå‰ΩøÁî®ÈÄÇÂêàÁöÑ HttpMessageConverter Â∞ÜËØ∑Ê±Ç‰ΩìÂÜôÂÖ•Êüê‰∏™ÂØπË±°„ÄÇ ‰∏æ‰∏™‰æãÂ≠êÔºö ÂâçÂè∞ÂºÇÊ≠•ËØ∑Ê±ÇÔºö ;) 1234567891011121314151617181920212223242526272829303132333435&gt; function loginAction() &#123;&gt; &gt; // Ëé∑ÂèñÁî®Êà∑ËæìÂÖ•ÁöÑË¥¶Âè∑ÂíåÂØÜÁ†Å&gt; var name = $(&apos;#count&apos;).val();&gt; var password = $(&apos;#password&apos;).val();&gt; &gt; $.ajax(&#123;&gt; url : &apos;account/login.do&apos;,&gt; type : &apos;post&apos;,&gt; // dataÂØπË±°‰∏≠ÁöÑÂ±ûÊÄßÂêçË¶ÅÂíåÊúçÂä°Á´ØÊéßÂà∂Âô®ÁöÑÂèÇÊï∞Âêç‰∏ÄËá¥ login(name, password)&gt; data : &#123;&gt; &apos;name&apos; : name,&gt; &apos;password&apos; : password&gt; &#125;,&gt; dataType : &apos;json&apos;,&gt; success : function(result) &#123;&gt; if (result.state == 0) &#123;&gt; // ÁôªÂΩïÊàêÂäüÔºåËÆæÁΩÆcookieÂπ∂Ë∑≥ËΩ¨edit.html&gt; addCookie(&apos;userId&apos;, result.data.id);&gt; addCookie(&apos;nick&apos;, result.data.nick);&gt; location.href = &apos;edit.html&apos;;&gt; &#125; else &#123;&gt; // ÁôªÂΩïÂ§±Ë¥•&gt; var msg = result.message;&gt; $(&apos;#sig_in&apos;).next().html(msg);&gt; $(&apos;#sig_in&apos;).next().css(&quot;color&quot;, &quot;red&quot;);&gt; &#125;&gt; &#125;,&gt; error : function(e) &#123;&gt; alert(&quot;Á≥ªÁªüÂºÇÂ∏∏&quot;);&gt; &#125;&gt; &#125;);&gt; $(&apos;#password&apos;).val(&quot;&quot;);&gt; &#125;&gt; ;) ÂêéÂè∞ ControllerÁ±ª‰∏≠ÂØπÂ∫îÁöÑÊñπÊ≥ïÔºö ;) 12345678&gt; @RequestMapping(&quot;/login.do&quot;)&gt; @ResponseBody&gt; public Object login(String name, String password, HttpSession session) &#123;&gt; user = userService.checkLogin(name, password);&gt; session.setAttribute(&quot;user&quot;, user);&gt; return new JsonResult(user);&gt; &#125;&gt; ;) @RequestBodyÂë¢ ‚Äã @RequestBodyÊòØ‰ΩúÁî®Âú®ÂΩ¢ÂèÇÂàóË°®‰∏äÔºåÁî®‰∫éÂ∞ÜÂâçÂè∞ÂèëÈÄÅËøáÊù•Âõ∫ÂÆöÊ†ºÂºèÁöÑÊï∞ÊçÆ„Äêxml Ê†ºÂºèÊàñËÄÖ jsonÁ≠â„ÄëÂ∞ÅË£Ö‰∏∫ÂØπÂ∫îÁöÑ JavaBean ÂØπË±°ÔºåÂ∞ÅË£ÖÊó∂‰ΩøÁî®Âà∞ÁöÑ‰∏Ä‰∏™ÂØπË±°ÊòØÁ≥ªÁªüÈªòËÆ§ÈÖçÁΩÆÁöÑ HttpMessageConverterËøõË°åËß£ÊûêÔºåÁÑ∂ÂêéÂ∞ÅË£ÖÂà∞ÂΩ¢ÂèÇ‰∏ä„ÄÇ ÊØîÂ¶Ç‰∏äÈù¢ÁöÑÁôªÂΩïÂêéÂè∞‰ª£Á†ÅÂèØ‰ª•Êîπ‰∏∫Ôºö ;) 12345678&gt; @RequestMapping(&quot;/login.do&quot;)&gt; @ResponseBody&gt; public Object login(@RequestBody User loginUuser, HttpSession session) &#123;&gt; user = userService.checkLogin(loginUser);&gt; session.setAttribute(&quot;user&quot;, user);&gt; return new JsonResult(user);&gt; &#125;&gt;]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>SpringBootÊ≥®Ëß£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PathVariablÂíå@RequestParamÁî®Ê≥ï‰∏éÂå∫Âà´]]></title>
    <url>%2F2019%2F02%2F13%2FSpring%20MVC%2F%E6%B3%A8%E8%A7%A3%40PathParam%2F</url>
    <content type="text"><![CDATA[„Äê1„ÄëparamsparamsÔºö ÊåáÂÆörequest‰∏≠ÂøÖÈ°ªÂåÖÂê´Êüê‰∫õÂèÇÊï∞ÂÄºÊòØÔºåÊâçËÆ©ËØ•ÊñπÊ≥ïÂ§ÑÁêÜ„ÄÇ @RequestMapping(value = &quot;testParamsAndHeaders&quot;, params = { &quot;username&quot;,&quot;age!=10&quot; }) public String testParamsAndHeaders() { System.out.println(&quot;testParamsAndHeaders&quot;); return SUCCESS; } params Âè™ÊòØÂà§Êñ≠url ÊàñËÄÖ form data ‰∏≠ÁöÑÂèÇÊï∞ÊòØÂê¶Â§çÂêàparamsÁöÑÂÆö‰πâÔºåÂπ∂‰∏ç‰ºöÁõ¥Êé•ÁªëÂÆöÊï∞ÊçÆÂà∞ÊñπÊ≥ïÁöÑÂèÇÊï∞‰∏≠ÔºÅ2 @PathVariablÁªëÂÆöË∑ØÂæÑ‰∏≠ÁöÑÂç†‰ΩçÁ¨¶ÂèÇÊï∞Âà∞ÊñπÊ≥ïÂèÇÊï∞ÂèòÈáè‰∏≠ÔºõÂè™ËÉΩÁªëÂÆöË∑ØÂæÑ‰∏≠ÁöÑÂç†‰ΩçÁ¨¶ÂèÇÊï∞Ôºå‰∏îË∑ØÂæÑ‰∏≠ÂøÖÈ°ªÊúâÂèÇÊï∞„ÄÇÊó†ËÆ∫ÊòØ GET ÊàñËÄÖPOST Âè™Ë¶Å URL‰∏≠ÊúâÂèÇÊï∞Âç≥ÂèØÔºÅÂÆû‰æãÂ¶Ç‰∏ãÔºöGETRequest URL:http://localhost:8080/SpringMVC-1/springmvc/testPathVariable/1 123456&lt;form action=&quot;springmvc/testPathVariable/1&quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;text&quot; name=&quot;age&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;text&quot; name=&quot;sex&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;submit&quot; value=&quot;submit&quot;/&gt;&lt;/form&gt; „ÄêÊ≥®ÊÑè„ÄëÂ¶ÇÊûúURL‰∏≠Êó†ÂèÇÊï∞ÔºåÂ∞Ü‰ºöÂá∫ÈîôÔºõÂ¶ÇÊûúURLÊúâÂèÇÊï∞Ôºå‰ΩÜÊòØÊ≤°Êúâ‰ΩøÁî®@PathVariablËØ•Ê≥®Ëß£ÔºåÈÇ£‰πàURLÁöÑÂèÇÊï∞‰∏ç‰ºöÈªòËÆ§‰∏éÊñπÊ≥ïÂèÇÊï∞ÁªëÂÆöÔºÅÊñπÊ≥ïÈáåÁöÑÂèÇÊï∞‰ºöÈªòËÆ§ÁªëÂÆöË°®ÂçïÈáåÈù¢ÂØπÂ∫îÁöÑÂèÇÊï∞ÔºÅ ÂêéÂè∞code Â¶ÇÊûúÂèÇÊï∞Âêç‰∏éÂç†‰ΩçÁ¨¶‰∏ÄËá¥ÔºåÂàôÂèØÁõ¥Êé•‰ΩøÁî®@PathVariableÔºõÂ¶ÇÊûú‰∏ç‰∏ÄËá¥ÔºåÂàôÂú®@PathVariable( )Êã¨Âè∑ÂÜÖÁªëÂÆöÂç†‰ΩçÁ¨¶„ÄÇ@RequestMapping(&quot;/testPathVariable/{id}&quot;) public String testPathVariable(@PathVariable(&quot;id&quot;) Integer id2) { System.out.println(&quot;testPathVariable: &quot; + id2); return SUCCESS; } „Äê3„Äë@RequestParamËØ•Ê≥®Ëß£Áõ∏ÂÖ≥Â±ûÊÄßÂ¶Ç‰∏ãÔºö valueÔºöÂèÇÊï∞keyÔºåÂèØ‰ª•‰∏çÂÜôÔºåÈªòËÆ§‰∏∫‚Äù‚ÄùÔºõ nameÔºöÂíåvalue‰ΩúÁî®‰∏ÄÊ†∑Ôºõ requiredÔºöÈªòËÆ§ÂÄº‰∏∫trueÔºåÂèØ‰ª•‰∏çÂÜôÔºõ Ëé∑ÂèñURLÊàñËÄÖ form data ‰∏≠ÁöÑÂèÇÊï∞ ÂâçÂè∞ËØ∑Ê±ÇÂÆû‰æãÂ¶Ç‰∏ãÔºö GET 1POST &lt;form action=&quot;springmvc/testRequestParam&quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;userName&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;text&quot; name=&quot;age&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;text&quot; name=&quot;sex&quot; value=&quot;&quot;/&gt; &lt;input type=&quot;submit&quot; value=&quot;submit&quot;/&gt; &lt;/form&gt; Ê≥®ÊÑè Ôºö GET‰∏≠ÁöÑÂèÇÊï∞ÂΩ¢Âºè‰∏∫Ôºöusername=tom&amp;age=11&amp;sex=boy POST‰∏≠ÁöÑÂèÇÊï∞ÂΩ¢Âºè‰∏∫Ôºö‰ª•ÈîÆÂÄºÂØπÂΩ¢Âºè‰øùÂ≠òÂú®form data ÂêéÂè∞‰ª£Á†ÅÁ§∫‰æãÔºö @RequestMapping(value=&quot;/regist&quot;,produces=&quot;application/json;charset=utf-8&quot;) @ResponseBody public String regist(SysUser sysUser , @RequestParam(required=true,name=&quot;sex&quot;) String sex){ String userName = sysUser.getUserName(); String age = sysUser.getAge(); //... return &quot;regist success&quot;; } ÊÄªÂæóÊù•ËØ¥ÔºåÂùáÊòØÈîÆÂÄºÂØπÂΩ¢ÂºèÔºå‰∏é@PathVariabl‰∏≠ÁöÑÂç†‰ΩçÁ¨¶ÂΩ¢Âºè‰∏çÂêåÔºÅÔºÅÔºÅ #@RequestParamÊ≥®Ëß£ @RequestParamÊ≥®Ëß£ÊØîËæÉÁÆÄÂçïÔºåÂÆÉÁî®‰∫éÂ∞ÜËØ∑Ê±ÇÂèÇÊï∞Âå∫Êï∞ÊçÆÊò†Â∞ÑÂà∞ÂäüËÉΩÂ§ÑÁêÜÊñπÊ≥ïÁöÑÂèÇÊï∞‰∏äÔºåËá™SpringMVC4.2‰πãÂêéÔºå@RequestParamÊ≥®Ëß£ÂÜÖÈÉ®Êúâ4‰∏™ÂèÇÊï∞Ôºö String name String value boolean required String defaultValue 1.name‰∏évalueÂ±ûÊÄßÔºåÂÖ∂‰∏≠nameÂíåvalueÂàÜÂà´ÊòØURLÂèÇÊï∞ÁöÑÂêçÁß∞ÔºåÂç≥‰∫åËÄÖÊ≤°Âå∫Âà´ÔºåÊàë‰∏™‰∫∫ÊØîËæÉÂñúÊ¨¢Áî®nameÔºåÂõ†‰∏∫Âú®HTMLÁöÑË°®Âçï‰∏≠Êàë‰ª¨ÈÉΩÊòØÁî®nameÂ±ûÊÄßÊù•ËÆæÁΩÆURLÂèÇÊï∞ÂêçÁß∞ÁöÑÔºåÊâÄ‰ª•Âú®Ê≥®Ëß£‰∏ä‰πü‰ΩøÁî®nameËøô‰∏™Â±ûÊÄßÁöÑËØùÔºå‰ºöÊõ¥Áõ¥ËßÇ‰∏Ä‰∫õ„ÄÇÁ§∫‰æãÔºö 1234567891011121314151617181920212223package org.zero01.test;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;@Controller@RequestMapping("/test")public class Test &#123; @RequestMapping("test.do") // ÊåáÂÆöÂ∞ÜusernameÂèÇÊï∞ÁöÑÂÄº‰º†ÈÄíÂà∞ËØ•ÊñπÊ≥ïÁöÑnameÂèÇÊï∞‰∏ä public void test(@RequestParam(name = "username") String name) &#123; System.out.println(name); &#125; @RequestMapping("user.do") // ÊåáÂÆöÂ∞ÜusernameÂèÇÊï∞ÁöÑÂÄº‰º†ÈÄíÂà∞ËØ•ÊñπÊ≥ïÁöÑuserÂèÇÊï∞‰∏äÔºåaliasÂèÇÊï∞ÁöÑÂÄºÂàô‰º†ÈÄíÂà∞ËØ•ÊñπÊ≥ïÁöÑaÂèÇÊï∞‰∏ä public void userAndAlias(@RequestParam(name = "username")String user, @RequestParam(name = "alias")String a) &#123; System.out.println(user); System.out.println(a); &#125;&#125; 2.requiredÂ±ûÊÄßÔºåËØ•Â±ûÊÄßÁî®‰∫éÊåáÂÆöÊüê‰∏™ÂèÇÊï∞ÊòØÂê¶ÊòØÂøÖÈ°ªÁöÑÔºåÈªòËÆ§ÂÄº‰∏∫trueÔºåË°®Á§∫ËØ∑Ê±Ç‰∏≠‰∏ÄÂÆöË¶ÅÊúâÁõ∏Â∫îÁöÑÂèÇÊï∞ÔºåÂê¶ÂàôÂ∞ÜÊä•404ÈîôËØØÁ†ÅÔºåÁ§∫‰æãÔºö 1234567891011121314151617181920212223package org.zero01.test;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;@Controller@RequestMapping("/test")public class Test &#123; @RequestMapping("test.do") // ÊåáÂÆöusernameÂèÇÊï∞ÊòØÂøÖÈ°ªÁöÑÔºåÂ¶ÇÊûúurl‰∏äÊ≤°ÊúâÁöÑËØùÂ∞±‰ºöÊä•Èîô public void test(@RequestParam(name = "username", required = true) String name) &#123; System.out.println(name); &#125; @RequestMapping("user.do") // ÊåáÂÆöusername‰∏éaliasÂèÇÊï∞‰∏çÊòØÂøÖÈ°ªÁöÑÔºåÂç≥‰æøurl‰∏äÊ≤°Êúâ‰πü‰∏ç‰ºöÊä•Èîô public void userAndAlias(@RequestParam(name = "username", required = false) String user, @RequestParam(name = "alias", required = false) String a) &#123; System.out.println(user); System.out.println(a); &#125;&#125; 3.defaultValueÂ±ûÊÄßÔºåËØ•Â±ûÊÄßÁî®‰∫éÊåáÂÆöÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄºÔºåË°®Á§∫Â¶ÇÊûúËØ∑Ê±Ç‰∏≠Ê≤°ÊúâÂêåÂêçÂèÇÊï∞Êó∂ÁöÑÈªòËÆ§ÂÄºÔºåÈªòËÆ§ÂÄºÂèØ‰ª•ÊòØSpELË°®ËææÂºèÔºåÂ¶Ç‚Äú#{systemProperties[‚Äòjava.vm.version‚Äô]}‚Äù„ÄÇÁ§∫‰æãÔºö 1234567891011121314151617181920212223package org.zero01.test;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;@Controller@RequestMapping("/test")public class Test &#123; @RequestMapping("test.do") // url‰∏äÊ≤°ÊúâusernameÂèÇÊï∞Êó∂ÔºåÁªôÂÆÉËÆæÁΩÆ‰∏Ä‰∏™ÈªòËÆ§ÂÄº‰∏∫nothing public void test(@RequestParam(name = "username", defaultValue = "nothing") String name) &#123; System.out.println(name); &#125; @RequestMapping("user.do") // url‰∏äÊ≤°Êúâusername‰ª•ÂèäaliasÂèÇÊï∞Êó∂ÔºåÁªôÂÆÉËÆæÁΩÆ‰∏Ä‰∏™ÈªòËÆ§ÂÄº‰∏∫nothing public void userAndAlias(@RequestParam(name = "username", defaultValue = "nothing") String user, @RequestParam(name = "alias", defaultValue = "nothing") String a) &#123; System.out.println(user); System.out.println(a); &#125;&#125;]]></content>
      <tags>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊÖïËØæÁΩë ÂâçÂêéÁ´ØÂàÜÁ¶ª ÂºÄÂèëÂ§ß‰ºóÁÇπËØÑÈ°πÁõÆ]]></title>
    <url>%2F2019%2F02%2F12%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E5%A4%A7%E4%BC%97%E7%82%B9%E8%AF%84%E6%85%95%E8%AF%BE%E7%BD%91%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[Á¨¨1Á´† ËØæÁ®ãÊ¶ÇËßà Á¨¨‰∫åÁ´† ÂºÄÂèëÂáÜÂ§á1 ËøêË°åÂâçÁ´ØÈ°πÁõÆ 12345cd /xxxÂâçÁ´ØÈ°πÁõÆnpm installnpm run mock]]></content>
      <tags>
        <tag>ÂÆûÊàò</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F02%2F12%2FTest%2F</url>
    <content type="text"><![CDATA[17100621962ÂØÜÁ†Ådh932581234mvn test# 17100621962ÂØÜÁ†Ådh93258# 17100621962ÂØÜÁ†Ådh93258# 17100621962ÂØÜÁ†Ådh93258]]></content>
  </entry>
  <entry>
    <title><![CDATA[ÂàÜÂ∏ÉÂºèsession]]></title>
    <url>%2F2019%2F02%2F05%2F%E6%8A%80%E6%9C%AF%E6%A0%88%2F%E5%88%86%E5%B8%83%E5%BC%8Fsession%2F%E5%88%86%E5%B8%83%E5%BC%8FSession%2F</url>
    <content type="text"><![CDATA[ÂàÜÂ∏ÉÂºèsession]]></content>
      <tags>
        <tag>ÂºÄÂèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBootÊï¥ÂêàRedis]]></title>
    <url>%2F2019%2F02%2F05%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRedis%2FSpringBoot%20Redis%2F</url>
    <content type="text"><![CDATA[1 ‰æùËµñ1234567891011121314151617&lt;!--redisÁ∫ØÊ¥ÅÁöÑÂæÆÁ¨ë--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!--redis Á∫ØÊ¥ÅÁöÑÂæÆÁ¨ë--&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt; &lt;version&gt;2.6.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.netty&lt;/groupId&gt; &lt;artifactId&gt;netty-codec&lt;/artifactId&gt; &lt;version&gt;4.1.31.Final&lt;/version&gt; &lt;/dependency&gt; 2 ÈÖçÁΩÆÊñá‰ª∂12345678spring.redis.database=1spring.redis.host=127.0.0.1spring.redis.port=6379spring.redis.password=spring.redis.lettuce.pool.max-active=8spring.redis.lettuce.pool.max-wait=-1spring.redis.lettuce.pool.max-idle=8spring.redis.lettuce.pool.min-idle=0 3.RedisConfig1234567891011121314151617181920212223242526272829303132package com.imooc.miaosha.Redis_new;import com.fasterxml.jackson.annotation.JsonAutoDetect;import com.fasterxml.jackson.annotation.PropertyAccessor;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.cache.annotation.CachingConfigurerSupport;import org.springframework.cache.annotation.EnableCaching;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.data.redis.connection.RedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.core.StringRedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;@Configuration@EnableCaching//ÂºÄÂêØÁºìÂ≠òpublic class RedisConfig extends CachingConfigurerSupport &#123; @Bean public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate template = new StringRedisTemplate(factory); Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class); ObjectMapper om = new ObjectMapper(); om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); jackson2JsonRedisSerializer.setObjectMapper(om); template.setValueSerializer(jackson2JsonRedisSerializer); template.afterPropertiesSet(); return template; &#125;&#125; 4.Controller123456789101112131415161718192021222324@Controller@RequestMapping("/redis")public class RedisTestController &#123; @Autowired private RedisTemplate&lt;String, String&gt; redisTemplate; @RequestMapping("/string") @ResponseBody public void testString() &#123; redisTemplate.opsForValue().set("neo", "redis"); &#125; @RequestMapping("/get") @ResponseBody public void getString() &#123; redisTemplate.opsForValue().get("neo"); &#125; @RequestMapping("/test") @ResponseBody public void test() &#123; redisTemplate.opsForValue().set("hhh", "hexo"); &#125;&#125; RedisConfigÔºàÈôÑÂΩïÔºâ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071package com.imooc.miaosha.Redis_new;import com.fasterxml.jackson.annotation.JsonAutoDetect;import com.fasterxml.jackson.annotation.PropertyAccessor;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.cache.CacheManager;import org.springframework.cache.annotation.CachingConfigurerSupport;import org.springframework.cache.annotation.EnableCaching;import org.springframework.cache.interceptor.KeyGenerator;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.data.redis.cache.RedisCacheConfiguration;import org.springframework.data.redis.cache.RedisCacheManager;import org.springframework.data.redis.connection.RedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.core.StringRedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;import java.lang.reflect.Method;import java.time.Duration;import java.util.HashMap;import java.util.HashSet;import java.util.Map;import java.util.Set;@Configuration@EnableCaching//ÂºÄÂêØÁºìÂ≠òpublic class RedisConfig extends CachingConfigurerSupport &#123; @Bean public KeyGenerator keyGenerator() &#123; return new KeyGenerator() &#123; @Override public Object generate(Object target, Method method, Object... params) &#123; StringBuilder sb = new StringBuilder(); sb.append(target.getClass().getName()); sb.append(method.getName()); for (Object obj : params) &#123; sb.append(obj.toString()); &#125; return sb.toString(); &#125; &#125;; &#125; @Bean public CacheManager cacheManager(RedisConnectionFactory factory) &#123; RedisCacheManager cacheManager = RedisCacheManager.create(factory); return cacheManager; &#125; @Bean public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate template = new StringRedisTemplate(factory); Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class); ObjectMapper om = new ObjectMapper(); om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); jackson2JsonRedisSerializer.setObjectMapper(om); template.setValueSerializer(jackson2JsonRedisSerializer); template.afterPropertiesSet(); return template; &#125; @Bean public StringRedisTemplate stringRedisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate stringRedisTemplate = new StringRedisTemplate(); stringRedisTemplate.setConnectionFactory(factory); return stringRedisTemplate; &#125;&#125; ÂèÇËÄÉËµÑÊñô https://blog.csdn.net/sy793314598/article/details/80719224 https://blog.csdn.net/long290046464/article/details/76596103 https://blog.csdn.net/long290046464/article/details/76596103 https://segmentfault.com/q/1010000015203664/a-1020000015204174]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËåÉÂûã]]></title>
    <url>%2F2019%2F02%2F05%2Fjava%E5%9F%BA%E7%A1%80%2F%E8%8C%83%E5%9E%8B%2F</url>
    <content type="text"></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[extendsÂÖ≥ÈîÆÂ≠ó]]></title>
    <url>%2F2019%2F02%2F04%2Fjava%E5%9F%BA%E7%A1%80%2Fextends%2F</url>
    <content type="text"></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[abstractÂÖ≥ÈîÆÂ≠ó]]></title>
    <url>%2F2019%2F02%2F04%2Fjava%E5%9F%BA%E7%A1%80%2Fabstract%2F</url>
    <content type="text"><![CDATA[ÊäΩË±°Ôºö‰∏çÂÖ∑‰ΩìÔºåÁúã‰∏çÊòéÁôΩ„ÄÇ ÊäΩË±°Á±ªË°®Ë±°‰ΩìÁé∞„ÄÇ Âú®‰∏çÊñ≠ÊäΩÂèñËøáÁ®ã‰∏≠ÔºåÂ∞ÜÂÖ±ÊÄßÂÜÖÂÆπ‰∏≠ÁöÑÊñπÊ≥ïÂ£∞ÊòéÊäΩÂèñÔºå‰ΩÜÊòØÊñπÊ≥ï‰∏ç‰∏ÄÊ†∑ÔºåÊ≤°ÊúâÊäΩÂèñÔºåËøôÊó∂ÊäΩÂèñÂà∞ÁöÑÊñπÊ≥ïÔºåÂπ∂‰∏çÂÖ∑‰ΩìÔºåÈúÄË¶ÅË¢´ÊåáÂÆöÂÖ≥ÈîÆÂ≠óabstractÊâÄÊ†áÁ§∫ÔºåÂ£∞Êòé‰∏∫ÊäΩË±°ÊñπÊ≥ï„ÄÇ ÊäΩË±°ÊñπÊ≥ïÊâÄÂú®Á±ª‰∏ÄÂÆöË¶ÅÊ†áÁ§∫‰∏∫ÊäΩË±°Á±ªÔºå‰πüÂ∞±ÊòØËØ¥ËØ•Á±ªÈúÄË¶ÅË¢´abstractÂÖ≥ÈîÆÂ≠óÊâÄ‰øÆÈ•∞„ÄÇ ÊäΩË±°Á±ªÁöÑÁâπÁÇπÔºö 1ÔºöÊäΩË±°ÊñπÊ≥ïÂè™ËÉΩÂÆö‰πâÂú®ÊäΩË±°Á±ª‰∏≠ÔºåÊäΩË±°Á±ªÂíåÊäΩË±°ÊñπÊ≥ïÂøÖÈ°ªÁî±abstractÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞ÔºàÂèØ‰ª•ÊèèËø∞Á±ªÂíåÊñπÊ≥ïÔºå‰∏çÂèØ‰ª•ÊèèËø∞ÂèòÈáèÔºâ„ÄÇ 2ÔºöÊäΩË±°ÊñπÊ≥ïÂè™ÂÆö‰πâÊñπÊ≥ïÂ£∞ÊòéÔºåÂπ∂‰∏çÂÆö‰πâÊñπÊ≥ïÂÆûÁé∞„ÄÇ 3ÔºöÊäΩË±°Á±ª‰∏çÂèØ‰ª•Ë¢´ÂàõÂª∫ÂØπË±°(ÂÆû‰æãÂåñ)„ÄÇ 4ÔºöÂè™ÊúâÈÄöËøáÂ≠êÁ±ªÁªßÊâøÊäΩË±°Á±ªÂπ∂Ë¶ÜÁõñ‰∫ÜÊäΩË±°Á±ª‰∏≠ÁöÑÊâÄÊúâÊäΩË±°ÊñπÊ≥ïÂêéÔºåËØ•Â≠êÁ±ªÊâçÂèØ‰ª•ÂÆû‰æãÂåñ„ÄÇÂê¶ÂàôÔºåËØ•Â≠êÁ±ªËøòÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ª„ÄÇ ÊäΩË±°Á±ªÁöÑÁªÜËäÇÔºö 1ÔºöÊäΩË±°Á±ª‰∏≠ÊòØÂê¶ÊúâÊûÑÈÄ†ÂáΩÊï∞ÔºüÊúâÔºåÁî®‰∫éÁªôÂ≠êÁ±ªÂØπË±°ËøõË°åÂàùÂßãÂåñ„ÄÇ 2ÔºöÊäΩË±°Á±ª‰∏≠ÊòØÂê¶ÂèØ‰ª•ÂÆö‰πâÈùûÊäΩË±°ÊñπÊ≥ïÔºü ÂèØ‰ª•„ÄÇÂÖ∂ÂÆûÔºåÊäΩË±°Á±ªÂíå‰∏ÄËà¨Á±ªÊ≤°ÊúâÂ§™Â§ßÁöÑÂå∫Âà´ÔºåÈÉΩÊòØÂú®ÊèèËø∞‰∫ãÁâ©ÔºåÂè™‰∏çËøáÊäΩË±°Á±ªÂú®ÊèèËø∞‰∫ãÁâ©Êó∂ÔºåÊúâ‰∫õÂäüËÉΩ‰∏çÂÖ∑‰Ωì„ÄÇÊâÄ‰ª•ÊäΩË±°Á±ªÂíå‰∏ÄËà¨Á±ªÂú®ÂÆö‰πâ‰∏äÔºåÈÉΩÊòØÈúÄË¶ÅÂÆö‰πâÂ±ûÊÄßÂíåË°å‰∏∫ÁöÑ„ÄÇÂè™‰∏çËøáÔºåÊØî‰∏ÄËà¨Á±ªÂ§ö‰∫Ü‰∏Ä‰∏™ÊäΩË±°ÂáΩÊï∞„ÄÇËÄå‰∏îÊØî‰∏ÄËà¨Á±ªÂ∞ë‰∫Ü‰∏Ä‰∏™ÂàõÂª∫ÂØπË±°ÁöÑÈÉ®ÂàÜ„ÄÇ 3ÔºöÊäΩË±°ÂÖ≥ÈîÆÂ≠óabstractÂíåÂì™‰∫õ‰∏çÂèØ‰ª•ÂÖ±Â≠òÔºüfinal , private , static 4ÔºöÊäΩË±°Á±ª‰∏≠ÂèØ‰∏çÂèØ‰ª•‰∏çÂÆö‰πâÊäΩË±°ÊñπÊ≥ïÔºüÂèØ‰ª•„ÄÇÊäΩË±°ÊñπÊ≥ïÁõÆÁöÑ‰ªÖ‰ªÖ‰∏∫‰∫Ü‰∏çËÆ©ËØ•Á±ªÂàõÂª∫ÂØπË±°„ÄÇ]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[thisÂÖ≥ÈîÆÂ≠ó]]></title>
    <url>%2F2019%2F02%2F04%2Fjava%E5%9F%BA%E7%A1%80%2FThis%2F</url>
    <content type="text"><![CDATA[Java‰∏≠thisÂÖ≥ÈîÆÂ≠óÂú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÁöÑ‰ΩøÁî®\1. Java‰∏≠thisÂÖ≥ÈîÆÂ≠ó‰ª£Ë°®ÂØπË±°Êú¨Ë∫´„ÄÇÁî®thisÂÖ≥ÈîÆÂ≠óÂèØ‰ª•Âú®Á±ªÁöÑÂÜÖÈÉ®Ë∞ÉÁî®Â±ûÊÄßÂíåÊñπÊ≥ïÔºåËøôÊ†∑‰ª£Á†ÅÁöÑÂèØËØªÊÄßÊØîËæÉÈ´òÔºåÂõ†‰∏∫ÂÆÉÊòéÁ°ÆÁöÑÊåáÂá∫‰∫ÜËøô‰∏™Â±ûÊÄßÊàñÊñπÊ≥ïÁöÑÊù•Ê∫ê„ÄÇ \2. ÂêåÊó∂Âú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠‰πüÂèØ‰ª•‰ΩøÁî®thisÂÖ≥ÈîÆÂ≠óË∞ÉÁî®Êú¨Á±ª‰∏≠ÁöÑÂÖ∂ÂÆÉÊûÑÈÄ†ÂáΩÊï∞Ôºå‰ΩÜÊúâÂá†ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºö ÊûÑÈÄ†ÂáΩÊï∞Ë∞ÉÁî®ÂÖ∂ÂÆÉÊûÑÈÄ†ÂáΩÊï∞ÔºåÈúÄË¶ÅÂ∞ÜthisÂÜôÂú®ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ¨¨‰∏ÄË°å„ÄÇ ÊûÑÈÄ†ÂáΩÊï∞‰∏çÂèØÈÄíÂΩíÔºåÈò≤Ê≠¢Ê≠ªÂæ™ÁéØ„ÄÇ \3. ‰∏Ä‰∏™Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞ÂàÜ‰∏∫Êó†ÂèÇÂíåÊúâÂèÇÊûÑÈÄ†ÂáΩÊï∞„ÄÇÈÄöÂ∏∏ÂÅöÊ≥ïÊòØÊåáÂÆöÂÜôÂ•Ω‰∏Ä‰∏™ÂåÖÂê´ÊâÄÊúâÂ≠óÊÆµÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÁÑ∂ÂêéÂÖ∂ÂÆÉÊûÑÈÄ†ÂáΩÊï∞ÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®ËØ•ÂáΩÊï∞ÔºåÂÆûÁé∞‰ª£Á†ÅÈáçÁî® https://www.cnblogs.com/yougewe/p/9468960.html ËØ¥Âà∞ÊäΩË±°ÔºåÊÉ≥ÂøÖÂ§ßÂÆ∂Á¨¨‰∏Ä‰∏™ËÅîÊÉ≥Âà∞ÁöÑÂ∞±ÊòØÊäΩË±°ÁîªÔºåÂü∫Êú¨‰∏äÁúã‰∏çÊáÇÁîªÁöÑÊòØÂï•ÔºåÂè™ËÉΩËØ¥ÂÆÉÂú®Ë°®ËææÊüê‰∏™Ê¶ÇÂøµ„ÄÇÂú®java‰∏≠Êàë‰ª¨‰∏≠abstractÂÖ≥ÈîÆÂ≠óÊù•Ë°®ËææÊäΩË±°„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºöÊàë‰ª¨ËØ¥ËΩ¶Â≠êÈÉΩÂèØ‰ª•Ë∑ë(run)„ÄÇ‰ΩÜÊúâÂá†‰∏™ËΩÆÂ≠êÔºåÊÄé‰πàË∑ëÔºåÂØπ‰∫é‰∏çÂêåÁöÑËΩ¶Êúâ‰∏çÂêåÁöÑÁªìÊûú„ÄÇËá™Ë°åËΩ¶ÈúÄË¶Å‰∫∫Ë∏©ÁùÄË∑ëÔºåÊ±ΩËΩ¶ÂèëÂä®Êú∫Êé®Âä®Ë∑ëÁ≠âÁ≠âÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ËΩ¶Ë°®Ëææ‰∏∫ÊäΩË±°Á±ª„ÄÇ /** ËΩ¶Â≠êÁ±ª */ public abstract class Car { public abstract void run(); } /** Ëá™Ë°åËΩ¶ */ class Bicycle extends Car{ @Override public void run() { System.out.println(&quot;‰∫∫Ë∏©ÁùÄË∑ë„ÄÇ„ÄÇ„ÄÇ&quot;); } }/*** Ê±ΩËΩ¶ */ class Automobile extends Car{ @Override public void run() { System.out.println(&quot;ÂèëÂä®Êú∫È©±Âä®Ë∑ë„ÄÇ„ÄÇ„ÄÇ&quot;); } }1234567891011121314151617181920212223242526272829ÂÅáÂ¶ÇÂêéÈù¢ÂêÑÁßçËΩ¶ÔºåÂÄíÁùÄË∑ë„ÄÅÊÇ¨Âú®Á©∫‰∏≠Ë∑ëÈöè‰Ω†ÊÄé‰πàË∑ëÔºåÂè™ÈúÄË¶ÅÁªßÊâøÊäΩË±°Á±ªÂÆûÁé∞Ëá™Â∑±ÁöÑ‰∏öÂä°Â∞±Ë°å‰∫Ü„ÄÇÁõ∏‰ø°Â§ßÂÆ∂ÂØπjavaÊäΩË±°Â∑≤Êúâ‰∏Ä‰∏™ÂàùÊ≠•ÁöÑÂç∞Ë±°‰∫Ü„ÄÇ ÊäΩË±°ÊñπÊ≥ïÔºö 1„ÄÅ‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÊäΩË±°ÊñπÊ≥ïË∑üÊôÆÈÄöÊñπÊ≥ïÊòØÊúâÂå∫Âà´ÁöÑÔºåÂÆÉÊ≤°ÊúâËá™Â∑±ÁöÑ‰∏ª‰ΩìÔºàÊ≤°Êúâ{}ÂåÖËµ∑Êù•ÁöÑ‰∏öÂä°ÈÄªËæëÔºâÔºåË∑üÊé•Âè£‰∏≠ÁöÑÊñπÊ≥ïÊúâÁÇπÁ±ª‰ºº„ÄÇÊâÄ‰ª•Êàë‰ª¨Ê≤°Ê≥ïÁõ¥Êé•Ë∞ÉÁî®ÊäΩË±°ÊñπÊ≥ï 2„ÄÅÊäΩË±°ÊñπÊ≥ï‰∏çËÉΩÁî®private‰øÆÈ•∞ÔºåÂõ†‰∏∫ÊäΩË±°ÊñπÊ≥ïÂøÖÈ°ªË¢´Â≠êÁ±ªÂÆûÁé∞ÔºàË¶ÜÂÜôÔºâÔºåËÄåprivateÊùÉÈôêÂØπ‰∫éÂ≠êÁ±ªÊù•ËØ¥ÊòØ‰∏çËÉΩËÆøÈóÆÁöÑÔºåÊâÄ‰ª•Â∞±‰ºö‰∫ßÁîüÁüõÁõæ 3„ÄÅÊäΩË±°ÊñπÊ≥ï‰πü‰∏çËÉΩÁî®static‰øÆÈ•∞ÔºåËØïÊÉ≥‰∏Ä‰∏ãÔºåÂ¶ÇÊûúÁî®static‰øÆÈ•∞‰∫ÜÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÈÄöËøáÁ±ªÂêçË∞ÉÁî®ÔºåËÄåÊäΩË±°ÊñπÊ≥ïÂéãÊ†πÂ∞±Ê≤°Êúâ‰∏ª‰ΩìÔºåÊ≤°Êúâ‰ªª‰Ωï‰∏öÂä°ÈÄªËæëÔºåËøôÊ†∑Â∞±ÊØ´Êó†ÊÑè‰πâ‰∫Ü„ÄÇ12345678ÊäΩË±°Á±ªÔºö 1„ÄÅÁî®abstractÂÖ≥ÈîÆÂ≠óÊù•Ë°®ËææÁöÑÁ±ªÔºåÂÖ∂Ë°®ËææÂΩ¢Âºè‰∏∫ÔºöÔºàpublicÔºâabstract class Á±ªÂêç{} 2„ÄÅÊäΩË±°Á±ª‰∏çËÉΩË¢´ÂÆû‰æãÂåñÔºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨Ê≤°Ê≥ïÁõ¥Êé•new ‰∏Ä‰∏™ÊäΩË±°Á±ª„ÄÇÊäΩË±°Á±ªÊú¨Ë∫´Â∞±‰ª£Ë°®‰∫Ü‰∏Ä‰∏™Á±ªÂûãÔºåÊó†Ê≥ïÁ°ÆÂÆö‰∏∫‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÂØπË±°ÔºåÊâÄ‰ª•‰∏çËÉΩÂÆû‰æãÂåñÂ∞±Âêà‰πéÊÉÖÁêÜ‰∫ÜÔºåÂè™ËÉΩÊúâÂÆÉÁöÑÁªßÊâøÁ±ªÂÆû‰æãÂåñ„ÄÇ 3„ÄÅÊäΩË±°Á±ªËôΩÁÑ∂‰∏çËÉΩË¢´ÂÆû‰æãÂåñÔºå‰ΩÜÊúâËá™Â∑±ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºàËøô‰∏™ÂêéÈù¢ÂÜçËÆ®ËÆ∫Ôºâ 4„ÄÅÊäΩË±°Á±ª‰∏éÊé•Âè£ÔºàinterfaceÔºâÊúâÂæàÂ§ßÁöÑ‰∏çÂêå‰πãÂ§ÑÔºåÊé•Âè£‰∏≠‰∏çËÉΩÊúâÂÆû‰æãÊñπÊ≥ïÂéªÂÆûÁé∞‰∏öÂä°ÈÄªËæëÔºåËÄåÊäΩË±°Á±ª‰∏≠ÂèØ‰ª•ÊúâÂÆû‰æãÊñπÊ≥ïÔºåÂπ∂ÂÆûÁé∞‰∏öÂä°ÈÄªËæëÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•Âú®ÊäΩË±°Á±ª‰∏≠ÂàõÂª∫ÂíåÈîÄÊØÅ‰∏Ä‰∏™Á∫øÁ®ãÊ±†„ÄÇ 5„ÄÅÊäΩË±°Á±ª‰∏çËÉΩ‰ΩøÁî®finallyÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞ÔºåÂõ†‰∏∫finally‰øÆÈ•∞ÁöÑÁ±ªÊòØÊó†Ê≥ïË¢´ÁªßÊâøÔºåËÄåÂØπ‰∫éÊäΩË±°Á±ªÊù•ËØ¥Â∞±ÊòØÈúÄË¶ÅÈÄöËøáÁªßÊâøÂéªÂÆûÁé∞ÊäΩË±°ÊñπÊ≥ïÔºåËøôÂèà‰ºö‰∫ßÁîüÁüõÁõæ„ÄÇÔºàÂêéÈù¢Â∞ÜÂÜô‰∏ÄÁØáÂÖ≥‰∫éfinallyÁöÑÊñáÁ´†ËØ¶ÁªÜËÆ®ËÆ∫Ôºâ123456789101112ÊäΩË±°Á±ª‰∏éÊäΩË±°ÊñπÊ≥ïÁöÑÂÖ≥ËÅîÔºö Â¶ÇÊûú‰∏Ä‰∏™Á±ª‰∏≠Ëá≥Â∞ëÊúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÔºåÈÇ£‰πàËøô‰∏™Á±ª‰∏ÄÂÆöÊòØÊäΩË±°Á±ªÔºå‰ΩÜÂèç‰πãÂàô‰∏çÁÑ∂„ÄÇ‰πüÂ∞±ÊòØËØ¥‰∏Ä‰∏™ÊäΩË±°Á±ª‰∏≠ÂèØ‰ª•Ê≤°ÊúâÊäΩË±°ÊñπÊ≥ï„ÄÇËøôÊ†∑ÂÅöÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÊ≠§Á±ª‰∏çËÉΩË¢´ÂÆû‰æãÂåñ„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™Á±ªÁªßÊâø‰∫Ü‰∏Ä‰∏™ÊäΩË±°Á±ªÔºåÈÇ£‰πàÂÆÉÂøÖÈ°ªÂÖ®ÈÉ®Ë¶ÜÂÜôÊäΩË±°Á±ª‰∏≠ÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•‰∏çÂÖ®ÈÉ®Ë¶ÜÂÜôÔºåÂ¶ÇÊûú‰∏çË¶ÜÂÜôÂÖ®ÈÉ®ÊäΩË±°ÊñπÊ≥ïÂàôËøô‰∏™Â≠êÁ±ª‰πüÂøÖÈ°ªÊòØÊäΩË±°Á±ªÔºàËøôÊ†∑ÂÅöÂ∞±Êó†ÊÑè‰πâ‰∫ÜÔºâ12345public abstract class Car { public void mothod1(){ } public abstract void mothod2(); public abstract void method3(); }class Bicycle extends Car{ @Override public void mothod2() {//ÈúÄË¶ÅË¶ÜÂÜôÊäΩË±°ÊñπÊ≥ïmothod2 } @Override public void method3() {//ÈúÄË¶ÅË¶ÜÂÜôÊäΩË±°ÊñπÊ≥ïmothod3 } }123456789101112131415161718192021ÊäΩË±°Á±ªÁöÑÊûÑÈÄ†Âô®Ôºö ÂÖàÊù•Áúã‰∏Ä‰∏™‰æãÂ≠êÔºö public abstract class Car { Car(){ System.out.println(&quot;ÊäΩË±°ÊñπÊ≥ïÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞&quot;); } Car(String a){ System.out.println(&quot;ÊäΩË±°ÊúâÂèÇÊûÑÈÄ†ÊñπÊ≥ï&quot;); } public void mothod1(){ System.out.println(this.getClass()); System.out.println(&quot;ÊäΩË±°Á±ªÁöÑÂÆû‰æãÊñπÊ≥ï&quot;); } public abstract void mothod2(); }/** Ëá™Ë°åËΩ¶ */ class Bicycle extends Car{ Bicycle(){ System.out.println(&quot;Â≠êÁ±ªÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞&quot;); } @Override public void mothod2() {//ÈúÄË¶ÅË¶ÜÂÜôÊäΩË±°ÊñπÊ≥ïmothod2 } } /Âè¶‰∏Ä‰∏™ÂåÖÁöÑÊµãËØïÁ±ª/ public class Test { public static void main(String[] args) { Bicycle b = new Bicycle(); b.mothod1(); } } ÁªìÊûúÔºö ÊäΩË±°ÊñπÊ≥ïÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ Â≠êÁ±ªÊó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ class com.shaolin.service.impl.Bicycle ÊäΩË±°Á±ªÁöÑÂÆû‰æãÊñπÊ≥ï 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 ‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÂèØ‰ª•ÁúãÂá∫Ôºö 1„ÄÅÊäΩË±°Á±ªÊòØÊúâÊûÑÈÄ†ÊñπÊ≥ïÁöÑÔºàÂΩìÁÑ∂Â¶ÇÊûúÊàë‰ª¨‰∏çÂÜôÔºåÁºñËØëÂô®‰ºöËá™Âä®ÈªòËÆ§‰∏Ä‰∏™Êó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÔºâ„ÄÇËÄå‰∏î‰ªéÁªìÊûúÊù•ÁúãÔºåÂíåÊôÆÈÄöÁöÑÁªßÊâøÁ±ª‰∏ÄÊ†∑ÔºåÂú®new ‰∏Ä‰∏™Â≠êÁ±ªÂØπË±°Êó∂‰ºö‰ºòÂÖàË∞ÉÁî®Áà∂Á±ªÔºàËøôÈáåÊåáÁöÑÊòØÊäΩË±°Á±ªCarÔºâÁöÑÊûÑÈÄ†Âô®ÂàùÂßãÂåñÔºåÁÑ∂ÂêéÂÜçË∞ÉÁî®Â≠êÁ±ªÁöÑÊûÑÈÄ†Âô®„ÄÇËá≥Ê≠§Áõ∏‰ø°Â§ßÂÆ∂ÈÉΩ‰ºöÊúâËøôÊ†∑‰∏Ä‰∏™ÁñëÈóÆÔºå‰∏∫‰ªÄ‰πàÊäΩË±°ÊñπÊ≥ï‰∏çËÉΩÂÆû‰æãÂåñÂç¥ÊúâÊûÑÈÄ†Âô®Âë¢Ôºü ÂØπ‰∫éËøô‰∏™ÈóÆÈ¢òÁΩë‰∏ä‰πü‰∏≠ËØ¥Á∫∑Á∫≠ÔºåÊ≤°ÊúâÁ°ÆÂÆöÁ≠îÊ°à„ÄÇÊàëÊòØËøôÊ†∑ÊÉ≥ÁöÑÔºöÊó¢ÁÑ∂ÂÆÉ‰πüÂ±û‰∫éÁªßÊâøÁöÑËåÉÁï¥ÔºåÈÇ£‰πàÂΩìÂ≠êÁ±ªÂàõÂª∫ÂØπË±°Êó∂ÂøÖÁÑ∂Ë¶Å‰ºòÂÖàÂàùÂßãÂåñÁà∂Á±ªÁöÑÂ±ûÊÄßÂèòÈáèÂíåÂÆû‰æãÊñπÊ≥ïÔºå‰∏çÁÑ∂Â≠êÁ±ªÊÄé‰πàÁªßÊâøÂíåË∞ÉÁî®Âë¢ÔºüËÄåÂÆÉÊú¨Ë∫´‰∏çËÉΩÂÆû‰æãÂåñÔºåÂõ†‰∏∫ÂÆÉÊú¨Ë∫´Â∞±ÊòØ‰∏çÁ°ÆÂÆöÁöÑ‰∏Ä‰∏™ÂØπË±°ÔºåÂ¶ÇÊûúÂÆÉËÉΩË¢´ÂÆû‰æãÂåñÔºåÈÇ£‰πàÊàë‰ª¨ÈÄöËøáÂÆÉÁöÑÂØπË±°Êù•Ë∞ÉÁî®ÂÆÉÊú¨Ë∫´ÁöÑÊäΩË±°ÊñπÊ≥ïÊòØ‰∏çÊòØÊúâÈóÆÈ¢ò„ÄÇÊâÄ‰ª•‰∏çËÉΩÂÆû‰æãÂåñÊúâÂú®ÊÉÖÁêÜ‰πã‰∏≠„ÄÇÂõ†Ê≠§Â§ßÂÆ∂Âè™Ë¶ÅËÆ∞‰ΩèËøô‰∏™ËßÑÂÆöÂ∞±Ë°å„ÄÇ 2„ÄÅÂØπ‰∫éÊäΩË±°Á±ª‰∏≠ÁöÑÈùûstatci(ÈùôÊÄÅ)ÂíåÈùûabstract(ÊäΩË±°)ÊñπÊ≥ï‰∏≠ÁöÑthisÂÖ≥ÈîÆÂ≠óÔºàÈùôÊÄÅÊñπÊ≥ï‰∏≠‰∏çËÉΩÊúâÂÖ≥ÈîÆÂ≠óthis‰πãÂâçÂ∑≤ÁªèËÆ®ËÆ∫ËøáÂèØ‰ª•ÂèÇËÄÉ ÂÖ≥‰∫éÈùôÊÄÅstaticÈÇ£‰∫õ‰∫ãÔºâ‰ª£Ë°®ÁöÑÊòØÂÆÉÁöÑÁªßÊâøÁ±ªÔºåËÄåÈùûÊäΩË±°Á±ªÊú¨Ë∫´ÔºåËøô‰∏™Â•ΩÁêÜËß£ÔºåÂõ†‰∏∫ÊäΩË±°Á±ªÊú¨Ë∫´‰∏çËÉΩË¢´ÂÆû‰æãÂåñ„ÄÇÂ¶ÇÊûúÊúâÂ§ö‰∏™ÁªßÊâøÁ±ªÔºåË∞ÅË∞ÉÁî®thisÂ∞±‰ª£Ë°®Ë∞Å„ÄÇ ÊäΩË±°Á±ªÊúâ‰ªÄ‰πàÂ•ΩÂ§ÑÂë¢Ôºü1„ÄÅÁî±‰∫éÊäΩË±°Á±ª‰∏çËÉΩË¢´ÂÆû‰æãÂåñÔºåÊúÄÂ§ßÁöÑÂ•ΩÂ§ÑÂ∞±ÊòØÈÄöËøáÊñπÊ≥ïÁöÑË¶ÜÁõñÊù•ÂÆûÁé∞Â§öÊÄÅÁöÑÂ±ûÊÄß„ÄÇ‰πüÂ∞±ÊòØËøêË°åÊúüÁªëÂÆö2„ÄÅÊäΩË±°Á±ªÂ∞Ü‰∫ãÁâ©ÁöÑÂÖ±ÊÄßÁöÑ‰∏úË•øÊèêÂèñÂá∫Êù•ÔºåÁî±Â≠êÁ±ªÁªßÊâøÂéªÂÆûÁé∞Ôºå‰ª£Á†ÅÊòìÊâ©Â±ï„ÄÅÊòìÁª¥Êä§„ÄÇ]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁôªÈôÜÊ®°ÂùóÁöÑËÆæËÆ°]]></title>
    <url>%2F2019%2F02%2F03%2F%E4%BB%A3%E7%A0%81snip%2Fsnip1%2F%E7%99%BB%E9%99%86%E6%A8%A1%E5%9D%97%E7%9A%84%E8%AE%BE%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[1.Áªü‰∏ÄÊ∂àÊÅØÂ§ÑÁêÜ ÂâçÂêéÁ´ØÂàÜÁ¶ª12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class Result&lt;T&gt; &#123; private int code; private String msg; private T data;//Â§±Ë¥•ÁöÑÊó∂ÂÄôË∞ÉÁî® private Result(CodeMsg cm) &#123; if(cm=null) &#123; return; &#125; this.code=cm.getCode(); this.msg=cm.getMsg(); &#125;//ÊàêÂäüÁöÑÊó∂ÂÄôË∞ÉÁî® private Result(T data)&#123; this.code=0; this.msg="SUCCESS"; this.data=data; &#125; //Â§±Ë¥•ÁöÑÊó∂ÂÄôË∞ÉÁî® public static &lt;T&gt; Result&lt;T&gt; Error(CodeMsg cm)&#123; return new Result&lt;T&gt;(cm); &#125; //ÊàêÂäüÁöÑÊó∂ÂÄôË∞ÉÁî® public static &lt;T&gt; Result&lt;T&gt; Success(T data)&#123; return new Result&lt;T&gt;(data); &#125; //ÁîüÊàêÊûÑÈÄ†ÊñπÊ≥ï public Result(int code)&#123; this.code=code; &#125; public Result(String msg)&#123; this.msg=msg; &#125; //ÁîüÊàêset/getÊñπÊ≥ï public int getCode()&#123; return code; &#125; public void setCode(int code)&#123; this.code=code; &#125; public int getMsg()&#123; return msg; &#125; public void setMsg(String msg)&#123; this.msg=msg; &#125; public T getData()&#123; return data; &#125; public void setData(T data)&#123; this.data=data; &#125;&#125; 123456789101112131415161718192021222324public class CodeMsg&#123; private int code; private String msg; //ÈÄöÁî®ÂºÇÂ∏∏public static CodeMsg SUCCESS=new CodeMsg(0, "success");public static CodeMsg ERROR =new CodeMsg(-1, "error"); private CodeMsg(int code,String msg)&#123; this.code=code; this.msg=msg; &#125; public int getCode()&#123; return code; &#125; public String getMsg()&#123; return msg; &#125;&#125; 2 Âú®Controller‰∏≠‰ΩøÁî®@ResponseBodyÊ≥®Ëß£ ËøîÂõûJSONÊï∞ÊçÆ return 12345678910@Controller@RequestMappingpublic class DemoTestController &#123; @RequestMapping("/") @ResponseBody//ÈÄöÂ∏∏Áî®Êù•ËøîÂõûJSONÊï∞ÊçÆÊàñËÄÖÊòØXML/ String home() &#123; return "hello world"; &#125; 1234567891011121314151617181920212223242526@RequestMapping("/resultsuccess")@ResponseBodypublic Result&lt;String&gt; resultsuccess() &#123; //‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è /**1.ËøîÂõûÊàêÂäüÁöÑÊó∂ÂÄôË∞ÉÁî® * public static &lt;T&gt; Result&lt;T&gt; success(T data) &#123; * return new Result&lt;T&gt;(data); * &#125; * * private Result(T data) &#123; * this.code = 0; * this.msg = "success"; * this.data = data; * &#125; * 1.Result.success(data); * ÁªìÊûúÔºö * &#123; * "code": 0, * "msg": "success", * "data": "hello immooc" * &#125; */ return Result.success("hello immooc");&#125; 12345678910111213141516171819202122232425262728293031323334@RequestMapping("/resulterror") @ResponseBody public Result&lt;String&gt; resultError() &#123; /** * 2„ÄÇÂ§±Ë¥•ÁöÑÊó∂ÂÄôË∞ÉÁî® * public static &lt;T&gt; Result&lt;T&gt; error(CodeMsg cm) &#123; * return new Result&lt;T&gt;(cm); * &#125; * * private Result(CodeMsg cm) &#123; * if (cm == null) &#123; * return; * &#125; * this.code = cm.getCode(); * this.msg = cm.getMsg(); * &#125; * 2 Result.error(CodeMsg.SERVER_NAME) * public static CodeMsg SERVER_NAME = new CodeMsg(50001, "ÊúçÂä°Á´ØÂºÇÂ∏∏"); * * ÁªìÊûú &#123; * "code": 50001, * "msg": "ÊúçÂä°Á´ØÂºÇÂ∏∏", * "data": null * &#125; * ÂàÜÊûêÔºö * Âõ†‰∏∫CodeMsg SUCCESS Áî®static‰øÆÈ•∞‰∫Ü * public static CodeMsg SUCCESS = new CodeMsg(0, "success"); * ÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®Á±ª.Â±ûÊÄß.Â±ûÊÄßÁöÑÊñπÂºèËé∑Âæó * CodeMsg.SUCCESS.code=50001 * CodeMsg.SUCCESS.msg="ÊúçÂä°Á´ØÂºÇÂ∏∏" */ return Result.error(CodeMsg.SERVER_NAME); &#125; 3 ÂâçÂêéÁöÑÂàÜÁ¶ªÁöÑÂàÜÊûê 4 Controller Â±ÇÁöÑ‰ª£Á†ÅÁºñÂÜô snipLoginController123456789101112131415161718192021222324@Controller@RequestMapping("/login")public class LoginController &#123; //self4Êó•ÂøóÂ§ÑÁêÜ private static Logger logger = LoggerFactory.getLogger(LoginController.class); @Autowired private MiaoShaoUserServiceImpl miaoShaoUserService; @RequestMapping("/to_login") public String toLogin() &#123; return "login";//Ë∑≥ËΩ¨Âà∞ÁôªÈôÜÈ°µÈù¢login.html &#125; @RequestMapping("/do_login") @ResponseBody //loginVoÁî®Êà∑ÁôªÈôÜÁöÑPOJO public Result doLogin(@Valid LoginVo loginVo) &#123; logger.info(loginVo.toString()); //Ê†∏ÂøÉ‰ª£Á†Å ‚≠êÔ∏è‚≠êÔ∏è miaoShaoUserService.login(loginVo); return Result.success(true); &#125;&#125; POJO loginVo12345678910111213141516171819202122232425262728293031323334package com.imooc.miaosha.domain;import com.imooc.miaosha.validate.IsMobile;import org.hibernate.validator.constraints.Length;import javax.validation.constraints.NotNull;public class LoginVo &#123; @NotNull //Ëá™ÂÆö‰πâvalidator @IsMobile private String mobile; @NotNull @Length(min = 32) private String password; public String getMobile() &#123; return mobile; &#125; public void setMobile(String mobile) &#123; this.mobile = mobile; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; @Override public String toString() &#123; return "LoginVo&#123;" + "mobile='" + mobile + '\'' + ", password='" + password + '\'' + '&#125;'; &#125;&#125; MiaoShaoUserService.12345678910111213141516171819202122232425262728293031323334353637383940@Servicepublic class MiaoShaoUserServiceImpl implements MiaoShaoUserService &#123; @Autowired private MiaoshaUserMapper miaoshaUserMapper; @Override //ÂæóÂà∞Êï∞ÊçÆÂ∫ìÈáåÈù¢ÁöÑUserÁî®Êà∑ÁöÑÊâÄÊúâÂ≠óÊÆµ getById(long id) public MiaoshaUser getById(long id) &#123; return miaoshaUserMapper.selectByPrimaryKey(id); &#125; //Ê£ÄÊµãÊòØÂê¶ÁôªÈôÜ loginVoÂíåÂâçÁ´Øajax dataÁªëÂÆö‰∫Ü public boolean login(LoginVo loginVo) &#123; if (loginVo == null) &#123; throw new GlobalException(CodeMsg.SERVER_ERROR); &#125; // ÊãøÂà∞È°µÈù¢‰∏≠ÁöÑÊâãÊú∫Âè∑Á†Å String form_mobile = loginVo.getMobile(); // ÊãøÂà∞È°µÈù¢‰∏≠ÁöÑÂØÜÁ†Å String form_Password = loginVo.getPassword(); //Âà§Êñ≠ÊâãÊú∫Âè∑ÊòØÂê¶Â≠òÂú®getById==selectByPrimaryKey(id) ÁúãÁúãÊï∞ÊçÆÂ∫ì‰∏≠Â≠ò‰∏çÂ≠òÂú®Ëøô‰∏™Êï∞ÊçÆ //Â∞ÜÊü•ËØ¢Âá∫Êù•ÁöÑÊï∞ÊçÆÂèòÊàêmiaoshaUser MiaoshaUser miaoshaUser = getById(Long.parseLong(form_mobile)); if (miaoshaUser == null) &#123; throw new GlobalException(CodeMsg.MOBILE_NOT_EXIST); &#125; //Â¶ÇÊûúÁî®Êà∑Â≠òÂú® //1 È™åËØÅÂØÜÁ†Å //Êï∞ÊçÆÂ∫ìÈáåÈù¢ÁöÑÂØÜÁ†Å dbPassword b7797cce01b4b131b433b6acf4add 449 String dbPassword = miaoshaUser.getPassword();//Md5Utils.inputPassToDbPass()=dbPass //Êï∞ÊçÆÂ∫ìÈáåÈù¢ÁöÑÁõêÂÄº String dbSalt = miaoshaUser.getSalt(); //ÁªèËøáËÆ°ÁÆóÂæóÂà∞ÁöÑÂØÜÁ†Å ÂéüÂØÜÁ†Å 123456 calcpass= d3b1294a61a07da9b49b6e22b2cbd7 f9 String calcPass = MD5Util.fromPassToDBPass(form_Password, dbSalt); //==inputPassToDbPass=calcPass if (!calcPass.equals(dbPassword)) &#123; throw new GlobalException(CodeMsg.PASSWORED_ERROR); &#125; return true; &#125;&#125; MiaoshaUserMapper‚ÄìselectByPrimaryKey12345@Mapperpublic interface MiaoshaUserMapper &#123; //id=ÊâãÊú∫Âè∑Á†Å ËøîÂõû‰∏Ä‰∏™MiaoshaUserÂØπË±° MiaoshaUser selectByPrimaryKey(Long id);&#125; 123456&lt;select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap"&gt; select id, nickname, `password`, salt, head, registerr_date, login_count from miaosha_user where id = #&#123;id,jdbcType=BIGINT&#125; &lt;/select&gt; MD5Utils ÂØÜÁ†ÅÂä†ÂØÜ12345678910111213141516171819202122232425262728293031323334353637383940414243444546package com.imooc.miaosha.utils;import org.apache.commons.codec.digest.DigestUtils;public class MD5Util &#123; public static void main(String args[]) &#123; System.out.println(inputPassToFormPass("123456")); //d3b1294a61a07da9b49b6e22b2cbd7 f9 System.out.println(fromPassToDBPass("123456", "1a2b3c4d")); //d3b1294a61a07da9b49b6e22b2cbd7 f9 System.out.println(inputPassToDbPass("123456","1a2b3c4d")); //b7797cce01b4b131b433b6acf4add 449 &#125; /*Âõ∫ÂÆöÁõêÂÄº*/ private static final String salt = "1a2b3c4d"; //Ê≥®ÊÑèÂØºÂåÖ‰∏∫codec‰∏≠ÁöÑDigestUtilsÁ±ª.codec.digest.DigestUtils; public static String md5(String src) &#123; //ËÆ°ÁÆóMD5ÊëòË¶ÅÂπ∂‰ª•32‰∏™Â≠óÁ¨¶ÂçÅÂÖ≠ËøõÂà∂Â≠óÁ¨¶‰∏≤ÁöÑÂΩ¢ÂºèËøîÂõûÂÄº„ÄÇ return DigestUtils.md5Hex(src); &#125; /** * Á¨¨‰∏ÄÊ¨°md5 Ôºö * Áî®‰∫é ÈÄöËøáËæìÂÖ•ÁöÑÂØÜÁ†ÅÁîüÊàê * ‰º†ËæìÁöÑÂØÜÁ†Å Ôºö ÊñπÊ≥ï ÈÄöËøáÂõ∫ÂÆöÁõêÂÄºÂíåÊòéÊñáÂØÜÁ†Å‰πãÈó¥ÁöÑÊãºÊé•Âú®ÁîüÊàêmd5 */ public static String inputPassToFormPass(String inputPass) &#123; String str = "" + salt.charAt(0) + salt.charAt(2) + inputPass + salt.charAt(5) + salt.charAt(4); return md5(str); &#125; /** * Á¨¨‰∫åÊ¨°md5 Ôºö */ public static String fromPassToDBPass(String formpasss, String salt) &#123; String str = "" + salt.charAt(0) + salt.charAt(2) + formpasss + salt.charAt(5) + salt.charAt(4); return md5(str); &#125; //Â∞ÜÂØÜÁ†ÅÂ∞ÅË£ÖÂà∞Êï∞ÊçÆÂ∫ì‰∏≠ public static String inputPassToDbPass(String input, String saltDB) &#123; String s = inputPassToFormPass(input); String formPass = fromPassToDBPass(s, saltDB); return formPass; &#125;&#125; Ajax12345678910111213141516171819202122232425262728293031function doLogin() &#123; ..ÂØÜÁ†ÅÂ§ÑÁêÜ var inputpass = $("#password").val(); var salt = "1a2b3c4d"; var str = "" + salt.charAt(0) + salt.charAt(2) + inputpass + salt.charAt(5) + salt.charAt(4); var password = md5(str); $.ajax(&#123; url: "/login/do_login", type: "POST", data: &#123; mobile: $("#mobile").val(), password: password &#125;, success: function (data) &#123; layer.closeAll(); if (data.code == 0) &#123; layer.msg("ÊàêÂäü"); &#125; else &#123; layer.msg(data.msg); &#125; console.log(data); &#125;, error: function () &#123; layer.closeAll(); &#125; &#125;);&#125; MD5.min.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110/** * [js-md5]&#123;@link https://github.com/emn178/js-md5&#125; * * @namespace md5 * @version 0.7.2 * @author Chen, Yi-Cyuan [emn178@gmail.com] * @copyright Chen, Yi-Cyuan 2014-2017 * @license MIT */!function () &#123; "use strict"; function Md5(t) &#123; if (t) blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0, this.blocks = blocks, this.buffer8 = buffer8; else if (ARRAY_BUFFER) &#123; var r = new ArrayBuffer(68); this.buffer8 = new Uint8Array(r), this.blocks = new Uint32Array(r) &#125; else this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0, this.finalized = this.hashed = !1, this.first = !0 &#125; var ERROR = "input is invalid type", WINDOW = "object" == typeof window, root = WINDOW ? window : &#123;&#125;; root.JS_MD5_NO_WINDOW &amp;&amp; (WINDOW = !1); var WEB_WORKER = !WINDOW &amp;&amp; "object" == typeof self, NODE_JS = !root.JS_MD5_NO_NODE_JS &amp;&amp; "object" == typeof process &amp;&amp; process.versions &amp;&amp; process.versions.node; NODE_JS ? root = global : WEB_WORKER &amp;&amp; (root = self); var COMMON_JS = !root.JS_MD5_NO_COMMON_JS &amp;&amp; "object" == typeof module &amp;&amp; module.exports, AMD = "function" == typeof define &amp;&amp; define.amd, ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER &amp;&amp; "undefined" != typeof ArrayBuffer, HEX_CHARS = "0123456789abcdef".split(""), EXTRA = [128, 32768, 8388608, -2147483648], SHIFT = [0, 8, 16, 24], OUTPUT_TYPES = ["hex", "array", "digest", "buffer", "arrayBuffer", "base64"], BASE64_ENCODE_CHAR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""), blocks = [], buffer8; if (ARRAY_BUFFER) &#123; var buffer = new ArrayBuffer(68); buffer8 = new Uint8Array(buffer), blocks = new Uint32Array(buffer) &#125; (root.JS_MD5_NO_NODE_JS || !Array.isArray) &amp;&amp; (Array.isArray = function (t) &#123; return "[object Array]" === Object.prototype.toString.call(t) &#125;), !ARRAY_BUFFER || !root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW &amp;&amp; ArrayBuffer.isView || (ArrayBuffer.isView = function (t) &#123; return "object" == typeof t &amp;&amp; t.buffer &amp;&amp; t.buffer.constructor === ArrayBuffer &#125;); var createOutputMethod = function (t) &#123; return function (r) &#123; return new Md5(!0).update(r)[t]() &#125; &#125;, createMethod = function () &#123; var t = createOutputMethod("hex"); NODE_JS &amp;&amp; (t = nodeWrap(t)), t.create = function () &#123; return new Md5 &#125;, t.update = function (r) &#123; return t.create().update(r) &#125;; for (var r = 0; r &lt; OUTPUT_TYPES.length; ++r) &#123; var e = OUTPUT_TYPES[r]; t[e] = createOutputMethod(e) &#125; return t &#125;, nodeWrap = function (method) &#123; var crypto = eval("require('crypto')"), Buffer = eval("require('buffer').Buffer"), nodeMethod = function (t) &#123; if ("string" == typeof t) return crypto.createHash("md5").update(t, "utf8").digest("hex"); if (null === t || void 0 === t) throw ERROR; return t.constructor === ArrayBuffer &amp;&amp; (t = new Uint8Array(t)), Array.isArray(t) || ArrayBuffer.isView(t) || t.constructor === Buffer ? crypto.createHash("md5").update(new Buffer(t)).digest("hex") : method(t) &#125;; return nodeMethod &#125;; Md5.prototype.update = function (t) &#123; if (!this.finalized) &#123; var r, e = typeof t; if ("string" !== e) &#123; if ("object" !== e) throw ERROR; if (null === t) throw ERROR; if (ARRAY_BUFFER &amp;&amp; t.constructor === ArrayBuffer) t = new Uint8Array(t); else if (!(Array.isArray(t) || ARRAY_BUFFER &amp;&amp; ArrayBuffer.isView(t))) throw ERROR; r = !0 &#125; for (var s, i, o = 0, h = t.length, f = this.blocks, a = this.buffer8; h &gt; o;) &#123; if (this.hashed &amp;&amp; (this.hashed = !1, f[0] = f[16], f[16] = f[1] = f[2] = f[3] = f[4] = f[5] = f[6] = f[7] = f[8] = f[9] = f[10] = f[11] = f[12] = f[13] = f[14] = f[15] = 0), r) if (ARRAY_BUFFER) for (i = this.start; h &gt; o &amp;&amp; 64 &gt; i; ++o) a[i++] = t[o]; else for (i = this.start; h &gt; o &amp;&amp; 64 &gt; i; ++o) f[i &gt;&gt; 2] |= t[o] &lt;&lt; SHIFT[3 &amp; i++]; else if (ARRAY_BUFFER) for (i = this.start; h &gt; o &amp;&amp; 64 &gt; i; ++o) s = t.charCodeAt(o), 128 &gt; s ? a[i++] = s : 2048 &gt; s ? (a[i++] = 192 | s &gt;&gt; 6, a[i++] = 128 | 63 &amp; s) : 55296 &gt; s || s &gt;= 57344 ? (a[i++] = 224 | s &gt;&gt; 12, a[i++] = 128 | s &gt;&gt; 6 &amp; 63, a[i++] = 128 | 63 &amp; s) : (s = 65536 + ((1023 &amp; s) &lt;&lt; 10 | 1023 &amp; t.charCodeAt(++o)), a[i++] = 240 | s &gt;&gt; 18, a[i++] = 128 | s &gt;&gt; 12 &amp; 63, a[i++] = 128 | s &gt;&gt; 6 &amp; 63, a[i++] = 128 | 63 &amp; s); else for (i = this.start; h &gt; o &amp;&amp; 64 &gt; i; ++o) s = t.charCodeAt(o), 128 &gt; s ? f[i &gt;&gt; 2] |= s &lt;&lt; SHIFT[3 &amp; i++] : 2048 &gt; s ? (f[i &gt;&gt; 2] |= (192 | s &gt;&gt; 6) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | 63 &amp; s) &lt;&lt; SHIFT[3 &amp; i++]) : 55296 &gt; s || s &gt;= 57344 ? (f[i &gt;&gt; 2] |= (224 | s &gt;&gt; 12) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | s &gt;&gt; 6 &amp; 63) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | 63 &amp; s) &lt;&lt; SHIFT[3 &amp; i++]) : (s = 65536 + ((1023 &amp; s) &lt;&lt; 10 | 1023 &amp; t.charCodeAt(++o)), f[i &gt;&gt; 2] |= (240 | s &gt;&gt; 18) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | s &gt;&gt; 12 &amp; 63) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | s &gt;&gt; 6 &amp; 63) &lt;&lt; SHIFT[3 &amp; i++], f[i &gt;&gt; 2] |= (128 | 63 &amp; s) &lt;&lt; SHIFT[3 &amp; i++]); this.lastByteIndex = i, this.bytes += i - this.start, i &gt;= 64 ? (this.start = i - 64, this.hash(), this.hashed = !0) : this.start = i &#125; return this.bytes &gt; 4294967295 &amp;&amp; (this.hBytes += this.bytes / 4294967296 &lt;&lt; 0, this.bytes = this.bytes % 4294967296), this &#125; &#125;, Md5.prototype.finalize = function () &#123; if (!this.finalized) &#123; this.finalized = !0; var t = this.blocks, r = this.lastByteIndex; t[r &gt;&gt; 2] |= EXTRA[3 &amp; r], r &gt;= 56 &amp;&amp; (this.hashed || this.hash(), t[0] = t[16], t[16] = t[1] = t[2] = t[3] = t[4] = t[5] = t[6] = t[7] = t[8] = t[9] = t[10] = t[11] = t[12] = t[13] = t[14] = t[15] = 0), t[14] = this.bytes &lt;&lt; 3, t[15] = this.hBytes &lt;&lt; 3 | this.bytes &gt;&gt; 29, this.hash() &#125; &#125;, Md5.prototype.hash = function () &#123; var t, r, e, s, i, o, h = this.blocks; this.first ? (t = h[0] - 680876937, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) - 271733879 &lt;&lt; 0, s = (-1732584194 ^ 2004318071 &amp; t) + h[1] - 117830708, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e = (-271733879 ^ s &amp; (-271733879 ^ t)) + h[2] - 1126478375, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r = (t ^ e &amp; (s ^ t)) + h[3] - 1316259209, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0) : (t = this.h0, r = this.h1, e = this.h2, s = this.h3, t += (s ^ r &amp; (e ^ s)) + h[0] - 680876936, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) + r &lt;&lt; 0, s += (e ^ t &amp; (r ^ e)) + h[1] - 389564586, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e += (r ^ s &amp; (t ^ r)) + h[2] + 606105819, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r += (t ^ e &amp; (s ^ t)) + h[3] - 1044525330, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0), t += (s ^ r &amp; (e ^ s)) + h[4] - 176418897, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) + r &lt;&lt; 0, s += (e ^ t &amp; (r ^ e)) + h[5] + 1200080426, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e += (r ^ s &amp; (t ^ r)) + h[6] - 1473231341, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r += (t ^ e &amp; (s ^ t)) + h[7] - 45705983, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0, t += (s ^ r &amp; (e ^ s)) + h[8] + 1770035416, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) + r &lt;&lt; 0, s += (e ^ t &amp; (r ^ e)) + h[9] - 1958414417, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e += (r ^ s &amp; (t ^ r)) + h[10] - 42063, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r += (t ^ e &amp; (s ^ t)) + h[11] - 1990404162, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0, t += (s ^ r &amp; (e ^ s)) + h[12] + 1804603682, t = (t &lt;&lt; 7 | t &gt;&gt;&gt; 25) + r &lt;&lt; 0, s += (e ^ t &amp; (r ^ e)) + h[13] - 40341101, s = (s &lt;&lt; 12 | s &gt;&gt;&gt; 20) + t &lt;&lt; 0, e += (r ^ s &amp; (t ^ r)) + h[14] - 1502002290, e = (e &lt;&lt; 17 | e &gt;&gt;&gt; 15) + s &lt;&lt; 0, r += (t ^ e &amp; (s ^ t)) + h[15] + 1236535329, r = (r &lt;&lt; 22 | r &gt;&gt;&gt; 10) + e &lt;&lt; 0, t += (e ^ s &amp; (r ^ e)) + h[1] - 165796510, t = (t &lt;&lt; 5 | t &gt;&gt;&gt; 27) + r &lt;&lt; 0, s += (r ^ e &amp; (t ^ r)) + h[6] - 1069501632, s = (s &lt;&lt; 9 | s &gt;&gt;&gt; 23) + t &lt;&lt; 0, e += (t ^ r &amp; (s ^ t)) + h[11] + 643717713, e = (e &lt;&lt; 14 | e &gt;&gt;&gt; 18) + s &lt;&lt; 0, r += (s ^ t &amp; (e ^ s)) + h[0] - 373897302, r = (r &lt;&lt; 20 | r &gt;&gt;&gt; 12) + e &lt;&lt; 0, t += (e ^ s &amp; (r ^ e)) + h[5] - 701558691, t = (t &lt;&lt; 5 | t &gt;&gt;&gt; 27) + r &lt;&lt; 0, s += (r ^ e &amp; (t ^ r)) + h[10] + 38016083, s = (s &lt;&lt; 9 | s &gt;&gt;&gt; 23) + t &lt;&lt; 0, e += (t ^ r &amp; (s ^ t)) + h[15] - 660478335, e = (e &lt;&lt; 14 | e &gt;&gt;&gt; 18) + s &lt;&lt; 0, r += (s ^ t &amp; (e ^ s)) + h[4] - 405537848, r = (r &lt;&lt; 20 | r &gt;&gt;&gt; 12) + e &lt;&lt; 0, t += (e ^ s &amp; (r ^ e)) + h[9] + 568446438, t = (t &lt;&lt; 5 | t &gt;&gt;&gt; 27) + r &lt;&lt; 0, s += (r ^ e &amp; (t ^ r)) + h[14] - 1019803690, s = (s &lt;&lt; 9 | s &gt;&gt;&gt; 23) + t &lt;&lt; 0, e += (t ^ r &amp; (s ^ t)) + h[3] - 187363961, e = (e &lt;&lt; 14 | e &gt;&gt;&gt; 18) + s &lt;&lt; 0, r += (s ^ t &amp; (e ^ s)) + h[8] + 1163531501, r = (r &lt;&lt; 20 | r &gt;&gt;&gt; 12) + e &lt;&lt; 0, t += (e ^ s &amp; (r ^ e)) + h[13] - 1444681467, t = (t &lt;&lt; 5 | t &gt;&gt;&gt; 27) + r &lt;&lt; 0, s += (r ^ e &amp; (t ^ r)) + h[2] - 51403784, s = (s &lt;&lt; 9 | s &gt;&gt;&gt; 23) + t &lt;&lt; 0, e += (t ^ r &amp; (s ^ t)) + h[7] + 1735328473, e = (e &lt;&lt; 14 | e &gt;&gt;&gt; 18) + s &lt;&lt; 0, r += (s ^ t &amp; (e ^ s)) + h[12] - 1926607734, r = (r &lt;&lt; 20 | r &gt;&gt;&gt; 12) + e &lt;&lt; 0, i = r ^ e, t += (i ^ s) + h[5] - 378558, t = (t &lt;&lt; 4 | t &gt;&gt;&gt; 28) + r &lt;&lt; 0, s += (i ^ t) + h[8] - 2022574463, s = (s &lt;&lt; 11 | s &gt;&gt;&gt; 21) + t &lt;&lt; 0, o = s ^ t, e += (o ^ r) + h[11] + 1839030562, e = (e &lt;&lt; 16 | e &gt;&gt;&gt; 16) + s &lt;&lt; 0, r += (o ^ e) + h[14] - 35309556, r = (r &lt;&lt; 23 | r &gt;&gt;&gt; 9) + e &lt;&lt; 0, i = r ^ e, t += (i ^ s) + h[1] - 1530992060, t = (t &lt;&lt; 4 | t &gt;&gt;&gt; 28) + r &lt;&lt; 0, s += (i ^ t) + h[4] + 1272893353, s = (s &lt;&lt; 11 | s &gt;&gt;&gt; 21) + t &lt;&lt; 0, o = s ^ t, e += (o ^ r) + h[7] - 155497632, e = (e &lt;&lt; 16 | e &gt;&gt;&gt; 16) + s &lt;&lt; 0, r += (o ^ e) + h[10] - 1094730640, r = (r &lt;&lt; 23 | r &gt;&gt;&gt; 9) + e &lt;&lt; 0, i = r ^ e, t += (i ^ s) + h[13] + 681279174, t = (t &lt;&lt; 4 | t &gt;&gt;&gt; 28) + r &lt;&lt; 0, s += (i ^ t) + h[0] - 358537222, s = (s &lt;&lt; 11 | s &gt;&gt;&gt; 21) + t &lt;&lt; 0, o = s ^ t, e += (o ^ r) + h[3] - 722521979, e = (e &lt;&lt; 16 | e &gt;&gt;&gt; 16) + s &lt;&lt; 0, r += (o ^ e) + h[6] + 76029189, r = (r &lt;&lt; 23 | r &gt;&gt;&gt; 9) + e &lt;&lt; 0, i = r ^ e, t += (i ^ s) + h[9] - 640364487, t = (t &lt;&lt; 4 | t &gt;&gt;&gt; 28) + r &lt;&lt; 0, s += (i ^ t) + h[12] - 421815835, s = (s &lt;&lt; 11 | s &gt;&gt;&gt; 21) + t &lt;&lt; 0, o = s ^ t, e += (o ^ r) + h[15] + 530742520, e = (e &lt;&lt; 16 | e &gt;&gt;&gt; 16) + s &lt;&lt; 0, r += (o ^ e) + h[2] - 995338651, r = (r &lt;&lt; 23 | r &gt;&gt;&gt; 9) + e &lt;&lt; 0, t += (e ^ (r | ~s)) + h[0] - 198630844, t = (t &lt;&lt; 6 | t &gt;&gt;&gt; 26) + r &lt;&lt; 0, s += (r ^ (t | ~e)) + h[7] + 1126891415, s = (s &lt;&lt; 10 | s &gt;&gt;&gt; 22) + t &lt;&lt; 0,e += (t ^ (s | ~r)) + h[14] - 1416354905,e = (e &lt;&lt; 15 | e &gt;&gt;&gt; 17) + s &lt;&lt; 0,r += (s ^ (e | ~t)) + h[5] - 57434055,r = (r &lt;&lt; 21 | r &gt;&gt;&gt; 11) + e &lt;&lt; 0,t += (e ^ (r | ~s)) + h[12] + 1700485571,t = (t &lt;&lt; 6 | t &gt;&gt;&gt; 26) + r &lt;&lt; 0,s += (r ^ (t | ~e)) + h[3] - 1894986606,s = (s &lt;&lt; 10 | s &gt;&gt;&gt; 22) + t &lt;&lt; 0,e += (t ^ (s | ~r)) + h[10] - 1051523,e = (e &lt;&lt; 15 | e &gt;&gt;&gt; 17) + s &lt;&lt; 0,r += (s ^ (e | ~t)) + h[1] - 2054922799,r = (r &lt;&lt; 21 | r &gt;&gt;&gt; 11) + e &lt;&lt; 0,t += (e ^ (r | ~s)) + h[8] + 1873313359,t = (t &lt;&lt; 6 | t &gt;&gt;&gt; 26) + r &lt;&lt; 0,s += (r ^ (t | ~e)) + h[15] - 30611744,s = (s &lt;&lt; 10 | s &gt;&gt;&gt; 22) + t &lt;&lt; 0,e += (t ^ (s | ~r)) + h[6] - 1560198380,e = (e &lt;&lt; 15 | e &gt;&gt;&gt; 17) + s &lt;&lt; 0,r += (s ^ (e | ~t)) + h[13] + 1309151649,r = (r &lt;&lt; 21 | r &gt;&gt;&gt; 11) + e &lt;&lt; 0,t += (e ^ (r | ~s)) + h[4] - 145523070,t = (t &lt;&lt; 6 | t &gt;&gt;&gt; 26) + r &lt;&lt; 0,s += (r ^ (t | ~e)) + h[11] - 1120210379,s = (s &lt;&lt; 10 | s &gt;&gt;&gt; 22) + t &lt;&lt; 0,e += (t ^ (s | ~r)) + h[2] + 718787259,e = (e &lt;&lt; 15 | e &gt;&gt;&gt; 17) + s &lt;&lt; 0,r += (s ^ (e | ~t)) + h[9] - 343485551,r = (r &lt;&lt; 21 | r &gt;&gt;&gt; 11) + e &lt;&lt; 0,this.first ? (this.h0 = t + 1732584193 &lt;&lt; 0, this.h1 = r - 271733879 &lt;&lt; 0, this.h2 = e - 1732584194 &lt;&lt; 0, this.h3 = s + 271733878 &lt;&lt; 0, this.first = !1) : (this.h0 = this.h0 + t &lt;&lt; 0, this.h1 = this.h1 + r &lt;&lt; 0, this.h2 = this.h2 + e &lt;&lt; 0, this.h3 = this.h3 + s &lt;&lt; 0) &#125;, Md5.prototype.hex = function () &#123; this.finalize(); var t = this.h0, r = this.h1, e = this.h2, s = this.h3; return HEX_CHARS[t &gt;&gt; 4 &amp; 15] + HEX_CHARS[15 &amp; t] + HEX_CHARS[t &gt;&gt; 12 &amp; 15] + HEX_CHARS[t &gt;&gt; 8 &amp; 15] + HEX_CHARS[t &gt;&gt; 20 &amp; 15] + HEX_CHARS[t &gt;&gt; 16 &amp; 15] + HEX_CHARS[t &gt;&gt; 28 &amp; 15] + HEX_CHARS[t &gt;&gt; 24 &amp; 15] + HEX_CHARS[r &gt;&gt; 4 &amp; 15] + HEX_CHARS[15 &amp; r] + HEX_CHARS[r &gt;&gt; 12 &amp; 15] + HEX_CHARS[r &gt;&gt; 8 &amp; 15] + HEX_CHARS[r &gt;&gt; 20 &amp; 15] + HEX_CHARS[r &gt;&gt; 16 &amp; 15] + HEX_CHARS[r &gt;&gt; 28 &amp; 15] + HEX_CHARS[r &gt;&gt; 24 &amp; 15] + HEX_CHARS[e &gt;&gt; 4 &amp; 15] + HEX_CHARS[15 &amp; e] + HEX_CHARS[e &gt;&gt; 12 &amp; 15] + HEX_CHARS[e &gt;&gt; 8 &amp; 15] + HEX_CHARS[e &gt;&gt; 20 &amp; 15] + HEX_CHARS[e &gt;&gt; 16 &amp; 15] + HEX_CHARS[e &gt;&gt; 28 &amp; 15] + HEX_CHARS[e &gt;&gt; 24 &amp; 15] + HEX_CHARS[s &gt;&gt; 4 &amp; 15] + HEX_CHARS[15 &amp; s] + HEX_CHARS[s &gt;&gt; 12 &amp; 15] + HEX_CHARS[s &gt;&gt; 8 &amp; 15] + HEX_CHARS[s &gt;&gt; 20 &amp; 15] + HEX_CHARS[s &gt;&gt; 16 &amp; 15] + HEX_CHARS[s &gt;&gt; 28 &amp; 15] + HEX_CHARS[s &gt;&gt; 24 &amp; 15] &#125;, Md5.prototype.toString = Md5.prototype.hex, Md5.prototype.digest = function () &#123; this.finalize(); var t = this.h0, r = this.h1, e = this.h2, s = this.h3; return [255 &amp; t, t &gt;&gt; 8 &amp; 255, t &gt;&gt; 16 &amp; 255, t &gt;&gt; 24 &amp; 255, 255 &amp; r, r &gt;&gt; 8 &amp; 255, r &gt;&gt; 16 &amp; 255, r &gt;&gt; 24 &amp; 255, 255 &amp; e, e &gt;&gt; 8 &amp; 255, e &gt;&gt; 16 &amp; 255, e &gt;&gt; 24 &amp; 255, 255 &amp; s, s &gt;&gt; 8 &amp; 255, s &gt;&gt; 16 &amp; 255, s &gt;&gt; 24 &amp; 255] &#125;, Md5.prototype.array = Md5.prototype.digest, Md5.prototype.arrayBuffer = function () &#123; this.finalize(); var t = new ArrayBuffer(16), r = new Uint32Array(t); return r[0] = this.h0, r[1] = this.h1, r[2] = this.h2, r[3] = this.h3, t &#125;, Md5.prototype.buffer = Md5.prototype.arrayBuffer, Md5.prototype.base64 = function () &#123; for (var t, r, e, s = "", i = this.array(), o = 0; 15 &gt; o;) t = i[o++], r = i[o++], e = i[o++], s += BASE64_ENCODE_CHAR[t &gt;&gt;&gt; 2] + BASE64_ENCODE_CHAR[63 &amp; (t &lt;&lt; 4 | r &gt;&gt;&gt; 4)] + BASE64_ENCODE_CHAR[63 &amp; (r &lt;&lt; 2 | e &gt;&gt;&gt; 6)] + BASE64_ENCODE_CHAR[63 &amp; e]; return t = i[o], s += BASE64_ENCODE_CHAR[t &gt;&gt;&gt; 2] + BASE64_ENCODE_CHAR[t &lt;&lt; 4 &amp; 63] + "==" &#125;; var exports = createMethod(); COMMON_JS ? module.exports = exports : (root.md5 = exports, AMD &amp;&amp; define(function () &#123; return exports &#125;))&#125;(); 5 MD5 UtilsÂä†ÂØÜ12345678910111213141516171819//Â∞ÜÊü•ËØ¢Âá∫Êù•ÁöÑÊï∞ÊçÆÂèòÊàêmiaoshaUser MiaoshaUser miaoshaUser = getById(Long.parseLong(form_mobile)); if (miaoshaUser == null) &#123; throw new GlobalException(CodeMsg.MOBILE_NOT_EXIST); &#125; //Â¶ÇÊûúÁî®Êà∑Â≠òÂú® //1 È™åËØÅÂØÜÁ†Å //Êï∞ÊçÆÂ∫ìÈáåÈù¢ÁöÑÂØÜÁ†Å dbPassword b7797cce01b4b131b433b6acf4add 449 String dbPassword = miaoshaUser.getPassword();//Md5Utils.inputPassToDbPass()=dbPass //Êï∞ÊçÆÂ∫ìÈáåÈù¢ÁöÑÁõêÂÄº String dbSalt = miaoshaUser.getSalt(); //ÁªèËøáËÆ°ÁÆóÂæóÂà∞ÁöÑÂØÜÁ†Å ÂéüÂØÜÁ†Å 123456 calcpass= d3b1294a61a07da9b49b6e22b2cbd7 f9 String calcPass = MD5Util.fromPassToDBPass(form_Password, dbSalt); //==inputPassToDbPass=calcPass if (!calcPass.equals(dbPassword)) &#123; throw new GlobalException(CodeMsg.PASSWORED_ERROR); &#125; return true; 123456789101112131415//È™åËØÅÂØÜÁ†Å//Êï∞ÊçÆÂ∫ìÈáåÈù¢ÁöÑÂØÜÁ†Å bPasswordString dbPassword = miaoshaUser.getPassword();//Êï∞ÊçÆÂ∫ìÈáåÈù¢ÁöÑÁõêÂÄºString dbSalt = miaoshaUser.getSalt();String calcPass = MD5Util.fromPassToDBPass(form_Password, dbSalt);//d3b1294a61a07da9b49b6e22b2cbd7f9System.err.println("============");System.err.println(form_mobile + "form_mobile ajax md5Âä†ÂØÜÁöÑÂØÜÁ†Å");System.err.println(dbPassword + "dbPasswordÊï∞ÊçÆÂ∫ìÈáåÈù¢ÁöÑÂØÜÁ†Å");System.err.println(calcPass + "calcPassÁªèËøáËÆ°ÁÆóÁöÑÂØÜÁ†Å fromPassToDBPass(form_Password, dbSalt)");System.err.println("inputPassToFormPass=" + "d3b1294a61a07da9b49b6e22b2cbd7f9");System.err.println("fromPassToDBPass=" + "d3b1294a61a07da9b49b6e22b2cbd7f9");System.err.println("inputPassToDbPass=" + "b7797cce01b4b131b433b6acf4add449");System.err.println("============"); inputPassToFormPass(String input). Md5Utils===md5(str). Ajax inputPassToDbPass(String input ,String saltDb) =====Md5Utils.fomPassDBPass(form_password),dbSalt); ‰∏§Ê¨°MD5Â∞ÅË£Ö ÂÖ∂Êú¨Ë¥®ÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ 6 JSR 303 Ê†°È™å1dependency12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; &lt;version&gt;2.0.6.RELEASE&lt;/version&gt; &lt;/dependency&gt; 2 .@Valid1234567@RequestMapping("/do_login")@ResponseBodypublic Result doLogin(@Valid LoginVo loginVo) &#123; logger.info(loginVo.toString()); miaoShaoUserService.login(loginVo); return Result.success(true);&#125; 3 POJO12345678public class LoginVo &#123; @NotNull //Ëá™ÂÆö‰πâvalidator @IsMobile private String mobile; @NotNull @Length(min = 32) 4 Ëá™ÂÆö‰πâÁöÑ @IsMobile 123456789101112131415161718192021package com.imooc.miaosha.validate;import javax.validation.Constraint;import javax.validation.Payload;import java.lang.annotation.Documented;import java.lang.annotation.Repeatable;import java.lang.annotation.Retention;import java.lang.annotation.Target;import static java.lang.annotation.ElementType.*;import static java.lang.annotation.ElementType.TYPE_USE;import static java.lang.annotation.RetentionPolicy.RUNTIME;@Target(&#123;METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE&#125;)@Retention(RUNTIME)@Documented@Constraint(validatedBy = &#123;IsMobileValidator.class&#125;)public @interface IsMobile &#123; boolean required() default true; String message() default "ÊâãÊú∫Âè∑‰∏çÊ≠£Á°Æ~~ -,- ~~~~"; Class&lt;?&gt;[] groups() default &#123;&#125;; Class&lt;? extends Payload&gt;[] payload() default &#123;&#125;;&#125; 123456789101112131415161718192021222324252627package com.imooc.miaosha.validate;import javax.validation.ConstraintValidator;import javax.validation.ConstraintValidatorContext;import java.util.regex.Pattern;//ÊâãÊú∫Âè∑Á†ÅÁöÑvalidatorÊ†°È™åpublic class IsMobileValidator implements ConstraintValidator&lt;IsMobile, String&gt; &#123; private boolean required; // ÈáçÂÜôinitializeÊñπÊ≥ïËé∑ÂèñÊ≥®Ëß£ÂÆû‰æã @Override public void initialize(IsMobile ca) &#123; // ÈáçÊ≥®Ëß£ÂÆû‰æã‰∏≠Ëé∑‰ø°ÊÅØ required = ca.required(); &#125; @Override public boolean isValid(String value, ConstraintValidatorContext context) &#123; // valueÂ∞±ÊòØË¶ÅÊ†°È™åÁöÑÊï∞ÊçÆ‰∫Ü if (value != null &amp;&amp; required) &#123; // ÊâãÊú∫Âè∑Ê†°È™åËßÑÂàô System.out.println(value); String regexp = "^(((\\+\\d&#123;2&#125;-)?0\\d&#123;2,3&#125;-\\d&#123;7,8&#125;)|((\\+\\d&#123;2&#125;-)?(\\d&#123;2,3&#125;-)?([1][3,4,5,7,8][0-9]\\d&#123;8&#125;)))$"; boolean matches = Pattern.matches(regexp, value); System.out.println(matches); return matches; &#125; return false; &#125;&#125; 7Áªü‰∏ÄÂºÇÂ∏∏Â§ÑÁêÜ 1234567891011121314151617181920212223242526272829303132333435package com.imooc.miaosha.Exception;import com.imooc.miaosha.result.CodeMsg;import com.imooc.miaosha.result.Result;import org.springframework.validation.BindException;import org.springframework.validation.ObjectError;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.ResponseBody;import javax.servlet.http.HttpServletRequest;import java.util.List;//ÂÆö‰πâÂÖ®Â±ÄÂºÇÂ∏∏Â§ÑÁêÜÂô® Advice@ControllerAdvice@ResponseBody//ËøîÂõûJSONÊï∞ÊçÆpublic class GlobleExceptionHandler &#123; @ExceptionHandler(value = Exception.class) public Result&lt;String&gt; exceptionHandler(HttpServletRequest httpServletRequest, Exception e) &#123; if (e instanceof BindException) &#123; BindException ex = (BindException) e; List&lt;ObjectError&gt; allErrors = ex.getAllErrors(); ObjectError objectError = allErrors.get(0); String defaultMessage = objectError.getDefaultMessage(); return Result.error(CodeMsg.BINDD_ERROR.fillArgs(defaultMessage)); &#125; else &#123; return Result.error(CodeMsg.SERVER_ERROR); &#125; &#125;&#125; 1234567891011public class CodeMsg &#123;private int code; private String msg; //ÈÄöÁî®ÂºÇÂ∏∏ public static CodeMsg BINDD_ERROR = new CodeMsg(50008, "ÂèÇÊï∞ÁªëÂÆöÂºÇÂ∏∏ :%s"); //‚≠êÔ∏è ‰∏çÊáÇ ‰∏çÁêÜËß£ Êü•ÊñáÊ°£ public CodeMsg fillArgs(Object... args) &#123; int code = this.code; String message = String.format(this.msg, args); return new CodeMsg(code, message); &#125; ÊÄùËÄÉü§î ÂèÇÊï∞ÁªëÂÆöÂºÇÂ∏∏ÔºöÊâãÊú∫Âè∑Á†Å‰∏çÊ≠£Á°Æ‚Äì ‚ÄìÔºå‚Äî Âì™Êù•ÁöÑ Ajax dataÁöÑÁêÜËß£„ÄÇ ‰∫îËßíÊòü‚≠êÔ∏è123456789101112131415161718192021$.ajax(&#123; url: "/login/do_login", type: "POST", data: &#123; mobile: $("#mobile").val(), password: password &#125;, success: function (data) &#123; layer.closeAll(); if (data.code === 0) &#123; layer.msg("ÊàêÂäü Âä†Ê≤πBoy"); &#125; else &#123; layer.msg(data.msg); layer.msg(data.data); &#125; console.log(data); &#125;, error: function () &#123; layer.closeAll(); &#125;&#125;); ËøôÈáåÈù¢‰º†ÂÖ•ÁöÑ data.code data.msg data.data Â∫îËØ•Â∞±ÊòØÊ≥®Ëß£@ResponseBodyËøîÂõûÁöÑJSONÊï∞Â∞±ÊòØConlse‰∏ãObjectÁöÑÂÄº ÊàñËÄÖÊòØÂÖ®Â±ÄÂºÇÂ∏∏ ÂíåÁªü‰∏ÄÂºÇÂ∏∏ËøîÂõûÂìçÂ∫îÁöÑÁªìÊûú„ÄÇ Return ËØ≠Âè•ËøîÂõûÁöÑÂÄºdata.dataÁöÑÂÄº‰∏çÂ≠òÂú®„ÄÇ ‰ºöÊä•Èîô„ÄÇ layer.js:2 Uncaught TypeError: Cannot read property ‚Äòparents‚Äô of null 123456789101112131415161718192021222324ControllerAdviceÁî®Ê≥ïËß£ÊûêÁÆÄ‰ªã ÈÄöËøá@ControllerAdviceÊ≥®Ëß£ÂèØ‰ª•Â∞ÜÂØπ‰∫éÊéßÂà∂Âô®ÁöÑÂÖ®Â±ÄÈÖçÁΩÆÊîæÂú®Âêå‰∏Ä‰∏™‰ΩçÁΩÆ„ÄÇ Ê≥®Ëß£‰∫Ü@ControllerÁöÑÁ±ªÁöÑÊñπÊ≥ïÂèØ‰ª•‰ΩøÁî®@ExceptionHandler„ÄÅ@InitBinder„ÄÅ@ModelAttributeÊ≥®Ëß£Âà∞ÊñπÊ≥ï‰∏ä„ÄÇ @ControllerAdviceÊ≥®Ëß£Â∞Ü‰ΩúÁî®Âú®ÊâÄÊúâÊ≥®Ëß£‰∫Ü@RequestMappingÁöÑÊéßÂà∂Âô®ÁöÑÊñπÊ≥ï‰∏ä @ExceptionHandlerÔºöÁî®‰∫éÂÖ®Â±ÄÂ§ÑÁêÜÊéßÂà∂Âô®ÈáåÁöÑÂºÇÂ∏∏„ÄÇÁî®Ê≥ï@ControllerAdvice@ResponseBodypublic class BusinessExceptionHandler &#123; @ExceptionHandler(value = Exception.class) public JsonBackData exceptionHandler(HttpServletRequest request, Exception e) &#123; e.printStackTrace(); JsonBackData back = new JsonBackData(); if (e instanceof BusinessException) &#123; BusinessException ex = (BusinessException) e; back.setSuccess(false); back.setBackMsg(ex.getMessage()); &#125; return back; &#125; 8.ÂÖ®Â±ÄÂºÇÂ∏∏Â§ÑÁêÜ1234public boolean login(LoginVo loginVo) &#123; if (loginVo == null) &#123; throw new GlobalException(CodeMsg.SERVER_ERROR); &#125; 123456789101112131415package com.imooc.miaosha.Exception;import com.imooc.miaosha.result.CodeMsg;public class GlobalException extends RuntimeException &#123; private CodeMsg cm; public GlobalException(CodeMsg cm) &#123; super(cm.toString()); this.cm = cm; &#125; public CodeMsg getCm() &#123; return cm; &#125; public void setCm(CodeMsg cm) &#123; this.cm = cm; &#125;&#125; 1234567891011@ControllerAdvice@ResponseBodypublic class GlobleExceptionHandler &#123; @ExceptionHandler(value = Exception.class) public Result&lt;String&gt; exceptionHandler(HttpServletRequest httpServletRequest, Exception e) &#123; if (e instanceof GlobalException) &#123; GlobalException ex = (GlobalException) e; return Result.error(ex.getCm()); &#125; &#125; &#125;]]></content>
      <categories>
        <category>ÂÆûÊàò</category>
      </categories>
      <tags>
        <tag>ÂÆûÊàò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[È°πÁõÆÂºÄÂèëÂ∏∏ËßÅÈóÆÈ¢òÊÄªÁªì]]></title>
    <url>%2F2019%2F02%2F01%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2F%E9%A1%B9%E7%9B%AE%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[1. @ResponseBody Âú®‰Ω†ÁöÑcontrollerÂ±ÇÂØπÂ∫îÁöÑÊñπÊ≥ïËøîÂõûhtmlË∑ØÂæÑÂèäÂêçÁß∞Êó∂ÔºåÂú®ÂâçÈù¢Â§öÂä†‰∫Ü‰∏Ä‰∏™/ „ÄÇ ‰æãÂ¶Çreturn ‚Äú/index‚ÄùÔºåÊ≠£ÂºèËøô‰∏™/ÂØºËá¥Êä•ÈîôÁöÑÔºåËß£ÂÜ≥ÔºöÂéªÊéâËøîÂõûÂâçÈù¢ÁöÑ/Âç≥ÂèØÔºå‰æãÂ¶Çreturn ‚Äú/index‚Äù „ÄÇ Âú®‰ΩøÁî®springbootÁöÑËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûú‰ΩøÁî®thymeleaf‰Ωú‰∏∫Ê®°ÊùøÊñá‰ª∂ÔºåÂàôË¶ÅÊ±ÇHTMLÊ†ºÂºèÂøÖÈ°ª‰∏∫‰∏•Ê†ºÁöÑhtml5Ê†ºÂºèÔºåÂøÖÈ°ªÊúâÁªìÊùüÊ†áÁ≠æÔºåÂê¶Âàô‰ºöÊä•Èîô„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÂ¶Ç‰∏ãÔºö Âú®application.yml‰∏≠Ê∑ªÂä†‰ª•‰∏ãÈÖçÁΩÆ spring.thymeleaf.content-type: text/htmlspring.thymeleaf.cache: falsespring.thymeleaf.mode: LEGACYHTML5 ÂÜçÂú®pom.xml Ê∑ªÂä†‰ª•‰∏ã‰æùËµñ 12345&lt;dependency&gt; &lt;groupId&gt;net.sourceforge.nekohtml&lt;/groupId&gt; &lt;artifactId&gt;nekohtml&lt;/artifactId&gt; &lt;version&gt;1.9.22&lt;/version&gt; &lt;/dependency&gt; ËµÑÊ∫êÊñá‰ª∂ÁöÑË∑ØÂæÑË¢´‰øÆÊîπÔºåÂ¶ÇÊûú‰Ω†ÂÖ∂‰ªñÁöÑËØ∑Ê±ÇÈÉΩÊ≠£Â∏∏ËøîÂõûÂàôÂèØÂøΩÁï•ËøôÊù°„ÄÇ Ëß£ÂÜ≥ÔºöÂú®pom.xmlÊñá‰ª∂ÁöÑ‰∏≠Âä†ÂÖ• 123&lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt;&lt;/resource&gt; Ê∑ªÂä†@ResponseBodyÊ≥®Ëß£ ÁÑ∂ÂêéËøîÂõûJSONÊ†ºÂºè„ÄÇÂêéÁ´ØÊòØÊó†Ê≥ïÊü•ÁúãÁöÑ Ë¶ÅÈÄöËøáÂâçÁ´ØGoogleÊ£ÄÊü•ÂÖÉÁ¥†Êü•ÁúãÔºü ÂâçÂêéÁ´ØÂàÜÁ¶ª2 Redis ËøúÁ®ãÊúçÂä°Âô® liux ËÖæËÆØ‰∫ë https://www.cnblogs.com/KKSJS/p/9622815.html ÈòøÈáå‰∫ëÈÉ®ÁΩ≤RedisÊúçÂä°Âô®ËøúÁ®ãËøûÊé•ÈóÆÈ¢òÊò®Â§©Âú®ÈòøÈáå‰∫ëÂÖçË¥πÈ¢Ü‰∫Ü‰∏Ä‰∏™ÊúàÁöÑ‰∫ëÊúçÂä°Âô®ÔºåÂ∞±ÁùÄÊúÄËøëÂ≠¶ÁöÑSpringBootÔºåÂáÜÂ§áÂÅö‰∏Ä‰∏™SpringBoot‰∏éRedisÁöÑÊï¥Âêà„ÄÇ Âõ†‰∏∫‰ª•ÂâçÁî®ÁöÑRedisÈÉΩÊòØÂÆâË£ÖÂú®Êú¨Âú∞ÁöÑÔºå‰ΩøÁî®ËøáÁ®ã‰∏≠Ê≤°ÈÅáÂà∞‰ªÄ‰πàÂ§ßÈóÆÈ¢òÔºåÂèØÊòØ‰∏ÄÊó¶ÈÉ®ÁΩ≤Âà∞ÁúüÂÆûÁöÑ‰∫ëÊúçÂä°Âô®‰∏äÂ∞±Âá∫Áé∞‰∫Ü‰∏ÄÂ§ßÂ†ÜÈóÆÈ¢òÔºå‰∏îÂê¨ÊàëÊÖ¢ÊÖ¢ÈÅìÊù•„ÄÇ Âú®ÂÆâË£ÖRedisÂâçÔºå‰∫ëÊúçÂä°Âô®ÂÆû‰æãÊòØÂÆåÂÖ®Á∫ØÂáÄÁöÑ„ÄÇÈ¶ñÂÖàÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§‰∏ãËΩΩÂπ∂ÂÆâË£ÖredisÔºö 12345678//‰∏ãËΩΩwget http://download.redis.io/releases/redis-4.0.9.tar.gz//Ëß£Âéãtar xzf redis-4.0.9.tar.gz//ËøõÂÖ•Ëß£ÂéãÂêéÁöÑÁõÆÂΩïcd redis-4.0.9//ÂÆâË£ÖÂà∞ÂΩìÂâçÁõÆÂΩïmake Â¶ÇÊûúmakeÂ§±Ë¥•Ôºå‰∏ÄËà¨ÊòØÁ≥ªÁªü‰∏≠ËøòÊú™ÂÆâË£ÖgccÈÄ†ÊàêÁöÑÔºåÂõ†‰∏∫RedisÊòØÁî®CËØ≠Ë®ÄÂÜôÊàêÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅÂÖàÈÄöËøáyum install gccÂÆâË£ÖCËØ≠Ë®ÄÁéØÂ¢É„ÄÇ ÂÆâË£ÖRedisÂêéÔºåÂÖàÂà´ÊÖåÁùÄÂêØÂä®ÔºåÂõ†‰∏∫RedisÂØπËøúÁ®ãËøûÊé•Ë¶ÅÊ±ÇÊØîËæÉËãõÂàªÔºåÂÖ∑‰ΩìÂà∞‰ª•‰∏ãÂá†ÁÇπÔºö RedisÊúçÂä°ÈªòËÆ§Âè™ËÆ©Êú¨Êú∫ËÆøÈóÆÔºåÂõ†‰∏∫Áé∞Âú®RedisÊòØÂú®‰∫∫ÂÆ∂ÈòøÈáå‰∫ëÁöÑÊúçÂä°Âô®‰∏äÔºåÊâÄ‰ª•ÈúÄË¶Å‰øÆÊîπÊàêËÆ©Â§ñÁΩë‰πüËÉΩËÆøÈóÆ„ÄÇ‰∏ªË¶ÅÊòØ‰øÆÊîπRedisÁöÑÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂reidis.conf„ÄÇ Ê≥®ÈáäÊéâbind 127.0.0.1Ëøô‰∏ÄË°åÔºåËøôÊ†∑ÂèØ‰ª•‰ΩøÊâÄÊúâÁöÑipËÆøÈóÆredis ‰øÆÊîπ protected-modeÔºåÂÄºÊîπ‰∏∫noÔºåÁîü‰∫ßÁéØÂ¢É‰∏ãË¶ÅÊîπ‰∏∫yes ‰∏∫‰∫ÜRedisÁöÑÂÆâÂÖ®ÔºåÈúÄË¶ÅÊää#requirepass foobaredÂéªÊéâÊ≥®ÈáäÔºåfoobaredÊîπ‰∏∫Ëá™Â∑±ÁöÑÂØÜÁ†ÅÔºå‰æãÂ¶ÇÂèØ‰ª•Êîπ‰∏∫requirepass 123456 ÁªèËøá‰ª•‰∏äÂá†Ê≠•ÂêéÔºåÁêÜËÆ∫‰∏äÂ∞±ÂèØ‰ª•ÈÄöËøáÂ§ñÁΩëËÆøÈóÆÂà∞‰∫ëÊúçÂä°Âô®‰∏äÁöÑRedis‰∫Ü„ÄÇÂ¶ÇÊûúÁé∞Âú®ÂéªÂêØÂä®RedisÁöÑÊúçÂä°Á´ØÔºå‰ºöÂèëÁé∞RedisÂè™ËÉΩÊòØÂâçÂè∞ÂêØÂä®ÔºåÂú®ËøôÈáåÂèØ‰ª•ÈÄöËøá‰øÆÊîπredis.confÈáåÁöÑdaemonize‰∏∫yesËÆ©redisÂºÄÂêØÂêéÂè∞ÂêØÂä®„ÄÇ Âõ†‰∏∫redisÈááÁî®ÁöÑÊòØÂçïËøõÁ®ãÂ§öÁ∫øÁ®ãÁöÑÊ®°Âºè„ÄÇÂΩìredis.conf‰∏≠ÈÄâÈ°πdaemonizeËÆæÁΩÆÊàêyesÊó∂Ôºå‰ª£Ë°®ÂºÄÂêØÂÆàÊä§ËøõÁ®ãÊ®°Âºè„ÄÇÂú®ËØ•Ê®°Âºè‰∏ãÔºåredis‰ºöÂú®ÂêéÂè∞ËøêË°åÔºåÂπ∂Â∞ÜËøõÁ®ãpidÂè∑ÂÜôÂÖ•Ëá≥redis.confÈÄâÈ°πpidfileËÆæÁΩÆÁöÑÊñá‰ª∂‰∏≠ÔºåÊ≠§Êó∂redisÂ∞Ü‰∏ÄÁõ¥ËøêË°åÔºåÈô§ÈùûÊâãÂä®killËØ•ËøõÁ®ã„ÄÇ Âú®‰øÆÊîπÂÆåÈÖçÁΩÆÊñá‰ª∂ÂêéÔºåÊàë‰ª¨ËøõÂÖ•redis-4.0.9ÁöÑscrÁõÆÂΩïÔºåÊâßË°å‰ª•‰∏ãÂëΩ‰ª§ÂêØÂä®RedisÁöÑÊúçÂä°Á´ØÔºö 1./redis-server ../redis.conf ËøôÊ†∑RedisÂ∞±Âú®‰∫ëÊúçÂä°Âô®‰∏ä‰ª•ÂêéÂè∞ÁöÑÊñπÂºèÂêØÂä®‰∫ÜÔºåÊé•‰∏ãÊù•ÊàëÂú®Êú¨Âú∞Âø´ÈÄüÊê≠Âª∫‰∫Ü‰∏Ä‰∏™SpringBootÊï¥ÂêàRedisÁöÑÊ°à‰æã„ÄÇÂú®application.propertiesÊ∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÔºö 1234#ËÆæÁΩÆredis‰∏ªÊú∫ipspring.redis.host= #‰Ω†ÁöÑ‰∫ëÊúçÂä°Âô®IPÂú∞ÂùÄ#ËøûÊé•redisÊúçÂä°ÁöÑÂØÜÁ†Åspring.redis.password= #ÂàöÂàöÂú®redis.conf‰∏≠ËÆæÁΩÆÁöÑÂØÜÁ†Å Ê∑ªÂä†controllerÂ¶Ç‰∏ãÔºö 1234567891011@RestControllerpublic class TestRedis &#123; @Autowired private StringRedisTemplate strTplRedis; @GetMapping(&quot;/testredis&quot;) public String testRedis()&#123; strTplRedis.opsForValue().set(&quot;testkey&quot;, &quot;testvalue&quot;); strTplRedis.opsForValue().get(&quot;testkey&quot;); return &quot;success&quot;; &#125;&#125; Ê≠§Êó∂Êàë‰ª¨ÂêØÂä®È°πÁõÆÂêéÔºåËÆøÈóÆlocalhost:8080/testredisÔºåÂá∫Áé∞Â¶Ç‰∏ãÈîôËØØÔºö ËøôÈáåÈóÆÈ¢òÂ∞±Êù•‰∫ÜÔºåÊòæÁ§∫Êó†Ê≥ïËøûÊé•Âà∞RedisÔºåÊ≠§Êó∂ÈÖçÁΩÆÊñá‰ª∂ÈáåÈù¢ËØ•ÊîπÂà∞ÁöÑÈÉΩÂ∑≤ÁªèÊîπ‰∫ÜÔºåÂêéÊù•ÊàëÂèàÊÉ≥Âà∞Â∫îËØ•ÊòØÈò≤ÁÅ´Â¢ôÁöÑÈóÆÈ¢òÔºåÂõ†‰∏∫redisÁöÑÁ´ØÂè£ÊòØ6379ÔºåÊúçÂä°Âô®ÈªòËÆ§ÊòØ‰∏çÂºÄÂêØËøô‰∏™Á´ØÂè£ÁöÑÔºåÊâÄ‰ª•ÊàëÊâßË°å‰∏ãÈù¢ÂëΩ‰ª§ÂÖ≥Èó≠‰∫ÜÈò≤ÁÅ´Â¢ôÔºö 1sudo service iptables stop ÈáçÊñ∞ËÆøÈóÆurlÔºåÂèëÁé∞ËøòÊòØÊä•ÂêåÊ†∑ÁöÑÈîô‚Ä¶‚Ä¶ ‰∫éÊòØÂéªËØ∑ÊïôÂ§ßÁ•ûÔºåÁªèËøáÂ§ßÁ•ûÁöÑ‰∏ÄÈ°øÊéíÊü•ÔºåÊúÄÂêéÂëäËØâÊàëÂ∫îËØ•ÊòØÊàëÊúçÂä°Âô®ÁöÑÂÆâÂÖ®ÁªÑËßÑÂàôÁöÑÈóÆÈ¢ò„ÄÇ ÂéüÊù•ÔºåÊñ∞Âª∫ÁöÑÈòøÈáå‰∫ëÊúçÂä°Âô®ÂÆû‰æãÔºåÊòØÈªòËÆ§‰∏çËÆ©Â§ñÁΩëËÆøÈóÆÁöÑÔºå‰∏Ä‰∏™ÂÆû‰æãÂ±û‰∫é‰∏Ä‰∏™ÂÆâÂÖ®ÁªÑÔºåËøô‰∏™ÂÆâÂÖ®ÁªÑÈáå‰∏ÄÂºÄÂßãÊúâÈòøÈáå‰∫ë‰∏∫Êàë‰ª¨ÂÆö‰πâÁöÑËßÑÂàôÔºåÈªòËÆ§ÊòØ‰∏çÂºÄÊîæ‰ªª‰ΩïtcpÁ´ØÂè£ÁöÑÔºåÂÖ∑‰ΩìÁöÑÂèØ‰ª•Êü•ÁúãÂÆòÊñπÁöÑ‰ªãÁªçÔºöÊ∑ªÂä†ÂÆâÂÖ®ÁªÑËßÑÂàô„ÄÇ Âú®‰øÆÊîπÂ•ΩÂÆâÂÖ®ÁªÑËßÑÂàôÂêéÔºåÂÜçËÆøÈóÆÈ°µÈù¢urlÔºåÈ°µÈù¢ÊòæÁ§∫successÔºåËøô‰∏ãÊÄªÁÆóÊòØÂ∞ÜÊï∞ÊçÆÂ≠òËøõÂéª‰∫ÜÔºå‰ΩøÁî®RedisÁöÑÊ°åÈù¢ÂÆ¢Êà∑Á´Ø‰πüËÉΩËøúÁ®ãËøûÊé•Âà∞RedisÔºåÊòæÁ§∫RedisÈáåÈù¢ÁöÑÊï∞ÊçÆÂ¶Ç‰∏ãÔºö ÂõûÂ§¥ÁúãÊù•ÔºåËøúÁ®ãËøûÊé•RedisÁöÑÂùëÂü∫Êú¨‰∏äÊòØË¢´ÊàëË∏©ÂÆå‰∫Ü‚Ä¶‚Ä¶ 3 Âä†ÂÖ•maven‰æùËµñ CodeC/MessageToByteEncoder]]></content>
  </entry>
  <entry>
    <title><![CDATA[Redis+SPringBoot Utils]]></title>
    <url>%2F2019%2F01%2F31%2F%E6%8A%80%E6%9C%AF%E6%A0%88%2FRedis%E9%9B%86%E6%88%90SpringBoot%E5%B0%81%E8%A3%85utils%2FRedisUtils%2F</url>
    <content type="text"><![CDATA[1. Redis‰æùËµñ&lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;/dependency&gt; 2. RedisÁöÑÈÖçÁΩÆÊñá‰ª∂1234567redis.host=192.168.220.128redis.port=6379redis.timeout=3redis.password=123456redis.poolMaxTotal=10redis.poolMaxIdle=10redis.poolMaxWait=3 3. RedisConfig1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.imooc.miaosha.redis;@Component@ConfigurationProperties(prefix="redis")public class RedisConfig &#123; private String host; private int port; private int timeout;//Áßí private String password; private int poolMaxTotal; private int poolMaxIdle; private int poolMaxWait;//Áßí public String getHost() &#123; return host; &#125; public void setHost(String host) &#123; this.host = host; &#125; public int getPort() &#123; return port; &#125; public void setPort(int port) &#123; this.port = port; &#125; public int getTimeout() &#123; return timeout; &#125; public void setTimeout(int timeout) &#123; this.timeout = timeout; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; public int getPoolMaxTotal() &#123; return poolMaxTotal; &#125; public void setPoolMaxTotal(int poolMaxTotal) &#123; this.poolMaxTotal = poolMaxTotal; &#125; public int getPoolMaxIdle() &#123; return poolMaxIdle; &#125; public void setPoolMaxIdle(int poolMaxIdle) &#123; this.poolMaxIdle = poolMaxIdle; &#125; public int getPoolMaxWait() &#123; return poolMaxWait; &#125; public void setPoolMaxWait(int poolMaxWait) &#123; this.poolMaxWait = poolMaxWait; &#125;&#125; 4. RedisPoolFactory1234567891011121314151617181920package com.imooc.miaosha.redis;@Servicepublic class RedisPoolFactory &#123; @Autowired RedisConfig redisConfig; @Bean public JedisPool JedisPoolFactory() &#123; JedisPoolConfig poolConfig = new JedisPoolConfig(); poolConfig.setMaxIdle(redisConfig.getPoolMaxIdle()); poolConfig.setMaxTotal(redisConfig.getPoolMaxTotal()); poolConfig.setMaxWaitMillis(redisConfig.getPoolMaxWait() * 1000); JedisPool jp = new JedisPool(poolConfig, redisConfig.getHost(), redisConfig.getPort(), redisConfig.getTimeout()*1000, redisConfig.getPassword(), 0); return jp; &#125; &#125; 5.RedisService123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133package com.imooc.miaosha.redis;@Servicepublic class RedisService &#123; @Autowired JedisPool jedisPool; /** * Ëé∑ÂèñÂΩì‰∏™ÂØπË±° * */ public &lt;T&gt; T get(KeyPrefix prefix, String key, Class&lt;T&gt; clazz) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); //ÁîüÊàêÁúüÊ≠£ÁöÑkey String realKey = prefix.getPrefix() + key; String str = jedis.get(realKey); T t = stringToBean(str, clazz); return t; &#125;finally &#123; returnToPool(jedis); &#125; &#125; /** * ËÆæÁΩÆÂØπË±° * */ public &lt;T&gt; boolean set(KeyPrefix prefix, String key, T value) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); String str = beanToString(value); if(str == null || str.length() &lt;= 0) &#123; return false; &#125; //ÁîüÊàêÁúüÊ≠£ÁöÑkey String realKey = prefix.getPrefix() + key; int seconds = prefix.expireSeconds(); if(seconds &lt;= 0) &#123; jedis.set(realKey, str); &#125;else &#123; jedis.setex(realKey, seconds, str); &#125; return true; &#125;finally &#123; returnToPool(jedis); &#125; &#125; /** * Âà§Êñ≠keyÊòØÂê¶Â≠òÂú® * */ public &lt;T&gt; boolean exists(KeyPrefix prefix, String key) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); //ÁîüÊàêÁúüÊ≠£ÁöÑkey String realKey = prefix.getPrefix() + key; return jedis.exists(realKey); &#125;finally &#123; returnToPool(jedis); &#125; &#125; /** * Â¢ûÂä†ÂÄº * */ public &lt;T&gt; Long incr(KeyPrefix prefix, String key) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); //ÁîüÊàêÁúüÊ≠£ÁöÑkey String realKey = prefix.getPrefix() + key; return jedis.incr(realKey); &#125;finally &#123; returnToPool(jedis); &#125; &#125; /** * ÂáèÂ∞ëÂÄº * */ public &lt;T&gt; Long decr(KeyPrefix prefix, String key) &#123; Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); //ÁîüÊàêÁúüÊ≠£ÁöÑkey String realKey = prefix.getPrefix() + key; return jedis.decr(realKey); &#125;finally &#123; returnToPool(jedis); &#125; &#125; private &lt;T&gt; String beanToString(T value) &#123; if(value == null) &#123; return null; &#125; Class&lt;?&gt; clazz = value.getClass(); if(clazz == int.class || clazz == Integer.class) &#123; return &quot;&quot;+value; &#125;else if(clazz == String.class) &#123; return (String)value; &#125;else if(clazz == long.class || clazz == Long.class) &#123; return &quot;&quot;+value; &#125;else &#123; return JSON.toJSONString(value); &#125; &#125; @SuppreWarnings(&quot;unchecked&quot;) private &lt;T&gt; T stringToBean(String str, Class&lt;T&gt; clazz) &#123; if(str == null || str.length() &lt;= 0 || clazz == null) &#123; return null; &#125; if(clazz == int.class || clazz == Integer.class) &#123; return (T)Integer.valueOf(str); &#125;else if(clazz == String.class) &#123; return (T)str; &#125;else if(clazz == long.class || clazz == Long.class) &#123; return (T)Long.valueOf(str); &#125;else &#123; return JSON.toJavaObject(JSON.parseObject(str), clazz); &#125; &#125; private void returnToPool(Jedis jedis) &#123; if(jedis != null) &#123; jedis.close(); &#125; &#125;&#125; 6 KeyPrefix123456789package com.imooc.miaosha.redis;public interface KeyPrefix &#123; public int expireSeconds(); public String getPrefix(); &#125; 7 BasePrefix123456789101112131415161718192021222324252627package com.imooc.miaosha.redis;public abstract class BasePrefix implements KeyPrefix&#123; private int expireSeconds; private String prefix; public BasePrefix(String prefix) &#123;//0‰ª£Ë°®Ê∞∏‰∏çËøáÊúü this(0, prefix); &#125; public BasePrefix( int expireSeconds, String prefix) &#123; this.expireSeconds = expireSeconds; this.prefix = prefix; &#125; public int expireSeconds() &#123;//ÈªòËÆ§0‰ª£Ë°®Ê∞∏‰∏çËøáÊúü return expireSeconds; &#125; public String getPrefix() &#123; String className = getClass().getSimpleName(); return className+":" + prefix; &#125;&#125; #8 UserKey 12345678910package com.imooc.miaosha.redis;public class UserKey extends BasePrefix&#123; private UserKey(String prefix) &#123; super(prefix); &#125; public static UserKey getById = new UserKey("id"); public static UserKey getByName = new UserKey("name");&#125; 9 OrderKey123456789package com.imooc.miaosha.redis;public class OrderKey extends BasePrefix &#123; public OrderKey(int expireSeconds, String prefix) &#123; super(expireSeconds, prefix); &#125;&#125; 12345678910package com.imooc.miaosha.redis;public class MiaoshaUserKey extends BasePrefix&#123; public static final int TOKEN_EXPIRE = 3600*24 * 2; private MiaoshaUserKey(int expireSeconds, String prefix) &#123; super(expireSeconds, prefix); &#125; public static MiaoshaUserKey token = new MiaoshaUserKey(TOKEN_EXPIRE, "tk");&#125;]]></content>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[staticÂÖ≥ÈîÆÂ≠ó]]></title>
    <url>%2F2019%2F01%2F31%2Fjava%E5%9F%BA%E7%A1%80%2Fstatic%E5%85%B3%E9%94%AE%E5%AD%97%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324public class ClassTest &#123; public static void main(String[] args) &#123; int age = ClassTest.classTest.age; System.out.println(age); String name = ClassTest.classTest.name; System.out.println(name); System.out.println(ClassTest.classTest); &#125; private String name; private int age; static ClassTest classTest = new ClassTest(&quot;yhp&quot;, 23); public ClassTest(String name) &#123; this.name = name; &#125; public ClassTest(int age) &#123; this.age = age; &#125; public ClassTest(String name, int age) &#123; this.name = name; this.age = age;]]></content>
      <tags>
        <tag>static</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Áªü‰∏ÄÂ∞ÅË£ÖËøîÂõû‰ø°ÊÅØ]]></title>
    <url>%2F2019%2F01%2F31%2F%E6%8A%80%E6%9C%AF%E6%A0%88%2F%E7%BB%9F%E4%B8%80%E5%B0%81%E8%A3%85%E8%BF%94%E5%9B%9E%E4%BF%A1%E6%81%AF%20%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%2F%E7%BB%9F%E4%B8%80%E5%B0%81%E8%A3%85%E8%BF%94%E5%9B%9E%E4%BF%A1%E6%81%AF%7Bcode%2Cmsg%2Cdata%7D%2F</url>
    <content type="text"><![CDATA[1 Result123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package com.imooc.miaosha.result;public class Result&lt;T&gt; &#123; private int code; private String msg; private T data; //‚≠êÔ∏è private Result(CodeMsg cm) &#123; if (cm == null) &#123; return; &#125; this.code = cm.getCode(); this.msg = cm.getMsg(); &#125; private Result(T data) &#123; this.code = 0; this.msg = &quot;success&quot;; this.data = data; &#125; /** * Â§±Ë¥•ÁöÑÊó∂ÂÄôË∞ÉÁî® */ public static &lt;T&gt; Result&lt;T&gt; error(CodeMsg cm) &#123; return new Result&lt;T&gt;(cm); &#125; /** * ÊàêÂäüÁöÑÊó∂ÂÄôË∞ÉÁî® * * @param code */ public static &lt;T&gt; Result&lt;T&gt; success(T data) &#123; return new Result&lt;T&gt;(data); &#125; //2 ÁîüÊàêÊûÑÈÄ†ÊñπÊ≥ï public Result(int code) &#123; this.code = code; &#125; public Result(String msg) &#123; this.msg = msg; &#125; //3„ÄÇget/setÊñπÊ≥ï public int getCode() &#123; return code; &#125; public void setCode(int code) &#123; this.code = code; &#125; public String getMsg() &#123; return msg; &#125; public void setMsg(String msg) &#123; this.msg = msg; &#125; public T getData() &#123; return data; &#125; public void setData(T data) &#123; this.data = data; &#125;&#125; 2 CodeMsg12345678910111213141516171819202122232425262728293031323334package com.imooc.miaosha.result;public class CodeMsg &#123; private int code; private String msg; //ÈÄöÁî®ÂºÇÂ∏∏ public static CodeMsg SUCCESS = new CodeMsg(0, "success"); public static CodeMsg SERVER_NAME = new CodeMsg(50001, "ÊúçÂä°Á´ØÂºÇÂ∏∏"); //ÁôªÂΩïÊ®°Âùó 5002XX //ÂïÜÂìÅÊ®°Âùó 5003XX //ËÆ¢ÂçïÊ®°Âùó 5004XX //ÁßíÊùÄÊ®°Âùó 5005XX private CodeMsg(int code, String msg) &#123; this.code = code; this.msg = msg; &#125; public int getCode() &#123; return code; &#125; public String getMsg() &#123; return msg; &#125; public static CodeMsg getSUCCESS() &#123; return SUCCESS; &#125; public static CodeMsg getServerName() &#123; return SERVER_NAME; &#125;&#125; 3 Ë∞ÉÁî®Ë¶Å‚ûï@ResponseBodyÊ≥®Ëß£123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869@RequestMapping("/resultsuccess")@ResponseBodypublic Result&lt;String&gt; resultsuccess() &#123; //‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è /**1.ËøîÂõûÊàêÂäüÁöÑÊó∂ÂÄôË∞ÉÁî® * public static &lt;T&gt; Result&lt;T&gt; success(T data) &#123; * return new Result&lt;T&gt;(data); * &#125; * * private Result(T data) &#123; * this.code = 0; * this.msg = "success"; * this.data = data; * &#125; * 1.Result.success(data); * ÁªìÊûúÔºö * &#123; * "code": 0, * "msg": "success", * "data": "hello immooc" * &#125; */ return Result.success("hello immooc");&#125;======================================================================@RequestMapping("/resulterror")@ResponseBodypublic Result&lt;String&gt; resultError() &#123; /** * 2„ÄÇÂ§±Ë¥•ÁöÑÊó∂ÂÄôË∞ÉÁî® * public static &lt;T&gt; Result&lt;T&gt; error(CodeMsg cm) &#123; * return new Result&lt;T&gt;(cm); * &#125; * * private Result(CodeMsg cm) &#123; * if (cm == null) &#123; * return; * &#125; * this.code = cm.getCode(); * this.msg = cm.getMsg(); * &#125; * 2 Result.error(CodeMsg.SERVER_NAME) * public static CodeMsg SERVER_NAME = new CodeMsg(50001, "ÊúçÂä°Á´ØÂºÇÂ∏∏"); * * ÁªìÊûú &#123; * "code": 50001, * "msg": "ÊúçÂä°Á´ØÂºÇÂ∏∏", * "data": null * &#125; * ÂàÜÊûêÔºö * Âõ†‰∏∫CodeMsg SUCCESS Áî®static‰øÆÈ•∞‰∫Ü * public static CodeMsg SUCCESS = new CodeMsg(0, "success"); * ÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®Á±ª.Â±ûÊÄß.Â±ûÊÄßÁöÑÊñπÂºèËé∑Âæó * CodeMsg.SUCCESS.code=50001 * CodeMsg.SUCCESS.msg="ÊúçÂä°Á´ØÂºÇÂ∏∏" */ return Result.error(CodeMsg.SERVER_NAME);&#125;]]></content>
      <tags>
        <tag>Â∑•ÂÖ∑Á±ª</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏§Ê¨°MD5ÊòéÊñáÂä†ÂØÜ]]></title>
    <url>%2F2019%2F01%2F31%2F%E6%8A%80%E6%9C%AF%E6%A0%88%2FMD5%E6%98%8E%E6%96%87%E5%8A%A0%E5%AF%86%2F%E4%B8%A4%E6%AC%A1MD5%E6%98%8E%E6%96%87%E5%8A%A0%E5%AF%86%2F</url>
    <content type="text"><![CDATA[1 .‰æùËµñ12345678910111213&lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;&lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.11&lt;/version&gt;&lt;/dependency&gt;------------------------------------------------------------------------------------------&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.4&lt;/version&gt;&lt;/dependency&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041424344package com.imooc.miaosha.utils;import org.apache.commons.codec.digest.DigestUtils;public class MD5Util &#123; /*Âõ∫ÂÆöÁõêÂÄº*/ private static final String salt = &quot;1a2b3c4d&quot;; //Ê≥®ÊÑèÂØºÂåÖ‰∏∫codec‰∏≠ÁöÑDigestUtilsÁ±ª.codec.digest.DigestUtils; public static String md5(String src) &#123; //ËÆ°ÁÆóMD5ÊëòË¶ÅÂπ∂‰ª•32‰∏™Â≠óÁ¨¶ÂçÅÂÖ≠ËøõÂà∂Â≠óÁ¨¶‰∏≤ÁöÑÂΩ¢ÂºèËøîÂõûÂÄº„ÄÇ return DigestUtils.md5Hex(src); &#125; /** * Á¨¨‰∏ÄÊ¨°md5 Ôºö * Áî®‰∫é ÈÄöËøáËæìÂÖ•ÁöÑÂØÜÁ†ÅÁîüÊàê * ‰º†ËæìÁöÑÂØÜÁ†Å Ôºö ÊñπÊ≥ï ÈÄöËøáÂõ∫ÂÆöÁõêÂÄºÂíåÊòéÊñáÂØÜÁ†Å‰πãÈó¥ÁöÑÊãºÊé•Âú®ÁîüÊàêmd5 */ public static String inputPassFormPass(String inputPass) &#123; String str = &quot;&quot; + salt.charAt(0) + salt.charAt(2) + inputPass + salt.charAt(5) + salt.charAt(4); return md5(str); &#125; /** * Á¨¨‰∫åÊ¨°md5 Ôºö */ public static String fromPassFormPass(String formpasss, String salt) &#123; String str = &quot;&quot; + salt.charAt(0) + salt.charAt(2) + formpasss + salt.charAt(5) + salt.charAt(4); return md5(str); &#125; //Â∞ÜÂØÜÁ†ÅÂ∞ÅË£ÖÂà∞Êï∞ÊçÆÂ∫ì‰∏≠ public static String inputPassToDbPass(String input, String saltDB) &#123; String s = inputPassFormPass(input); String formPass = fromPassFormPass(s, saltDB); return formPass; &#125; public static void main(String args[]) &#123; //System.out.println(s);//d3b1294a61a07da9b49b6e22b2cbd7f9 //System.out.println(inputPassToDbPass(&quot;123456&quot;, &quot;1a2b3c4d&quot;)); &#125;&#125; Ë∞ÉÁî®]]></content>
      <tags>
        <tag>MD5</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaÁßíÊùÄÁ≥ªÁªüÊñπÊ°à‰ºòÂåñ]]></title>
    <url>%2F2019%2F01%2F30%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2Fjava%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ÔºÅ]]></content>
      <tags>
        <tag>ÂÆûÊàò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈªëÈ©¨‰πêÂèãÂïÜÂüé-day02-ËÆ§ËØÜÂæÆÊúçÂä°]]></title>
    <url>%2F2019%2F01%2F30%2FSpringCloud%2F%E9%BB%91%E9%A9%AC%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E-day02-%E8%AE%A4%E8%AF%86%E5%BE%AE%E6%9C%8D%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[0.Â≠¶‰π†ÁõÆÊ†á ‰∫ÜËß£Á≥ªÁªüÊû∂ÊûÑÁöÑÊºîÂèò ‰∫ÜËß£RPC‰∏éHttpÁöÑÂå∫Âà´ ÊéåÊè°HttpClientÁöÑÁÆÄÂçï‰ΩøÁî® Áü•ÈÅì‰ªÄ‰πàÊòØSpringCloud Áã¨Á´ãÊê≠Âª∫EurekaÊ≥®ÂÜå‰∏≠ÂøÉ Áã¨Á´ãÈÖçÁΩÆRobbinË¥üËΩΩÂùáË°° -Xms128m -Xmx128m 1.Á≥ªÁªüÊû∂ÊûÑÊºîÂèòÈöèÁùÄ‰∫íËÅîÁΩëÁöÑÂèëÂ±ïÔºåÁΩëÁ´ôÂ∫îÁî®ÁöÑËßÑÊ®°‰∏çÊñ≠Êâ©Â§ß„ÄÇÈúÄÊ±ÇÁöÑÊøÄÂ¢ûÔºåÂ∏¶Êù•ÁöÑÊòØÊäÄÊúØ‰∏äÁöÑÂéãÂäõ„ÄÇÁ≥ªÁªüÊû∂ÊûÑ‰πüÂõ†Ê≠§‰πü‰∏çÊñ≠ÁöÑÊºîËøõ„ÄÅÂçáÁ∫ß„ÄÅËø≠‰ª£„ÄÇ‰ªéÂçï‰∏ÄÂ∫îÁî®ÔºåÂà∞ÂûÇÁõ¥ÊãÜÂàÜÔºåÂà∞ÂàÜÂ∏ÉÂºèÊúçÂä°ÔºåÂà∞SOAÔºå‰ª•ÂèäÁé∞Âú®ÁÅ´ÁÉ≠ÁöÑÂæÆÊúçÂä°Êû∂ÊûÑÔºåËøòÊúâÂú®GoogleÂ∏¶È¢Ü‰∏ãÊù•ÂäøÊ±πÊ∂åÁöÑService Mesh„ÄÇÊàë‰ª¨Âà∞Â∫ïÊòØËØ•‰πòÂùêÂæÆÊúçÂä°ÁöÑËàπÂè™È©∂ÂêëËøúÊñπÔºåËøòÊòØÂÅèÂÆâ‰∏ÄÈöÖÂæóËøá‰∏îËøáÔºü ÂÖ∂ÂÆûÁîüÊ¥ª‰∏çÊ≠¢ÁúºÂâçÁöÑËãü‰∏îÔºåËøòÊúâËØóÂíåËøúÊñπ„ÄÇÊâÄ‰ª•Êàë‰ª¨‰ªäÂ§©Â∞±ÂõûÈ°æÂéÜÂè≤ÔºåÁúã‰∏ÄÁúãÁ≥ªÁªüÊû∂ÊûÑÊºîÂèòÁöÑÂéÜÁ®ãÔºõÊääÊè°Áé∞Âú®ÔºåÂ≠¶‰π†Áé∞Âú®ÊúÄÁÅ´ÁöÑÊäÄÊúØÊû∂ÊûÑÔºõÂ±ïÊúõÊú™Êù•Ôºå‰∫âÂèñÊàê‰∏∫‰∏ÄÂêç‰ºòÁßÄÁöÑJavaÂ∑•Á®ãÂ∏à„ÄÇ 1.1. ÈõÜ‰∏≠ÂºèÊû∂ÊûÑÂΩìÁΩëÁ´ôÊµÅÈáèÂæàÂ∞èÊó∂ÔºåÂè™ÈúÄ‰∏Ä‰∏™Â∫îÁî®ÔºåÂ∞ÜÊâÄÊúâÂäüËÉΩÈÉΩÈÉ®ÁΩ≤Âú®‰∏ÄËµ∑Ôºå‰ª•ÂáèÂ∞ëÈÉ®ÁΩ≤ËäÇÁÇπÂíåÊàêÊú¨„ÄÇÊ≠§Êó∂ÔºåÁî®‰∫éÁÆÄÂåñÂ¢ûÂà†ÊîπÊü•Â∑•‰ΩúÈáèÁöÑÊï∞ÊçÆËÆøÈóÆÊ°ÜÊû∂(ORM)ÊòØÂΩ±ÂìçÈ°πÁõÆÂºÄÂèëÁöÑÂÖ≥ÈîÆ„ÄÇ Â≠òÂú®ÁöÑÈóÆÈ¢òÔºö ‰ª£Á†ÅËÄ¶ÂêàÔºåÂºÄÂèëÁª¥Êä§Âõ∞Èöæ Êó†Ê≥ïÈíàÂØπ‰∏çÂêåÊ®°ÂùóËøõË°åÈíàÂØπÊÄß‰ºòÂåñ Êó†Ê≥ïÊ∞¥Âπ≥Êâ©Â±ï ÂçïÁÇπÂÆπÈîôÁéá‰ΩéÔºåÂπ∂ÂèëËÉΩÂäõÂ∑Æ 1.2.ÂûÇÁõ¥ÊãÜÂàÜÂΩìËÆøÈóÆÈáèÈÄêÊ∏êÂ¢ûÂ§ßÔºåÂçï‰∏ÄÂ∫îÁî®Êó†Ê≥ïÊª°Ë∂≥ÈúÄÊ±ÇÔºåÊ≠§Êó∂‰∏∫‰∫ÜÂ∫îÂØπÊõ¥È´òÁöÑÂπ∂ÂèëÂíå‰∏öÂä°ÈúÄÊ±ÇÔºåÊàë‰ª¨Ê†πÊçÆ‰∏öÂä°ÂäüËÉΩÂØπÁ≥ªÁªüËøõË°åÊãÜÂàÜÔºö ‰ºòÁÇπÔºö Á≥ªÁªüÊãÜÂàÜÂÆûÁé∞‰∫ÜÊµÅÈáèÂàÜÊãÖÔºåËß£ÂÜ≥‰∫ÜÂπ∂ÂèëÈóÆÈ¢ò ÂèØ‰ª•ÈíàÂØπ‰∏çÂêåÊ®°ÂùóËøõË°å‰ºòÂåñ Êñπ‰æøÊ∞¥Âπ≥Êâ©Â±ïÔºåË¥üËΩΩÂùáË°°ÔºåÂÆπÈîôÁéáÊèêÈ´ò Áº∫ÁÇπÔºö Á≥ªÁªüÈó¥Áõ∏‰∫íÁã¨Á´ãÔºå‰ºöÊúâÂæàÂ§öÈáçÂ§çÂºÄÂèëÂ∑•‰ΩúÔºåÂΩ±ÂìçÂºÄÂèëÊïàÁéá 1.3.ÂàÜÂ∏ÉÂºèÊúçÂä°ÂΩìÂûÇÁõ¥Â∫îÁî®Ë∂äÊù•Ë∂äÂ§öÔºåÂ∫îÁî®‰πãÈó¥‰∫§‰∫í‰∏çÂèØÈÅøÂÖçÔºåÂ∞ÜÊ†∏ÂøÉ‰∏öÂä°ÊäΩÂèñÂá∫Êù•Ôºå‰Ωú‰∏∫Áã¨Á´ãÁöÑÊúçÂä°ÔºåÈÄêÊ∏êÂΩ¢ÊàêÁ®≥ÂÆöÁöÑÊúçÂä°‰∏≠ÂøÉÔºå‰ΩøÂâçÁ´ØÂ∫îÁî®ËÉΩÊõ¥Âø´ÈÄüÁöÑÂìçÂ∫îÂ§öÂèòÁöÑÂ∏ÇÂú∫ÈúÄÊ±Ç„ÄÇÊ≠§Êó∂ÔºåÁî®‰∫éÊèêÈ´ò‰∏öÂä°Â§çÁî®ÂèäÊï¥ÂêàÁöÑÂàÜÂ∏ÉÂºèË∞ÉÁî®ÊòØÂÖ≥ÈîÆ„ÄÇ ‰ºòÁÇπÔºö Â∞ÜÂü∫Á°ÄÊúçÂä°ËøõË°å‰∫ÜÊäΩÂèñÔºåÁ≥ªÁªüÈó¥Áõ∏‰∫íË∞ÉÁî®ÔºåÊèêÈ´ò‰∫Ü‰ª£Á†ÅÂ§çÁî®ÂíåÂºÄÂèëÊïàÁéá Áº∫ÁÇπÔºö Á≥ªÁªüÈó¥ËÄ¶ÂêàÂ∫¶ÂèòÈ´òÔºåË∞ÉÁî®ÂÖ≥Á≥ªÈîôÁªºÂ§çÊùÇÔºåÈöæ‰ª•Áª¥Êä§ 1.4.ÊúçÂä°Ê≤ªÁêÜÔºàSOAÔºâÂΩìÊúçÂä°Ë∂äÊù•Ë∂äÂ§öÔºåÂÆπÈáèÁöÑËØÑ‰º∞ÔºåÂ∞èÊúçÂä°ËµÑÊ∫êÁöÑÊµ™Ë¥πÁ≠âÈóÆÈ¢òÈÄêÊ∏êÊòæÁé∞ÔºåÊ≠§Êó∂ÈúÄÂ¢ûÂä†‰∏Ä‰∏™Ë∞ÉÂ∫¶‰∏≠ÂøÉÂü∫‰∫éËÆøÈóÆÂéãÂäõÂÆûÊó∂ÁÆ°ÁêÜÈõÜÁæ§ÂÆπÈáèÔºåÊèêÈ´òÈõÜÁæ§Âà©Áî®Áéá„ÄÇÊ≠§Êó∂ÔºåÁî®‰∫éÊèêÈ´òÊú∫Âô®Âà©Áî®ÁéáÁöÑËµÑÊ∫êË∞ÉÂ∫¶ÂíåÊ≤ªÁêÜ‰∏≠ÂøÉ(SOA)ÊòØÂÖ≥ÈîÆ ‰ª•ÂâçÂá∫Áé∞‰∫Ü‰ªÄ‰πàÈóÆÈ¢òÔºü ÊúçÂä°Ë∂äÊù•Ë∂äÂ§öÔºåÈúÄË¶ÅÁÆ°ÁêÜÊØè‰∏™ÊúçÂä°ÁöÑÂú∞ÂùÄ Ë∞ÉÁî®ÂÖ≥Á≥ªÈîôÁªºÂ§çÊùÇÔºåÈöæ‰ª•ÁêÜÊ∏Ö‰æùËµñÂÖ≥Á≥ª ÊúçÂä°ËøáÂ§öÔºåÊúçÂä°Áä∂ÊÄÅÈöæ‰ª•ÁÆ°ÁêÜÔºåÊó†Ê≥ïÊ†πÊçÆÊúçÂä°ÊÉÖÂÜµÂä®ÊÄÅÁÆ°ÁêÜ ÊúçÂä°Ê≤ªÁêÜË¶ÅÂÅö‰ªÄ‰πàÔºü ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÔºåÂÆûÁé∞ÊúçÂä°Ëá™Âä®Ê≥®ÂÜåÂíåÂèëÁé∞ÔºåÊó†ÈúÄ‰∫∫‰∏∫ËÆ∞ÂΩïÊúçÂä°Âú∞ÂùÄ ÊúçÂä°Ëá™Âä®ËÆ¢ÈòÖÔºåÊúçÂä°ÂàóË°®Ëá™Âä®Êé®ÈÄÅÔºåÊúçÂä°Ë∞ÉÁî®ÈÄèÊòéÂåñÔºåÊó†ÈúÄÂÖ≥ÂøÉ‰æùËµñÂÖ≥Á≥ª Âä®ÊÄÅÁõëÊéßÊúçÂä°Áä∂ÊÄÅÁõëÊéßÊä•ÂëäÔºå‰∫∫‰∏∫ÊéßÂà∂ÊúçÂä°Áä∂ÊÄÅ Áº∫ÁÇπÔºö ÊúçÂä°Èó¥‰ºöÊúâ‰æùËµñÂÖ≥Á≥ªÔºå‰∏ÄÊó¶Êüê‰∏™ÁéØËäÇÂá∫Èîô‰ºöÂΩ±ÂìçËæÉÂ§ß ÊúçÂä°ÂÖ≥Á≥ªÂ§çÊùÇÔºåËøêÁª¥„ÄÅÊµãËØïÈÉ®ÁΩ≤Âõ∞ÈöæÔºå‰∏çÁ¨¶ÂêàDevOpsÊÄùÊÉ≥ 1.5.ÂæÆÊúçÂä°ÂâçÈù¢ËØ¥ÁöÑSOAÔºåËã±ÊñáÁøªËØëËøáÊù•ÊòØÈù¢ÂêëÊúçÂä°„ÄÇÂæÆÊúçÂä°Ôºå‰ºº‰πé‰πüÊòØÊúçÂä°ÔºåÈÉΩÊòØÂØπÁ≥ªÁªüËøõË°åÊãÜÂàÜ„ÄÇÂõ†Ê≠§‰∏§ËÄÖÈùûÂ∏∏ÂÆπÊòìÊ∑∑Ê∑ÜÔºå‰ΩÜÂÖ∂ÂÆûÁº∫Êúâ‰∏Ä‰∫õÂ∑ÆÂà´Ôºö ÂæÆÊúçÂä°ÁöÑÁâπÁÇπÔºö Âçï‰∏ÄËÅåË¥£ÔºöÂæÆÊúçÂä°‰∏≠ÊØè‰∏Ä‰∏™ÊúçÂä°ÈÉΩÂØπÂ∫îÂîØ‰∏ÄÁöÑ‰∏öÂä°ËÉΩÂäõÔºåÂÅöÂà∞Âçï‰∏ÄËÅåË¥£ ÂæÆÔºöÂæÆÊúçÂä°ÁöÑÊúçÂä°ÊãÜÂàÜÁ≤íÂ∫¶ÂæàÂ∞èÔºå‰æãÂ¶Ç‰∏Ä‰∏™Áî®Êà∑ÁÆ°ÁêÜÂ∞±ÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™ÊúçÂä°„ÄÇÊØè‰∏™ÊúçÂä°ËôΩÂ∞èÔºå‰ΩÜ‚Äú‰∫îËÑè‰ø±ÂÖ®‚Äù„ÄÇ Èù¢ÂêëÊúçÂä°ÔºöÈù¢ÂêëÊúçÂä°ÊòØËØ¥ÊØè‰∏™ÊúçÂä°ÈÉΩË¶ÅÂØπÂ§ñÊö¥Èú≤ÊúçÂä°Êé•Âè£API„ÄÇÂπ∂‰∏çÂÖ≥ÂøÉÊúçÂä°ÁöÑÊäÄÊúØÂÆûÁé∞ÔºåÂÅöÂà∞‰∏éÂπ≥Âè∞ÂíåËØ≠Ë®ÄÊó†ÂÖ≥Ôºå‰πü‰∏çÈôêÂÆöÁî®‰ªÄ‰πàÊäÄÊúØÂÆûÁé∞ÔºåÂè™Ë¶ÅÊèê‰æõRestÁöÑÊé•Âè£Âç≥ÂèØ„ÄÇ Ëá™Ê≤ªÔºöËá™Ê≤ªÊòØËØ¥ÊúçÂä°Èó¥‰∫íÁõ∏Áã¨Á´ãÔºå‰∫í‰∏çÂπ≤Êâ∞ Âõ¢ÈòüÁã¨Á´ãÔºöÊØè‰∏™ÊúçÂä°ÈÉΩÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÂºÄÂèëÂõ¢ÈòüÔºå‰∫∫Êï∞‰∏çËÉΩËøáÂ§ö„ÄÇ ÊäÄÊúØÁã¨Á´ãÔºöÂõ†‰∏∫ÊòØÈù¢ÂêëÊúçÂä°ÔºåÊèê‰æõRestÊé•Âè£Ôºå‰ΩøÁî®‰ªÄ‰πàÊäÄÊúØÊ≤°ÊúâÂà´‰∫∫Âπ≤Ê∂â ÂâçÂêéÁ´ØÂàÜÁ¶ªÔºöÈááÁî®ÂâçÂêéÁ´ØÂàÜÁ¶ªÂºÄÂèëÔºåÊèê‰æõÁªü‰∏ÄRestÊé•Âè£ÔºåÂêéÁ´Ø‰∏çÁî®ÂÜç‰∏∫PC„ÄÅÁßªÂä®ÊÆµÂºÄÂèë‰∏çÂêåÊé•Âè£ Êï∞ÊçÆÂ∫ìÂàÜÁ¶ªÔºöÊØè‰∏™ÊúçÂä°ÈÉΩ‰ΩøÁî®Ëá™Â∑±ÁöÑÊï∞ÊçÆÊ∫ê ÈÉ®ÁΩ≤Áã¨Á´ãÔºåÊúçÂä°Èó¥ËôΩÁÑ∂ÊúâË∞ÉÁî®Ôºå‰ΩÜË¶ÅÂÅöÂà∞ÊúçÂä°ÈáçÂêØ‰∏çÂΩ±ÂìçÂÖ∂ÂÆÉÊúçÂä°„ÄÇÊúâÂà©‰∫éÊåÅÁª≠ÈõÜÊàêÂíåÊåÅÁª≠‰∫§‰ªò„ÄÇÊØè‰∏™ÊúçÂä°ÈÉΩÊòØÁã¨Á´ãÁöÑÁªÑ‰ª∂ÔºåÂèØÂ§çÁî®ÔºåÂèØÊõøÊç¢ÔºåÈôç‰ΩéËÄ¶ÂêàÔºåÊòìÁª¥Êä§ ÂæÆÊúçÂä°ÁªìÊûÑÂõæÔºö 2.ËøúÁ®ãË∞ÉÁî®ÊñπÂºèÊó†ËÆ∫ÊòØÂæÆÊúçÂä°ËøòÊòØSOAÔºåÈÉΩÈù¢‰∏¥ÁùÄÊúçÂä°Èó¥ÁöÑËøúÁ®ãË∞ÉÁî®„ÄÇÈÇ£‰πàÊúçÂä°Èó¥ÁöÑËøúÁ®ãË∞ÉÁî®ÊñπÂºèÊúâÂì™‰∫õÂë¢Ôºü Â∏∏ËßÅÁöÑËøúÁ®ãË∞ÉÁî®ÊñπÂºèÊúâ‰ª•‰∏ãÂá†ÁßçÔºö RPCÔºöRemote Produce CallËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÔºåÁ±ª‰ººÁöÑËøòÊúâRMI„ÄÇËá™ÂÆö‰πâÊï∞ÊçÆÊ†ºÂºèÔºåÂü∫‰∫éÂéüÁîüTCPÈÄö‰ø°ÔºåÈÄüÂ∫¶Âø´ÔºåÊïàÁéáÈ´ò„ÄÇÊó©ÊúüÁöÑwebserviceÔºåÁé∞Âú®ÁÉ≠Èó®ÁöÑdubboÔºåÈÉΩÊòØRPCÁöÑÂÖ∏Âûã HttpÔºöhttpÂÖ∂ÂÆûÊòØ‰∏ÄÁßçÁΩëÁªú‰º†ËæìÂçèËÆÆÔºåÂü∫‰∫éTCPÔºåËßÑÂÆö‰∫ÜÊï∞ÊçÆ‰º†ËæìÁöÑÊ†ºÂºè„ÄÇÁé∞Âú®ÂÆ¢Êà∑Á´ØÊµèËßàÂô®‰∏éÊúçÂä°Á´ØÈÄö‰ø°Âü∫Êú¨ÈÉΩÊòØÈááÁî®HttpÂçèËÆÆ„ÄÇ‰πüÂèØ‰ª•Áî®Êù•ËøõË°åËøúÁ®ãÊúçÂä°Ë∞ÉÁî®„ÄÇÁº∫ÁÇπÊòØÊ∂àÊÅØÂ∞ÅË£ÖËáÉËÇø„ÄÇ Áé∞Âú®ÁÉ≠Èó®ÁöÑRestÈ£éÊ†ºÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáhttpÂçèËÆÆÊù•ÂÆûÁé∞„ÄÇ 2.1.ËÆ§ËØÜRPCRPCÔºåÂç≥ Remote Procedure CallÔºàËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÔºâÔºåÊòØ‰∏Ä‰∏™ËÆ°ÁÆóÊú∫ÈÄö‰ø°ÂçèËÆÆ„ÄÇ ËØ•ÂçèËÆÆÂÖÅËÆ∏ËøêË°å‰∫é‰∏ÄÂè∞ËÆ°ÁÆóÊú∫ÁöÑÁ®ãÂ∫èË∞ÉÁî®Âè¶‰∏ÄÂè∞ËÆ°ÁÆóÊú∫ÁöÑÂ≠êÁ®ãÂ∫èÔºåËÄåÁ®ãÂ∫èÂëòÊó†ÈúÄÈ¢ùÂ§ñÂú∞‰∏∫Ëøô‰∏™‰∫§‰∫í‰ΩúÁî®ÁºñÁ®ã„ÄÇËØ¥ÂæóÈÄö‰øó‰∏ÄÁÇπÂ∞±ÊòØÔºöAËÆ°ÁÆóÊú∫Êèê‰æõ‰∏Ä‰∏™ÊúçÂä°ÔºåBËÆ°ÁÆóÊú∫ÂèØ‰ª•ÂÉèË∞ÉÁî®Êú¨Âú∞ÊúçÂä°ÈÇ£Ê†∑Ë∞ÉÁî®AËÆ°ÁÆóÊú∫ÁöÑÊúçÂä°„ÄÇ ÈÄöËøá‰∏äÈù¢ÁöÑÊ¶ÇÂøµÔºåÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅìÔºåÂÆûÁé∞RPC‰∏ªË¶ÅÊòØÂÅöÂà∞‰∏§ÁÇπÔºö ÂÆûÁé∞ËøúÁ®ãË∞ÉÁî®ÂÖ∂‰ªñËÆ°ÁÆóÊú∫ÁöÑÊúçÂä° Ë¶ÅÂÆûÁé∞ËøúÁ®ãË∞ÉÁî®ÔºåËÇØÂÆöÊòØÈÄöËøáÁΩëÁªú‰º†ËæìÊï∞ÊçÆ„ÄÇAÁ®ãÂ∫èÊèê‰æõÊúçÂä°ÔºåBÁ®ãÂ∫èÈÄöËøáÁΩëÁªúÂ∞ÜËØ∑Ê±ÇÂèÇÊï∞‰º†ÈÄíÁªôAÔºåAÊú¨Âú∞ÊâßË°åÂêéÂæóÂà∞ÁªìÊûúÔºåÂÜçÂ∞ÜÁªìÊûúËøîÂõûÁªôBÁ®ãÂ∫è„ÄÇËøôÈáåÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÊúâ‰∏§ÁÇπÔºö 1ÔºâÈááÁî®‰ΩïÁßçÁΩëÁªúÈÄöËÆØÂçèËÆÆÔºü Áé∞Âú®ÊØîËæÉÊµÅË°åÁöÑRPCÊ°ÜÊû∂ÔºåÈÉΩ‰ºöÈááÁî®TCP‰Ωú‰∏∫Â∫ïÂ±Ç‰º†ËæìÂçèËÆÆ 2ÔºâÊï∞ÊçÆ‰º†ËæìÁöÑÊ†ºÂºèÊÄéÊ†∑Ôºü ‰∏§‰∏™Á®ãÂ∫èËøõË°åÈÄöËÆØÔºåÂøÖÈ°ªÁ∫¶ÂÆöÂ•ΩÊï∞ÊçÆ‰º†ËæìÊ†ºÂºè„ÄÇÂ∞±Â•ΩÊØî‰∏§‰∏™‰∫∫ËÅäÂ§©ÔºåË¶ÅÁî®Âêå‰∏ÄÁßçËØ≠Ë®ÄÔºåÂê¶ÂàôÊó†Ê≥ïÊ≤üÈÄö„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨ÂøÖÈ°ªÂÆö‰πâÂ•ΩËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÊ†ºÂºè„ÄÇÂè¶Â§ñÔºåÊï∞ÊçÆÂú®ÁΩëË∑Ø‰∏≠‰º†ËæìÈúÄË¶ÅËøõË°åÂ∫èÂàóÂåñÔºåÊâÄ‰ª•ËøòÈúÄË¶ÅÁ∫¶ÂÆöÁªü‰∏ÄÁöÑÂ∫èÂàóÂåñÁöÑÊñπÂºè„ÄÇ ÂÉèË∞ÉÁî®Êú¨Âú∞ÊúçÂä°‰∏ÄÊ†∑Ë∞ÉÁî®ËøúÁ®ãÊúçÂä° Â¶ÇÊûú‰ªÖ‰ªÖÊòØËøúÁ®ãË∞ÉÁî®ÔºåËøò‰∏çÁÆóÊòØRPCÔºåÂõ†‰∏∫RPCÂº∫Ë∞ÉÁöÑÊòØËøáÁ®ãË∞ÉÁî®ÔºåË∞ÉÁî®ÁöÑËøáÁ®ãÂØπÁî®Êà∑ËÄåË®ÄÊòØÂ∫îËØ•ÊòØÈÄèÊòéÁöÑÔºåÁî®Êà∑‰∏çÂ∫îËØ•ÂÖ≥ÂøÉË∞ÉÁî®ÁöÑÁªÜËäÇÔºåÂèØ‰ª•ÂÉèË∞ÉÁî®Êú¨Âú∞ÊúçÂä°‰∏ÄÊ†∑Ë∞ÉÁî®ËøúÁ®ãÊúçÂä°„ÄÇÊâÄ‰ª•RPC‰∏ÄÂÆöË¶ÅÂØπË∞ÉÁî®ÁöÑËøáÁ®ãËøõË°åÂ∞ÅË£Ö RPCË∞ÉÁî®ÊµÅÁ®ãÂõæÔºö ÊÉ≥Ë¶Å‰∫ÜËß£ËØ¶ÁªÜÁöÑRPCÂÆûÁé∞ÔºåÁªôÂ§ßÂÆ∂Êé®Ëçê‰∏ÄÁØáÊñáÁ´†ÔºöËá™Â∑±Âä®ÊâãÂÆûÁé∞RPC 2.2.ËÆ§ËØÜHttpHttpÂçèËÆÆÔºöË∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆÔºåÊòØ‰∏ÄÁßçÂ∫îÁî®Â±ÇÂçèËÆÆ„ÄÇËßÑÂÆö‰∫ÜÁΩëÁªú‰º†ËæìÁöÑËØ∑Ê±ÇÊ†ºÂºè„ÄÅÂìçÂ∫îÊ†ºÂºè„ÄÅËµÑÊ∫êÂÆö‰ΩçÂíåÊìç‰ΩúÁöÑÊñπÂºèÁ≠â„ÄÇ‰ΩÜÊòØÂ∫ïÂ±ÇÈááÁî®‰ªÄ‰πàÁΩëÁªú‰º†ËæìÂçèËÆÆÔºåÂπ∂Ê≤°ÊúâËßÑÂÆöÔºå‰∏çËøáÁé∞Âú®ÈÉΩÊòØÈááÁî®TCPÂçèËÆÆ‰Ωú‰∏∫Â∫ïÂ±Ç‰º†ËæìÂçèËÆÆ„ÄÇËØ¥Âà∞ËøôÈáåÔºåÂ§ßÂÆ∂ÂèØËÉΩËßâÂæóÔºåHttp‰∏éRPCÁöÑËøúÁ®ãË∞ÉÁî®ÈùûÂ∏∏ÂÉèÔºåÈÉΩÊòØÊåâÁÖßÊüêÁßçËßÑÂÆöÂ•ΩÁöÑÊï∞ÊçÆÊ†ºÂºèËøõË°åÁΩëÁªúÈÄö‰ø°ÔºåÊúâËØ∑Ê±ÇÔºåÊúâÂìçÂ∫î„ÄÇÊ≤°ÈîôÔºåÂú®ËøôÁÇπÊù•ÁúãÔºå‰∏§ËÄÖÈùûÂ∏∏Áõ∏‰ººÔºå‰ΩÜÊòØËøòÊòØÊúâ‰∏Ä‰∫õÁªÜÂæÆÂ∑ÆÂà´„ÄÇ RPCÂπ∂Ê≤°ÊúâËßÑÂÆöÊï∞ÊçÆ‰º†ËæìÊ†ºÂºèÔºåËøô‰∏™Ê†ºÂºèÂèØ‰ª•‰ªªÊÑèÊåáÂÆöÔºå‰∏çÂêåÁöÑRPCÂçèËÆÆÔºåÊï∞ÊçÆÊ†ºÂºè‰∏ç‰∏ÄÂÆöÁõ∏Âêå„ÄÇ Http‰∏≠ËøòÂÆö‰πâ‰∫ÜËµÑÊ∫êÂÆö‰ΩçÁöÑË∑ØÂæÑÔºåRPC‰∏≠Âπ∂‰∏çÈúÄË¶Å ÊúÄÈáçË¶ÅÁöÑ‰∏ÄÁÇπÔºöRPCÈúÄË¶ÅÊª°Ë∂≥ÂÉèË∞ÉÁî®Êú¨Âú∞ÊúçÂä°‰∏ÄÊ†∑Ë∞ÉÁî®ËøúÁ®ãÊúçÂä°Ôºå‰πüÂ∞±ÊòØÂØπË∞ÉÁî®ËøáÁ®ãÂú®APIÂ±ÇÈù¢ËøõË°åÂ∞ÅË£Ö„ÄÇHttpÂçèËÆÆÊ≤°ÊúâËøôÊ†∑ÁöÑË¶ÅÊ±ÇÔºåÂõ†Ê≠§ËØ∑Ê±Ç„ÄÅÂìçÂ∫îÁ≠âÁªÜËäÇÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±ÂéªÂÆûÁé∞„ÄÇ ‰ºòÁÇπÔºöRPCÊñπÂºèÊõ¥Âä†ÈÄèÊòéÔºåÂØπÁî®Êà∑Êõ¥Êñπ‰æø„ÄÇHttpÊñπÂºèÊõ¥ÁÅµÊ¥ªÔºåÊ≤°ÊúâËßÑÂÆöAPIÂíåËØ≠Ë®ÄÔºåË∑®ËØ≠Ë®Ä„ÄÅË∑®Âπ≥Âè∞ Áº∫ÁÇπÔºöRPCÊñπÂºèÈúÄË¶ÅÂú®APIÂ±ÇÈù¢ËøõË°åÂ∞ÅË£ÖÔºåÈôêÂà∂‰∫ÜÂºÄÂèëÁöÑËØ≠Ë®ÄÁéØÂ¢É„ÄÇ ‰æãÂ¶ÇÊàë‰ª¨ÈÄöËøáÊµèËßàÂô®ËÆøÈóÆÁΩëÁ´ôÔºåÂ∞±ÊòØÈÄöËøáHttpÂçèËÆÆ„ÄÇÂè™‰∏çËøáÊµèËßàÂô®ÊääËØ∑Ê±ÇÂ∞ÅË£ÖÔºåÂèëËµ∑ËØ∑Ê±Ç‰ª•ÂèäÊé•Êî∂ÂìçÂ∫îÔºåËß£ÊûêÂìçÂ∫îÁöÑ‰∫ãÊÉÖÈÉΩÂ∏ÆÊàë‰ª¨ÂÅö‰∫Ü„ÄÇÂ¶ÇÊûúÊòØ‰∏çÈÄöËøáÊµèËßàÂô®ÔºåÈÇ£‰πàËøô‰∫õ‰∫ãÊÉÖÈÉΩÈúÄË¶ÅËá™Â∑±ÂéªÂÆåÊàê„ÄÇ 2.3.Â¶Ç‰ΩïÈÄâÊã©ÔºüÊó¢ÁÑ∂‰∏§ÁßçÊñπÂºèÈÉΩÂèØ‰ª•ÂÆûÁé∞ËøúÁ®ãË∞ÉÁî®ÔºåÊàë‰ª¨ËØ•Â¶Ç‰ΩïÈÄâÊã©Âë¢Ôºü ÈÄüÂ∫¶Êù•ÁúãÔºåRPCË¶ÅÊØîhttpÊõ¥Âø´ÔºåËôΩÁÑ∂Â∫ïÂ±ÇÈÉΩÊòØTCPÔºå‰ΩÜÊòØhttpÂçèËÆÆÁöÑ‰ø°ÊÅØÂæÄÂæÄÊØîËæÉËáÉËÇøÔºå‰∏çËøáÂèØ‰ª•ÈááÁî®gzipÂéãÁº©„ÄÇ ÈöæÂ∫¶Êù•ÁúãÔºåRPCÂÆûÁé∞ËæÉ‰∏∫Â§çÊùÇÔºåhttpÁõ∏ÂØπÊØîËæÉÁÆÄÂçï ÁÅµÊ¥ªÊÄßÊù•ÁúãÔºåhttpÊõ¥ËÉú‰∏ÄÁ≠πÔºåÂõ†‰∏∫ÂÆÉ‰∏çÂÖ≥ÂøÉÂÆûÁé∞ÁªÜËäÇÔºåË∑®Âπ≥Âè∞„ÄÅË∑®ËØ≠Ë®Ä„ÄÇ Âõ†Ê≠§Ôºå‰∏§ËÄÖÈÉΩÊúâ‰∏çÂêåÁöÑ‰ΩøÁî®Âú∫ÊôØÔºö Â¶ÇÊûúÂØπÊïàÁéáË¶ÅÊ±ÇÊõ¥È´òÔºåÂπ∂‰∏îÂºÄÂèëËøáÁ®ã‰ΩøÁî®Áªü‰∏ÄÁöÑÊäÄÊúØÊ†àÔºåÈÇ£‰πàÁî®RPCËøòÊòØ‰∏çÈîôÁöÑ„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÊõ¥Âä†ÁÅµÊ¥ªÔºåË∑®ËØ≠Ë®Ä„ÄÅË∑®Âπ≥Âè∞ÔºåÊòæÁÑ∂httpÊõ¥ÂêàÈÄÇ ÈÇ£‰πàÊàë‰ª¨ËØ•ÊÄé‰πàÈÄâÊã©Âë¢Ôºü ÂæÆÊúçÂä°ÔºåÊõ¥Âä†Âº∫Ë∞ÉÁöÑÊòØÁã¨Á´ã„ÄÅËá™Ê≤ª„ÄÅÁÅµÊ¥ª„ÄÇËÄåRPCÊñπÂºèÁöÑÈôêÂà∂ËæÉÂ§öÔºåÂõ†Ê≠§ÂæÆÊúçÂä°Ê°ÜÊû∂‰∏≠Ôºå‰∏ÄËà¨ÈÉΩ‰ºöÈááÁî®Âü∫‰∫éHttpÁöÑRestÈ£éÊ†ºÊúçÂä°„ÄÇ 3.HttpÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑Êó¢ÁÑ∂ÂæÆÊúçÂä°ÈÄâÊã©‰∫ÜHttpÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÈúÄË¶ÅËÄÉËôëËá™Â∑±Êù•ÂÆûÁé∞ÂØπËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÂ§ÑÁêÜ„ÄÇ‰∏çËøáÂºÄÊ∫ê‰∏ñÁïåÂ∑≤ÁªèÊúâÂæàÂ§öÁöÑhttpÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ÔºåËÉΩÂ§üÂ∏ÆÂä©Êàë‰ª¨ÂÅöËøô‰∫õ‰∫ãÊÉÖÔºå‰æãÂ¶ÇÔºö HttpClient OKHttp URLConnection Êé•‰∏ãÊù•ÔºåÊàë‰ª¨Â∞±‰∏ÄËµ∑‰∫ÜËß£‰∏ÄÊ¨æÊØîËæÉÊµÅË°åÁöÑÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ÔºöHttpClient 3.1.HttpClient3.1.1.‰ªãÁªçHttpClientÊòØApacheÂÖ¨Âè∏ÁöÑ‰∫ßÂìÅÔºåÊòØHttp Components‰∏ãÁöÑ‰∏Ä‰∏™ÁªÑ‰ª∂„ÄÇ ÂÆòÁΩëÂú∞ÂùÄÔºöhttp://hc.apache.org/index.html ÁâπÁÇπÔºö Âü∫‰∫éÊ†áÂáÜ„ÄÅÁ∫ØÂáÄÁöÑJavaËØ≠Ë®Ä„ÄÇÂÆûÁé∞‰∫ÜHttp1.0ÂíåHttp1.1 ‰ª•ÂèØÊâ©Â±ïÁöÑÈù¢ÂêëÂØπË±°ÁöÑÁªìÊûÑÂÆûÁé∞‰∫ÜHttpÂÖ®ÈÉ®ÁöÑÊñπÊ≥ïÔºàGET, POST, PUT, DELETE, HEAD, OPTIONS, and TRACEÔºâ ÊîØÊåÅHTTPSÂçèËÆÆ„ÄÇ ÈÄöËøáHttp‰ª£ÁêÜÂª∫Á´ãÈÄèÊòéÁöÑËøûÊé•„ÄÇ Ëá™Âä®Â§ÑÁêÜSet-Cookie‰∏≠ÁöÑCookie„ÄÇ 3.1.2.‰ΩøÁî®Êàë‰ª¨ÂØºÂÖ•ËØæÂâçËµÑÊñôÊèê‰æõÁöÑdemoÂ∑•Á®ãÔºö„Äähttp-demo„Äã ÂèëËµ∑getËØ∑Ê±ÇÔºö 123456@Testpublic void testGet() throws IOException &#123; HttpGet request = new HttpGet("http://www.baidu.com"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response);&#125; ÂèëËµ∑PostËØ∑Ê±ÇÔºö 12345678@Testpublic void testPost() throws IOException &#123; HttpPost request = new HttpPost("http://www.oschina.net/"); request.setHeader("User-Agent", "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response);&#125; Â∞ùËØïËÆøÈóÆÊò®Â§©ÁºñÂÜôÁöÑÊé•Âè£Ôºöhttp://localhost/hello Ëøô‰∏™Êé•Âè£ËøîÂõû‰∏Ä‰∏™UserÂØπË±° 123456@Testpublic void testGetPojo() throws IOException &#123; HttpGet request = new HttpGet("http://localhost/hello"); String response = this.httpClient.execute(request, new BasicResponseHandler()); System.out.println(response);&#125; Êàë‰ª¨ÂÆûÈôÖÂæóÂà∞ÁöÑÊòØ‰∏Ä‰∏™jsonÂ≠óÁ¨¶‰∏≤Ôºö 123456789101112&#123; "id": 8, "userName": "liuyan", "password": "123456", "name": "Êü≥Â≤©", "age": 21, "sex": 2, "birthday": "1995-08-07T16:00:00.000+0000", "created": "2014-09-20T03:41:15.000+0000", "updated": "2014-09-20T03:41:15.000+0000", "note": "Êü≥Â≤©ÂêåÂ≠¶Âú®‰º†Êô∫Êí≠ÂÆ¢Â≠¶Ë°®Êºî"&#125; Â¶ÇÊûúÊÉ≥Ë¶ÅÂæóÂà∞ÂØπË±°ÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÊâãÂä®ËøõË°åJsonÂèçÂ∫èÂàóÂåñÔºåËøô‰∏ÄÁÇπÊØîËæÉÈ∫ªÁÉ¶„ÄÇ 3.1.3.JsonËΩ¨Êç¢Â∑•ÂÖ∑HttpClientËØ∑Ê±ÇÊï∞ÊçÆÂêéÊòØjsonÂ≠óÁ¨¶‰∏≤ÔºåÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±ÊääJsonÂ≠óÁ¨¶‰∏≤ÂèçÂ∫èÂàóÂåñ‰∏∫ÂØπË±°ÔºåÊàë‰ª¨‰ºö‰ΩøÁî®JacksonJsonÂ∑•ÂÖ∑Êù•ÂÆûÁé∞„ÄÇ JacksonJsonÊòØSpringMVCÂÜÖÁΩÆÁöÑjsonÂ§ÑÁêÜÂ∑•ÂÖ∑ÔºåÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™ObjectMapperÁ±ªÔºåÂèØ‰ª•Êñπ‰æøÁöÑÂÆûÁé∞ÂØπjsonÁöÑÂ§ÑÁêÜÔºö ÂØπË±°ËΩ¨json12345678910111213// jsonÂ§ÑÁêÜÂ∑•ÂÖ∑ private ObjectMapper mapper = new ObjectMapper(); @Test public void testJson() throws JsonProcessingException &#123; User user = new User(); user.setId(8L); user.setAge(21); user.setName("Êü≥Â≤©"); user.setUserName("liuyan"); // Â∫èÂàóÂåñ String json = mapper.writeValueAsString(user); System.out.println("json = " + json); &#125; ÁªìÊûúÔºö jsonËΩ¨ÊôÆÈÄöÂØπË±°12345678910111213141516// jsonÂ§ÑÁêÜÂ∑•ÂÖ∑private ObjectMapper mapper = new ObjectMapper();@Testpublic void testJson() throws IOException &#123; User user = new User(); user.setId(8L); user.setAge(21); user.setName("Êü≥Â≤©"); user.setUserName("liuyan"); // Â∫èÂàóÂåñ String json = mapper.writeValueAsString(user); // ÂèçÂ∫èÂàóÂåñÔºåÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöjsonÊï∞ÊçÆÔºåÂèçÂ∫èÂàóÂåñÁöÑÁõÆÊ†áÁ±ªÂ≠óËäÇÁ†Å User result = mapper.readValue(json, User.class); System.out.println("result = " + result);&#125; ÁªìÊûúÔºö jsonËΩ¨ÈõÜÂêàjsonËΩ¨ÈõÜÂêàÊØîËæÉÈ∫ªÁÉ¶ÔºåÂõ†‰∏∫‰Ω†Êó†Ê≥ïÂêåÊó∂ÊääÈõÜÂêàÁöÑclassÂíåÂÖÉÁ¥†ÁöÑclassÂêåÊó∂‰º†ÈÄíÂà∞‰∏Ä‰∏™ÂèÇÊï∞„ÄÇ Âõ†Ê≠§JacksonÂÅö‰∫Ü‰∏Ä‰∏™Á±ªÂûãÂ∑•ÂéÇÔºåÁî®Êù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºö 12345678910111213141516171819// jsonÂ§ÑÁêÜÂ∑•ÂÖ∑private ObjectMapper mapper = new ObjectMapper();@Testpublic void testJson() throws IOException &#123; User user = new User(); user.setId(8L); user.setAge(21); user.setName("Êü≥Â≤©"); user.setUserName("liuyan"); // Â∫èÂàóÂåñ,ÂæóÂà∞ÂØπË±°ÈõÜÂêàÁöÑjsonÂ≠óÁ¨¶‰∏≤ String json = mapper.writeValueAsString(Arrays.asList(user, user)); // ÂèçÂ∫èÂàóÂåñÔºåÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöjsonÊï∞ÊçÆÔºåÂèçÂ∫èÂàóÂåñÁöÑÁõÆÊ†áÁ±ªÂ≠óËäÇÁ†Å List&lt;User&gt; users = mapper.readValue(json, mapper.getTypeFactory().constructCollectionType(List.class, User.class)); for (User u : users) &#123; System.out.println("u = " + u); &#125;&#125; ÁªìÊûúÔºö jsonËΩ¨‰ªªÊÑèÂ§çÊùÇÁ±ªÂûãÂΩìÂØπË±°Ê≥õÂûãÂÖ≥Á≥ªÂ§çÊùÇÊó∂ÔºåÁ±ªÂûãÂ∑•ÂéÇ‰πü‰∏çÂ•Ω‰Ωø‰∫Ü„ÄÇËøô‰∏™Êó∂ÂÄôJacksonÊèê‰æõ‰∫ÜTypeReferenceÊù•Êé•Êî∂Á±ªÂûãÊ≥õÂûãÔºåÁÑ∂ÂêéÂ∫ïÂ±ÇÈÄöËøáÂèçÂ∞ÑÊù•Ëé∑ÂèñÊ≥õÂûã‰∏äÁöÑÂÖ∑‰ΩìÁ±ªÂûã„ÄÇÂÆûÁé∞Êï∞ÊçÆËΩ¨Êç¢„ÄÇ 12345678910111213141516171819// jsonÂ§ÑÁêÜÂ∑•ÂÖ∑private ObjectMapper mapper = new ObjectMapper();@Testpublic void testJson() throws IOException &#123; User user = new User(); user.setId(8L); user.setAge(21); user.setName("Êü≥Â≤©"); user.setUserName("liuyan"); // Â∫èÂàóÂåñ,ÂæóÂà∞ÂØπË±°ÈõÜÂêàÁöÑjsonÂ≠óÁ¨¶‰∏≤ String json = mapper.writeValueAsString(Arrays.asList(user, user)); // ÂèçÂ∫èÂàóÂåñÔºåÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöjsonÊï∞ÊçÆÔºåÂèçÂ∫èÂàóÂåñÁöÑÁõÆÊ†áÁ±ªÂ≠óËäÇÁ†Å List&lt;User&gt; users = mapper.readValue(json, new TypeReference&lt;List&lt;User&gt;&gt;()&#123;&#125;); for (User u : users) &#123; System.out.println("u = " + u); &#125;&#125; ÁªìÊûúÔºö 3.3.SpringÁöÑRestTemplateSpringÊèê‰æõ‰∫Ü‰∏Ä‰∏™RestTemplateÊ®°ÊùøÂ∑•ÂÖ∑Á±ªÔºåÂØπÂü∫‰∫éHttpÁöÑÂÆ¢Êà∑Á´ØËøõË°å‰∫ÜÂ∞ÅË£ÖÔºåÂπ∂‰∏îÂÆûÁé∞‰∫ÜÂØπË±°‰∏éjsonÁöÑÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÔºåÈùûÂ∏∏Êñπ‰æø„ÄÇRestTemplateÂπ∂Ê≤°ÊúâÈôêÂÆöHttpÁöÑÂÆ¢Êà∑Á´ØÁ±ªÂûãÔºåËÄåÊòØËøõË°å‰∫ÜÊäΩË±°ÔºåÁõÆÂâçÂ∏∏Áî®ÁöÑ3ÁßçÈÉΩÊúâÊîØÊåÅÔºö HttpClient OkHttp JDKÂéüÁîüÁöÑURLConnectionÔºàÈªòËÆ§ÁöÑÔºâ È¶ñÂÖàÂú®È°πÁõÆ‰∏≠Ê≥®ÂÜå‰∏Ä‰∏™RestTemplateÂØπË±°ÔºåÂèØ‰ª•Âú®ÂêØÂä®Á±ª‰ΩçÁΩÆÊ≥®ÂÜåÔºö 12345678910111213@SpringBootApplicationpublic class HttpDemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(HttpDemoApplication.class, args); &#125; @Bean public RestTemplate restTemplate() &#123; // ÈªòËÆ§ÁöÑRestTemplateÔºåÂ∫ïÂ±ÇÊòØËµ∞JDKÁöÑURLConnectionÊñπÂºè„ÄÇ return new RestTemplate(); &#125;&#125; Âú®ÊµãËØïÁ±ª‰∏≠Áõ¥Êé•@AutowiredÊ≥®ÂÖ•Ôºö 12345678910111213@RunWith(SpringRunner.class)@SpringBootTest(classes = HttpDemoApplication.class)public class HttpDemoApplicationTests &#123; @Autowired private RestTemplate restTemplate; @Test public void httpGet() &#123; User user = this.restTemplate.getForObject("http://localhost/hello", User.class); System.out.println(user); &#125;&#125; ÈÄöËøáRestTemplateÁöÑgetForObject()ÊñπÊ≥ïÔºå‰º†ÈÄíurlÂú∞ÂùÄÂèäÂÆû‰ΩìÁ±ªÁöÑÂ≠óËäÇÁ†ÅÔºåRestTemplate‰ºöËá™Âä®ÂèëËµ∑ËØ∑Ê±ÇÔºåÊé•Êî∂ÂìçÂ∫îÔºåÂπ∂‰∏îÂ∏ÆÊàë‰ª¨ÂØπÂìçÂ∫îÁªìÊûúËøõË°åÂèçÂ∫èÂàóÂåñ„ÄÇ Â≠¶‰π†ÂÆå‰∫ÜHttpÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ÔºåÊé•‰∏ãÊù•Â∞±ÂèØ‰ª•Ê≠£ÂºèÂ≠¶‰π†ÂæÆÊúçÂä°‰∫Ü„ÄÇ 4.ÂàùÂßãSpringCloudÂæÆÊúçÂä°ÊòØ‰∏ÄÁßçÊû∂ÊûÑÊñπÂºèÔºåÊúÄÁªàËÇØÂÆöÈúÄË¶ÅÊäÄÊúØÊû∂ÊûÑÂéªÂÆûÊñΩ„ÄÇ ÂæÆÊúçÂä°ÁöÑÂÆûÁé∞ÊñπÂºèÂæàÂ§öÔºå‰ΩÜÊòØÊúÄÁÅ´ÁöÑËé´Ëøá‰∫éSpring Cloud‰∫Ü„ÄÇ‰∏∫‰ªÄ‰πàÔºü ÂêéÂè∞Á°¨Ôºö‰Ωú‰∏∫SpringÂÆ∂ÊóèÁöÑ‰∏ÄÂëòÔºåÊúâÊï¥‰∏™SpringÂÖ®ÂÆ∂Ê°∂Èù†Â±±ÔºåËÉåÊôØÂçÅÂàÜÂº∫Â§ß„ÄÇ ÊäÄÊúØÂº∫ÔºöSpring‰Ωú‰∏∫JavaÈ¢ÜÂüüÁöÑÂâçËæàÔºåÂèØ‰ª•ËØ¥ÊòØÂäüÂäõÊ∑±Âéö„ÄÇÊúâÂº∫ÂäõÁöÑÊäÄÊúØÂõ¢ÈòüÊîØÊíëÔºå‰∏ÄËà¨‰∫∫ËøòÁúüÊØî‰∏ç‰∫Ü Áæ§‰ºóÂü∫Á°ÄÂ•ΩÔºöÂèØ‰ª•ËØ¥Â§ßÂ§öÊï∞Á®ãÂ∫èÂëòÁöÑÊàêÈïøÈÉΩ‰º¥ÈöèÁùÄSpringÊ°ÜÊû∂ÔºåËØïÈóÆÔºöÁé∞Âú®ÊúâÂá†ÂÆ∂ÂÖ¨Âè∏ÂºÄÂèë‰∏çÁî®SpringÔºüSpringCloud‰∏éSpringÁöÑÂêÑ‰∏™Ê°ÜÊû∂Êó†ÁºùÊï¥ÂêàÔºåÂØπÂ§ßÂÆ∂Êù•ËØ¥‰∏ÄÂàáÈÉΩÊòØÁÜüÊÇâÁöÑÈÖçÊñπÔºåÁÜüÊÇâÁöÑÂë≥ÈÅì„ÄÇ ‰ΩøÁî®Êñπ‰æøÔºöÁõ∏‰ø°Â§ßÂÆ∂ÈÉΩ‰Ωì‰ºöÂà∞‰∫ÜSpringBootÁªôÊàë‰ª¨ÂºÄÂèëÂ∏¶Êù•ÁöÑ‰æøÂà©ÔºåËÄåSpringCloudÂÆåÂÖ®ÊîØÊåÅSpringBootÁöÑÂºÄÂèëÔºåÁî®ÂæàÂ∞ëÁöÑÈÖçÁΩÆÂ∞±ËÉΩÂÆåÊàêÂæÆÊúçÂä°Ê°ÜÊû∂ÁöÑÊê≠Âª∫ 4.1.ÁÆÄ‰ªãSpringCloudÊòØSpringÊóó‰∏ãÁöÑÈ°πÁõÆ‰πã‰∏ÄÔºåÂÆòÁΩëÂú∞ÂùÄÔºöhttp://projects.spring.io/spring-cloud/ SpringÊúÄÊìÖÈïøÁöÑÂ∞±ÊòØÈõÜÊàêÔºåÊää‰∏ñÁïå‰∏äÊúÄÂ•ΩÁöÑÊ°ÜÊû∂ÊãøËøáÊù•ÔºåÈõÜÊàêÂà∞Ëá™Â∑±ÁöÑÈ°πÁõÆ‰∏≠„ÄÇ SpringCloud‰πüÊòØ‰∏ÄÊ†∑ÔºåÂÆÉÂ∞ÜÁé∞Âú®ÈùûÂ∏∏ÊµÅË°åÁöÑ‰∏Ä‰∫õÊäÄÊúØÊï¥ÂêàÂà∞‰∏ÄËµ∑ÔºåÂÆûÁé∞‰∫ÜËØ∏Â¶ÇÔºöÈÖçÁΩÆÁÆ°ÁêÜÔºåÊúçÂä°ÂèëÁé∞ÔºåÊô∫ËÉΩË∑ØÁî±ÔºåË¥üËΩΩÂùáË°°ÔºåÁÜîÊñ≠Âô®ÔºåÊéßÂà∂ÊÄªÁ∫øÔºåÈõÜÁæ§Áä∂ÊÄÅÁ≠âÁ≠âÂäüËÉΩ„ÄÇÂÖ∂‰∏ªË¶ÅÊ∂âÂèäÁöÑÁªÑ‰ª∂ÂåÖÊã¨Ôºö netflix EurekaÔºöÊ≥®ÂÜå‰∏≠ÂøÉ ZuulÔºöÊúçÂä°ÁΩëÂÖ≥ RibbonÔºöË¥üËΩΩÂùáË°° FeignÔºöÊúçÂä°Ë∞ÉÁî® HystixÔºöÁÜîÊñ≠Âô® ‰ª•‰∏äÂè™ÊòØÂÖ∂‰∏≠‰∏ÄÈÉ®ÂàÜÔºåÊû∂ÊûÑÂõæÔºö 4.2.ÁâàÊú¨SpringCloudÁöÑÁâàÊú¨ÂëΩÂêçÊØîËæÉÁâπÊÆäÔºåÂõ†‰∏∫ÂÆÉ‰∏çÊòØ‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåËÄåÊòØËÆ∏Â§öÁªÑ‰ª∂ÁöÑÈõÜÂêàÔºåÂÆÉÁöÑÂëΩÂêçÊòØ‰ª•AÂà∞ZÁöÑ‰∏∫È¶ñÂ≠óÊØçÁöÑ‰∏Ä‰∫õÂçïËØçÁªÑÊàêÔºö Êàë‰ª¨Âú®È°πÁõÆ‰∏≠Ôºå‰ºöÊòØ‰ª•FinchleyÁöÑÁâàÊú¨„ÄÇ ÂÖ∂‰∏≠ÂåÖÂê´ÁöÑÁªÑ‰ª∂Ôºå‰πüÈÉΩÊúâÂêÑËá™ÁöÑÁâàÊú¨ÔºåÂ¶Ç‰∏ãË°®Ôºö Component Edgware.SR3 Finchley.RC1 Finchley.BUILD-SNAPSHOT spring-cloud-aws 1.2.2.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-bus 1.3.2.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-cli 1.4.1.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-commons 1.3.3.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-contract 1.2.4.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-config 1.4.3.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-netflix 1.4.4.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-security 1.2.2.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-cloudfoundry 1.1.1.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-consul 1.3.3.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-sleuth 1.3.3.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-stream Ditmars.SR3 Elmhurst.RELEASE Elmhurst.BUILD-SNAPSHOT spring-cloud-zookeeper 1.2.1.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-boot 1.5.10.RELEASE 2.0.1.RELEASE 2.0.0.BUILD-SNAPSHOT spring-cloud-task 1.2.2.RELEASE 2.0.0.RC1 2.0.0.RELEASE spring-cloud-vault 1.1.0.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-gateway 1.0.1.RELEASE 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT spring-cloud-openfeign 2.0.0.RC1 2.0.0.BUILD-SNAPSHOT Êé•‰∏ãÊù•ÔºåÊàë‰ª¨Â∞±‰∏Ä‰∏ÄÂ≠¶‰π†SpringCloud‰∏≠ÁöÑÈáçË¶ÅÁªÑ‰ª∂„ÄÇ 5.ÂæÆÊúçÂä°Âú∫ÊôØÊ®°ÊãüÈ¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÊ®°Êãü‰∏Ä‰∏™ÊúçÂä°Ë∞ÉÁî®ÁöÑÂú∫ÊôØ„ÄÇÊñπ‰æøÂêéÈù¢Â≠¶‰π†ÂæÆÊúçÂä°Êû∂ÊûÑ 5.1.ÊúçÂä°Êèê‰æõËÄÖÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™È°πÁõÆÔºåÂØπÂ§ñÊèê‰æõÊü•ËØ¢Áî®Êà∑ÁöÑÊúçÂä°„ÄÇ 5.1.1.SpringËÑöÊâãÊû∂ÂàõÂª∫Â∑•Á®ãÂÄüÂä©‰∫éSpringÊèê‰æõÁöÑÂø´ÈÄüÊê≠Âª∫Â∑•ÂÖ∑Ôºö Â°´ÂÜôÈ°πÁõÆ‰ø°ÊÅØÔºö Ê∑ªÂä†web‰æùËµñÔºö Ê∑ªÂä†mybatis‰æùËµñÔºö Â°´ÂÜôÈ°πÁõÆ‰ΩçÁΩÆÔºö ÁîüÊàêÁöÑÈ°πÁõÆÁªìÊûÑÔºö ‰æùËµñ‰πüÂ∑≤ÁªèÂÖ®ÈÉ®Ëá™Âä®ÂºïÂÖ•Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.leyou.demo&lt;/groupId&gt; &lt;artifactId&gt;user-service-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;user-service-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; ÂΩìÁÑ∂ÔºåÂõ†‰∏∫Ë¶Å‰ΩøÁî®ÈÄöÁî®mapperÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊâãÂä®Âä†‰∏ÄÊù°‰æùËµñÔºö 12345&lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.0.2&lt;/version&gt;&lt;/dependency&gt; ÈùûÂ∏∏Âø´Êç∑ÂïäÔºÅ 5.1.2.ÁºñÂÜô‰ª£Á†ÅÊ∑ªÂä†‰∏Ä‰∏™ÂØπÂ§ñÊü•ËØ¢ÁöÑÊé•Âè£Ôºö 123456789101112@RestController@RequestMapping("user")public class UserController &#123; @Autowired private UserService userService; @GetMapping("/&#123;id&#125;") public User queryById(@PathVariable("id") Long id) &#123; return this.userService.queryById(id); &#125;&#125; ServiceÔºö 12345678910@Servicepublic class UserService &#123; @Autowired private UserMapper userMapper; public User queryById(Long id) &#123; return this.userMapper.selectByPrimaryKey(id); &#125;&#125; mapper: 123@Mapperpublic interface UserMapper extends tk.mybatis.mapper.common.Mapper&lt;User&gt;&#123;&#125; ÂÆû‰ΩìÁ±ªÔºö 1234567891011121314151617181920212223242526272829303132333435363738@Table(name = "tb_user")public class User implements Serializable &#123; private static final long serialVersionUID = 1L; @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id; // Áî®Êà∑Âêç private String userName; // ÂØÜÁ†Å private String password; // ÂßìÂêç private String name; // Âπ¥ÈæÑ private Integer age; // ÊÄßÂà´Ôºå1Áî∑ÊÄßÔºå2Â•≥ÊÄß private Integer sex; // Âá∫ÁîüÊó•Êúü private Date birthday; // ÂàõÂª∫Êó∂Èó¥ private Date created; // Êõ¥Êñ∞Êó∂Èó¥ private Date updated; // Â§áÊ≥® private String note; // „ÄÇ„ÄÇ„ÄÇÁúÅÁï•gettersÂíåsetters&#125; Â±ûÊÄßÊñá‰ª∂,ËøôÈáåÊàë‰ª¨ÈááÁî®‰∫ÜyamlËØ≠Ê≥ïÔºåËÄå‰∏çÊòØpropertiesÔºö 123456789101112server: port: 8081spring: datasource: url: jdbc:mysql://localhost:3306/mydb01 username: root password: 123 hikari: maximum-pool-size: 20 minimum-idle: 10mybatis: type-aliases-package: com.leyou.userservice.pojo È°πÁõÆÁªìÊûÑÔºö 5.1.3.ÂêØÂä®Âπ∂ÊµãËØïÔºöÂêØÂä®È°πÁõÆÔºåËÆøÈóÆÊé•Âè£Ôºöhttp://localhost:8081/user/7 5.2.ÊúçÂä°Ë∞ÉÁî®ËÄÖ5.2.1.ÂàõÂª∫Â∑•Á®ã‰∏é‰∏äÈù¢Á±ª‰ººÔºåËøôÈáå‰∏çÂÜçËµòËø∞ÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨Ë∞ÉÁî®user-serviceÁöÑÂäüËÉΩÔºåÂõ†Ê≠§‰∏çÈúÄË¶ÅmybatisÁõ∏ÂÖ≥‰æùËµñ‰∫Ü„ÄÇ pomÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.leyou.demo&lt;/groupId&gt; &lt;artifactId&gt;user-consumer-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;user-consumer-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- Ê∑ªÂä†OkHttpÊîØÊåÅ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;version&gt;3.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 5.2.2.ÁºñÂÜô‰ª£Á†ÅÈ¶ñÂÖàÂú®ÂêØÂä®Á±ª‰∏≠Ê≥®ÂÜåRestTemplateÔºö 12345678910111213@SpringBootApplicationpublic class UserConsumerDemoApplication &#123; @Bean public RestTemplate restTemplate() &#123; // ËøôÊ¨°Êàë‰ª¨‰ΩøÁî®‰∫ÜOkHttpÂÆ¢Êà∑Á´Ø,Âè™ÈúÄË¶ÅÊ≥®ÂÖ•Â∑•ÂéÇÂç≥ÂèØ return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); &#125; public static void main(String[] args) &#123; SpringApplication.run(UserConsumerDemoApplication.class, args); &#125;&#125; ÁÑ∂ÂêéÁºñÂÜôUserDaoÔºåÊ≥®ÊÑèÔºåËøôÈáå‰∏çÊòØË∞ÉÁî®mapperÊü•Êï∞ÊçÆÂ∫ìÔºåËÄåÊòØÈÄöËøáRestTemplateËøúÁ®ãÊü•ËØ¢user-service-demo‰∏≠ÁöÑÊé•Âè£Ôºö 1234567891011@Componentpublic class UserDao &#123; @Autowired private RestTemplate restTemplate; public User queryUserById(Long id)&#123; String url = "http://localhost:8081/user/" + id; return this.restTemplate.getForObject(url, User.class); &#125;&#125; ÁÑ∂ÂêéÁºñÂÜôuser-serviceÔºåÂæ™ÁéØÊü•ËØ¢UserDAO‰ø°ÊÅØÔºö 123456789101112131415@Servicepublic class UserService &#123; @Autowired private UserDao userDao; public List&lt;User&gt; querUserByIds(List&lt;Long&gt; ids)&#123; List&lt;User&gt; users = new ArrayList&lt;&gt;(); for (Long id : ids) &#123; User user = this.userDao.queryUserById(id); users.add(user); &#125; return users; &#125;&#125; ÁºñÂÜôcontrollerÔºö 123456789101112@RestController@RequestMapping("consume")public class ConsumerController &#123; @Autowired private UserService userService; @GetMapping public List&lt;User&gt; consume(@RequestParam("ids") List&lt;Long&gt; ids) &#123; return this.userService.queryUserByIds(ids); &#125;&#125; 5.2.3.ÂêØÂä®ÊµãËØïÔºöÂõ†‰∏∫Êàë‰ª¨Ê≤°ÊúâÈÖçÁΩÆÁ´ØÂè£ÔºåÈÇ£‰πàÈªòËÆ§Â∞±ÊòØ8080ÔºåÊàë‰ª¨ËÆøÈóÆÔºöhttp://localhost:8080/consume?ids=6,7,8 ‰∏Ä‰∏™ÁÆÄÂçïÁöÑËøúÁ®ãÊúçÂä°Ë∞ÉÁî®Ê°à‰æãÂ∞±ÂÆûÁé∞‰∫Ü„ÄÇ 5.3.ÊúâÊ≤°ÊúâÈóÆÈ¢òÔºüÁÆÄÂçïÂõûÈ°æ‰∏Ä‰∏ãÔºåÂàöÊâçÊàë‰ª¨ÂÜô‰∫Ü‰ªÄ‰πàÔºö use-service-demoÔºö‰∏Ä‰∏™Êèê‰æõÊ†πÊçÆidÊü•ËØ¢Áî®Êà∑ÁöÑÂæÆÊúçÂä° consumer-demoÔºö‰∏Ä‰∏™ÊúçÂä°Ë∞ÉÁî®ËÄÖÔºåÈÄöËøáRestTemplateËøúÁ®ãË∞ÉÁî®user-service-demo ÊµÅÁ®ãÂ¶Ç‰∏ãÔºö Â≠òÂú®‰ªÄ‰πàÈóÆÈ¢òÔºü Âú®consumer‰∏≠ÔºåÊàë‰ª¨ÊääurlÂú∞ÂùÄÁ°¨ÁºñÁ†ÅÂà∞‰∫Ü‰ª£Á†Å‰∏≠Ôºå‰∏çÊñπ‰æøÂêéÊúüÁª¥Êä§ consumerÈúÄË¶ÅËÆ∞ÂøÜuser-serviceÁöÑÂú∞ÂùÄÔºåÂ¶ÇÊûúÂá∫Áé∞ÂèòÊõ¥ÔºåÂèØËÉΩÂæó‰∏çÂà∞ÈÄöÁü•ÔºåÂú∞ÂùÄÂ∞ÜÂ§±Êïà consumer‰∏çÊ∏ÖÊ•öuser-serviceÁöÑÁä∂ÊÄÅÔºåÊúçÂä°ÂÆïÊú∫‰πü‰∏çÁü•ÈÅì user-serviceÂè™Êúâ1Âè∞ÊúçÂä°Ôºå‰∏çÂÖ∑Â§áÈ´òÂèØÁî®ÊÄß Âç≥‰æøuser-serviceÂΩ¢ÊàêÈõÜÁæ§ÔºåconsumerËøòÈúÄËá™Â∑±ÂÆûÁé∞Ë¥üËΩΩÂùáË°° ÂÖ∂ÂÆû‰∏äÈù¢ËØ¥ÁöÑÈóÆÈ¢òÔºåÊ¶ÇÊã¨‰∏Ä‰∏ãÂ∞±ÊòØÂàÜÂ∏ÉÂºèÊúçÂä°ÂøÖÁÑ∂Ë¶ÅÈù¢‰∏¥ÁöÑÈóÆÈ¢òÔºö ÊúçÂä°ÁÆ°ÁêÜ Â¶Ç‰ΩïËá™Âä®Ê≥®ÂÜåÂíåÂèëÁé∞ Â¶Ç‰ΩïÂÆûÁé∞Áä∂ÊÄÅÁõëÁÆ° Â¶Ç‰ΩïÂÆûÁé∞Âä®ÊÄÅË∑ØÁî± ÊúçÂä°Â¶Ç‰ΩïÂÆûÁé∞Ë¥üËΩΩÂùáË°° ÊúçÂä°Â¶Ç‰ΩïËß£ÂÜ≥ÂÆπÁÅæÈóÆÈ¢ò ÊúçÂä°Â¶Ç‰ΩïÂÆûÁé∞Áªü‰∏ÄÈÖçÁΩÆ ‰ª•‰∏äÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨ÈÉΩÂ∞ÜÂú®SpringCloud‰∏≠ÂæóÂà∞Á≠îÊ°à„ÄÇ 6.EurekaÊ≥®ÂÜå‰∏≠ÂøÉ6.1.ËÆ§ËØÜEurekaÈ¶ñÂÖàÊàë‰ª¨Êù•Ëß£ÂÜ≥Á¨¨‰∏ÄÈóÆÈ¢òÔºåÊúçÂä°ÁöÑÁÆ°ÁêÜ„ÄÇ ÈóÆÈ¢òÂàÜÊûê Âú®ÂàöÊâçÁöÑÊ°à‰æã‰∏≠Ôºåuser-serviceÂØπÂ§ñÊèê‰æõÊúçÂä°ÔºåÈúÄË¶ÅÂØπÂ§ñÊö¥Èú≤Ëá™Â∑±ÁöÑÂú∞ÂùÄ„ÄÇËÄåconsumerÔºàË∞ÉÁî®ËÄÖÔºâÈúÄË¶ÅËÆ∞ÂΩïÊúçÂä°Êèê‰æõËÄÖÁöÑÂú∞ÂùÄ„ÄÇÂ∞ÜÊù•Âú∞ÂùÄÂá∫Áé∞ÂèòÊõ¥ÔºåËøòÈúÄË¶ÅÂèäÊó∂Êõ¥Êñ∞„ÄÇËøôÂú®ÊúçÂä°ËæÉÂ∞ëÁöÑÊó∂ÂÄôÂπ∂‰∏çËßâÂæóÊúâ‰ªÄ‰πàÔºå‰ΩÜÊòØÂú®Áé∞Âú®Êó•ÁõäÂ§çÊùÇÁöÑ‰∫íËÅîÁΩëÁéØÂ¢ÉÔºå‰∏Ä‰∏™È°πÁõÆËÇØÂÆö‰ºöÊãÜÂàÜÂá∫ÂçÅÂá†ÔºåÁîöËá≥Êï∞ÂçÅ‰∏™ÂæÆÊúçÂä°„ÄÇÊ≠§Êó∂Â¶ÇÊûúËøò‰∫∫‰∏∫ÁÆ°ÁêÜÂú∞ÂùÄÔºå‰∏ç‰ªÖÂºÄÂèëÂõ∞ÈöæÔºåÂ∞ÜÊù•ÊµãËØï„ÄÅÂèëÂ∏É‰∏äÁ∫øÈÉΩ‰ºöÈùûÂ∏∏È∫ªÁÉ¶ÔºåËøô‰∏éDevOpsÁöÑÊÄùÊÉ≥ÊòØËÉåÈÅìËÄåÈ©∞ÁöÑ„ÄÇ ÁΩëÁ∫¶ËΩ¶ ËøôÂ∞±Â•ΩÊØîÊòØ ÁΩëÁ∫¶ËΩ¶Âá∫Áé∞‰ª•ÂâçÔºå‰∫∫‰ª¨Âá∫Èó®Âè´ËΩ¶Âè™ËÉΩÂè´Âá∫ÁßüËΩ¶„ÄÇ‰∏Ä‰∫õÁßÅÂÆ∂ËΩ¶ÊÉ≥ÂÅöÂá∫ÁßüÂç¥Ê≤°ÊúâËµÑÊ†ºÔºåË¢´Áß∞‰∏∫ÈªëËΩ¶„ÄÇËÄåÂæàÂ§ö‰∫∫ÊÉ≥Ë¶ÅÁ∫¶ËΩ¶Ôºå‰ΩÜÊòØÊó†Â•àÂá∫ÁßüËΩ¶Â§™Â∞ëÔºå‰∏çÊñπ‰æø„ÄÇÁßÅÂÆ∂ËΩ¶ÂæàÂ§öÂç¥‰∏çÊï¢Êã¶ÔºåËÄå‰∏îÊª°Â§ßË°óÁöÑËΩ¶ÔºåË∞ÅÁü•ÈÅìÂì™‰∏™ÊâçÊòØÊÑøÊÑèËΩΩ‰∫∫ÁöÑ„ÄÇ‰∏Ä‰∏™ÊÉ≥Ë¶ÅÔºå‰∏Ä‰∏™ÊÑøÊÑèÁªôÔºåÂ∞±ÊòØÁº∫Â∞ëÂºïÂ≠êÔºåÁº∫‰πèÁÆ°ÁêÜÂïä„ÄÇ Ê≠§Êó∂Êª¥Êª¥ËøôÊ†∑ÁöÑÁΩëÁ∫¶ËΩ¶Âπ≥Âè∞Âá∫Áé∞‰∫ÜÔºåÊâÄÊúâÊÉ≥ËΩΩÂÆ¢ÁöÑÁßÅÂÆ∂ËΩ¶ÂÖ®ÈÉ®Âà∞Êª¥Êª¥Ê≥®ÂÜåÔºåËÆ∞ÂΩï‰Ω†ÁöÑËΩ¶ÂûãÔºàÊúçÂä°Á±ªÂûãÔºâÔºåË∫´‰ªΩ‰ø°ÊÅØÔºàËÅîÁ≥ªÊñπÂºèÔºâ„ÄÇËøôÊ†∑Êèê‰æõÊúçÂä°ÁöÑÁßÅÂÆ∂ËΩ¶ÔºåÂú®Êª¥Êª¥ÈÇ£ÈáåÈÉΩËÉΩÊâæÂà∞Ôºå‰∏ÄÁõÆ‰∫ÜÁÑ∂„ÄÇ Ê≠§Êó∂Ë¶ÅÂè´ËΩ¶ÁöÑ‰∫∫ÔºåÂè™ÈúÄË¶ÅÊâìÂºÄAPPÔºåËæìÂÖ•‰Ω†ÁöÑÁõÆÁöÑÂú∞ÔºåÈÄâÊã©ËΩ¶ÂûãÔºàÊúçÂä°Á±ªÂûãÔºâÔºåÊª¥Êª¥Ëá™Âä®ÂÆâÊéí‰∏Ä‰∏™Á¨¶ÂêàÈúÄÊ±ÇÁöÑËΩ¶Âà∞‰Ω†Èù¢ÂâçÔºå‰∏∫‰Ω†ÊúçÂä°ÔºåÂÆåÁæéÔºÅ EurekaÂÅö‰ªÄ‰πàÔºü EurekaÂ∞±Â•ΩÊØîÊòØÊª¥Êª¥ÔºåË¥üË¥£ÁÆ°ÁêÜ„ÄÅËÆ∞ÂΩïÊúçÂä°Êèê‰æõËÄÖÁöÑ‰ø°ÊÅØ„ÄÇÊúçÂä°Ë∞ÉÁî®ËÄÖÊó†ÈúÄËá™Â∑±ÂØªÊâæÊúçÂä°ÔºåËÄåÊòØÊääËá™Â∑±ÁöÑÈúÄÊ±ÇÂëäËØâEurekaÔºåÁÑ∂ÂêéEureka‰ºöÊääÁ¨¶Âêà‰Ω†ÈúÄÊ±ÇÁöÑÊúçÂä°ÂëäËØâ‰Ω†„ÄÇ ÂêåÊó∂ÔºåÊúçÂä°Êèê‰æõÊñπ‰∏éEureka‰πãÈó¥ÈÄöËøá‚ÄúÂøÉË∑≥‚ÄùÊú∫Âà∂ËøõË°åÁõëÊéßÔºåÂΩìÊüê‰∏™ÊúçÂä°Êèê‰æõÊñπÂá∫Áé∞ÈóÆÈ¢òÔºåEurekaËá™ÁÑ∂‰ºöÊääÂÆÉ‰ªéÊúçÂä°ÂàóË°®‰∏≠ÂâîÈô§„ÄÇ ËøôÂ∞±ÂÆûÁé∞‰∫ÜÊúçÂä°ÁöÑËá™Âä®Ê≥®ÂÜå„ÄÅÂèëÁé∞„ÄÅÁä∂ÊÄÅÁõëÊéß„ÄÇ 6.2.ÂéüÁêÜÂõæ Âü∫Êú¨Êû∂ÊûÑÔºö EurekaÔºöÂ∞±ÊòØÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÔºàÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÈõÜÁæ§ÔºâÔºåÂØπÂ§ñÊö¥Èú≤Ëá™Â∑±ÁöÑÂú∞ÂùÄ Êèê‰æõËÄÖÔºöÂêØÂä®ÂêéÂêëEurekaÊ≥®ÂÜåËá™Â∑±‰ø°ÊÅØÔºàÂú∞ÂùÄÔºåÊèê‰æõ‰ªÄ‰πàÊúçÂä°Ôºâ Ê∂àË¥πËÄÖÔºöÂêëEurekaËÆ¢ÈòÖÊúçÂä°ÔºåEureka‰ºöÂ∞ÜÂØπÂ∫îÊúçÂä°ÁöÑÊâÄÊúâÊèê‰æõËÄÖÂú∞ÂùÄÂàóË°®ÂèëÈÄÅÁªôÊ∂àË¥πËÄÖÔºåÂπ∂‰∏îÂÆöÊúüÊõ¥Êñ∞ ÂøÉË∑≥(Áª≠Á∫¶)ÔºöÊèê‰æõËÄÖÂÆöÊúüÈÄöËøáhttpÊñπÂºèÂêëEurekaÂà∑Êñ∞Ëá™Â∑±ÁöÑÁä∂ÊÄÅ 6.3.ÂÖ•Èó®Ê°à‰æã6.3.1.ÁºñÂÜôEurekaServerÊé•‰∏ãÊù•Êàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™È°πÁõÆÔºåÂêØÂä®‰∏Ä‰∏™EurekaServerÔºö ‰æùÁÑ∂‰ΩøÁî®springÊèê‰æõÁöÑÂø´ÈÄüÊê≠Âª∫Â∑•ÂÖ∑Ôºö ÈÄâÊã©‰æùËµñÔºö ÂÆåÊï¥ÁöÑPomÊñá‰ª∂Ôºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.leyou.demo&lt;/groupId&gt; &lt;artifactId&gt;eureka-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;eureka-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;!-- SpringCloudÁâàÊú¨ÔºåÊòØÊúÄÊñ∞ÁöÑFÁ≥ªÂàó --&gt; &lt;spring-cloud.version&gt;Finchley.RC1&lt;/spring-cloud.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- EurekaÊúçÂä°Á´Ø --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;!-- SpringCloud‰æùËµñÔºå‰∏ÄÂÆöË¶ÅÊîæÂà∞dependencyManagement‰∏≠ÔºåËµ∑Âà∞ÁÆ°ÁêÜÁâàÊú¨ÁöÑ‰ΩúÁî®Âç≥ÂèØ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;spring-milestones&lt;/id&gt; &lt;name&gt;Spring Milestones&lt;/name&gt; &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt; &lt;/repositories&gt;&lt;/project&gt; ÁºñÂÜôÂêØÂä®Á±ªÔºö 12345678@SpringBootApplication@EnableEurekaServer // Â£∞ÊòéËøô‰∏™Â∫îÁî®ÊòØ‰∏Ä‰∏™EurekaServerpublic class EurekaDemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(EurekaDemoApplication.class, args); &#125;&#125; ÁºñÂÜôÈÖçÁΩÆÔºö 1234567891011server: port: 10086 # Á´ØÂè£spring: application: name: eureka-server # Â∫îÁî®ÂêçÁß∞Ôºå‰ºöÂú®Eureka‰∏≠ÊòæÁ§∫eureka: client: register-with-eureka: false # ÊòØÂê¶Ê≥®ÂÜåËá™Â∑±ÁöÑ‰ø°ÊÅØÂà∞EurekaServerÔºåÈªòËÆ§ÊòØtrue fetch-registry: false # ÊòØÂê¶ÊãâÂèñÂÖ∂ÂÆÉÊúçÂä°ÁöÑ‰ø°ÊÅØÔºåÈªòËÆ§ÊòØtrue service-url: # EurekaServerÁöÑÂú∞ÂùÄÔºåÁé∞Âú®ÊòØËá™Â∑±ÁöÑÂú∞ÂùÄÔºåÂ¶ÇÊûúÊòØÈõÜÁæ§ÔºåÈúÄË¶ÅÂä†‰∏äÂÖ∂ÂÆÉServerÁöÑÂú∞ÂùÄ„ÄÇ defaultZone: http://127.0.0.1:$&#123;server.port&#125;/eureka ÂêØÂä®ÊúçÂä°ÔºåÂπ∂ËÆøÈóÆÔºöhttp://127.0.0.1:10086/eureka 6.3.2.Â∞Üuser-serviceÊ≥®ÂÜåÂà∞EurekaÊ≥®ÂÜåÊúçÂä°ÔºåÂ∞±ÊòØÂú®ÊúçÂä°‰∏äÊ∑ªÂä†EurekaÁöÑÂÆ¢Êà∑Á´Ø‰æùËµñÔºåÂÆ¢Êà∑Á´Ø‰ª£Á†Å‰ºöËá™Âä®ÊääÊúçÂä°Ê≥®ÂÜåÂà∞EurekaServer‰∏≠„ÄÇ Êàë‰ª¨Âú®user-service-demo‰∏≠Ê∑ªÂä†EurekaÂÆ¢Êà∑Á´Ø‰æùËµñÔºö ÂÖàÊ∑ªÂä†SpringCloud‰æùËµñÔºö 1234567891011121314151617181920212223&lt;!-- SpringCloudÁöÑ‰æùËµñ --&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Finchley.RC1&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;!-- SpringÁöÑ‰ªìÂ∫ìÂú∞ÂùÄ --&gt;&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;spring-milestones&lt;/id&gt; &lt;name&gt;Spring Milestones&lt;/name&gt; &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt;&lt;/repositories&gt; ÁÑ∂ÂêéÊòØEurekaÂÆ¢Êà∑Á´ØÔºö 12345&lt;!-- EurekaÂÆ¢Êà∑Á´Ø --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;&lt;/dependency&gt; Âú®ÂêØÂä®Á±ª‰∏äÂºÄÂêØEurekaÂÆ¢Êà∑Á´ØÂäüËÉΩ ÈÄöËøáÊ∑ªÂä†@EnableDiscoveryClientÊù•ÂºÄÂêØEurekaÂÆ¢Êà∑Á´ØÂäüËÉΩ 1234567@SpringBootApplication@EnableDiscoveryClient // ÂºÄÂêØEurekaClientÂäüËÉΩpublic class UserServiceDemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(UserServiceDemoApplication.class, args); &#125;&#125; ÁºñÂÜôÈÖçÁΩÆ 123456789101112131415161718192021server: port: 8081spring: datasource: url: jdbc:mysql://localhost:3306/mydb01 username: root password: 123 hikari: maximum-pool-size: 20 minimum-idle: 10 application: name: user-service # Â∫îÁî®ÂêçÁß∞mybatis: type-aliases-package: com.leyou.userservice.pojoeureka: client: service-url: # EurekaServerÂú∞ÂùÄ defaultZone: http://127.0.0.1:10086/eureka instance: prefer-ip-address: true # ÂΩìË∞ÉÁî®getHostnameËé∑ÂèñÂÆû‰æãÁöÑhostnameÊó∂ÔºåËøîÂõûipËÄå‰∏çÊòØhostÂêçÁß∞ ip-address: 127.0.0.1 # ÊåáÂÆöËá™Â∑±ÁöÑip‰ø°ÊÅØÔºå‰∏çÊåáÂÆöÁöÑËØù‰ºöËá™Â∑±ÂØªÊâæ Ê≥®ÊÑèÔºö ËøôÈáåÊàë‰ª¨Ê∑ªÂä†‰∫Üspring.application.nameÂ±ûÊÄßÊù•ÊåáÂÆöÂ∫îÁî®ÂêçÁß∞ÔºåÂ∞ÜÊù•‰ºö‰Ωú‰∏∫Â∫îÁî®ÁöÑid‰ΩøÁî®„ÄÇ ‰∏çÁî®ÊåáÂÆöregister-with-eurekaÂíåfetch-registryÔºåÂõ†‰∏∫ÈªòËÆ§ÊòØtrue ÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆEurekaÁõëÊéßÈ°µÈù¢Êü•Áúã Êàë‰ª¨ÂèëÁé∞user-serviceÊúçÂä°Â∑≤ÁªèÊ≥®ÂÜåÊàêÂäü‰∫Ü 6.3.3.Ê∂àË¥πËÄÖ‰ªéEurekaËé∑ÂèñÊúçÂä°Êé•‰∏ãÊù•Êàë‰ª¨‰øÆÊîπconsumer-demoÔºåÂ∞ùËØï‰ªéEurekaServerËé∑ÂèñÊúçÂä°„ÄÇ ÊñπÊ≥ï‰∏éÊ∂àË¥πËÄÖÁ±ª‰ººÔºåÂè™ÈúÄË¶ÅÂú®È°πÁõÆ‰∏≠Ê∑ªÂä†EurekaClient‰æùËµñÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáÊúçÂä°ÂêçÁß∞Êù•Ëé∑Âèñ‰ø°ÊÅØ‰∫ÜÔºÅ 1ÔºâÊ∑ªÂä†‰æùËµñÔºö ÂÖàÊ∑ªÂä†SpringCloud‰æùËµñÔºö 1234567891011121314151617181920212223&lt;!-- SpringCloudÁöÑ‰æùËµñ --&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Finchley.RC1&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;!-- SpringÁöÑ‰ªìÂ∫ìÂú∞ÂùÄ --&gt;&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;spring-milestones&lt;/id&gt; &lt;name&gt;Spring Milestones&lt;/name&gt; &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt;&lt;/repositories&gt; ÁÑ∂ÂêéÊòØEurekaÂÆ¢Êà∑Á´ØÔºö 12345&lt;!-- EurekaÂÆ¢Êà∑Á´Ø --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;&lt;/dependency&gt; 2ÔºâÂú®ÂêØÂä®Á±ªÂºÄÂêØEurekaÂÆ¢Êà∑Á´Ø 1234567891011@SpringBootApplication@EnableDiscoveryClient // ÂºÄÂêØEurekaÂÆ¢Êà∑Á´Øpublic class UserConsumerDemoApplication &#123; @Bean public RestTemplate restTemplate() &#123; return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); &#125; public static void main(String[] args) &#123; SpringApplication.run(UserConsumerDemoApplication.class, args); &#125;&#125; 3Ôºâ‰øÆÊîπÈÖçÁΩÆÔºö 123456789101112server: port: 8080spring: application: name: consumer # Â∫îÁî®ÂêçÁß∞eureka: client: service-url: # EurekaServerÂú∞ÂùÄ defaultZone: http://127.0.0.1:10086/eureka instance: prefer-ip-address: true # ÂΩìÂÖ∂ÂÆÉÊúçÂä°Ëé∑ÂèñÂú∞ÂùÄÊó∂Êèê‰æõipËÄå‰∏çÊòØhostname ip-address: 127.0.0.1 # ÊåáÂÆöËá™Â∑±ÁöÑip‰ø°ÊÅØÔºå‰∏çÊåáÂÆöÁöÑËØù‰ºöËá™Â∑±ÂØªÊâæ 4Ôºâ‰øÆÊîπ‰ª£Á†ÅÔºåÁî®DiscoveryClientÁ±ªÁöÑÊñπÊ≥ïÔºåÊ†πÊçÆÊúçÂä°ÂêçÁß∞ÔºåËé∑ÂèñÊúçÂä°ÂÆû‰æãÔºö 12345678910111213141516171819202122232425262728293031@Servicepublic class UserService &#123; @Autowired private RestTemplate restTemplate; @Autowired private DiscoveryClient discoveryClient;// EurekaÂÆ¢Êà∑Á´ØÔºåÂèØ‰ª•Ëé∑ÂèñÂà∞ÊúçÂä°ÂÆû‰æã‰ø°ÊÅØ public List&lt;User&gt; queryUserByIds(List&lt;Long&gt; ids) &#123; List&lt;User&gt; users = new ArrayList&lt;&gt;(); // String baseUrl = "http://localhost:8081/user/"; // Ê†πÊçÆÊúçÂä°ÂêçÁß∞ÔºåËé∑ÂèñÊúçÂä°ÂÆû‰æã List&lt;ServiceInstance&gt; instances = discoveryClient.getInstances("user-service"); // Âõ†‰∏∫Âè™Êúâ‰∏Ä‰∏™UserService,Âõ†Ê≠§Êàë‰ª¨Áõ¥Êé•get(0)Ëé∑Âèñ ServiceInstance instance = instances.get(0); // Ëé∑ÂèñipÂíåÁ´ØÂè£‰ø°ÊÅØ String baseUrl = "http://"+instance.getHost() + ":" + instance.getPort()+"/user/"; ids.forEach(id -&gt; &#123; // Êàë‰ª¨ÊµãËØïÂ§öÊ¨°Êü•ËØ¢Ôºå users.add(this.restTemplate.getForObject(baseUrl + id, User.class)); // ÊØèÊ¨°Èó¥Èöî500ÊØ´Áßí try &#123; Thread.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); return users; &#125;&#125; 5ÔºâDebugË∑üË∏™ËøêË°åÔºö ÁîüÊàêÁöÑURLÔºö ËÆøÈóÆÁªìÊûúÔºö 6.4.EurekaËØ¶Ëß£Êé•‰∏ãÊù•Êàë‰ª¨ËØ¶ÁªÜËÆ≤Ëß£EurekaÁöÑÂéüÁêÜÂèäÈÖçÁΩÆ„ÄÇ 6.4.1.Âü∫Á°ÄÊû∂ÊûÑEurekaÊû∂ÊûÑ‰∏≠ÁöÑ‰∏â‰∏™Ê†∏ÂøÉËßíËâ≤Ôºö ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ EurekaÁöÑÊúçÂä°Á´ØÂ∫îÁî®ÔºåÊèê‰æõÊúçÂä°Ê≥®ÂÜåÂíåÂèëÁé∞ÂäüËÉΩÔºåÂ∞±ÊòØÂàöÂàöÊàë‰ª¨Âª∫Á´ãÁöÑeureka-demo ÊúçÂä°Êèê‰æõËÄÖ Êèê‰æõÊúçÂä°ÁöÑÂ∫îÁî®ÔºåÂèØ‰ª•ÊòØSpringBootÂ∫îÁî®Ôºå‰πüÂèØ‰ª•ÊòØÂÖ∂ÂÆÉ‰ªªÊÑèÊäÄÊúØÂÆûÁé∞ÔºåÂè™Ë¶ÅÂØπÂ§ñÊèê‰æõÁöÑÊòØRestÈ£éÊ†ºÊúçÂä°Âç≥ÂèØ„ÄÇÊú¨‰æã‰∏≠Â∞±ÊòØÊàë‰ª¨ÂÆûÁé∞ÁöÑuser-service-demo ÊúçÂä°Ê∂àË¥πËÄÖ Ê∂àË¥πÂ∫îÁî®‰ªéÊ≥®ÂÜå‰∏≠ÂøÉËé∑ÂèñÊúçÂä°ÂàóË°®Ôºå‰ªéËÄåÂæóÁü•ÊØè‰∏™ÊúçÂä°ÊñπÁöÑ‰ø°ÊÅØÔºåÁü•ÈÅìÂéªÂì™ÈáåË∞ÉÁî®ÊúçÂä°Êñπ„ÄÇÊú¨‰æã‰∏≠Â∞±ÊòØÊàë‰ª¨ÂÆûÁé∞ÁöÑconsumer-demo 6.4.2.È´òÂèØÁî®ÁöÑEureka ServerEureka ServerÂç≥ÊúçÂä°ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÔºåÂú®ÂàöÊâçÁöÑÊ°à‰æã‰∏≠ÔºåÊàë‰ª¨Âè™Êúâ‰∏Ä‰∏™EurekaServerÔºå‰∫ãÂÆû‰∏äEurekaServer‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÈõÜÁæ§ÔºåÂΩ¢ÊàêÈ´òÂèØÁî®ÁöÑEureka‰∏≠ÂøÉ„ÄÇ ÊúçÂä°ÂêåÊ≠• Â§ö‰∏™Eureka Server‰πãÈó¥‰πü‰ºö‰∫íÁõ∏Ê≥®ÂÜå‰∏∫ÊúçÂä°ÔºåÂΩìÊúçÂä°Êèê‰æõËÄÖÊ≥®ÂÜåÂà∞Eureka ServerÈõÜÁæ§‰∏≠ÁöÑÊüê‰∏™ËäÇÁÇπÊó∂ÔºåËØ•ËäÇÁÇπ‰ºöÊääÊúçÂä°ÁöÑ‰ø°ÊÅØÂêåÊ≠•ÁªôÈõÜÁæ§‰∏≠ÁöÑÊØè‰∏™ËäÇÁÇπÔºå‰ªéËÄåÂÆûÁé∞Êï∞ÊçÆÂêåÊ≠•„ÄÇÂõ†Ê≠§ÔºåÊó†ËÆ∫ÂÆ¢Êà∑Á´ØËÆøÈóÆÂà∞Eureka ServerÈõÜÁæ§‰∏≠ÁöÑ‰ªªÊÑè‰∏Ä‰∏™ËäÇÁÇπÔºåÈÉΩÂèØ‰ª•Ëé∑ÂèñÂà∞ÂÆåÊï¥ÁöÑÊúçÂä°ÂàóË°®‰ø°ÊÅØ„ÄÇ Âä®ÊâãÊê≠Âª∫È´òÂèØÁî®ÁöÑEurekaServer Êàë‰ª¨ÂÅáËÆæË¶ÅÊê≠Âª∫‰∏§Êù°EurekaServerÁöÑÈõÜÁæ§ÔºåÁ´ØÂè£ÂàÜÂà´‰∏∫Ôºö10086Âíå10087 1ÔºâÊàë‰ª¨‰øÆÊîπÂéüÊù•ÁöÑEurekaServerÈÖçÁΩÆÔºö 123456789server: port: 10086 # Á´ØÂè£spring: application: name: eureka-server # Â∫îÁî®ÂêçÁß∞Ôºå‰ºöÂú®Eureka‰∏≠ÊòæÁ§∫eureka: client: service-url: # ÈÖçÁΩÆÂÖ∂‰ªñEurekaÊúçÂä°ÁöÑÂú∞ÂùÄÔºåËÄå‰∏çÊòØËá™Â∑±ÔºåÊØîÂ¶Ç10087 defaultZone: http://127.0.0.1:10087/eureka ÊâÄË∞ìÁöÑÈ´òÂèØÁî®Ê≥®ÂÜå‰∏≠ÂøÉÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊääEurekaServerËá™Â∑±‰πü‰Ωú‰∏∫‰∏Ä‰∏™ÊúçÂä°ËøõË°åÊ≥®ÂÜåÔºåËøôÊ†∑Â§ö‰∏™EurekaServer‰πãÈó¥Â∞±ËÉΩ‰∫íÁõ∏ÂèëÁé∞ÂØπÊñπÔºå‰ªéËÄåÂΩ¢ÊàêÈõÜÁæ§„ÄÇÂõ†Ê≠§Êàë‰ª¨ÂÅö‰∫Ü‰ª•‰∏ã‰øÆÊîπÔºö Âà†Èô§‰∫Üregister-with-eureka=falseÂíåfetch-registry=false‰∏§‰∏™ÈÖçÁΩÆ„ÄÇÂõ†‰∏∫ÈªòËÆ§ÂÄºÊòØtrueÔºåËøôÊ†∑Â∞±‰ºöÂêßËá™Â∑±Ê≥®ÂÜåÂà∞Ê≥®ÂÜå‰∏≠ÂøÉ‰∫Ü„ÄÇ Êääservice-urlÁöÑÂÄºÊîπÊàê‰∫ÜÂè¶Â§ñ‰∏ÄÂè∞EurekaServerÁöÑÂú∞ÂùÄÔºåËÄå‰∏çÊòØËá™Â∑± 2ÔºâÂè¶Â§ñ‰∏ÄÂè∞ÈÖçÁΩÆÊÅ∞Â•ΩÁõ∏ÂèçÔºö 123456789server: port: 10087 # Á´ØÂè£spring: application: name: eureka-server # Â∫îÁî®ÂêçÁß∞Ôºå‰ºöÂú®Eureka‰∏≠ÊòæÁ§∫eureka: client: service-url: # ÈÖçÁΩÆÂÖ∂‰ªñEurekaÊúçÂä°ÁöÑÂú∞ÂùÄÔºåËÄå‰∏çÊòØËá™Â∑±ÔºåÊØîÂ¶Ç10087 defaultZone: http://127.0.0.1:10086/eureka Ê≥®ÊÑèÔºöidea‰∏≠‰∏Ä‰∏™Â∫îÁî®‰∏çËÉΩÂêØÂä®‰∏§Ê¨°ÔºåÊàë‰ª¨ÈúÄË¶ÅÈáçÊñ∞ÈÖçÁΩÆ‰∏Ä‰∏™ÂêØÂä®Âô®Ôºö ÁÑ∂ÂêéÂêØÂä®Âç≥ÂèØ„ÄÇ 3ÔºâÂêØÂä®ÊµãËØïÔºö 4ÔºâÂÆ¢Êà∑Á´ØÊ≥®ÂÜåÊúçÂä°Âà∞ÈõÜÁæ§ Âõ†‰∏∫EurekaServer‰∏çÊ≠¢‰∏Ä‰∏™ÔºåÂõ†Ê≠§Ê≥®ÂÜåÊúçÂä°ÁöÑÊó∂ÂÄôÔºåservice-urlÂèÇÊï∞ÈúÄË¶ÅÂèòÂåñÔºö 1234eureka: client: service-url: # EurekaServerÂú∞ÂùÄ,Â§ö‰∏™Âú∞ÂùÄ‰ª•','ÈöîÂºÄ defaultZone: http://127.0.0.1:10086/eureka,http://127.0.0.1:10087/eureka 6.4.3.ÊúçÂä°Êèê‰æõËÄÖÊúçÂä°Êèê‰æõËÄÖË¶ÅÂêëEurekaServerÊ≥®ÂÜåÊúçÂä°ÔºåÂπ∂‰∏îÂÆåÊàêÊúçÂä°Áª≠Á∫¶Á≠âÂ∑•‰Ωú„ÄÇ ÊúçÂä°Ê≥®ÂÜå ÊúçÂä°Êèê‰æõËÄÖÂú®ÂêØÂä®Êó∂Ôºå‰ºöÊ£ÄÊµãÈÖçÁΩÆÂ±ûÊÄß‰∏≠ÁöÑÔºöeureka.client.register-with-erueka=trueÂèÇÊï∞ÊòØÂê¶Ê≠£Á°ÆÔºå‰∫ãÂÆû‰∏äÈªòËÆ§Â∞±ÊòØtrue„ÄÇÂ¶ÇÊûúÂÄºÁ°ÆÂÆû‰∏∫trueÔºåÂàô‰ºöÂêëEurekaServerÂèëËµ∑‰∏Ä‰∏™RestËØ∑Ê±ÇÔºåÂπ∂Êê∫Â∏¶Ëá™Â∑±ÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºåEureka Server‰ºöÊääËøô‰∫õ‰ø°ÊÅØ‰øùÂ≠òÂà∞‰∏Ä‰∏™ÂèåÂ±ÇMapÁªìÊûÑ‰∏≠„ÄÇÁ¨¨‰∏ÄÂ±ÇMapÁöÑKeyÂ∞±ÊòØÊúçÂä°ÂêçÁß∞ÔºåÁ¨¨‰∫åÂ±ÇMapÁöÑkeyÊòØÊúçÂä°ÁöÑÂÆû‰æãid„ÄÇ ÊúçÂä°Áª≠Á∫¶ Âú®Ê≥®ÂÜåÊúçÂä°ÂÆåÊàê‰ª•ÂêéÔºåÊúçÂä°Êèê‰æõËÄÖ‰ºöÁª¥ÊåÅ‰∏Ä‰∏™ÂøÉË∑≥ÔºàÂÆöÊó∂ÂêëEurekaServerÂèëËµ∑RestËØ∑Ê±ÇÔºâÔºåÂëäËØâEurekaServerÔºö‚ÄúÊàëËøòÊ¥ªÁùÄ‚Äù„ÄÇËøô‰∏™Êàë‰ª¨Áß∞‰∏∫ÊúçÂä°ÁöÑÁª≠Á∫¶ÔºàrenewÔºâÔºõ Êúâ‰∏§‰∏™ÈáçË¶ÅÂèÇÊï∞ÂèØ‰ª•‰øÆÊîπÊúçÂä°Áª≠Á∫¶ÁöÑË°å‰∏∫Ôºö 1234eureka: instance: lease-expiration-duration-in-seconds: 90 lease-renewal-interval-in-seconds: 30 lease-renewal-interval-in-secondsÔºöÊúçÂä°Áª≠Á∫¶(renew)ÁöÑÈó¥ÈöîÔºåÈªòËÆ§‰∏∫30Áßí lease-expiration-duration-in-secondsÔºöÊúçÂä°Â§±ÊïàÊó∂Èó¥ÔºåÈªòËÆ§ÂÄº90Áßí ‰πüÂ∞±ÊòØËØ¥ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊØè‰∏™30ÁßíÊúçÂä°‰ºöÂêëÊ≥®ÂÜå‰∏≠ÂøÉÂèëÈÄÅ‰∏ÄÊ¨°ÂøÉË∑≥ÔºåËØÅÊòéËá™Â∑±ËøòÊ¥ªÁùÄ„ÄÇÂ¶ÇÊûúË∂ÖËøá90ÁßíÊ≤°ÊúâÂèëÈÄÅÂøÉË∑≥ÔºåEurekaServerÂ∞±‰ºöËÆ§‰∏∫ËØ•ÊúçÂä°ÂÆïÊú∫Ôºå‰ºö‰ªéÊúçÂä°ÂàóË°®‰∏≠ÁßªÈô§ÔºåËøô‰∏§‰∏™ÂÄºÂú®Áîü‰∫ßÁéØÂ¢É‰∏çË¶Å‰øÆÊîπÔºåÈªòËÆ§Âç≥ÂèØ„ÄÇ ‰ΩÜÊòØÂú®ÂºÄÂèëÊó∂ÔºåËøô‰∏™ÂÄºÊúâÁÇπÂ§™Èïø‰∫ÜÔºåÁªèÂ∏∏Êàë‰ª¨ÂÖ≥Êéâ‰∏Ä‰∏™ÊúçÂä°Ôºå‰ºöÂèëÁé∞Eureka‰æùÁÑ∂ËÆ§‰∏∫ÊúçÂä°Âú®Ê¥ªÁùÄ„ÄÇÊâÄ‰ª•Êàë‰ª¨Âú®ÂºÄÂèëÈò∂ÊÆµÂèØ‰ª•ÈÄÇÂΩìË∞ÉÂ∞è„ÄÇ 1234eureka: instance: lease-expiration-duration-in-seconds: 10 # 10ÁßíÂç≥ËøáÊúü lease-renewal-interval-in-seconds: 5 # 5Áßí‰∏ÄÊ¨°ÂøÉË∑≥ ÂÆû‰æãid ÂÖàÊù•Áúã‰∏Ä‰∏ãÊúçÂä°Áä∂ÊÄÅ‰ø°ÊÅØÔºö Âú®EurekaÁõëÊéßÈ°µÈù¢ÔºåÊü•ÁúãÊúçÂä°Ê≥®ÂÜå‰ø°ÊÅØÔºö Âú®status‰∏ÄÂàó‰∏≠ÔºåÊòæÁ§∫‰ª•‰∏ã‰ø°ÊÅØÔºö UP(1)Ôºö‰ª£Ë°®Áé∞Âú®ÊòØÂêØÂä®‰∫Ü1‰∏™Á§∫‰æãÔºåÊ≤°ÊúâÈõÜÁæ§ DESKTOP-2MVEC12:user-service:8081ÔºöÊòØÁ§∫‰æãÁöÑÂêçÁß∞Ôºàinstance-idÔºâÔºå ÈªòËÆ§Ê†ºÂºèÊòØÔºö${hostname} + ${spring.application.name} + ${server.port} instance-idÊòØÂå∫ÂàÜÂêå‰∏ÄÊúçÂä°ÁöÑ‰∏çÂêåÂÆû‰æãÁöÑÂîØ‰∏ÄÊ†áÂáÜÔºåÂõ†Ê≠§‰∏çËÉΩÈáçÂ§ç„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáinstance-idÂ±ûÊÄßÊù•‰øÆÊîπÂÆÉÁöÑÊûÑÊàêÔºö 123eureka: instance: instance-id: $&#123;spring.application.name&#125;:$&#123;server.port&#125; ÈáçÂêØÊúçÂä°ÂÜçËØïËØïÁúãÔºö 6.4.4.ÊúçÂä°Ê∂àË¥πËÄÖ Ëé∑ÂèñÊúçÂä°ÂàóË°® ÂΩìÊúçÂä°Ê∂àË¥πËÄÖÂêØÂä®ÊòØÔºå‰ºöÊ£ÄÊµãeureka.client.fetch-registry=trueÂèÇÊï∞ÁöÑÂÄºÔºåÂ¶ÇÊûú‰∏∫trueÔºåÂàô‰ºö‰ªéEureka ServerÊúçÂä°ÁöÑÂàóË°®Âè™ËØªÂ§á‰ªΩÔºåÁÑ∂ÂêéÁºìÂ≠òÂú®Êú¨Âú∞„ÄÇÂπ∂‰∏îÊØèÈöî30Áßí‰ºöÈáçÊñ∞Ëé∑ÂèñÂπ∂Êõ¥Êñ∞Êï∞ÊçÆ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÂèÇÊï∞Êù•‰øÆÊîπÔºö 123eureka: client: registry-fetch-interval-seconds: 5 Áîü‰∫ßÁéØÂ¢É‰∏≠ÔºåÊàë‰ª¨‰∏çÈúÄË¶Å‰øÆÊîπËøô‰∏™ÂÄº„ÄÇ ‰ΩÜÊòØ‰∏∫‰∫ÜÂºÄÂèëÁéØÂ¢É‰∏ãÔºåËÉΩÂ§üÂø´ÈÄüÂæóÂà∞ÊúçÂä°ÁöÑÊúÄÊñ∞Áä∂ÊÄÅÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖ∂ËÆæÁΩÆÂ∞è‰∏ÄÁÇπ„ÄÇ 6.4.5.Â§±ÊïàÂâîÈô§ÂíåËá™Êàë‰øùÊä§ Â§±ÊïàÂâîÈô§ Êúâ‰∫õÊó∂ÂÄôÔºåÊàë‰ª¨ÁöÑÊúçÂä°Êèê‰æõÊñπÂπ∂‰∏ç‰∏ÄÂÆö‰ºöÊ≠£Â∏∏‰∏ãÁ∫øÔºåÂèØËÉΩÂõ†‰∏∫ÂÜÖÂ≠òÊ∫¢Âá∫„ÄÅÁΩëÁªúÊïÖÈöúÁ≠âÂéüÂõ†ÂØºËá¥ÊúçÂä°Êó†Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú„ÄÇEureka ServerÈúÄË¶ÅÂ∞ÜËøôÊ†∑ÁöÑÊúçÂä°ÂâîÈô§Âá∫ÊúçÂä°ÂàóË°®„ÄÇÂõ†Ê≠§ÂÆÉ‰ºöÂºÄÂêØ‰∏Ä‰∏™ÂÆöÊó∂‰ªªÂä°ÔºåÊØèÈöî60ÁßíÂØπÊâÄÊúâÂ§±ÊïàÁöÑÊúçÂä°ÔºàË∂ÖËøá90ÁßíÊú™ÂìçÂ∫îÔºâËøõË°åÂâîÈô§„ÄÇ ÂèØ‰ª•ÈÄöËøáeureka.server.eviction-interval-timer-in-msÂèÇÊï∞ÂØπÂÖ∂ËøõË°å‰øÆÊîπÔºåÂçï‰ΩçÊòØÊØ´ÁßíÔºåÁîüÊàêÁéØÂ¢É‰∏çË¶Å‰øÆÊîπ„ÄÇ Ëøô‰∏™‰ºöÂØπÊàë‰ª¨ÂºÄÂèëÂ∏¶Êù•ÊûÅÂ§ßÁöÑ‰∏çÂèòÔºå‰Ω†ÂØπÊúçÂä°ÈáçÂêØÔºåÈöî‰∫Ü60ÁßíEurekaÊâçÂèçÂ∫îËøáÊù•„ÄÇÂºÄÂèëÈò∂ÊÆµÂèØ‰ª•ÈÄÇÂΩìË∞ÉÊï¥ÔºåÊØîÂ¶Ç10S Ëá™Êàë‰øùÊä§ Êàë‰ª¨ÂÖ≥ÂÅú‰∏Ä‰∏™ÊúçÂä°ÔºåÂ∞±‰ºöÂú®EurekaÈù¢ÊùøÁúãÂà∞‰∏ÄÊù°Ë≠¶ÂëäÔºö ËøôÊòØËß¶Âèë‰∫ÜEurekaÁöÑËá™Êàë‰øùÊä§Êú∫Âà∂„ÄÇÂΩì‰∏Ä‰∏™ÊúçÂä°Êú™ÊåâÊó∂ËøõË°åÂøÉË∑≥Áª≠Á∫¶Êó∂ÔºåEureka‰ºöÁªüËÆ°ÊúÄËøë15ÂàÜÈíüÂøÉË∑≥Â§±Ë¥•ÁöÑÊúçÂä°ÂÆû‰æãÁöÑÊØî‰æãÊòØÂê¶Ë∂ÖËøá‰∫Ü85%„ÄÇÂú®Áîü‰∫ßÁéØÂ¢É‰∏ãÔºåÂõ†‰∏∫ÁΩëÁªúÂª∂ËøüÁ≠âÂéüÂõ†ÔºåÂøÉË∑≥Â§±Ë¥•ÂÆû‰æãÁöÑÊØî‰æãÂæàÊúâÂèØËÉΩË∂ÖÊ†áÔºå‰ΩÜÊòØÊ≠§Êó∂Â∞±ÊääÊúçÂä°ÂâîÈô§ÂàóË°®Âπ∂‰∏çÂ¶•ÂΩìÔºåÂõ†‰∏∫ÊúçÂä°ÂèØËÉΩÊ≤°ÊúâÂÆïÊú∫„ÄÇEurekaÂ∞±‰ºöÊääÂΩìÂâçÂÆû‰æãÁöÑÊ≥®ÂÜå‰ø°ÊÅØ‰øùÊä§Ëµ∑Êù•Ôºå‰∏ç‰∫àÂâîÈô§„ÄÇÁîü‰∫ßÁéØÂ¢É‰∏ãËøôÂæàÊúâÊïàÔºå‰øùËØÅ‰∫ÜÂ§ßÂ§öÊï∞ÊúçÂä°‰æùÁÑ∂ÂèØÁî®„ÄÇ ‰ΩÜÊòØËøôÁªôÊàë‰ª¨ÁöÑÂºÄÂèëÂ∏¶Êù•‰∫ÜÈ∫ªÁÉ¶Ôºå Âõ†Ê≠§ÂºÄÂèëÈò∂ÊÆµÊàë‰ª¨ÈÉΩ‰ºöÂÖ≥Èó≠Ëá™Êàë‰øùÊä§Ê®°ÂºèÔºö 1234eureka: server: enable-self-preservation: false # ÂÖ≥Èó≠Ëá™Êàë‰øùÊä§Ê®°ÂºèÔºàÁº∫ÁúÅ‰∏∫ÊâìÂºÄÔºâ eviction-interval-timer-in-ms: 1000 # Êâ´ÊèèÂ§±ÊïàÊúçÂä°ÁöÑÈó¥ÈöîÊó∂Èó¥ÔºàÁº∫ÁúÅ‰∏∫60*1000msÔºâ 7.Ë¥üËΩΩÂùáË°°RobbinÂú®ÂàöÊâçÁöÑÊ°à‰æã‰∏≠ÔºåÊàë‰ª¨ÂêØÂä®‰∫Ü‰∏Ä‰∏™user-serviceÔºåÁÑ∂ÂêéÈÄöËøáDiscoveryClientÊù•Ëé∑ÂèñÊúçÂä°ÂÆû‰æã‰ø°ÊÅØÔºåÁÑ∂ÂêéËé∑ÂèñipÂíåÁ´ØÂè£Êù•ËÆøÈóÆ„ÄÇ ‰ΩÜÊòØÂÆûÈôÖÁéØÂ¢É‰∏≠ÔºåÊàë‰ª¨ÂæÄÂæÄ‰ºöÂºÄÂêØÂæàÂ§ö‰∏™user-serviceÁöÑÈõÜÁæ§„ÄÇÊ≠§Êó∂Êàë‰ª¨Ëé∑ÂèñÁöÑÊúçÂä°ÂàóË°®‰∏≠Â∞±‰ºöÊúâÂ§ö‰∏™ÔºåÂà∞Â∫ïËØ•ËÆøÈóÆÂì™‰∏Ä‰∏™Âë¢Ôºü ‰∏ÄËà¨ËøôÁßçÊÉÖÂÜµ‰∏ãÊàë‰ª¨Â∞±ÈúÄË¶ÅÁºñÂÜôË¥üËΩΩÂùáË°°ÁÆóÊ≥ïÔºåÂú®Â§ö‰∏™ÂÆû‰æãÂàóË°®‰∏≠ËøõË°åÈÄâÊã©„ÄÇ ‰∏çËøáEureka‰∏≠Â∑≤ÁªèÂ∏ÆÊàë‰ª¨ÈõÜÊàê‰∫ÜË¥üËΩΩÂùáË°°ÁªÑ‰ª∂ÔºöRibbonÔºåÁÆÄÂçï‰øÆÊîπ‰ª£Á†ÅÂç≥ÂèØ‰ΩøÁî®„ÄÇ ‰ªÄ‰πàÊòØRibbonÔºö Êé•‰∏ãÊù•ÔºåÊàë‰ª¨Â∞±Êù•‰ΩøÁî®RibbonÂÆûÁé∞Ë¥üËΩΩÂùáË°°„ÄÇ 7.1.ÂêØÂä®‰∏§‰∏™ÊúçÂä°ÂÆû‰æãÈ¶ñÂÖàÊàë‰ª¨ÂêØÂä®‰∏§‰∏™user-serviceÂÆû‰æãÔºå‰∏Ä‰∏™8081Ôºå‰∏Ä‰∏™8082„ÄÇ EurekaÁõëÊéßÈù¢ÊùøÔºö 7.2.ÂºÄÂêØË¥üËΩΩÂùáË°°Âõ†‰∏∫Eureka‰∏≠Â∑≤ÁªèÈõÜÊàê‰∫ÜRibbonÔºåÊâÄ‰ª•Êàë‰ª¨Êó†ÈúÄÂºïÂÖ•Êñ∞ÁöÑ‰æùËµñ„ÄÇÁõ¥Êé•‰øÆÊîπ‰ª£Á†ÅÔºö Âú®RestTemplateÁöÑÈÖçÁΩÆÊñπÊ≥ï‰∏äÊ∑ªÂä†@LoadBalancedÊ≥®Ëß£Ôºö 12345@Bean@LoadBalancedpublic RestTemplate restTemplate() &#123; return new RestTemplate(new OkHttp3ClientHttpRequestFactory());&#125; ‰øÆÊîπË∞ÉÁî®ÊñπÂºèÔºå‰∏çÂÜçÊâãÂä®Ëé∑ÂèñipÂíåÁ´ØÂè£ÔºåËÄåÊòØÁõ¥Êé•ÈÄöËøáÊúçÂä°ÂêçÁß∞Ë∞ÉÁî®Ôºö 1234567891011121314151617181920212223242526@Servicepublic class UserService &#123; @Autowired private RestTemplate restTemplate; @Autowired private DiscoveryClient discoveryClient; public List&lt;User&gt; queryUserByIds(List&lt;Long&gt; ids) &#123; List&lt;User&gt; users = new ArrayList&lt;&gt;(); // Âú∞ÂùÄÁõ¥Êé•ÂÜôÊúçÂä°ÂêçÁß∞Âç≥ÂèØ String baseUrl = "http://user-service/user/"; ids.forEach(id -&gt; &#123; // Êàë‰ª¨ÊµãËØïÂ§öÊ¨°Êü•ËØ¢Ôºå users.add(this.restTemplate.getForObject(baseUrl + id, User.class)); // ÊØèÊ¨°Èó¥Èöî500ÊØ´Áßí try &#123; Thread.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); return users; &#125;&#125; ËÆøÈóÆÈ°µÈù¢ÔºåÊü•ÁúãÁªìÊûúÔºö ÂÆåÁæéÔºÅ 7.3.Ê∫êÁ†ÅË∑üË∏™‰∏∫‰ªÄ‰πàÊàë‰ª¨Âè™ËæìÂÖ•‰∫ÜserviceÂêçÁß∞Â∞±ÂèØ‰ª•ËÆøÈóÆ‰∫ÜÂë¢Ôºü‰πãÂâçËøòË¶ÅËé∑ÂèñipÂíåÁ´ØÂè£„ÄÇ ÊòæÁÑ∂Êúâ‰∫∫Â∏ÆÊàë‰ª¨Ê†πÊçÆserviceÂêçÁß∞ÔºåËé∑ÂèñÂà∞‰∫ÜÊúçÂä°ÂÆû‰æãÁöÑipÂíåÁ´ØÂè£„ÄÇÂÆÉÂ∞±ÊòØLoadBalancerInterceptor Êàë‰ª¨ËøõË°åÊ∫êÁ†ÅË∑üË∏™Ôºö ÁªßÁª≠Ë∑üÂÖ•executeÊñπÊ≥ïÔºöÂèëÁé∞Ëé∑Âèñ‰∫Ü8082Á´ØÂè£ÁöÑÊúçÂä° ÂÜçË∑ü‰∏ã‰∏ÄÊ¨°ÔºåÂèëÁé∞Ëé∑ÂèñÁöÑÊòØ8081Ôºö 7.4.Ë¥üËΩΩÂùáË°°Á≠ñÁï•RibbonÈªòËÆ§ÁöÑË¥üËΩΩÂùáË°°Á≠ñÁï•ÊòØÁÆÄÂçïÁöÑËΩÆËØ¢ÔºåÊàë‰ª¨ÂèØ‰ª•ÊµãËØï‰∏Ä‰∏ãÔºö ÁºñÂÜôÊµãËØïÁ±ªÔºåÂú®ÂàöÊâçÁöÑÊ∫êÁ†Å‰∏≠Êàë‰ª¨ÁúãÂà∞Êã¶Êà™‰∏≠ÊòØ‰ΩøÁî®RibbonLoadBalanceClientÊù•ËøõË°åË¥üËΩΩÂùáË°°ÁöÑÔºåÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™chooseÊñπÊ≥ïÔºåÊòØËøôÊ†∑‰ªãÁªçÁöÑÔºö Áé∞Âú®Ëøô‰∏™Â∞±ÊòØË¥üËΩΩÂùáË°°Ëé∑ÂèñÂÆû‰æãÁöÑÊñπÊ≥ï„ÄÇ Êàë‰ª¨ÂØπÊ≥®ÂÖ•Ëøô‰∏™Á±ªÁöÑÂØπË±°ÔºåÁÑ∂ÂêéÂØπÂÖ∂ÊµãËØïÔºö 123456789101112131415@RunWith(SpringRunner.class)@SpringBootTest(classes = UserConsumerDemoApplication.class)public class LoadBalanceTest &#123; @Autowired RibbonLoadBalancerClient client; @Test public void test()&#123; for (int i = 0; i &lt; 100; i++) &#123; ServiceInstance instance = this.client.choose("user-service"); System.out.println(instance.getHost() + ":" + instance.getPort()); &#125; &#125;&#125; ÁªìÊûúÔºö Á¨¶Âêà‰∫ÜÊàë‰ª¨ÁöÑÈ¢ÑÊúüÊé®ÊµãÔºåÁ°ÆÂÆûÊòØËΩÆËØ¢ÊñπÂºè„ÄÇ Êàë‰ª¨ÊòØÂê¶ÂèØ‰ª•‰øÆÊîπË¥üËΩΩÂùáË°°ÁöÑÁ≠ñÁï•Âë¢Ôºü ÁªßÁª≠Ë∑üË∏™Ê∫êÁ†ÅÔºåÂèëÁé∞Ëøô‰πà‰∏ÄÊÆµ‰ª£Á†ÅÔºö Êàë‰ª¨ÁúãÁúãËøô‰∏™ruleÊòØË∞ÅÔºö ËøôÈáåÁöÑruleÈªòËÆ§ÂÄºÊòØ‰∏Ä‰∏™RoundRobinRuleÔºåÁúãÁ±ªÁöÑ‰ªãÁªçÔºö Ëøô‰∏çÂ∞±ÊòØËΩÆËØ¢ÁöÑÊÑèÊÄùÂòõ„ÄÇ Êàë‰ª¨Ê≥®ÊÑèÂà∞ÔºåËøô‰∏™Á±ªÂÖ∂ÂÆûÊòØÂÆûÁé∞‰∫ÜÊé•Âè£IRuleÁöÑÔºåÊü•Áúã‰∏Ä‰∏ãÔºö ÂÆö‰πâË¥üËΩΩÂùáË°°ÁöÑËßÑÂàôÊé•Âè£„ÄÇ ÂÆÉÊúâ‰ª•‰∏ãÂÆûÁé∞Ôºö SpringBoot‰πüÂ∏ÆÊàë‰ª¨Êèê‰æõ‰∫Ü‰øÆÊîπË¥üËΩΩÂùáË°°ËßÑÂàôÁöÑÈÖçÁΩÆÂÖ•Âè£Ôºö 123user-service: ribbon: NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule Ê†ºÂºèÊòØÔºö{ÊúçÂä°ÂêçÁß∞}.ribbon.NFLoadBalancerRuleClassNameÔºåÂÄºÂ∞±ÊòØIRuleÁöÑÂÆûÁé∞Á±ª„ÄÇ ÂÜçÊ¨°ÊµãËØïÔºåÂèëÁé∞ÁªìÊûúÂèòÊàê‰∫ÜÈöèÊú∫Ôºö 7.5.ÈáçËØïÊú∫Âà∂EurekaÁöÑÊúçÂä°Ê≤ªÁêÜÂº∫Ë∞É‰∫ÜCAPÂéüÂàô‰∏≠ÁöÑAPÔºåÂç≥ÂèØÁî®ÊÄßÂíåÂèØÈù†ÊÄß„ÄÇÂÆÉ‰∏éZookeeperËøô‰∏ÄÁ±ªÂº∫Ë∞ÉCPÔºà‰∏ÄËá¥ÊÄßÔºåÂèØÈù†ÊÄßÔºâÁöÑÊúçÂä°Ê≤ªÁêÜÊ°ÜÊû∂ÊúÄÂ§ßÁöÑÂå∫Âà´Âú®‰∫éÔºöEureka‰∏∫‰∫ÜÂÆûÁé∞Êõ¥È´òÁöÑÊúçÂä°ÂèØÁî®ÊÄßÔºåÁâ∫Áâ≤‰∫Ü‰∏ÄÂÆöÁöÑ‰∏ÄËá¥ÊÄßÔºåÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÂÆÉÂÆÅÊÑøÊé•Êî∂ÊïÖÈöúÂÆû‰æã‰πü‰∏çÊÑø‰∏¢ÊéâÂÅ•Â∫∑ÂÆû‰æãÔºåÊ≠£Â¶ÇÊàë‰ª¨‰∏äÈù¢ÊâÄËØ¥ÁöÑËá™Êàë‰øùÊä§Êú∫Âà∂„ÄÇ ‰ΩÜÊòØÔºåÊ≠§Êó∂Â¶ÇÊûúÊàë‰ª¨Ë∞ÉÁî®‰∫ÜËøô‰∫õ‰∏çÊ≠£Â∏∏ÁöÑÊúçÂä°ÔºåË∞ÉÁî®Â∞±‰ºöÂ§±Ë¥•Ôºå‰ªéËÄåÂØºËá¥ÂÖ∂ÂÆÉÊúçÂä°‰∏çËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºÅËøôÊòæÁÑ∂‰∏çÊòØÊàë‰ª¨ÊÑøÊÑèÁúãÂà∞ÁöÑ„ÄÇ Êàë‰ª¨Áé∞Âú®ÂÖ≥Èó≠‰∏Ä‰∏™user-serviceÂÆû‰æãÔºö Âõ†‰∏∫ÊúçÂä°ÂâîÈô§ÁöÑÂª∂ËøüÔºåconsumerÂπ∂‰∏ç‰ºöÁ´ãÂç≥ÂæóÂà∞ÊúÄÊñ∞ÁöÑÊúçÂä°ÂàóË°®ÔºåÊ≠§Êó∂ÂÜçÊ¨°ËÆøÈóÆ‰Ω†‰ºöÂæóÂà∞ÈîôËØØÊèêÁ§∫Ôºö ‰ΩÜÊòØÊ≠§Êó∂Ôºå8081ÊúçÂä°ÂÖ∂ÂÆûÊòØÊ≠£Â∏∏ÁöÑ„ÄÇ Âõ†Ê≠§Spring Cloud Êï¥Âêà‰∫ÜSpring Retry Êù•Â¢ûÂº∫RestTemplateÁöÑÈáçËØïËÉΩÂäõÔºåÂΩì‰∏ÄÊ¨°ÊúçÂä°Ë∞ÉÁî®Â§±Ë¥•ÂêéÔºå‰∏ç‰ºöÁ´ãÂç≥ÊäõÂá∫‰∏ÄÊ¨°ÔºåËÄåÊòØÂÜçÊ¨°ÈáçËØïÂè¶‰∏Ä‰∏™ÊúçÂä°„ÄÇ Âè™ÈúÄË¶ÅÁÆÄÂçïÈÖçÁΩÆÂç≥ÂèØÂÆûÁé∞RibbonÁöÑÈáçËØïÔºö 123456789101112spring: cloud: loadbalancer: retry: enabled: true # ÂºÄÂêØSpring CloudÁöÑÈáçËØïÂäüËÉΩuser-service: ribbon: ConnectTimeout: 250 # RibbonÁöÑËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥ ReadTimeout: 1000 # RibbonÁöÑÊï∞ÊçÆËØªÂèñË∂ÖÊó∂Êó∂Èó¥ OkToRetryOnAllOperations: true # ÊòØÂê¶ÂØπÊâÄÊúâÊìç‰ΩúÈÉΩËøõË°åÈáçËØï MaxAutoRetriesNextServer: 1 # ÂàáÊç¢ÂÆû‰æãÁöÑÈáçËØïÊ¨°Êï∞ MaxAutoRetries: 1 # ÂØπÂΩìÂâçÂÆû‰æãÁöÑÈáçËØïÊ¨°Êï∞ Ê†πÊçÆÂ¶Ç‰∏äÈÖçÁΩÆÔºåÂΩìËÆøÈóÆÂà∞Êüê‰∏™ÊúçÂä°Ë∂ÖÊó∂ÂêéÔºåÂÆÉ‰ºöÂÜçÊ¨°Â∞ùËØïËÆøÈóÆ‰∏ã‰∏Ä‰∏™ÊúçÂä°ÂÆû‰æãÔºåÂ¶ÇÊûú‰∏çË°åÂ∞±ÂÜçÊç¢‰∏Ä‰∏™ÂÆû‰æãÔºåÂ¶ÇÊûú‰∏çË°åÔºåÂàôËøîÂõûÂ§±Ë¥•„ÄÇÂàáÊç¢Ê¨°Êï∞ÂèñÂÜ≥‰∫éMaxAutoRetriesNextServerÂèÇÊï∞ÁöÑÂÄº ÂºïÂÖ•spring-retry‰æùËµñ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt; &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;&lt;/dependency&gt; Êàë‰ª¨ÈáçÂêØuser-consumer-demoÔºåÊµãËØïÔºåÂèëÁé∞Âç≥‰Ωøuser-service2ÂÆïÊú∫Ôºå‰πüËÉΩÈÄöËøáÂè¶‰∏ÄÂè∞ÊúçÂä°ÂÆû‰æãËé∑ÂèñÂà∞ÁªìÊûúÔºÅ]]></content>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êûö‰∏æ]]></title>
    <url>%2F2019%2F01%2F29%2Fjava%E5%9F%BA%E7%A1%80%2F%E6%9E%9A%E4%B8%BE%2F</url>
    <content type="text"><![CDATA[1.Êûö‰∏æÁî®Ê≥ï‰∏ÄÔºöÂ∏∏ÈáèÂú®JDK1.5 ‰πãÂâçÔºåÊàë‰ª¨ÂÆö‰πâÂ∏∏ÈáèÈÉΩÊòØÔºö public static final‚Ä¶. „ÄÇÁé∞Âú®Â•Ω‰∫ÜÔºåÊúâ‰∫ÜÊûö‰∏æÔºåÂèØ‰ª•ÊääÁõ∏ÂÖ≥ÁöÑÂ∏∏ÈáèÂàÜÁªÑÂà∞‰∏Ä‰∏™Êûö‰∏æÁ±ªÂûãÈáåÔºåËÄå‰∏îÊûö‰∏æÊèê‰æõ‰∫ÜÊØîÂ∏∏ÈáèÊõ¥Â§öÁöÑÊñπÊ≥ï„ÄÇ Java‰ª£Á†Å 123public enum Color &#123; RED, GREEN, BLANK, YELLOW &#125; Áî®Ê≥ï‰∏âÔºöÂêëÊûö‰∏æ‰∏≠Ê∑ªÂä†Êñ∞ÊñπÊ≥ïÂ¶ÇÊûúÊâìÁÆóËá™ÂÆö‰πâËá™Â∑±ÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàÂøÖÈ°ªÂú®enumÂÆû‰æãÂ∫èÂàóÁöÑÊúÄÂêéÊ∑ªÂä†‰∏Ä‰∏™ÂàÜÂè∑„ÄÇËÄå‰∏î Java Ë¶ÅÊ±ÇÂøÖÈ°ªÂÖàÂÆö‰πâ enum ÂÆû‰æã„ÄÇ Java‰ª£Á†Å 123456789101112131415161718192021222324252627282930313233public enum Color &#123; RED("Á∫¢Ëâ≤", 1), GREEN("ÁªøËâ≤", 2), BLANK("ÁôΩËâ≤", 3), YELLO("ÈªÑËâ≤", 4); // ÊàêÂëòÂèòÈáè private String name; private int index; // ÊûÑÈÄ†ÊñπÊ≥ï private Color(String name, int index) &#123; this.name = name; this.index = index; &#125; // ÊôÆÈÄöÊñπÊ≥ï public static String getName(int index) &#123; for (Color c : Color.values()) &#123; if (c.getIndex() == index) &#123; return c.name; &#125; &#125; return null; &#125; // get set ÊñπÊ≥ï public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getIndex() &#123; return index; &#125; public void setIndex(int index) &#123; this.index = index; &#125; &#125; https://blog.csdn.net/qq_27093465/article/details/52180865 https://www.cnblogs.com/sister/p/4700702.html 1.values()Ëé∑ÂèñÂ≠òÂÇ®Êûö‰∏æ‰∏≠ÊâÄÊúâÂ∏∏ÈáèÂÆû‰æãÁöÑÊï∞ÁªÑ„ÄÇÂ∏∏ÈÖçÂêàforeachÂÆåÊàêÈÅçÂéÜ 123for(ColorEnum temp:ColorEnum.values())&#123; System.out.println(temp);&#125; ËøêË°åÁªìÊûúÔºö 123 RED GREEN BLUE 2.ÊûÑÈÄ†ÊñπÊ≥ïÔºåÊûö‰∏æÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂè™ËÉΩÁî®private‰øÆÈ•∞Á¨¶‰øÆÈ•∞ÔºåÂéüÂõ†Â∞±‰∏çÈúÄË¶ÅËß£Èáä‰∫Ü‚Ä¶‚Ä¶ 3.valueOf()ÈÄöËøáÂ∏∏ÈáèÂêçËé∑ÂèñÂØπÂ∫îÁöÑÊûö‰∏æÂÆû‰æã„ÄÇ 12 ColorEnum red = ColorEnum.valueOf(&quot;RED&quot;); System.out.println(red); 123456789101112131415161718192021222324252627//Êûö‰∏æÁ±ªÁöÑÂêéÁºÄÂª∫ËÆÆ‰∏∫EnumÔºåÊûö‰∏æÁ±ªÂûãÁöÑÂÆû‰æãÂØπË±°Âª∫ËÆÆÂÖ®Â§ßÂÜôÔºàËøôÊ†∑ÂÅöÁ¨¶ÂêàJAVAÁöÑËßÑËåÉ//ÂΩìÊàë‰ª¨ÂàõÂª∫SeasonEnumËøô‰∏™Êûö‰∏æÁ±ªÊó∂Ôºå// ÂèØ‰∏çÂèØ‰ª•ËÆ©SeasonEnum‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂÆû‰æãÂØπË±°ÈÉΩÊúâ‰∏Ä‰∏™getChinese()ÊñπÊ≥ïÂë¢„ÄÇ\// Á≠îÊ°àÊòØËÇØÂÆöÁöÑÔºåËÄå‰∏îËøôÁßçÂÅöÊ≥ïÂú®‰ºÅ‰∏öÂºÄÂèë‰∏≠ÂæàÂ∏∏ËßÅ„ÄÇpublic enum SeasonEnum &#123; SPRING("Êò•Â§©"), SUMMER("Â§èÂ§©"), AUTUMN("ÁßãÂ§©"), WINTER("ÂÜ¨Â§©");// ËøôÊ†∑‰πç‰∏ÄÁúãÊòØ‰∏çÊòØÊúâÁÇπÂÉèÊàë‰ª¨Âπ≥Êó∂ÂàõÂª∫‰∏ÄËà¨ÂÆû‰ΩìÁ±ª‰∏ÄÊ†∑„ÄÇ// ÂÖ∂ÂÆûÊûö‰∏æÁ±ªÂûãÂèØ‰ª•ÁúãÂÅöÊàë‰ª¨Âπ≥Êó∂Êñ∞Âª∫.classÂ∑Æ‰∏çÂ§öÔºå// Âè™ÊòØÊûö‰∏æÁ±ªÈôêÂà∂‰∫ÜÊ≠§Á±ªÁöÑÂÆû‰æãÂØπË±°// ÂΩìÁÑ∂ÔºåÊûö‰∏æÁ±ªÂèØ‰ª•ÊúâËá™Â∑±ÁöÑÊàêÂëòÂèòÈáèÂíåÊñπÊ≥ï„ÄÇ// ‰∏äÈù¢ÁöÑSeasonEnum Êûö‰∏æÁ±ªÊúâ‰∫ÜchineseËøô‰∏™ÊàêÂëòÂèòÈáèÔºå// ÊâÄ‰ª•Êàë‰ª¨Âú®ÂÆö‰πâÂÆû‰æãÂØπË±°Êó∂Â∞±Ë¶ÅÁª¥Êä§Ëøô‰∏™chineseÊàêÂëòÂèòÈáè„ÄÇ// Áé∞Âú®ÂÜçÊù•ÁúãÁúãÔºåÊàë‰ª¨ÊòØÊÄé‰πà‰ΩøÁî®Ëøô‰∏™Êûö‰∏æÁ±ªÁÆÄÂåñÊàë‰ª¨ÁöÑ‰ª£Á†Å private String chinese; SeasonEnum(String chinese) &#123; this.chinese = chinese; &#125; public String getChinese() &#123; return chinese; &#125;&#125; 123456789public class Test &#123; public static void main(String[] args) &#123; SeasonEnum spring = SeasonEnum.SPRING; System.out.println(spring.getChinese()); &#125;&#125; https://blog.csdn.net/cauchy6317/article/details/82313088 1234567891011121314151617181920212223242526272829303132333435363738394041424344public enum Weekday &#123; SUN(0),MON(1),TUS(2),WED(3),THU(4),FRI(5),SAT(6); private int value; private Weekday(int value)&#123; this.value = value; &#125; public static Weekday getNextDay(Weekday nowDay)&#123; int nextDayValue = nowDay.value; if (++nextDayValue == 7)&#123; nextDayValue =0; &#125; return getWeekdayByValue(nextDayValue); &#125;//ÈáçË¶ÅÁöÑ‰ª£Á†ÅÊÆµ public static Weekday getWeekdayByValue(int value) &#123; for (Weekday c : Weekday.values()) &#123; if (c.value == value) &#123; return c; &#125; &#125; return null; &#125;&#125;class Test2&#123; public static void main(String[] args) &#123; System.out.println("nowday ====&gt; " + Weekday.SAT); System.out.println("nowday int ====&gt; " + Weekday.SAT.ordinal()); System.out.println("nextday ====&gt; " + Weekday.getNextDay(Weekday.SAT)); // ËæìÂá∫ SUN //ËæìÂá∫Ôºö //nowday ====&gt; SAT //nowday int ====&gt; 6 //nextday ====&gt; SUN &#125;&#125; ËøôÊ†∑Â∞±ÂÆåÊàê‰∫ÜÊàë‰ª¨ÁöÑÁõÆÊ†áÔºåÂíå‰πãÂâçÁöÑ‰ª£Á†ÅÊØîËµ∑Êù•ÔºåÊúâÊ≤°ÊúâËßâÂæóÁ™ÅÁÑ∂È´òÂ§ß‰∏ä‰∫ÜËÆ∏Â§öÔºüÊ≤°ÊúâÈÇ£‰πàÂ§öÁÉ¶‰∫∫ÁöÑifelseÔºå‰∏ñÁïåÈÉΩÊ∏ÖÂáÄ‰∫Ü„ÄÇÂ•Ω‰∫ÜÔºåÁé∞Âú®‰Ω†Â§ßÊ¶ÇÁü•ÈÅì‰∏∫‰ªÄ‰πàË¶ÅÂºïÂÖ•Êûö‰∏æÁ±ª‰∫ÜÂêßÔºüÂ∞±ÊòØÂõ†‰∏∫Âú®Ê≤°ÊúâÊûö‰∏æÁ±ªÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Ë¶ÅÂÆö‰πâ‰∏Ä‰∏™ÊúâÈôêÁöÑÂ∫èÂàóÔºåÊØîÂ¶ÇÊòüÊúüÂá†ÔºåÁî∑‰∫∫Â•≥‰∫∫ÔºåÊò•Â§èÁßãÂÜ¨Ôºå‰∏ÄËà¨‰ºöÈÄöËøá‰∏äÈù¢ÈÇ£ÁßçÈùôÊÄÅÂèòÈáèÁöÑÂΩ¢ÂºèÔºå‰ΩÜÊòØ‰ΩøÁî®ÈÇ£Ê†∑ÁöÑÂΩ¢ÂºèÂ¶ÇÊûúÈúÄË¶Å‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÂäüËÉΩÔºåÈúÄË¶Å‰∫õÂæàÂ§öÂ•áÂ•áÊÄ™ÊÄ™ÁöÑ‰ª£Á†Å„ÄÇÊâÄ‰ª•ÔºåÊûö‰∏æÁ±ªÁöÑÂá∫Áé∞ÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÁÆÄÂåñËøôÁßçÊìç‰Ωú WeekdayÂèØ‰ª•Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÂíåÂèÇÊï∞„ÄÇÂèëÁé∞ÂÆÉÊúâ‰∏§‰∏™ÊñπÊ≥ïÔºövalue()ÂíåvalueOf()„ÄÇËøòÊúâÊàë‰ª¨ÂàöÂàöÂÆö‰πâÁöÑ‰∏É‰∏™ÂèòÈáè„ÄÇËøô‰∫õ‰∫ãÊûö‰∏æÂèòÈáèÁöÑÊñπÊ≥ï„ÄÇÊàë‰ª¨Êé•‰∏ãÊù•‰ºöÊºîÁ§∫Âá†‰∏™ÊØîËæÉÈáçË¶ÅÁöÑÔºö public enum Weekday { SUN,MON,TUS,WED,THU,FRI,SAT} class Test3{ public static void main(String[] args) { System.out.println(Weekday.valueOf(‚Äúmon‚Äù.toUpperCase())); //MON for (Weekday w : Weekday.values()){ System.out.println(w + &quot;.ordinal() ====&gt;&quot; +w.ordinal()); } //SUN.ordinal() ====&gt;0 //MON.ordinal() ====&gt;1 //TUS.ordinal() ====&gt;2 //WED.ordinal() ====&gt;3 //THU.ordinal() ====&gt;4 //FRI.ordinal() ====&gt;5 //SAT.ordinal() ====&gt;6 System.out.println(&quot;Weekday.MON.compareTo(Weekday.FRI) ===&gt; &quot; + Weekday.MON.compareTo(Weekday.FRI)); System.out.println(&quot;Weekday.MON.compareTo(Weekday.MON) ===&gt; &quot; + Weekday.MON.compareTo(Weekday.MON)); System.out.println(&quot;Weekday.MON.compareTo(Weekday.SUM) ===&gt; &quot; + Weekday.MON.compareTo(Weekday.SUN)); //Weekday.MON.compareTo(Weekday.FRI) ===&gt; -4 //Weekday.MON.compareTo(Weekday.MON) ===&gt; 0 //Weekday.MON.compareTo(Weekday.SUM) ===&gt; 1 System.out.println(&quot;Weekday.MON.name() ====&gt; &quot; + Weekday.MON.name()); //Weekday.MON.name() ====&gt; MON } Weekday.valueOf() ÊñπÊ≥ïÔºö ÂÆÉÁöÑ‰ΩúÁî®ÊòØ‰º†Êù•‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéÂ∞ÜÂÆÉËΩ¨Âèò‰∏∫ÂØπÂ∫îÁöÑÊûö‰∏æÂèòÈáè„ÄÇÂâçÊèêÊòØ‰Ω†‰º†ÁöÑÂ≠óÁ¨¶‰∏≤ÂíåÂÆö‰πâÊûö‰∏æÂèòÈáèÁöÑÂ≠óÁ¨¶‰∏≤‰∏ÄÊäπ‰∏ÄÊ†∑ÔºåÂå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇÂ¶ÇÊûú‰Ω†‰º†‰∫Ü‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÈÇ£‰πà‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇ Weekday.values()ÊñπÊ≥ï„ÄÇ Ëøô‰∏™ÊñπÊ≥ï‰ºöËøîÂõûÂåÖÊã¨ÊâÄÊúâÊûö‰∏æÂèòÈáèÁöÑÊï∞ÁªÑ„ÄÇÂú®ËØ•‰æã‰∏≠ÔºåËøîÂõûÁöÑÂ∞±ÊòØÂåÖÂê´‰∫Ü‰∏É‰∏™ÊòüÊúüÁöÑWeekday[]„ÄÇÂèØ‰ª•Êñπ‰æøÁöÑÁî®Êù•ÂÅöÂæ™ÁéØ„ÄÇ Êûö‰∏æÂèòÈáèÁöÑtoString()ÊñπÊ≥ï„ÄÇ ËØ•ÊñπÊ≥ïÁõ¥Êé•ËøîÂõûÊûö‰∏æÂÆö‰πâÊûö‰∏æÂèòÈáèÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊØîÂ¶ÇMONÂ∞±ËøîÂõû„Äê‚ÄùMON‚Äù„Äë„ÄÇ Â•Ω‰∫ÜÔºå‰Ω†ÂæàËÅ™ÊòéÔºå‰Ω†Â∑≤ÁªèÊéåÊè°‰∫Ü‰∏äÈù¢ÁöÑÁü•ËØÜÔºå‰Ω†ÊÉ≥ÔºåÊó¢ÁÑ∂ËÉΩËá™ÂÆö‰πâ‰∏Ä‰∏™ÂèòÈáèÔºåËÉΩ‰∏çËÉΩËá™ÂÆö‰πâ‰∏§‰∏™Âë¢Ôºü ÂΩìÁÑ∂ÂèØ‰ª•Ôºö public enum Weekday { MON(1,‚Äùmon‚Äù),TUS(2,‚Äùtus‚Äù),WED(3,‚Äùwed‚Äù),THU(4,‚Äùthu‚Äù),FRI(5,‚Äùfri‚Äù),SAT(6,‚Äùsat‚Äù),SUN(0,‚Äùsun‚Äù); private int value; private String label; private Weekday(int value,String label){ this.value = value; this.label = label; } ‰Ω†ÂèØ‰ª•ÂÆö‰πâ‰ªª‰Ωï‰Ω†ÊÉ≥Ë¶ÅÁöÑÂèòÈáè„ÄÇÂ≠¶ÂÆå‰∫ÜËøô‰∫õÔºåÂ§ßÊ¶ÇÊûö‰∏æÁ±ª‰Ω†‰πüÂ∫îËØ•ÊéåÊè°‰∫ÜÔºå‰ΩÜÊòØÔºåËøòÊúâÊ≤°ÊúâÂÖ∂‰ªñÁî®Ê≥ïÂë¢? 1234567891011121314151617181920212223242526272829303132333435363738394041 1. **package** com.think.enumeration; 2. 3. **public** **enum** Season &#123; 4. ‚Äã //JavaË¶ÅÊ±ÇÂøÖÈ°ªÂÖàÂÆö‰πâÊûö‰∏æÂÆû‰æãÔºå 5. ‚Äã SPRING(10,20), 6. ‚Äã SUMMER(20,32), 7. ‚Äã FULL(10,20), 8. ‚Äã //ËøôÂ∞±ÊòØÂìàÂ∞îÊª®ÁöÑÁúüÂÆûÂÜôÁÖß 9. ‚Äã WINTER(-40,-5);//Ê≥®ÊÑèËøô‰∏™ÂàÜÂè∑ÔºåÊØî‰∏çÂèØÂ∞ë 10. ‚Äã 11. ‚Äã **private** **double** lowTemp; 12. ‚Äã **private** **double** highTemp; 13. ‚Äã //‰∏ÄÊó¶enumÂÆö‰πâÁªìÊùüÔºåÁºñËØëÂô®Â∞±‰∏çÂÖÅËÆ∏Êàë‰ª¨ÂÜç‰ΩøÁî® 14. ‚Äã //ÂÖ∂ÊûÑÈÄ†Âô®Êù•ÂàõÂª∫‰ªª‰ΩïÂÆû‰æã‰∫ÜÔºåÊâÄ‰ª•Âç≥‰Ωø‰∏çÊòØprivate‰πüÊ≤°ÂÖ≥Á≥ª 15. ‚Äã **private** Season(**double** low,**double** high) &#123; 16. ‚Äã lowTemp = low; 17. ‚Äã highTemp = high; 18. ‚Äã &#125; 19. ‚Äã 20. ‚Äã //Ëá™ÂÆö‰πâÁöÑÊñπÊ≥ïÔºåÂ∞±ÂÉèÂú®ÊôÆÈÄöÁöÑÁ±ª‰∏≠‰∏ÄÊ†∑ 21. ‚Äã **public** **void** setLow(**double** low) &#123; 22. ‚Äã **this**.lowTemp = low; 23. ‚Äã &#125; 24. ‚Äã 25. ‚Äã //ËøòÂèØ‰ª•Ë¶ÜÁõñÁà∂Á±ª‰∏≠ÁöÑÊñπÊ≥ï 26. ‚Äã @Override 27. ‚Äã **public** String toString() &#123; 28. ‚Äã **return** "(" + lowTemp + "," + highTemp + ")"; 29. ‚Äã &#125; 30. ‚Äã 31. ‚Äã //ÁîöËá≥ËøòÂèØ‰ª•ÊúâmainÊñπÊ≥ï 32. ‚Äã **public** **static** **void** main(String[] args) &#123; 33. ‚Äã **for**(Season e : Season.values()) &#123; 34. ‚Äã **if**(e == SPRING) 35. ‚Äã e.setLow(-10); 36. ‚Äã System.out.println(e); 37. ‚Äã &#125; 38. ‚Äã &#125; 39. &#125; Êàë‰ª¨‰∏ÄÂÆöË¶ÅÊäì‰ΩèenumÁöÑÊú¨Ë¥®Ôºö ÂÆÉÊòØ‰∏ÄÁªÑÂ∏∏ÈáèÁöÑÈõÜÂêà „ÄÇÊâÄ‰ª•ÂæàÂ§öÈôêÂà∂ÈÉΩÊòØ‰∏∫‰∫ÜÁ°Æ‰øù‚ÄúÂ∏∏ÈáèÊÄß‚ÄùÔºåÊØîÂ¶ÇÂú®ÂÆö‰πâÊûö‰∏æÁ±ªÊó∂ÔºåÂøÖÈ°ªÂÖàÂÆö‰πâenumÔºåÂÆÉÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂú®ÂÆö‰πâenumÂÆû‰æãÁªìÊùüÂêéÂ∞±‰∏çËÉΩ‰ΩøÁî®„ÄÇÂá∫‰∫ÜÂõ¥ÁªïÂ∏∏ÈáèÊÄßÁöÑÈôêÂà∂‰πãÂ§ñÔºåÂÖ∂‰ªñÁöÑËØ≠Ê≥ï‰∏éÊôÆÈÄöÁ±ªÊó†ÂºÇÔºåÊàë‰ª¨ÂèØ‰ª•Ê∑ªÂä†ÊôÆÈÄöÊñπÊ≥ïÔºåÂèØ‰ª•Ë¶ÜÁõñÁà∂Á±ªÊñπÊ≥ïÁ≠â„ÄÇÂú®ÊâÄÊúâÁöÑÁâπÊÄß‰∏≠ÔºåÊúÄÂÖ∑ÁâπËâ≤ÁöÑË¶ÅÊï∞Âú®enum‰∏≠Èô§‰∫ÜÁªôenumÁ±ªÂûãÊ∑ªÂä†ÊñπÊ≥ï‰πãÂ§ñÔºåÊØè‰∏™ÂÆû‰æãËøòÂèØ‰ª•ÊúâËá™Â∑±ÁöÑÊñπÊ≥ïÔºåËøôÊ†∑ÁöÑÊñπÊ≥ïÂè´ÂÅöÂ∏∏ÈáèÁõ∏ÂÖ≥ÊñπÊ≥ïÔºöÂØπ‰∫éÂêå‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰∏çÂêåÁöÑÂÆû‰æãÂèØ‰ª•ÂÆûÁé∞Ëá™Â∑±ÁöÑË°å‰∏∫„ÄÇËøôÊ†∑ÁîöËá≥Êúâ‰∫ÜÂ§öÊÄÅÊÄß„ÄÇÂÆûÁé∞Â∏∏ÈáèÁõ∏ÂÖ≥ÁöÑÊñπÊ≥ïÊó∂ÔºåÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ÊñπÊ≥ïÂÆûÁé∞ÊàêÊäΩË±°ÊñπÊ≥ïÔºåÊØè‰∏™ÂÆû‰æãÊèê‰æõÂÖ∑‰ΩìÂÆûÁé∞Ôºõ‰πüÂèØ‰ª•ÊääÊñπÊ≥ïÂÆûÁé∞ÊàêÊôÆÈÄöÊñπÊ≥ïÔºåÊØè‰∏™ÂÆû‰æãÊ†πÊçÆÈúÄÊ±ÇÔºåÈÄâÊã©ÊòØÂê¶Ë¶ÜÁõñËØ•ÊñπÊ≥ïÔºåÁ§∫‰æãÂ¶Ç‰∏ãÔºö]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTPÂçèËÆÆ]]></title>
    <url>%2F2019%2F01%2F26%2F%E9%9D%A2%E8%AF%95%2FHTTP%2F</url>
    <content type="text"><![CDATA[1.HTTP 2 .ÁΩëÁªúÂçèËÆÆÂàÜÂ±Ç #3 HTTP ‰∏âÊ¨°Êè°Êâã 4 URI URL URN ÂåÖÊã¨URL ÂíåURN ftpÂçèËÆÆ 5 HTTP Êä•Êñá 6HttpÂÆ¢Êà∑Á´Ø CURL]]></content>
      <tags>
        <tag>Http</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊÖïËØæÁΩëJavaÊ†°ÊãõÈù¢ËØï GoogleÈù¢ËØïÂÆò‰∫≤Êéà]]></title>
    <url>%2F2019%2F01%2F26%2F%E9%9D%A2%E8%AF%95%2F%E9%9D%A2%E8%AF%95Google%2F</url>
    <content type="text"><![CDATA[Á¨¨‰∏ÄÁ´† ÁΩëÁªú]]></content>
      <tags>
        <tag>Èù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSMÊï¥Âêà]]></title>
    <url>%2F2019%2F01%2F24%2FSSM%20%2FSSM%E6%95%B4%E5%90%882%2F</url>
    <content type="text"><![CDATA[SSMÊï¥Âêà1 Spring - dao123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!-- ÈÖçÁΩÆÊï¥ÂêàmybatisËøáÁ®ã --&gt; &lt;!-- 1.ÈÖçÁΩÆÊï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÂèÇÊï∞propertiesÁöÑÂ±ûÊÄßÔºö$&#123;url&#125; --&gt; &lt;context:property-placeholder location="classpath:jdbc.properties"/&gt; &lt;!-- 2.Êï∞ÊçÆÂ∫ìËøûÊé•Ê±† --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;!-- ÈÖçÁΩÆËøûÊé•Ê±†Â±ûÊÄß --&gt; &lt;property name="driverClass" value="$&#123;jdbc.driver&#125;"/&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;"/&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;"/&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;"/&gt; &lt;!-- c3p0ËøûÊé•Ê±†ÁöÑÁßÅÊúâÂ±ûÊÄß --&gt; &lt;property name="maxPoolSize" value="30"/&gt; &lt;property name="minPoolSize" value="10"/&gt; &lt;!-- ÂÖ≥Èó≠ËøûÊé•Âêé‰∏çËá™Âä®commit --&gt; &lt;property name="autoCommitOnClose" value="false"/&gt; &lt;!-- Ëé∑ÂèñËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥ --&gt; &lt;property name="checkoutTimeout" value="10000"/&gt; &lt;!-- ÂΩìËé∑ÂèñËøûÊé•Â§±Ë¥•ÈáçËØïÊ¨°Êï∞ --&gt; &lt;property name="acquireRetryAttempts" value="2"/&gt; &lt;/bean&gt; &lt;!-- 3.ÈÖçÁΩÆSqlSessionFactoryÂØπË±° --&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;!-- Ê≥®ÂÖ•Êï∞ÊçÆÂ∫ìËøûÊé•Ê±† --&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;!-- ÈÖçÁΩÆMyBatiesÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂:mybatis-config.xml --&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml"/&gt; &lt;!-- Êâ´ÊèèentityÂåÖ ‰ΩøÁî®Âà´Âêç --&gt; &lt;property name="typeAliasesPackage" value="o2o.entity"/&gt; &lt;!-- Êâ´ÊèèsqlÈÖçÁΩÆÊñá‰ª∂:mapperÈúÄË¶ÅÁöÑxmlÊñá‰ª∂ --&gt; &lt;property name="mapperLocations" value="classpath:mapper/*.xml"/&gt; &lt;/bean&gt; &lt;!-- 4.ÈÖçÁΩÆÊâ´ÊèèDaoÊé•Âè£ÂåÖÔºåÂä®ÊÄÅÂÆûÁé∞DaoÊé•Âè£ÔºåÊ≥®ÂÖ•Âà∞springÂÆπÂô®‰∏≠ --&gt; &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;!-- Ê≥®ÂÖ•sqlSessionFactory --&gt; &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"/&gt; &lt;!-- ÁªôÂá∫ÈúÄË¶ÅÊâ´ÊèèDaoÊé•Âè£ÂåÖ --&gt; &lt;property name="basePackage" value="o2o.dao"/&gt; &lt;/bean&gt;&lt;/beans&gt; 2 Spring -service123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;!-- Êâ´ÊèèserviceÂåÖ‰∏ãÊâÄÊúâ‰ΩøÁî®Ê≥®Ëß£ÁöÑÁ±ªÂûã --&gt; &lt;context:component-scan base-package="o2o.service" /&gt; &lt;!-- ÈÖçÁΩÆ‰∫ãÂä°ÁÆ°ÁêÜÂô® --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;!-- Ê≥®ÂÖ•Êï∞ÊçÆÂ∫ìËøûÊé•Ê±† --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;/bean&gt; &lt;!-- ÈÖçÁΩÆÂü∫‰∫éÊ≥®Ëß£ÁöÑÂ£∞ÊòéÂºè‰∫ãÂä° --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;&lt;/beans&gt; 3 Spring-web123456789101112131415161718192021222324252627282930313233343536&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd"&gt; &lt;!-- ÈÖçÁΩÆSpringMVC --&gt; &lt;!-- 1.ÂºÄÂêØSpringMVCÊ≥®Ëß£Ê®°Âºè --&gt; &lt;!-- ÁÆÄÂåñÈÖçÁΩÆÔºö (1)Ëá™Âä®Ê≥®ÂÜåDefaultAnootationHandlerMapping,AnotationMethodHandlerAdapter (2)Êèê‰æõ‰∏Ä‰∫õÂàóÔºöÊï∞ÊçÆÁªëÂÆöÔºåÊï∞Â≠óÂíåÊó•ÊúüÁöÑformat @NumberFormat, @DateTimeFormat, xml,jsonÈªòËÆ§ËØªÂÜôÊîØÊåÅ --&gt; &lt;mvc:annotation-driven /&gt; &lt;!-- 2.ÈùôÊÄÅËµÑÊ∫êÈªòËÆ§servletÈÖçÁΩÆ (1)Âä†ÂÖ•ÂØπÈùôÊÄÅËµÑÊ∫êÁöÑÂ§ÑÁêÜÔºöjs,gif,png (2)ÂÖÅËÆ∏‰ΩøÁî®"/"ÂÅöÊï¥‰ΩìÊò†Â∞Ñ --&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- 3.ÈÖçÁΩÆjsp ÊòæÁ§∫ViewResolver --&gt; &lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="viewClass" value="org.springframework.web.servlet.view.JstlView" /&gt; &lt;property name="prefix" value="/WEB-INF/jsp/" /&gt; &lt;property name="suffix" value=".jsp" /&gt; &lt;/bean&gt; &lt;!-- 4.Êâ´ÊèèwebÁõ∏ÂÖ≥ÁöÑbean --&gt; &lt;context:component-scan base-package="o2o.web" /&gt;&lt;!--controllerÂ±Ç web--&gt;&lt;/beans&gt; 4 myhbatis-config1234567891011121314151617&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;!-- ÈÖçÁΩÆÂÖ®Â±ÄÂ±ûÊÄß --&gt; &lt;settings&gt; &lt;!-- ‰ΩøÁî®jdbcÁöÑgetGeneratedKeysËé∑ÂèñÊï∞ÊçÆÂ∫ìËá™Â¢û‰∏ªÈîÆÂÄº --&gt; &lt;setting name="useGeneratedKeys" value="true" /&gt; &lt;!-- ‰ΩøÁî®ÂàóÊ†áÁ≠æÊõøÊç¢Âà´Âêç ÈªòËÆ§:true --&gt; &lt;setting name="useColumnLabel" value="true" /&gt; &lt;!-- ÂºÄÂêØÈ©ºÂ≥∞ÂëΩÂêçËΩ¨Êç¢:Table&#123;create_time&#125; -&gt; Entity&#123;createTime&#125; --&gt; &lt;setting name="mapUnderscoreToCamelCase" value="true" /&gt; &lt;/settings&gt;&lt;/configuration&gt; 5 web.xml123456789101112131415161718192021222324&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1" metadata-complete="true"&gt; &lt;!-- Â¶ÇÊûúÊòØÁî®mvnÂëΩ‰ª§ÁîüÊàêÁöÑxmlÔºåÈúÄË¶Å‰øÆÊîπservletÁâàÊú¨‰∏∫3.1 --&gt; &lt;!-- ÈÖçÁΩÆDispatcherServlet --&gt; &lt;servlet&gt; &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- ÈÖçÁΩÆspringMVCÈúÄË¶ÅÂä†ËΩΩÁöÑÈÖçÁΩÆÊñá‰ª∂ spring-dao.xml,spring-service.xml,spring-web.xml Mybatis - &gt; spring -&gt; springmvc --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/spring-*.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt; &lt;!-- ÈªòËÆ§ÂåπÈÖçÊâÄÊúâÁöÑËØ∑Ê±Ç --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; 6 jdbc.properties1234jdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/o2o?useUnicode=true&amp;characterEncoding=utf8jdbc.username=rootjdbc.password=YHP836143 7 LogbackÊó•ÂøóÈÖçÁΩÆ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;&lt;configuration debug="false"&gt; &lt;appender name="INFO-FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/info/info.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/info/info.%d&#123;yyyy-MM-dd&#125;.%i.log.zip&lt;/fileNamePattern&gt; &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt; &lt;maxFileSize&gt;1024MB&lt;/maxFileSize&gt; &lt;/timeBasedFileNamingAndTriggeringPolicy&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - %msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name="ACCESS-FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt; $&#123;catalina.base&#125;/webapps/myo2o/logs/access/access.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;FileNamePattern&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/access/access.%d&#123;yyyy-MM-dd&#125;.%i.log.zip&lt;/FileNamePattern&gt; &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt; &lt;maxFileSize&gt;1024MB&lt;/maxFileSize&gt; &lt;/timeBasedFileNamingAndTriggeringPolicy&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - %msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;logger name="com.imooc.myo2o" level="DEBUG" additivity="false"&gt; &lt;appender-ref ref="ACCESS-FILE" /&gt; &lt;/logger&gt; &lt;root level="INFO"&gt; &lt;appender-ref ref="INFO-FILE" /&gt; &lt;/root&gt;&lt;/configuration&gt; &lt;!--======================================================--&gt;&lt;!--&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;--&gt;&lt;!--&lt;configuration debug="false" scan="true" scanPeriod="50 seconds"&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;ÂÆö‰πâÂèÇÊï∞Â∏∏Èáè&amp;ndash;&amp;gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;TRACE&lt;DEBUG&lt;INFO&lt;WARN&lt;ERROR&amp;ndash;&amp;gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;logger.info("msg") logger.debug("msg") logger.error("msg")&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;property name="log.level" value="debug"&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&lt;property name="log.maxHistory" value="30"&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&lt;property name="log.filePath" value="$&#123;catalina.base&#125;/logs/webapps"&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&lt;property name="log.pattern" value="%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - --&gt; &lt;!--%msg%n"&gt;--&gt; &lt;!--&lt;/property&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;ÊéßÂà∂Âè∞ËÆæÁΩÆ&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;appender name="consoleApperder" class="ch.qos.logback.core.ConsoleAppender"&gt;--&gt; &lt;!--&lt;encoder&gt;--&gt; &lt;!--&lt;pattern&gt;$&#123;log.pattern&#125;&lt;/pattern&gt;--&gt; &lt;!--&lt;/encoder&gt;--&gt; &lt;!--&lt;/appender&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;Debug&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;appender name="debugAppender" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;Êñá‰ª∂Ë∑ØÂæÑ&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;file&gt;--&gt; &lt;!--$&#123;log.filePath&#125;/debug.log--&gt; &lt;!--&lt;/file&gt;--&gt; &lt;!--&lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt;--&gt; &lt;!--&amp;lt;!&amp;ndash;Êñá‰ª∂ÂêçÁß∞&amp;ndash;&amp;gt;--&gt; &lt;!--&lt;fileNamePattern&gt;--&gt; &lt;!--&lt;/fileNamePattern&gt;--&gt; &lt;!--&lt;MaxHistory&gt;--&gt; &lt;!----&gt; &lt;!--&lt;/MaxHistory&gt;--&gt; &lt;!--&lt;/rollingPolicy&gt;--&gt; &lt;!--&lt;/appender&gt;--&gt;&lt;!--&lt;/configuration&gt;--&gt; 8 Êó•ÂøóÊñá‰ª∂ 9 pom Êñá‰ª∂123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to you under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICEccNSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.--&gt;&lt;!-- $Id: pom.xml 642118 2008-03-28 08:04:16Z reinhard $ --&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;o2o&lt;/name&gt; &lt;groupId&gt;com.imooc.o2o&lt;/groupId&gt; &lt;artifactId&gt;o2o&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;properties&gt; &lt;spring.version&gt;4.3.7.RELEASE&lt;/spring.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- ÂçïÂÖÉÊµãËØï --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 1.Êó•Âøó --&gt; &lt;!-- ÂÆûÁé∞slf4jÊé•Âè£Âπ∂Êï¥Âêà --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2.Êï∞ÊçÆÂ∫ì --&gt; &lt;!--&lt;dependency&gt;--&gt; &lt;!--&lt;groupId&gt;mysql&lt;/groupId&gt;--&gt; &lt;!--&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt; &lt;!--&lt;version&gt;5.1.37&lt;/version&gt;--&gt; &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt; &lt;!--&lt;/dependency&gt;--&gt; &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.14&lt;/version&gt; &lt;/dependency&gt; &lt;!--&lt;dependency&gt;--&gt; &lt;!--&lt;groupId&gt;c3p0&lt;/groupId&gt;--&gt; &lt;!--&lt;artifactId&gt;c3p0&lt;/artifactId&gt;--&gt; &lt;!--&lt;version&gt;0.9.1.2&lt;/version&gt;--&gt; &lt;!--&lt;/dependency&gt;--&gt; &lt;!-- https://mvnrepository.com/artifact/com.mchange/c3p0 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- DAO: MyBatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3.Servlet web --&gt; &lt;dependency&gt; &lt;groupId&gt;taglibs&lt;/groupId&gt; &lt;artifactId&gt;standard&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;jstl&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4.Spring --&gt; &lt;!-- 1)SpringÊ†∏ÂøÉ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2)Spring DAOÂ±Ç --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3)Spring web --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4)Spring test --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MapÂ∑•ÂÖ∑Á±ª --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt; &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt; &lt;version&gt;6.1.7&lt;/version&gt; &lt;configuration&gt; &lt;connectors&gt; &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt; &lt;port&gt;8888&lt;/port&gt; &lt;maxIdleTime&gt;30000&lt;/maxIdleTime&gt; &lt;/connector&gt; &lt;/connectors&gt; &lt;webAppSourceDirectory&gt;$&#123;project.build.directory&#125;/$&#123;pom.artifactId&#125;-$&#123;pom.version&#125; &lt;/webAppSourceDirectory&gt; &lt;contextPath&gt;/&lt;/contextPath&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 10 È™åËØÅDAO12345678/*ÈÖçÁΩÆSpringÂíåJunitÊï¥Âêà JunitÂêØÂä®Êó∂Âä†ËΩΩSpringIOCÂÆπÂô® */@RunWith(SpringJUnit4ClassRunner.class)//ÂëäËØâJunit SpringÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩçÁΩÆ@ContextConfiguration(&#123;"classpath:spring/spring-dao.xml"&#125;)public class BaseTest &#123;&#125; 12345678910public class TbAreaMapperTest extends BaseTest &#123; @Autowired private TbAreaMapper tbAreaMapper; @Test public void testQueryArea() &#123; List&lt;TbArea&gt; tbAreas = tbAreaMapper.queryArea(); System.err.println(tbAreas); &#125;&#125; 11 È™åËØÅService12345678910public class TbAreaServiceTest extends BaseTest &#123; @Autowired private AreaService areaService; @Test public void testGetAreaList() &#123; List&lt;TbArea&gt; areaList = areaService.getAreaList(); System.out.println(areaList); &#125;&#125; 12È™åËØÅController123456789101112131415161718192021@Controller@RequestMapping("/superadmin")public class AreaController &#123; @Autowired private AreaService areaService; @RequestMapping(value = "/listArea", method = RequestMethod.GET) @ResponseBody private Map&lt;String, Object&gt; listArea() &#123; Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(); try &#123; List&lt;TbArea&gt; areaList = areaService.getAreaList(); map.put("rows", areaList); map.put("total", areaList.size()); &#125; catch (Exception e) &#123; e.printStackTrace(); map.put("success", false); map.put("errMsg", e.toString()); &#125; return map; &#125; Ê≥®ÊÑè‚ö†Ô∏èMysql8.0.14 Â∞ÜpomÊñá‰ª∂Êç¢ÊàêÊúÄÈ´òÁâàÊú¨ÁöÑ Ë¶Å‰∏çÁÑ∂‰ºöËøûÊé•Â§±Ë¥• 12345&lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.2&lt;/version&gt;&lt;/dependency&gt; 12345&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.14&lt;/version&gt;&lt;/dependency&gt;]]></content>
      <tags>
        <tag>SSM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GunsÂÆûÊàò]]></title>
    <url>%2F2019%2F01%2F24%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2FGuns%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[MongoDB]]></title>
    <url>%2F2019%2F01%2F18%2FMongoDB%2FMongoDB%2F</url>
    <content type="text"><![CDATA[1.ÂÆâË£Ö‰∏éÁÆÄ‰ªã 1sudo mkdir -p /data/db ‰ΩøÁî® brew ÂÆâË£ÖÊ≠§Â§ñ‰Ω†ËøòÂèØ‰ª•‰ΩøÁî® OSX ÁöÑ brew Êù•ÂÆâË£Ö mongodbÔºö 1sudo brew install mongodb Â¶ÇÊûúË¶ÅÂÆâË£ÖÊîØÊåÅ TLS/SSL ÂëΩ‰ª§Â¶Ç‰∏ãÔºö 1sudo brew install mongodb --with-openssl ÂÆâË£ÖÊúÄÊñ∞ÂºÄÂèëÁâàÊú¨Ôºö 1sudo brew install mongodb --devel ËøêË°å MongoDB1„ÄÅÈ¶ñÂÖàÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂ≠òÂÇ®ÁõÆÂΩï /data/dbÔºö 1sudo mkdir -p /data/db ÂêØÂä® mongodbÔºåÈªòËÆ§Êï∞ÊçÆÂ∫ìÁõÆÂΩïÂç≥‰∏∫ /data/dbÔºö 12345sudo mongod# Â¶ÇÊûúÊ≤°ÊúâÂàõÂª∫ÂÖ®Â±ÄË∑ØÂæÑ PATHÔºåÈúÄË¶ÅËøõÂÖ•‰ª•‰∏ãÁõÆÂΩïcd /usr/local/mongodb/binsudo ./mongod ÂÜçÊâìÂºÄ‰∏Ä‰∏™ÁªàÁ´ØËøõÂÖ•ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö 12345678910$ cd /usr/local/(Cellar)/mongodb/bin $ ./mongoMongoDB shell version v3.4.2connecting to: mongodb://127.0.0.1:27017MongoDB server version: 3.4.2Welcome to the MongoDB shell.‚Ä¶‚Ä¶&gt; 1 + 12&gt; 1.ÂêØÂä®mongodb Mongodb ÈÖçÁΩÆÊñá‰ª∂Ë∑ØÂæÑ 2 Âü∫Êú¨‰ΩøÁî® 3ÊñáÊ°£‰πãÈó¥ÁöÑÂÖ≥Á≥ª ‰∏ÄÂØπ‰∏Ä ‰∏ÄÂØπÂ§ö „ÄêÈáçË¶Å„Äë 4 sort ÂíåÊäïÂΩ± 5 Mongoose Node.js ‰øÆÊîπÊñáÊ°£12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061/* ‰øÆÊîπ db.collection.update(Êü•ËØ¢Êù°‰ª∂,Êñ∞ÂØπË±°) - update()ÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ºö‰ΩøÁî®Êñ∞ÂØπË±°Êù•ÊõøÊç¢ÊóßÁöÑÂØπË±° - Â¶ÇÊûúÈúÄË¶Å‰øÆÊîπÊåáÂÆöÁöÑÂ±ûÊÄßÔºåËÄå‰∏çÊòØÊõøÊç¢ÈúÄË¶Å‰ΩøÁî®‚Äú‰øÆÊîπÊìç‰ΩúÁ¨¶‚ÄùÊù•ÂÆåÊàê‰øÆÊîπ $set ÂèØ‰ª•Áî®Êù•‰øÆÊîπÊñáÊ°£‰∏≠ÁöÑÊåáÂÆöÂ±ûÊÄß $unset ÂèØ‰ª•Áî®Êù•Âà†Èô§ÊñáÊ°£ÁöÑÊåáÂÆöÂ±ûÊÄß - update()ÈªòËÆ§Âè™‰ºö‰øÆÊîπ‰∏Ä‰∏™ db.collection.updateMany() - ÂêåÊó∂‰øÆÊîπÂ§ö‰∏™Á¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£ db.collection.updateOne() - ‰øÆÊîπ‰∏Ä‰∏™Á¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£ db.collection.replaceOne() - ÊõøÊç¢‰∏Ä‰∏™ÊñáÊ°£*/db.stus.find(&#123;&#125;);//ÊõøÊç¢db.stus.update(&#123;name:"Ê≤ôÂíåÂ∞ö"&#125;,&#123;age:28&#125;);db.stus.update( &#123;"_id" : ObjectId("59c219689410bc1dbecc0709")&#125;, &#123;$set:&#123; gender:"Áî∑", address:"ÊµÅÊ≤ôÊ≤≥" &#125;&#125; )db.stus.update( &#123;"_id" : ObjectId("59c219689410bc1dbecc0709")&#125;, &#123;$unset:&#123; address:1 &#125;&#125; )db.stus.updateMany( &#123;"name" : "Áå™ÂÖ´Êàí"&#125;, &#123; $set:&#123; address:"Áå™ËÄÅÂ∫Ñ" &#125; &#125; ); db.stus.update( &#123;"name" : "Áå™ÂÖ´Êàí"&#125;, &#123; $set:&#123; address:"ÂëµÂëµÂëµ" &#125; &#125; , &#123; multi:true &#125; )db.stus.find() Âà†Èô§ÊñáÊ°£123456789101112131415161718192021222324252627282930313233/* db.collection.remove() - Âà†Èô§‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÔºåÂèØ‰ª•Á¨¨‰∫å‰∏™ÂèÇÊï∞‰º†ÈÄí‰∏Ä‰∏™trueÔºåÂàôÂè™‰ºöÂà†Èô§‰∏Ä‰∏™ - Â¶ÇÊûú‰º†ÈÄí‰∏Ä‰∏™Á©∫ÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂàô‰ºöÂà†Èô§ÊâÄÊúâÁöÑ db.collection.deleteOne() db.collection.deleteMany() db.collection.drop() Âà†Èô§ÈõÜÂêà db.dropDatabase() Âà†Èô§Êï∞ÊçÆÂ∫ì - ‰∏ÄËà¨Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÈÉΩ‰∏ç‰ºöÂà†Èô§ÔºåÊâÄ‰ª•Âà†Èô§ÁöÑÊñπÊ≥ïÂæàÂ∞ëË∞ÉÁî® ‰∏ÄËà¨‰ºöÂú®Êï∞ÊçÆ‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Â≠óÊÆµÔºåÊù•Ë°®Á§∫Êï∞ÊçÆÊòØÂê¶Ë¢´Âà†Èô§*/ db.stus.insert([ &#123; name:"zbj", isDel:0 &#125;, &#123; name:"shs", isDel:0 &#125;, &#123; name:"ts", isDel:0 &#125;]);db.stus.updateOne(&#123;name:"ts"&#125;,&#123;$set:&#123;isDel:1&#125;&#125;); db.stus.find(&#123;isDel:0&#125;) ÊèíÂÖ•ÊñáÊ°£1234567891011121314151617181920212223242526/* ÂêëÊï∞ÊçÆÂ∫ìÊèíÂÖ•ÊñáÊ°£ db.&lt;collection&gt;.insert() - ÂêëÈõÜÂêà‰∏≠ÊèíÂÖ•‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊñáÊ°£ - ÂΩìÊàë‰ª¨ÂêëÈõÜÂêà‰∏≠ÊèíÂÖ•ÊñáÊ°£Êó∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÁªôÊñáÊ°£ÊåáÂÆö_idÂ±ûÊÄßÔºåÂàôÊï∞ÊçÆÂ∫ì‰ºöËá™Âä®‰∏∫ÊñáÊ°£Ê∑ªÂä†_id ËØ•Â±ûÊÄßÁî®Êù•‰Ωú‰∏∫ÊñáÊ°£ÁöÑÂîØ‰∏ÄÊ†áËØÜ - _idÊàë‰ª¨ÂèØ‰ª•Ëá™Â∑±ÊåáÂÆöÔºåÂ¶ÇÊûúÊàë‰ª¨ÊåáÂÆö‰∫ÜÊï∞ÊçÆÂ∫ìÂ∞±‰∏ç‰ºöÂú®Ê∑ªÂä†‰∫ÜÔºåÂ¶ÇÊûúËá™Â∑±ÊåáÂÆö_id ‰πüÂøÖÈ°ªÁ°Æ‰øùÂÆÉÁöÑÂîØ‰∏ÄÊÄß db.collection.insertOne() - ÊèíÂÖ•‰∏Ä‰∏™ÊñáÊ°£ÂØπË±° db.collection.insertMany() - ÊèíÂÖ•Â§ö‰∏™ÊñáÊ°£ÂØπË±°*/db.stus.insert(&#123;name:"Áå™ÂÖ´Êàí",age:28,gender:"Áî∑"&#125;);db.stus.insert([ &#123;name:"Ê≤ôÂíåÂ∞ö",age:38,gender:"Áî∑"&#125;, &#123;name:"ÁôΩÈ™®Á≤æ",age:16,gender:"Â•≥"&#125;, &#123;name:"ËúòËõõÁ≤æ",age:14,gender:"Â•≥"&#125;]);db.stus.insert(&#123;_id:"hello",name:"Áå™ÂÖ´Êàí",age:28,gender:"Áî∑"&#125;);db.stus.find();ObjectId() ÊñáÊ°£Êü•ËØ¢12345678910111213141516171819202122/* Êü•ËØ¢ db.collection.find() - find()Áî®Êù•Êü•ËØ¢ÈõÜÂêà‰∏≠ÊâÄÊúâÁ¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£ - find()ÂèØ‰ª•Êé•Êî∂‰∏Ä‰∏™ÂØπË±°‰Ωú‰∏∫Êù°‰ª∂ÂèÇÊï∞ &#123;&#125; Ë°®Á§∫Êü•ËØ¢ÈõÜÂêà‰∏≠ÊâÄÊúâÁöÑÊñáÊ°£ &#123;Â±ûÊÄß:ÂÄº&#125; Êü•ËØ¢Â±ûÊÄßÊòØÊåáÂÆöÂÄºÁöÑÊñáÊ°£ - find()ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Êï∞ÁªÑ db.collection.findOne() - Áî®Êù•Êü•ËØ¢ÈõÜÂêà‰∏≠Á¨¶ÂêàÊù°‰ª∂ÁöÑÁ¨¨‰∏Ä‰∏™ÊñáÊ°£ - findOne()ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÊñáÊ°£ÂØπË±° db.collection.find(&#123;&#125;).count() - Êü•ËØ¢ÊâÄÊúâÁªìÊûúÁöÑÊï∞Èáè*/db.stus.find(&#123;_id:"hello"&#125;);db.stus.find(&#123;age:16 , name:"ÁôΩÈ™®Á≤æ"&#125;);db.stus.find(&#123;age:28&#125;);db.stus.findOne(&#123;age:28&#125;);db.stus.find(&#123;&#125;).count(); Á¨îËÆ∞MongoDB - MongoDBÊòØ‰∏Ä‰∏™NoSQLÁöÑÊï∞ÊçÆÂ∫ì - MongoDBÊòØ‰∏ÄÊ¨æÊñáÊ°£ÂûãÊï∞ÊçÆÂ∫ì - Êï∞ÊçÆÂ∫ìÊåáÁöÑÂ∞±ÊòØ‰∏Ä‰∏™Â≠òÂÇ®Êï∞ÊçÆÁöÑ‰ªìÂ∫ì Êï∞ÊçÆÂ∫ìÂèØ‰ª•‰ΩøÊàë‰ª¨ÂÆåÊàêÂØπÊï∞ÊçÆÁöÑÊåÅ‰πÖÂåñÁöÑÊìç‰Ωú - MongoDBÊï∞ÊçÆÂ∫ì‰∏≠Â≠òÂÇ®ÁöÑÊï∞ÊçÆÁöÑÂü∫Êú¨Âçï‰ΩçÂ∞±ÊòØÊñáÊ°£Ôºå MongoDB‰∏≠Â≠òÂÇ®ÁöÑÂ∞±ÊòØÊñáÊ°£ÔºåÊâÄË∞ìÊñáÊ°£ÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™‚ÄúJSON‚Äù - MongoDB‰∏≠ÁöÑ‚ÄúJSON‚ÄùÊàë‰ª¨Áß∞‰∏∫BSONÔºåÊØîÊôÆÈÄöÁöÑJSONÁöÑÂäüËÉΩË¶ÅÊõ¥Âä†ÁöÑÂº∫Â§ß - MongoDBÊï∞ÊçÆÂ∫ì‰ΩøÁî®ÁöÑÊòØJavaScriptËøõË°åÊìç‰ΩúÁöÑÔºåÂú®MongoDBÂê´Êúâ‰∏Ä‰∏™ÂØπESÊ†áÂáÜÂÆûÁé∞ÁöÑÂºïÊìéÔºå Âú®MongoDB‰∏≠ÊâÄÊúâES‰∏≠ÁöÑËØ≠Ê≥ï‰∏≠ÈÉΩÂèØ‰ª•‰ΩøÁî® - MongoDBÁöÑÂü∫Êú¨ÁöÑÊåá‰ª§ - ÂêØÂä®ÊúçÂä°Âô® mongod --dbpath Ë∑ØÂæÑ --port Á´ØÂè£Âè∑ - ÂêØÂä®ÂÆ¢Êà∑Á´Ø mongo - MongoDBÁöÑCRUDÁöÑÊìç‰Ωú - Âü∫Êú¨Êìç‰Ωú use Êï∞ÊçÆÂ∫ì - ËøõÂÖ•ÊåáÂÆöÁöÑÊï∞ÊçÆÂ∫ì show dbs - ÊòæÁ§∫ÊâÄÊúâÁöÑÊï∞ÊçÆÂ∫ì show collections - ÊòæÁ§∫Êï∞ÊçÆÂ∫ì‰∏≠ÊâÄÊúâÁöÑÈõÜÂêà db - ÊòæÁ§∫ÂΩìÂâçÊâÄÂú®ÁöÑÊï∞ÊçÆÂ∫ì - ÂêëÊï∞ÊçÆÂ∫ì‰∏≠ÊèíÂÖ•ÊñáÊ°£ - db.collection.insert() - insert()ÂèØ‰ª•ÂêëÈõÜÂêà‰∏≠ÊèíÂÖ•‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊñáÊ°£ - db.collection.insertOne() - ÂêëÈõÜÂêà‰∏≠ÊèíÂÖ•‰∏Ä‰∏™ÊñáÊ°£ - db.collection.insertMany() - ÂêëÈõÜÂêà‰∏≠ÊèíÂÖ•Â§ö‰∏™ÊñáÊ°£ - Êü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊñáÊ°£ - db.collection.find() - ÂèØ‰ª•Ê†πÊçÆÊåáÂÆöÊù°‰ª∂‰ªéÈõÜÂêà‰∏≠Êü•ËØ¢ÊâÄÊúâÁ¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£ - ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Êï∞ÁªÑ - db.collection.findOne() - Êü•ËØ¢Á¨¨‰∏Ä‰∏™Á¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£ - ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÂØπË±° - db.collection.find().count() - Êü•ËØ¢Á¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£ÁöÑÊï∞Èáè - ‰øÆÊîπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊñáÊ°£ - db.collection.update() - ÂèØ‰ª•‰øÆÊîπ„ÄÅÊõøÊç¢ÈõÜÂêà‰∏≠ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊñáÊ°£ - db.collection.updateOne() - ‰øÆÊîπÈõÜÂêà‰∏≠ÁöÑ‰∏Ä‰∏™ÊñáÊ°£ - db.collection.updateMany() - ‰øÆÊîπÈõÜÂêà‰∏≠ÁöÑÂ§ö‰∏™ÊñáÊ°£ - db.collection.replaceOne() - ÊõøÊç¢ÈõÜÂêà‰∏≠ÁöÑ‰∏Ä‰∏™ÊñáÊ°£ - Âà†Èô§ÈõÜÂêà‰∏≠ÁöÑÊñáÊ°£ - db.collection.remove() - Âà†Èô§ÈõÜÂêà‰∏≠ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊñáÊ°£ÔºàÈªòËÆ§Âà†Èô§Â§ö‰∏™Ôºâ - db.collection.deleteOne() - Âà†Èô§ÈõÜÂêà‰∏≠ÁöÑ‰∏Ä‰∏™ÊñáÊ°£ - db.collection.deleteMany() - Âà†Èô§ÈõÜÂêà‰∏≠ÁöÑÂ§ö‰∏™ÊñáÊ°£ - Ê∏ÖÁ©∫‰∏Ä‰∏™ÈõÜÂêà db.collection.remove({}) - Âà†Èô§‰∏Ä‰∏™ÈõÜÂêà db.collection.drop() - Âà†Èô§‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì db.dropDatabase() ÁªÉ‰π†11234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283//1.ËøõÂÖ•my_testÊï∞ÊçÆÂ∫ìuse my_test//2.ÂêëÊï∞ÊçÆÂ∫ìÁöÑuserÈõÜÂêà‰∏≠ÊèíÂÖ•‰∏Ä‰∏™ÊñáÊ°£ db.users.insert(&#123; username:"sunwukong"&#125;);//3.Êü•ËØ¢userÈõÜÂêà‰∏≠ÁöÑÊñáÊ°£db.users.find();//4.ÂêëÊï∞ÊçÆÂ∫ìÁöÑuserÈõÜÂêà‰∏≠ÊèíÂÖ•‰∏Ä‰∏™ÊñáÊ°£ db.users.insert(&#123; username:"zhubajie"&#125;); //5.Êü•ËØ¢Êï∞ÊçÆÂ∫ìuserÈõÜÂêà‰∏≠ÁöÑÊñáÊ°£db.users.find();//6.ÁªüËÆ°Êï∞ÊçÆÂ∫ìuserÈõÜÂêà‰∏≠ÁöÑÊñáÊ°£Êï∞Èáèdb.users.find().count();//7.Êü•ËØ¢Êï∞ÊçÆÂ∫ìuserÈõÜÂêà‰∏≠username‰∏∫sunwukongÁöÑÊñáÊ°£db.users.find(&#123;username:"sunwukong"&#125;);//8.ÂêëÊï∞ÊçÆÂ∫ìuserÈõÜÂêà‰∏≠ÁöÑusername‰∏∫sunwukongÁöÑÊñáÊ°£ÔºåÊ∑ªÂä†‰∏Ä‰∏™addressÂ±ûÊÄßÔºåÂ±ûÊÄßÂÄº‰∏∫huaguoshandb.users.update(&#123;username:"sunwukong"&#125;,&#123;$set:&#123;address:"huaguoshan"&#125;&#125;);//9.‰ΩøÁî®&#123;username:"tangseng"&#125; ÊõøÊç¢ username ‰∏∫ zhubajieÁöÑÊñáÊ°£db.users.replaceOne(&#123;username:"zhubajie"&#125;,&#123;username:"tangseng"&#125;); //10.Âà†Èô§username‰∏∫sunwukongÁöÑÊñáÊ°£ÁöÑaddressÂ±ûÊÄßdb.users.update(&#123;username:"sunwukong"&#125;,&#123;$unset:&#123;address:1&#125;&#125;);//11.Âêëusername‰∏∫sunwukongÁöÑÊñáÊ°£‰∏≠ÔºåÊ∑ªÂä†‰∏Ä‰∏™hobby:&#123;cities:["beijing","shanghai","shenzhen"] , movies:["sanguo","hero"]&#125;//MongoDBÁöÑÊñáÊ°£ÁöÑÂ±ûÊÄßÂÄº‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÊñáÊ°£ÔºåÂΩì‰∏Ä‰∏™ÊñáÊ°£ÁöÑÂ±ûÊÄßÂÄºÊòØ‰∏Ä‰∏™ÊñáÊ°£Êó∂ÔºåÊàë‰ª¨Áß∞Ëøô‰∏™ÊñáÊ°£Âè´ÂÅö ÂÜÖÂµåÊñáÊ°£db.users.update(&#123;username:"sunwukong"&#125;,&#123;$set:&#123;hobby:&#123;cities:["beijing","shanghai","shenzhen"] , movies:["sanguo","hero"]&#125;&#125;&#125;);db.users.find();//12.Âêëusername‰∏∫tangsengÁöÑÊñáÊ°£‰∏≠ÔºåÊ∑ªÂä†‰∏Ä‰∏™hobby:&#123;movies:["A Chinese Odyssey","King of comedy"]&#125;db.users.update(&#123;username:"tangseng"&#125;,&#123;$set:&#123;hobby:&#123;movies:["A Chinese Odyssey","King of comedy"]&#125;&#125;&#125;)//13.Êü•ËØ¢ÂñúÊ¨¢ÁîµÂΩ±heroÁöÑÊñáÊ°£//MongoDBÊîØÊåÅÁõ¥Êé•ÈÄöËøáÂÜÖÂµåÊñáÊ°£ÁöÑÂ±ûÊÄßËøõË°åÊü•ËØ¢ÔºåÂ¶ÇÊûúË¶ÅÊü•ËØ¢ÂÜÖÂµåÊñáÊ°£ÂàôÂèØ‰ª•ÈÄöËøá.ÁöÑÂΩ¢ÂºèÊù•ÂåπÈÖç//Â¶ÇÊûúË¶ÅÈÄöËøáÂÜÖÂµåÊñáÊ°£Êù•ÂØπÊñáÊ°£ËøõË°åÊü•ËØ¢ÔºåÊ≠§Êó∂Â±ûÊÄßÂêçÂøÖÈ°ª‰ΩøÁî®ÂºïÂè∑ db.users.find(&#123;'hobby.movies':"hero"&#125;);//14.Âêëtangseng‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÁîµÂΩ±Interstellar//$push Áî®‰∫éÂêëÊï∞ÁªÑ‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†//$addToSet ÂêëÊï∞ÁªÑ‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÂÖÉÁ¥† Ôºå Â¶ÇÊûúÊï∞ÁªÑ‰∏≠Â∑≤ÁªèÂ≠òÂú®‰∫ÜËØ•ÂÖÉÁ¥†ÔºåÂàô‰∏ç‰ºöÊ∑ªÂä†db.users.update(&#123;username:"tangseng"&#125;,&#123;$push:&#123;"hobby.movies":"Interstellar"&#125;&#125;);db.users.update(&#123;username:"tangseng"&#125;,&#123;$addToSet:&#123;"hobby.movies":"Interstellar"&#125;&#125;);db.users.find();//15.Âà†Èô§ÂñúÊ¨¢beijingÁöÑÁî®Êà∑db.users.remove(&#123;"hobby.cities":"beijing"&#125;);//16.Âà†Èô§userÈõÜÂêàdb.users.remove(&#123;&#125;);db.users.drop();show dbs;//17.Âêënumbers‰∏≠ÊèíÂÖ•20000Êù°Êï∞ÊçÆ 7.2sfor(var i=1 ; i&lt;=20000 ; i++)&#123; db.numbers.insert(&#123;num:i&#125;);&#125;db.numbers.find()db.numbers.remove(&#123;&#125;);//0.4svar arr = [];for(var i=1 ; i&lt;=20000 ; i++)&#123; arr.push(&#123;num:i&#125;);&#125;db.numbers.insert(arr); ÁªÉ‰π†21234567891011121314151617181920212223242526272829303132333435363738394041424344//18.Êü•ËØ¢numbers‰∏≠num‰∏∫500ÁöÑÊñáÊ°£db.numbers.find(&#123;num:500&#125;)//19.Êü•ËØ¢numbers‰∏≠numÂ§ß‰∫é5000ÁöÑÊñáÊ°£db.numbers.find(&#123;num:&#123;$gt:500&#125;&#125;);db.numbers.find(&#123;num:&#123;$eq:500&#125;&#125;);//20.Êü•ËØ¢numbers‰∏≠numÂ∞è‰∫é30ÁöÑÊñáÊ°£db.numbers.find(&#123;num:&#123;$lt:30&#125;&#125;);//21.Êü•ËØ¢numbers‰∏≠numÂ§ß‰∫é40Â∞è‰∫é50ÁöÑÊñáÊ°£db.numbers.find(&#123;num:&#123;$gt:40 , $lt:50&#125;&#125;);//22.Êü•ËØ¢numbers‰∏≠numÂ§ß‰∫é19996ÁöÑÊñáÊ°£db.numbers.find(&#123;num:&#123;$gt:19996&#125;&#125;);//23.Êü•ÁúãnumbersÈõÜÂêà‰∏≠ÁöÑÂâç10Êù°Êï∞ÊçÆdb.numbers.find(&#123;num:&#123;$lte:10&#125;&#125;);//limit()ËÆæÁΩÆÊòæÁ§∫Êï∞ÊçÆÁöÑ‰∏äÈôêdb.numbers.find().limit(10);//Âú®ÂºÄÂèëÊó∂ÔºåÊàë‰ª¨ÁªùÂØπ‰∏ç‰ºöÊâßË°å‰∏çÂ∏¶Êù°‰ª∂ÁöÑÊü•ËØ¢db.numbers.find();//24.Êü•ÁúãnumbersÈõÜÂêà‰∏≠ÁöÑÁ¨¨11Êù°Âà∞20Êù°Êï∞ÊçÆ/* ÂàÜÈ°µ ÊØèÈ°µÊòæÁ§∫10Êù° 1-10 0 11-20 10 21-30 20 „ÄÇ„ÄÇ„ÄÇ skip((È°µÁ†Å-1) * ÊØèÈ°µÊòæÁ§∫ÁöÑÊù°Êï∞).limit(ÊØèÈ°µÊòæÁ§∫ÁöÑÊù°Êï∞); skip()Áî®‰∫éË∑≥ËøáÊåáÂÆöÊï∞ÈáèÁöÑÊï∞ÊçÆ MongoDB‰ºöËá™Âä®Ë∞ÉÊï¥skipÂíålimitÁöÑ‰ΩçÁΩÆ*/db.numbers.find().skip(10).limit(10);//25.Êü•ÁúãnumbersÈõÜÂêà‰∏≠ÁöÑÁ¨¨21Êù°Âà∞30Êù°Êï∞ÊçÆdb.numbers.find().skip(20).limit(10);db.numbers.find().limit(10).skip(10); ÁªÉ‰π†312345678910111213141516171819202122232425262728//26.Â∞ÜdeptÂíåempÈõÜÂêàÂØºÂÖ•Âà∞Êï∞ÊçÆÂ∫ì‰∏≠db.dept.find()db.emp.find()//27.Êü•ËØ¢Â∑•ËµÑÂ∞è‰∫é2000ÁöÑÂëòÂ∑•db.emp.find(&#123;sal:&#123;$lt:2000&#125;&#125;);//28.Êü•ËØ¢Â∑•ËµÑÂú®1000-2000‰πãÈó¥ÁöÑÂëòÂ∑•db.emp.find(&#123;sal:&#123;$lt:2000 , $gt:1000&#125;&#125;);//29.Êü•ËØ¢Â∑•ËµÑÂ∞è‰∫é1000ÊàñÂ§ß‰∫é2500ÁöÑÂëòÂ∑•db.emp.find(&#123;$or:[&#123;sal:&#123;$lt:1000&#125;&#125; , &#123;sal:&#123;$gt:2500&#125;&#125;]&#125;);//30.Êü•ËØ¢Ë¥¢Âä°ÈÉ®ÁöÑÊâÄÊúâÂëòÂ∑•//(depno)var depno = db.dept.findOne(&#123;dname:"Ë¥¢Âä°ÈÉ®"&#125;).deptno;db.emp.find(&#123;depno:depno&#125;);//31.Êü•ËØ¢ÈîÄÂîÆÈÉ®ÁöÑÊâÄÊúâÂëòÂ∑•var depno = db.dept.findOne(&#123;dname:"ÈîÄÂîÆÈÉ®"&#125;).deptno;db.emp.find(&#123;depno:depno&#125;);//32.Êü•ËØ¢ÊâÄÊúâmgr‰∏∫7698ÁöÑÊâÄÊúâÂëòÂ∑•db.emp.find(&#123;mgr:7698&#125;)//33.‰∏∫ÊâÄÊúâËñ™ËµÑ‰Ωé‰∫é1000ÁöÑÂëòÂ∑•Â¢ûÂä†Â∑•ËµÑ400ÂÖÉdb.emp.updateMany(&#123;sal:&#123;$lte:1000&#125;&#125; , &#123;$inc:&#123;sal:400&#125;&#125;);db.emp.find() ÊñáÊ°£Èó¥ÁöÑÂÖ≥Á≥ª123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384 /* ÊñáÊ°£‰πãÈó¥ÁöÑÂÖ≥Á≥ª ‰∏ÄÂØπ‰∏ÄÔºàone to oneÔºâ - Â§´Â¶ª (‰∏Ä‰∏™‰∏àÂ§´ ÂØπÂ∫î ‰∏Ä‰∏™Â¶ªÂ≠ê) - Âú®MongoDBÔºåÂèØ‰ª•ÈÄöËøáÂÜÖÂµåÊñáÊ°£ÁöÑÂΩ¢ÂºèÊù•‰ΩìÁé∞Âá∫‰∏ÄÂØπ‰∏ÄÁöÑÂÖ≥Á≥ª ‰∏ÄÂØπÂ§öÔºàone to manyÔºâ/Â§öÂØπ‰∏Ä(many to one) - Áà∂ÊØç - Â≠©Â≠ê Áî®Êà∑ - ËÆ¢Âçï ÊñáÁ´† - ËØÑËÆ∫ - ‰πüÂèØ‰ª•ÈÄöËøáÂÜÖÂµåÊñáÊ°£Êù•Êò†Â∞Ñ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ª Â§öÂØπÂ§ö(many to many) - ÂàÜÁ±ª - ÂïÜÂìÅ ËÄÅÂ∏à - Â≠¶Áîü */db.wifeAndHusband.insert([ &#123; name:"ÈªÑËìâ", husband:&#123; name:"ÈÉ≠Èùñ" &#125; &#125;,&#123; name:"ÊΩòÈáëËé≤", husband:&#123; name:"Ê≠¶Â§ßÈÉé" &#125; &#125;]);db.wifeAndHusband.find();//‰∏ÄÂØπÂ§ö Áî®Êà∑(users) Âíå ËÆ¢Âçï(orders)db.users.insert([&#123; username:"swk" &#125;,&#123; username:"zbj"&#125;]);db.order.insert(&#123; list:["ÁâõËÇâ","Êº´Áîª"], user_id: ObjectId("59c47e35241d8d36a1d50de0") &#125;);db.users.find()db.order.find()//Êü•ÊâæÁî®Êà∑swkÁöÑËÆ¢Âçïvar user_id = db.users.findOne(&#123;username:"zbj"&#125;)._id;db.order.find(&#123;user_id:user_id&#125;);//Â§öÂØπÂ§ödb.teachers.insert([ &#123;name:"Ê¥™‰∏ÉÂÖ¨"&#125;, &#123;name:"ÈªÑËçØÂ∏à"&#125;, &#123;name:"Èæü‰ªô‰∫∫"&#125;]);db.stus.insert([ &#123; name:"ÈÉ≠Èùñ", tech_ids:[ ObjectId("59c4806d241d8d36a1d50de4"), ObjectId("59c4806d241d8d36a1d50de5") ] &#125;,&#123; name:"Â≠ôÊÇüÁ©∫", tech_ids:[ ObjectId("59c4806d241d8d36a1d50de4"), ObjectId("59c4806d241d8d36a1d50de5"), ObjectId("59c4806d241d8d36a1d50de6") ] &#125;])db.teachers.find()db.stus.find() SortÂíåÊäïÂΩ±1234567891011//Êü•ËØ¢ÊñáÊ°£Êó∂ÔºåÈªòËÆ§ÊÉÖÂÜµÊòØÊåâÁÖß_idÁöÑÂÄºËøõË°åÊéíÂàóÔºàÂçáÂ∫èÔºâ//sort()ÂèØ‰ª•Áî®Êù•ÊåáÂÆöÊñáÊ°£ÁöÑÊéíÂ∫èÁöÑËßÑÂàô,sort()ÈúÄË¶Å‰º†ÈÄí‰∏Ä‰∏™ÂØπË±°Êù•ÊåáÂÆöÊéíÂ∫èËßÑÂàô 1Ë°®Á§∫ÂçáÂ∫è -1Ë°®Á§∫ÈôçÂ∫è//limit skip sort ÂèØ‰ª•‰ª•‰ªªÊÑèÁöÑÈ°∫Â∫èËøõË°åË∞ÉÁî®db.emp.find(&#123;&#125;).sort(&#123;sal:1,empno:-1&#125;);//Âú®Êü•ËØ¢Êó∂ÔºåÂèØ‰ª•Âú®Á¨¨‰∫å‰∏™ÂèÇÊï∞ÁöÑ‰ΩçÁΩÆÊù•ËÆæÁΩÆÊü•ËØ¢ÁªìÊûúÁöÑ ÊäïÂΩ±db.emp.find(&#123;&#125;,&#123;ename:1 , _id:0 , sal:1&#125;); ‚Äã ‚Äã ‚Äã ‚Äã 12&gt; brew services start mongodb&gt; SpringBoot Êï¥Âêàmongodb]]></content>
      <categories>
        <category>MongoDB</category>
      </categories>
      <tags>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÆûÊàòÁîµÂïÜÈ°πÁõÆ]]></title>
    <url>%2F2019%2F01%2F18%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E6%85%95%E8%AF%BE%E7%BD%91%20Java%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"><![CDATA[12 Á¨¨‰∏ÄÁ´†ËØæÁ®ã‰ªãÁªçÁ¨¨‰∫åÁ´†ÂºÄÂèëÁéØÂ¢ÉÁöÑÂÆâË£ÖÈ¢ÑÈÖçÁΩÆËÆ≤Ëß£Á¨¨‰∏âÁ´†Êï∞ÊçÆÂ∫ìË°®ËÆæËÆ° mysql Á¥¢ÂºïÊÄé‰πàÂºÑ ÊôÆÈÄöÁ¥¢Âºï ÂàõÂª∫Á¥¢Âºï ËøôÊòØÊúÄÂü∫Êú¨ÁöÑÁ¥¢ÂºïÔºåÂÆÉÊ≤°Êúâ‰ªª‰ΩïÈôêÂà∂„ÄÇÂÆÉÊúâ‰ª•‰∏ãÂá†ÁßçÂàõÂª∫ÊñπÂºèÔºö 1CREATE INDEX indexName ON mytable(username(length)); Â¶ÇÊûúÊòØCHARÔºåVARCHARÁ±ªÂûãÔºålengthÂèØ‰ª•Â∞è‰∫éÂ≠óÊÆµÂÆûÈôÖÈïøÂ∫¶ÔºõÂ¶ÇÊûúÊòØBLOBÂíåTEXTÁ±ªÂûãÔºåÂøÖÈ°ªÊåáÂÆö length„ÄÇ ‰øÆÊîπË°®ÁªìÊûÑ(Ê∑ªÂä†Á¥¢Âºï) 1ALTER table tableName ADD INDEX indexName(columnName) ÂàõÂª∫Ë°®ÁöÑÊó∂ÂÄôÁõ¥Êé•ÊåáÂÆö 123456789CREATE TABLE mytable( ID INT NOT NULL, username VARCHAR(16) NOT NULL, INDEX [indexName] (username(length)) ); Âà†Èô§Á¥¢ÂºïÁöÑËØ≠Ê≥ï 1DROP INDEX [indexName] ON mytable; ÂîØ‰∏ÄÁ¥¢Âºï ÂÆÉ‰∏éÂâçÈù¢ÁöÑÊôÆÈÄöÁ¥¢ÂºïÁ±ª‰ººÔºå‰∏çÂêåÁöÑÂ∞±ÊòØÔºöÁ¥¢ÂºïÂàóÁöÑÂÄºÂøÖÈ°ªÂîØ‰∏ÄÔºå‰ΩÜÂÖÅËÆ∏ÊúâÁ©∫ÂÄº„ÄÇÂ¶ÇÊûúÊòØÁªÑÂêàÁ¥¢ÂºïÔºåÂàôÂàóÂÄºÁöÑÁªÑÂêàÂøÖÈ°ªÂîØ‰∏Ä„ÄÇÂÆÉÊúâ‰ª•‰∏ãÂá†ÁßçÂàõÂª∫ÊñπÂºèÔºö ÂàõÂª∫Á¥¢Âºï 1CREATE UNIQUE INDEX indexName ON mytable(username(length)) ‰øÆÊîπË°®ÁªìÊûÑ 1ALTER table mytable ADD UNIQUE [indexName] (username(length)) ÂàõÂª∫Ë°®ÁöÑÊó∂ÂÄôÁõ¥Êé•ÊåáÂÆö 123456789CREATE TABLE mytable( ID INT NOT NULL, username VARCHAR(16) NOT NULL, UNIQUE [indexName] (username(length)) ); Á¨¨ÂõõÁ´† È°πÁõÆÂàùÂßãÂåñ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com&lt;/groupId&gt; &lt;artifactId&gt;mmall&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;name&gt;mmall Maven Webapp&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt; &lt;org.springframework.version&gt;4.0.0.RELEASE&lt;/org.springframework.version&gt; &lt;org.mybatis.version&gt;3.4.1&lt;/org.mybatis.version&gt; &lt;org.mybatis.spring.version&gt;1.3.0&lt;/org.mybatis.spring.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt; &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt; &lt;version&gt;7.0.64&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.7.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mybatis.spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mybatis.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;1.6.11&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt; &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt; &lt;version&gt;1.9.12&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-dbcp&lt;/groupId&gt; &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt; &lt;version&gt;1.4&lt;/version&gt; &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-core&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;20.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;joda-time&lt;/groupId&gt; &lt;artifactId&gt;joda-time&lt;/artifactId&gt; &lt;version&gt;2.3&lt;/version&gt; &lt;/dependency&gt; &lt;!-- idÂä†ÂØÜËß£ÂØÜ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.hashids&lt;/groupId&gt; &lt;artifactId&gt;hashids&lt;/artifactId&gt; &lt;version&gt;1.0.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- ftpclient --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-net&lt;/groupId&gt; &lt;artifactId&gt;commons-net&lt;/artifactId&gt; &lt;version&gt;3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- file upload --&gt; &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.0.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mybatis pager --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.miemiedev&lt;/groupId&gt; &lt;artifactId&gt;mybatis-paginator&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt; &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt; &lt;version&gt;0.9.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- alipay --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-configuration&lt;/groupId&gt; &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-lang&lt;/groupId&gt; &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;version&gt;1.1.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.zxing&lt;/groupId&gt; &lt;artifactId&gt;core&lt;/artifactId&gt; &lt;version&gt;2.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt; &lt;artifactId&gt;gson&lt;/artifactId&gt; &lt;version&gt;2.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.hamcrest&lt;/groupId&gt; &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt; &lt;version&gt;1.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;mmall&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;configuration&gt; &lt;verbose&gt;true&lt;/verbose&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;!-- geelynote mavenÁöÑÊ†∏ÂøÉÊèí‰ª∂‰πã-complierÊèí‰ª∂ÈªòËÆ§Âè™ÊîØÊåÅÁºñËØëJava 1.4ÔºåÂõ†Ê≠§ÈúÄË¶ÅÂä†‰∏äÊîØÊåÅÈ´òÁâàÊú¨jreÁöÑÈÖçÁΩÆÔºåÂú®pom.xmlÈáåÈù¢Âä†‰∏ä Â¢ûÂä†ÁºñËØëÊèí‰ª∂ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.7&lt;/source&gt; &lt;target&gt;1.7&lt;/target&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;compilerArguments&gt; &lt;extdirs&gt;$&#123;project.basedir&#125;/src/main/webapp/WEB-INF/lib&lt;/extdirs&gt; &lt;/compilerArguments&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; Êó∂Èó¥Êà≥ now () mybatis-plugin È´òÊ∏ÖÂ∞èÈ∏üÂ§ßÂõæ üê¶ Spring ÂÆòÁΩë‰ª£Á†Å ÂÆ†Áâ©ÂåªÈô¢„ÄÇÁªøÊàøÂ≠ê https://github.com/spring-projects/spring-mvc-showcase https://github.com/spring-projects/spring-petclinic https://github.com/spring-projects/greenhouse ‰ª£Á†ÅÈÖçÁΩÆ ÈÖçÁΩÆweb.xmlÈÖçÁΩÆ1.ËÆæÁΩÆËøáÊª§Âô® Ëß£ÂÜ≥‰∏≠Êñá‰π±Á†ÅÈóÆÈ¢ò123456789101112131415161718&lt;!--ËÆæÁΩÆËøáÊª§Âô® Ëß£ÂÜ≥‰∏≠Êñá‰π±Á†ÅÈóÆÈ¢ò--&gt; &lt;filter&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;!--Êã¶Êà™ÊâÄÊúâÁöÑËØ∑Ê±Ç Ëµ∞Ëøô‰∏™filter--&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; 2 ÁõëÂê¨Âô®123456789101112131415&lt;!--ÁõëÂê¨Âô®1 Ë¥üË¥£ÁõëÂê¨webÂÆπÂô®ÁöÑÂêØÂä®ÂíåÂÖ≥Èó≠ RequestContextListener--&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!--ÁõëÂê¨Âô®2 Â∞ÜSpringÂíåwebÂÆπÂô®Êï¥ÂêàÁöÑÁõëÂê¨Âô® ContextLoaderListener--&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!--ÈÄöËøáContextLoaderListenerÂä†ËΩΩapplicationContext.xml--&gt;&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:applicationContext.xml &lt;/param-value&gt;&lt;/context-param&gt; 3 spring mvcÁöÑÈÖçÁΩÆ12345678910111213&lt;!--SpringMVC ÁöÑÈÖçÁΩÆ--&gt;&lt;servlet&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!--‰ºòÂÖàÁ∫ßÂêØÂä®È°∫Â∫è--&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; web.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;&lt;!--ËÆæÁΩÆËøáÊª§Âô® Ëß£ÂÜ≥‰∏≠Êñá‰π±Á†ÅÈóÆÈ¢ò--&gt;&lt;filter&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt;&lt;/filter&gt;&lt;!--Êã¶Êà™ÊâÄÊúâÁöÑËØ∑Ê±Ç Ëµ∞Ëøô‰∏™filter--&gt;&lt;filter-mapping&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;&lt;!--ÁõëÂê¨Âô®1 Ë¥üË¥£ÁõëÂê¨webÂÆπÂô®ÁöÑÂêØÂä®ÂíåÂÖ≥Èó≠ RequestContextListener--&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!--ÁõëÂê¨Âô®2 Â∞ÜSpringÂíåwebÂÆπÂô®Êï¥ÂêàÁöÑÁõëÂê¨Âô® ContextLoaderListener--&gt;&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;!--ÈÄöËøáContextLoaderListenerÂä†ËΩΩapplicationContext.xml--&gt;&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:applicationContext.xml &lt;/param-value&gt;&lt;/context-param&gt;&lt;!--SpringMVC ÁöÑÈÖçÁΩÆ--&gt;&lt;servlet&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!--‰ºòÂÖàÁ∫ßÂêØÂä®È°∫Â∫è--&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;&lt;/web-app&gt; SpringÁöÑÈÖçÁΩÆ1. SpringÁöÑ‰∏ªÈÖçÁΩÆ1234567&lt;!-- Êâ´ÊèèÁöÑÂü∫Êú¨ÂåÖË∑ØÂæÑ --&gt; &lt;!-- ÊòØÂê¶ÊøÄÊ¥ªÂ±ûÊÄßÊ≥®ÂÖ•Ê≥®Ëß£ --&gt; &lt;context:component-scan base-package="com.mmall" annotation-config="true"/&gt; &lt;!--&lt;context:annotation-config/&gt;--&gt; &lt;aop:aspectj-autoproxy/&gt; &lt;!--ÂàÜÁ¶ªSpringÈÖçÁΩÆÊñá‰ª∂--&gt; &lt;import resource="applicationContext-datasource.xml"/&gt; 2.SpringÊï∞ÊçÆÂ∫ìÁöÑÈÖçÁΩÆ2.1 ÈÖçÁΩÆSpringÊñá‰ª∂ÁöÑÊó∂ÂÄôÂ∞ÜÂ∏∏ÈáèËøõË°åÂàÜÁ¶ª123456789101112&lt;!--ÈÖçÁΩÆSpringÊñá‰ª∂ÁöÑÊó∂ÂÄôÂ∞ÜÂ∏∏ÈáèËøõË°åÂàÜÁ¶ª--&gt;&lt;bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"&gt; &lt;property name="order" value="2"/&gt; &lt;property name="ignoreUnresolvablePlaceholders" value="true"/&gt; &lt;property name="locations"&gt; &lt;list&gt; &lt;value&gt;classpath:datasource.properties&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="fileEncoding" value="utf-8"/&gt;&lt;/bean&gt; 2.2 Êï∞ÊçÆÂ∫ìËøûÊé•Ê±†1234567891011121314151617181920212223242526272829303132&lt;bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close"&gt; &lt;property name="driverClassName" value="$&#123;db.driverClassName&#125;"/&gt; &lt;property name="url" value="$&#123;db.url&#125;"/&gt; &lt;property name="username" value="$&#123;db.username&#125;"/&gt; &lt;property name="password" value="$&#123;db.password&#125;"/&gt; &lt;!-- ËøûÊé•Ê±†ÂêØÂä®Êó∂ÁöÑÂàùÂßãÂÄº --&gt; &lt;property name="initialSize" value="$&#123;db.initialSize&#125;"/&gt; &lt;!-- ËøûÊé•Ê±†ÁöÑÊúÄÂ§ßÂÄº --&gt; &lt;property name="maxActive" value="$&#123;db.maxActive&#125;"/&gt; &lt;!-- ÊúÄÂ§ßÁ©∫Èó≤ÂÄº.ÂΩìÁªèËøá‰∏Ä‰∏™È´òÂ≥∞Êó∂Èó¥ÂêéÔºåËøûÊé•Ê±†ÂèØ‰ª•ÊÖ¢ÊÖ¢Â∞ÜÂ∑≤ÁªèÁî®‰∏çÂà∞ÁöÑËøûÊé•ÊÖ¢ÊÖ¢ÈáäÊîæ‰∏ÄÈÉ®ÂàÜÔºå‰∏ÄÁõ¥ÂáèÂ∞ëÂà∞maxIdle‰∏∫Ê≠¢ --&gt; &lt;property name="maxIdle" value="$&#123;db.maxIdle&#125;"/&gt; &lt;!-- ÊúÄÂ∞èÁ©∫Èó≤ÂÄº.ÂΩìÁ©∫Èó≤ÁöÑËøûÊé•Êï∞Â∞ë‰∫éÈòÄÂÄºÊó∂ÔºåËøûÊé•Ê±†Â∞±‰ºöÈ¢ÑÁî≥ËØ∑Âéª‰∏Ä‰∫õËøûÊé•Ôºå‰ª•ÂÖçÊ¥™Â≥∞Êù•Êó∂Êù•‰∏çÂèäÁî≥ËØ∑ --&gt; &lt;property name="minIdle" value="$&#123;db.minIdle&#125;"/&gt; &lt;!-- ÊúÄÂ§ßÂª∫Á´ãËøûÊé•Á≠âÂæÖÊó∂Èó¥„ÄÇÂ¶ÇÊûúË∂ÖËøáÊ≠§Êó∂Èó¥Â∞ÜÊé•Âà∞ÂºÇÂ∏∏„ÄÇËÆæ‰∏∫Ôºç1Ë°®Á§∫Êó†ÈôêÂà∂ --&gt; &lt;property name="maxWait" value="$&#123;db.maxWait&#125;"/&gt; &lt;!--#ÁªôÂá∫‰∏ÄÊù°ÁÆÄÂçïÁöÑsqlËØ≠Âè•ËøõË°åÈ™åËØÅ --&gt; &lt;!--&lt;property name="validationQuery" value="select getdate()" /&gt;--&gt; &lt;property name="defaultAutoCommit" value="$&#123;db.defaultAutoCommit&#125;"/&gt; &lt;!-- ÂõûÊî∂Ë¢´ÈÅóÂºÉÁöÑÔºà‰∏ÄËà¨ÊòØÂøò‰∫ÜÈáäÊîæÁöÑÔºâÊï∞ÊçÆÂ∫ìËøûÊé•Âà∞ËøûÊé•Ê±†‰∏≠ --&gt; &lt;!--&lt;property name="removeAbandoned" value="true" /&gt;--&gt; &lt;!-- Êï∞ÊçÆÂ∫ìËøûÊé•ËøáÂ§öÈïøÊó∂Èó¥‰∏çÁî®Â∞ÜË¢´ËßÜ‰∏∫Ë¢´ÈÅóÂºÉËÄåÊî∂ÂõûËøûÊé•Ê±†‰∏≠ --&gt; &lt;!--&lt;property name="removeAbandonedTimeout" value="120" /&gt;--&gt; &lt;!-- #ËøûÊé•ÁöÑË∂ÖÊó∂Êó∂Èó¥ÔºåÈªòËÆ§‰∏∫ÂçäÂ∞èÊó∂„ÄÇ --&gt; &lt;property name="minEvictableIdleTimeMillis" value="$&#123;db.minEvictableIdleTimeMillis&#125;"/&gt; &lt;!--# Â§±ÊïàÊ£ÄÊü•Á∫øÁ®ãËøêË°åÊó∂Èó¥Èó¥ÈöîÔºåË¶ÅÂ∞è‰∫éMySQLÈªòËÆ§--&gt; &lt;property name="timeBetweenEvictionRunsMillis" value="40000"/&gt; &lt;!--# Ê£ÄÊü•ËøûÊé•ÊòØÂê¶ÊúâÊïà--&gt; &lt;property name="testWhileIdle" value="true"/&gt; &lt;!--# Ê£ÄÊü•ËøûÊé•ÊúâÊïàÊÄßÁöÑSQLËØ≠Âè•--&gt; &lt;property name="validationQuery" value="SELECT 1 FROM dual"/&gt;&lt;/bean&gt; 2.3 myBatisÁöÑÈÖçÁΩÆ1234567&lt;!--mybatisÁöÑÈÖçÁΩÆsqlSessionFactory--&gt;&lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;!--mybatisÁöÑÈÖçÁΩÆ ËØªÂèñmapper.xmlÊñá‰ª∂--&gt; &lt;property name="mapperLocations" value="classpath*:mappers/*Mapper.xml"&gt; &lt;/property&gt; 1234&lt;!--mybatisÁöÑÊâ´ÊèèDaoÂ±Ç MapperScannerConfigurer--&gt;&lt;bean name="mapperScannerConfigurer" class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;property name="basePackage" value="com.mmall.dao"/&gt;&lt;/bean&gt; 2.4 ÂàÜÈ°µÊèí‰ª∂123456789101112&lt;!-- ÂàÜÈ°µÊèí‰ª∂ --&gt;&lt;property name="plugins"&gt; &lt;array&gt; &lt;bean class="com.github.pagehelper.PageHelper"&gt; &lt;property name="properties"&gt; &lt;value&gt; dialect=mysql &lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/array&gt;&lt;/property&gt; 2.5 @Transaction1234567&lt;!-- ‰ΩøÁî®@TransactionalËøõË°åÂ£∞ÊòéÂºè‰∫ãÂä°ÁÆ°ÁêÜÈúÄË¶ÅÂ£∞Êòé‰∏ãÈù¢ËøôË°å --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="true"/&gt; &lt;!-- ‰∫ãÂä°ÁÆ°ÁêÜ --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;property name="rollbackOnCommitFailure" value="true"/&gt; &lt;/bean&gt; application.xml1234567891011121314151617181920&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jdbc="http://www.springframework.org/schema/jdbc" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation=" http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"&gt; &lt;!-- Êâ´ÊèèÁöÑÂü∫Êú¨ÂåÖË∑ØÂæÑ --&gt; &lt;!-- ÊòØÂê¶ÊøÄÊ¥ªÂ±ûÊÄßÊ≥®ÂÖ•Ê≥®Ëß£ --&gt; &lt;context:component-scan base-package="com.mmall" annotation-config="true"/&gt; &lt;!--&lt;context:annotation-config/&gt;--&gt; &lt;aop:aspectj-autoproxy/&gt; &lt;!--ÂàÜÁ¶ªSpringÈÖçÁΩÆÊñá‰ª∂--&gt; &lt;import resource="applicationContext-datasource.xml"/&gt;&lt;/beans&gt; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jdbc="http://www.springframework.org/schema/jdbc" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation=" http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd"&gt; &lt;context:component-scan base-package="com.mmall" annotation-config="true"/&gt; &lt;!--ÈÖçÁΩÆSpringÊñá‰ª∂ÁöÑÊó∂ÂÄôÂ∞ÜÂ∏∏ÈáèËøõË°åÂàÜÁ¶ª--&gt; &lt;bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"&gt; &lt;property name="order" value="2"/&gt; &lt;property name="ignoreUnresolvablePlaceholders" value="true"/&gt; &lt;property name="locations"&gt; &lt;list&gt; &lt;value&gt;classpath:datasource.properties&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="fileEncoding" value="utf-8"/&gt; &lt;/bean&gt; &lt;bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close"&gt; &lt;property name="driverClassName" value="$&#123;db.driverClassName&#125;"/&gt; &lt;property name="url" value="$&#123;db.url&#125;"/&gt; &lt;property name="username" value="$&#123;db.username&#125;"/&gt; &lt;property name="password" value="$&#123;db.password&#125;"/&gt; &lt;!-- ËøûÊé•Ê±†ÂêØÂä®Êó∂ÁöÑÂàùÂßãÂÄº --&gt; &lt;property name="initialSize" value="$&#123;db.initialSize&#125;"/&gt; &lt;!-- ËøûÊé•Ê±†ÁöÑÊúÄÂ§ßÂÄº --&gt; &lt;property name="maxActive" value="$&#123;db.maxActive&#125;"/&gt; &lt;!-- ÊúÄÂ§ßÁ©∫Èó≤ÂÄº.ÂΩìÁªèËøá‰∏Ä‰∏™È´òÂ≥∞Êó∂Èó¥ÂêéÔºåËøûÊé•Ê±†ÂèØ‰ª•ÊÖ¢ÊÖ¢Â∞ÜÂ∑≤ÁªèÁî®‰∏çÂà∞ÁöÑËøûÊé•ÊÖ¢ÊÖ¢ÈáäÊîæ‰∏ÄÈÉ®ÂàÜÔºå‰∏ÄÁõ¥ÂáèÂ∞ëÂà∞maxIdle‰∏∫Ê≠¢ --&gt; &lt;property name="maxIdle" value="$&#123;db.maxIdle&#125;"/&gt; &lt;!-- ÊúÄÂ∞èÁ©∫Èó≤ÂÄº.ÂΩìÁ©∫Èó≤ÁöÑËøûÊé•Êï∞Â∞ë‰∫éÈòÄÂÄºÊó∂ÔºåËøûÊé•Ê±†Â∞±‰ºöÈ¢ÑÁî≥ËØ∑Âéª‰∏Ä‰∫õËøûÊé•Ôºå‰ª•ÂÖçÊ¥™Â≥∞Êù•Êó∂Êù•‰∏çÂèäÁî≥ËØ∑ --&gt; &lt;property name="minIdle" value="$&#123;db.minIdle&#125;"/&gt; &lt;!-- ÊúÄÂ§ßÂª∫Á´ãËøûÊé•Á≠âÂæÖÊó∂Èó¥„ÄÇÂ¶ÇÊûúË∂ÖËøáÊ≠§Êó∂Èó¥Â∞ÜÊé•Âà∞ÂºÇÂ∏∏„ÄÇËÆæ‰∏∫Ôºç1Ë°®Á§∫Êó†ÈôêÂà∂ --&gt; &lt;property name="maxWait" value="$&#123;db.maxWait&#125;"/&gt; &lt;!--#ÁªôÂá∫‰∏ÄÊù°ÁÆÄÂçïÁöÑsqlËØ≠Âè•ËøõË°åÈ™åËØÅ --&gt; &lt;!--&lt;property name="validationQuery" value="select getdate()" /&gt;--&gt; &lt;property name="defaultAutoCommit" value="$&#123;db.defaultAutoCommit&#125;"/&gt; &lt;!-- ÂõûÊî∂Ë¢´ÈÅóÂºÉÁöÑÔºà‰∏ÄËà¨ÊòØÂøò‰∫ÜÈáäÊîæÁöÑÔºâÊï∞ÊçÆÂ∫ìËøûÊé•Âà∞ËøûÊé•Ê±†‰∏≠ --&gt; &lt;!--&lt;property name="removeAbandoned" value="true" /&gt;--&gt; &lt;!-- Êï∞ÊçÆÂ∫ìËøûÊé•ËøáÂ§öÈïøÊó∂Èó¥‰∏çÁî®Â∞ÜË¢´ËßÜ‰∏∫Ë¢´ÈÅóÂºÉËÄåÊî∂ÂõûËøûÊé•Ê±†‰∏≠ --&gt; &lt;!--&lt;property name="removeAbandonedTimeout" value="120" /&gt;--&gt; &lt;!-- #ËøûÊé•ÁöÑË∂ÖÊó∂Êó∂Èó¥ÔºåÈªòËÆ§‰∏∫ÂçäÂ∞èÊó∂„ÄÇ --&gt; &lt;property name="minEvictableIdleTimeMillis" value="$&#123;db.minEvictableIdleTimeMillis&#125;"/&gt; &lt;!--# Â§±ÊïàÊ£ÄÊü•Á∫øÁ®ãËøêË°åÊó∂Èó¥Èó¥ÈöîÔºåË¶ÅÂ∞è‰∫éMySQLÈªòËÆ§--&gt; &lt;property name="timeBetweenEvictionRunsMillis" value="40000"/&gt; &lt;!--# Ê£ÄÊü•ËøûÊé•ÊòØÂê¶ÊúâÊïà--&gt; &lt;property name="testWhileIdle" value="true"/&gt; &lt;!--# Ê£ÄÊü•ËøûÊé•ÊúâÊïàÊÄßÁöÑSQLËØ≠Âè•--&gt; &lt;property name="validationQuery" value="SELECT 1 FROM dual"/&gt; &lt;/bean&gt; &lt;!--mybatisÁöÑÈÖçÁΩÆ--&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;property name="mapperLocations" value="classpath*:mappers/*Mapper.xml"&gt; &lt;/property&gt; &lt;!-- ÂàÜÈ°µÊèí‰ª∂ --&gt; &lt;property name="plugins"&gt; &lt;array&gt; &lt;bean class="com.github.pagehelper.PageHelper"&gt; &lt;property name="properties"&gt; &lt;value&gt; dialect=mysql &lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/array&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!--mybatisÁöÑÊâ´ÊèèDaoÂ±Ç--&gt; &lt;bean name="mapperScannerConfigurer" class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;property name="basePackage" value="com.mmall.dao"/&gt; &lt;/bean&gt; &lt;!-- ‰ΩøÁî®@TransactionalËøõË°åÂ£∞ÊòéÂºè‰∫ãÂä°ÁÆ°ÁêÜÈúÄË¶ÅÂ£∞Êòé‰∏ãÈù¢ËøôË°å --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="true"/&gt; &lt;!-- ‰∫ãÂä°ÁÆ°ÁêÜ --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;property name="rollbackOnCommitFailure" value="true"/&gt; &lt;/bean&gt;&lt;/beans&gt; Spring MVC ÁöÑÈÖçÁΩÆ1 ÁºñÁ†ÅÈÖçÁΩÆ123456789&lt;!--ÈÖçÁΩÆÁºñÁ†Å--&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; 2 JSONÈÖçÁΩÆ12345678&lt;!--ÈÖçÁΩÆJSONÊ†ºÂºè--&gt; &lt;bean class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; 3 Êñá‰ª∂‰∏ä‰º†ÈÖçÁΩÆ12345678&lt;!-- Êñá‰ª∂‰∏ä‰º† --&gt;&lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="maxUploadSize" value="10485760"/&gt; &lt;!-- 10m --&gt; &lt;property name="maxInMemorySize" value="4096"/&gt; &lt;property name="defaultEncoding" value="UTF-8"&gt; &lt;/property&gt;&lt;/bean&gt; SpringMVC.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:aop="http://www.springframework.org/schema/aop" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd"&gt; &lt;!--Spring MVCÁöÑÈÖçÁΩÆ--&gt; &lt;!--ÂåÖÊâ´Êèè--&gt; &lt;context:component-scan base-package="com.mmall" annotation-config="true"/&gt; &lt;mvc:annotation-driven&gt; &lt;mvc:message-converters&gt; &lt;!--ÈÖçÁΩÆÁºñÁ†Å--&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!--ÈÖçÁΩÆJSONÊ†ºÂºè--&gt; &lt;bean class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/mvc:message-converters&gt; &lt;/mvc:annotation-driven&gt; &lt;!-- Êñá‰ª∂‰∏ä‰º† --&gt; &lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="maxUploadSize" value="10485760"/&gt; &lt;!-- 10m --&gt; &lt;property name="maxInMemorySize" value="4096"/&gt; &lt;property name="defaultEncoding" value="UTF-8"&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; LogBackÁöÑÈÖçÁΩÆ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;configuration scan="true" scanPeriod="60 seconds" debug="false"&gt; &lt;!----&gt; &lt;appender name="console" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;encoder&gt; &lt;pattern&gt;[%d&#123;HH:mm:ss.SSS&#125;][%p][%c&#123;40&#125;][%t] %m%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;filter class="ch.qos.logback.classic.filter.ThresholdFilter"&gt; &lt;level&gt;DEBUG&lt;/level&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;appender name="mmall" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;!--&lt;File&gt;d:/mmalllog/mmall.log&lt;/File&gt;--&gt; &lt;File&gt;/developer/apache-tomcat-7.0.73/logs/mmall.log&lt;/File&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;/developer/apache-tomcat-7.0.73/logs/mmall.log.%d&#123;yyyy-MM-dd&#125;.gz&lt;/fileNamePattern&gt; &lt;append&gt;true&lt;/append&gt; &lt;maxHistory&gt;10&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;[%d&#123;HH:mm:ss.SSS&#125;][%p][%c&#123;40&#125;][%t] %m%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;appender name="error" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;!--&lt;File&gt;d:/mmalllog/error.log&lt;/File&gt;--&gt; &lt;File&gt;/developer/apache-tomcat-7.0.73/logs/error.log&lt;/File&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;/devsoft/apache-tomcat-7.0.73/logs/error.log.%d&#123;yyyy-MM-dd&#125;.gz&lt;/fileNamePattern&gt; &lt;!--&lt;fileNamePattern&gt;d:/mmalllog/error.log.%d&#123;yyyy-MM-dd&#125;.gz&lt;/fileNamePattern&gt;--&gt; &lt;append&gt;true&lt;/append&gt; &lt;maxHistory&gt;10&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;[%d&#123;HH:mm:ss.SSS&#125;][%p][%c&#123;40&#125;][%t] %m%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;logger name="com.mmall" additivity="false" level="INFO" &gt; &lt;appender-ref ref="mmall" /&gt; &lt;appender-ref ref="console"/&gt; &lt;/logger&gt; &lt;!-- geelynote mybatis log Êó•Âøó --&gt; &lt;logger name="com.mmall.dao" level="DEBUG"/&gt; &lt;!--&lt;logger name="com.ibatis.sqlmap.engine.impl.SqlMapClientDelegate" level="DEBUG" &gt;--&gt; &lt;!--&lt;appender-ref ref="console"/&gt;--&gt; &lt;!--&lt;/logger&gt;--&gt; &lt;!--&lt;logger name="java.sql.Connection" level="DEBUG"&gt;--&gt; &lt;!--&lt;appender-ref ref="console"/&gt;--&gt; &lt;!--&lt;/logger&gt;--&gt; &lt;!--&lt;logger name="java.sql.Statement" level="DEBUG"&gt;--&gt; &lt;!--&lt;appender-ref ref="console"/&gt;--&gt; &lt;!--&lt;/logger&gt;--&gt; &lt;!--&lt;logger name="java.sql.PreparedStatement" level="DEBUG"&gt;--&gt; &lt;!--&lt;appender-ref ref="console"/&gt;--&gt; &lt;!--&lt;/logger&gt;--&gt; &lt;root level="DEBUG"&gt; &lt;appender-ref ref="console"/&gt; &lt;appender-ref ref="error"/&gt; &lt;/root&gt;&lt;/configuration&gt; FtpÊúçÂä°Âô®ÁöÑÈÖçÁΩÆ ‰∏ä‰º†ÂõæÁâá123456ftp.server.ip=‰Ω†ÁöÑFTPÊúçÂä°Âô®ipÂú∞ÂùÄftp.user=mmallftpftp.pass=ftppasswordftp.server.http.prefix=http://img.happymmall.com/alipay.callback.url=http://www.happymmall.com/order/alipay_callback.dopassword.salt=geelysdafaqj23ou89ZXcj@#$@#$#@KJdjklj;D../dSF., IdeaÁöÑÊ≥®ÂÖ•ÂíåËá™Âä®ÁºñËØëÈÖçÁΩÆ ÂÆûÊó∂ÁºñËØë BUG Error:Maven Resources Compiler: Maven project configuration required for module ‚Äòmmall‚Äô isn‚Äôt available. Compilation of Maven projects is supported only if external build is started from an IDE. Ëß£ÂÜ≥ÊñπÊ°àÔºö AutowiredÊä•ÈîôÁöÑËß£ÂÜ≥ÊñπÊ°à ## ‰∏§‰∏™ÊèêÈ´òÂ∑•‰ΩúÊïàÁéáÁöÑÁ•ûÂô®-Restlet ClientÂíåfeÂä©Êâã https://restlet.com/modules/client/ https://chrome.google.com/webstore/category/extensions?utm_source=chrome-ntp-icon Á¨¨‰∫îÁ´† Áî®Êà∑Ê®°ÂùóÂºÄÂèë 1 Coding1.1 È´òÂ§çÁî®ÊúçÂä°Âô®ÂìçÂ∫îÂØπË±°ÁöÑËÆæËÆ°1234Âú®webÂºÄÂèë‰∏≠ÔºåÂêéÂè∞ÂºÄÂèë‰∏éÂâçÁ´Ø‰∫§‰∫í‰∏ªË¶ÅÊòØÈÄöËøájsonÁöÑÊñπÂºèÔºåÂêéÂè∞ÈÄöËøáÁªü‰∏ÄÁöÑËøîÂõûÊ†∑ÂºèÔºåÂèØ‰ª•‰ΩøÂâçÂêéÁ´ØÊõ¥Â•ΩÁöÑ‰∫§‰∫íÔºåÂú®‰∏ÄÊ¨°È°πÁõÆ‰∏≠ÔºåÊàëÊØèÊ¨°ËøîÂõû‰∏Ä‰∏™Â§çÊùÇÂØπË±°ÁöÑÊó∂ÂÄôÔºåÈÉΩÊòØÁî®‰∏Ä‰∏™ÂåøÂêçÂØπË±°Â∫èÂàóÂåñÊàêjsonÊ†ºÂºèÁöÑÊï∞ÊçÆËøîÂõûÂâçÁ´ØÔºåÁî±‰∫éËøô‰∏™È°πÁõÆÂâçÂêéÂè∞ÈÉΩÊòØÊàë‰∏Ä‰∏™‰∫∫ÂÆåÊàêÔºåÊâÄ‰ª•ÊàëËÉΩÊØîËæÉÊ∏ÖÊ•öËøîÂõûÁöÑ‰∏úË•øÔºå‰ΩÜÊòØÂ¶ÇÊûúÊòØÂâçÂêéÁ´ØÂàÜÂºÄËøõË°åÂºÄÂèëÊàñËÄÖÂâçÊúüÊòØ‰∏Ä‰∏™‰∫∫ÂºÄÂèëÔºåÂêéÊúüËøõË°åÂâçÂêéÁ´ØÁ¶ªÂ∞±‰ºöÂèòÂæóÂºÇÂ∏∏Âõ∞Èöæ„ÄÇ Âõ†Ê≠§ÔºåËßÑËåÉËøîÂõûÁöÑÊ†ºÂºèÊòæÂæóÂæàÈáçË¶ÅÔºå‰∫éÊòØ‰πéÊàë‰æøÂ∞ÅË£Ö‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÈ´òÂ§çÂèØÁî®ÁöÑÂØπË±°Áî®‰∫éÂìçÂ∫îÊï∞ÊçÆ„ÄÇÂÖ∑‰ΩìÊÄùË∑ØÂ¶Ç‰∏ãÔºö--------------------- ÂéüÊñáÔºöhttps://blog.csdn.net/x1032019725/article/details/77919079 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113ËÆæËÆ°ÊÄùË∑ØÔºö‰ΩøÁî®Ê≥õÂûãËÆ©ËøîÂõûÊï∞ÊçÆÂ§öÊ†∑ÂåñÔºå‰∏îÂèØ‰ª•ËÆ©ËøîÂõûÂØπË±°Áªü‰∏ÄÂ£∞ÊòéÁä∂ÊÄÅÂ≠óÊÆµÔºåË°®Á§∫ÊúçÂä°ÂìçÂ∫îÁä∂ÊÄÅÂ£∞ÊòéÊèèËø∞Â≠óÊÆµÔºåÊèèËø∞ÂΩìÂâçÁä∂ÊÄÅÁöÑÂéüÂõ†Â£∞ÊòéÊ≥õÂûãÊï∞ÊçÆÂ≠óÊÆµÔºåÁî®‰∫éËøîÂõûÂ§öÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÂÆûÁé∞È´òÂ§çÁî® ‰∏ªË¶Å‰ª£Á†ÅÂ¶Ç‰∏ãÔºöimport org.codehaus.jackson.annotate.JsonIgnore;import org.codehaus.jackson.map.annotate.JsonSerialize;import java.io.Serializable;/** * Created by *** on 2017/8/16. */@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)//È°πÁõÆ‰ΩøÁî®ÁöÑÊòØJacksonÂåÖÔºåÊ∑ªÂä†ËØ•Ê≥®Ëß£Ôºå‰øùËØÅjsonÂ∫èÂàóÂåñÁöÑÊó∂ÂÄôÔºå‰∏çËøîÂõûkey-nullËøôÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆpublic class ServerResponse&lt;T&gt; implements Serializable &#123; private int status; private String msg; private T data; //ÁßÅÊúâÂåñÊûÑÈÄ†ÊñπÊ≥ïÔºåÈÄöËøáÂìçÂ∫îÁä∂ÊÄÅÊù•ÂàõÂª∫ private ServerResponse(int status)&#123; this.status = status; &#125; private ServerResponse(int status,T data)&#123; this.status = status; this.data = data; &#125; private ServerResponse(int status,String msg,T data)&#123; this.status = status; this.msg = msg; this.data = data; &#125; private ServerResponse(int status,String msg)&#123; this.status = status; this.msg = msg; &#125;@JsonIgnore//jsonÂ∫èÂàóÂåñËøîÂõûÂâçÁ´ØÁöÑÊó∂ÂÄôÔºåÂøΩÁï•ËØ•ÊñπÊ≥ïÔºå‰∏çÈúÄË¶ÅËøîÂõû public boolean isSuccess() &#123; return this.status == ResponseCode.SUCCESS.getCode(); &#125; //ÊääÂ≠óÊÆµÂ∞ÅË£ÖÊàêÂ±ûÊÄßÔºåÂºÄÊîægetÊñπÊ≥ï public int getStatus()&#123; return status; &#125; public String getMsg()&#123; return msg; &#125; public T getData()&#123; return data; &#125; //Â£∞ÊòéÂàõÂª∫ÂØπË±°ÁöÑÈùôÊÄÅÊñπÊ≥ïÔºåÈÄöËøá‰∏ãÈù¢Ëøô‰∫õÊñπÊ≥ïÊù•Ë∞ÉÁî®ÁßÅÊúâÊûÑÈÄ†ÊñπÊ≥ïÔºåÂπ∂‰∏îsetÁä∂ÊÄÅ //Áä∂ÊÄÅË¢´Â£∞ÊòéÂú®Êûö‰∏æResponseCode‰∏≠ public static &lt;T&gt; ServerResponse&lt;T&gt; createBySuccess()&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode()); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createBySuccessMessage(String msg)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),msg); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createBySuccess(T data)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),data); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createBySuccess(String msg,T data)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),msg,data); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createByError()&#123; return new ServerResponse&lt;T&gt;(ResponseCode.ERROR.getCode(),ResponseCode.ERROR.getDesc()); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createByErrorMessage(String errorMessage)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.ERROR.getCode(),errorMessage); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; createByErrorCodeMessage(int errorCode,String errorMessage)&#123; return new ServerResponse&lt;T&gt;(errorCode,errorMessage); &#125;&#125; ‰∏ãÈù¢ÊòØResponseCodeÁöÑ‰∏ªË¶Å‰ª£Á†Åpublic enum ResponseCode &#123; SUCCESS(0,&quot;SUCCESS&quot;), ERROR(1,&quot;ERROR&quot;), NEED_LOGIN(10,&quot;NEED_LOGIN&quot;), ILLEGAL_ARGUMENT(2,&quot;ILLEGAL_ARGUMENT&quot;); private final int code; private final String desc; ResponseCode(int code,String desc)&#123; this.code = code; this.desc = desc; &#125; public int getCode()&#123; return this.code; &#125; public String getDesc()&#123; return this.desc; &#125;&#125; ÊÄªÁªìÔºö‰ΩøÁî®ServeResponseËøô‰∏™ÂìçÂ∫îÁ±ªÂéªËøõË°åjsonÂ∫èÂàóÂåñÔºåÁÑ∂ÂêéÂìçÂ∫îÂâçÁ´ØÔºåÊàñËÄÖÁî®‰∫éÂêéÂè∞ÁöÑÂêÑÂ±Ç‰πãÈó¥ËøõË°å‰∫§‰∫íÔºåÊèêÈ´ò‰∫Ü‰ª£Á†ÅÁöÑÂèØËØªÊÄßÔºåÂπ∂‰∏îÂ¢ûÂä†‰ª£Á†ÅÁöÑÈáçÁî®„ÄÇ--------------------- ‰ΩúËÄÖÔºöÊûÅ_Êôì Êù•Ê∫êÔºöCSDN ÂéüÊñáÔºöhttps://blog.csdn.net/x1032019725/article/details/77919079 ÁâàÊùÉÂ£∞ÊòéÔºöÊú¨Êñá‰∏∫Âçö‰∏ªÂéüÂàõÊñáÁ´†ÔºåËΩ¨ËΩΩËØ∑ÈôÑ‰∏äÂçöÊñáÈìæÊé•ÔºÅ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778È´òÂ§çÁî®ÊúçÂä°ÂìçÂ∫îÂØπË±°ÁöÑËÆæËÆ°‰∏é‰ΩøÁî®‰∏Ä.‰ªÄ‰πàÊòØÈ´òÂ§çÁî®ÊúçÂä°ÂìçÂ∫îÂØπË±°ÔºüÂÆÉÊúâ‰ªÄ‰πà‰ΩúÁî®Ôºü 1.ËøôÊ¨°È°πÁõÆ‰∏≠Ôºå‰∏∫‰∫ÜÂÆûÁé∞ÂâçÂêéÁ´ØÂàÜÁ¶ªÔºåËÆæËÆ°‰∫Ü‰∏Ä‰∏™ÊâÄÊúâÊé•Âè£ÈÉΩ‰ΩøÁî®ÔºåÂ∞ÅË£ÖÂêéÂè∞‰∏öÂä°Êï∞ÊçÆÊîæÂõûjsonÊï∞ÊçÆÁªôÂâçÁ´ØÁöÑÂØπË±°ÔºåÁî®‰∫éÂÆûÁé∞ÂâçÂêéÁ´ØÁöÑÂàÜÁ¶ªÔºåÂºÄÂèëÊïàÁéáÊúâ‰∫ÜÊòéÊòæÁöÑÊèêÈ´ò„ÄÇ ‰∫å.ÊÄé‰πà‰ΩøÁî®Ôºü 1.È¶ñÂÖàÔºåË¶ÅÊòéÁ°ÆÔºåËøô‰∏™ÂØπË±°Ë¶ÅÂÆûÁé∞Â∫èÂàóÂåñÊé•Âè£„ÄÇÂÆÉ‰∏ªË¶ÅÂ∞ÅË£Ö‰∫Ü‰∏â‰∏™Â±ûÊÄßÔºåÊ≥õÂûãÁöÑËøîÂõûÊï∞ÊçÆÔºåÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÊèêÁ§∫‰ø°ÊÅØ‰ª•ÂèäÊï¥ÂûãÁöÑÁä∂ÊÄÅÁ†ÅÔºå‰ª•ÂèäÂõõ‰∏™ÁßÅÊúâÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂΩìT ÁöÑÁ±ªÂûã‰πüÂ∞±ÊòØÊï∞ÊçÆÁ±ªÂûãÊòØStringÁ±ªÂûãÊó∂ÔºåÂ•ΩÂÉè‰ºöÂíå‰∏ãÈù¢ÁöÑString msgÈáçÂêàÔºåÂà∞Â∫ï‰ºöË∞ÉÁî®Âì™‰∏Ä‰∏™Âë¢ÔºüÁ≠îÊ°àÊòØÔºåÂΩìT‰∏∫StringÊó∂ÔºåÁöÑÁ°Æ‰ºöË∞ÉÁî®Á¨¨‰∫å‰∏™ÔºåËøôÊ†∑‰ºö‰∫ßÁîü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØÂΩìËøîÂõûÁöÑÊï∞ÊçÆÂ∞±ÊòØStringÔºåÂ¶ÇÊûúËøôÊ†∑Â∞±‰ºöÁî®Âà∞msgÁöÑÈÇ£‰∏™ÊûÑÈÄ†ÂáΩÊï∞Ôºå‰º†Âà∞‰ø°ÊÅØÈÇ£ËæπÂéª‰∫Ü„ÄÇËß£ÂÜ≥ÊñπÊ≥ïÂú®ÂêéÈù¢ÔºåÊâÄ‰ª•ÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö//‰øùËØÅÂú®Â∫èÂàóÂåñjsonÊó∂ÔºåÂ¶ÇÊûú‰∏∫Á©∫ÁöÑÂÄºÔºåkey‰πü‰ºöÊ∂àÂ§±ÔºåÊØîÂ¶ÇÂè™Ë¶ÅËøîÂõûÁä∂ÊÄÅÁ†ÅÊó∂ÔºåmsgÂíådataÂ∞±‰ºöÂøΩÁï•‰∏çËøîÂõû //‰øùËØÅÂú®Â∫èÂàóÂåñjsonÊó∂ÔºåÂ¶ÇÊûú‰∏∫Á©∫ÁöÑÂÄºÔºåkey‰πü‰ºöÊ∂àÂ§±@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)public class ServerResponse&lt;T&gt; implements Serializable &#123; private int status; private String msg; private T data; private ServerResponse(int status)&#123; this.status = status; &#125; private ServerResponse(int status,String msg)&#123; this.status = status; this.msg = msg; &#125; private ServerResponse(int status,String msg,T data)&#123; this.status = status; this.msg = msg; this.data = data; &#125; private ServerResponse(int status,T data)&#123; this.data = data;&#125; 2.ÊàêÂëòÂèòÈáèÁöÑgetÊñπÊ≥ïÔºå‰ª•Âèä‰∏Ä‰∏™Âà§Êñ≠Áä∂ÊÄÅÁ†ÅÊàñËÄÖËØ¥Âà§Êñ≠ÂìçÂ∫îÊòØÂê¶ÊàêÂäüÁöÑÊñπÊ≥ïÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö @JsonIgnore//Âú®Â∫èÂàóÂåñÊó∂ÂøΩÁï• public boolean isSuccess()&#123; return this.status==ResponseCode.SUCCESS.getCode(); &#125; public int getStatus()&#123; return status; &#125; public String getMsg()&#123; return msg; &#125; public T getData()&#123; return data; &#125; 3.Êèê‰æõÂØπÂ§ñËÆøÈóÆÁöÑ‰∏É‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÔºåÊàêÂäüÁöÑÊúâÂõõ‰∏™ÔºåÂ§±Ë¥•ÁöÑ‰∏â‰∏™ÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºöÂ§çÂà∂‰ª£Á†Åpublic static &lt;T&gt; ServerResponse&lt;T&gt; creatBySuccess()&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode()); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatBySuccessMessage(String msg)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),msg); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatBySuccess(T data)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),data); &#125; //Ëøô‰∏™ÊñπÊ≥ïÂ∞±Ëß£ÂÜ≥‰∫ÜmsgÂíåStringÁ±ªÂûãÁöÑÊï∞ÊçÆÂÜ≤Á™ÅÁöÑÈóÆÈ¢ò public static &lt;T&gt; ServerResponse&lt;T&gt; creatBySuccess(String msg,T data)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.SUCCESS.getCode(),msg,data); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatByError()&#123; return new ServerResponse&lt;T&gt;(ResponseCode.ERROR.getCode(),ResponseCode.ERROR.getDesc()); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatByErrorMessage(String errorMessage)&#123; return new ServerResponse&lt;T&gt;(ResponseCode.ERROR.getCode(),errorMessage); &#125; public static &lt;T&gt; ServerResponse&lt;T&gt; creatByErrorCodeMessage(int errorCode,String errorMessage)&#123; return new ServerResponse&lt;T&gt;(errorCode,errorMessage); &#125;Â§çÂà∂‰ª£Á†Å‰∏â.ÊÄªÁªì ËøôÊ¨°ÁöÑÈ´òÂ§çÁî®ÊúçÂä°ÂìçÂ∫îÂØπË±°ÁöÑËÆæËÆ°‰∏é‰ΩøÁî®Ê∂âÂèäÂà∞Ê≥õÂûãÁ±ªÔºåÂêéÁ´ØÁöÑÊï∞ÊçÆÁöÑÂ§ÑÁêÜÊ®°ÂºèÔºåÊûö‰∏æÁ±ªÁöÑ‰ΩøÁî®Ôºå‰ª•ÂèäÂâçÂêéÁ´ØÊï∞ÊçÆ‰∫§‰∫íÁ≠âÁü•ËØÜÔºåÂú®ÂêéÊúü‰ΩøÁî®Restlet ClintËøõË°åÊé•Âè£ÂäüËÉΩÊµãËØïÊó∂Êõ¥Âä†Áõ¥ËßÇÂú∞ÁúãÂà∞‰∫ÜËøô‰∏™ÂØπË±°ÁöÑ‰ΩúÁî®„ÄÇ https://blog.csdn.net/qq_27093465/article/details/52180865]]></content>
  </entry>
  <entry>
    <title><![CDATA[Redis Â∞öÁ°ÖË∞∑]]></title>
    <url>%2F2019%2F01%2F16%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRedis%2FRedis%20%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"><![CDATA[1 ‰∏ãËΩΩ ‚è¨ https://redis.io/download ÂÆòÁΩë‰∏ãËΩΩÂú∞ÂùÄ 2 ‰ΩøÁî® HelloWord ÂÖàcd Âà∞redis ÔºàrootÔºâ‰∏ãÈù¢ ÁÑ∂Âêéls ÊâæÂà∞src ÁÑ∂Âêé./redis-server ÁÑ∂ÂêéÊñ∞ÂºÄ‰∏Ä‰∏™ÁªàÁ´Ø ÁÑ∂Âêéls ÊâæÂà∞src ./redis-cli 3 Redis_ÂêØÂä®ÂêéÊùÇÈ°πÂü∫Á°ÄÁü•ËØÜ 4 RedisÁöÑ‰∫îÂ§ßÊï∞ÊçÆÁ±ªÂûã 5.Redis ÈîÆ key1.keys * ÔºöÂàóÂá∫ÊâÄÊúâkey 2.exists keyÁöÑÂêçÂ≠ó Âà§Êñ≠Êüê‰∏™keyÊòØÂê¶Â≠òÂú® 3. move key db ‚Äî&gt;ÂΩìÂâçÂ∫ìÂ∞±Ê≤°Êúâ‰∫Ü Ë¢´ÁßªÈô§‰∫Ü 4.expire key ÁßíÈíü ‰∏∫ÁªôÂÆöÁöÑkeyËÆæÁΩÆËøáÊúüÊó∂Èó¥5.ttl key Êü•ÁúãËøòÊúâÂ§öÂ∞ëÁßíËøáÊúü -1Ë°®Á§∫Ê∞∏‰∏çËøáÊúü -2Ë°®Á§∫Â∑≤ËøáÊúü 6.Redis String ÂçïÂÄºÂçïvalue 1.get/set/del/append/strlen Incr/decr/incrby/decrby‰∏ÄÂÆöÊòØË¶ÅÊï∞Â≠óÊâçËÉΩÂä†Âáè Get range/setrange setexÈîÆÁßíÂÄº/setnx 7 Redis -List ÂçïÂÄº Â§övalueLPUSH RPUSHLRANGE LPOP RPOP ÂèñÂá∫Ê†àÈ°∂ÂÖÉÁ¥† lindex ÊåâÁÖßÁ¥¢ÂºïËé∑ÂæóÂÖÉÁ¥† ‰ªé‰∏äÂà∞‰∏ã llen ÈïøÂ∫¶ lrem key Âà†Èô§N ‰∏™value Âà†Èô§2‰∏™ value=3ÁöÑvalue 8 Redis set 9 Redis Hash ÈáçË¶Å KVÊ®°Âºè‰∏çÂèò ‰ΩÜvÊòØ‰∏Ä‰∏™ÁÆ≠ÂÄºÂØπ 10 Redis Zset 11 Redis ÈÖçÁΩÆÊñá‰ª∂‰ªãÁªç 12 Redis_ÊåÅ‰πÖÂåñ‰πãRDB 13 Redis ÊåÅ‰πÖÂåñ ‰πãAOF 14 Redis‰∫ãÂä° 15 Redies Ê∂àÊÅØËÆ¢ÈòÖ 16 Redis‰∏ª‰ªéÂ§çÂà∂„ÄÇËØªÂÜôÂàÜÁ¶ª Âì®ÂÖµÊ®°Âºè 17 JRedis JRedis Pool]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Elasticsearch]]></title>
    <url>%2F2019%2F01%2F16%2FELasticseach%2FElsearch%2F</url>
    <content type="text"><![CDATA[Âø´ÈÄüÂÖ•Èó®ÁØáËØæÁ®ã‰ªãÁªçElasticsearchÔºåÊòØÁõÆÂâçË°å‰∏ö‰∏≠ÈùûÂ∏∏ÁÉ≠Èó®ÁöÑ‰∏Ä‰∏™ÊäÄÊúØ„ÄÇElasticsearchÊòØ‰∏ÄÁßçÂàÜÂ∏ÉÂºèÁöÑÊµ∑ÈáèÊï∞ÊçÆÊêúÁ¥¢‰∏éÂàÜÊûêÁöÑÊäÄÊúØÔºåÂèØ‰ª•Áî®‰∫éÁîµÂïÜÁΩëÁ´ô„ÄÅÈó®Êà∑ÁΩëÁ´ô„ÄÅ‰ºÅ‰∏öITÁ≥ªÁªüÁ≠âÂêÑÁßçÂú∫ÊôØ‰∏ãÁöÑÊêúÁ¥¢ÂºïÊìéÔºå‰πüÂèØ‰ª•Áî®‰∫éÂØπÊµ∑ÈáèÁöÑÊï∞ÊçÆËøõË°åËøëÂÆûÊó∂ÁöÑÊï∞ÊçÆÂàÜÊûê„ÄÇÁõ∏ËæÉ‰∫éLuceneÊù•ËØ¥ÔºåElasticsearchÂ§©ÁÑ∂ÁöÑÂàÜÂ∏ÉÂºèÁâπÊÄßÔºåËÆ©ÂÖ∂ÂèØ‰ª•ÊîØÊåÅÊµ∑ÈáèÁöÑ„ÄÅPBÁ∫ßÁöÑÂ§ßÊï∞ÊçÆÊêúÁ¥¢„ÄÇÁõ∏ÂØπ‰∫éSpark Streaming„ÄÅStormÁ≠âÂ§ßÊï∞ÊçÆÂÆûÊó∂ËÆ°ÁÆóÂºïÊìéÊù•ËØ¥ÔºåElasticsearchÂ§©Áîü‰∏∫ÂàÜÂ∏ÉÂºèÊâßË°åÊï∞ÊçÆÂàÜÊûêÊìç‰ΩúËÄåÁîüÁöÑÊû∂ÊûÑÔºåÊµ∑ÈáèÊï∞ÊçÆÈáèÁ∫ß‰∏ãÁöÑËøëÂÆûÊó∂ÔºàÁßíÁ∫ßÔºâÊÄßËÉΩÊîØÊåÅÔºå‰ª•ÂèäÊó†ÊØîÂº∫Â§ßÁöÑÊêúÁ¥¢ÂíåËÅöÂêàÂàÜÊûêÁöÑËØ≠Ê≥ïÊîØÊåÅÔºåËÆ©ESÊõ¥Âä†ÈÄÇÂêàËøõË°åÂ§ßÊï∞ÊçÆÂú∫ÊôØ‰∏ãÁöÑÊï∞ÊçÆÂàÜÊûêÂ∫îÁî®„ÄÇ Spark StreamingËøõË°åÂÆûÊó∂Êï∞ÊçÆÂàÜÊûêÔºåÊúâÂ§©ÁÑ∂ÁöÑÊó†Ê≥ïÂÖ®ÈáèÂ§öÊï∞ÊçÆÊµÅjoin„ÄÅÂÜÖÊ†∏shuffleËøáÁ®ãÂ§ßÈáèÂü∫‰∫éÁ£ÅÁõòËêΩÂú∞Á≠âÁº∫Èô∑ÔºåÂØºËá¥ÂÖ∂ÂÆûÊó∂Êï∞ÊçÆÂàÜÊûêÂäüËÉΩËæÉÂ∑ÆÔºåÂÆûÊó∂Êï∞ÊçÆÂàÜÊûêÊÄßËÉΩ‰πüËæÉÂ∑Æ„ÄÇStormÂàô‰Ωú‰∏∫ÂÆûÊó∂ËÆ°ÁÆóÂºïÊìéÁöÑÈºªÁ•ñÔºåÁî±‰∫éÂÖ∂ÂØπSQLÁöÑÊîØÊåÅÂæàÂº±ÔºåÂØºËá¥ÂÖ∂ÈùûÂ∏∏‰∏çÈÄÇÂêàËøõË°åÂÆûÊó∂Êï∞ÊçÆÂàÜÊûêÔºåÂºÄÂèëÊàêÊú¨Â∑®Â§ß„ÄÇËÄåElasticsearchÂÖãÊúç‰∫Ü‰∏äËø∞Â§ßÊï∞ÊçÆÊäÄÊúØÁöÑÁº∫ÁÇπÔºåÊõ¥Âä†ÈÄÇÂêàËøõË°åÂ§ßÊï∞ÊçÆÂú∫ÊôØ‰∏ãÁöÑÊï∞ÊçÆÂàÜÊûêÊìç‰Ωú„ÄÇ Êú¨ËØæÁ®ãÊ∑±ÂÖ•ÊµÖÂá∫ÂâñÊûê‰∫ÜElasticsearchÁöÑÊ†∏ÂøÉÂü∫Á°ÄÁü•ËØÜÔºåÂ∏¶ÁùÄÂ§ßÂÆ∂‰∏ÄÊ≠•‰∏ÄÊ≠•Ôºå‰ªéÂø´ÈÄüÂÖ•Èó®ÔºåÂà∞ÁêÜËß£ElasticsearchÁöÑÂ∑•‰ΩúÂéüÁêÜ„ÄÅÂÜÖÊ†∏Á∫ßÂéüÁêÜÔºåÂÜçÂà∞Âä®ÊâãÂÆûÊàòÊìç‰ΩúElasticsearchÁöÑÂêÑÁßçÊ†∏ÂøÉÂäüËÉΩÔºåÂà∞ÊúÄÂêéÂèØ‰ª•Âü∫‰∫éJavaÂºÄÂèëÂü∫Êú¨ÁöÑÊêúÁ¥¢ÂíåÂàÜÊûêÂ∫îÁî®Á®ãÂ∫è„ÄÇ ËØæÁ®ãÁâπÁÇπÂ¶Ç‰∏ãÔºö 1„ÄÅÂü∫‰∫éElasticsearchÊúÄÊñ∞ÁâàÊú¨Ôºå5.2ÁâàÊú¨ÔºåËøõË°åËØæÁ®ãÁöÑËÆ≤Ëß£ÔºåËÆ©Â§ßÂÆ∂Â≠¶Â•ΩÊäÄÊúØÂêéÔºåÁªùÂØπ‰∏ç‰ºöËêΩ‰ºç„ÄÇËÄåÂ∏ÇÈù¢‰∏äÁöÑ‰π¶Á±çÂíåËßÜÈ¢ëÔºå‰ΩøÁî®ÁöÑElasticsearchÁâàÊú¨ÈÉΩÈùûÂ∏∏ÈôàÊóßÔºå‰∏ÄËà¨ÈÉΩÊòØ1.xÔºåÊàñËÄÖ2.xÔºåÂç≥‰ΩøÂ≠¶‰∫ÜÔºå‰πüÂÆåÂÖ®Ë∑üÁé∞Âú®ÊúÄÊñ∞ÁöÑÁâàÊú¨Êó†Ê≥ïÂÖºÂÆπÔºåÊó†Ê≥ïËÆ©ÂêåÂ≠¶‰ª¨Â≠¶‰ª•Ëá¥Áî®„ÄÇ 2„ÄÅÂ§ßÁôΩËØùËÆ≤Ëß£ÂêÑÁßçÂ§çÊùÇÁü•ËØÜÁÇπÔºå‰∏çÁî®Â§™ÂÆòÊñπÂíåÂ≠¶ÊúØÁöÑËØ≠Ë®ÄÁÖßÁùÄpptÁÆÄÂçïËÆ≤Ëß£ÔºåËÄåÊòØÈááÁî®‰∏éÊúãÂèãËÅäÂ§©ÂºèÁöÑÊñπÂºèÔºåËøõË°åÂØπËØùÂíåËÆ≤Ëß£ÔºåÂ∞ΩÈáèÈááÁî®ÊúÄÈÄö‰øóÁöÑËØ≠Ë®ÄÊù•Ëß£ÈáäÂêÑÁßçÂ§çÊùÇÁöÑÊäÄÊúØÈóÆÈ¢òÔºåËøòÊúâÂ∫ïÂ±ÇÂéüÁêÜ„ÄÇ 3„ÄÅËØæÁ®ãÁü•ËØÜ‰ΩìÁ≥ªËÆæËÆ°ÁöÑË∂≥Â§üËØ¶ÁªÜÔºåÂ∞Ü‰∏ÄÈó®ÊäÄÊúØÁöÑÂêÑ‰∏™Áü•ËØÜÁÇπÂíåÊäÄÊúØÁÇπÔºåÂÖ®ÈÉ®ÂåÖÂê´Âú®ËØæÁ®ã‰∏≠Ôºå‰∏ÄÁÇπ‰∏ÄÁÇπÁöÑÁªÜËá¥ÂâñÊûêÂíåÂ±ïÂºÄËÆ≤Ëß£ÔºåÁªù‰∏çËÆ©Â§ßÂÆ∂ÈÅóÊºè‰ªª‰ΩïÊúâÁî®ÁöÑÁü•ËØÜÁÇπÔºåÂ∞ΩÈáèÂÅöÂà∞ÔºåËØæÁ®ãÁü•ËØÜ‰ΩìÁ≥ªÂÆåÊï¥ÔºåÁ≥ªÁªüÂåñÔºåÊúâÂπøÂ∫¶ÔºåËÄå‰∏î‰πüÊúâÊ∑±Â∫¶„ÄÇÊØîÂ¶ÇËØ¥Êú¨Â•óËØæÁ®ã‰∏≠ÔºåÊó¢ÂÖ®Èù¢ÂåÖÊã¨‰∫Ü‰ªéÂÖ•Èó®‰ΩøÁî®ÔºåÂà∞ÂàÜÂ∏ÉÂºèÊñáÊ°£Á≥ªÁªüÊìç‰ΩúÔºåÂà∞ÊêúÁ¥¢ÂºïÊìéÊìç‰ΩúÔºåÂà∞Á¥¢ÂºïÁÆ°ÁêÜÔºåÊúÄÂêéÂà∞Java API‰ΩøÁî®ÔºåËøôÊ†∑ÂÆåÊï¥ÁöÑÁü•ËØÜ‰ΩìÁ≥ª„ÄÇÂêåÊó∂ËøòÁªÜËá¥Âà∞ÂåÖÂê´ÂæàÂ§öÁã¨ÂÆ∂ÁöÑÁü•ËØÜÁÇπÔºåÊØîÂ¶ÇËØ¥ElasticsearchÂ¶Ç‰ΩïÁ™ÅÁ†¥Êâ©ÂÆπÁì∂È¢àÔºåsearch timeoutÊú∫Âà∂ÔºåÂ¶Ç‰ΩïÂÆö‰Ωç‰∏çÂêàÊ≥ïÁöÑÊêúÁ¥¢ÔºåÁ≠âÁ≠â„ÄÇ 4„ÄÅÂåÖÂê´ÂæàÂ§öÁã¨ÂÆ∂ÁöÑÊ†∏ÂøÉÁü•ËØÜÁÇπÂíåÊäÄÊúØÔºåÊØîÂ¶Ç‰πêËßÇÈîÅÂπ∂ÂèëÊéßÂà∂ÔºåÂÜô‰∏ÄËá¥ÊÄß‰∏équorumÊú∫Âà∂Ôºåbulk apiÂ∫ïÂ±ÇÊÄßËÉΩ‰ºòÂåñÔºådeep-pagingÊÄßËÉΩÈóÆÈ¢òÔºåÂ§ßÊï∞ÊçÆÈáèÈõ∂ÂÅúÊú∫ÈáçÂª∫Á¥¢ÂºïÔºåÁ≠âÁ≠â„ÄÇ 5„ÄÅËØæÁ®ãÁöÑÂéüÁêÜÊÄßËÆ≤Ëß£Ë∂≥Â§üÊ∑±ÂÖ•Ôºå‰∏ÄÁõ¥ÂâñÊûêÂà∞ESÁöÑÂÜÖÊ†∏Â±ÇÈù¢ÔºåËÄå‰∏îÂá†‰πéÊâÄÊúâÂéüÁêÜÁü•ËØÜÁÇπÁöÑËÆ≤Ëß£100%ÈÉΩ‰ΩøÁî®Áé∞Âú∫‰∏ÄÁÇπ‰∏ÄÁÇπÊâãÂ∑•ÁîªÂõæÁöÑÊñπÂºèÊù•ÂâñÊûêÂíåËÆ≤Ëß£„ÄÇÊØîÂ¶ÇESÂÆπÈîôÊú∫Âà∂ÔºådocumentÊï∞ÊçÆË∑ØÁî±ÔºåobjectÁ±ªÂûãÂ∫ïÂ±ÇÁªìÊûÑÔºåÁõ∏ÂÖ≥Â∫¶ËØÑÂàÜTF/IDFÁÆóÊ≥ïÔºådoc valueÔºåtypeÂ∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÔºåÂÜÖÊ†∏Á∫ßÊï∞ÊçÆÂÜôÂÖ•ÊµÅÁ®ãÔºåindex segment„ÄÅmemory buffer„ÄÅfilesystem cache„ÄÅflush„ÄÅcommitÁ≠âÂÜÖÊ†∏Á∫ßÂéüÁêÜ„ÄÇ 6„ÄÅÂ§ßÈáèÁöÑ‰∏äÊú∫Âä®ÊâãÂÆûÈ™åÔºåÂá†‰πéÊâÄÊúâÂäüËÉΩÈÉΩ‰ºöÂ∏¶ÁùÄÂ§ßÂÆ∂‰∏äÊú∫Âä®ÊâãÂÆûÊàòÊìç‰ΩúÔºåÊºîÁªÉÔºåÊéåÊè°ÂäüËÉΩÁöÑ‰ΩøÁî®„ÄÇÊØîÂ¶ÇÂÖ•Èó®Á∫ßÁöÑÁîµÂïÜÁΩëÁ´ôÂïÜÂìÅÁÆ°ÁêÜÊ°à‰æãÔºåÂü∫‰∫éÁâàÊú¨Âè∑ËøõË°å‰πêËßÇÈîÅÂπ∂ÂèëÊéßÂà∂ÁöÑÂÆûÈ™åÔºåmget+bulkÊâπÈáèÂ§ÑÁêÜÁöÑÂÆûÈ™åÔºåscollÊªöÂä®ÊêúÁ¥¢Â§ßÈáèÊï∞ÊçÆÁöÑÂÆûÈ™åÔºåscoll+bulk+aliasÈõ∂ÂÅúÊú∫ÈáçÂª∫Á¥¢ÂºïÁöÑÂÆûÈ™åÔºåÂü∫‰∫éJavaÂºÄÂèëÁöÑÂëòÂ∑•ÁÆ°ÁêÜÊ°à‰æãÔºåÁ≠âÁ≠â„ÄÇ Êú¨Â•óËØæÁ®ãÂ≠¶ÂÆå‰ª•ÂêéËÉΩÂ§üËææÂà∞ÁöÑÊïàÊûúÔºö 1„ÄÅÂø´ÈÄüÊéåÊè°ElasticsearchÁöÑÂêÑÁßç‰ΩøÁî®ÔºåÂåÖÊã¨documentÁÆ°ÁêÜÔºåÁ¥¢ÂºïÁÆ°ÁêÜÔºåÊêúÁ¥¢ÔºåËÅöÂêàÂàÜÊûêÔºåÁ≠âÁ≠â„ÄÇ2„ÄÅÁªÜËá¥ÊéåÊè°ElasticsearchÁöÑÂêÑÁßçÈ´òÁ∫ßÊ†∏ÂøÉÁü•ËØÜÁÇπÔºåÂåÖÊã¨‰πêËßÇÈîÅÂπ∂ÂèëÊéßÂà∂Ôºåmget+bulkÊâπÂ§ÑÁêÜÔºåÈõ∂ÂÅúÊú∫Âú∫ÊôØ‰∏ãÈáçÂª∫Á¥¢ÂºïÔºådynamic mappingÊ®°ÊùøÂÆöÂà∂ÔºåÂàÜËØçÂô®ÂÆöÂà∂ÔºåÁ≠âÁ≠â„ÄÇ3„ÄÅÊ∑±ÂÖ•ÁêÜËß£ElasticsearchÁöÑÂêÑÁßçÊ†∏ÂøÉÂéüÁêÜÔºåÂåÖÊã¨ÂàÜÂ∏ÉÂºèÊû∂ÊûÑÂéüÁêÜÔºåÂàÜÂ∏ÉÂºèÊñáÊ°£Á≥ªÁªüÂéüÁêÜÔºåÂàÜÂ∏ÉÂºèÊêúÁ¥¢ÂºïÊìéÂéüÁêÜÔºåÂÜÖÊ†∏Á∫ßÂéüÁêÜ„ÄÇ4„ÄÅÂø´ÈÄüÊéåÊè°Âü∫‰∫éJavaÊù•ÂºÄÂèëElasticsearchÁöÑÁÆÄÂçïÂ∫îÁî®Á®ãÂ∫èÔºåÂÆûÁé∞ÂåÖÊã¨documentÂ¢ûÂà†ÊîπÊü•ÔºåÂ∏∏ËßÅÁöÑÊêúÁ¥¢Êìç‰ΩúÔºåÂ∏∏ËßÅÁöÑËÅöÂêàÂàÜÊûêÊìç‰Ωú„ÄÇ5„ÄÅÂü∫‰∫é‰∏äËø∞4ÁÇπÁöÑÊéåÊè°ÔºåÂèØ‰ª•‰∏∫Êõ¥Âä†Ëøõ‰∏ÄÊ≠•Ê∑±ÂÖ•Â≠¶‰π†ElasticsearchËøôÈó®ÊäÄÊúØÊâìÂ•ΩÂü∫Á°Ä„ÄÇ „ÄäElasticsearchÈ°∂Â∞ñÈ´òÊâãÁ≥ªÂàóËØæÁ®ãÔºöÊ†∏ÂøÉÁü•ËØÜÁØáÔºà‰∏ãÂçäÂ≠£Ôºâ„ÄãÈ¢ÑÂëäÔºö Ê†∏ÂøÉÁü•ËØÜÁØáËøò‰ºöÊúâ‰∏ãÂçäÂ≠£Ôºå‰ºöÂú®ËøôÂçäÂ≠£ÁöÑÂü∫Á°Ä‰∏äÊõ¥Âä†Ê∑±ÂÖ•ÁöÑÂéªËÆ≤Ëß£ElasticsearchÁöÑÊ†∏ÂøÉÁü•ËØÜÔºåËÆ©Â§ßÂÆ∂‰∏ÄÁ´ôÂºèÂΩªÂ∫ïÊéåÊè°ÂíåÁ≤æÈÄöESÁöÑÊ†∏ÂøÉÁü•ËØÜ‰ΩìÁ≥ª 1„ÄÅÊ∑±Â∫¶Êé¢ÁßòElasticsearchÁöÑÊêúÁ¥¢ÂäüËÉΩÔºåÂΩªÂ∫ïËÆ≤Ëß£ESÊêúÁ¥¢Áõ∏ÂÖ≥ÁöÑÊâÄÊúâÁü•ËØÜÁÇπÔºåÂåÖÊã¨Â§çÊùÇÂ§öÊù°‰ª∂ÁªÑÂêàÊêúÁ¥¢ÔºåÊêúÁ¥¢ÊùÉÈáçÊéßÂà∂ÔºåÂ§öÂüü/Ë∑®ÂüüÊêúÁ¥¢ÔºåËøë‰ººÂåπÈÖçÊêúÁ¥¢Ôºåsearch as you typeÔºåÁõ∏ÂÖ≥Â∫¶ËØÑÂàÜÂΩªÂ∫ïÊéåÊéßÔºåStemmerÔºåÊ®°Á≥äÂåπÈÖçÂíåËá™Âä®Á∫†ÈîôÔºåÁ≠âÁ≠â„ÄÇ 2„ÄÅÂΩªÂ∫ïËß£ÊûêESÁöÑÊï∞ÊçÆËÅöÂêàÂàÜÊûêÂäüËÉΩÔºåÂåÖÊã¨Âü∫‰∫éÊó∂Èó¥Ë∑®Â∫¶ÁöÑËÅöÂêàÂàÜÊûêÔºåËÅöÂêàÁªìÊûúÊéíÂ∫èÔºåËøë‰ººËÅöÂêàÁÆóÊ≥ïÔºådoc valueÂíåfielddataÂ§ßÊè≠ÁßòÔºåÁ≠âÁ≠â„ÄÇ 3„ÄÅÊ∑±ÂÖ•ËÆ≤Ëß£ESÁöÑÊï∞ÊçÆÂª∫Ê®°ÔºåÂåÖÊã¨Áà∂Â≠êÂÖ≥Á≥ªÊï∞ÊçÆÂª∫Ê®°ÔºåÂµåÂ•óÂÖ≥Á≥ªÊï∞ÊçÆÂª∫Ê®°ÔºåË∂ÖÂ§ßÊï∞ÊçÆÈáèÂú∫ÊôØ‰∏ãÔºåÊêúÁ¥¢ÂíåÂàÜÊûêÂ∫îÁî®ÁöÑÊï∞ÊçÆÂª∫Ê®°‰∏éËÆæËÆ°ÂéüÂàôÔºåÁ≠âÁ≠â„ÄÇ 4„ÄÅÂü∫‰∫éJavaÂΩªÂ∫ïÁé©ËΩ¨ElasticsearchÔºåÂåÖÊã¨Âü∫‰∫éJavaÂÆûÁé∞bulkÔºåscollÔºåÂ§çÊùÇÊêúÁ¥¢ÔºåÂ§çÊùÇËÅöÂêàÔºåÁ¥¢ÂºïÁÆ°ÁêÜÔºåÁ≠âÁ≠â„ÄÇ 5„ÄÅÈ°πÁõÆÂÆûÊàòÔºöÊñ∞ÈóªÈó®Êà∑ÁΩëÁ´ôÁöÑÂ∞èÂûãÊêúÁ¥¢ÂºïÊìé&amp;Êï∞ÊçÆÂàÜÊûêÁ≥ªÁªü ElasticsearchÁöÑÂäüËÉΩ ÁâπÁÇπ ÈÄÇÁî®Âú∫ÊôØËØæÁ®ãÂ§ßÁ∫≤ 1„ÄÅElasticsearchÁöÑÂäüËÉΩÔºåÂπ≤‰ªÄ‰πàÁöÑ2„ÄÅElasticsearchÁöÑÈÄÇÁî®Âú∫ÊôØÔºåËÉΩÂú®‰ªÄ‰πàÂú∞ÊñπÂèëÊå•‰ΩúÁî®3„ÄÅElasticsearchÁöÑÁâπÁÇπÔºåË∑üÂÖ∂‰ªñÁ±ª‰ººÁöÑ‰∏úË•ø‰∏çÂêåÁöÑÂú∞ÊñπÂú®Âì™Èáå 1„ÄÅElasticsearchÁöÑÂäüËÉΩ Ôºà1ÔºâÂàÜÂ∏ÉÂºèÁöÑÊêúÁ¥¢ÂºïÊìéÂíåÊï∞ÊçÆÂàÜÊûêÂºïÊìé ÊêúÁ¥¢ÔºöÁôæÂ∫¶ÔºåÁΩëÁ´ôÁöÑÁ´ôÂÜÖÊêúÁ¥¢ÔºåITÁ≥ªÁªüÁöÑÊ£ÄÁ¥¢Êï∞ÊçÆÂàÜÊûêÔºöÁîµÂïÜÁΩëÁ´ôÔºåÊúÄËøë7Â§©ÁâôËÜèËøôÁßçÂïÜÂìÅÈîÄÈáèÊéíÂêçÂâç10ÁöÑÂïÜÂÆ∂ÊúâÂì™‰∫õÔºõÊñ∞ÈóªÁΩëÁ´ôÔºåÊúÄËøë1‰∏™ÊúàËÆøÈóÆÈáèÊéíÂêçÂâç3ÁöÑÊñ∞ÈóªÁâàÂùóÊòØÂì™‰∫õÂàÜÂ∏ÉÂºèÔºåÊêúÁ¥¢ÔºåÊï∞ÊçÆÂàÜÊûê Ôºà2ÔºâÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÁªìÊûÑÂåñÊ£ÄÁ¥¢ÔºåÊï∞ÊçÆÂàÜÊûê ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºöÊàëÊÉ≥ÊêúÁ¥¢ÂïÜÂìÅÂêçÁß∞ÂåÖÂê´ÁâôËÜèÁöÑÂïÜÂìÅÔºåselect from products where product_name like ‚Äú%ÁâôËÜè%‚ÄùÁªìÊûÑÂåñÊ£ÄÁ¥¢ÔºöÊàëÊÉ≥ÊêúÁ¥¢ÂïÜÂìÅÂàÜÁ±ª‰∏∫Êó•ÂåñÁî®ÂìÅÁöÑÂïÜÂìÅÈÉΩÊúâÂì™‰∫õÔºåselect from products where category_id=‚ÄôÊó•ÂåñÁî®ÂìÅ‚ÄôÈÉ®ÂàÜÂåπÈÖç„ÄÅËá™Âä®ÂÆåÊàê„ÄÅÊêúÁ¥¢Á∫†Èîô„ÄÅÊêúÁ¥¢Êé®ËçêÊï∞ÊçÆÂàÜÊûêÔºöÊàë‰ª¨ÂàÜÊûêÊØè‰∏Ä‰∏™ÂïÜÂìÅÂàÜÁ±ª‰∏ãÊúâÂ§öÂ∞ë‰∏™ÂïÜÂìÅÔºåselect category_id,count(*) from products group by category_id Ôºà3ÔºâÂØπÊµ∑ÈáèÊï∞ÊçÆËøõË°åËøëÂÆûÊó∂ÁöÑÂ§ÑÁêÜ ÂàÜÂ∏ÉÂºèÔºöESËá™Âä®ÂèØ‰ª•Â∞ÜÊµ∑ÈáèÊï∞ÊçÆÂàÜÊï£Âà∞Â§öÂè∞ÊúçÂä°Âô®‰∏äÂéªÂ≠òÂÇ®ÂíåÊ£ÄÁ¥¢Êµ∑ËÅîÊï∞ÊçÆÁöÑÂ§ÑÁêÜÔºöÂàÜÂ∏ÉÂºè‰ª•ÂêéÔºåÂ∞±ÂèØ‰ª•ÈááÁî®Â§ßÈáèÁöÑÊúçÂä°Âô®ÂéªÂ≠òÂÇ®ÂíåÊ£ÄÁ¥¢Êï∞ÊçÆÔºåËá™ÁÑ∂ËÄåÁÑ∂Â∞±ÂèØ‰ª•ÂÆûÁé∞Êµ∑ÈáèÊï∞ÊçÆÁöÑÂ§ÑÁêÜ‰∫ÜËøëÂÆûÊó∂ÔºöÊ£ÄÁ¥¢‰∏™Êï∞ÊçÆË¶ÅËä±Ë¥π1Â∞èÊó∂ÔºàËøôÂ∞±‰∏çË¶ÅËøëÂÆûÊó∂ÔºåÁ¶ªÁ∫øÊâπÂ§ÑÁêÜÔºåbatch-processingÔºâÔºõÂú®ÁßíÁ∫ßÂà´ÂØπÊï∞ÊçÆËøõË°åÊêúÁ¥¢ÂíåÂàÜÊûê Ë∑üÂàÜÂ∏ÉÂºè/Êµ∑ÈáèÊï∞ÊçÆÁõ∏ÂèçÁöÑÔºöluceneÔºåÂçïÊú∫Â∫îÁî®ÔºåÂè™ËÉΩÂú®ÂçïÂè∞ÊúçÂä°Âô®‰∏ä‰ΩøÁî®ÔºåÊúÄÂ§öÂè™ËÉΩÂ§ÑÁêÜÂçïÂè∞ÊúçÂä°Âô®ÂèØ‰ª•Â§ÑÁêÜÁöÑÊï∞ÊçÆÈáè 2„ÄÅElasticsearchÁöÑÈÄÇÁî®Âú∫ÊôØ ÂõΩÂ§ñ Ôºà1ÔºâÁª¥Âü∫ÁôæÁßëÔºåÁ±ª‰ººÁôæÂ∫¶ÁôæÁßëÔºåÁâôËÜèÔºåÁâôËÜèÁöÑÁª¥Âü∫ÁôæÁßëÔºåÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÈ´ò‰∫ÆÔºåÊêúÁ¥¢Êé®ËçêÔºà2ÔºâThe GuardianÔºàÂõΩÂ§ñÊñ∞ÈóªÁΩëÁ´ôÔºâÔºåÁ±ª‰ººÊêúÁãêÊñ∞ÈóªÔºåÁî®Êà∑Ë°å‰∏∫Êó•ÂøóÔºàÁÇπÂáªÔºåÊµèËßàÔºåÊî∂ËóèÔºåËØÑËÆ∫Ôºâ+Á§æ‰∫§ÁΩëÁªúÊï∞ÊçÆÔºàÂØπÊüêÊüêÊñ∞ÈóªÁöÑÁõ∏ÂÖ≥ÁúãÊ≥ïÔºâÔºåÊï∞ÊçÆÂàÜÊûêÔºåÁªôÂà∞ÊØèÁØáÊñ∞ÈóªÊñáÁ´†ÁöÑ‰ΩúËÄÖÔºåËÆ©‰ªñÁü•ÈÅì‰ªñÁöÑÊñáÁ´†ÁöÑÂÖ¨‰ºóÂèçÈ¶àÔºàÂ•ΩÔºåÂùèÔºåÁÉ≠Èó®ÔºåÂûÉÂúæÔºåÈÑôËßÜÔºåÂ¥áÊãúÔºâÔºà3ÔºâStack OverflowÔºàÂõΩÂ§ñÁöÑÁ®ãÂ∫èÂºÇÂ∏∏ËÆ®ËÆ∫ËÆ∫ÂùõÔºâÔºåITÈóÆÈ¢òÔºåÁ®ãÂ∫èÁöÑÊä•ÈîôÔºåÊèê‰∫§‰∏äÂéªÔºåÊúâ‰∫∫‰ºöË∑ü‰Ω†ËÆ®ËÆ∫ÂíåÂõûÁ≠îÔºåÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÊêúÁ¥¢Áõ∏ÂÖ≥ÈóÆÈ¢òÂíåÁ≠îÊ°àÔºåÁ®ãÂ∫èÊä•Èîô‰∫ÜÔºåÂ∞±‰ºöÂ∞ÜÊä•Èîô‰ø°ÊÅØÁ≤òË¥¥Âà∞ÈáåÈù¢ÂéªÔºåÊêúÁ¥¢ÊúâÊ≤°ÊúâÂØπÂ∫îÁöÑÁ≠îÊ°àÔºà4ÔºâGitHubÔºàÂºÄÊ∫ê‰ª£Á†ÅÁÆ°ÁêÜÔºâÔºåÊêúÁ¥¢‰∏äÂçÉ‰∫øË°å‰ª£Á†ÅÔºà5ÔºâÁîµÂïÜÁΩëÁ´ôÔºåÊ£ÄÁ¥¢ÂïÜÂìÅÔºà6ÔºâÊó•ÂøóÊï∞ÊçÆÂàÜÊûêÔºålogstashÈááÈõÜÊó•ÂøóÔºåESËøõË°åÂ§çÊùÇÁöÑÊï∞ÊçÆÂàÜÊûêÔºàELKÊäÄÊúØÔºåelasticsearch+logstash+kibanaÔºâÔºà7ÔºâÂïÜÂìÅ‰ª∑Ê†ºÁõëÊéßÁΩëÁ´ôÔºåÁî®Êà∑ËÆæÂÆöÊüêÂïÜÂìÅÁöÑ‰ª∑Ê†ºÈòàÂÄºÔºåÂΩì‰Ωé‰∫éËØ•ÈòàÂÄºÁöÑÊó∂ÂÄôÔºåÂèëÈÄÅÈÄöÁü•Ê∂àÊÅØÁªôÁî®Êà∑ÔºåÊØîÂ¶ÇËØ¥ËÆ¢ÈòÖÁâôËÜèÁöÑÁõëÊéßÔºåÂ¶ÇÊûúÈ´òÈú≤Ê¥ÅÁâôËÜèÁöÑÂÆ∂Â∫≠Â•óË£Ö‰Ωé‰∫é50ÂùóÈí±ÔºåÂ∞±ÈÄöÁü•ÊàëÔºåÊàëÂ∞±Âéª‰π∞Ôºà8ÔºâBIÁ≥ªÁªüÔºåÂïÜ‰∏öÊô∫ËÉΩÔºåBusiness Intelligence„ÄÇÊØîÂ¶ÇËØ¥Êúâ‰∏™Â§ßÂûãÂïÜÂú∫ÈõÜÂõ¢ÔºåBIÔºåÂàÜÊûê‰∏Ä‰∏ãÊüêÊüêÂå∫ÂüüÊúÄËøë3Âπ¥ÁöÑÁî®Êà∑Ê∂àË¥πÈáëÈ¢ùÁöÑË∂ãÂäø‰ª•ÂèäÁî®Êà∑Áæ§‰ΩìÁöÑÁªÑÊàêÊûÑÊàêÔºå‰∫ßÂá∫Áõ∏ÂÖ≥ÁöÑÊï∞Âº†Êä•Ë°®Ôºå**Âå∫ÔºåÊúÄËøë3Âπ¥ÔºåÊØèÂπ¥Ê∂àË¥πÈáëÈ¢ùÂëàÁé∞100%ÁöÑÂ¢ûÈïøÔºåËÄå‰∏îÁî®Êà∑Áæ§‰Ωì85%ÊòØÈ´òÁ∫ßÁôΩÈ¢ÜÔºåÂºÄ‰∏Ä‰∏™Êñ∞ÂïÜÂú∫„ÄÇESÊâßË°åÊï∞ÊçÆÂàÜÊûêÂíåÊåñÊéòÔºåKibanaËøõË°åÊï∞ÊçÆÂèØËßÜÂåñ ÂõΩÂÜÖ Ôºà9ÔºâÂõΩÂÜÖÔºöÁ´ôÂÜÖÊêúÁ¥¢ÔºàÁîµÂïÜÔºåÊãõËÅòÔºåÈó®Êà∑ÔºåÁ≠âÁ≠âÔºâÔºåITÁ≥ªÁªüÊêúÁ¥¢ÔºàOAÔºåCRMÔºåERPÔºåÁ≠âÁ≠âÔºâÔºåÊï∞ÊçÆÂàÜÊûêÔºàESÁÉ≠Èó®ÁöÑ‰∏Ä‰∏™‰ΩøÁî®Âú∫ÊôØÔºâ 3„ÄÅElasticsearchÁöÑÁâπÁÇπ Ôºà1ÔºâÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™Â§ßÂûãÂàÜÂ∏ÉÂºèÈõÜÁæ§ÔºàÊï∞ÁôæÂè∞ÊúçÂä°Âô®ÔºâÊäÄÊúØÔºåÂ§ÑÁêÜPBÁ∫ßÊï∞ÊçÆÔºåÊúçÂä°Â§ßÂÖ¨Âè∏Ôºõ‰πüÂèØ‰ª•ËøêË°åÂú®ÂçïÊú∫‰∏äÔºåÊúçÂä°Â∞èÂÖ¨Âè∏Ôºà2ÔºâElasticsearch‰∏çÊòØ‰ªÄ‰πàÊñ∞ÊäÄÊúØÔºå‰∏ªË¶ÅÊòØÂ∞ÜÂÖ®ÊñáÊ£ÄÁ¥¢„ÄÅÊï∞ÊçÆÂàÜÊûê‰ª•ÂèäÂàÜÂ∏ÉÂºèÊäÄÊúØÔºåÂêàÂπ∂Âú®‰∫Ü‰∏ÄËµ∑ÔºåÊâçÂΩ¢Êàê‰∫ÜÁã¨‰∏ÄÊó†‰∫åÁöÑESÔºõluceneÔºàÂÖ®ÊñáÊ£ÄÁ¥¢ÔºâÔºåÂïÜÁî®ÁöÑÊï∞ÊçÆÂàÜÊûêËΩØ‰ª∂Ôºà‰πüÊòØÊúâÁöÑÔºâÔºåÂàÜÂ∏ÉÂºèÊï∞ÊçÆÂ∫ìÔºàmycatÔºâÔºà3ÔºâÂØπÁî®Êà∑ËÄåË®ÄÔºåÊòØÂºÄÁÆ±Âç≥Áî®ÁöÑÔºåÈùûÂ∏∏ÁÆÄÂçïÔºå‰Ωú‰∏∫‰∏≠Â∞èÂûãÁöÑÂ∫îÁî®ÔºåÁõ¥Êé•3ÂàÜÈíüÈÉ®ÁΩ≤‰∏Ä‰∏ãESÔºåÂ∞±ÂèØ‰ª•‰Ωú‰∏∫Áîü‰∫ßÁéØÂ¢ÉÁöÑÁ≥ªÁªüÊù•‰ΩøÁî®‰∫ÜÔºåÊï∞ÊçÆÈáè‰∏çÂ§ßÔºåÊìç‰Ωú‰∏çÊòØÂ§™Â§çÊùÇÔºà4ÔºâÊï∞ÊçÆÂ∫ìÁöÑÂäüËÉΩÈù¢ÂØπÂæàÂ§öÈ¢ÜÂüüÊòØ‰∏çÂ§üÁî®ÁöÑÔºà‰∫ãÂä°ÔºåËøòÊúâÂêÑÁßçËÅîÊú∫‰∫ãÂä°ÂûãÁöÑÊìç‰ΩúÔºâÔºõÁâπÊÆäÁöÑÂäüËÉΩÔºåÊØîÂ¶ÇÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÂêå‰πâËØçÂ§ÑÁêÜÔºåÁõ∏ÂÖ≥Â∫¶ÊéíÂêçÔºåÂ§çÊùÇÊï∞ÊçÆÂàÜÊûêÔºåÊµ∑ÈáèÊï∞ÊçÆÁöÑËøëÂÆûÊó∂Â§ÑÁêÜÔºõElasticsearch‰Ωú‰∏∫‰º†ÁªüÊï∞ÊçÆÂ∫ìÁöÑ‰∏Ä‰∏™Ë°•ÂÖÖÔºåÊèê‰æõ‰∫ÜÊï∞ÊçÆÂ∫ìÊâÄ‰∏ç‰∏çËÉΩÊèê‰æõÁöÑÂæàÂ§öÂäüËÉΩ ÊâãÂ∑•ÁîªÂõæÂâñÊûêElasticsearchÊ†∏ÂøÉÊ¶ÇÂøµÔºöNRT„ÄÅÁ¥¢Âºï„ÄÅÂàÜÁâá„ÄÅÂâØÊú¨ËØæÁ®ãÂ§ßÁ∫≤ 1„ÄÅluceneÂíåelasticsearchÁöÑÂâç‰∏ñ‰ªäÁîü2„ÄÅelasticsearchÁöÑÊ†∏ÂøÉÊ¶ÇÂøµ3„ÄÅelasticsearchÊ†∏ÂøÉÊ¶ÇÂøµ vs. Êï∞ÊçÆÂ∫ìÊ†∏ÂøÉÊ¶ÇÂøµ 1„ÄÅluceneÂíåelasticsearchÁöÑÂâç‰∏ñ‰ªäÁîü luceneÔºåÊúÄÂÖàËøõ„ÄÅÂäüËÉΩÊúÄÂº∫Â§ßÁöÑÊêúÁ¥¢Â∫ìÔºåÁõ¥Êé•Âü∫‰∫éluceneÂºÄÂèëÔºåÈùûÂ∏∏Â§çÊùÇÔºåapiÂ§çÊùÇÔºàÂÆûÁé∞‰∏Ä‰∫õÁÆÄÂçïÁöÑÂäüËÉΩÔºåÂÜôÂ§ßÈáèÁöÑjava‰ª£Á†ÅÔºâÔºåÈúÄË¶ÅÊ∑±ÂÖ•ÁêÜËß£ÂéüÁêÜÔºàÂêÑÁßçÁ¥¢ÂºïÁªìÊûÑÔºâ elasticsearchÔºåÂü∫‰∫éluceneÔºåÈöêËóèÂ§çÊùÇÊÄßÔºåÊèê‰æõÁÆÄÂçïÊòìÁî®ÁöÑrestful apiÊé•Âè£„ÄÅjava apiÊé•Âè£ÔºàËøòÊúâÂÖ∂‰ªñËØ≠Ë®ÄÁöÑapiÊé•Âè£ÔºâÔºà1ÔºâÂàÜÂ∏ÉÂºèÁöÑÊñáÊ°£Â≠òÂÇ®ÂºïÊìéÔºà2ÔºâÂàÜÂ∏ÉÂºèÁöÑÊêúÁ¥¢ÂºïÊìéÂíåÂàÜÊûêÂºïÊìéÔºà3ÔºâÂàÜÂ∏ÉÂºèÔºåÊîØÊåÅPBÁ∫ßÊï∞ÊçÆ ÂºÄÁÆ±Âç≥Áî®Ôºå‰ºòÁßÄÁöÑÈªòËÆ§ÂèÇÊï∞Ôºå‰∏çÈúÄË¶Å‰ªª‰ΩïÈ¢ùÂ§ñËÆæÁΩÆÔºåÂÆåÂÖ®ÂºÄÊ∫ê ÂÖ≥‰∫éelasticsearchÁöÑ‰∏Ä‰∏™‰º†ËØ¥ÔºåÊúâ‰∏Ä‰∏™Á®ãÂ∫èÂëòÂ§±‰∏ö‰∫ÜÔºåÈô™ÁùÄËá™Â∑±ËÄÅÂ©ÜÂéªËã±ÂõΩ‰º¶Êï¶Â≠¶‰π†Âé®Â∏àËØæÁ®ã„ÄÇÁ®ãÂ∫èÂëòÂú®Â§±‰∏öÊúüÈó¥ÊÉ≥ÁªôËÄÅÂ©ÜÂÜô‰∏Ä‰∏™ËèúË∞±ÊêúÁ¥¢ÂºïÊìéÔºåËßâÂæóluceneÂÆûÂú®Â§™Â§çÊùÇ‰∫ÜÔºåÂ∞±ÂºÄÂèë‰∫Ü‰∏Ä‰∏™Â∞ÅË£Ö‰∫ÜluceneÁöÑÂºÄÊ∫êÈ°πÁõÆÔºåcompass„ÄÇÂêéÊù•Á®ãÂ∫èÂëòÊâæÂà∞‰∫ÜÂ∑•‰ΩúÔºåÊòØÂÅöÂàÜÂ∏ÉÂºèÁöÑÈ´òÊÄßËÉΩÈ°πÁõÆÁöÑÔºåËßâÂæócompass‰∏çÂ§üÔºåÂ∞±ÂÜô‰∫ÜelasticsearchÔºåËÆ©luceneÂèòÊàêÂàÜÂ∏ÉÂºèÁöÑÁ≥ªÁªü„ÄÇ 2„ÄÅelasticsearchÁöÑÊ†∏ÂøÉÊ¶ÇÂøµ Ôºà1ÔºâNear RealtimeÔºàNRTÔºâÔºöËøëÂÆûÊó∂Ôºå‰∏§‰∏™ÊÑèÊÄùÔºå‰ªéÂÜôÂÖ•Êï∞ÊçÆÂà∞Êï∞ÊçÆÂèØ‰ª•Ë¢´ÊêúÁ¥¢Âà∞Êúâ‰∏Ä‰∏™Â∞èÂª∂ËøüÔºàÂ§ßÊ¶Ç1ÁßíÔºâÔºõÂü∫‰∫éesÊâßË°åÊêúÁ¥¢ÂíåÂàÜÊûêÂèØ‰ª•ËææÂà∞ÁßíÁ∫ß Ôºà2ÔºâClusterÔºöÈõÜÁæ§ÔºåÂåÖÂê´Â§ö‰∏™ËäÇÁÇπÔºåÊØè‰∏™ËäÇÁÇπÂ±û‰∫éÂì™‰∏™ÈõÜÁæ§ÊòØÈÄöËøá‰∏Ä‰∏™ÈÖçÁΩÆÔºàÈõÜÁæ§ÂêçÁß∞ÔºåÈªòËÆ§ÊòØelasticsearchÔºâÊù•ÂÜ≥ÂÆöÁöÑÔºåÂØπ‰∫é‰∏≠Â∞èÂûãÂ∫îÁî®Êù•ËØ¥ÔºåÂàöÂºÄÂßã‰∏Ä‰∏™ÈõÜÁæ§Â∞±‰∏Ä‰∏™ËäÇÁÇπÂæàÊ≠£Â∏∏Ôºà3ÔºâNodeÔºöËäÇÁÇπÔºåÈõÜÁæ§‰∏≠ÁöÑ‰∏Ä‰∏™ËäÇÁÇπÔºåËäÇÁÇπ‰πüÊúâ‰∏Ä‰∏™ÂêçÁß∞ÔºàÈªòËÆ§ÊòØÈöèÊú∫ÂàÜÈÖçÁöÑÔºâÔºåËäÇÁÇπÂêçÁß∞ÂæàÈáçË¶ÅÔºàÂú®ÊâßË°åËøêÁª¥ÁÆ°ÁêÜÊìç‰ΩúÁöÑÊó∂ÂÄôÔºâÔºåÈªòËÆ§ËäÇÁÇπ‰ºöÂéªÂä†ÂÖ•‰∏Ä‰∏™ÂêçÁß∞‰∏∫‚Äúelasticsearch‚ÄùÁöÑÈõÜÁæ§ÔºåÂ¶ÇÊûúÁõ¥Êé•ÂêØÂä®‰∏ÄÂ†ÜËäÇÁÇπÔºåÈÇ£‰πàÂÆÉ‰ª¨‰ºöËá™Âä®ÁªÑÊàê‰∏Ä‰∏™elasticsearchÈõÜÁæ§ÔºåÂΩìÁÑ∂‰∏Ä‰∏™ËäÇÁÇπ‰πüÂèØ‰ª•ÁªÑÊàê‰∏Ä‰∏™elasticsearchÈõÜÁæ§ Ôºà4ÔºâDocument&amp;fieldÔºöÊñáÊ°£Ôºåes‰∏≠ÁöÑÊúÄÂ∞èÊï∞ÊçÆÂçïÂÖÉÔºå‰∏Ä‰∏™documentÂèØ‰ª•ÊòØ‰∏ÄÊù°ÂÆ¢Êà∑Êï∞ÊçÆÔºå‰∏ÄÊù°ÂïÜÂìÅÂàÜÁ±ªÊï∞ÊçÆÔºå‰∏ÄÊù°ËÆ¢ÂçïÊï∞ÊçÆÔºåÈÄöÂ∏∏Áî®JSONÊï∞ÊçÆÁªìÊûÑË°®Á§∫ÔºåÊØè‰∏™index‰∏ãÁöÑtype‰∏≠ÔºåÈÉΩÂèØ‰ª•ÂéªÂ≠òÂÇ®Â§ö‰∏™document„ÄÇ‰∏Ä‰∏™documentÈáåÈù¢ÊúâÂ§ö‰∏™fieldÔºåÊØè‰∏™fieldÂ∞±ÊòØ‰∏Ä‰∏™Êï∞ÊçÆÂ≠óÊÆµ„ÄÇ product document { ‚Äúproduct_id‚Äù: ‚Äú1‚Äù, ‚Äúproduct_name‚Äù: ‚ÄúÈ´òÈú≤Ê¥ÅÁâôËÜè‚Äù, ‚Äúproduct_desc‚Äù: ‚ÄúÈ´òÊïàÁæéÁôΩ‚Äù, ‚Äúcategory_id‚Äù: ‚Äú2‚Äù, ‚Äúcategory_name‚Äù: ‚ÄúÊó•ÂåñÁî®ÂìÅ‚Äù} Ôºà5ÔºâIndexÔºöÁ¥¢ÂºïÔºåÂåÖÂê´‰∏ÄÂ†ÜÊúâÁõ∏‰ººÁªìÊûÑÁöÑÊñáÊ°£Êï∞ÊçÆÔºåÊØîÂ¶ÇÂèØ‰ª•Êúâ‰∏Ä‰∏™ÂÆ¢Êà∑Á¥¢ÂºïÔºåÂïÜÂìÅÂàÜÁ±ªÁ¥¢ÂºïÔºåËÆ¢ÂçïÁ¥¢ÂºïÔºåÁ¥¢ÂºïÊúâ‰∏Ä‰∏™ÂêçÁß∞„ÄÇ‰∏Ä‰∏™indexÂåÖÂê´ÂæàÂ§ödocumentÔºå‰∏Ä‰∏™indexÂ∞±‰ª£Ë°®‰∫Ü‰∏ÄÁ±ªÁ±ª‰ººÁöÑÊàñËÄÖÁõ∏ÂêåÁöÑdocument„ÄÇÊØîÂ¶ÇËØ¥Âª∫Á´ã‰∏Ä‰∏™product indexÔºåÂïÜÂìÅÁ¥¢ÂºïÔºåÈáåÈù¢ÂèØËÉΩÂ∞±Â≠òÊîæ‰∫ÜÊâÄÊúâÁöÑÂïÜÂìÅÊï∞ÊçÆÔºåÊâÄÊúâÁöÑÂïÜÂìÅdocument„ÄÇÔºà6ÔºâTypeÔºöÁ±ªÂûãÔºåÊØè‰∏™Á¥¢ÂºïÈáåÈÉΩÂèØ‰ª•Êúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™typeÔºåtypeÊòØindex‰∏≠ÁöÑ‰∏Ä‰∏™ÈÄªËæëÊï∞ÊçÆÂàÜÁ±ªÔºå‰∏Ä‰∏™type‰∏ãÁöÑdocumentÔºåÈÉΩÊúâÁõ∏ÂêåÁöÑfieldÔºåÊØîÂ¶ÇÂçöÂÆ¢Á≥ªÁªüÔºåÊúâ‰∏Ä‰∏™Á¥¢ÂºïÔºåÂèØ‰ª•ÂÆö‰πâÁî®Êà∑Êï∞ÊçÆtypeÔºåÂçöÂÆ¢Êï∞ÊçÆtypeÔºåËØÑËÆ∫Êï∞ÊçÆtype„ÄÇ ÂïÜÂìÅindexÔºåÈáåÈù¢Â≠òÊîæ‰∫ÜÊâÄÊúâÁöÑÂïÜÂìÅÊï∞ÊçÆÔºåÂïÜÂìÅdocument ‰ΩÜÊòØÂïÜÂìÅÂàÜÂæàÂ§öÁßçÁ±ªÔºåÊØè‰∏™ÁßçÁ±ªÁöÑdocumentÁöÑfieldÂèØËÉΩ‰∏çÂ§™‰∏ÄÊ†∑ÔºåÊØîÂ¶ÇËØ¥ÁîµÂô®ÂïÜÂìÅÔºåÂèØËÉΩËøòÂåÖÂê´‰∏Ä‰∫õËØ∏Â¶ÇÂîÆÂêéÊó∂Èó¥ËåÉÂõ¥ËøôÊ†∑ÁöÑÁâπÊÆäfieldÔºõÁîüÈ≤úÂïÜÂìÅÔºåËøòÂåÖÂê´‰∏Ä‰∫õËØ∏Â¶ÇÁîüÈ≤ú‰øùË¥®Êúü‰πãÁ±ªÁöÑÁâπÊÆäfield typeÔºåÊó•ÂåñÂïÜÂìÅtypeÔºåÁîµÂô®ÂïÜÂìÅtypeÔºåÁîüÈ≤úÂïÜÂìÅtype Êó•ÂåñÂïÜÂìÅtypeÔºöproduct_idÔºåproduct_nameÔºåproduct_descÔºåcategory_idÔºåcategory_nameÁîµÂô®ÂïÜÂìÅtypeÔºöproduct_idÔºåproduct_nameÔºåproduct_descÔºåcategory_idÔºåcategory_nameÔºåservice_periodÁîüÈ≤úÂïÜÂìÅtypeÔºöproduct_idÔºåproduct_nameÔºåproduct_descÔºåcategory_idÔºåcategory_nameÔºåeat_period ÊØè‰∏Ä‰∏™typeÈáåÈù¢ÔºåÈÉΩ‰ºöÂåÖÂê´‰∏ÄÂ†Üdocument { ‚Äúproduct_id‚Äù: ‚Äú2‚Äù, ‚Äúproduct_name‚Äù: ‚ÄúÈïøËôπÁîµËßÜÊú∫‚Äù, ‚Äúproduct_desc‚Äù: ‚Äú4kÈ´òÊ∏Ö‚Äù, ‚Äúcategory_id‚Äù: ‚Äú3‚Äù, ‚Äúcategory_name‚Äù: ‚ÄúÁîµÂô®‚Äù, ‚Äúservice_period‚Äù: ‚Äú1Âπ¥‚Äù} { ‚Äúproduct_id‚Äù: ‚Äú3‚Äù, ‚Äúproduct_name‚Äù: ‚ÄúÂü∫Âõ¥Ëôæ‚Äù, ‚Äúproduct_desc‚Äù: ‚ÄúÁ∫ØÂ§©ÁÑ∂ÔºåÂÜ∞Â≤õ‰∫ß‚Äù, ‚Äúcategory_id‚Äù: ‚Äú4‚Äù, ‚Äúcategory_name‚Äù: ‚ÄúÁîüÈ≤ú‚Äù, ‚Äúeat_period‚Äù: ‚Äú7Â§©‚Äù} Ôºà7ÔºâshardÔºöÂçïÂè∞Êú∫Âô®Êó†Ê≥ïÂ≠òÂÇ®Â§ßÈáèÊï∞ÊçÆÔºåesÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Á¥¢Âºï‰∏≠ÁöÑÊï∞ÊçÆÂàáÂàÜ‰∏∫Â§ö‰∏™shardÔºåÂàÜÂ∏ÉÂú®Â§öÂè∞ÊúçÂä°Âô®‰∏äÂ≠òÂÇ®„ÄÇÊúâ‰∫ÜshardÂ∞±ÂèØ‰ª•Ê®™ÂêëÊâ©Â±ïÔºåÂ≠òÂÇ®Êõ¥Â§öÊï∞ÊçÆÔºåËÆ©ÊêúÁ¥¢ÂíåÂàÜÊûêÁ≠âÊìç‰ΩúÂàÜÂ∏ÉÂà∞Â§öÂè∞ÊúçÂä°Âô®‰∏äÂéªÊâßË°åÔºåÊèêÂçáÂêûÂêêÈáèÂíåÊÄßËÉΩ„ÄÇÊØè‰∏™shardÈÉΩÊòØ‰∏Ä‰∏™lucene index„ÄÇÔºà8ÔºâreplicaÔºö‰ªª‰Ωï‰∏Ä‰∏™ÊúçÂä°Âô®ÈöèÊó∂ÂèØËÉΩÊïÖÈöúÊàñÂÆïÊú∫ÔºåÊ≠§Êó∂shardÂèØËÉΩÂ∞±‰ºö‰∏¢Â§±ÔºåÂõ†Ê≠§ÂèØ‰ª•‰∏∫ÊØè‰∏™shardÂàõÂª∫Â§ö‰∏™replicaÂâØÊú¨„ÄÇreplicaÂèØ‰ª•Âú®shardÊïÖÈöúÊó∂Êèê‰æõÂ§áÁî®ÊúçÂä°Ôºå‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±ÔºåÂ§ö‰∏™replicaËøòÂèØ‰ª•ÊèêÂçáÊêúÁ¥¢Êìç‰ΩúÁöÑÂêûÂêêÈáèÂíåÊÄßËÉΩ„ÄÇprimary shardÔºàÂª∫Á´ãÁ¥¢ÂºïÊó∂‰∏ÄÊ¨°ËÆæÁΩÆÔºå‰∏çËÉΩ‰øÆÊîπÔºåÈªòËÆ§5‰∏™ÔºâÔºåreplica shardÔºàÈöèÊó∂‰øÆÊîπÊï∞ÈáèÔºåÈªòËÆ§1‰∏™ÔºâÔºåÈªòËÆ§ÊØè‰∏™Á¥¢Âºï10‰∏™shardÔºå5‰∏™primary shardÔºå5‰∏™replica shardÔºåÊúÄÂ∞èÁöÑÈ´òÂèØÁî®ÈÖçÁΩÆÔºåÊòØ2Âè∞ÊúçÂä°Âô®„ÄÇ 3„ÄÅelasticsearchÊ†∏ÂøÉÊ¶ÇÂøµ vs. Êï∞ÊçÆÂ∫ìÊ†∏ÂøÉÊ¶ÇÂøµ Elasticsearch Êï∞ÊçÆÂ∫ì Document Ë°åType Ë°®Index Â∫ì Âú®windows‰∏äÂÆâË£ÖÂíåÂêØÂä®Elasticseach1„ÄÅÂÆâË£ÖJDKÔºåËá≥Â∞ë1.8.0_73‰ª•‰∏äÁâàÊú¨Ôºåjava -version2„ÄÅ‰∏ãËΩΩÂíåËß£ÂéãÁº©ElasticsearchÂÆâË£ÖÂåÖÔºåÁõÆÂΩïÁªìÊûÑ3„ÄÅÂêØÂä®ElasticsearchÔºöbin\elasticsearch.batÔºåesÊú¨Ë∫´ÁâπÁÇπ‰πã‰∏ÄÂ∞±ÊòØÂºÄÁÆ±Âç≥Áî®ÔºåÂ¶ÇÊûúÊòØ‰∏≠Â∞èÂûãÂ∫îÁî®ÔºåÊï∞ÊçÆÈáèÂ∞ëÔºåÊìç‰Ωú‰∏çÊòØÂæàÂ§çÊùÇÔºåÁõ¥Êé•ÂêØÂä®Â∞±ÂèØ‰ª•Áî®‰∫Ü 4„ÄÅÊ£ÄÊü•ESÊòØÂê¶ÂêØÂä®ÊàêÂäüÔºöhttp://localhost:9200/?pretty name: nodeÂêçÁß∞cluster_name: ÈõÜÁæ§ÂêçÁß∞ÔºàÈªòËÆ§ÁöÑÈõÜÁæ§ÂêçÁß∞Â∞±ÊòØelasticsearchÔºâversion.number: 5.2.0ÔºåesÁâàÊú¨Âè∑ { ‚Äúname‚Äù : ‚Äú4onsTYV‚Äù, ‚Äúcluster_name‚Äù : ‚Äúelasticsearch‚Äù, ‚Äúcluster_uuid‚Äù : ‚ÄúnKZ9VK_vQdSQ1J0Dx9gx1Q‚Äù, ‚Äúversion‚Äù : { ‚Äúnumber‚Äù : ‚Äú5.2.0‚Äù, ‚Äúbuild_hash‚Äù : ‚Äú24e05b9‚Äù, ‚Äúbuild_date‚Äù : ‚Äú2017-01-24T19:52:35.800Z‚Äù, ‚Äúbuild_snapshot‚Äù : false, ‚Äúlucene_version‚Äù : ‚Äú6.4.0‚Äù }, ‚Äútagline‚Äù : ‚ÄúYou Know, for Search‚Äù} 5„ÄÅ‰øÆÊîπÈõÜÁæ§ÂêçÁß∞Ôºöelasticsearch.yml6„ÄÅ‰∏ãËΩΩÂíåËß£ÂéãÁº©KibanaÂÆâË£ÖÂåÖÔºå‰ΩøÁî®ÈáåÈù¢ÁöÑÂºÄÂèëÁïåÈù¢ÔºåÂéªÊìç‰ΩúelasticsearchÔºå‰Ωú‰∏∫Êàë‰ª¨Â≠¶‰π†esÁü•ËØÜÁÇπÁöÑ‰∏Ä‰∏™‰∏ªË¶ÅÁöÑÁïåÈù¢ÂÖ•Âè£7„ÄÅÂêØÂä®KibanaÔºöbin\kibana.bat8„ÄÅËøõÂÖ•Dev ToolsÁïåÈù¢9„ÄÅGET _cluster/health Âø´ÈÄüÂÖ•Èó®Ê°à‰æãÂÆûÊàò‰πãÁîµÂïÜÁΩëÁ´ôÂïÜÂìÅÁÆ°ÁêÜÔºöÈõÜÁæ§ÂÅ•Â∫∑Ê£ÄÊü•ÔºåÊñáÊ°£CRUDËØæÁ®ãÂ§ßÁ∫≤ 1„ÄÅdocumentÊï∞ÊçÆÊ†ºÂºè2„ÄÅÁîµÂïÜÁΩëÁ´ôÂïÜÂìÅÁÆ°ÁêÜÊ°à‰æãÔºöËÉåÊôØ‰ªãÁªç3„ÄÅÁÆÄÂçïÁöÑÈõÜÁæ§ÁÆ°ÁêÜ4„ÄÅÂïÜÂìÅÁöÑCRUDÊìç‰ΩúÔºàdocument CRUDÊìç‰ΩúÔºâ 1„ÄÅdocumentÊï∞ÊçÆÊ†ºÂºè Èù¢ÂêëÊñáÊ°£ÁöÑÊêúÁ¥¢ÂàÜÊûêÂºïÊìé Ôºà1ÔºâÂ∫îÁî®Á≥ªÁªüÁöÑÊï∞ÊçÆÁªìÊûÑÈÉΩÊòØÈù¢ÂêëÂØπË±°ÁöÑÔºåÂ§çÊùÇÁöÑÔºà2ÔºâÂØπË±°Êï∞ÊçÆÂ≠òÂÇ®Âà∞Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂè™ËÉΩÊãÜËß£ÂºÄÊù•ÔºåÂèò‰∏∫ÊâÅÂπ≥ÁöÑÂ§öÂº†Ë°®ÔºåÊØèÊ¨°Êü•ËØ¢ÁöÑÊó∂ÂÄôËøòÂæóËøòÂéüÂõûÂØπË±°Ê†ºÂºèÔºåÁõ∏ÂΩìÈ∫ªÁÉ¶Ôºà3ÔºâESÊòØÈù¢ÂêëÊñáÊ°£ÁöÑÔºåÊñáÊ°£‰∏≠Â≠òÂÇ®ÁöÑÊï∞ÊçÆÁªìÊûÑÔºå‰∏éÈù¢ÂêëÂØπË±°ÁöÑÊï∞ÊçÆÁªìÊûÑÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂü∫‰∫éËøôÁßçÊñáÊ°£Êï∞ÊçÆÁªìÊûÑÔºåesÂèØ‰ª•Êèê‰æõÂ§çÊùÇÁöÑÁ¥¢ÂºïÔºåÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÂàÜÊûêËÅöÂêàÁ≠âÂäüËÉΩÔºà4ÔºâesÁöÑdocumentÁî®jsonÊï∞ÊçÆÊ†ºÂºèÊù•Ë°®Ëææ public class Employee { private String email; private String firstName; private String lastName; private EmployeeInfo info; private Date joinDate; } private class EmployeeInfo { private String bio; // ÊÄßÊ†º private Integer age; private String[] interests; // ÂÖ¥Ë∂£Áà±Â•Ω } EmployeeInfo info = new EmployeeInfo();info.setBio(‚Äúcurious and modest‚Äù);info.setAge(30);info.setInterests(new String[]{‚Äúbike‚Äù, ‚Äúclimb‚Äù}); Employee employee = new Employee();employee.setEmail(‚Äúzhangsan@sina.com‚Äú);employee.setFirstName(‚Äúsan‚Äù);employee.setLastName(‚Äúzhang‚Äù);employee.setInfo(info);employee.setJoinDate(new Date()); employeeÂØπË±°ÔºöÈáåÈù¢ÂåÖÂê´‰∫ÜEmployeeÁ±ªËá™Â∑±ÁöÑÂ±ûÊÄßÔºåËøòÊúâ‰∏Ä‰∏™EmployeeInfoÂØπË±° ‰∏§Âº†Ë°®ÔºöemployeeË°®Ôºåemployee_infoË°®ÔºåÂ∞ÜemployeeÂØπË±°ÁöÑÊï∞ÊçÆÈáçÊñ∞ÊãÜÂºÄÊù•ÔºåÂèòÊàêEmployeeÊï∞ÊçÆÂíåEmployeeInfoÊï∞ÊçÆemployeeË°®ÔºöemailÔºåfirst_nameÔºålast_nameÔºåjoin_dateÔºå4‰∏™Â≠óÊÆµemployee_infoË°®ÔºöbioÔºåageÔºåinterestsÔºå3‰∏™Â≠óÊÆµÔºõÊ≠§Â§ñËøòÊúâ‰∏Ä‰∏™Â§ñÈîÆÂ≠óÊÆµÔºåÊØîÂ¶Çemployee_idÔºåÂÖ≥ËÅîÁùÄemployeeË°® { ‚Äúemail‚Äù: ‚Äúzhangsan@sina.com‚Äú, ‚Äúfirst_name‚Äù: ‚Äúsan‚Äù, ‚Äúlast_name‚Äù: ‚Äúzhang‚Äù, ‚Äúinfo‚Äù: { ‚Äúbio‚Äù: ‚Äúcurious and modest‚Äù, ‚Äúage‚Äù: 30, ‚Äúinterests‚Äù: [ ‚Äúbike‚Äù, ‚Äúclimb‚Äù ] }, ‚Äújoin_date‚Äù: ‚Äú2017/01/01‚Äù} Êàë‰ª¨Â∞±ÊòéÁôΩ‰∫ÜesÁöÑdocumentÊï∞ÊçÆÊ†ºÂºèÂíåÊï∞ÊçÆÂ∫ìÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÊ†ºÂºèÁöÑÂå∫Âà´ 2„ÄÅÁîµÂïÜÁΩëÁ´ôÂïÜÂìÅÁÆ°ÁêÜÊ°à‰æãËÉåÊôØ‰ªãÁªç Êúâ‰∏Ä‰∏™ÁîµÂïÜÁΩëÁ´ôÔºåÈúÄË¶Å‰∏∫ÂÖ∂Âü∫‰∫éESÊûÑÂª∫‰∏Ä‰∏™ÂêéÂè∞Á≥ªÁªüÔºåÊèê‰æõ‰ª•‰∏ãÂäüËÉΩÔºö Ôºà1ÔºâÂØπÂïÜÂìÅ‰ø°ÊÅØËøõË°åCRUDÔºàÂ¢ûÂà†ÊîπÊü•ÔºâÊìç‰ΩúÔºà2ÔºâÊâßË°åÁÆÄÂçïÁöÑÁªìÊûÑÂåñÊü•ËØ¢Ôºà3ÔºâÂèØ‰ª•ÊâßË°åÁÆÄÂçïÁöÑÂÖ®ÊñáÊ£ÄÁ¥¢Ôºå‰ª•ÂèäÂ§çÊùÇÁöÑphraseÔºàÁü≠ËØ≠ÔºâÊ£ÄÁ¥¢Ôºà4ÔºâÂØπ‰∫éÂÖ®ÊñáÊ£ÄÁ¥¢ÁöÑÁªìÊûúÔºåÂèØ‰ª•ËøõË°åÈ´ò‰∫ÆÊòæÁ§∫Ôºà5ÔºâÂØπÊï∞ÊçÆËøõË°åÁÆÄÂçïÁöÑËÅöÂêàÂàÜÊûê 3„ÄÅÁÆÄÂçïÁöÑÈõÜÁæ§ÁÆ°ÁêÜ Ôºà1ÔºâÂø´ÈÄüÊ£ÄÊü•ÈõÜÁæ§ÁöÑÂÅ•Â∫∑Áä∂ÂÜµ esÊèê‰æõ‰∫Ü‰∏ÄÂ•óapiÔºåÂè´ÂÅöcat apiÔºåÂèØ‰ª•Êü•Áúães‰∏≠ÂêÑÁßçÂêÑÊ†∑ÁöÑÊï∞ÊçÆ GET /_cat/health?v epoch timestamp cluster status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent1488006741 15:12:21 elasticsearch yellow 1 1 1 1 0 0 1 0 - 50.0% epoch timestamp cluster status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent1488007113 15:18:33 elasticsearch green 2 2 2 1 0 0 0 0 - 100.0% epoch timestamp cluster status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent1488007216 15:20:16 elasticsearch yellow 1 1 1 1 0 0 1 0 - 50.0% Â¶Ç‰ΩïÂø´ÈÄü‰∫ÜËß£ÈõÜÁæ§ÁöÑÂÅ•Â∫∑Áä∂ÂÜµÔºügreen„ÄÅyellow„ÄÅredÔºü greenÔºöÊØè‰∏™Á¥¢ÂºïÁöÑprimary shardÂíåreplica shardÈÉΩÊòØactiveÁä∂ÊÄÅÁöÑyellowÔºöÊØè‰∏™Á¥¢ÂºïÁöÑprimary shardÈÉΩÊòØactiveÁä∂ÊÄÅÁöÑÔºå‰ΩÜÊòØÈÉ®ÂàÜreplica shard‰∏çÊòØactiveÁä∂ÊÄÅÔºåÂ§Ñ‰∫é‰∏çÂèØÁî®ÁöÑÁä∂ÊÄÅredÔºö‰∏çÊòØÊâÄÊúâÁ¥¢ÂºïÁöÑprimary shardÈÉΩÊòØactiveÁä∂ÊÄÅÁöÑÔºåÈÉ®ÂàÜÁ¥¢ÂºïÊúâÊï∞ÊçÆ‰∏¢Â§±‰∫Ü ‰∏∫‰ªÄ‰πàÁé∞Âú®‰ºöÂ§Ñ‰∫é‰∏Ä‰∏™yellowÁä∂ÊÄÅÔºü Êàë‰ª¨Áé∞Âú®Â∞±‰∏Ä‰∏™Á¨îËÆ∞Êú¨ÁîµËÑëÔºåÂ∞±ÂêØÂä®‰∫Ü‰∏Ä‰∏™esËøõÁ®ãÔºåÁõ∏ÂΩì‰∫éÂ∞±Âè™Êúâ‰∏Ä‰∏™node„ÄÇÁé∞Âú®es‰∏≠Êúâ‰∏Ä‰∏™indexÔºåÂ∞±ÊòØkibanaËá™Â∑±ÂÜÖÁΩÆÂª∫Á´ãÁöÑindex„ÄÇÁî±‰∫éÈªòËÆ§ÁöÑÈÖçÁΩÆÊòØÁªôÊØè‰∏™indexÂàÜÈÖç5‰∏™primary shardÂíå5‰∏™replica shardÔºåËÄå‰∏îprimary shardÂíåreplica shard‰∏çËÉΩÂú®Âêå‰∏ÄÂè∞Êú∫Âô®‰∏äÔºà‰∏∫‰∫ÜÂÆπÈîôÔºâ„ÄÇÁé∞Âú®kibanaËá™Â∑±Âª∫Á´ãÁöÑindexÊòØ1‰∏™primary shardÂíå1‰∏™replica shard„ÄÇÂΩìÂâçÂ∞±‰∏Ä‰∏™nodeÔºåÊâÄ‰ª•Âè™Êúâ1‰∏™primary shardË¢´ÂàÜÈÖç‰∫ÜÂíåÂêØÂä®‰∫ÜÔºå‰ΩÜÊòØ‰∏Ä‰∏™replica shardÊ≤°ÊúâÁ¨¨‰∫åÂè∞Êú∫Âô®ÂéªÂêØÂä®„ÄÇ ÂÅö‰∏Ä‰∏™Â∞èÂÆûÈ™åÔºöÊ≠§Êó∂Âè™Ë¶ÅÂêØÂä®Á¨¨‰∫å‰∏™esËøõÁ®ãÔºåÂ∞±‰ºöÂú®esÈõÜÁæ§‰∏≠Êúâ2‰∏™nodeÔºåÁÑ∂ÂêéÈÇ£1‰∏™replica shardÂ∞±‰ºöËá™Âä®ÂàÜÈÖçËøáÂéªÔºåÁÑ∂Âêécluster statusÂ∞±‰ºöÂèòÊàêgreenÁä∂ÊÄÅ„ÄÇ Ôºà2ÔºâÂø´ÈÄüÊü•ÁúãÈõÜÁæ§‰∏≠ÊúâÂì™‰∫õÁ¥¢Âºï GET /_cat/indices?v health status index uuid pri rep docs.count docs.deleted store.size pri.store.sizeyellow open .kibana rUm9n9wMRQCCrRDEhqneBg 1 1 1 0 3.1kb 3.1kb Ôºà3ÔºâÁÆÄÂçïÁöÑÁ¥¢ÂºïÊìç‰Ωú ÂàõÂª∫Á¥¢ÂºïÔºöPUT /test_index?pretty health status index uuid pri rep docs.count docs.deleted store.size pri.store.sizeyellow open test_index XmS9DTAtSkSZSwWhhGEKkQ 5 1 0 0 650b 650byellow open .kibana rUm9n9wMRQCCrRDEhqneBg 1 1 1 0 3.1kb 3.1kb Âà†Èô§Á¥¢ÂºïÔºöDELETE /test_index?pretty health status index uuid pri rep docs.count docs.deleted store.size pri.store.sizeyellow open .kibana rUm9n9wMRQCCrRDEhqneBg 1 1 1 0 3.1kb 3.1kb 4„ÄÅÂïÜÂìÅÁöÑCRUDÊìç‰Ωú Ôºà1ÔºâÊñ∞Â¢ûÂïÜÂìÅÔºöÊñ∞Â¢ûÊñáÊ°£ÔºåÂª∫Á´ãÁ¥¢Âºï PUT /index/type/id{ ‚ÄújsonÊï∞ÊçÆ‚Äù} PUT /ecommerce/product/1{ ‚Äúname‚Äù : ‚Äúgaolujie yagao‚Äù, ‚Äúdesc‚Äù : ‚Äúgaoxiao meibai‚Äù, ‚Äúprice‚Äù : 30, ‚Äúproducer‚Äù : ‚Äúgaolujie producer‚Äù, ‚Äútags‚Äù: [ ‚Äúmeibai‚Äù, ‚Äúfangzhu‚Äù ]} { ‚Äú_index‚Äù: ‚Äúecommerce‚Äù, ‚Äú_type‚Äù: ‚Äúproduct‚Äù, ‚Äú_id‚Äù: ‚Äú1‚Äù, ‚Äú_version‚Äù: 1, ‚Äúresult‚Äù: ‚Äúcreated‚Äù, ‚Äú_shards‚Äù: { ‚Äútotal‚Äù: 2, ‚Äúsuccessful‚Äù: 1, ‚Äúfailed‚Äù: 0 }, ‚Äúcreated‚Äù: true} PUT /ecommerce/product/2{ ‚Äúname‚Äù : ‚Äújiajieshi yagao‚Äù, ‚Äúdesc‚Äù : ‚Äúyouxiao fangzhu‚Äù, ‚Äúprice‚Äù : 25, ‚Äúproducer‚Äù : ‚Äújiajieshi producer‚Äù, ‚Äútags‚Äù: [ ‚Äúfangzhu‚Äù ]} PUT /ecommerce/product/3{ ‚Äúname‚Äù : ‚Äúzhonghua yagao‚Äù, ‚Äúdesc‚Äù : ‚Äúcaoben zhiwu‚Äù, ‚Äúprice‚Äù : 40, ‚Äúproducer‚Äù : ‚Äúzhonghua producer‚Äù, ‚Äútags‚Äù: [ ‚Äúqingxin‚Äù ]} es‰ºöËá™Âä®Âª∫Á´ãindexÂíåtypeÔºå‰∏çÈúÄË¶ÅÊèêÂâçÂàõÂª∫ÔºåËÄå‰∏îesÈªòËÆ§‰ºöÂØπdocumentÊØè‰∏™fieldÈÉΩÂª∫Á´ãÂÄíÊéíÁ¥¢ÂºïÔºåËÆ©ÂÖ∂ÂèØ‰ª•Ë¢´ÊêúÁ¥¢ Ôºà2ÔºâÊü•ËØ¢ÂïÜÂìÅÔºöÊ£ÄÁ¥¢ÊñáÊ°£ GET /index/type/idGET /ecommerce/product/1 { ‚Äú_index‚Äù: ‚Äúecommerce‚Äù, ‚Äú_type‚Äù: ‚Äúproduct‚Äù, ‚Äú_id‚Äù: ‚Äú1‚Äù, ‚Äú_version‚Äù: 1, ‚Äúfound‚Äù: true, ‚Äú_source‚Äù: { ‚Äúname‚Äù: ‚Äúgaolujie yagao‚Äù, ‚Äúdesc‚Äù: ‚Äúgaoxiao meibai‚Äù, ‚Äúprice‚Äù: 30, ‚Äúproducer‚Äù: ‚Äúgaolujie producer‚Äù, ‚Äútags‚Äù: [ ‚Äúmeibai‚Äù, ‚Äúfangzhu‚Äù ] }} Ôºà3Ôºâ‰øÆÊîπÂïÜÂìÅÔºöÊõøÊç¢ÊñáÊ°£ PUT /ecommerce/product/1{ ‚Äúname‚Äù : ‚Äújiaqiangban gaolujie yagao‚Äù, ‚Äúdesc‚Äù : ‚Äúgaoxiao meibai‚Äù, ‚Äúprice‚Äù : 30, ‚Äúproducer‚Äù : ‚Äúgaolujie producer‚Äù, ‚Äútags‚Äù: [ ‚Äúmeibai‚Äù, ‚Äúfangzhu‚Äù ]} { ‚Äú_index‚Äù: ‚Äúecommerce‚Äù, ‚Äú_type‚Äù: ‚Äúproduct‚Äù, ‚Äú_id‚Äù: ‚Äú1‚Äù, ‚Äú_version‚Äù: 1, ‚Äúresult‚Äù: ‚Äúcreated‚Äù, ‚Äú_shards‚Äù: { ‚Äútotal‚Äù: 2, ‚Äúsuccessful‚Äù: 1, ‚Äúfailed‚Äù: 0 }, ‚Äúcreated‚Äù: true} { ‚Äú_index‚Äù: ‚Äúecommerce‚Äù, ‚Äú_type‚Äù: ‚Äúproduct‚Äù, ‚Äú_id‚Äù: ‚Äú1‚Äù, ‚Äú_version‚Äù: 2, ‚Äúresult‚Äù: ‚Äúupdated‚Äù, ‚Äú_shards‚Äù: { ‚Äútotal‚Äù: 2, ‚Äúsuccessful‚Äù: 1, ‚Äúfailed‚Äù: 0 }, ‚Äúcreated‚Äù: false} PUT /ecommerce/product/1{ ‚Äúname‚Äù : ‚Äújiaqiangban gaolujie yagao‚Äù} ÊõøÊç¢ÊñπÂºèÊúâ‰∏Ä‰∏™‰∏çÂ•ΩÔºåÂç≥‰ΩøÂøÖÈ°ªÂ∏¶‰∏äÊâÄÊúâÁöÑfieldÔºåÊâçËÉΩÂéªËøõË°å‰ø°ÊÅØÁöÑ‰øÆÊîπ Ôºà4Ôºâ‰øÆÊîπÂïÜÂìÅÔºöÊõ¥Êñ∞ÊñáÊ°£ POST /ecommerce/product/1/_update{ ‚Äúdoc‚Äù: { ‚Äúname‚Äù: ‚Äújiaqiangban gaolujie yagao‚Äù }} { ‚Äú_index‚Äù: ‚Äúecommerce‚Äù, ‚Äú_type‚Äù: ‚Äúproduct‚Äù, ‚Äú_id‚Äù: ‚Äú1‚Äù, ‚Äú_version‚Äù: 8, ‚Äúresult‚Äù: ‚Äúupdated‚Äù, ‚Äú_shards‚Äù: { ‚Äútotal‚Äù: 2, ‚Äúsuccessful‚Äù: 1, ‚Äúfailed‚Äù: 0 }} ÊàëÁöÑÈ£éÊ†ºÔºåÂÖ∂ÂÆûÊúâÈÄâÊã©ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏çÂ§™ÂñúÊ¨¢ÂøµpptÔºåÊàñËÄÖÁÖßÁùÄÊñáÊ°£ÂÅöÔºåÊàñËÄÖÁõ¥Êé•Á≤òË¥¥ÂÜôÂ•ΩÁöÑ‰ª£Á†ÅÔºåÂ∞ΩÈáèÊòØÁ∫ØÊâãÊï≤‰ª£Á†Å Ôºà5ÔºâÂà†Èô§ÂïÜÂìÅÔºöÂà†Èô§ÊñáÊ°£ DELETE /ecommerce/product/1 { ‚Äúfound‚Äù: true, ‚Äú_index‚Äù: ‚Äúecommerce‚Äù, ‚Äú_type‚Äù: ‚Äúproduct‚Äù, ‚Äú_id‚Äù: ‚Äú1‚Äù, ‚Äú_version‚Äù: 9, ‚Äúresult‚Äù: ‚Äúdeleted‚Äù, ‚Äú_shards‚Äù: { ‚Äútotal‚Äù: 2, ‚Äúsuccessful‚Äù: 1, ‚Äúfailed‚Äù: 0 }} { ‚Äú_index‚Äù: ‚Äúecommerce‚Äù, ‚Äú_type‚Äù: ‚Äúproduct‚Äù, ‚Äú_id‚Äù: ‚Äú1‚Äù, ‚Äúfound‚Äù: false} Âø´ÈÄüÂÖ•Èó®Ê°à‰æãÂÆûÊàò‰πãÁîµÂïÜÁΩëÁ´ôÂïÜÂìÅÁÆ°ÁêÜÔºöÂ§öÁßçÊêúÁ¥¢ÊñπÂºè]]></content>
      <categories>
        <category>Elasticsearch</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring IOCËØ¶Ëß£]]></title>
    <url>%2F2019%2F01%2F01%2FSpring%2FSpring%20IOC%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[Áõ∏ÂΩì‰∫é@BeanÊ≥®Ëß£Âíå@ControllerÊ≥®Ëß£]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring @AspectJ]]></title>
    <url>%2F2019%2F01%2F01%2FSpring%2F9.%40Aspect%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F01%2F01%2FSpring%2F8.Spring%20AOP%20API%20imooc%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[Spring Autpwired]]></title>
    <url>%2F2019%2F01%2F01%2FSpring%2F6.%40Autowird%E6%B3%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[Autowired]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éSpring‰æùËµñÊ≥®ÂÖ•ÁöÑ‰∏Ä‰∫õÁêÜËß£]]></title>
    <url>%2F2018%2F12%2F31%2FSpring%2F2.Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%2F</url>
    <content type="text"><![CDATA[ÈóÆÂ§ßÂÆ∂‰∏Ä‰∏™ÈóÆÈ¢ò Spring‰∏≠Ê≥®ÂÜåÁöÑbean Âú®xml‰∏≠ÈÖçÁΩÆ ÊàëÁúãÂÜôÁöÑÁ®ãÂ∫è‰∏≠Ê≤°ÊúâË∞ÉÁî® xxx.getBean(‚Äúxxx‚Äù)„ÄÇÈÇ£Âú®Á®ãÂ∫è‰∏≠ÊòØÂ¶Ç‰Ωï‰ΩøÁî®Ëøô‰∏™beanÁöÑÂë¢]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQ ÂçÉÂ≥∞ÊïôËÇ≤Á¨îËÆ∞]]></title>
    <url>%2F2018%2F12%2F25%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2FRabbit%20MQ%E5%8D%83%E5%B3%B0%2F</url>
    <content type="text"><![CDATA[1.RabbitMQ ÁÆÄ‰ªã 2.Rabbit MQÁöÑÂÆâË£Ö 3.Rabbit MQÊ∑ªÂä†Áî®Êà∑ 4.Rabbit MQ‰ΩøÁî®ÊïôÁ®ã ‚≠êÔ∏è4.1Ê∂àÊÅØÊ®°ÂºèÁßçÁ±ª 4.2 pom&amp;log4j.properties123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.qianfeng&lt;/groupId&gt; &lt;artifactId&gt;testrabbitmqdemo&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;testrabbitmqdemo&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- https://mvnrepository.com/artifact/com.rabbitmq/amqp-client --&gt; &lt;!-- https://mvnrepository.com/artifact/com.rabbitmq/amqp-client --&gt; =====================amqp-clien========================== ============================ &lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;4.5.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;1.7.25&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.springframework.amqp/spring-rabbitÙè¥èÙè¥ê spring Ùè∞öÙè≤ÇÙè±ó,amqp Ùè∞™Ùè±ö rabbitmq Ùè¥ëÙè≤ÖÙè¥íÙè¥ì --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; ===================spring-rabbit========================= ============================ &lt;dependency&gt; &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt; &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt; &lt;version&gt;1.7.6.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;4.3.7.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 1234567log4j.rootLogger=DEBUG,A1log4j.logger.com.taotao = DEBUGlog4j.logger.org.mybatis = DEBUGlog4j.appender.A1=org.apache.log4j.ConsoleAppenderlog4j.appender.A1.layout=org.apache.log4j.PatternLayoutlog4j.appender.A1.layout.ConversionPattern=%-d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; [%t] [%c]-[%p] %m%n 4.3HelloWorld (Áîü‰∫ßËÄÖ Ê∂àË¥πËÄÖ)123456789101112131415161718package com.rabbitmq;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;/** * Áî®‰∫éÂàõÂª∫ËøûÊé•ÁöÑÂ∑•ÂÖ∑Á±ª */public class ConnectionUtils &#123; public static Connection getConnection() throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("94.191.24.33");//Ëøô‰∏™HostÊòØipÂú∞ÂùÄ Â¶ÇÊûúÊòØLinuxÁöÑÂ∞±ÊòØLinuxÁöÑipconfig// Âê¶ÂàôÂ∞±ÊòØÊúçÂä°Âô®ÁöÑÂÖ¨ÁΩëÂú∞ÂùÄÊ≠§Â§ÑÊòØËÖæËÆØ‰∫ëÁöÑÂÖ¨ÁΩëipÂú∞ÂùÄ connectionFactory.setPort(5672);//5672ÊòØÊúçÂä°Âô®ÁöÑÁ´ØÂè£ 15672ÊòØÁΩëÈ°µÁöÑÁ´ØÂè£ connectionFactory.setUsername("guest"); connectionFactory.setPassword("guest"); connectionFactory.setVirtualHost("/"); return connectionFactory.newConnection(); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334package com.rabbitmq;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;//Áîü‰∫ßËÄÖpublic class Sender &#123; private final static String QUEUEName = "RabbitmqName";//ÂÆö‰πâ‰∏Ä‰∏™ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; //1„ÄÇËé∑ÂèñËøûÊé• Connection connection = ConnectionUtils.getConnection(); //2„ÄÇÂàõÂª∫ÈÄöÈÅì Channel channel = connection.createChannel(); //3„ÄÇÂ£∞ÊòéÈòüÂàó /** * Â¶ÇÊûúÈòüÂàóÂ≠òÂú®Âàô‰ªÄ‰πàÈÉΩ‰∏çÂÅö Â¶ÇÊûú‰∏çÂ≠òÂú®ÊâçÂàõÂª∫ * QUEUEName Ôºö ÂèÇÊï∞1 ÈòüÂàóÁöÑÂêçÂ≠ó * durable : ÂèÇÊï∞2 ÊòØÂê¶ÊåÅ‰πÖÂåñÈòüÂàó * &gt; Êàë‰ª¨ÁöÑÈòüÂàóÊ®°ÂºèÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ Â¶ÇÊûúrabbitmq ÈáçÂêØ ‰ºö‰∏¢Â§± * &gt; Â¶ÇÊûúËÆæÁΩÆ‰∏∫true ,Âàô‰ºö‰øùÂ≠òÂà∞erlangËá™Â∏¶ÁöÑÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÈáçÂêØÂêé‰ºöÈáçÊñ∞ËØªÂèñ *exclusive: ÂèÇÊï∞3 ÊòØÂê¶ÊéíÈô§ Êúâ‰∏§‰∏™‰ΩúÁî® * &gt; ‰ΩúÁî®1Ôºö Á¨¨‰∏Ä‰∏™ÂΩìÊàë‰ª¨ÁöÑËøûÊé•ÂÖ≥Èó≠ÂêéÊòØÂê¶‰ºöËá™Âä®Âà†Èô§ÈòüÂàó * &gt; ‰ΩúÁî®2ÔºöÊòØÂê¶ÁßÅÊúâÂΩìÂâçÈòüÂàó Â¶ÇÊûúÁßÅÊúâ‰∫ÜÂÖ∂‰ªñÈÄöÈÅì‰∏çÂèØ‰ª•ËÆøÈóÆÂΩìÂâçÂØπÂàó * &gt; Â¶ÇÊûú‰∏∫true ‰∏ÄËà¨ÊòØ‰∏Ä‰∏™ÈòüÂàóÂè™ÈÄÇÁî®‰∫é‰∏Ä‰∏™Ê∂àË¥πËÄÖÁöÑÊó∂ÂÄô *autodeleteÔºö ÂèÇÊï∞4ÔºöÊòØÂê¶Ëá™Âä®Âà†Èô§ * ÂèÇÊï∞5Ôºö‰∏ÄÂàáÂÖ∂‰ªñÂèÇÊï∞ */ channel.queueDeclare(QUEUEName, false, false, false, null); //4„ÄÇÂèëÈÄÅÂÜÖÂÆπ channel.basicPublish("", QUEUEName, null, "ÂèëÈÄÅÁöÑÊ∂àÊÅØ".getBytes()); //5„ÄÇÂÖ≥Èó≠ËøûÊé• connection.close(); channel.close(); &#125;&#125; 123456789101112131415161718192021222324252627package com.rabbitmq;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.QueueingConsumer;//Ê∂àË¥πËÄÖpublic class Recver &#123; private final static String QUEUEName = "RabbitmqName";//ÂÆö‰πâ‰∏Ä‰∏™ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; Connection connection = ConnectionUtils.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUEName, false, false, false, null); //ÂÆö‰πâ‰∏Ä‰∏™Ê∂àË¥πËÄÖ QueueingConsumer consumer = new QueueingConsumer(channel); //Êé•ÂèóÂèÇÊï∞ ÂèÇÊï∞2ÊòØËá™Âä®Á°ÆËÆ§ channel.basicConsume(QUEUEName, true, consumer); while (true) &#123; //Ëé∑ÂèñÊ∂àÊÅØ //Â¶ÇÊûúÊ≤°ÊúâÊ∂àÊÅØ‰ºöÁ≠âÂæÖ ÊúâÁöÑËØùÂ∞±Ëé∑ÂèñÊâßË°åÁÑ∂ÂêéÈîÄÊØÅÊòØ‰∏ÄÊ¨°ÊÄßÁöÑ QueueingConsumer.Delivery delivery = consumer.nextDelivery(); String s = new String(delivery.getBody()); System.out.println(s); &#125; &#125;&#125; RabbitMQËøûÊé•Â∑•ÂÖ∑ 4.4 Ê∂àÊÅØÈòüÂàó‰πãRabbitMq-work Ê®°Âºè 12345678910111213141516171819202122232425262728293031public class Recver1 &#123; private final static String QUEUE = "testwork";//ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); // Âêå‰∏ÄÊó∂ÂàªÊúçÂä°Âô®Âè™‰ºöÂèë‰∏ÄÊù°Ê∂àÊÅØÁªôÊ∂àË¥πËÄÖ,Âè™ÊúâÂΩìÂâçÊ∂àË¥πËÄÖÂ∞ÜÊ∂àÊÅØÂ§ÑÁêÜÂÆåÊàêÂêéÊâç‰ºöËé∑ÂèñÂà∞‰∏ã‰∏ÄÊù°Ê∂àÊÅØ //Ê≥®ÈáäÊéâÂêéÂèØ‰ª•Ëé∑ÂèñÂ§öÊù°Ê∂àÊÅØ,‰ΩÜÊòØ‰ºö‰∏ÄÊù°‰∏ÄÊù°Â§ÑÁêÜ channel.basicQos(1);//ÂëäËØâÊúçÂä°Âô®,Âú®Êàë‰ª¨Ê≤°ÊúâÁ°ÆËÆ§ÂΩìÂâçÊ∂àÊÅØÂÆåÊàê‰πãÂâç,‰∏çË¶ÅÁªôÊàëÂèëÊñ∞ÁöÑÊ∂àÊÅØ DefaultConsumer consumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //ÂΩìÊàë‰ª¨Êî∂Âà∞Ê∂àÊÅØÁöÑÊó∂ÂÄôË∞ÉÁî® System.out.println("Ê∂àË¥πËÄÖ1 Êî∂Âà∞ÁöÑÂÜÖÂÆπÊòØ:"+new String(body)); //Á°ÆËÆ§ try &#123; Thread.sleep(10);//Ê®°ÊãüËÄóÊó∂ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; channel.basicAck(envelope.getDeliveryTag(), false);//ÂèÇÊï∞2,false ‰∏∫Á°ÆËÆ§Êî∂Âà∞Ê∂àÊÅØ, true ‰∏∫ÊãíÊé•Êî∂Âà∞Ê∂àÊÅØ &#125; &#125;; //Ê≥®ÂÜåÊ∂àË¥πËÄÖ, ÂèÇÊï∞2 ÊâãÂä®Á°ÆËÆ§,‰ª£Ë°®Êàë‰ª¨Êî∂Âà∞Ê∂àÊÅØÂêéÈúÄË¶ÅÊâãÂä®ÂëäËØâÊúçÂä°Âô®,ÊàëÊî∂Âà∞Ê∂àÊÅØ‰∫Ü channel.basicConsume(QUEUE,false,consumer); &#125;&#125; 1234567891011121314151617181920212223242526272829public class Recver2 &#123; private final static String QUEUE = "testwork";//ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); channel.basicQos(1);//ÂëäËØâÊúçÂä°Âô®,Âú®Êàë‰ª¨Ê≤°ÊúâÁ°ÆËÆ§ÂΩìÂâçÊ∂àÊÅØÂÆåÊàê‰πãÂâç,‰∏çË¶ÅÁªôÊàëÂèëÊñ∞ÁöÑÊ∂àÊÅØ DefaultConsumer consumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //ÂΩìÊàë‰ª¨Êî∂Âà∞Ê∂àÊÅØÁöÑÊó∂ÂÄôË∞ÉÁî® System.out.println("Ê∂àË¥πËÄÖ2 Êî∂Âà∞ÁöÑÂÜÖÂÆπÊòØ:"+new String(body)); try &#123; Thread.sleep(300);//Ê®°ÊãüËÄóÊó∂ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; //Á°ÆËÆ§ channel.basicAck(envelope.getDeliveryTag(), false);//ÂèÇÊï∞2,false ‰∏∫Á°ÆËÆ§Êî∂Âà∞Ê∂àÊÅØ, true ‰∏∫ÊãíÊé•Êî∂Âà∞Ê∂àÊÅØ &#125; &#125;; //Ê≥®ÂÜåÊ∂àË¥πËÄÖ, ÂèÇÊï∞2 ÊâãÂä®Á°ÆËÆ§,‰ª£Ë°®Êàë‰ª¨Êî∂Âà∞Ê∂àÊÅØÂêéÈúÄË¶ÅÊâãÂä®ÂëäËØâÊúçÂä°Âô®,ÊàëÊî∂Âà∞Ê∂àÊÅØ‰∫Ü channel.basicConsume(QUEUE,false,consumer); &#125;&#125; 1234567891011121314151617181920212223242526public class Sender &#123; private final static String QUEUE = "testwork";//ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; //Ëé∑ÂèñËøûÊé• Connection connection = ConnextionUtil.getConnection(); //ÂàõÂª∫ÈÄöÈÅì Channel channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàó,Â¶ÇÊûúÈòüÂàóÂ≠òÂú®Âàô‰ªÄ‰πàÈÉΩ‰∏çÂÅö,Â¶ÇÊûú‰∏çÂ≠òÂú®ÊâçÂàõÂª∫ // ÂèÇÊï∞1 ÈòüÂàóÁöÑÂêçÂ≠ó //ÂèÇÊï∞2 ÊòØÂê¶ÊåÅ‰πÖÂåñÈòüÂàó,Êàë‰ª¨ÁöÑÈòüÂàóÊ®°ÂºèÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ,Â¶ÇÊûú rabbitmq ÈáçÂêØ‰ºö‰∏¢Â§±,Â¶ÇÊûúÊàë‰ª¨ËÆæÁΩÆ‰∏∫ true, Âàô‰ºö‰øùÂ≠òÂà∞ erlang Ëá™Â∏¶ÁöÑÊï∞ÊçÆÂ∫ì‰∏≠,ÈáçÂêØÂêé‰ºöÈáçÊñ∞ËØªÂèñ //ÂèÇÊï∞3 ÊòØÂê¶ÊéíÂ§ñ,Êúâ‰∏§‰∏™‰ΩúÁî®,Á¨¨‰∏Ä‰∏™ÂΩìÊàë‰ª¨ÁöÑËøûÊé•ÂÖ≥Èó≠ÂêéÊòØÂê¶‰ºöËá™Âä®Âà†Èô§ÈòüÂàó,‰ΩúÁî®‰∫å ÊòØÂê¶ÁßÅÊúâÂΩìÂ§©ÂâçÈòüÂàó,Â¶ÇÊûúÁßÅÊúâ‰∫Ü,ÂÖ∂‰ªñÈÄöÈÅì‰∏çÂèØ‰ª•ËÆøÈóÆÂΩìÂâçÈòüÂàó,Â¶ÇÊûú‰∏∫ true, ‰∏ÄËà¨ÊòØ‰∏Ä‰∏™ÈòüÂàóÂè™ÈÄÇÁî®‰∫é‰∏Ä‰∏™Ê∂àË¥πËÄÖÁöÑÊó∂ÂÄô //ÂèÇÊï∞4 ÊòØÂ§üËá™Âä®Âà†Èô§ //ÂèÇÊï∞5 Êàë‰ª¨ÁöÑ‰∏Ä‰∫õÂÖ∂‰ªñÂèÇÊï∞ channel.queueDeclare(QUEUE, false, false, false, null); for (int i = 0; i &lt; 100; i++) &#123; //ÂèëÈÄÅÂÜÖÂÆπ channel.basicPublish("",QUEUE,null,("ÂèëÈÄÅÁöÑÊ∂àÊÅØ"+i).getBytes()); &#125; //ÂÖ≥Èó≠ËøûÊé• channel.close(); connection.close(); &#125;&#125; 4.5Ê∂àÊÅØÈòüÂàó‰πãRabbitMq -Ê∂àÊÅØÁ°ÆËÆ§ 4.6 Ê∂àÊÅØÈòüÂàó‰πãRabbitMq -Publish_SubscribeÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè 123456789101112131415161718192021222324public class Recver1 &#123; private final static String EXCHANGE_NAME = "testexchange";//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testpubqueue1", false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ channel.queueBind("testpubqueue1", EXCHANGE_NAME, ""); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("Ê∂àË¥πËÄÖ11111111:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testpubqueue1", false, consumer); &#125;&#125; 1234567891011121314151617181920public class Recver2 &#123; private final static String EXCHANGE_NAME = "testexchange";//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testpubqueue2", false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ channel.queueBind("testpubqueue2", EXCHANGE_NAME, ""); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("Ê∂àË¥πËÄÖ2222222:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testpubqueue2", false, consumer); &#125;&#125; 1234567891011121314public class Sender &#123; private final static String EXCHANGE_NAME = "testexchange";//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); //Â£∞Êòé‰∫§Êç¢Êú∫ channel.exchangeDeclare(EXCHANGE_NAME, "fanout");//ÂÆö‰πâ‰∏Ä‰∏™‰∫§Êç¢Êú∫,Á±ªÂûãÊòØfanout,‰πüÂ∞±ÊòØÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè //ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÁöÑ,Âõ†‰∏∫Ê∂àÊÅØÊòØÂÖàÂèëÂà∞‰∫§Êç¢Êú∫‰∏≠,ËÄå‰∫§Êç¢Êú∫ÊòØÊ≤°Êúâ‰øùÂ≠òÂäüËÉΩÁöÑ,ÊâÄ‰ª•Â¶ÇÊûúÊ≤°ÊúâÊ∂àË¥πËÄÖ,Ê∂àÊÅØ‰ºö‰∏¢Â§± channel.basicPublish(EXCHANGE_NAME, "", null, "ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÁöÑÊ∂àÊÅØ".getBytes()); channel.close(); connection.close(); &#125; &#125; 4.7Ê∂àÊÅØÈòüÂàó‰πãRabbitMq -route Ë∑ØÁî±Ê®°Âºè RabbitMQ topicÊ®°Âºè 1234567891011121314public class Sender &#123; private final static String EXCHANGE_NAME = "testtopic"; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); // Â£∞Êòéexchange,Â£∞Êòé‰∏∫ topic ‰πüÂ∞±ÊòØÈÄöÈÖçÁ¨¶Á±ªÂûã channel.exchangeDeclare(EXCHANGE_NAME, "topic"); //ÂèëÈÄÅ abc.1.2Êï∞ÊçÆ,Âá°ÊòØËÉΩÂåπÈÖçÂà∞Ëøô‰∏™ÂÖ≥ÈîÆËØçÁöÑÈÉΩ‰ºöÊî∂Âà∞ channel.basicPublish(EXCHANGE_NAME, "abc.1.2", null, "topic Ê®°ÂºèÊ∂àÊÅØ111".getBytes()); channel.close(); connection.close(); &#125;&#125; 12345678910111213141516171819202122232425262728293031import com.qianfeng.uitl.ConnextionUtil;import com.rabbitmq.client.*;import java.io.IOException;/** * Created by jackiechan on 2018/4/5/‰∏ãÂçà4:33 */public class Recver2 &#123; private final static String EXCHANGE_NAME = "testtopic";//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testtopicqueue2", false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ //ÂèÇÊï∞3 Ê†áËÆ∞,ÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÁöÑÊó∂ÂÄô‰ºöÊåáÂÆö‰∏Ä‰∏™Ê†áËÆ∞,Âè™ÊúâÂíåÂÆÉ‰∏ÄÊ†∑ÁöÑÊ†áËÆ∞ÁöÑÊ∂àÊÅØÊâç‰ºöË¢´ÂΩìÂâçÊ∂àË¥πËÄÖÊî∂Âà∞ channel.queueBind("testtopicqueue2", EXCHANGE_NAME, "key.#"); //Â¶ÇÊûúË¶ÅÊé•Êî∂Â§ö‰∏™Ê†áËÆ∞,Âè™ÈúÄË¶ÅÂÜçÊâßË°å‰∏ÄÊ¨°Âç≥ÂèØ channel.queueBind("testtopicqueue2", EXCHANGE_NAME, "abc.#"); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("Ê∂àË¥πËÄÖ22222:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testtopicqueue2", false, consumer); &#125; &#125; 12345678910111213141516171819202122232425262728293031import com.qianfeng.uitl.ConnextionUtil;import com.rabbitmq.client.*;import java.io.IOException;/** * Created by jackiechan on 2018/4/5/‰∏ãÂçà4:33 */public class Recver1 &#123; private final static String EXCHANGE_NAME = "testtopic";//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testtopicqueue1", false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ //ÂèÇÊï∞3 Ê†áËÆ∞,ÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÁöÑÊó∂ÂÄô‰ºöÊåáÂÆö‰∏Ä‰∏™Ê†áËÆ∞,Âè™ÊúâÂíåÂÆÉ‰∏ÄÊ†∑ÁöÑÊ†áËÆ∞ÁöÑÊ∂àÊÅØÊâç‰ºöË¢´ÂΩìÂâçÊ∂àË¥πËÄÖÊî∂Âà∞ channel.queueBind("testtopicqueue1", EXCHANGE_NAME, "key.*"); //Â¶ÇÊûúË¶ÅÊé•Êî∂Â§ö‰∏™Ê†áËÆ∞,Âè™ÈúÄË¶ÅÂÜçÊâßË°å‰∏ÄÊ¨°Âç≥ÂèØ channel.queueBind("testtopicqueue1", EXCHANGE_NAME, "abc.#"); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("Ê∂àË¥πËÄÖ11111111:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testtopicqueue1", false, consumer); &#125;&#125; Rabbit MQ Êï¥ÂêàSpring 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:rabbit="http://www.springframework.org/schema/rabbit" xsi:schemaLocation="http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.7.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd"&gt; &lt;!--1 ÂÆö‰πâËøûÊé•Â∑•ÂéÇ--&gt; &lt;rabbit:connection-factory id="connectionFactory" host="192.168.3.233" port="5672" username="test" password="test" virtual-host="/test"/&gt; &lt;!--Ê∂àÊÅØÊòØÂèëÈÄÅÂà∞‰∫§Êç¢Êú∫ËøòÊòØÈòüÂàó--&gt; &lt;!--ÂÆö‰πâ rabbitmq ÁöÑÊ®°Êùø queue="" Â¶ÇÊûúÂèëÈÄÅÂà∞ÈòüÂàóÂàôÂÜôÈòüÂàó exchange="" Â¶ÇÊûúÂèëÈÄÅÂà∞‰∫§Êç¢Êú∫ÂàôÂÜô‰∫§Êç¢Êú∫ routing-key="" ÂÆö‰πâË∑ØÁî±ÁöÑÂÖ≥ÈîÆÂ≠ó --&gt; &lt;rabbit:template id="template" connection-factory="connectionFactory" exchange="fanoutExchange" /&gt; &lt;rabbit:admin connection-factory="connectionFactory"/&gt; &lt;!--ÂÆö‰πâÈòüÂàó--&gt; &lt;rabbit:queue name="myQueue" auto-declare="true"/&gt; &lt;!--ÂÆö‰πâ‰∫§Êç¢Êú∫--&gt; &lt;rabbit:fanout-exchange name="fanoutExchange" auto-declare="true"&gt; &lt;!--Â∞ÜÈòüÂàóÁªëÂÆöÂà∞‰∫§Êç¢Êú∫--&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="myQueue"&gt; &lt;/rabbit:binding&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:fanout-exchange&gt;&lt;!--ÂÆö‰πâÁõëÂê¨ÂÆπÊòì,ÂΩìÊî∂Âà∞Ê∂àÊÅØÁöÑÊó∂ÂÄô‰ºöÊâßË°åÂÜÖÈÉ®ÁöÑÈÖçÁΩÆ--&gt; &lt;rabbit:listener-container connection-factory="connectionFactory"&gt;&lt;!--ÂÆö‰πâÂà∞Â∫ïÂì™‰∏™Á±ªÈáåÈù¢ÁöÑ‰ªÄ‰πàÊñπÊ≥ïÁî®‰∫éÂ§ÑÁêÜÊî∂Âà∞ÁöÑÊ∂àÊÅØ--&gt; &lt;rabbit:listener ref="consumer" method="test" queue-names="myQueue"/&gt; &lt;/rabbit:listener-container&gt; &lt;!--ÂÆö‰πâÊ∂àË¥πËÄÖ--&gt; &lt;bean id="consumer" class="com.qianfeng.spring.MyConsumer"/&gt;&lt;!-- &lt;rabbit:direct-exchange name="directExchange" durable="true" auto-delete="false"&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="myQueue" key="key1"&gt; &lt;/rabbit:binding&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:direct-exchange&gt;--&gt; &lt;!-- &lt;rabbit:topic-exchange name="topicExchange" durable="true" auto-delete="false"&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding pattern="dfasfsd.*" queue="myQueue"/&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:topic-exchange&gt;--&gt;&lt;/beans&gt; 123456789public class MyConsumer &#123; /** * Áî®‰∫éÊé•Êî∂Ê∂àÊÅØ * @param message */ public void test(String message) &#123; System.err.println(message); &#125;&#125; 12345678public class SpringTest &#123; public static void main(String[] args) throws Exception&#123; ApplicationContext context = new ClassPathXmlApplicationContext("classpath:applicationContext.xml"); RabbitTemplate template = context.getBean(RabbitTemplate.class); template.convertAndSend("spring ÁöÑÊ∂àÊÅØ"); ((ClassPathXmlApplicationContext) context).destroy(); &#125;&#125;]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQ Exchange]]></title>
    <url>%2F2018%2F12%2F25%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F6.Exchange%2F</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SSMÊï¥Âêà]]></title>
    <url>%2F2018%2F12%2F23%2FSSM%20%2FSSM%E6%95%B4%E5%90%88%2F</url>
    <content type="text"><![CDATA[Êñ∞Âª∫SSMÈ°πÁõÆ ÔºåÂÖ≥‰∫éIDEAÁöÑÁâàÊú¨ÈóÆÈ¢òÂº∫ÁÉàÂª∫ËÆÆ‰ΩøÁî®ÊóóËà∞ÁâàÔºåÊúâÊù°‰ª∂ÁöÑÂ∞±Ë¥≠‰π∞ÔºåÊ≤°Êù°‰ª∂ÁöÑÂòõ„ÄÇ„ÄÇ Â§©Êúù‰Ω†ÊáÇÁöÑ„ÄÇÂú®Ê¨¢ËøéÁïåÈù¢ÁÇπÂáªCreate New Project„ÄÇ ‰πãÂêéÈÄâÊã©Maven(Êñ∞Âª∫JAVAEEÈ°πÁõÆÊòØÈúÄË¶ÅÂÆâË£ÖJDKÁöÑÔºåËøô‰∏™Â∞±‰∏çÂú®ËøôÈáåËÆ≤Ëß£‰∫Ü„ÄÇ )ÈÄâÂ•Ω‰πãÂêéÁÇπÂáª‰∏ã‰∏ÄÊ≠•„ÄÇ‰πãÂêéÂ°´ÂÖ•GroupIDÂíåArtifactIDËøôÈáåÂ∞ΩÈáèÊåâÁÖßMavenÁöÑÂëΩÂêçËßÑËåÉÊù•Âç≥ÂèØ„ÄÇ‰πãÂêéÁÇπÂáª‰∏ã‰∏ÄÊ≠•ÔºåÂ°´ÂÖ•È°πÁõÆÂêçÁß∞ÔºåËøôÈáåÊàëÂª∫ËÆÆÂíå‰πãÂâçÂ°´ÂÜôÁöÑArtifactIDÂêçÁß∞‰∏ÄÊ†∑Âç≥ÂèØ„ÄÇÁÇπÂáªFinishÂÆåÊàêÈ°πÁõÆÁöÑÂàõÂª∫„ÄÇ‰πãÂêéÂ∞ΩÈáè‰∏çË¶ÅÂÅöÂÖ∂‰ªñÊìç‰ΩúÔºåËÆ©IDEAÂÆåÊàêÁ¥¢ÂºïÂàõÂª∫„ÄÇ ÂÆåÂñÑÁõÆÂΩïÁªìÊûÑÈ¶ñÂÖàËßÇÂØü‰∏Ä‰∏ãIDEAÁªôÊàë‰ª¨ÁîüÊàêÁöÑÁõÆÂΩïÁªìÊûÑÔºåËøôÊòØ‰∏Ä‰∏™Ê†áÂáÜÁöÑMavenÁõÆÂΩï„ÄÇ ‰ΩÜÊòØÂÖ∂‰∏≠Â∞ë‰∫Ü‰∏Ä‰∏™webappÁõÆÂΩïÁî®‰∫éÂ≠òÊîæjsp„ÄÅcss„ÄÅjs„ÄÅÂõæÁâá‰πãÁ±ªÁöÑÊñá‰ª∂„ÄÇ ‰πãÂêéËøòÈúÄË¶ÅÂÆåÂñÑÊàë‰ª¨ÁöÑÁõÆÂΩïÁªìÊûÑÔºåÂ¶Ç‰∏ãÂõæÔºö‰ª•‰∏äÁöÑÂëΩÂêçÈÉΩÊòØÊàë‰ª¨ÂºÄÂèëËøáÁ®ã‰∏≠Â∏∏Áî®ÁöÑÂëΩÂêçËßÑÂàôÔºå‰∏ç‰∏ÄÂÆöÊåâÁÖßÊàëËøôÊ†∑Êù•Ôºå‰ΩÜÊòØÊúÄÂ•ΩÊòØÊúâ‰∏ÄÂÆöÁöÑËßÑËåÉ„ÄÇ POM.xmlpom.xmlÊòØÊï¥‰∏™mavenÁöÑÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂ÔºåÈáåÈù¢ÊúâÂØπÈ°πÁõÆÁöÑÊèèËø∞ÂíåÈ°πÁõÆÊâÄÈúÄË¶ÅÁöÑ‰æùËµñ„ÄÇ Âì¶ÂØπ‰∫ÜÔºåÂú®‰øÆÊîπpom.xmlÊñá‰ª∂‰πãÂâçÊàë‰ª¨ÊúÄÂ•ΩÂÖàËÆæÁΩÆ‰∏Ä‰∏ãËØ•È°πÁõÆÁöÑMavenËÆæÁΩÆ(IDEAÂØπÊØè‰∏™È°πÁõÆÁöÑmavenËÆæÁΩÆÂíåEclipse‰∏ç‰∏ÄÊ†∑Ôºå‰∏çÊòØËÆæÁΩÆ‰∏ÄÊ¨°Â∞±ÂèØ‰∫ÜÔºåÂ¶ÇÊûú‰ªäÂêéËøòË¶ÅÊñ∞Âª∫È°πÁõÆÈÇ£Â∞±ËøòÈúÄË¶ÅËÆæÁΩÆÔºå ÂêåÊó∂Êåâ‰Ωèctrl,alt,sÊòØÊâìÂºÄËÆæÁΩÆÁöÑÂø´Êç∑ÈîÆÔºåÊõ¥Â§öÊúâÂÖ≥IDEAÁöÑÊìç‰Ωú‰ªäÂêé‰ºöÊõ¥Êñ∞Áõ∏ÂÖ≥ÂçöÊñá„ÄÇ ) IDEAÁöÑMavenËÆæÁΩÆÂú®Eclipse‰∏≠Áî®ËøáMavenÁöÑÈÉΩÂ∫îËØ•Áü•ÈÅìÔºåËøôÈáåÊòØÂ∞ÜÈ°πÁõÆÁöÑMavenÊç¢ÊàêÊàë‰ª¨Ëá™Â∑±ÂÆâË£ÖÁöÑMavenÔºå‰∏ãÈù¢‰∏§‰∏™ÁõÆÂΩïÊòØÈÄâÊã©MavenÈÖçÁΩÆÊñá‰ª∂Ôºå‰∏çÁü•ÈÅìÊòØ‰ªÄ‰πàÂéüÂõ†Âú®Eclipse ‰∏≠ÈÄâÊã©‰∫ÜÈÖçÁΩÆÊñá‰ª∂‰πãÂêé‰ºöËá™Âä®ÁöÑÂ∞ÜMavenÊú¨Âú∞ÂéÇÂ∫ìÁöÑË∑ØÂæÑÊõ¥Êîπ‰∏∫‰Ω†settings.xml‰∏≠ÈÖçÁΩÆÁöÑË∑ØÂæÑ„ÄÇ Êó¢ÁÑ∂ËøôÈáåÊ≤°ÊúâËá™Âä®ÈÄâ‰∏≠ÈÇ£Êàë‰ª¨Â∞±ÊâãÂä®‰øÆÊîπÂç≥ÂèØÔºåÂ∞ΩÈáè‰∏çË¶ÅÊîæÂú®CÁõòÔºå‰∏ÄÊòØÁî®‰πÖ‰πãÂêéÊú¨Âú∞ÂéÇÂ∫ìÂç†Áî®ÁöÑÁ©∫Èó¥‰ºöÊØîËæÉÂ§ßÔºå‰∫åÊòØ‰∏á‰∏ÄÁ≥ªÁªüÂ¥©Ê∫ÉÁöÑËØùËøòÊúâÂèØËÉΩÊâæÂõûÊù•„ÄÇ ‰øÆÊîπpom.xml‰ª•‰∏ãÊòØÊàëÁöÑpom.xmlÊñá‰ª∂Ôºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!--suppress MavenModelInspection --&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.crossoverJie&lt;/groupId&gt; &lt;artifactId&gt;SSM&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.6&lt;/source&gt; &lt;target&gt;1.6&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;spring.version&gt;4.1.4.RELEASE&lt;/spring.version&gt; &lt;jackson.version&gt;2.5.0&lt;/jackson.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;3.8.1&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- spring --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- ‰ΩøÁî®SpringMVCÈúÄÈÖçÁΩÆ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÊï¥ÂêàÊó∂ÈúÄÈÖçÁΩÆ Â¶Çhibernate jpaÁ≠â --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-orm&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.2.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- log4j --&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mysqlËøûÊé• --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.34&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.0.18&lt;/version&gt; &lt;/dependency&gt; &lt;!-- json --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- aop --&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.8.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- servlet --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;3.0-alpha-1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- ‰∏ä‰º†Êñá‰ª∂ --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; spring-mvc.xmlËøô‰∏™ÈÖçÁΩÆÊñá‰ª∂ÊòØspringMVCÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºöÈáåÈù¢ÁöÑÊàëÈÉΩÂÜôÊúâÊ≥®ÈáäÔºåÂ∫îËØ•ÈÉΩËÉΩÁúãÊáÇ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt; &lt;!-- Ëá™Âä®Êâ´ÊèèËØ•ÂåÖÔºå‰ΩøSpringMVCËÆ§‰∏∫ÂåÖ‰∏ãÁî®‰∫Ü@controllerÊ≥®Ëß£ÁöÑÁ±ªÊòØÊéßÂà∂Âô® --&gt; &lt;context:component-scan base-package=&quot;com.crossoverJie.controller&quot; /&gt; &lt;!--ÈÅøÂÖçIEÊâßË°åAJAXÊó∂ÔºåËøîÂõûJSONÂá∫Áé∞‰∏ãËΩΩÊñá‰ª∂ --&gt; &lt;!--&lt;bean id=&quot;mappingJacksonHttpMessageConverter&quot; class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt; &lt;property name=&quot;supportedMediaTypes&quot;&gt; &lt;list&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt;--&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- ÂêØÂä®SpringMVCÁöÑÊ≥®Ëß£ÂäüËÉΩÔºåÂÆåÊàêËØ∑Ê±ÇÂíåÊ≥®Ëß£POJOÁöÑÊò†Â∞Ñ --&gt; &lt;!-- ÂÆö‰πâË∑≥ËΩ¨ÁöÑÊñá‰ª∂ÁöÑÂâçÂêéÁºÄ ÔºåËßÜÂõæÊ®°ÂºèÈÖçÁΩÆ--&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;!-- ËøôÈáåÁöÑÈÖçÁΩÆÊàëÁöÑÁêÜËß£ÊòØËá™Âä®ÁªôÂêéÈù¢actionÁöÑÊñπÊ≥ïreturnÁöÑÂ≠óÁ¨¶‰∏≤Âä†‰∏äÂâçÁºÄÂíåÂêéÁºÄÔºåÂèòÊàê‰∏Ä‰∏™ ÂèØÁî®ÁöÑurlÂú∞ÂùÄ --&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; &lt;/bean&gt; &lt;!-- ÈÖçÁΩÆÊñá‰ª∂‰∏ä‰º†ÔºåÂ¶ÇÊûúÊ≤°Êúâ‰ΩøÁî®Êñá‰ª∂‰∏ä‰º†ÂèØ‰ª•‰∏çÁî®ÈÖçÁΩÆÔºåÂΩìÁÑ∂Â¶ÇÊûú‰∏çÈÖçÔºåÈÇ£‰πàÈÖçÁΩÆÊñá‰ª∂‰∏≠‰πü‰∏çÂøÖÂºïÂÖ•‰∏ä‰º†ÁªÑ‰ª∂ÂåÖ --&gt; &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt; &lt;!-- ÈªòËÆ§ÁºñÁ†Å --&gt; &lt;property name=&quot;defaultEncoding&quot; value=&quot;utf-8&quot; /&gt; &lt;!-- Êñá‰ª∂Â§ßÂ∞èÊúÄÂ§ßÂÄº --&gt; &lt;property name=&quot;maxUploadSize&quot; value=&quot;10485760000&quot; /&gt; &lt;!-- ÂÜÖÂ≠ò‰∏≠ÁöÑÊúÄÂ§ßÂÄº --&gt; &lt;property name=&quot;maxInMemorySize&quot; value=&quot;40960&quot; /&gt; &lt;/bean&gt; &lt;!-- ÈÖçÁΩÆÊã¶Êà™Âô® --&gt; &lt;!--&lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &amp;lt;!&amp;ndash; &lt;mvc:mapping path=&quot;/**&quot;/&gt;Êã¶Êà™ÊâÄÊúâ &amp;ndash;&amp;gt; &lt;mvc:mapping path=&quot;/user/**&quot;/&gt; &lt;mvc:mapping path=&quot;/role/**&quot;/&gt; &lt;mvc:mapping path=&quot;/function/**&quot;/&gt; &lt;mvc:mapping path=&quot;/news/**&quot;/&gt; &lt;mvc:mapping path=&quot;/img/**&quot;/&gt; &lt;bean class=&quot;com.crossoverJie.intercept.Intercept&quot;&gt;&lt;/bean&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt;--&gt;&lt;/beans&gt; ÂÖ≥‰∫é‰∏äÈù¢Êã¶Êà™Âô®Ê≥®ÈáäÊéâÁöÑÈÇ£ÈáåÔºåÈÖçÁΩÆÊòØÊ≤°ÊúâÈóÆÈ¢òÁöÑÔºåÂõ†‰∏∫ËøôÊòØ‰∏Ä‰∏™Êï¥ÂêàÈ°πÁõÆÔºåÊâÄ‰ª•ÈáåËæπ‰πüÊ≤°ÊúâÁî®Âà∞Êã¶Êà™Âô®Ôºå‰∏∫‰∫ÜÈò≤Ê≠¢ËøêË°åÊä•ÈîôÊâÄ‰ª•Â∞±ÂÖàÊ≥®ÈáäÊéâ‰∫Ü„ÄÇ Â¶ÇÊûúÂêéÁª≠ÈúÄË¶ÅÂ¢ûÂä†Êã¶Êà™Âô®ÔºåÂèØ‰ª•ÂèÇËÄÉËøôÈáåÁöÑÈÖçÁΩÆ„ÄÇ spring-mybatis.xmlËøô‰∏™ÊòØspringÂíåmybatisÁöÑÊï¥ÂêàÈÖçÁΩÆÊñá‰ª∂ÔºåÂÖ∂‰∏≠ËøòÊúâDruidËøûÊé•Ê±†ÁöÑÈÖçÁΩÆ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt; &lt;!-- Ëá™Âä®Êâ´Êèè --&gt; &lt;context:component-scan base-package=&quot;com.crossoverJie&quot; /&gt; &lt;!-- ÂºïÂÖ•ÈÖçÁΩÆÊñá‰ª∂ --&gt; &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;location&quot; value=&quot;classpath:jdbc.properties&quot; /&gt; &lt;/bean&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt; &lt;!-- ÊåáÂÆöËøûÊé•Êï∞ÊçÆÂ∫ìÁöÑÈ©±Âä® --&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driverClass&#125;&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot; /&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.user&#125;&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt; &lt;!-- ÈÖçÁΩÆÂàùÂßãÂåñÂ§ßÂ∞è„ÄÅÊúÄÂ∞è„ÄÅÊúÄÂ§ß --&gt; &lt;property name=&quot;initialSize&quot; value=&quot;3&quot; /&gt; &lt;property name=&quot;minIdle&quot; value=&quot;3&quot; /&gt; &lt;property name=&quot;maxActive&quot; value=&quot;20&quot; /&gt; &lt;!-- ÈÖçÁΩÆËé∑ÂèñËøûÊé•Á≠âÂæÖË∂ÖÊó∂ÁöÑÊó∂Èó¥ --&gt; &lt;property name=&quot;maxWait&quot; value=&quot;60000&quot; /&gt; &lt;!-- ÈÖçÁΩÆÈó¥ÈöîÂ§ö‰πÖÊâçËøõË°å‰∏ÄÊ¨°Ê£ÄÊµãÔºåÊ£ÄÊµãÈúÄË¶ÅÂÖ≥Èó≠ÁöÑÁ©∫Èó≤ËøûÊé•ÔºåÂçï‰ΩçÊòØÊØ´Áßí --&gt; &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt; &lt;!-- ÈÖçÁΩÆ‰∏Ä‰∏™ËøûÊé•Âú®Ê±†‰∏≠ÊúÄÂ∞èÁîüÂ≠òÁöÑÊó∂Èó¥ÔºåÂçï‰ΩçÊòØÊØ´Áßí --&gt; &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;300000&quot; /&gt; &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT &apos;x&apos;&quot; /&gt; &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt; &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot; /&gt; &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot; /&gt; &lt;!-- ÊâìÂºÄPSCacheÔºåÂπ∂‰∏îÊåáÂÆöÊØè‰∏™ËøûÊé•‰∏äPSCacheÁöÑÂ§ßÂ∞è --&gt; &lt;property name=&quot;poolPreparedStatements&quot; value=&quot;true&quot; /&gt; &lt;property name=&quot;maxPoolPreparedStatementPerConnectionSize&quot; value=&quot;20&quot; /&gt; &lt;!-- ÈÖçÁΩÆÁõëÊéßÁªüËÆ°Êã¶Êà™ÁöÑfiltersÔºåÂéªÊéâÂêéÁõëÊéßÁïåÈù¢sqlÊó†Ê≥ïÁªüËÆ° --&gt; &lt;property name=&quot;filters&quot; value=&quot;stat&quot; /&gt; &lt;/bean&gt; &lt;!-- springÂíåMyBatisÂÆåÁæéÊï¥ÂêàÔºå‰∏çÈúÄË¶ÅmybatisÁöÑÈÖçÁΩÆÊò†Â∞ÑÊñá‰ª∂ --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;!-- Ëá™Âä®Êâ´Êèèmapping.xmlÊñá‰ª∂ --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapping/*.xml&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- DAOÊé•Âè£ÊâÄÂú®ÂåÖÂêçÔºåSpring‰ºöËá™Âä®Êü•ÊâæÂÖ∂‰∏ãÁöÑÁ±ª --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.crossoverJie.dao&quot; /&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- (‰∫ãÂä°ÁÆ°ÁêÜ)transaction manager, use JtaTransactionManager for global tx --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;/bean&gt;&lt;/beans&gt; ‰ª•‰∏ä‰∏§‰∏™Â∞±ÊòØÊúÄÈáçË¶ÅÁöÑÈÖçÁΩÆÊñá‰ª∂‰∫ÜÔºåÂè™Ë¶ÅÂÖ∂‰∏≠ÁöÑÂåÖÂêçÂíåÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂêçÂ≠ó‰∏ÄÊ†∑Â∞±‰∏ç‰ºöÂá∫ÈóÆÈ¢ò„ÄÇÂÖ≥‰∫éxxMpper.xml‰ª•ÂèäÂÆû‰ΩìÁ±ªÁöÑÁîüÊàêÔºåÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä©mybatis-generatorËá™Âä®ÁîüÊàêÂ∑•ÂÖ∑Êù•ÁîüÊàêÔºåÊñπ‰æøÂø´Êç∑„ÄÇ ‚Äî- IDEAÈÖçÁΩÆTomcatÂÖ≥‰∫éTomcatÁöÑ‰∏ãËΩΩ‰∏éÂÆâË£ÖÊàëËøôÈáåÂ∞±‰∏çÂ§ö‰ªãÁªç‰∫Ü„ÄÇÊåâÁÖß‰∏ãÂõæÈÄâÊã©ÔºöÂú®name‰∏≠‰∏∫Ëøô‰∏™TomcatËæìÂÖ•‰∏Ä‰∏™ÂêçÂ≠ó„ÄÇ ‰πãÂêéÈÄâÊã©‰Ω†Êú¨Âú∞TomcatÁöÑÁõÆÂΩïÁÇπÂáªOkÂç≥ÂèØ„ÄÇÁÇπÂáªapplyÂíå‰øùÂ≠ò‰πãÂêéÂ∞±ËøîÂõûÈ¶ñÈ°µÂç≥ÂèØÁúãÂà∞TomcatÁöÑÊ†áËØÜ„ÄÇÊ†πÊçÆÈúÄË¶ÅÁÇπÂáªRunÂíåDebugÂç≥ÂèØËøêË°å„ÄÇ ËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºöÁÇπÂáª‰∏äÂõæÁöÑ2,3,4ÂèØÁúãÂà∞‰∏çÂêåÁî®Êà∑ÁöÑÁªìÊûúÔºåÂ¶ÇÊûú‰Ω†Ëµ∞Âà∞Ëøô‰∏ÄÊ≠•ÔºåÈÇ£‰πàÊÅ≠Âñú‰Ω†Êï¥ÂêàÊàêÂäü„ÄÇ Jdbc.properties12345jdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3307/ssm?useUnicode=true&amp;characterEncoding=utf8jdbc.username=rootjdbc.password= mybatis-config.xml1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;!-- ÈÖçÁΩÆÂÖ®Â±ÄÂ±ûÊÄß --&gt; &lt;settings&gt; &lt;!-- ‰ΩøÁî®jdbcÁöÑgetGeneratedKeysËé∑ÂèñÊï∞ÊçÆÂ∫ìËá™Â¢û‰∏ªÈîÆÂÄº --&gt; &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;true&quot; /&gt; &lt;!-- ‰ΩøÁî®ÂàóÂà´ÂêçÊõøÊç¢ÂàóÂêç ÈªòËÆ§:true --&gt; &lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot; /&gt; &lt;!-- ÂºÄÂêØÈ©ºÂ≥∞ÂëΩÂêçËΩ¨Êç¢:Table&#123;create_time&#125; -&gt; Entity&#123;createTime&#125; --&gt; &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot; /&gt; &lt;/settings&gt;&lt;/configuration&gt;]]></content>
      <tags>
        <tag>SSM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊÖïËØæÁΩëSSMÂà∞Spring Boot-‰ªéÈõ∂ÂºÄÂèëÊ†°Âõ≠ÂïÜÈì∫Âπ≥Âè∞ o2o]]></title>
    <url>%2F2018%2F12%2F22%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E6%85%95%E8%AF%BE%E7%BD%91SSM%E5%88%B0Spring%20Boot-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%8F%91%E6%A0%A1%E5%9B%AD%E5%95%86%E9%93%BA%E5%B9%B3%E5%8F%B0%20o2o%20%2F</url>
    <content type="text"><![CDATA[1.ÂÆû‰ΩìÁ±ªËß£Êûê‰∏éË°®ÁöÑÂàõÂª∫ $ÂïÜÂìÅÁ±ªÂà´$Ôºö 1:ÂïÜÂìÅÁ±ªÂà´ÁöÑid 2:Â∫óÈì∫id 3:ÂïÜÂìÅÁ±ªÂà´ÁöÑÂêçÁß∞ 4:ÂïÜÂìÅÁ±ªÂà´ÁöÑÊùÉÈáç 5:ÂïÜÂìÅÂàõÂª∫Êó∂Èó¥ $ËØ¶ÊÉÖÂõæÁâáÔºö$ 1:ËØ¶ÊÉÖÂõæÁâáÁöÑid 2.ÂõæÁâáÁöÑÂú∞ÂùÄ 3.ÂõæÁâáÊòæÁ§∫ÁöÑÊùÉÈáç Â§ßÈù†ÂâçÊòæÁ§∫ 4.ÂàõÂª∫Êó∂Èó¥ 5.Â±û‰∫éÈÇ£‰∏™ÂïÜÂìÅÁöÑËØ¶ÊÉÖÂõæÁâáÔºàÂ§öÂØπ‰∏ÄÔºâÁöÑÂÖ≥Á≥ª 2 SprintBootÁéØÂ¢ÉÊê≠ËΩΩ2.1 maven‰æùËµñ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.imooc.demo&lt;/groupId&gt; &lt;artifactId&gt;myo2o&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;myo2o Maven Webapp&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;spring.version&gt;4.3.7.RELEASE&lt;/spring.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- ÂçïÂÖÉÊµãËØï --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 1.Êó•Âøó --&gt; &lt;!-- ÂÆûÁé∞slf4jÊé•Âè£Âπ∂Êï¥Âêà --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2.Êï∞ÊçÆÂ∫ì --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.37&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- DAO: MyBatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3.Servlet web --&gt; &lt;dependency&gt; &lt;groupId&gt;taglibs&lt;/groupId&gt; &lt;artifactId&gt;standard&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;jstl&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.8.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4.Spring --&gt; &lt;!-- 1)SpringÊ†∏ÂøÉ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 2)Spring DAOÂ±Ç --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 3)Spring web --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 4)Spring test --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- redisÂÆ¢Êà∑Á´Ø:Jedis --&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.dyuproject.protostuff&lt;/groupId&gt; &lt;artifactId&gt;protostuff-core&lt;/artifactId&gt; &lt;version&gt;1.0.12&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.dyuproject.protostuff&lt;/groupId&gt; &lt;artifactId&gt;protostuff-runtime&lt;/artifactId&gt; &lt;version&gt;1.0.12&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MapÂ∑•ÂÖ∑Á±ª --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt; &lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.8&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/com.github.penggle/kaptcha --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- wechatÁõ∏ÂÖ≥ --&gt; &lt;!-- https://mvnrepository.com/artifact/net.sf.json-lib/json-lib --&gt; &lt;dependency&gt; &lt;groupId&gt;net.sf.json-lib&lt;/groupId&gt; &lt;artifactId&gt;json-lib&lt;/artifactId&gt; &lt;version&gt;2.4&lt;/version&gt; &lt;classifier&gt;jdk15&lt;/classifier&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream --&gt; &lt;dependency&gt; &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt; &lt;artifactId&gt;xstream&lt;/artifactId&gt; &lt;version&gt;1.4.9&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.dom4j/dom4j --&gt; &lt;dependency&gt; &lt;groupId&gt;org.dom4j&lt;/groupId&gt; &lt;artifactId&gt;dom4j&lt;/artifactId&gt; &lt;version&gt;2.0.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- ‰∫åÁª¥Á†ÅÁõ∏ÂÖ≥ --&gt; &lt;!-- https://mvnrepository.com/artifact/com.google.zxing/javase --&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.zxing&lt;/groupId&gt; &lt;artifactId&gt;javase&lt;/artifactId&gt; &lt;version&gt;3.3.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;myo2o&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.6.0&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;encoding&gt;UTF8&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/projec ###2.2 ÁéØÂ¢ÉÊê≠Âª∫SSM jdbc.properties1234jdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/o2odb?useUnicode=true&amp;characterEncoding=utf8jdbc.username=WnplV/ietfQ=jdbc.password=TdixoQRe6Y0= logback.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344 &lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;&lt;configuration debug="false"&gt; &lt;appender name="INFO-FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/info/info.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/info/info.%d&#123;yyyy-MM-dd&#125;.%i.log.zip&lt;/fileNamePattern&gt; &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt; &lt;maxFileSize&gt;1024MB&lt;/maxFileSize&gt; &lt;/timeBasedFileNamingAndTriggeringPolicy&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - %msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name="ACCESS-FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;file&gt; $&#123;catalina.base&#125;/webapps/myo2o/logs/access/access.log&lt;/file&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;FileNamePattern&gt;$&#123;catalina.base&#125;/webapps/myo2o/logs/access/access.%d&#123;yyyy-MM-dd&#125;.%i.log.zip&lt;/FileNamePattern&gt; &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt; &lt;maxFileSize&gt;1024MB&lt;/maxFileSize&gt; &lt;/timeBasedFileNamingAndTriggeringPolicy&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;55&#125; - %msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;logger name="com.imooc.myo2o" level="DEBUG" additivity="false"&gt; &lt;appender-ref ref="ACCESS-FILE" /&gt; &lt;/logger&gt; &lt;root level="INFO"&gt; &lt;appender-ref ref="INFO-FILE" /&gt; &lt;/root&gt;&lt;/configuration&gt; mybatis-config.xml12345678910111213141516171819&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;configuration&gt; &lt;!-- ÈÖçÁΩÆÂÖ®Â±ÄÂ±ûÊÄß --&gt; &lt;settings&gt; &lt;!-- ‰ΩøÁî®jdbcÁöÑgetGeneratedKeysËé∑ÂèñÊï∞ÊçÆÂ∫ìËá™Â¢û‰∏ªÈîÆÂÄº --&gt; &lt;setting name="useGeneratedKeys" value="true" /&gt; &lt;!-- ‰ΩøÁî®ÂàóÂà´ÂêçÊõøÊç¢ÂàóÂêç ÈªòËÆ§:true --&gt; &lt;setting name="useColumnLabel" value="true" /&gt; &lt;!-- ÂºÄÂêØÈ©ºÂ≥∞ÂëΩÂêçËΩ¨Êç¢:Table&#123;create_time&#125; -&gt; Entity&#123;createTime&#125; --&gt; &lt;setting name="mapUnderscoreToCamelCase" value="true" /&gt; &lt;!-- ÊâìÂç∞Êü•ËØ¢ËØ≠Âè• --&gt; &lt;setting name="logImpl" value="STDOUT_LOGGING" /&gt; &lt;/settings&gt;&lt;/configuration&gt; redis.properties1234567redis.hostname=127.0.0.1redis.port=6379redis.database=0redis.pool.maxActive=600redis.pool.maxIdle=300redis.pool.maxWait=3000redis.pool.testOnBorrow=true weixin.properties12weixinappid=PTv/7qETW0kO5N0WT223IlBEOUuK0+SOweixinappsecret=jOjEubTD3dTzTbNzX+vREKnTJvvKZRud6c3712kCaGgfJAfVsP+M2w== web.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd" version="3.1" metadata-complete="true"&gt; &lt;!-- Â¶ÇÊûúÊòØÁî®mvnÂëΩ‰ª§ÁîüÊàêÁöÑxmlÔºåÈúÄË¶Å‰øÆÊîπservletÁâàÊú¨‰∏∫3.1 --&gt; &lt;servlet&gt; &lt;!-- ÁîüÊàêÂõæÁâáÁöÑServlet --&gt; &lt;servlet-name&gt;Kaptcha&lt;/servlet-name&gt; &lt;servlet-class&gt;com.google.code.kaptcha.servlet.KaptchaServlet&lt;/servlet-class&gt; &lt;!-- ÊòØÂê¶ÊúâËæπÊ°Ü --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.border&lt;/param-name&gt; &lt;param-value&gt;no&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- Â≠ó‰ΩìÈ¢úËâ≤ --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.color&lt;/param-name&gt; &lt;param-value&gt;red&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- ÂõæÁâáÂÆΩÂ∫¶ --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.image.width&lt;/param-name&gt; &lt;param-value&gt;135&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- ‰ΩøÁî®Âì™‰∫õÂ≠óÁ¨¶ÁîüÊàêÈ™åËØÅÁ†Å --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.char.string&lt;/param-name&gt; &lt;param-value&gt;ACDEFHKPRSTWX345679&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- ÂõæÁâáÈ´òÂ∫¶ --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.image.height&lt;/param-name&gt; &lt;param-value&gt;50&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- Â≠ó‰ΩìÂ§ßÂ∞è --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.size&lt;/param-name&gt; &lt;param-value&gt;43&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- Âπ≤Êâ∞Á∫øÁöÑÈ¢úËâ≤ --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.noise.color&lt;/param-name&gt; &lt;param-value&gt;black&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- Â≠óÁ¨¶‰∏™Êï∞ --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.char.length&lt;/param-name&gt; &lt;param-value&gt;4&lt;/param-value&gt; &lt;/init-param&gt; &lt;!-- ‰ΩøÁî®Âì™‰∫õÂ≠ó‰Ωì --&gt; &lt;init-param&gt; &lt;param-name&gt;kaptcha.textproducer.font.names&lt;/param-name&gt; &lt;param-value&gt;Arial&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;!-- Êò†Â∞ÑÁöÑurl --&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;Kaptcha&lt;/servlet-name&gt; &lt;url-pattern&gt;/Kaptcha&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;!-- ÈÖçÁΩÆDispatcherServlet --&gt; &lt;servlet&gt; &lt;servlet-name&gt;seckill-dispatcher&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- ÈÖçÁΩÆspringMVCÈúÄË¶ÅÂä†ËΩΩÁöÑÈÖçÁΩÆÊñá‰ª∂ spring-dao.xml,spring-service.xml,spring-web.xml Mybatis - &gt; spring -&gt; springmvc --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/spring-*.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;seckill-dispatcher&lt;/servlet-name&gt; &lt;!-- ÈªòËÆ§ÂåπÈÖçÊâÄÊúâÁöÑËØ∑Ê±Ç --&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; Springspring-dao.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"&gt; &lt;!-- ÈÖçÁΩÆÊï¥ÂêàmybatisËøáÁ®ã --&gt; &lt;!-- 1.ÈÖçÁΩÆÊï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÂèÇÊï∞propertiesÁöÑÂ±ûÊÄßÔºö$&#123;url&#125; --&gt; &lt;bean class="com.imooc.myo2o.util.EncryptPropertyPlaceholderConfigurer"&gt; &lt;property name="locations"&gt; &lt;list&gt; &lt;value&gt;classpath:jdbc.properties&lt;/value&gt; &lt;value&gt;classpath:redis.properties&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="fileEncoding" value="UTF-8" /&gt; &lt;/bean&gt; &lt;!-- 2.Êï∞ÊçÆÂ∫ìËøûÊé•Ê±† --&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;!-- ÈÖçÁΩÆËøûÊé•Ê±†Â±ûÊÄß --&gt; &lt;property name="driverClass" value="$&#123;jdbc.driver&#125;" /&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;" /&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;" /&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;" /&gt; &lt;!-- c3p0ËøûÊé•Ê±†ÁöÑÁßÅÊúâÂ±ûÊÄß --&gt; &lt;property name="maxPoolSize" value="30" /&gt; &lt;property name="minPoolSize" value="10" /&gt; &lt;!-- ÂÖ≥Èó≠ËøûÊé•Âêé‰∏çËá™Âä®commit --&gt; &lt;property name="autoCommitOnClose" value="false" /&gt; &lt;!-- Ëé∑ÂèñËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥ --&gt; &lt;property name="checkoutTimeout" value="10000" /&gt; &lt;!-- ÂΩìËé∑ÂèñËøûÊé•Â§±Ë¥•ÈáçËØïÊ¨°Êï∞ --&gt; &lt;property name="acquireRetryAttempts" value="2" /&gt; &lt;/bean&gt; &lt;!-- 3.ÈÖçÁΩÆSqlSessionFactoryÂØπË±° --&gt; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt; &lt;!-- Ê≥®ÂÖ•Êï∞ÊçÆÂ∫ìËøûÊé•Ê±† --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;!-- ÈÖçÁΩÆMyBatiesÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂:mybatis-config.xml --&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml" /&gt; &lt;!-- Êâ´ÊèèentityÂåÖ ‰ΩøÁî®Âà´Âêç --&gt; &lt;property name="typeAliasesPackage" value="com.imooc.myo2o.entity" /&gt; &lt;!-- Êâ´ÊèèsqlÈÖçÁΩÆÊñá‰ª∂:mapperÈúÄË¶ÅÁöÑxmlÊñá‰ª∂ --&gt; &lt;property name="mapperLocations" value="classpath:mapper/*.xml" /&gt; &lt;/bean&gt; &lt;!-- 4.ÈÖçÁΩÆÊâ´ÊèèDaoÊé•Âè£ÂåÖÔºåÂä®ÊÄÅÂÆûÁé∞DaoÊé•Âè£ÔºåÊ≥®ÂÖ•Âà∞springÂÆπÂô®‰∏≠ --&gt; &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;!-- Ê≥®ÂÖ•sqlSessionFactory --&gt; &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory" /&gt; &lt;!-- ÁªôÂá∫ÈúÄË¶ÅÊâ´ÊèèDaoÊé•Âè£ÂåÖ --&gt; &lt;property name="basePackage" value="com.imooc.myo2o.dao" /&gt; &lt;/bean&gt;&lt;/beans&gt; spring-redis.xml12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd"&gt; &lt;bean id="jedisPoolConfig" class="redis.clients.jedis.JedisPoolConfig"&gt; &lt;property name="maxTotal" value="$&#123;redis.pool.maxActive&#125;" /&gt; &lt;property name="maxIdle" value="$&#123;redis.pool.maxIdle&#125;" /&gt; &lt;property name="maxWaitMillis" value="$&#123;redis.pool.maxWait&#125;" /&gt; &lt;property name="testOnBorrow" value="$&#123;redis.pool.testOnBorrow&#125;" /&gt; &lt;/bean&gt; &lt;bean id="jedisWritePool" class="com.imooc.myo2o.cache.JedisPoolWriper" depends-on="jedisPoolConfig"&gt; &lt;constructor-arg index="0" ref="jedisPoolConfig" /&gt; &lt;constructor-arg index="1" value="$&#123;redis.hostname&#125;" /&gt; &lt;constructor-arg index="2" value="$&#123;redis.port&#125;" type="int" /&gt; &lt;/bean&gt; &lt;bean id="jedisKeys" class="com.imooc.myo2o.cache.JedisUtil$Keys" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisStrings" class="com.imooc.myo2o.cache.JedisUtil$Strings" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisLists" class="com.imooc.myo2o.cache.JedisUtil$Lists" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisSets" class="com.imooc.myo2o.cache.JedisUtil$Sets" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisHash" class="com.imooc.myo2o.cache.JedisUtil$Hash" scope="singleton"&gt; &lt;constructor-arg ref="jedisUtil"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;bean id="jedisUtil" class="com.imooc.myo2o.cache.JedisUtil" scope="singleton"&gt; &lt;property name="jedisPool"&gt; &lt;ref bean="jedisWritePool" /&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; spring-service.xml123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"&gt; &lt;!-- Êâ´ÊèèserviceÂåÖ‰∏ãÊâÄÊúâ‰ΩøÁî®Ê≥®Ëß£ÁöÑÁ±ªÂûã --&gt; &lt;context:component-scan base-package="com.imooc.myo2o.service" /&gt; &lt;!-- ÈÖçÁΩÆ‰∫ãÂä°ÁÆ°ÁêÜÂô® --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;!-- Ê≥®ÂÖ•Êï∞ÊçÆÂ∫ìËøûÊé•Ê±† --&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;/bean&gt; &lt;!-- ÈÖçÁΩÆÂü∫‰∫éÊ≥®Ëß£ÁöÑÂ£∞ÊòéÂºè‰∫ãÂä° --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" /&gt;&lt;/beans&gt; spring -web.xml1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd"&gt; &lt;!-- ÈÖçÁΩÆSpringMVC --&gt; &lt;!-- 1.ÂºÄÂêØSpringMVCÊ≥®Ëß£Ê®°Âºè --&gt; &lt;!-- ÁÆÄÂåñÈÖçÁΩÆÔºö (1)Ëá™Âä®Ê≥®ÂÜåDefaultAnootationHandlerMapping,AnotationMethodHandlerAdapter (2)Êèê‰æõ‰∏Ä‰∫õÂàóÔºöÊï∞ÊçÆÁªëÂÆöÔºåÊï∞Â≠óÂíåÊó•ÊúüÁöÑformat @NumberFormat, @DateTimeFormat, xml,jsonÈªòËÆ§ËØªÂÜôÊîØÊåÅ --&gt; &lt;mvc:annotation-driven /&gt; &lt;!-- 2.ÈùôÊÄÅËµÑÊ∫êÈªòËÆ§servletÈÖçÁΩÆ (1)Âä†ÂÖ•ÂØπÈùôÊÄÅËµÑÊ∫êÁöÑÂ§ÑÁêÜÔºöjs,gif,png (2)ÂÖÅËÆ∏‰ΩøÁî®"/"ÂÅöÊï¥‰ΩìÊò†Â∞Ñ --&gt; &lt;mvc:resources mapping="/resources/**" location="/resources/" /&gt; &lt;mvc:default-servlet-handler /&gt; &lt;!-- 3.ÂÆö‰πâËßÜÂõæËß£ÊûêÂô® --&gt; &lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="prefix" value="/WEB-INF/html/"&gt;&lt;/property&gt; &lt;property name="suffix" value=".html"&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- Êñá‰ª∂‰∏ä‰º†Ëß£ÊûêÂô® --&gt; &lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="defaultEncoding" value="utf-8"&gt;&lt;/property&gt; &lt;property name="maxUploadSize" value="10485760000"&gt;&lt;/property&gt;&lt;!-- ÊúÄÂ§ß‰∏ä‰º†Êñá‰ª∂Â§ßÂ∞è --&gt; &lt;property name="maxInMemorySize" value="10960"&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- Âú®spring-mvc.xmlÊñá‰ª∂‰∏≠Âä†ÂÖ•ËøôÊÆµÈÖçÁΩÆÂêéÔºåspringËøîÂõûÁªôÈ°µÈù¢ÁöÑÈÉΩÊòØutf-8ÁºñÁ†Å‰∫Ü --&gt; &lt;bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter"&gt; &lt;property name="messageConverters"&gt; &lt;list&gt; &lt;bean class="org.springframework.http.converter.StringHttpMessageConverter"&gt; &lt;property name="supportedMediaTypes"&gt; &lt;list&gt; &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- 4.Êâ´ÊèèwebÁõ∏ÂÖ≥ÁöÑbean --&gt; &lt;context:component-scan base-package="com.imooc.myo2o.web" /&gt; &lt;!-- 5.ÊùÉÈôêÊã¶Êà™Âô® --&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/shop/**" /&gt; &lt;mvc:exclude-mapping path="/shop/ownerlogin" /&gt; &lt;mvc:exclude-mapping path="/shop/ownerlogincheck" /&gt; &lt;mvc:exclude-mapping path="/shop/logout" /&gt; &lt;mvc:exclude-mapping path="/shop/register" /&gt; &lt;bean id="ShopInterceptor" class="com.imooc.myo2o.interceptor.shop.ShopLoginInterceptor" /&gt; &lt;/mvc:interceptor&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/shop/**" /&gt; &lt;mvc:exclude-mapping path="/shop/ownerlogin" /&gt; &lt;mvc:exclude-mapping path="/shop/ownerlogincheck" /&gt; &lt;mvc:exclude-mapping path="/shop/register" /&gt; &lt;!-- shoplist page --&gt; &lt;mvc:exclude-mapping path="/shop/shoplist" /&gt; &lt;mvc:exclude-mapping path="/shop/logout" /&gt; &lt;mvc:exclude-mapping path="/shop/list" /&gt; &lt;!-- changepsw page --&gt; &lt;mvc:exclude-mapping path="/shop/changepsw" /&gt; &lt;mvc:exclude-mapping path="/shop/changelocalpwd" /&gt; &lt;!-- ownerbind page --&gt; &lt;mvc:exclude-mapping path="/shop/ownerbind" /&gt; &lt;mvc:exclude-mapping path="/shop/bindlocalauth" /&gt; &lt;!-- shopmanage page --&gt; &lt;mvc:exclude-mapping path="/shop/shopmanage" /&gt; &lt;!-- shopedit page --&gt; &lt;mvc:exclude-mapping path="/shop/shopedit" /&gt; &lt;mvc:exclude-mapping path="/shop/getshopbyid" /&gt; &lt;mvc:exclude-mapping path="/shop/getshopinitinfo" /&gt; &lt;mvc:exclude-mapping path="/shop/registershop" /&gt; &lt;bean id="ShopPermissionInterceptor" class="com.imooc.myo2o.interceptor.shop.ShopPermissionInterceptor" /&gt; &lt;/mvc:interceptor&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/superadmin/**" /&gt; &lt;mvc:exclude-mapping path="/superadmin/login" /&gt; &lt;mvc:exclude-mapping path="/superadmin/logincheck" /&gt; &lt;mvc:exclude-mapping path="/superadmin/main" /&gt; &lt;mvc:exclude-mapping path="/superadmin/top" /&gt; &lt;bean id="SuperAdminInterceptor" class="com.imooc.myo2o.interceptor.superadmin.SuperAdminLoginInterceptor" /&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt;&lt;/beans&gt; 3 SpringBootÊï¥ÂêàSSMÈ°πÁõÆ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455# mybatis#1 domain POJO entity Â±Ç Â∞±ÊòØÂÆû‰ΩìÁ±ªmybatis.type-aliases-package=com.imooc.o2o.o2o.domainmybatis.configuration.map-underscore-to-camel-case=truemybatis.configuration.default-fetch-size=100mybatis.configuration.default-statement-timeout=3000mybatis.mapperLocations=classpath:mapperxml/*.xml# druidspring.datasource.url=jdbc:mysql://localhost:3306/o2o?useUnicode=true&amp;characterEncoding=utf-8&amp;allowMultiQueries=true&amp;useSSL=false&amp;serverTimezone=Asia/Shanghaispring.datasource.username=rootspring.datasource.password=YHP836143#spring.datasource.driver-class-name=com.mysql.jdbc.Driverspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driverspring.datasource.type=com.alibaba.druid.pool.DruidDataSourcespring.datasource.filters=statspring.datasource.maxActive=2spring.datasource.initialSize=1spring.datasource.maxWait=60000spring.datasource.minIdle=1spring.datasource.timeBetweenEvictionRunsMillis=60000spring.datasource.minEvictableIdleTimeMillis=300000spring.datasource.validationQuery=select &apos;x&apos;spring.datasource.testWhileIdle=truespring.datasource.testOnBorrow=falsespring.datasource.testOnReturn=falsespring.datasource.poolPreparedStatements=truespring.datasource.maxOpenPreparedStatements=20#thymeleaf startspring.thymeleaf.cache=falsespring.thymeleaf.servlet.content-type=text/html#spring.thymeleaf.servlet.content-type=text/htmlspring.thymeleaf.enabled=truespring.thymeleaf.encoding=UTF-8spring.thymeleaf.mode=HTML5spring.thymeleaf.prefix=classpath:/templates/spring.thymeleaf.suffix=.html#RedisÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆ#spring.redis.database=1#spring.redis.host=127.0.0.1#spring.redis.port=6379#spring.redis.password=#spring.redis.lettuce.pool.max-active=8#spring.redis.lettuce.pool.max-wait=-1#spring.redis.lettuce.pool.max-idle=8#spring.redis.lettuce.pool.min-idle=0#dubboÁöÑÈÖçÁΩÆ#dubbo.application.name=taotaomall#dubbo.registry.address=94.191.24.33:2181#dubbo.registry.protocol=zookeeper#dubbo.protocol.name=dubbo#dubbo.monitor.protocol=registry#dubbo.protocol.port=2181 4 È°πÁõÆ1.0ÂºÄÂèë Â∫óÈì∫Ê≥®ÂÜåÂäüËÉΩÊ®°Âùó 4.1Êñ∞Â¢ûÂä†Â∫óÈì∫Ë∑üÊñ∞Â∫óÈì∫ÂºÄÂèë daoÂ±Ç 12 //1 ÂºÄÂèëÂäüËÉΩ1 Êñ∞Â¢ûÂ∫óÈì∫int insert(TbShop record); xml 123456789101112131415161718&lt;insert id=&quot;insert&quot; keyColumn=&quot;shop_id&quot; keyProperty=&quot;shopId&quot; parameterType=&quot;com.imooc.o2o.o2o.domain.TbShop&quot; useGeneratedKeys=&quot;true&quot;&gt; &lt;!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. --&gt; insert into tb_shop (owner_id, area_id, shop_category_id, parent_category_id, shop_name, shop_desc, shop_addr, phone, shop_img, longitude, latitude, priority, create_time, last_edit_time, enable_status, advice) values (#&#123;ownerId,jdbcType=INTEGER&#125;, #&#123;areaId,jdbcType=INTEGER&#125;, #&#123;shopCategoryId,jdbcType=INTEGER&#125;, #&#123;parentCategoryId,jdbcType=INTEGER&#125;, #&#123;shopName,jdbcType=VARCHAR&#125;, #&#123;shopDesc,jdbcType=VARCHAR&#125;, #&#123;shopAddr,jdbcType=VARCHAR&#125;, #&#123;phone,jdbcType=VARCHAR&#125;, #&#123;shopImg,jdbcType=VARCHAR&#125;, #&#123;longitude,jdbcType=DOUBLE&#125;, #&#123;latitude,jdbcType=DOUBLE&#125;, #&#123;priority,jdbcType=INTEGER&#125;, #&#123;createTime,jdbcType=TIMESTAMP&#125;, #&#123;lastEditTime,jdbcType=TIMESTAMP&#125;, #&#123;enableStatus,jdbcType=INTEGER&#125;, #&#123;advice,jdbcType=VARCHAR&#125;) &lt;/insert&gt; 1int updateByPrimaryKeySelective(TbShop record); 1234567891011/** * update tb_shop * &lt;set&gt; * &lt;if test="ownerId != null"&gt; * owner_id = #&#123;ownerId,jdbcType=INTEGER&#125;, * area_id = #&#123;areaId,jdbcType=INTEGER&#125;, * &lt;/if&gt; * &lt;if test="shopCategoryId != null"&gt; * &lt;/set&gt; * where shop_id = #&#123;shopId,jdbcType=INTEGER&#125; */ 4.2 ThumbnailatorÂõæÁâáÂ§ÑÁêÜÂíåÂ∞ÅË£ÖUtil 1234567&lt;!-- https://mvnrepository.com/artifact/net.coobird/thumbnailator --&gt;---&lt;dependency&gt; &lt;groupId&gt;net.coobird&lt;/groupId&gt; &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt; &lt;version&gt;0.4.8&lt;/version&gt;&lt;/dependency&gt; https://github.com/coobird/thumbnailator/wiki/Examples 123Thumbnails.of(new File("original.jpg")) .size(160, 160) .toFile(new File("thumbnail.jpg")); 123456Thumbnails.of(new File(&quot;original.jpg&quot;)) .size(160, 160) .rotate(90) .watermark(Positions.BOTTOM_RIGHT, ImageIO.read(new File(&quot;watermark.png&quot;)), 0.5f) .outputQuality(0.8) .toFile(new File(&quot;image-with-watermark.jpg&quot;)); 5 thumbnailsÂõæÂÉèÂ§ÑÁêÜÂ∫ìÁöÑ‰ΩøÁî® imageUtils 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182package com.imooc.o2o.o2o.util;import java.io.File;import java.io.IOException;import java.util.ArrayList;import java.util.List;import net.coobird.thumbnailator.Thumbnails;import org.springframework.web.multipart.commons.CommonsMultipartFile;//https://www.jianshu.com/p/04d04afc34fdÁÆÄ‰π¶public class ImageUtil &#123; public static String generateThumbnail(CommonsMultipartFile thumbnail, String targetAddr) &#123; String realFileName = FileUtil.getRandomFileName(); String extension = getFileExtension(thumbnail); makeDirPath(targetAddr); String relativeAddr = targetAddr + realFileName + extension; File dest = new File(FileUtil.getImgBasePath() + relativeAddr); try &#123; Thumbnails.of(thumbnail.getInputStream()).size(200, 200).outputQuality(0.25f).toFile(dest); &#125; catch (IOException e) &#123; throw new RuntimeException("ÂàõÂª∫Áº©Áï•ÂõæÂ§±Ë¥•Ôºö" + e.toString()); &#125; return relativeAddr; &#125; public static String generateNormalImg(CommonsMultipartFile thumbnail, String targetAddr) &#123; String realFileName = FileUtil.getRandomFileName(); String extension = getFileExtension(thumbnail); makeDirPath(targetAddr); String relativeAddr = targetAddr + realFileName + extension; File dest = new File(FileUtil.getImgBasePath() + relativeAddr); try &#123; Thumbnails.of(thumbnail.getInputStream()).size(337, 640).outputQuality(0.5f).toFile(dest); &#125; catch (IOException e) &#123; throw new RuntimeException("ÂàõÂª∫Áº©Áï•ÂõæÂ§±Ë¥•Ôºö" + e.toString()); &#125; return relativeAddr; &#125; public static List&lt;String&gt; generateNormalImgs(List&lt;CommonsMultipartFile&gt; imgs, String targetAddr) &#123; int count = 0; List&lt;String&gt; relativeAddrList = new ArrayList&lt;String&gt;(); if (imgs != null &amp;&amp; imgs.size() &gt; 0) &#123; makeDirPath(targetAddr); for (CommonsMultipartFile img : imgs) &#123; String realFileName = FileUtil.getRandomFileName(); String extension = getFileExtension(img); String relativeAddr = targetAddr + realFileName + count + extension; File dest = new File(FileUtil.getImgBasePath() + relativeAddr); count++; try &#123; Thumbnails.of(img.getInputStream()).size(600, 300).outputQuality(0.5f).toFile(dest); &#125; catch (IOException e) &#123; throw new RuntimeException("ÂàõÂª∫ÂõæÁâáÂ§±Ë¥•Ôºö" + e.toString()); &#125; relativeAddrList.add(relativeAddr); &#125; &#125; return relativeAddrList; &#125; //* ÁõÆÊ†áË∑ØÂæÑÊñá‰ª∂Â§π‰∏çÂ≠òÂú®Â∞±ÂàõÂª∫ private static void makeDirPath(String targetAddr) &#123; String realFileParentPath = FileUtil.getImgBasePath() + targetAddr; File dirPath = new File(realFileParentPath); if (!dirPath.exists()) &#123; dirPath.mkdirs(); &#125; &#125; //* Ëé∑ÂèñËæìÂÖ•Êñá‰ª∂ÊµÅÁöÑÊâ©Â±ïÂêç private static String getFileExtension(CommonsMultipartFile cFile) &#123; String originalFileName = cFile.getOriginalFilename(); return originalFileName.substring(originalFileName.lastIndexOf(".")); &#125;//&#125;&#125; FileUtil 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576package com.imooc.o2o.o2o.util;import java.io.File;import java.text.SimpleDateFormat;import java.util.Date;import java.util.Random;public class FileUtil &#123; private static String seperator = System.getProperty("file.separator"); private static final SimpleDateFormat sDateFormat = new SimpleDateFormat( "yyyyMMddHHmmss"); // Êó∂Èó¥Ê†ºÂºèÂåñÁöÑÊ†ºÂºè private static final Random r = new Random(); public static String getImgBasePath() &#123; String os = System.getProperty("os.name"); String basePath = ""; if (os.toLowerCase().startsWith("win")) &#123; basePath = "D:/projectdev/image/"; &#125; else &#123; basePath = "/home/xiangzepro/"; &#125; basePath = basePath.replace("/", seperator); return basePath; &#125; public static String getHeadLineImagePath() &#123; String headLineImagePath = "/upload/images/item/headtitle/"; headLineImagePath = headLineImagePath.replace("/", seperator); return headLineImagePath; &#125; public static String getShopCategoryImagePath() &#123; String shopCategoryImagePath = "/upload/images/item/shopcategory/"; shopCategoryImagePath = shopCategoryImagePath.replace("/", seperator); return shopCategoryImagePath; &#125; // public static String getPersonInfoImagePath() &#123; String personInfoImagePath = "/upload/images/item/personinfo/"; personInfoImagePath = personInfoImagePath.replace("/", seperator); return personInfoImagePath; &#125; public static String getShopImagePath(long shopId) &#123; StringBuilder shopImagePathBuilder = new StringBuilder(); shopImagePathBuilder.append("/upload/images/item/shop/"); shopImagePathBuilder.append(shopId); shopImagePathBuilder.append("/"); String shopImagePath = shopImagePathBuilder.toString().replace("/", seperator); return shopImagePath; &#125; // public static String getRandomFileName() &#123; // ÁîüÊàêÈöèÊú∫Êñá‰ª∂ÂêçÔºöÂΩìÂâçÂπ¥ÊúàÊó•Êó∂ÂàÜÁßí+‰∫î‰ΩçÈöèÊú∫Êï∞Ôºà‰∏∫‰∫ÜÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠Èò≤Ê≠¢Êñá‰ª∂ÂêåÂêçËÄåËøõË°åÁöÑÂ§ÑÁêÜÔºâ int rannum = (int) (r.nextDouble() * (99999 - 10000 + 1)) + 10000; // Ëé∑ÂèñÈöèÊú∫Êï∞ String nowTimeStr = sDateFormat.format(new Date()); // ÂΩìÂâçÊó∂Èó¥ return nowTimeStr + rannum; &#125; // public static void deleteFile(String storePath) &#123; File file = new File(getImgBasePath() + storePath); if (file.exists()) &#123; if (file.isDirectory()) &#123; File files[] = file.listFiles(); for (int i = 0; i &lt; files.length; i++) &#123; files[i].delete(); &#125; &#125; file.delete(); &#125; &#125;&#125; https://www.jianshu.com/p/04d04afc34fd. 6 DtoÁöÑÂºÄÂèë123456789101112131415161718192021222324252627282930313233343536public class ShopExcution &#123; //ÁªìÊûúÁä∂ÊÄÅ private int state; //Áä∂ÊÄÅÊ†áËØÜ private String stateInfo; //Â∫óÈì∫ÁöÑÊï∞Èáè private int count; //Êìç‰ΩúÁöÑshop(Â¢ûÂà†ÊîπÊü•Â∫óÈì∫ÁöÑÊó∂ÂÄôÁî®Âà∞) private TbShop tbShop; //shopÂàóË°®ÔºàÊü•ËØ¢Â∫óÈì∫ÂàóË°®ÁöÑÊó∂ÂÄô‰ΩøÁî®Ôºâ private List&lt;TbShop&gt; shopList; public ShopExcution() &#123; &#125; //ÊûÑÈÄ†ÊñπÊ≥ï ‰º†ÂÖ•‰∏§‰∏™ÂèÇÊï∞ //Â∫óÈì∫Êìç‰ΩúÂ§±Ë¥•ÁöÑÊó∂ÂÄô Áî®ÁöÑÊûÑÈÄ†ÊñπÊ≥ï public ShopExcution(ShopStateEnum stateEnum) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); &#125; //Â∫óÈì∫ÊàêÂäüÁöÑÊó∂ÂÄôÊâÄÁî®ÁöÑÊûÑÈÄ†ÊñπÊ≥ï ÊàêÂäüÊâçËÉΩËøîÂõûÂ∫óÈì∫‰ø°ÊÅØ public ShopExcution(ShopStateEnum stateEnum, TbShop tbShop) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); this.tbShop = tbShop; &#125; //Â∫óÈì∫ÊàêÂäüÁöÑÊó∂ÂÄôÊâÄÁî®ÁöÑÊûÑÈÄ†ÊñπÊ≥ï ÊàêÂäüÊâçËÉΩËøîÂõûÂ∫óÈì∫‰ø°ÊÅØtbListShop public ShopExcution(ShopStateEnum stateEnum, List&lt;TbShop&gt; tbShopList) &#123; this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); this.shopList = tbShopList; &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738public enum ShopStateEnum &#123; //Êûö‰∏æÈáåÈù¢ÁöÑÂèÇÊï∞ Â∞±ÊòØÂÆö‰πâÁöÑÊàêÂëòÂèòÈáèÁöÑÂÄº CHECK(0, "ÂÆ°Ê†∏‰∏≠"), OFFLINE(-1, "ÈùûÊ≥ïÂïÜÈì∫"), SUCCESS(1, "Êìç‰ΩúÊàêÂäü"), PASS(2, "ÈÄöËøáËÆ§ËØÅ"), INNER_ERROR(-1001, "Êìç‰ΩúÂ§±Ë¥•"), NULL_SHOPID(-1002, "ShopId‰∏∫Á©∫"), NULL_SHOP_INFO(-1003, "‰º†ÂÖ•‰∫ÜÁ©∫ÁöÑ‰ø°ÊÅØ"); private int state; private String stateInfo; private ShopStateEnum(int state, String stateInfo) &#123; this.state = state; this.stateInfo = stateInfo; &#125; public int getState() &#123; return state; &#125; public String getStateInfo() &#123; return stateInfo; &#125; //‰æùÊçÆ‰º†ÂÖ•ÁöÑstateËøîÂõûÁõ∏Â∫îÁöÑenumÂÄº public static ShopStateEnum stateOf(int index) &#123; //Ëøô‰∏™ÊñπÊ≥ï‰ºöËøîÂõûÂåÖÊã¨ÊâÄÊúâÊûö‰∏æÂèòÈáèÁöÑÊï∞ÁªÑ„ÄÇÂú®ËØ•‰æã‰∏≠ÔºåËøîÂõûÁöÑÂ∞±ÊòØÂåÖÂê´‰∫Ü‰∏É‰∏™ÊòüÊúüÁöÑWeekday[]„ÄÇÂèØ‰ª•Êñπ‰æøÁöÑÁî®Êù•ÂÅöÂæ™ÁéØ„ÄÇ //index =state stateÁöÑÂÄºÂ∑≤ÁªèÂÆö‰πâÂ•Ω‰∫Ü for (ShopStateEnum stateEnum : ShopStateEnum.values()) &#123; if (stateEnum.getState() == index) return stateEnum; &#125; return null; &#125; 7 ServiceÂ±ÇÁöÑÂºÄÂèë‚ÄîÊ∑ªÂä†Â∫óÈì∫ ÂíåÂ∫óÈì∫ÂõæÁâá12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576public class ShopServiceImpl implements ShopService &#123; private TbShopMapper tbShopMapper; @Override @Transactional public ShopExcution addShop(TbShop tbShop, CommonsMultipartFile ShopImg) &#123; //Á©∫ÂÄºÂà§Êñ≠ if (tbShop == null) &#123; //Ë∞ÉÁî®‰∫ÜShopStateExcutionÂ§±Ë¥•ÁöÑÊñπÊ≥ï ËøîÂõûÊûö‰∏æÈáåÈù¢ÁöÑÊï∞ÊçÆ //ShopStateEnum.NULL_SHOP_INFO=(-1003, "‰º†ÂÖ•‰∫ÜÁ©∫ÁöÑ‰ø°ÊÅØ") return new ShopExcution(ShopStateEnum.NULL_SHOP_INFO); &#125; //ÁªôÂ∫óÈì∫‰ø°ÊÅØËµãÂàùÂßãÂÄº tbShop.setEnableStatus(0); tbShop.setCreateTime(new Date()); tbShop.setLastEditTime(new Date()); /* tbShopMapper :int insert(TbShop record);Â±ûÊÄß insert into tb_shop (owner_id, area_id, shop_category_id,...)values=#&#123;...&#125; */ //Ê∑ªÂä†Â∫óÈì∫‰ø°ÊÅØ int effectedNum = tbShopMapper.insert(tbShop); if (effectedNum &lt;= 0) &#123; throw new RuntimeException("Â∫óÈì∫ÂàõÂª∫Â§±Ë¥•"); &#125; //Â∫óÈì∫Ê∑ªÂä†ÊàêÂäü else &#123; //Â≠òÂÇ®ÂõæÁâá if (ShopImg != null) &#123; addShopImg(tbShop, ShopImg);//Ê†πÊçÆtbShopÈáåÈù¢ÁöÑidÂ≠òÂÇ®ÂõæÁâá Êõ¥Êñ∞ÂõæÁâá //Êõ¥Êñ∞Â∫óÈì∫ÁöÑÂõæÁâáÂú∞ÂùÄ Âè™Êõ¥Êñ∞‰∏Ä‰∏™Â≠óÊÆµÂêóÔºüÔºüÔºüÔºü effectedNum = tbShopMapper.updateByPrimaryKeySelective(tbShop); if (effectedNum &lt;= 0) &#123; throw new RuntimeException("Â∫óÈì∫Êõ¥Êñ∞ÂõæÁâáÂú∞ÂùÄÂ§±Ë¥•"); &#125; &#125; &#125; return new ShopExcution(ShopStateEnum.CHECK, tbShop); &#125; //Ê∑ªÂä†Â∫óÈì∫ÂõæÁâá ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è private void addShopImg(TbShop tbShop, CommonsMultipartFile shopImg) &#123; //1 Ëé∑ÂèñShopÂõæÁâáÁõÆÂΩïÁöÑÁõ∏ÂØπÂÄºË∑ØÂæÑ /** * public static String getShopImagePath(long shopId) &#123; * StringBuilder shopImagePathBuilder = new StringBuilder(); * shopImagePathBuilder.append("/upload/images/item/shop/"); * shopImagePathBuilder.append(shopId); * shopImagePathBuilder.append("/"); * String shopImagePath = shopImagePathBuilder.toString().replace("/", * seperator); * return shopImagePath; * &#125; */ String shopImagePath = FileUtil.getShopImagePath(tbShop.getShopId()); //2 Â≠òÂÇ®ÂõæÁâáËøîÂõûÁõ∏ÂØπÂ≠êË∑ØÂæÑ imageUtil /** * public static String generateThumbnail(CommonsMultipartFile thumbnail, String targetAddr) &#123; * String realFileName = FileUtil.getRandomFileName(); * String extension = getFileExtension(thumbnail); * makeDirPath(targetAddr); * String relativeAddr = targetAddr + realFileName + extension; * File dest = new File(FileUtil.getImgBasePath() + relativeAddr); * try &#123; * Thumbnails.of(thumbnail.getInputStream()).size(200, 200).outputQuality(0.25f).toFile(dest); * &#125; catch (IOException e) &#123; * throw new RuntimeException("ÂàõÂª∫Áº©Áï•ÂõæÂ§±Ë¥•Ôºö" + e.toString()); * &#125; * return relativeAddr; * &#125;* ÂØπÂõæÁâáËøõË°åÂéãÁº©Âπ∂Âä†Ê∞¥Âç∞ * //https://www.jianshu.com/p/04d04afc34fdÁÆÄ‰π¶ */ String shopImgAddr = ImageUtil.generateThumbnail(shopImg, shopImagePath); tbShop.setShopImg(shopImgAddr); &#125;&#125; 12345public class ShopOperationException extends RuntimeException &#123; public ShopOperationException(String msg) &#123; super(msg); &#125;&#125; 8 Â∫óÈì∫Ê≥®ÂÜåÂäüËÉΩControllerÂ±ÇÁöÑÂÆûÁé∞ ‚≠êÔ∏è ‚≠êÔ∏è ‚≠êÔ∏è12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758//ÂÆûÁé∞Â∫óÈì∫ÁÆ°ÁêÜÁõ∏ÂÖ≥ÁöÑÈÄªËæëÂ∫óÈì∫Ê≥®ÂÜåÂäüËÉΩControllerÂ±ÇÁöÑÂÆûÁé∞//ÂÖà‰ªéÂâçÁ´ØÊãøÂà∞Â≠óÊÆµ ÁÑ∂ÂêéÊ≥®ÂÜåÂà∞Êï∞ÊçÆÂ∫ìÈáåÈù¢@Controller@RequestMapping("/shopadmin")public class ShopManagementController &#123; @Autowired private ShopServiceImpl shopService; @RequestMapping("/registershop") @ResponseBody public Map&lt;String, Object&gt; registerShop(HttpServletRequest request) throws IOException &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;&gt;(); //1 Êé•ÂèóÂπ∂ËΩ¨ÂåñÁõ∏Â∫îÁöÑÂèÇÊï∞ ÂåÖÊã¨Â∫óÈì∫‰ø°ÊÅØ‰ª•ÂèäÂõæÁâá‰ø°ÊÅØ Ëß£ÊûêrequestÁöÑÂèÇÊï∞ //Â∞±ÊòØ request.getParameter(name); String shopStr = HttpServletRequestUtil.getString(request, "shopStr"); ObjectMapper mapper = new ObjectMapper(); TbShop tbShop = null; try &#123; //Â∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨‰∏∫ÂÆû‰ΩìÁ±ª tbShop = mapper.readValue(shopStr, TbShop.class); &#125; catch (Exception e) &#123; modelMap.put("scuuess", false); modelMap.put("errMsg", e.getMessage()); return modelMap; &#125; //2 Êé•ÂèóÂõæÁâá CommonsMultipartFile shopImg = null; CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver( request.getSession().getServletContext()); if (commonsMultipartResolver.isMultipart(request)) &#123; MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) request; shopImg = (CommonsMultipartFile) multipartHttpServletRequest.getFile("shopImg"); &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", "ÂõæÁâá‰∏ä‰º†‰∏çËÉΩ‰∏∫Á©∫"); return modelMap; &#125; //2 Ê≥®ÂÜåÂ∫óÈì∫ if (tbShop != null &amp;&amp; shopImg != null) &#123; TbPersonInfo tbPersonInfo = new TbPersonInfo(); tbPersonInfo.setUserId(1); tbShop.setOwner(tbPersonInfo); //Ê∑ªÂä†shopService ShopExcution shopExcution = shopService.addShop(tbShop, shopImg); if (shopExcution.getState() == ShopStateEnum.CHECK.getState()) &#123; modelMap.put("success", true); return modelMap; &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", shopExcution.getState()); return modelMap; &#125; &#125; else &#123; modelMap.put("success", false); modelMap.put("errMsg", "ÂõæÁâá‰∏ä‰º†‰∏çËÉΩ‰∏∫Á©∫"); return modelMap; &#125; &#125; 1 HttpServletRequestUtils12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import javax.servlet.http.HttpServletRequest;public class HttpServletRequestUtil &#123; public static int getInt(HttpServletRequest request, String name) &#123; try &#123; return Integer.decode(request.getParameter(name)); &#125; catch (Exception e) &#123; return -1; &#125; &#125; public static long getLong(HttpServletRequest request, String name) &#123; try &#123; return Long.valueOf(request.getParameter(name)); &#125; catch (Exception e) &#123; return -1; &#125; &#125; public static Double getDouble(HttpServletRequest request, String name) &#123; try &#123; return Double.valueOf(request.getParameter(name)); &#125; catch (Exception e) &#123; return -1d; &#125; &#125; public static Boolean getBoolean(HttpServletRequest request, String name) &#123; try &#123; return Boolean.valueOf(request.getParameter(name)); &#125; catch (Exception e) &#123; return false; &#125; &#125; public static String getString(HttpServletRequest request, String name) &#123; try &#123; String result = request.getParameter(name); if (result != null) &#123; result = result.trim(); &#125; if ("".equals(result)) result = null; return result; &#125; catch (Exception e) &#123; return null; &#125; &#125;&#125; Jackson‰πãjackson-databind https://blog.csdn.net/u011499747/article/details/78762007 CSDN ÂçöÂÆ¢ https://github.com/FasterXML/jackson-databind GithubÂÆòÁΩëAPI 123456789101112131415161718&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt; POJOÂíåJSON‰πãÈó¥ÁöÑËΩ¨Âåñ ÁªôÂá∫‰∏Ä‰∏™Ë∂≥Â§üÁÆÄÂçïÁöÑPOJO: 1234public class MyValue &#123; public String name; public int age;&#125; Ê≥®ÊÑè:Â¶ÇÊûú‰ΩøÁî®getters/settersÁöÑËØùÔºåÂèØ‰ª•Áî®private/protected‰øÆÈ•∞Â±ûÊÄßÔºåËøôÈáåÁõ¥Êé•Áî®public‰øÆÈ•∞‰∫ÜÔºåÂ∞±‰∏çÈúÄË¶Ågetters/setters‰∫Ü„ÄÇ ‰ΩøÁî®databindÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™ÊúÄÂü∫Á°ÄÁöÑÂØπË±°com.fasterxml.jackson.databind.ObjectMapperÔºåËøôÈáåÊàë‰ª¨ÊûÑÈÄ†‰∏Ä‰∏™: 1ObjectMapper mapper = new ObjectMapper(); Ê≥®ÊÑè:Ëøô‰∏™mapperÊòØÂèØ‰ª•Â§çÁî®ÁöÑÔºåÂ∞±Â•ΩÊØîHttpClient‰∏ÄÊ†∑„ÄÇ ÁÆÄÂçïÁöÑÊääJSONÂèçÂ∫èÂàóÂåñÊàêObjectÁöÑÁî®Ê≥ïÂ¶Ç‰∏ã 123456789MyValue value = mapper.readValue(new File("data.json"), MyValue.class);// or:value = mapper.readValue(new URL("http://www.dubby.cn/api/entry.json"), MyValue.class);// or:value = mapper.readValue("&#123;\"name\":\"Bob\", \"age\":13&#125;", MyValue.class);------------------- //Â∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨‰∏∫ÂÆû‰ΩìÁ±ªtbShop = mapper.readValue(shopStr, TbShop.class); ÁÆÄÂçïÁöÑÊääObjectÂ∫èÂàóÂåñÊàêJSONÁöÑÁî®Ê≥ïÂ¶Ç‰∏ã: 12345mapper.writeValue(new File("result.json"), myResultObject);// or:byte[] jsonBytes = mapper.writeValueAsBytes(myResultObject);// or:String jsonString = mapper.writeValueAsString(myResultObject); ÂèØ‰ª•‰ªéJackson-docsÂ≠òÂÇ®Â∫ì‰∏≠ÊâæÂà∞Êõ¥ÂÖ®Èù¢ÁöÑÊñáÊ°£; ‰ª•ÂèäÊù•Ëá™ËØ•È°πÁõÆÁöÑWiki„ÄÇ‰ΩÜËøôÈáåÊúâÁÆÄË¶ÅÁöÑ‰ªãÁªçÊÄßÊïôÁ®ãÔºåÂª∫ËÆÆÈòÖËØªÈ°∫Â∫è„ÄÇ 1ÂàÜÈíüÊïôÁ®ãÔºöPOJOÂà∞JSONÂπ∂ËøîÂõûÊúÄÂ∏∏ËßÅÁöÑÁî®Ê≥ïÊòØ‰ΩøÁî®JSONÔºåÂπ∂‰ªé‰∏≠ÊûÑÈÄ†‰∏Ä‰∏™Plain Old Java ObjectÔºà‚ÄúPOJO‚ÄùÔºâ„ÄÇÈÇ£‰πàËÆ©Êàë‰ª¨‰ªéÈÇ£ÈáåÂºÄÂßã„ÄÇÁÆÄÂçïÁöÑ2Â±ûÊÄßPOJOÂÉèËøôÊ†∑Ôºö 123456//Ê≥®ÊÑèÔºö‰πüÂèØ‰ª•‰ΩøÁî®getter / setter; ËøôÈáåÊàë‰ª¨Áõ¥Êé•‰ΩøÁî®ÂÖ¨ÂÖ±Â≠óÊÆµÔºöpublic class MyValue &#123; public String name; ÂÖ¨ÂÖ± INTÂπ¥ÈæÑ; //Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰ΩøÁî®getter / setterÔºåÂèØ‰ª•‰øùÁïôÂ≠óÊÆµ`protected`Êàñ`private` &#125; Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™com.fasterxml.jackson.databind.ObjectMapperÁî®‰∫éÊâÄÊúâÊï∞ÊçÆÁªëÂÆöÁöÑÂÆû‰æãÔºåÊâÄ‰ª•ËÆ©Êàë‰ª¨ÊûÑÈÄ†‰∏Ä‰∏™Ôºö 1ObjectMapper mapper = new ObjectMapperÔºàÔºâ; //ÂàõÂª∫‰∏ÄÊ¨°ÔºåÈáçÁî® ÈªòËÆ§ÂÆû‰æãÈÄÇÂêàÊàë‰ª¨‰ΩøÁî® - Á®çÂêéÊàë‰ª¨Â∞Ü‰∫ÜËß£Â¶Ç‰ΩïÂú®ÂøÖË¶ÅÊó∂ÈÖçÁΩÆÊò†Â∞ÑÂô®ÂÆû‰æã„ÄÇÁî®Ê≥ïÂæàÁÆÄÂçïÔºö 12345MyValueÂÄº= mapper „ÄÇreadValueÔºàÊñ∞ Êñá‰ª∂Ôºà‚Äú data.json ‚ÄùÔºâÔºåmyvalueÁöÑ„ÄÇÁ±ªÔºâ;//ÊàñÔºö value = mapper „ÄÇreadValueÔºàÊñ∞ URLÔºà‚Äú http://some.com/api/entry.json ‚ÄùÔºâÔºåMyValue „ÄÇÁ±ªÔºâ;//ÊàñÔºö value = mapper „ÄÇreadValueÔºà‚Äú &#123; \‚Äù name \‚ÄúÔºö\‚Äù Bob \‚ÄúÔºå\ ‚ÄúÂπ¥ÈæÑ\‚ÄùÔºö13&#125; ‚ÄúÔºå myvalueÁöÑ„ÄÇÁ±ªÔºâ; Â¶ÇÊûúÊàë‰ª¨ÊÉ≥ÂÜôJSONÔºåÊàë‰ª¨‰ºöÂÅöÁõ∏ÂèçÁöÑ‰∫ãÊÉÖÔºö 12345Êò†Â∞ÑÂô®„ÄÇwriteValueÔºàÊñ∞ Êñá‰ª∂Ôºà‚Äú result.json ‚ÄùÔºâÔºåmyResultObjectÔºâ;//ÊàñÔºöbyte [] jsonBytes = mapper „ÄÇwriteValueAsBytesÔºàmyResultObjectÔºâ;//ÊàñÔºöString jsonString = mapper „ÄÇwriteValueAsStringÔºàmyResultObjectÔºâ; Âà∞Áé∞Âú®‰∏∫Ê≠¢ËøòÊå∫Â•ΩÔºü 3ÂàÜÈíüÊïôÁ®ãÔºöÈÄöÁî®ÈõÜÂêàÔºåÊ†ëÊ®°ÂûãÈô§‰∫ÜÂ§ÑÁêÜÁÆÄÂçïÁöÑBeanÈ£éÊ†ºÁöÑPOJO‰πãÂ§ñÔºåÊÇ®ËøòÂèØ‰ª•Â§ÑÁêÜJDK ListÔºåMapsÔºö 12345Map &lt; StringÔºåInteger &gt; scoreByName = mapper „ÄÇreadValueÔºàjsonSourceÔºåMap „ÄÇÁ±ªÔºâ;List &lt; String &gt; names = mapper „ÄÇreadValueÔºàjsonSourceÔºåÂàóË°®„ÄÇÁ±ªÔºâ;//ÊòæÁÑ∂ÂèØ‰ª•ÂÜôÂá∫ mapper„ÄÇwriteValueÔºà new FileÔºà ‚Äú names.json ‚ÄùÔºâÔºånamesÔºâ; Âè™Ë¶ÅJSONÁªìÊûÑÂåπÈÖçÔºåÁ±ªÂûãÂ∞±ÂæàÁÆÄÂçï„ÄÇÂ¶ÇÊûúÊÇ®ÊúâPOJOÂÄºÔºåÂàôÈúÄË¶ÅÊåáÊòéÂÆûÈôÖÁ±ªÂûãÔºàÊ≥®ÊÑèÔºöÂØπ‰∫éÂÖ∑ÊúâListetcÁ±ªÂûãÁöÑPOJOÂ±ûÊÄßÔºåËøô‰∏çÊòØÂøÖÈúÄÁöÑÔºâÔºö 123Map &lt; StringÔºåResultValue &gt; results = mapper „ÄÇreadValueÔºàjsonSourceÔºå Êñ∞ TypeReference &lt; Âú∞Âõæ&lt; Â≠óÁ¨¶‰∏≤ÔºåResultValue &gt; &gt;ÔºàÔºâ&#123;&#125;Ôºâ;//‰∏∫‰ªÄ‰πàË¶ÅÈ¢ùÂ§ñÂ∑•‰ΩúÔºüJava Type ErasureÂê¶Âàô‰ºöÈòªÊ≠¢Á±ªÂûãÊ£ÄÊµã ÔºàÊ≥®ÊÑèÔºöÊó†ËÆ∫ÈÄöÁî®Á±ªÂûãÂ¶Ç‰ΩïÔºåÂ∫èÂàóÂåñÈÉΩ‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂä™ÂäõÔºâ ÂèØÊòØÁ≠âÁ≠âÔºÅËøòÊúâÊõ¥Â§öÔºÅ ËôΩÁÑ∂Â§ÑÁêÜMapsÔºåListsÂíåÂÖ∂‰ªñ‚ÄúÁÆÄÂçï‚ÄùÂØπË±°Á±ªÂûãÔºàÂ≠óÁ¨¶‰∏≤ÔºåÊï∞Â≠óÔºåÂ∏ÉÂ∞îÂÄºÔºâÂèØËÉΩÂæàÁÆÄÂçïÔºå‰ΩÜÂØπË±°ÈÅçÂéÜÂèØËÉΩÂæàÈ∫ªÁÉ¶„ÄÇËøôÂ∞±ÊòØJackson‚Äôs TreeÊ®°ÂûãÂèØ‰ª•Ê¥æ‰∏äÁî®Âú∫ÁöÑÂú∞ÊñπÔºö 1234567891011121314151617//ÂèØ‰ª•ËØª‰ΩúÈÄöÁî®ÁöÑJsonNodeÔºåÂ¶ÇÊûúÂÆÉÂèØ‰ª•ÊòØObjectÊàñArray; ÊàñËÄÖÔºå//Â¶ÇÊûúÂ∑≤Áü•‰∏∫ObjectÔºåÂàô‰∏∫ObjectNodeÔºåÂ¶ÇÊûúÊòØarrayÔºåArrayNodeÁ≠âÔºöObjectNode root = mapper„ÄÇreadTreeÔºà ‚Äú stuff.json ‚ÄùÔºâ;Â≠óÁ¨¶‰∏≤ÂêçÁß∞ = root„ÄÇÂæóÂà∞Ôºà ‚ÄúÂêçÂ≠ó‚ÄùÔºâ„ÄÇasTextÔºàÔºâ;int age = root„ÄÇÂæóÂà∞Ôºà ‚ÄúÂπ¥ÈæÑ‚ÄùÔºâ„ÄÇasInt‰∏≠ÔºàÔºâ;//‰πüÂèØ‰ª•‰øÆÊîπÔºöËøô‰ºöÂ∞ÜÂ≠êÂØπË±°Ê∑ªÂä†‰∏∫Â±ûÊÄß&apos;other&apos;ÔºåËÆæÁΩÆÂ±ûÊÄß&apos; type&apos;root„ÄÇ‰∏éÔºà ‚ÄúÂÖ∂‰ªñ‚ÄùÔºâ„ÄÇputÔºà ‚Äú type ‚ÄùÔºå ‚Äú student ‚ÄùÔºâ;String json = mapper„ÄÇwriteValueAsStringÔºàÊ†πÔºâ;//‰∏é‰∏äÈù¢‰∏ÄÊ†∑ÔºåÊàë‰ª¨ÊúÄÁªàÂæóÂà∞ÂÉè&apos;json&apos;Â≠óÁ¨¶‰∏≤Ôºö// &#123; // ‚Äúname‚ÄùÔºö‚ÄúBob‚ÄùÔºå‚Äúage‚ÄùÔºö13Ôºå// ‚Äúother‚ÄùÔºö&#123; // ‚Äútype‚ÄùÔºö‚ÄúÂ≠¶Áîü‚Äú // &#125; // &#125; Ê†ëÊ®°ÂûãÊØîÊï∞ÊçÆÁªëÂÆöÊõ¥Êñπ‰æøÔºåÁâπÂà´ÊòØÂú®ÁªìÊûÑÈ´òÂ∫¶Âä®ÊÄÅÊàñ‰∏çËÉΩÂæàÂ•ΩÂú∞Êò†Â∞ÑÂà∞JavaÁ±ªÁöÑÊÉÖÂÜµ‰∏ã SpringMVC ÂõæÁâá‰∏ä‰º†Êìç‰ΩúÂæÖÂÆö1234567891011CommonsMultipartFile shopImg = null; CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver( request.getSession().getServletContext()); if (commonsMultipartResolver.isMultipart(request)) &#123; MultipartHttpServletRequest multipartHttpServletRequest = (MultipartHttpServletRequest) request; shopImg = (CommonsMultipartFile) multipartHttpServletRequest.getFile(&quot;shopImg&quot;); &#125; else &#123; modelMap.put(&quot;success&quot;, false); modelMap.put(&quot;errMsg&quot;, &quot;ÂõæÁâá‰∏ä‰º†‰∏çËÉΩ‰∏∫Á©∫&quot;); return modelMap; &#125; 9 SUIMobile http://m.sui.taobao.org/ http://m.sui.taobao.org/getting-started/ 12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt; &lt;title&gt;ÊàëÁöÑÁîüÊ¥ª&lt;/title&gt; &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt; &lt;link rel="shortcut icon" href="/favicon.ico"&gt; &lt;meta name="apple-mobile-web-app-capable" content="yes"&gt; &lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt; &lt;link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css"&gt; &lt;link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css"&gt; &lt;/head&gt; &lt;body&gt; &lt;div class="page-group"&gt; &lt;div class="page page-current"&gt; &lt;!-- ‰Ω†ÁöÑhtml‰ª£Á†Å --&gt; &lt;/div&gt; &lt;/div&gt; &lt;script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'&gt;&lt;/script&gt; &lt;script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'&gt;&lt;/script&gt; &lt;script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'&gt;&lt;/script&gt; &lt;/body&gt;&lt;/html&gt; Â∫óÈì∫Ê≥®ÂÜå‰πãJS ÂÆûÁé∞ 1 10 Â∫óÈì∫Á±ªÂà´Âå∫Âüü‰ø°ÊÅØÁöÑËé∑Âèñ123public interface ShopService &#123; ShopExcution addShop(TbShop tbShop, CommonsMultipartFile ShopImg);&#125; 1234public interface ShopCategoryService &#123; //Êü•ËØ¢TbShopCategory List&lt;TbShopCategory&gt; findAllByParentIdAndShopCategoryId(TbShopCategory tbShopCategoryCondition);&#125; 123 //Êü•ËØ¢ TbShopCategory Áî®mybatispluginshelp2.4ÂºÄÂèëÂçáÁ∫ßÁöÑ //4-8Â∫óÈì∫Á±ªÂà´Âå∫Âüü‰ø°ÊÅØÁöÑËé∑ÂèñList&lt;TbShopCategory&gt; findAllByParentIdAndShopCategoryId(@Param("TbShopCategoryCondition") TbShopCategory TbShopCategoryCondition); 12345678&lt;select id="findAllByParentIdAndShopCategoryId" resultMap="BaseResultMap"&gt; select &lt;include refid="Base_Column_List"/&gt; from tb_shop_category where parent_id=#&#123;TbShopCategoryCondition.parent.shopCategoryId&#125; ORDER BY priority DESC &lt;/select&gt; 1234567891011121314151617181920ControllerÂ±ÇÁöÑÂÆûÁé∞private Map&lt;String, Object&gt; getShopInitInfo(Integer id) &#123;// Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;();// List&lt;TbShopCategory&gt; shopCategoryList = new ArrayList&lt;TbShopCategory&gt;();// List&lt;TbArea&gt; areaList = new ArrayList&lt;TbArea&gt;();// try &#123;// shopCategoryList = shopCategoryService// .getShopCategoryList(id);//// areaList = areaService.getAreaList();// &#125; catch (Exception e) &#123;// modelMap.put("success", false);// modelMap.put("errMsg", e.toString());// &#125;// modelMap.put("shopCategoryList", shopCategoryList);// modelMap.put("areaList", areaList);// modelMap.put("success", true);//// return modelMap;// &#125; 11 AreaService123456public interface AreaService &#123; @Servicepublic interface AreaService &#123; List&lt;TbArea&gt; findAllArea();&#125; 12345678910@Servicepublic class AreaServiceImpl implements AreaService &#123; @Autowired private TbAreaMapper tbAreaMapper; @Override public List&lt;TbArea&gt; findAllArea() &#123; return tbAreaMapper.findAll(); &#125;&#125; 12AreaController123456789101112131415161718192021@Controller@RequestMapping("/superadmin")public class AreaContorller &#123; @Autowired private AreaService areaService; @RequestMapping("/listarea") public Map&lt;String, Object&gt; listArea() &#123; Map&lt;String, Object&gt; modelMap = new HashMap&lt;String, Object&gt;(); List&lt;TbArea&gt; allArea = new ArrayList&lt;TbArea&gt;(); try &#123; allArea = areaService.findAllArea(); modelMap.put("rows", allArea); modelMap.put("total", allArea.size()); &#125; catch (Exception e) &#123; modelMap.put("success", false); modelMap.put("errMsg", e.toString()); &#125; return modelMap; &#125;&#125; #13‰ΩøÁî® SpringBoot + kaptcha ÁîüÊàê„ÄÅÊ†°ÂØπ È™åËØÅÁ†Å https://blog.csdn.net/larger5/article/details/79522105 https://www.jianshu.com/p/1f2f7c47e812 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012„ÄÅpomÔºàSpringBoot+thymeleaf+web+kaptcha Ôºâ Ê≥®ÊÑèÂºïÂÖ• kaptcha ÁöÑ Maven ‰æùËµñ &lt;!-- https://mvnrepository.com/artifact/com.github.penggle/kaptcha --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; 3„ÄÅKaptchaConfigÂç≥ kaptcha ÁöÑÈÖçÁΩÆÊñá‰ª∂package com.cun.conf;import java.util.Properties;import org.springframework.context.annotation.Bean;import org.springframework.stereotype.Component;import com.google.code.kaptcha.impl.DefaultKaptcha;import com.google.code.kaptcha.util.Config;@Componentpublic class KaptchaConfig &#123; @Bean public DefaultKaptcha getDefaultKaptcha() &#123; com.google.code.kaptcha.impl.DefaultKaptcha defaultKaptcha = new com.google.code.kaptcha.impl.DefaultKaptcha(); Properties properties = new Properties(); // ÂõæÁâáËæπÊ°Ü properties.setProperty("kaptcha.border", "yes"); // ËæπÊ°ÜÈ¢úËâ≤ properties.setProperty("kaptcha.border.color", "105,179,90"); // Â≠ó‰ΩìÈ¢úËâ≤ properties.setProperty("kaptcha.textproducer.font.color", "red"); // ÂõæÁâáÂÆΩ properties.setProperty("kaptcha.image.width", "110"); // ÂõæÁâáÈ´ò properties.setProperty("kaptcha.image.height", "40"); // Â≠ó‰ΩìÂ§ßÂ∞è properties.setProperty("kaptcha.textproducer.font.size", "30"); // session key properties.setProperty("kaptcha.session.key", "code"); // È™åËØÅÁ†ÅÈïøÂ∫¶ properties.setProperty("kaptcha.textproducer.char.length", "4"); // Â≠ó‰Ωì properties.setProperty("kaptcha.textproducer.font.names", "ÂÆã‰Ωì,Ê•∑‰Ωì,ÂæÆËΩØÈõÖÈªë"); Config config = new Config(properties); defaultKaptcha.setConfig(config); return defaultKaptcha; &#125;&#125; 4„ÄÅKaptchaControllerÈ™åËØÅÁ†ÅÊéßÂà∂Â±Çpackage com.cun.controller;import java.awt.image.BufferedImage;import java.io.ByteArrayOutputStream;import javax.imageio.ImageIO;import javax.servlet.ServletOutputStream;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.servlet.ModelAndView;import com.google.code.kaptcha.impl.DefaultKaptcha;@Controllerpublic class KaptchaController &#123; /** * 1„ÄÅÈ™åËØÅÁ†ÅÂ∑•ÂÖ∑ */ @Autowired DefaultKaptcha defaultKaptcha; /** * 2„ÄÅÁîüÊàêÈ™åËØÅÁ†Å * @param httpServletRequest * @param httpServletResponse * @throws Exception */ @RequestMapping("/defaultKaptcha") public void defaultKaptcha(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception &#123; byte[] captchaChallengeAsJpeg = null; ByteArrayOutputStream jpegOutputStream = new ByteArrayOutputStream(); try &#123; // Áîü‰∫ßÈ™åËØÅÁ†ÅÂ≠óÁ¨¶‰∏≤Âπ∂‰øùÂ≠òÂà∞session‰∏≠ String createText = defaultKaptcha.createText(); httpServletRequest.getSession().setAttribute("rightCode", createText); // ‰ΩøÁî®Áîü‰∫ßÁöÑÈ™åËØÅÁ†ÅÂ≠óÁ¨¶‰∏≤ËøîÂõû‰∏Ä‰∏™BufferedImageÂØπË±°Âπ∂ËΩ¨‰∏∫byteÂÜôÂÖ•Âà∞byteÊï∞ÁªÑ‰∏≠ BufferedImage challenge = defaultKaptcha.createImage(createText); ImageIO.write(challenge, "jpg", jpegOutputStream); &#125; catch (IllegalArgumentException e) &#123; httpServletResponse.sendError(HttpServletResponse.SC_NOT_FOUND); return; &#125; // ÂÆö‰πâresponseËæìÂá∫Á±ªÂûã‰∏∫image/jpegÁ±ªÂûãÔºå‰ΩøÁî®responseËæìÂá∫ÊµÅËæìÂá∫ÂõæÁâáÁöÑbyteÊï∞ÁªÑ captchaChallengeAsJpeg = jpegOutputStream.toByteArray(); httpServletResponse.setHeader("Cache-Control", "no-store"); httpServletResponse.setHeader("Pragma", "no-cache"); httpServletResponse.setDateHeader("Expires", 0); httpServletResponse.setContentType("image/jpeg"); ServletOutputStream responseOutputStream = httpServletResponse.getOutputStream(); responseOutputStream.write(captchaChallengeAsJpeg); responseOutputStream.flush(); responseOutputStream.close(); &#125; /** * 3„ÄÅÊ†°ÂØπÈ™åËØÅÁ†Å * @param httpServletRequest * @param httpServletResponse * @return */ @RequestMapping("/imgvrifyControllerDefaultKaptcha") public ModelAndView imgvrifyControllerDefaultKaptcha(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) &#123; ModelAndView andView = new ModelAndView(); String rightCode = (String) httpServletRequest.getSession().getAttribute("rightCode"); String tryCode = httpServletRequest.getParameter("tryCode"); System.out.println("rightCode:"+rightCode+" ‚Äî‚Äî‚Äî‚Äî tryCode:"+tryCode); if (!rightCode.equals(tryCode)) &#123; andView.addObject("info", "ÈîôËØØÁöÑÈ™åËØÅÁ†Å"); andView.setViewName("index"); &#125; else &#123; andView.addObject("info", "ÁôªÂΩïÊàêÂäü"); andView.setViewName("success"); &#125; return andView; &#125; @RequestMapping("/toIndex") public String toIndex() &#123; return "index"; &#125;&#125; 5„ÄÅapplication.yml SpringBoot Ê†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂server: port: 80 context-path: / 6„ÄÅ‰∏ªÁïåÈù¢ index.html&lt;!DOCTYPE html&gt;&lt;!-- thymeleaf ÊèêÁ§∫ÂäüËÉΩ --&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head lang="en"&gt;&lt;meta charset="UTF-8"&gt;&lt;/meta&gt;&lt;title&gt;hello&lt;/title&gt;&lt;!-- ÂºïÂÖ•BootStrap --&gt;&lt;link rel="stylesheet" href="../bootstrap3/css/bootstrap-theme.min.css" /&gt;&lt;link rel="stylesheet" href="../bootstrap3/css/bootstrap.min.css" /&gt;&lt;script type="text/javascript" src="../bootstrap3/js/jquery-1.11.2.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript" src="../bootstrap3/js/bootstrap.min.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;style type="text/css"&gt;body &#123; padding: 10px&#125;&lt;/style&gt;&lt;body&gt; &lt;!-- ÊèêÁ§∫ --&gt; &lt;h3 th:text="$&#123;info&#125;"&gt;&lt;/h3&gt; &lt;div&gt; &lt;!-- ÂêéÈù¢Ê∑ªÂä†ÂèÇÊï∞Ëµ∑Âà∞Ê∏ÖÈô§ÁºìÂ≠ò‰ΩúÁî® --&gt; &lt;img alt="È™åËØÅÁ†Å" onclick="this.src='/defaultKaptcha?d='+new Date()*1" src="/defaultKaptcha" /&gt; &lt;/div&gt; &lt;form action="imgvrifyControllerDefaultKaptcha" &gt; &lt;input type="text" name="tryCode" /&gt; &lt;input type="submit" value="Êèê‰∫§" class="btn btn-success"&gt;&lt;/input&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; 7„ÄÅÈ™åËØÅÊàêÂäüÁïåÈù¢ success.html&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="UTF-8"&gt;&lt;/meta&gt;&lt;title&gt;È™åËØÅÊàêÂäü&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;È™åËØÅÊàêÂäü&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt; https://www.jianshu.com/p/1f2f7c47e812 14 SpringBoot Êï¥ÂêàÊó•ÂøóÊñá‰ª∂ https://www.cnblogs.com/zhangjianbing/p/8992897.html https://blog.csdn.net/ws_kfxd/article/details/8466559 1 ‰æùËµñ12345678910111213141516171819dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt; &lt;version&gt;2.10.0&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt; &lt;version&gt;1.7.25&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; Â∫óÈì∫‰ø°ÊÅØÁºñËæëÂÄºdaoÂºÄÂèë]]></content>
      <categories>
        <category>ÈáçË¶Å</category>
      </categories>
      <tags>
        <tag>ÂÆûÊàò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBootÂ∞èDËØæÂ†Ç]]></title>
    <url>%2F2018%2F12%2F22%2FSpring%20Boot%2FSpringBoot%E5%B0%8FD%E8%AF%BE%E5%A0%82%2F</url>
    <content type="text"><![CDATA[1„ÄÅÈõ∂Âü∫Á°ÄÂø´ÈÄüÂÖ•Èó®SpringBoot2.0 (5ËäÇËØæ)1„ÄÅSpringBoot2.xËØæÁ®ãÂÖ®Â•ó‰ªãÁªçÂíåÈ´òÊâãÁ≥ªÂàóÁü•ËØÜÁÇπ‚Äã ÁÆÄ‰ªãÔºö‰ªãÁªçSpringBoot2.xËØæÁ®ãÂ§ßÁ∫≤Á´†ËäÇ‚Äã javaÂü∫Á°ÄÔºåjdkÁéØÂ¢ÉÔºåmavenÂü∫Á°Ä 2„ÄÅSpringBoot2.x‰æùËµñÁéØÂ¢ÉÂíåÁâàÊú¨Êñ∞ÁâπÊÄßËØ¥ÊòéÁÆÄ‰ªãÔºöËÆ≤Ëß£Êñ∞ÁâàÊú¨‰æùËµñÁéØÂ¢ÉÂíåspringboot2Êñ∞ÁâπÊÄßÊ¶ÇËø∞ 1„ÄÅ‰æùËµñÁâàÊú¨jdk8‰ª•‰∏ä, Springboot2.xÁî®JDK8, Âõ†‰∏∫Â∫ïÂ±ÇÊòØ Spring framework5, 2„ÄÅÂÆâË£ÖmavenÊúÄÊñ∞ÁâàÊú¨Ôºåmaven3.2‰ª•‰∏äÁâàÊú¨Ôºå‰∏ãËΩΩÂú∞ÂùÄ Ôºöhttps://maven.apache.org/download.cgi 3„ÄÅEclipseÊàñËÄÖIDE 4„ÄÅÊñ∞ÁâπÊÄß 5„ÄÅÁøªËØëÂ∑•ÂÖ∑Ôºöhttps://translate.google.cn/ 6„ÄÅspringbootGitHubÂú∞ÂùÄÔºöhttps://github.com/spring-projects/spring-boot 7„ÄÅspringbootÂÆòÊñπÊñáÊ°£Ôºöhttps://spring.io/guides/gs/spring-boot/ ‚Äã 3„ÄÅÂø´ÈÄüÂàõÂª∫SpringBoot2.xÂ∫îÁî®‰πãÊâãÂ∑•ÂàõÂª∫webÂ∫îÁî®ÁÆÄ‰ªãÔºö‰ΩøÁî®MavenÊâãÂ∑•ÂàõÂª∫SpringBoot2.xÂ∫îÁî® ÊâãÂ∑•ÂàõÂª∫:https://projects.spring.io/spring-boot/#quick-start ÂÆòÊñπÊé®ËçêÂåÖÂëΩÂêçÊé•Âè£Ôºå‰∏çË¶Å‰ΩøÁî®ÈªòËÆ§ defaultPackage ÂÆòÊñπÊñáÊ°£: https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-using-the-default-package ‰æãÂ≠êÔºö com +- example +- myapplication +- Application.java | +- customer | +- Customer.java | +- CustomerController.java | +- CustomerService.java | +- CustomerRepository.java | +- order +- Order.java +- OrderController.java +- OrderService.java +- OrderRepository.java 4„ÄÅÂø´ÈÄüÂàõÂª∫SpringBoot2.xÂ∫îÁî®‰πãÂ∑•ÂÖ∑Á±ªËá™Âä®ÂàõÂª∫webÂ∫îÁî®ÁÆÄ‰ªãÔºö‰ΩøÁî®ÊûÑÂª∫Â∑•ÂÖ∑Ëá™Âä®ÁîüÊàêÈ°πÁõÆÂü∫Êú¨Êû∂ÊûÑ‚Äã 1„ÄÅÂ∑•ÂÖ∑Ëá™Âä®ÂàõÂª∫:http://start.spring.io/ 5„ÄÅSpringBoot2.xÁöÑ‰æùËµñÈªòËÆ§MavenÁâàÊú¨‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBoot2.xÁöÑÈªòËÆ§Maven‰æùËµñÁâàÊú¨‚Äã 1„ÄÅÂÆòÁΩëÂú∞ÂùÄ‚Äã https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#appendix-dependency-versions 2„ÄÅSpringBootÊé•Âè£HttpÂçèËÆÆÂºÄÂèëÂÆûÊàò 8ËäÇËØæ1„ÄÅSpringBoot2.xHTTPËØ∑Ê±ÇÈÖçÁΩÆËÆ≤Ëß£ ÁÆÄ‰ªãÔºöSpringBoot2.xHTTPËØ∑Ê±ÇÊ≥®Ëß£ËÆ≤Ëß£ÂíåÁÆÄÂåñÊ≥®Ëß£ÈÖçÁΩÆÊäÄÂ∑ß 1„ÄÅ@RestController and @RequestMappingÊòØspringMVCÁöÑÊ≥®Ëß£Ôºå‰∏çÊòØspringbootÁâπÊúâÁöÑ 2„ÄÅ@RestController = @Controller+@ResponseBody 3„ÄÅ@SpringBootApplication = @Configuration+@EnableAutoConfiguration+@ComponentScan localhost:8080 2„ÄÅÂºÄÂèëÊé•Âè£ÂøÖÂ§áÂ∑•ÂÖ∑‰πãPostManÊé•Âè£Ë∞ÉËØïÂ∑•ÂÖ∑‰ªãÁªçÂíå‰ΩøÁî®‚Äã ÁÆÄ‰ªãÔºöÊ®°ÊãüHttpÊé•Âè£ÊµãËØïÂ∑•ÂÖ∑PostManÂÆâË£ÖÂíåËÆ≤Ëß£ 1„ÄÅÊé•Âè£Ë∞ÉËØïÂ∑•ÂÖ∑ÂÆâË£ÖÂíåÂü∫Êú¨‰ΩøÁî® 2„ÄÅ‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://www.getpostman.com/ ‚Äã 3„ÄÅSpringBootÂü∫Á°ÄHTTPÊé•Âè£GETËØ∑Ê±ÇÂÆûÊàò‚Äã ÁÆÄ‰ªã:ËÆ≤Ëß£springbootÊé•Âè£ÔºåhttpÁöÑgetËØ∑Ê±ÇÔºåÂêÑ‰∏™Ê≥®Ëß£‰ΩøÁî®‚Äã 1„ÄÅGETËØ∑Ê±Ç‚Äã 1„ÄÅÂçï‰∏ÄÂèÇÊï∞@RequestMapping(path = ‚Äú/{id}‚Äù, method = RequestMethod.GET)‚Äã 1) public String getUser(@PathVariable String id ) {}‚Äã‚Äã 2Ôºâ@RequestMapping(path = ‚Äú/{depid}/{userid}‚Äù, method = RequestMethod.GET) ÂèØ‰ª•ÂêåÊó∂ÊåáÂÆöÂ§ö‰∏™Êèê‰∫§ÊñπÊ≥ï‚Äã getUser(@PathVariable(‚Äúdepid‚Äù) String departmentID,@PathVariable(‚Äúuserid‚Äù) String userid)‚Äã‚Äã 3Ôºâ‰∏Ä‰∏™È°∂‰ø©‚Äã @GetMapping = @RequestMapping(method = RequestMethod.GET)‚Äã @PostMapping = @RequestMapping(method = RequestMethod.POST)‚Äã @PutMapping = @RequestMapping(method = RequestMethod.PUT)‚Äã @DeleteMapping = @RequestMapping(method = RequestMethod.DELETE)‚Äã‚Äã 4Ôºâ@RequestParam(value = ‚Äúname‚Äù, required = true)‚Äã ÂèØ‰ª•ËÆæÁΩÆÈªòËÆ§ÂÄºÔºåÊØîÂ¶ÇÂàÜÈ°µ‚Äã 4)@RequestBody ËØ∑Ê±Ç‰ΩìÊò†Â∞ÑÂÆû‰ΩìÁ±ª ÈúÄË¶ÅÊåáÂÆöhttpÂ§¥‰∏∫ content-type‰∏∫application/json charset=utf-8 5Ôºâ@RequestHeader ËØ∑Ê±ÇÂ§¥ÔºåÊØîÂ¶ÇÈâ¥ÊùÉ @RequestHeader(&quot;access_token&quot;) String accessToken 6ÔºâHttpServletRequest requestËá™Âä®Ê≥®ÂÖ•Ëé∑ÂèñÂèÇÊï∞ 4„ÄÅSpringBootÂü∫Á°ÄHTTPÊé•Âè£POST,PUT,DELETEËØ∑Ê±ÇÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£httpËØ∑Ê±ÇpostÔºåput, deleteÊèê‰∫§ÊñπÂºè 5„ÄÅÂ∏∏Áî®jsonÊ°ÜÊû∂‰ªãÁªçÂíåJacksonËøîÂõûÁªìÊûúÂ§ÑÁêÜ‚Äã ÁÆÄ‰ªãÔºö‰ªãÁªçÂ∏∏Áî®jsonÊ°ÜÊû∂ÂíåÊ≥®Ëß£ÁöÑ‰ΩøÁî®ÔºåËá™ÂÆö‰πâËøîÂõûjsonÁªìÊûÑÂíåÊ†ºÂºè 1„ÄÅÂ∏∏Áî®Ê°ÜÊû∂ ÈòøÈáå fastjson,Ë∞∑Ê≠ågsonÁ≠â JavaBeanÂ∫èÂàóÂåñ‰∏∫JsonÔºåÊÄßËÉΩÔºöJackson &gt; FastJson &gt; Gson &gt; Json-lib Âêå‰∏™ÁªìÊûÑ Jackson„ÄÅFastJson„ÄÅGsonÁ±ªÂ∫ìÂêÑÊúâ‰ºòÁÇπÔºåÂêÑÊúâËá™Â∑±ÁöÑ‰∏ìÈïø Á©∫Èó¥Êç¢Êó∂Èó¥ÔºåÊó∂Èó¥Êç¢Á©∫Èó¥ 2„ÄÅjacksonÂ§ÑÁêÜÁõ∏ÂÖ≥Ëá™Âä® ÊåáÂÆöÂ≠óÊÆµ‰∏çËøîÂõûÔºö@JsonIgnore ÊåáÂÆöÊó•ÊúüÊ†ºÂºèÔºö@JsonFormat(pattern=&quot;yyyy-MM-dd hh:mm:ss&quot;,locale=&quot;zh&quot;,timezone=&quot;GMT+8&quot;) Á©∫Â≠óÊÆµ‰∏çËøîÂõûÔºö@JsonInclude(Include.NON_NUll) ÊåáÂÆöÂà´ÂêçÔºö@JsonProperty 6„ÄÅSpringBoot2.xÁõÆÂΩïÊñá‰ª∂ÁªìÊûÑËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBootÁõÆÂΩïÊñá‰ª∂ÁªìÊûÑÂíåÂÆòÊñπÊé®ËçêÁöÑÁõÆÂΩïËßÑËåÉ 1„ÄÅÁõÆÂΩïËÆ≤Ëß£ src/main/javaÔºöÂ≠òÊîæ‰ª£Á†Å src/main/resources static: Â≠òÊîæÈùôÊÄÅÊñá‰ª∂ÔºåÊØîÂ¶Ç css„ÄÅjs„ÄÅimage, ÔºàËÆøÈóÆÊñπÂºè http://localhost:8080/js/main.jsÔºâ templates:Â≠òÊîæÈùôÊÄÅÈ°µÈù¢jsp,html,tpl config:Â≠òÊîæÈÖçÁΩÆÊñá‰ª∂,application.properties resources: 2„ÄÅÂºïÂÖ•‰æùËµñ Thymeleaf &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰∏çÂºï‰∫∫Ëøô‰∏™‰æùËµñÂåÖÔºåhtmlÊñá‰ª∂Â∫îËØ•ÊîæÂú®ÈªòËÆ§Âä†ËΩΩÊñá‰ª∂Â§πÈáåÈù¢Ôºå ÊØîÂ¶Çresources„ÄÅstatic„ÄÅpublicËøô‰∏™Âá†‰∏™Êñá‰ª∂Â§πÔºåÊâçÂèØ‰ª•ËÆøÈóÆ 3„ÄÅÂêå‰∏™Êñá‰ª∂ÁöÑÂä†ËΩΩÈ°∫Â∫è,ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂ Spring Boot ÈªòËÆ§‰ºöÊå®‰∏™‰ªé META/resources &gt; resources &gt; static &gt; public ÈáåÈù¢ÊâæÊòØÂê¶Â≠òÂú®Áõ∏Â∫îÁöÑËµÑÊ∫êÔºåÂ¶ÇÊûúÊúâÂàôÁõ¥Êé•ËøîÂõû„ÄÇ 4„ÄÅÈªòËÆ§ÈÖçÁΩÆ 1ÔºâÂÆòÁΩëÂú∞ÂùÄÔºöhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-static-content 2Ôºâspring.resources.static-locations = classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/ 5„ÄÅÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â≠òÂÇ®Âú®CDN 7„ÄÅSpringBoot2.xÊñá‰ª∂‰∏ä‰º†ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£HTMLÈ°µÈù¢Êñá‰ª∂‰∏ä‰º†ÂíåÂêéÁ´ØÂ§ÑÁêÜÂÆûÊàò‚Äã 1„ÄÅËÆ≤Ëß£springbootÊñá‰ª∂‰∏ä‰º† MultipartFile fileÔºåÊ∫êËá™SpringMVC‚Äã‚Äã 1ÔºâÈùôÊÄÅÈ°µÈù¢Áõ¥Êé•ËÆøÈóÆÔºölocalhost:8080/index.html‚Äã Ê≥®ÊÑèÁÇπÔºö‚Äã Â¶ÇÊûúÊÉ≥Ë¶ÅÁõ¥Êé•ËÆøÈóÆhtmlÈ°µÈù¢ÔºåÂàôÈúÄË¶ÅÊäähtmlÊîæÂú®springbootÈªòËÆ§Âä†ËΩΩÁöÑÊñá‰ª∂Â§π‰∏ãÈù¢‚Äã 2ÔºâMultipartFile ÂØπË±°ÁöÑtransferToÊñπÊ≥ïÔºåÁî®‰∫éÊñá‰ª∂‰øùÂ≠òÔºàÊïàÁéáÂíåÊìç‰ΩúÊØîÂéüÂÖàÁî®FileOutStreamÊñπ‰æøÂíåÈ´òÊïàÔºâ‚Äã‚Äã ËÆøÈóÆË∑ØÂæÑ http://localhost:8080/images/39020dbb-9253-41b9-8ff9-403309ff3f19.jpeg ‚Äã 8„ÄÅjarÂåÖÊñπÂºèËøêË°åwebÈ°πÁõÆÁöÑÊñá‰ª∂‰∏ä‰º†ÂíåËÆøÈóÆÂ§ÑÁêÜÔºàÊ†∏ÂøÉÁü•ËØÜÔºâ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpingBoot2.x‰ΩøÁî® java -jarËøêË°åÊñπÂºèÁöÑÂõæÁâá‰∏ä‰º†ÂíåËÆøÈóÆÂ§ÑÁêÜ 1„ÄÅÊñá‰ª∂Â§ßÂ∞èÈÖçÁΩÆÔºåÂêØÂä®Á±ªÈáåÈù¢ÈÖçÁΩÆ @Bean public MultipartConfigElement multipartConfigElement() { MultipartConfigFactory factory = new MultipartConfigFactory(); //Âçï‰∏™Êñá‰ª∂ÊúÄÂ§ß factory.setMaxFileSize(&quot;10240KB&quot;); //KB,MB /// ËÆæÁΩÆÊÄª‰∏ä‰º†Êï∞ÊçÆÊÄªÂ§ßÂ∞è factory.setMaxRequestSize(&quot;1024000KB&quot;); return factory.createMultipartConfig(); } 2„ÄÅÊâìÂåÖÊàêjarÂåÖÔºåÈúÄË¶ÅÂ¢ûÂä†maven‰æùËµñ &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; Â¶ÇÊûúÊ≤°Âä†Áõ∏ÂÖ≥‰æùËµñÔºåÊâßË°åmavenÊâìÂåÖÔºåËøêË°åÂêé‰ºöÊä•Èîô:no main manifest attribute, in XXX.jar GUIÔºöÂèçÁºñËØëÂ∑•ÂÖ∑Ôºå‰ΩúÁî®Â∞±ÊòØÁî®‰∫éÊääclassÊñá‰ª∂ËΩ¨Êç¢ÊàêjavaÊñá‰ª∂ 3„ÄÅÊñá‰ª∂‰∏ä‰º†ÂíåËÆøÈóÆÈúÄË¶ÅÊåáÂÆöÁ£ÅÁõòË∑ØÂæÑ application.properties‰∏≠Â¢ûÂä†‰∏ãÈù¢ÈÖçÁΩÆ 1) web.images-path=/Users/jack/Desktop 2) spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/,classpath:/test/,file:${web.upload-path} 4„ÄÅÊñá‰ª∂ÊúçÂä°Âô®ÔºöfastdfsÔºåÈòøÈáå‰∫ëossÔºånginxÊê≠Âª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñá‰ª∂ÊúçÂä°Âô® 3.SpringBootÁÉ≠ÈÉ®ÁΩ≤devtoolÂíåÈÖçÁΩÆÊñá‰ª∂Ëá™Âä®Ê≥®ÂÖ•ÂÆûÊàò 3ËäÇËØæ1„ÄÅSpringBoot2.x‰ΩøÁî®Dev-toolÁÉ≠ÈÉ®ÁΩ≤‚Äã ÁÆÄ‰ªã:‰ªãÁªç‰ªÄ‰πàÊòØÁÉ≠ÈÉ®ÁΩ≤Ôºå‰ΩøÁî®springbootÁªìÂêàdev-toolÂ∑•ÂÖ∑ÔºåÂø´ÈÄüÂä†ËΩΩÂêØÂä®Â∫îÁî® ÂÆòÊñπÂú∞ÂùÄÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-devtools Ê†∏ÂøÉ‰æùËµñÂåÖÔºö &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; Ê∑ªÂä†‰æùËµñÂêéÔºåÂú®ideÈáåÈù¢ÈáçÂêØÂ∫îÁî®ÔºåÂêéÁª≠‰øÆÊîπÂêéÈ©¨‰∏äÂèØ‰ª•ÁîüÊïà classloader ‰∏çË¢´ÁÉ≠ÈÉ®ÁΩ≤ÁöÑÊñá‰ª∂ 1„ÄÅ/META-INF/maven, /META-INF/resources, /resources, /static, /public, or /templates 2„ÄÅÊåáÂÆöÊñá‰ª∂‰∏çËøõË°åÁÉ≠ÈÉ®ÁΩ≤ spring.devtools.restart.exclude=static/**,public/** 3„ÄÅÊâãÂ∑•Ëß¶ÂèëÈáçÂêØ spring.devtools.restart.trigger-file=trigger.txt Êîπ‰ª£Á†Å‰∏çÈáçÂêØÔºåÈÄöËøá‰∏Ä‰∏™ÊñáÊú¨ÂéªÊéßÂà∂ https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-devtools-restart-exclude Ê≥®ÊÑèÁÇπÔºöÁîü‰∫ßÁéØÂ¢É‰∏çË¶ÅÂºÄÂêØËøô‰∏™ÂäüËÉΩÔºåÂ¶ÇÊûúÁî®java -jarÂêØÂä®ÔºåspringBootÊòØ‰∏ç‰ºöËøõË°åÁÉ≠ÈÉ®ÁΩ≤ÁöÑ 2„ÄÅSpringBoot2.xÈÖçÁΩÆÊñá‰ª∂ËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöSpringBoot2.xÂ∏∏ËßÅÁöÑÈÖçÁΩÆÊñá‰ª∂ xml„ÄÅyml„ÄÅpropertiesÁöÑÂå∫Âà´Âíå‰ΩøÁî® xml„ÄÅproperties„ÄÅjson„ÄÅyaml 1„ÄÅÂ∏∏ËßÅÁöÑÈÖçÁΩÆÊñá‰ª∂ xx.yml, xx.propertiesÔºå 1)YAMLÔºàYet Another Markup LanguageÔºâ ÂÜô YAML Ë¶ÅÊØîÂÜô XML Âø´ÂæóÂ§ö(Êó†ÈúÄÂÖ≥Ê≥®Ê†áÁ≠æÊàñÂºïÂè∑) ‰ΩøÁî®Á©∫Ê†º Space Áº©ËøõË°®Á§∫ÂàÜÂ±ÇÔºå‰∏çÂêåÂ±ÇÊ¨°‰πãÈó¥ÁöÑÁº©ËøõÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑÁ©∫Ê†ºÊï∞ÁõÆ Ê≥®ÊÑèÔºökeyÂêéÈù¢ÁöÑÂÜíÂè∑ÔºåÂêéÈù¢‰∏ÄÂÆöË¶ÅË∑ü‰∏Ä‰∏™Á©∫Ê†º,Ê†ëÁä∂ÁªìÊûÑ application.propertiesÁ§∫‰æã server.port=8090 server.session-timeout=30 server.tomcat.max-threads=0 server.tomcat.uri-encoding=UTF-8 application.ymlÁ§∫‰æã server: port: 8090 session-timeout: 30 tomcat.max-threads: 0 tomcat.uri-encoding: UTF-8 2„ÄÅÈªòËÆ§Á§∫‰æãÊñá‰ª∂‰ªÖ‰Ωú‰∏∫ÊåáÂØº„ÄÇ ‰∏çË¶ÅÂ∞ÜÊï¥‰∏™ÂÜÖÂÆπÂ§çÂà∂Âπ∂Á≤òË¥¥Âà∞ÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÂè™ÊåëÈÄâÊÇ®ÈúÄË¶ÅÁöÑÂ±ûÊÄß„ÄÇ 3„ÄÅÂèÇËÄÉÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#common-application-properties Â¶ÇÊûúÈúÄË¶Å‰øÆÊîπÔºåÁõ¥Êé•Â§çÂà∂ÂØπÂ∫îÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂä†Âà∞application.propertiesÈáåÈù¢ 3„ÄÅSpringBootÊ≥®Ëß£ÊääÈÖçÁΩÆÊñá‰ª∂Ëá™Âä®Êò†Â∞ÑÂà∞Â±ûÊÄßÂíåÂÆû‰ΩìÁ±ªÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ΩøÁî®@valueÊ≥®Ëß£ÈÖçÁΩÆÊñá‰ª∂Ëá™Âä®Êò†Â∞ÑÂà∞Â±ûÊÄßÂíåÂÆû‰ΩìÁ±ª‚Äã‚Äã 1„ÄÅÈÖçÁΩÆÊñá‰ª∂Âä†ËΩΩ‚Äã ÊñπÂºè‰∏Ä‚Äã 1„ÄÅController‰∏äÈù¢ÈÖçÁΩÆ‚Äã @PropertySource({‚Äúclasspath:resource.properties‚Äù})‚Äã 2„ÄÅÂ¢ûÂä†Â±ûÊÄß‚Äã @Value(‚Äú${test.name}‚Äù)‚Äã private String name;‚Äã‚Äã ÊñπÂºè‰∫åÔºöÂÆû‰ΩìÁ±ªÈÖçÁΩÆÊñá‰ª∂‚Äã Ê≠•È™§Ôºö‚Äã 1„ÄÅÊ∑ªÂä† @Component Ê≥®Ëß£Ôºõ‚Äã 2„ÄÅ‰ΩøÁî® @PropertySource Ê≥®Ëß£ÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂‰ΩçÁΩÆÔºõ‚Äã 3„ÄÅ‰ΩøÁî® @ConfigurationProperties Ê≥®Ëß£ÔºåËÆæÁΩÆÁõ∏ÂÖ≥Â±ûÊÄßÔºõ‚Äã‚Äã 4„ÄÅÂøÖÈ°ª ÈÄöËøáÊ≥®ÂÖ•IOCÂØπË±°Resource ËøõÊù• Ôºå ÊâçËÉΩÂú®Á±ª‰∏≠‰ΩøÁî®Ëé∑ÂèñÁöÑÈÖçÁΩÆÊñá‰ª∂ÂÄº„ÄÇ‚Äã @Autowired‚Äã private ServerSettings serverSettings;‚Äã ‰æãÂ≠êÔºö @Configuration @ConfigurationProperties(prefix=‚Äùtest‚Äù) @PropertySource(value=‚Äùclasspath:resource.properties‚Äù) public class ServerConstant { Â∏∏ËßÅÈóÆÈ¢òÔºö 1„ÄÅÈÖçÁΩÆÊñá‰ª∂Ê≥®ÂÖ•Â§±Ë¥•ÔºåCould not resolve placeholder Ëß£ÂÜ≥ÔºöÊ†πÊçÆspringbootÂêØÂä®ÊµÅÁ®ãÔºå‰ºöÊúâËá™Âä®Êâ´ÊèèÂåÖÊ≤°ÊúâÊâ´ÊèèÂà∞Áõ∏ÂÖ≥Ê≥®Ëß£, ÈªòËÆ§SpringÊ°ÜÊû∂ÂÆûÁé∞‰ºö‰ªéÂ£∞Êòé@ComponentScanÊâÄÂú®ÁöÑÁ±ªÁöÑpackageËøõË°åÊâ´ÊèèÔºåÊù•Ëá™Âä®Ê≥®ÂÖ•Ôºå Âõ†Ê≠§ÂêØÂä®Á±ªÊúÄÂ•ΩÊîæÂú®Ê†πË∑ØÂæÑ‰∏ãÈù¢ÔºåÊàñËÄÖÊåáÂÆöÊâ´ÊèèÂåÖËåÉÂõ¥ spring-bootÊâ´ÊèèÂêØÂä®Á±ªÂØπÂ∫îÁöÑÁõÆÂΩïÂíåÂ≠êÁõÆÂΩï 2„ÄÅÊ≥®ÂÖ•beanÁöÑÊñπÂºèÔºåÂ±ûÊÄßÂêçÁß∞ÂíåÈÖçÁΩÆÊñá‰ª∂ÈáåÈù¢ÁöÑkey‰∏Ä‰∏ÄÂØπÂ∫îÔºåÂ∞±Áî®Âä†@Value Ëøô‰∏™Ê≥®Ëß£ Â¶ÇÊûú‰∏ç‰∏ÄÊ†∑ÔºåÂ∞±Ë¶ÅÂä†@value(&quot;${XXX}&quot;) 4„ÄÅSpringboot2.0ÂçïÂÖÉÊµãËØïËøõÈò∂ÂÆûÊàòÂíåËá™ÂÆö‰πâÂºÇÂ∏∏Â§ÑÁêÜ. 5ËäÇËØæ1„ÄÅ@SpringBootTestÂçïÂÖÉÊµãËØïÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBootÁöÑÂçïÂÖÉÊµãËØï‚Äã 1„ÄÅÂºïÂÖ•Áõ∏ÂÖ≥‰æùËµñ‚Äã ‚Äã ‚Äã org.springframework.boot‚Äã spring-boot-starter-test‚Äã test‚Äã 2„ÄÅ‰ΩøÁî® @RunWith(SpringRunner.class) //Â∫ïÂ±ÇÁî®junit SpringJUnit4ClassRunner @SpringBootTest(classes={XdclassApplication.class})//ÂêØÂä®Êï¥‰∏™springbootÂ∑•Á®ã public class SpringBootTests { } 2„ÄÅSpringBootÊµãËØïËøõÈò∂È´òÁ∫ßÁØá‰πãMockMvcËÆ≤Ëß£‚Äã ÁÆÄ‰ªã:ËÆ≤Ëß£MockMvcÁ±ªÁöÑ‰ΩøÁî®ÂíåÊ®°ÊãüHttpËØ∑Ê±ÇÂÆûÊàò 1„ÄÅÂ¢ûÂä†Á±ªÊ≥®Ëß£ @AutoConfigureMockMvc @SpringBootTest(classes={XdclassApplication.class}) 2„ÄÅÁõ∏ÂÖ≥API performÔºöÊâßË°å‰∏Ä‰∏™RequestBuilderËØ∑Ê±Ç andExpectÔºöÊ∑ªÂä†ResultMatcher-&gt;MockMvcResultMatchersÈ™åËØÅËßÑÂàô andReturnÔºöÊúÄÂêéËøîÂõûÁõ∏Â∫îÁöÑMvcResult-&gt;Response 3„ÄÅSpringBoot2.x‰∏™ÊÄßÂåñÂêØÂä®bannerËÆæÁΩÆÂíådebugÊó•Âøó‚Äã ÁÆÄ‰ªãÔºöËá™ÂÆö‰πâÂ∫îÁî®ÂêØÂä®ÁöÑË∂£Âë≥ÊÄßÊó•ÂøóÂõæÊ†áÂíåÊü•ÁúãË∞ÉËØïÊó•Âøó 1„ÄÅÂêØÂä®Ëé∑ÂèñÊõ¥Â§ö‰ø°ÊÅØ java -jar xxx.jar --debug 2„ÄÅ‰øÆÊîπÂêØÂä®ÁöÑbanner‰ø°ÊÅØ 1ÔºâÂú®Á±ªË∑ØÂæÑ‰∏ãÂ¢ûÂä†‰∏Ä‰∏™banner.txtÔºåÈáåÈù¢ÊòØÂêØÂä®Ë¶ÅËæìÂá∫ÁöÑ‰ø°ÊÅØ 2ÔºâÂú®applicatoin.propertiesÂ¢ûÂä†bannerÊñá‰ª∂ÁöÑË∑ØÂæÑÂú∞ÂùÄ spring.banner.location=banner.txt 3ÔºâÂÆòÁΩëÂú∞ÂùÄ https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-banners 4„ÄÅSpringBoot2.xÈÖçÁΩÆÂÖ®Â±ÄÂºÇÂ∏∏ÂÆûÊàò‚Äã ËÆ≤Ëß£ÔºöÊúçÂä°Á´ØÂºÇÂ∏∏ËÆ≤Ëß£ÂíåSpringBootÈÖçÁΩÆÂÖ®Â±ÄÂºÇÂ∏∏ÂÆûÊàò 1„ÄÅÈªòËÆ§ÂºÇÂ∏∏ÊµãËØï int i = 1/0Ôºå‰∏çÂèãÂ•Ω 2„ÄÅÂºÇÂ∏∏Ê≥®Ëß£‰ªãÁªç @ControllerAdvice Â¶ÇÊûúÊòØËøîÂõûjsonÊï∞ÊçÆ ÂàôÁî® RestControllerAdvice,Â∞±ÂèØ‰ª•‰∏çÂä† @ResponseBody //ÊçïËé∑ÂÖ®Â±ÄÂºÇÂ∏∏,Â§ÑÁêÜÊâÄÊúâ‰∏çÂèØÁü•ÁöÑÂºÇÂ∏∏ @ExceptionHandler(value=Exception.class) ‚Äã 5„ÄÅSpringBoot2.xÈÖçÁΩÆÂÖ®Â±ÄÂºÇÂ∏∏ËøîÂõûËá™ÂÆö‰πâÈ°µÈù¢‚Äã ÁÆÄ‰ªãÔºö‰ΩøÁî®SpringBootËá™ÂÆö‰πâÂºÇÂ∏∏ÂíåÈîôËØØÈ°µÈù¢Ë∑≥ËΩ¨ÂÆûÊàò 1„ÄÅËøîÂõûËá™ÂÆö‰πâÂºÇÂ∏∏ÁïåÈù¢ÔºåÈúÄË¶ÅÂºïÂÖ•thymeleaf‰æùËµñ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅresourceÁõÆÂΩï‰∏ãÊñ∞Âª∫templates,Âπ∂Êñ∞Âª∫error.html ModelAndView modelAndView = new ModelAndView(); modelAndView.setViewName(&quot;error.html&quot;); modelAndView.addObject(&quot;msg&quot;, e.getMessage()); return modelAndView; https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-error-handling 5„ÄÅSpringBootÈÉ®ÁΩ≤warÈ°πÁõÆÂà∞tomcat9ÂíåÂêØÂä®ÂéüÁêÜËÆ≤Ëß£ 2ËäÇËØæ1„ÄÅSpringBootÂêØÂä®ÊñπÂºèËÆ≤Ëß£ÂíåÈÉ®ÁΩ≤warÈ°πÁõÆÂà∞tomcat9ÁÆÄ‰ªãÔºöSpringBootÂ∏∏ËßÅÂêØÂä®ÊñπÂºèËÆ≤Ëß£ÂíåÈÉ®ÁΩ≤warÈ°πÁõÆTomcat 1„ÄÅideÂêØÂä® 2„ÄÅjarÂåÖÊñπÂºèÂêØÂä® mavenÊèí‰ª∂: &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; Â¶ÇÊûúÊ≤°ÊúâÂä†ÔºåÂàôÊâßË°åjarÂåÖ ÔºåÊä•ÈîôÂ¶Ç‰∏ã java -jar spring-boot-demo-0.0.1-SNAPSHOT.jar no main manifest attribute, in spring-boot-demo-0.0.1-SNAPSHOT.jar Â¶ÇÊûúÊúâÂÆâË£Ömaven Áî® mvn spring-boot:run È°πÁõÆÁªìÊûÑ example.jar | +-META-INF | +-MANIFEST.MF +-org | +-springframework | +-boot | +-loader | +-&lt;spring boot loader classes&gt; +-BOOT-INF +-classes | +-mycompany | +-project | +-YourClasses.class +-lib +-dependency1.jar +-dependency2.jar ÁõÆÂΩïÁªìÊûÑËÆ≤Ëß£ https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#executable-jar-jar-file-structure 3„ÄÅwarÂåÖÊñπÂºèÂêØÂä® 1)Âú®pom.xml‰∏≠Â∞ÜÊâìÂåÖÂΩ¢Âºè jar ‰øÆÊîπ‰∏∫war &lt;packaging&gt;war&lt;/packaging&gt; ÊûÑÂª∫È°πÁõÆÂêçÁß∞ &lt;finalName&gt;xdclass_springboot&lt;/finalName&gt; 2)tocmat‰∏ãËΩΩ https://tomcat.apache.org/download-90.cgi 3)‰øÆÊîπÂêØÂä®Á±ª public class XdclassApplication extends SpringBootServletInitializer { @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder application) { return application.sources(XdclassApplication.class); } public static void main(String[] args) throws Exception { SpringApplication.run(XdclassApplication.class, args); } } 4)ÊâìÂåÖÈ°πÁõÆÔºåÂêØÂä®tomcat 4„ÄÅÂêØÂä®ÂÆπÂô®‰ªãÁªçÂíåÁ¨¨‰∏âÊñπÊµãËØïÊï∞ÊçÆËÆ≤Ëß£ ‰ΩøÁî®JmterÊµãËØïÂ∑•ÂÖ∑ÊµãËØïÊÄßËÉΩÔºåQPS,TPSÔºåRT https://examples.javacodegeeks.com/enterprise-java/spring/tomcat-vs-jetty-vs-undertow-comparison-of-spring-boot-embedded-servlet-containers/ 2„ÄÅSpringBoot2.xÂêØÂä®ÂéüÁêÜÊ¶ÇËø∞‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBootÂêØÂä®ÊµÅÁ®ãÊ¶ÇËø∞ÂíåÂü∫Êú¨Âä†ËΩΩÊ°à‰æã 6„ÄÅSpringBootÊã¶Êà™Âô®ÂÆûÊàòÂíå Servlet3.0Ëá™ÂÆö‰πâFilter„ÄÅListener 4ËäÇËØæÂä†ÂÖ•Â∞èDËØæÂ†ÇÊäÄÊúØ‰∫§ÊµÅÁ≠îÁñëÁæ§ÔºöQÁæ§Ôºö699347262 1„ÄÅÊ∑±ÂÖ•SpringBoot2.xËøáÊª§Âô®FilterÂíå‰ΩøÁî®Servlet3.0ÈÖçÁΩÆËá™ÂÆö‰πâFilterÂÆûÊàò(Ê†∏ÂøÉÁü•ËØÜ)‚Äã ÁÆÄ‰ªã:ËÆ≤Ëß£SpringBootÈáåÈù¢FilterËÆ≤Ëß£Âíå‰ΩøÁî®Servlet3.0ÈÖçÁΩÆËá™ÂÆö‰πâFilterÂÆûÊàò‚Äã‚Äã filterÁÆÄÂçïÁêÜËß£Ôºö‰∫∫‚Äî&gt;Ê£ÄÁ•®ÂëòÔºàfilterÔºâ‚Äî&gt; ÊôØÁÇπ‚Äã‚Äã 1„ÄÅSpringBootÂêØÂä®ÈªòËÆ§Âä†ËΩΩÁöÑFilter‚Äã characterEncodingFilter‚Äã hiddenHttpMethodFilter‚Äã httpPutFormContentFilter‚Äã requestContextFilter‚Äã‚Äã 2„ÄÅFilter‰ºòÂÖàÁ∫ß‚Äã Ordered.HIGHEST_PRECEDENCE Ordered.LOWEST_PRECEDENCE ‰Ωé‰ΩçÂÄºÊÑèÂë≥ÁùÄÊõ¥È´òÁöÑ‰ºòÂÖàÁ∫ß Higher values are interpreted as lower priority Ëá™ÂÆö‰πâFilterÔºåÈÅøÂÖçÂíåÈªòËÆ§ÁöÑFilter‰ºòÂÖàÁ∫ß‰∏ÄÊ†∑Ôºå‰∏çÁÑ∂‰ºöÂÜ≤Á™Å Ê≥®ÂÜåFilterÁöÑbean FilterRegistrationBean ÂêåÊ®°ÂùóÈáåÈù¢ÊúâÁõ∏ÂÖ≥ÈªòËÆ§Filter web-&gt;servlet-&gt;filter 3„ÄÅËá™ÂÆö‰πâFilter 1Ôºâ‰ΩøÁî®Servlet3.0ÁöÑÊ≥®Ëß£ËøõË°åÈÖçÁΩÆ 2ÔºâÂêØÂä®Á±ªÈáåÈù¢Â¢ûÂä† @ServletComponentScanÔºåËøõË°åÊâ´Êèè 3ÔºâÊñ∞Âª∫‰∏Ä‰∏™FilterÁ±ªÔºåimplements FilterÔºåÂπ∂ÂÆûÁé∞ÂØπÂ∫îÁöÑÊé•Âè£ 4) @WebFilter Ê†áËÆ∞‰∏Ä‰∏™Á±ª‰∏∫filterÔºåË¢´springËøõË°åÊâ´Êèè urlPatternsÔºöÊã¶Êà™ËßÑÂàôÔºåÊîØÊåÅÊ≠£Âàô 6ÔºâÊéßÂà∂chain.doFilterÁöÑÊñπÊ≥ïÁöÑË∞ÉÁî®ÔºåÊù•ÂÆûÁé∞ÊòØÂê¶ÈÄöËøáÊîæË°å ‰∏çÊîæË°åÔºåwebÂ∫îÁî®resp.sendRedirect(&quot;/index.html&quot;); Âú∫ÊôØÔºöÊùÉÈôêÊéßÂà∂„ÄÅÁî®Êà∑ÁôªÂΩï(ÈùûÂâçÁ´ØÂêéÁ´ØÂàÜÁ¶ªÂú∫ÊôØ)Á≠â 1„ÄÅÂÆòÁΩëÂú∞ÂùÄÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-embedded-container-servlets-filters-listeners 2„ÄÅServlet3.0ÁöÑÊ≥®Ëß£Ëá™ÂÆö‰πâÂéüÁîüServletÂÆûÊàò‚Äã ËÆ≤Ëß£Ôºö‰ΩøÁî® Servlet3.0ÁöÑÊ≥®Ëß£Ëá™ÂÆö‰πâÂéüÁîüServletÂíåListener‚Äã 1„ÄÅËá™ÂÆö‰πâÂéüÁîüServlet @WebServlet(name = &quot;userServlet&quot;,urlPatterns = &quot;/test/customs&quot;) public class UserServlet extends HttpServlet{ @Override public void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { resp.getWriter().print(&quot;custom sevlet&quot;); resp.getWriter().flush(); resp.getWriter().close(); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } 3„ÄÅServlet3.0ÁöÑÊ≥®Ëß£Ëá™ÂÆö‰πâÂéüÁîüListenerÁõëÂê¨Âô®ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöÁõëÂê¨Âô®‰ªãÁªçÂíåServlet3.0ÁöÑÊ≥®Ëß£Ëá™ÂÆö‰πâÂéüÁîüListenerÁõëÂê¨Âô®ÂÆûÊàò 1„ÄÅËá™ÂÆö‰πâListener(Â∏∏Áî®ÁöÑÁõëÂê¨Âô® servletContextListener„ÄÅhttpSessionListener„ÄÅservletRequestListener) @WebListener public class RequestListener implements ServletRequestListener { @Override public void requestDestroyed(ServletRequestEvent sre) { // TODO Auto-generated method stub System.out.println(&quot;======requestDestroyed========&quot;); } @Override public void requestInitialized(ServletRequestEvent sre) { System.out.println(&quot;======requestInitialized========&quot;); } 4„ÄÅSpringBoot2.XËá™ÂÆö‰πâÊã¶Êà™Âô®ÂÆûÊàòÂèäÊñ∞ÊóßÈÖçÁΩÆÂØπÊØî(Ê†∏ÂøÉÁü•ËØÜ)‚Äã ÁÆÄ‰ªã: ËÆ≤Ëß£Êã¶Êà™Âô®‰ΩøÁî®ÔºåSpingboot2.xÊñ∞ÁâàÊú¨ÈÖçÁΩÆÊã¶Êà™Êã¶Êà™Âô®ÂíåÊóßÁâàÊú¨SpringBootÈÖçÁΩÆÊã¶Êà™Âô®Âå∫Âà´ËÆ≤Ëß£‚Äã‚Äã 1„ÄÅ@Configuration‚Äã ÁªßÊâøWebMvcConfigurationAdapter(SpringBoot2.X‰πãÂâçÊóßÁâàÊú¨)‚Äã‚Äã SpringBoot2.X Êñ∞ÁâàÊú¨ÈÖçÁΩÆÊã¶Êà™Âô® implements WebMvcConfigurer‚Äã‚Äã 2„ÄÅËá™ÂÆö‰πâÊã¶Êà™Âô® HandlerInterceptor‚Äã preHandleÔºöË∞ÉÁî®ControllerÊüê‰∏™ÊñπÊ≥ï‰πãÂâç‚Äã postHandleÔºöController‰πãÂêéË∞ÉÁî®ÔºåËßÜÂõæÊ∏≤Êüì‰πãÂâçÔºåÂ¶ÇÊûúÊéßÂà∂Âô®ControllerÂá∫Áé∞‰∫ÜÂºÇÂ∏∏ÔºåÂàô‰∏ç‰ºöÊâßË°åÊ≠§ÊñπÊ≥ï‚Äã afterCompletionÔºö‰∏çÁÆ°ÊúâÊ≤°ÊúâÂºÇÂ∏∏ÔºåËøô‰∏™afterCompletionÈÉΩ‰ºöË¢´Ë∞ÉÁî®ÔºåÁî®‰∫éËµÑÊ∫êÊ∏ÖÁêÜ‚Äã 3„ÄÅÊåâÁÖßÊ≥®ÂÜåÈ°∫Â∫èËøõË°åÊã¶Êà™ÔºåÂÖàÊ≥®ÂÜåÔºåÂÖàË¢´Êã¶Êà™ Êã¶Êà™Âô®‰∏çÁîüÊïàÂ∏∏ËßÅÈóÆÈ¢òÔºö 1ÔºâÊòØÂê¶ÊúâÂä†@Configuration 2ÔºâÊã¶Êà™Ë∑ØÂæÑÊòØÂê¶ÊúâÈóÆÈ¢ò ** Âíå * 3ÔºâÊã¶Êà™Âô®ÊúÄÂêéË∑ØÂæÑ‰∏ÄÂÆöË¶Å ‚Äú/**‚ÄùÔºå Â¶ÇÊûúÊòØÁõÆÂΩïÁöÑËØùÂàôÊòØ /*/ Filter ÊòØÂü∫‰∫éÂáΩÊï∞ÂõûË∞É doFilter()ÔºåËÄåInterceptorÂàôÊòØÂü∫‰∫éAOPÊÄùÊÉ≥ FilterÂú®Âè™Âú®ServletÂâçÂêéËµ∑‰ΩúÁî®ÔºåËÄåInterceptorÂ§üÊ∑±ÂÖ•Âà∞ÊñπÊ≥ïÂâçÂêé„ÄÅÂºÇÂ∏∏ÊäõÂá∫ÂâçÂêéÁ≠â ‰æùËµñ‰∫éServletÂÆπÂô®Âç≥webÂ∫îÁî®‰∏≠ÔºåËÄåInterceptor‰∏ç‰æùËµñ‰∫éServletÂÆπÂô®ÊâÄ‰ª•ÂèØ‰ª•ËøêË°åÂú®Â§öÁßçÁéØÂ¢É„ÄÇ Âú®Êé•Âè£Ë∞ÉÁî®ÁöÑÁîüÂëΩÂë®ÊúüÈáåÔºåInterceptorÂèØ‰ª•Ë¢´Â§öÊ¨°Ë∞ÉÁî®ÔºåËÄåFilterÂè™ËÉΩÂú®ÂÆπÂô®ÂàùÂßãÂåñÊó∂Ë∞ÉÁî®‰∏ÄÊ¨°„ÄÇ FilterÂíåInterceptorÁöÑÊâßË°åÈ°∫Â∫è ËøáÊª§Ââç-&gt;Êã¶Êà™Ââç-&gt;actionÊâßË°å-&gt;Êã¶Êà™Âêé-&gt;ËøáÊª§Âêé 7 SpringBootÂ∏∏Áî®Starter‰ªãÁªçÂíåÊï¥ÂêàÊ®°ÊùøÂºïÊìéFreemaker„ÄÅthymeleaf 4ËäÇËØæ1„ÄÅSpringBoot StarterËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºö‰ªãÁªç‰ªÄ‰πàÊòØSpringBoot StarterÂíå‰∏ªË¶Å‰ΩúÁî® 1„ÄÅÂÆòÁΩëÂú∞ÂùÄÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-starter 2„ÄÅstarter‰∏ªË¶ÅÁÆÄÂåñ‰æùËµñÁî®ÁöÑ spring-boot-starter-web -&gt;ÈáåÈù¢ÂåÖÂê´Â§öÁßç‰æùËµñ 3„ÄÅÂá†‰∏™Â∏∏Áî®ÁöÑstarter spring-boot-starter-activemq spring-boot-starter-aop spring-boot-starter-data-redis spring-boot-starter-freemarker spring-boot-starter-thymeleaf spring-boot-starter-webflux ‚Äã 2„ÄÅSpringBoot2.xÂ∏∏ËßÅÊ®°ÊùøÂºïÊìéËÆ≤Ëß£ÂíåÂÆòÊñπÊé®Ëçê‰ΩøÁî®‚Äã ÁÆÄ‰ªãÔºö‰ªãÁªçÂ∏∏Áî®ÁöÑSpringBoot2.xÊ®°ÊùøÂºïÊìéÂíåÂÆòÊñπÊé®ËçêÊ°à‰æã 1„ÄÅJSPÔºàÂêéÁ´ØÊ∏≤ÊüìÔºåÊ∂àËÄóÊÄßËÉΩÔºâ Java Server Pages Âä®ÊÄÅÁΩëÈ°µÊäÄÊúØ,Áî±Â∫îÁî®ÊúçÂä°Âô®‰∏≠ÁöÑJSPÂºïÊìéÊù•ÁºñËØëÂíåÊâßË°åÔºåÂÜçÂ∞ÜÁîüÊàêÁöÑÊï¥‰∏™È°µÈù¢ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø ÂèØ‰ª•ÂÜôjava‰ª£Á†Å ÊåÅË°®ËææÂºèËØ≠Ë®ÄÔºàel„ÄÅjstlÔºâ ÂÜÖÂª∫ÂáΩÊï∞ JSP-&gt;Servlet(Âç†Áî®JVMÂÜÖÂ≠ò)permSize javawebÂÆòÊñπÊé®Ëçê springboot‰∏çÊé®Ëçê https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-jsp-limitations 2„ÄÅFreemarker FreeMarker Template LanguageÔºàFTLÔºâ Êñá‰ª∂‰∏ÄËà¨‰øùÂ≠ò‰∏∫ xxx.ftl ‰∏•Ê†º‰æùËµñMVCÊ®°ÂºèÔºå‰∏ç‰æùËµñServletÂÆπÂô®Ôºà‰∏çÂç†Áî®JVMÂÜÖÂ≠òÔºâ ÂÜÖÂª∫ÂáΩÊï∞ 3„ÄÅThymeleaf (‰∏ªÊé®) ËΩªÈáèÁ∫ßÁöÑÊ®°ÊùøÂºïÊìéÔºàË¥üË¥£ÈÄªËæë‰∏öÂä°ÁöÑ‰∏çÊé®ËçêÔºåËß£ÊûêDOMÊàñËÄÖXML‰ºöÂç†Áî®Â§öÁöÑÂÜÖÂ≠òÔºâ ÂèØ‰ª•Áõ¥Êé•Âú®ÊµèËßàÂô®‰∏≠ÊâìÂºÄ‰∏îÊ≠£Á°ÆÊòæÁ§∫Ê®°ÊùøÈ°µÈù¢ Áõ¥Êé•ÊòØhtmlÁªìÂ∞æÔºåÁõ¥Êé•ÁºñËæë xdlcass.net/user/userinfo.html Á§æ‰ºöÂ∑•Á®ãÂ≠¶ ‰º™Ë£Ö 3„ÄÅSpringBoot2.xÊï¥ÂêàÊ®°ÊùøÂºïÊìéfreemarkerÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöSpringBoot2.xÊï¥ÂêàÊ®°ÊùøÂºïÊìéfreemarkerÂÆûÊàò 1„ÄÅFreemarkerÁõ∏ÂÖ≥maven‰æùËµñ &lt;!-- ÂºïÂÖ•freemarkerÊ®°ÊùøÂºïÊìéÁöÑ‰æùËµñ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅFreemarkerÂü∫Á°ÄÈÖçÁΩÆ # ÊòØÂê¶ÂºÄÂêØthymeleafÁºìÂ≠ò,Êú¨Âú∞‰∏∫falseÔºåÁîü‰∫ßÂª∫ËÆÆ‰∏∫true spring.freemarker.cache=false spring.freemarker.charset=UTF-8 spring.freemarker.allow-request-override=false spring.freemarker.check-template-location=true #Á±ªÂûã spring.freemarker.content-type=text/html spring.freemarker.expose-request-attributes=true spring.freemarker.expose-session-attributes=true #Êñá‰ª∂ÂêéÁºÄ spring.freemarker.suffix=.ftl #Ë∑ØÂæÑ spring.freemarker.template-loader-path=classpath:/templates/ 3„ÄÅÂª∫Á´ãÊñá‰ª∂Â§π 1)src/main/resources/templates/fm/user/ 2)Âª∫Á´ã‰∏Ä‰∏™index.ftl 3)userÊñá‰ª∂Â§π‰∏ãÈù¢Âª∫Á´ã‰∏Ä‰∏™user.html 4„ÄÅÁÆÄÂçïÊµãËØï‰ª£Á†ÅÁºñÂÜôÂíåËÆøÈóÆ 4„ÄÅSpringBoot2.xÊï¥ÂêàÊ®°ÊùøÂºïÊìéthymeleafÂÆûÊàò‚Äã ËÆ≤Ëß£ÔºöSpringBoot2.xÊï¥ÂêàÊ®°ÊùøÂºïÊìéthymeleafÂÆûÊàò ÂÆòÁΩëÂú∞ÂùÄÔºöhttps://www.thymeleaf.org/doc/articles/thymeleaf3migration.html 1„ÄÅthymeleafÁõ∏ÂÖ≥maven‰æùËµñ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅthymeleafÂü∫Á°ÄÈÖçÁΩÆ #ÂºÄÂèëÊó∂ÂÖ≥Èó≠ÁºìÂ≠ò,‰∏çÁÑ∂Ê≤°Ê≥ïÁúãÂà∞ÂÆûÊó∂È°µÈù¢ spring.thymeleaf.cache=false spring.thymeleaf.mode=HTML5 #ÂâçÁºÄ spring.thymeleaf.prefix=classpath:/templates/ #ÁºñÁ†Å spring.thymeleaf.encoding=UTF-8 #Á±ªÂûã spring.thymeleaf.content-type=text/html #ÂêçÁß∞ÁöÑÂêéÁºÄ spring.thymeleaf.suffix=.html 3„ÄÅÂª∫Á´ãÊñá‰ª∂Â§π 1)src/main/resources/templates/tl/ 2)Âª∫Á´ã‰∏Ä‰∏™index.html 4„ÄÅÁÆÄÂçïÊµãËØï‰ª£Á†ÅÁºñÂÜôÂíåËÆøÈóÆ Ê≥®ÊÑèÔºö$Ë°®ËææÂºèÂè™ËÉΩÂÜôÂú®thÊ†áÁ≠æÂÜÖÈÉ® Âø´ÈÄüÂÖ•Èó®Ôºöhttps://www.thymeleaf.org/doc/articles/standarddialect5minutes.html 8 Êï∞ÊçÆÂ∫ìÊìç‰Ωú‰πãÊï¥ÂêàMybatiesÂíå‰∫ãÂä°ËÆ≤Ëß£ 5ËäÇËØæ1„ÄÅSpringBoot2.xÊåÅ‰πÖÂåñÊï∞ÊçÆÊñπÂºè‰ªãÁªç‚Äã‚Äã ÁÆÄ‰ªãÔºö‰ªãÁªçËøëÂá†Âπ¥Â∏∏Áî®ÁöÑËÆøÈóÆÊï∞ÊçÆÂ∫ìÁöÑÊñπÂºèÂíå‰ºòÁº∫ÁÇπ‚Äã‚Äã 1„ÄÅÂéüÂßãjavaËÆøÈóÆÊï∞ÊçÆÂ∫ì‚Äã ÂºÄÂèëÊµÅÁ®ãÈ∫ªÁÉ¶‚Äã 1„ÄÅÊ≥®ÂÜåÈ©±Âä®/Âä†ËΩΩÈ©±Âä®‚Äã Class.forName(‚Äúcom.mysql.jdbc.Driver‚Äù)‚Äã 2„ÄÅÂª∫Á´ãËøûÊé•‚Äã Connection con = DriverManager.getConnection(‚Äújdbc:mysql://localhost:3306/dbname‚Äù,‚Äùroot‚Äù,‚Äùroot‚Äù);‚Äã 3„ÄÅÂàõÂª∫Statement‚Äã‚Äã 4„ÄÅÊâßË°åSQLËØ≠Âè•‚Äã 5„ÄÅÂ§ÑÁêÜÁªìÊûúÈõÜ 6„ÄÅÂÖ≥Èó≠ËøûÊé•ÔºåÈáäÊîæËµÑÊ∫ê 2„ÄÅapache dbutilsÊ°ÜÊû∂ ÊØî‰∏ä‰∏ÄÊ≠•ÁÆÄÂçïÁÇπ ÂÆòÁΩë:https://commons.apache.org/proper/commons-dbutils/ 3„ÄÅjpaÊ°ÜÊû∂ spring-data-jpa jpaÂú®Â§çÊùÇÊü•ËØ¢ÁöÑÊó∂ÂÄôÊÄßËÉΩ‰∏çÊòØÂæàÂ•Ω 4„ÄÅHiberante Ëß£ÈáäÔºöORMÔºöÂØπË±°ÂÖ≥Á≥ªÊò†Â∞ÑObject Relational Mapping ‰ºÅ‰∏öÂ§ßÈÉΩÂñúÊ¨¢‰ΩøÁî®hibernate 5„ÄÅMybatisÊ°ÜÊû∂ ‰∫íËÅîÁΩëË°å‰∏öÈÄöÂ∏∏‰ΩøÁî®mybatis ‰∏çÊèê‰æõÂØπË±°ÂíåÂÖ≥Á≥ªÊ®°ÂûãÁöÑÁõ¥Êé•Êò†Â∞Ñ,ÂçäORM 2„ÄÅSpringBoot2.xÊï¥ÂêàMybatis3.xÊ≥®Ëß£ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöSpringBoot2.xÊï¥ÂêàMybatis3.xÊ≥®Ëß£ÈÖçÁΩÆÂÆûÊàò 1„ÄÅ‰ΩøÁî®starter, maven‰ªìÂ∫ìÂú∞ÂùÄÔºöhttp://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter 2„ÄÅÂä†ÂÖ•‰æùËµñ(ÂèØ‰ª•Áî® http://start.spring.io/ ‰∏ãËΩΩ) &lt;!-- ÂºïÂÖ•starter--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- MySQLÁöÑJDBCÈ©±Âä®ÂåÖ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- ÂºïÂÖ•Á¨¨‰∏âÊñπÊï∞ÊçÆÊ∫ê --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt; &lt;/dependency&gt; 3„ÄÅÂä†ÂÖ•ÈÖçÁΩÆÊñá‰ª∂ #mybatis.type-aliases-package=net.xdclass.base_project.domain #ÂèØ‰ª•Ëá™Âä®ËØÜÂà´ #spring.datasource.driver-class-name =com.mysql.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/movie?useUnicode=true&amp;characterEncoding=utf-8 spring.datasource.username =root spring.datasource.password =password #Â¶ÇÊûú‰∏ç‰ΩøÁî®ÈªòËÆ§ÁöÑÊï∞ÊçÆÊ∫ê Ôºàcom.zaxxer.hikari.HikariDataSourceÔºâ spring.datasource.type =com.alibaba.druid.pool.DruidDataSource Âä†ËΩΩÈÖçÁΩÆÔºåÊ≥®ÂÖ•Âà∞sqlSessionFactoryÁ≠âÈÉΩÊòØspringBootÂ∏ÆÊàë‰ª¨ÂÆåÊàê 4„ÄÅÂêØÂä®Á±ªÂ¢ûÂä†mapperÊâ´Êèè @MapperScan(&quot;net.xdclass.base_project.mapper&quot;) ÊäÄÂ∑ßÔºö‰øùÂ≠òÂØπË±°ÔºåËé∑ÂèñÊï∞ÊçÆÂ∫ìËá™Â¢ûid @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;) 4„ÄÅÂºÄÂèëmapper ÂèÇËÄÉËØ≠Ê≥ï http://www.mybatis.org/mybatis-3/zh/java-api.html 5„ÄÅsqlËÑöÊú¨ CREATE TABLE `user` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(128) DEFAULT NULL COMMENT &apos;ÂêçÁß∞&apos;, `phone` varchar(16) DEFAULT NULL COMMENT &apos;Áî®Êà∑ÊâãÊú∫Âè∑&apos;, `create_time` datetime DEFAULT NULL COMMENT &apos;ÂàõÂª∫Êó∂Èó¥&apos;, `age` int(4) DEFAULT NULL COMMENT &apos;Âπ¥ÈæÑ&apos;, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8; Áõ∏ÂÖ≥ËµÑÊñôÔºö http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/#Configuration https://github.com/mybatis/spring-boot-starter/tree/master/mybatis-spring-boot-samples Êï¥ÂêàÈóÆÈ¢òÈõÜÂêàÔºö https://my.oschina.net/hxflar1314520/blog/1800035 https://blog.csdn.net/tingxuetage/article/details/80179772 3„ÄÅSpringBoot2.xÊï¥ÂêàMybatis3.xÂ¢ûÂà†ÊîπÊü•ÂÆûÊìçÂíåÊéßÂà∂Âè∞ÊâìÂç∞SQLËØ≠Âè•‚Äã ËÆ≤Ëß£:SpringBoot2.xÊï¥ÂêàMybatis3.xÂ¢ûÂà†ÊîπÊü•ÂÆûÊìç, ÊéßÂà∂Âè∞ÊâìÂç∞sqlËØ≠Âè•‚Äã‚Äã 1„ÄÅÊéßÂà∂Âè∞ÊâìÂç∞sqlËØ≠Âè•‚Äã #Â¢ûÂä†ÊâìÂç∞sqlËØ≠Âè•Ôºå‰∏ÄËà¨Áî®‰∫éÊú¨Âú∞ÂºÄÂèëÊµãËØï‚Äã mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl‚Äã‚Äã 2„ÄÅÂ¢ûÂä†mapper‰ª£Á†Å‚Äã @Select(‚ÄúSELECT FROM user‚Äù)‚Äã @Results({‚Äã @Result(column = ‚Äúcreate_time‚Äù,property = ‚ÄúcreateTime‚Äù) //javaType = java.util.Date.class‚Äã })‚Äã List getAll();‚Äã‚Äã @Select(‚ÄúSELECT FROM user WHERE id = #{id}‚Äù)‚Äã @Results({‚Äã @Result(column = ‚Äúcreate_time‚Äù,property = ‚ÄúcreateTime‚Äù)‚Äã })‚Äã User findById(Long id);‚Äã @Update(‚ÄúUPDATE user SET name=#{name} WHERE id =#{id}‚Äù) void update(User user); @Delete(&quot;DELETE FROM user WHERE id =#{userId}&quot;) void delete(Long userId); 3„ÄÅÂ¢ûÂä†API @GetMapping(&quot;find_all&quot;) public Object findAll(){ return JsonData.buildSuccess(userMapper.getAll()); } @GetMapping(&quot;find_by_Id&quot;) public Object findById(long id){ return JsonData.buildSuccess(userMapper.findById(id)); } @GetMapping(&quot;del_by_id&quot;) public Object delById(long id){ userMapper.delete(id); return JsonData.buildSuccess(); } @GetMapping(&quot;update&quot;) public Object update(String name,int id){ User user = new User(); user.setName(name); user.setId(id); userMapper.update(user); return JsonData.buildSuccess(); } 4„ÄÅ‰∫ãÂä°‰ªãÁªçÂíåÂ∏∏ËßÅÁöÑÈöîÁ¶ªÁ∫ßÂà´Ôºå‰º†Êí≠Ë°å‰∏∫‚Äã‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ªÄ‰πàÊòØÊï∞ÊçÆÂ∫ì‰∫ãÂä°ÔºåÂ∏∏ËßÅÁöÑÈöîÁ¶ªÁ∫ßÂà´Âíå‰º†Êí≠Ë°å‰∏∫‚Äã‚Äã 1„ÄÅ‰ªãÁªç‰ªÄ‰πàÊòØ‰∫ãÂä°ÔºåÂçïÊú∫‰∫ãÂä°ÔºåÂàÜÂ∏ÉÂºè‰∫ãÂä°Â§ÑÁêÜÁ≠â‚Äã‚Äã 2„ÄÅËÆ≤Ëß£Âú∫ÊôØÁöÑÈöîÁ¶ªÁ∫ßÂà´‚Äã SerializableÔºö ÊúÄ‰∏•Ê†ºÔºå‰∏≤Ë°åÂ§ÑÁêÜÔºåÊ∂àËÄóËµÑÊ∫êÂ§ß‚Äã Repeatable ReadÔºö‰øùËØÅ‰∫Ü‰∏Ä‰∏™‰∫ãÂä°‰∏ç‰ºö‰øÆÊîπÂ∑≤ÁªèÁî±Âè¶‰∏Ä‰∏™‰∫ãÂä°ËØªÂèñ‰ΩÜÊú™Êèê‰∫§ÔºàÂõûÊªöÔºâÁöÑÊï∞ÊçÆ‚Äã Read CommittedÔºöÂ§ßÂ§öÊï∞‰∏ªÊµÅÊï∞ÊçÆÂ∫ìÁöÑÈªòËÆ§‰∫ãÂä°Á≠âÁ∫ß‚Äã Read UncommittedÔºö‰øùËØÅ‰∫ÜËØªÂèñËøáÁ®ã‰∏≠‰∏ç‰ºöËØªÂèñÂà∞ÈùûÊ≥ïÊï∞ÊçÆ„ÄÇ 3„ÄÅËÆ≤Ëß£Â∏∏ËßÅÁöÑ‰º†Êí≠Ë°å‰∏∫ PROPAGATION_REQUIRED--ÊîØÊåÅÂΩìÂâç‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∫ãÂä°ÔºåÂ∞±Êñ∞Âª∫‰∏Ä‰∏™‰∫ãÂä°,ÊúÄÂ∏∏ËßÅÁöÑÈÄâÊã©„ÄÇ PROPAGATION_SUPPORTS--ÊîØÊåÅÂΩìÂâç‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∫ãÂä°ÔºåÂ∞±‰ª•Èùû‰∫ãÂä°ÊñπÂºèÊâßË°å„ÄÇ PROPAGATION_MANDATORY--ÊîØÊåÅÂΩìÂâç‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∫ãÂä°ÔºåÂ∞±ÊäõÂá∫ÂºÇÂ∏∏„ÄÇ PROPAGATION_REQUIRES_NEW--Êñ∞Âª∫‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÊääÂΩìÂâç‰∫ãÂä°ÊåÇËµ∑, ‰∏§‰∏™‰∫ãÂä°‰πãÈó¥Ê≤°ÊúâÂÖ≥Á≥ªÔºå‰∏Ä‰∏™ÂºÇÂ∏∏Ôºå‰∏Ä‰∏™Êèê‰∫§Ôºå‰∏ç‰ºöÂêåÊó∂ÂõûÊªö PROPAGATION_NOT_SUPPORTED--‰ª•Èùû‰∫ãÂä°ÊñπÂºèÊâßË°åÊìç‰ΩúÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂ∞±ÊääÂΩìÂâç‰∫ãÂä°ÊåÇËµ∑„ÄÇ PROPAGATION_NEVER--‰ª•Èùû‰∫ãÂä°ÊñπÂºèÊâßË°åÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏ 5„ÄÅSpringBootÊï¥Âêàmybatis‰πã‰∫ãÂä°Â§ÑÁêÜÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöSpringBootÊï¥ÂêàMybatis‰πã‰∫ãÂä°Â§ÑÁêÜÂÆûÊàò‚Äã 1„ÄÅserviceÈÄªËæëÂºïÂÖ•‰∫ãÂä° @Transantional(propagation=Propagation.REQUIRED) 2„ÄÅservice‰ª£Á†Å @Override @Transactional public int addAccount() { User user = new User(); user.setAge(9); user.setCreateTime(new Date()); user.setName(&quot;‰∫ãÂä°ÊµãËØï&quot;); user.setPhone(&quot;000121212&quot;); userMapper.insert(user); int a = 1/0; return user.getId(); } 9 SpringBoot2.xÊï¥ÂêàRedisÂÆûÊàò 4ËäÇËØæ‚Äã 1„ÄÅÂàÜÂ∏ÉÂºèÁºìÂ≠òRedis‰ªãÁªç‚Äã ÁÆÄ‰ªã:ËÆ≤Ëß£‰∏∫‰ªÄ‰πàË¶ÅÁî®ÁºìÂ≠òÂíå‰ªãÁªç‰ªÄ‰πàÊòØRedisÔºåÊñ∞ÊâãÁªÉ‰π†Â∑•ÂÖ∑‚Äã‚Äã 1„ÄÅredisÂÆòÁΩë https://redis.io/download‚Äã‚Äã 2„ÄÅÊñ∞ÊâãÂÖ•Èó®redisÂú®Á∫øÊµãËØïÂ∑•ÂÖ∑Ôºöhttp://try.redis.io/ 2„ÄÅÊ∫êÁ†ÅÁºñËØëÂÆâË£ÖRedis4.x‚Äã ÁÆÄ‰ªãÔºö‰ΩøÁî®Ê∫êÁ†ÅÂÆâË£ÖRedis4.xÂíåÈÖçÁΩÆÂ§ñÁΩëËÆøÈóÆ 1„ÄÅÂø´ÈÄüÂÆâË£Ö https://redis.io/download#installation wget http://download.redis.io/releases/redis-4.0.9.tar.gz tar xzf redis-4.0.9.tar.gz cd redis-4.0.9 make ÂêØÂä®ÊúçÂä°Á´ØÔºösrc/redis-server ÂêØÂä®ÂÆ¢Êà∑Á´ØÔºösrc/redis-cli 2„ÄÅÈªòËÆ§ÊòØÊú¨Âú∞ËÆøÈóÆÁöÑÔºåÈúÄË¶ÅÂºÄÊîæÂ§ñÁΩëËÆøÈóÆ 1ÔºâÊâìÂºÄredis.confÊñá‰ª∂Âú®NETWORKÈÉ®ÂàÜ‰øÆÊîπ Ê≥®ÈáäÊéâbind 127.0.0.1ÂèØ‰ª•‰ΩøÊâÄÊúâÁöÑipËÆøÈóÆredis ‰øÆÊîπ protected-modeÔºåÂÄºÊîπ‰∏∫no 3„ÄÅSpringBoot2.xÊï¥ÂêàredisÂÆûÊàòËÆ≤Ëß£ ÁÆÄ‰ªãÔºö‰ΩøÁî®springboot-starterÊï¥ÂêàreidsÂÆûÊàò 1„ÄÅÂÆòÁΩëÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-redis ÈõÜÁæ§ÊñáÊ°£Ôºöhttps://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#cluster 2„ÄÅspringbootÊï¥ÂêàredisÁõ∏ÂÖ≥‰æùËµñÂºïÂÖ• &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; 3„ÄÅÁõ∏ÂÖ≥ÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆ #=========redisÂü∫Á°ÄÈÖçÁΩÆ========= spring.redis.database=0 spring.redis.host=127.0.0.1 spring.redis.port=6390 # ËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥ Âçï‰Ωç msÔºàÊØ´ÁßíÔºâ spring.redis.timeout=3000 #=========redisÁ∫øÁ®ãÊ±†ËÆæÁΩÆ========= # ËøûÊé•Ê±†‰∏≠ÁöÑÊúÄÂ§ßÁ©∫Èó≤ËøûÊé•ÔºåÈªòËÆ§ÂÄº‰πüÊòØ8„ÄÇ spring.redis.pool.max-idle=200 #ËøûÊé•Ê±†‰∏≠ÁöÑÊúÄÂ∞èÁ©∫Èó≤ËøûÊé•ÔºåÈªòËÆ§ÂÄº‰πüÊòØ0„ÄÇ spring.redis.pool.min-idle=200 # Â¶ÇÊûúËµãÂÄº‰∏∫-1ÔºåÂàôË°®Á§∫‰∏çÈôêÂà∂ÔºõpoolÂ∑≤ÁªèÂàÜÈÖç‰∫ÜmaxActive‰∏™jedisÂÆû‰æãÔºåÂàôÊ≠§Êó∂poolÁöÑÁä∂ÊÄÅ‰∏∫exhausted(ËÄóÂ∞Ω)„ÄÇ spring.redis.pool.max-active=2000 # Á≠âÂæÖÂèØÁî®ËøûÊé•ÁöÑÊúÄÂ§ßÊó∂Èó¥ÔºåÂçï‰ΩçÊØ´ÁßíÔºåÈªòËÆ§ÂÄº‰∏∫-1ÔºåË°®Á§∫Ê∞∏‰∏çË∂ÖÊó∂ spring.redis.pool.max-wait=1000 4„ÄÅÂ∏∏ËßÅredistemplateÁßçÁ±ªËÆ≤Ëß£ÂíåÁºìÂ≠òÂÆûÊìç(‰ΩøÁî®Ëá™Âä®Ê≥®ÂÖ•) 1„ÄÅÊ≥®ÂÖ•Ê®°Êùø @Autowired private StirngRedisTemplate strTplRedis 2„ÄÅÁ±ªÂûãStringÔºåList,Hash,Set,ZSet ÂØπÂ∫îÁöÑÊñπÊ≥ïÂàÜÂà´ÊòØopsForValue()„ÄÅopsForList()„ÄÅopsForHash()„ÄÅopsForSet()„ÄÅopsForZSet() 4„ÄÅRedisÂ∑•ÂÖ∑Á±ªÂ∞ÅË£ÖËÆ≤Ëß£ÂíåÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöÈ´òÊïàÂºÄÂèëÊñπÂºè RedisÂ∑•ÂÖ∑Á±ªÂ∞ÅË£ÖËÆ≤Ëß£ÂíåÂÆûÊàò‚Äã 1„ÄÅÂ∏∏Áî®ÂÆ¢Êà∑Á´Ø https://redisdesktop.com/download‚Äã 2„ÄÅÂ∞ÅË£ÖredisÂ∑•ÂÖ∑Á±ªÂπ∂Êìç‰Ωú 10 SpringBootÊï¥ÂêàÂÆöÊó∂‰ªªÂä°ÂíåÂºÇÊ≠•‰ªªÂä°Â§ÑÁêÜ 3ËäÇËØæÂä†ÂÖ•Â∞èDËØæÂ†ÇÊäÄÊúØ‰∫§ÊµÅÁ≠îÁñëÁæ§ÔºöQÁæ§Ôºö699347262 1„ÄÅSpringBootÂÆöÊó∂‰ªªÂä°scheduleËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ªÄ‰πàÊòØÂÆöÊó∂‰ªªÂä°ÂíåÂ∏∏ËßÅÂÆöÊó∂‰ªªÂä°Âå∫Âà´ 1„ÄÅÂ∏∏ËßÅÂÆöÊó∂‰ªªÂä° JavaËá™Â∏¶ÁöÑjava.util.TimerÁ±ª timer:ÈÖçÁΩÆÊØîËæÉÈ∫ªÁÉ¶ÔºåÊó∂Èó¥Âª∂ÂêéÈóÆÈ¢ò timertask:‰∏çÊé®Ëçê 2„ÄÅQuartzÊ°ÜÊû∂ ÈÖçÁΩÆÊõ¥ÁÆÄÂçï xmlÊàñËÄÖÊ≥®Ëß£ 3„ÄÅSpringBoot‰ΩøÁî®Ê≥®Ëß£ÊñπÂºèÂºÄÂêØÂÆöÊó∂‰ªªÂä° 1ÔºâÂêØÂä®Á±ªÈáåÈù¢ @EnableSchedulingÂºÄÂêØÂÆöÊó∂‰ªªÂä°ÔºåËá™Âä®Êâ´Êèè 2ÔºâÂÆöÊó∂‰ªªÂä°‰∏öÂä°Á±ª Âä†Ê≥®Ëß£ @ComponentË¢´ÂÆπÂô®Êâ´Êèè 3ÔºâÂÆöÊó∂ÊâßË°åÁöÑÊñπÊ≥ïÂä†‰∏äÊ≥®Ëß£ @Scheduled(fixedRate=2000) ÂÆöÊúüÊâßË°å‰∏ÄÊ¨° 2„ÄÅSpringBootÂ∏∏Áî®ÂÆöÊó∂‰ªªÂä°ÈÖçÁΩÆÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöSpringBootÂ∏∏Áî®ÂÆöÊó∂‰ªªÂä°Ë°®ËææÂºèÈÖçÁΩÆÂíåÂú®Á∫øÁîüÊàêÂô® 1„ÄÅcron ÂÆöÊó∂‰ªªÂä°Ë°®ËææÂºè @Scheduled(cron=&quot;*/1 * * * * *&quot;) Ë°®Á§∫ÊØèÁßí 1Ôºâcrontab Â∑•ÂÖ∑ https://tool.lu/crontab/ 2„ÄÅfixedRate: ÂÆöÊó∂Â§ö‰πÖÊâßË°å‰∏ÄÊ¨°Ôºà‰∏ä‰∏ÄÊ¨°ÂºÄÂßãÊâßË°åÊó∂Èó¥ÁÇπÂêéxxÁßíÂÜçÊ¨°ÊâßË°åÔºõÔºâ 3„ÄÅfixedDelay: ‰∏ä‰∏ÄÊ¨°ÊâßË°åÁªìÊùüÊó∂Èó¥ÁÇπÂêéxxÁßíÂÜçÊ¨°ÊâßË°å 4„ÄÅfixedDelayString: Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÔºåÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÊñá‰ª∂ÊåáÂÆö 3„ÄÅSpringBoot2.xÂºÇÊ≠•‰ªªÂä°ÂÆûÊàòÔºàÊ†∏ÂøÉÁü•ËØÜÔºâ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ªÄ‰πàÊòØÂºÇÊ≠•‰ªªÂä°ÔºåÂíå‰ΩøÁî®SpringBoot2.xÂºÄÂèëÂºÇÊ≠•‰ªªÂä°ÂÆûÊàò‚Äã 1„ÄÅ‰ªÄ‰πàÊòØÂºÇÊ≠•‰ªªÂä°Âíå‰ΩøÁî®Âú∫ÊôØÔºöÈÄÇÁî®‰∫éÂ§ÑÁêÜlog„ÄÅÂèëÈÄÅÈÇÆ‰ª∂„ÄÅÁü≠‰ø°‚Ä¶‚Ä¶Á≠â‚Äã ‰∏ãÂçïÊé•Âè£-&gt;Êü•Â∫ìÂ≠ò 100‚Äã ‰ΩôÈ¢ùÊ†°È™å 150‚Äã È£éÊéßÁî®Êà∑100‚Äã ‚Ä¶. 2„ÄÅÂêØÂä®Á±ªÈáåÈù¢‰ΩøÁî®@EnableAsyncÊ≥®Ëß£ÂºÄÂêØÂäüËÉΩÔºåËá™Âä®Êâ´Êèè 3„ÄÅÂÆö‰πâÂºÇÊ≠•‰ªªÂä°Á±ªÂπ∂‰ΩøÁî®@ComponentÊ†áËÆ∞ÁªÑ‰ª∂Ë¢´ÂÆπÂô®Êâ´Êèè,ÂºÇÊ≠•ÊñπÊ≥ïÂä†‰∏ä@Async Ê≥®ÊÑèÁÇπÔºö 1ÔºâË¶ÅÊääÂºÇÊ≠•‰ªªÂä°Â∞ÅË£ÖÂà∞Á±ªÈáåÈù¢Ôºå‰∏çËÉΩÁõ¥Êé•ÂÜôÂà∞Controller 2ÔºâÂ¢ûÂä†Future&lt;String&gt; ËøîÂõûÁªìÊûú AsyncResult&lt;String&gt;(&quot;taskÊâßË°åÂÆåÊàê&quot;); 3ÔºâÂ¶ÇÊûúÈúÄË¶ÅÊãøÂà∞ÁªìÊûú ÈúÄË¶ÅÂà§Êñ≠ÂÖ®ÈÉ®ÁöÑ task.isDone() 4„ÄÅÈÄöËøáÊ≥®ÂÖ•ÊñπÂºèÔºåÊ≥®ÂÖ•Âà∞controllerÈáåÈù¢ÔºåÂ¶ÇÊûúÊµãËØïÂâçÂêéÂå∫Âà´ÂàôÊîπ‰∏∫ÂêåÊ≠•ÂàôÊääAsyncÊ≥®ÈáäÊéâ 11 LogbackÊó•ÂøóÊ°ÜÊû∂‰ªãÁªçÂíåSpringBootÊï¥ÂêàÂÆûÊàò 2ËäÇËØæÂä†ÂÖ•Â∞èDËØæÂ†ÇÊäÄÊúØ‰∫§ÊµÅÁ≠îÁñëÁæ§ÔºöQÁæ§Ôºö699347262 1„ÄÅÊñ∞Êó•ÂøóÊ°ÜÊû∂LogBack‰ªãÁªç‚Äã ÁÆÄ‰ªãÔºöÊó•Âøó‰ªãÁªçÂíåÊñ∞Êó•ÂøóÊ°ÜÊû∂LogbackËÆ≤Ëß£ 1.Â∏∏Áî®Â§ÑÁêÜjavaÁöÑÊó•ÂøóÁªÑ‰ª∂ slf4j,log4j,logback,common-logging Á≠â 2„ÄÅlogback‰ªãÁªçÔºöÂü∫‰∫éLog4jÂü∫Á°Ä‰∏äÂ§ßÈáèÊîπËâØÔºå‰∏çËÉΩÂçïÁã¨‰ΩøÁî®ÔºåÊé®ËçêÈÖçÂêàÊó•ÂøóÊ°ÜÊû∂SLF4JÊù•‰ΩøÁî® logbackÂΩìÂâçÂàÜÊàê‰∏â‰∏™Ê®°ÂùóÔºölogback-core,logback-classicÂíålogback-access; logback-coreÊòØÂÖ∂ÂÆÉ‰∏§‰∏™Ê®°ÂùóÁöÑÂü∫Á°ÄÊ®°Âùó 3„ÄÅLogbackÁöÑÊ†∏ÂøÉÂØπË±°Ôºö LoggerÔºöÊó•ÂøóËÆ∞ÂΩïÂô® AppenderÔºöÊåáÂÆöÊó•ÂøóËæìÂá∫ÁöÑÁõÆÁöÑÂú∞ÔºåÁõÆÁöÑÂú∞ÂèØ‰ª•ÊòØÊéßÂà∂Âè∞ÔºåÊñá‰ª∂ LayoutÔºöÊó•ÂøóÂ∏ÉÂ±Ä Ê†ºÂºèÂåñÊó•Âøó‰ø°ÊÅØÁöÑËæìÂá∫ ‚Äã‚Äã 4„ÄÅÊó•ÂøóÁ∫ßÂà´ÔºöDEBUG &lt; INFO &lt; WARN &lt; ERROR‚Äã‚Äã ===========log4jÁ§∫‰æã===========‚Äã ### ËÆæÁΩÆ###‚Äã log4j.rootLogger = debug,stdout,D,E‚Äã‚Äã ### ËæìÂá∫‰ø°ÊÅØÂà∞ÊéßÂà∂Êä¨ ###‚Äã log4j.appender.stdout = org.apache.log4j.ConsoleAppender‚Äã log4j.appender.stdout.Target = System.out‚Äã log4j.appender.stdout.layout = org.apache.log4j.PatternLayout‚Äã log4j.appender.stdout.layout.ConversionPattern = [%-5p] %d{yyyy-MM-dd HH:mm:ss,SSS} method:%l%n%m%n‚Äã‚Äã ### ËæìÂá∫DEBUG Á∫ßÂà´‰ª•‰∏äÁöÑÊó•ÂøóÂà∞=D://logs/error.log ###‚Äã log4j.appender.D = org.apache.log4j.DailyRollingFileAppender‚Äã log4j.appender.D.File = D://logs/log.log‚Äã log4j.appender.D.Append = true‚Äã log4j.appender.D.Threshold = DEBUG‚Äã log4j.appender.D.layout = org.apache.log4j.PatternLayout‚Äã log4j.appender.D.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss} [ %t:%r ] - [ %p ] %m%n‚Äã ### ËæìÂá∫ERROR Á∫ßÂà´‰ª•‰∏äÁöÑÊó•ÂøóÂà∞=D://logs/error.log ### log4j.appender.E = org.apache.log4j.DailyRollingFileAppender log4j.appender.E.File =E://logs/error.log log4j.appender.E.Append = true log4j.appender.E.Threshold = ERROR log4j.appender.E.layout = org.apache.log4j.PatternLayout log4j.appender.E.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss} [ %t:%r ] - [ %p ] %m%n ===========logback============ 4„ÄÅLog4jÊó•ÂøóËΩ¨Êç¢‰∏∫logbackÂú®Á∫øÂ∑•ÂÖ∑ÔºàÊîØÊåÅlog4j.propertiesËΩ¨Êç¢‰∏∫logback.xml,‰∏çÊîØÊåÅ log4j.xmlËΩ¨Êç¢‰∏∫logback.xmlÔºâ https://logback.qos.ch/translator/ 2„ÄÅSpringBoot2.xÊó•ÂøóËÆ≤Ëß£ÂíåËá™ÂÆö‰πâLogbackÈÖçÁΩÆÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBoot2.xÊï¥ÂêàLogbackÈÖçÁΩÆÂÆûÊàò 1„ÄÅÂÆòÁΩë‰ªãÁªçÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-logging ÂêÑ‰∏™ÁªÑ‰ª∂Ê°à‰æãÔºöhttps://logback.qos.ch/manual/index.html 2„ÄÅÂàÜÊûêSpringBootÂêØÂä®Êó•Âøó 1ÔºâÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåSpring BootÂ∞ÜÊó•ÂøóËæìÂá∫Âà∞ÊéßÂà∂Âè∞ 3„ÄÅÊï¥ÂêàLogbackÂÆûÊàò 1ÔºâÂàõÂª∫ Êó•ÂøóÊñá‰ª∂logback-spring.xmlÔºåÂÆòÊñπÊé®Ëçê -spring.xmlÁªìÂ∞æ ÈªòËÆ§Âä†ËΩΩÂä†ËΩΩÈÖçÁΩÆÈ°∫Â∫è logback-spring.xml, logback-spring.groovy, logback.xml, or logback.groovy Ê≥®ÈáäÔºö &lt;configuration&gt; Â≠êËäÇÁÇπ &lt;appender&gt;&lt;/appender&gt; &lt;logger&gt;&lt;/logger&gt; &lt;root&gt;&lt;/root&gt;(Ë¶ÅÂä†Âú®ÊúÄÂêé) 12Á´† ÊêúÁ¥¢Ê°ÜÊû∂ElasticSearch‰ªãÁªçÂíåÊï¥ÂêàSpringBoot 4ËäÇËØæ1„ÄÅÊêúÁ¥¢ÂºïÊìéÁü•ËØÜÂíåÊêúÁ¥¢Ê°ÜÊû∂elasticsearchÂü∫Êú¨‰ªãÁªç‚Äã ÁÆÄ‰ªãÔºöÈÄöËøá‰∫¨‰∏úÁîµÂïÜ ‰ªãÁªç‰ªÄ‰πàÊòØÊêúÁ¥¢ÂºïÊìéÔºåÂíåÂºÄÊ∫êÊêúÁ¥¢Ê°ÜÊû∂ElasticSearch6.xÊñ∞ÁâπÊÄß‰ªãÁªç ÂâçË®ÄÔºö‰ªãÁªçESÁöÑ‰∏ªË¶ÅÁâπÁÇπÂíå‰ΩøÁî®Âú∫ÊôØÔºåÊñ∞ÁâπÊÄßËÆ≤Ëß£ mysqlÔºölike Ê®°Á≥äÔºåÊÄßËÉΩÈóÆÈ¢ò, solr:ÈíàÂØπ‰ºÅ‰∏öÔºåLucene elasticsearchÔºöÈíàÂØπÊï∞ÊçÆÈáèÁâπÂà´Â§ßÔºåPB,TB Á∫ØjavaÂºÄÂèëÔºåspringboot‰ΩøÁî®Ôºå5.6ÁâàÊú¨ esÂçáÁ∫ß4-&gt;5ÁâàÊú¨ÔºåÊîπÂä®Â§ßÔºå‰ΩÜÊòØ5ÁâàÊú¨ÂêéÔºåÊîπÂä®‰∏çÂ§ß elasticSearch‰∏ªË¶ÅÁâπÁÇπ 1„ÄÅÁâπÁÇπÔºöÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÁªìÊûÑÂåñÊ£ÄÁ¥¢ÔºåÊï∞ÊçÆÁªüËÆ°„ÄÅÂàÜÊûêÔºåÊé•ËøëÂÆûÊó∂Â§ÑÁêÜÔºåÂàÜÂ∏ÉÂºèÊêúÁ¥¢(ÂèØÈÉ®ÁΩ≤Êï∞ÁôæÂè∞ÊúçÂä°Âô®)ÔºåÂ§ÑÁêÜPBÁ∫ßÂà´ÁöÑÊï∞ÊçÆ ÊêúÁ¥¢Á∫†ÈîôÔºåËá™Âä®ÂÆåÊàê 2„ÄÅ‰ΩøÁî®Âú∫ÊôØÔºöÊó•ÂøóÊêúÁ¥¢ÔºåÊï∞ÊçÆËÅöÂêàÔºåÊï∞ÊçÆÁõëÊéßÔºåÊä•Ë°®ÁªüËÆ°ÂàÜÊûê 3„ÄÅÂõΩÂÜÖÂ§ñ‰ΩøÁî®ËÄÖÔºöÁª¥Âü∫ÁôæÁßëÔºåStack OverflowÔºåGitHub Êñ∞ÁâπÊÄßËÆ≤Ëß£ 1„ÄÅ6.2.xÁâàÊú¨Âü∫‰∫éLucene 7.xÔºåÊõ¥Âø´ÔºåÊÄßËÉΩËøõ‰∏ÄÊ≠•ÊèêÂçá,ÂØπÂ∫îÁöÑÂ∫èÂàóÂåñÁªÑ‰ª∂ÔºåÂçáÁ∫ßÂà∞Jackson 2.8 mysqlÔºödatabase table rocord es : index typeÔºàÂè™ËÉΩÂ≠òÂú®‰∏Ä‰∏™) document 2„ÄÅÊé®Ëçê‰ΩøÁî®5.0ÁâàÊú¨Êé®Âá∫ÁöÑJava REST/HTTPÂÆ¢Êà∑Á´ØÔºå‰æùËµñÂ∞ëÔºåÊØîTransport‰ΩøÁî®Êõ¥Êñπ‰æøÔºåÂú®Âü∫ÂáÜÊµãËØï‰∏≠ÔºåÊÄßËÉΩÂπ∂‰∏çËæì‰∫éTransportÂÆ¢Êà∑Á´ØÔºå Âú®5.0Âà∞6.0ÁâàÊú¨‰∏≠ÔºåÊØèÊ¨°ÊúâÂØπÂ∫îÁöÑAPIÊõ¥Êñ∞, ÊñáÊ°£‰∏≠‰πüËØ¥ÊòéÔºåÊé®Ëçê‰ΩøÁî®ËøôÁßçÊñπÂºèËøõË°åÂºÄÂèë‰ΩøÁî®,ÊâÄÊúâÂèØÁî®ËäÇÁÇπÈó¥ÁöÑË¥üËΩΩÂùáË°° Âú®ËäÇÁÇπÊïÖÈöúÂíåÁâπÂÆöÂìçÂ∫î‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãËøõË°åÊïÖÈöúËΩ¨Áßª,Â§±Ë¥•ÁöÑËøûÊé•Â§ÑÁΩöÔºàÂ§±Ë¥•ÁöÑËäÇÁÇπÊòØÂê¶ÈáçËØïÂèñÂÜ≥‰∫éÂ§±Ë¥•ÁöÑËøûÁª≠Ê¨°Êï∞;Â§±Ë¥•ÁöÑÂ§±Ë¥•Ê¨°Êï∞Ë∂äÂ§öÔºåÂÆ¢Êà∑Á´ØÂú®ÂÜçÊ¨°Â∞ùËØïÂêå‰∏ÄËäÇÁÇπ‰πãÂâçÁ≠âÂæÖÁöÑÊó∂Èó¥Ë∂äÈïøÔºâ 3„ÄÅ(ÈáçË¶Å)‰∏çÂÜçÊîØÊåÅ‰∏Ä‰∏™Á¥¢ÂºïÂ∫ìÈáåÈù¢Â§ö‰∏™typeÔºå6.xÁâàÊú¨Â∑≤ÁªèÁ¶ÅÊ≠¢‰∏Ä‰∏™indexÈáåÈù¢Â§ö‰∏™typeÔºåÊâÄ‰ª•‰∏Ä‰∏™indexÁ¥¢ÂºïÂ∫ìÂè™ËÉΩÂ≠òÂú®1‰∏™type ÂÆòÊñπÊñáÊ°£Ôºö 1„ÄÅ6.0Êõ¥Êñ∞ÁâπÊÄß https://www.elastic.co/guide/en/elasticsearch/reference/6.0/release-notes-6.0.0.html#breaking-java-6.0.0 2„ÄÅ6.1Êõ¥Êñ∞ÁâπÊÄß https://www.elastic.co/guide/en/elasticsearch/reference/6.1/release-notes-6.1.0.html 2„ÄÅÂø´ÁÜüÈÉ®ÁΩ≤ElastcSearch5.6.x‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰∏∫‰ªÄ‰πà‰∏çÁî®ES6.xÁâàÊú¨ÔºåÂèäÊú¨Âú∞Âø´ÈÄüÂÆâË£ÖElasticSeachÂíåÂú∫ÊôØÈóÆÈ¢òÂ§ÑÁêÜ‚Äã‚Äã ÈÖçÁΩÆJDK1.8‚Äã ‰ΩøÁî®wget ‰∏ãËΩΩelasticsearchÂÆâË£ÖÂåÖ‚Äã wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.8.tar.gz‚Äã Ëß£Âéã‚Äã tar -zxvf elasticsearch-5.6.8.tar.gz‚Äã ÂÆòÁΩëÔºöhttps://www.elastic.co/products/elasticsearch‚Äã‚Äã Â§ñÁΩëËÆøÈóÆÈÖçÁΩÆÔºö‚Äã configÁõÆÂΩï‰∏ãÈù¢elasticsearch.yml‚Äã ‰øÆÊîπ‰∏∫ network.host: 0.0.0.0 ÈÖçÁΩÆesÂá∫Áé∞Áõ∏ÂÖ≥ÈóÆÈ¢òÂ§ÑÁêÜÔºàÈòøÈáå‰∫ë„ÄÅËÖæËÆØ‰∫ëÔºå‰∫öÈ©¨ÈÄä‰∫ëÂÆâË£ÖÈóÆÈ¢òÈõÜÂêàÔºâÔºö 1„ÄÅÈóÆÈ¢ò‰∏Ä Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5330000, 986513408, 0) failed; error=&apos;Cannot allocate memory&apos; (errno=12) # # There is insufficient memory for the Java Runtime Environment to continue. # Native memory allocation (mmap) failed to map 986513408 bytes for committing reserved memory. # An error report file with more information is saved as: # /usr/local/software/temp/elasticsearch-6.2.2/hs_err_pid1912.log Ëß£ÂÜ≥ÔºöÂÜÖÂ≠ò‰∏çÂ§üÔºåË¥≠‰π∞ÈòøÈáå‰∫ëÁöÑÊú∫Âô®ÂèØ‰ª•Âä®ÊÄÅÂ¢ûÂä†ÂÜÖÂ≠ò 2„ÄÅÈóÆÈ¢ò‰∫å [root@iZwz95j86y235aroi85ht0Z bin]# ./elasticsearch [2018-02-22T20:14:04,870][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main] org.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:125) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-6.2.2.jar:6.2.2] Ëß£ÂÜ≥ÔºöÁî®ÈùûrootÁî®Êà∑ Ê∑ªÂä†Áî®Êà∑Ôºöuseradd -m Áî®Êà∑Âêç ÁÑ∂ÂêéËÆæÁΩÆÂØÜÁ†Å passwd Áî®Êà∑Âêç 3„ÄÅÈóÆÈ¢ò‰∏â ./elasticsearch Exception in thread &quot;main&quot; java.nio.file.AccessDeniedException: /usr/local/software/temp/elasticsearch-6.2.2/config/jvm.options Ëß£ÂÜ≥ÔºöÊùÉÈôê‰∏çÂ§ü chmod 777 -R ÂΩìÂâçesÁõÆÂΩï Â∏∏ËßÅÈÖçÁΩÆÈóÆÈ¢òËµÑÊñôÔºöhttps://www.jianshu.com/p/c5d6ec0f35e0 3„ÄÅElasticSearch5.6.8ÊµãËØïÊï∞ÊçÆÂáÜÂ§á‚Äã ÁÆÄ‰ªã: ElasticSearch5.6.xÁÆÄÂçïÊµãËØï‚Äã 1„ÄÅÊ≠•È™§ https://www.elastic.co/guide/en/elasticsearch/reference/5.6/index.html‚Äã 2„ÄÅ‰ΩøÁî®POSTMAN Â∑•ÂÖ∑ Âü∫Á°Ä Êü•ÁúãÈõÜÁæ§Áä∂ÊÄÅÔºölocalhost:9200/_cat/health?v Êü•ÁúãÁ¥¢ÂºïÂàóË°®Ôºölocalhost:9200/_cat/indices?v 4„ÄÅSpringBoot2.xÊï¥Âêàelasticsearch5.6.x‚Äã ÁÆÄ‰ªãÔºöSpringBoot2.xÊï¥ÂêàelasticSearch5.6.8ÂÆûÊàò Spring Data ElasticsearchÊñáÊ°£Âú∞ÂùÄ https://docs.spring.io/spring-data/elasticsearch/docs/3.0.6.RELEASE/reference/html/ ÁâàÊú¨ËØ¥ÊòéÔºöSpringBootÊï¥Âêàelasticsearch https://github.com/spring-projects/spring-data-elasticsearch/wiki/Spring-Data-Elasticsearch---Spring-Boot---version-matrix 1„ÄÅÊ∑ªÂä†maven‰æùËµñ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅÊé•Âè£ÁªßÊâøElasticSearchRepository,ÈáåÈù¢ÊúâÂæàÂ§öÈªòËÆ§ÂÆûÁé∞ Ê≥®ÊÑèÁÇπÔºö Á¥¢ÂºïÂêçÁß∞ËÆ∞ÂæóÂ∞èÂÜôÔºåÁ±ªÂ±ûÊÄßÂêçÁß∞‰πüË¶ÅÂ∞èÂÜô Êñ∞Âª∫ÂÆû‰ΩìÂØπË±°article Âä†‰∏äÁ±ªÊ≥®Ëß£ @Document(indexName = &quot;blog&quot;, type = &quot;article&quot;) 3„ÄÅÈÖçÁΩÆÊñá‰ª∂ÔºöELASTICSEARCH (ElasticsearchProperties) ‚Äã spring.data.elasticsearch.cluster-name=elasticsearch # Elasticsearch cluster name.‚Äã spring.data.elasticsearch.cluster-nodes=localhost:9300 # Comma-separated list of cluster node addresses.‚Äã spring.data.elasticsearch.repositories.enabled=true # Whether to enable Elasticsearch repositories.‚Äã‚Äã 4„ÄÅQueryBuilder‰ΩøÁî®‚Äã https://www.elastic.co/guide/en/elasticsearch/client/java-api/1.3/query-dsl-queries.html‚Äã //Âçï‰∏™ÂåπÈÖçÔºåÊêúÁ¥¢name‰∏∫jackÁöÑÊñáÊ°£ QueryBuilder queryBuilder = QueryBuilders.matchQuery(‚Äútitle‚Äù, ‚ÄúÊêú‚Äù); 4„ÄÅÊü•ÁúãesÊï∞ÊçÆ Êü•ÁúãÁ¥¢Âºï‰ø°ÊÅØÔºöhttp://localhost:9200/_cat/indices?v Êü•ÁúãÊüê‰∏™Á¥¢ÂºïÂ∫ìÁªìÊûÑÔºöhttp://localhost:9200/blog Êü•ÁúãÊüê‰∏™ÂØπË±°Ôºöhttp://localhost:9200/blog/article/1 13 Ê∂àÊÅØÈòüÂàó‰ªãÁªçÂíåSpringBoot2.xÊï¥ÂêàRockketMQ„ÄÅActiveMQ 9ËäÇËØæÂä†ÂÖ•Â∞èDËØæÂ†ÇÊäÄÊúØ‰∫§ÊµÅÁ≠îÁñëÁæ§ÔºöQÁæ§Ôºö699347262 1„ÄÅJMS‰ªãÁªçÂíå‰ΩøÁî®Âú∫ÊôØÂèäÂü∫Á°ÄÁºñÁ®ãÊ®°Âûã‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ªÄ‰πàÊòØÂ∞èÂÜôÈòüÂàóÔºåJMSÁöÑÂü∫Á°ÄÁü•ËØÜÂíå‰ΩøÁî®Âú∫ÊôØ‚Äã 1„ÄÅ‰ªÄ‰πàÊòØJMS: JavaÊ∂àÊÅØÊúçÂä°ÔºàJava Message Service),JavaÂπ≥Âè∞‰∏≠ÂÖ≥‰∫éÈù¢ÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑÊé•Âè£ 2„ÄÅJMSÊòØ‰∏ÄÁßç‰∏éÂéÇÂïÜÊó†ÂÖ≥ÁöÑ APIÔºåÁî®Êù•ËÆøÈóÆÊ∂àÊÅØÊî∂ÂèëÁ≥ªÁªüÊ∂àÊÅØÔºåÂÆÉÁ±ª‰ºº‰∫éJDBC(Java Database Connectivity)„ÄÇËøôÈáåÔºåJDBC ÊòØÂèØ‰ª•Áî®Êù•ËÆøÈóÆËÆ∏Â§ö‰∏çÂêåÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁöÑ API 3„ÄÅ‰ΩøÁî®Âú∫ÊôØÔºö 1ÔºâË∑®Âπ≥Âè∞ 2ÔºâÂ§öËØ≠Ë®Ä 3ÔºâÂ§öÈ°πÁõÆ 4ÔºâËß£ËÄ¶ 5ÔºâÂàÜÂ∏ÉÂºè‰∫ãÂä° 6ÔºâÊµÅÈáèÊéßÂà∂ 7ÔºâÊúÄÁªà‰∏ÄËá¥ÊÄß 8ÔºâRPCË∞ÉÁî® ‰∏ä‰∏ãÊ∏∏ÂØπÊé•ÔºåÊï∞ÊçÆÊ∫êÂèòÂä®-&gt;ÈÄöÁü•‰∏ãÂ±û 4„ÄÅÊ¶ÇÂøµ JMSÊèê‰æõËÄÖÔºöApache ActiveMQ„ÄÅRabbitMQ„ÄÅKafka„ÄÅNotify„ÄÅMetaQ„ÄÅRocketMQ JMSÁîü‰∫ßËÄÖ(Message Producer) JMSÊ∂àË¥πËÄÖ(Message Consumer) JMSÊ∂àÊÅØ JMSÈòüÂàó JMS‰∏ªÈ¢ò JMSÊ∂àÊÅØÈÄöÂ∏∏Êúâ‰∏§ÁßçÁ±ªÂûãÔºöÁÇπÂØπÁÇπÔºàPoint-to-Point)„ÄÅÂèëÂ∏É/ËÆ¢ÈòÖÔºàPublish/SubscribeÔºâ 5„ÄÅÁºñÁ®ãÊ®°Âûã MQ‰∏≠ÈúÄË¶ÅÁî®ÁöÑ‰∏Ä‰∫õÁ±ª ConnectionFactory ÔºöËøûÊé•Â∑•ÂéÇÔºåJMS Áî®ÂÆÉÂàõÂª∫ËøûÊé• Connection ÔºöJMS ÂÆ¢Êà∑Á´ØÂà∞JMS Provider ÁöÑËøûÊé• SessionÔºö ‰∏Ä‰∏™ÂèëÈÄÅÊàñÊé•Êî∂Ê∂àÊÅØÁöÑÁ∫øÁ®ã Destination ÔºöÊ∂àÊÅØÁöÑÁõÆÁöÑÂú∞;Ê∂àÊÅØÂèëÈÄÅÁªôË∞Å. MessageConsumer / MessageProducerÔºö Ê∂àÊÅØÊé•Êî∂ËÄÖÔºåÊ∂àË¥πËÄÖ 2„ÄÅActiveMQ5.xÊ∂àÊÅØÈòüÂàóÂü∫Á°Ä‰ªãÁªçÂíåÂÆâË£Ö‚Äã‚Äã ÁÆÄ‰ªãÔºö‰ªãÁªçActiveMQ5.xÊ∂àÊÅØÈòüÂàóÂü∫Á°ÄÁâπÊÄßÂíåÊú¨Âú∞Âø´ÈÄüÂÆâË£Ö‚Äã ÁâπÁÇπÔºö‚Äã 1ÔºâÊîØÊåÅÊù•Ëá™JavaÔºåCÔºåC ++ÔºåCÔºÉÔºåRubyÔºåPerlÔºåPythonÔºåPHPÁöÑÂêÑÁßçË∑®ËØ≠Ë®ÄÂÆ¢Êà∑Á´ØÂíåÂçèËÆÆ‚Äã 2ÔºâÊîØÊåÅËÆ∏Â§öÈ´òÁ∫ßÂäüËÉΩÔºåÂ¶ÇÊ∂àÊÅØÁªÑÔºåËôöÊãüÁõÆÊ†áÔºåÈÄöÈÖçÁ¨¶ÂíåÂ§çÂêàÁõÆÊ†á‚Äã 3) ÂÆåÂÖ®ÊîØÊåÅJMS 1.1ÂíåJ2EE 1.4ÔºåÊîØÊåÅÁû¨ÊÄÅÔºåÊåÅ‰πÖÔºå‰∫ãÂä°ÂíåXAÊ∂àÊÅØ‚Äã 4) SpringÊîØÊåÅÔºåActiveMQÂèØ‰ª•ËΩªÊùæÂµåÂÖ•Âà∞SpringÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÂπ∂‰ΩøÁî®SpringÁöÑXMLÈÖçÁΩÆÊú∫Âà∂ËøõË°åÈÖçÁΩÆ‚Äã 5) ÊîØÊåÅÂú®ÊµÅË°åÁöÑJ2EEÊúçÂä°Âô®ÔºàÂ¶ÇTomEEÔºåGeronimoÔºåJBossÔºåGlassFishÂíåWebLogicÔºâ‰∏≠ËøõË°åÊµãËØï‚Äã 6) ‰ΩøÁî®JDBCÂíåÈ´òÊÄßËÉΩÊó•ÂøóÊîØÊåÅÈùûÂ∏∏Âø´ÈÄüÁöÑÊåÅ‰πÖÂåñ‚Äã ‚Ä¶‚Äã‚Äã 1„ÄÅ‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://activemq.apache.org/activemq-5153-release.html‚Äã 2„ÄÅÂø´ÈÄüÂºÄÂßãÔºöhttp://activemq.apache.org/getting-started.html‚Äã 3„ÄÅÂ¶ÇÊûúÊàë‰ª¨ÊòØ32‰ΩçÁöÑÊú∫Âô®ÔºåÂ∞±ÂèåÂáªwin32ÁõÆÂΩï‰∏ãÁöÑactivemq.bat,Â¶ÇÊûúÊòØ64‰ΩçÊú∫Âô®ÔºåÂàôÂèåÂáªwin64ÁõÆÂΩï‰∏ãÁöÑactivemq.bat‚Äã 4„ÄÅbinÁõÆÂΩïÈáåÈù¢ÂêØÂä® ÈÄâÊã©ÂØπÂ∫îÁöÑÁ≥ªÁªüÁâàÊú¨Âíå‰ΩçÊï∞ÔºåactiveMQ start ÂêØÂä®‚Äã 5„ÄÅÂêØÂä®ÂêéËÆøÈóÆË∑ØÂæÑhttp://127.0.0.1:8161/‚Äã‚Äã 6„ÄÅÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÈªòËÆ§ÈÉΩÊòØadmin‚Äã 7„ÄÅÂÆòÊñπÊ°à‰æãÈõÜÂêà‚Äã https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples‚Äã Èù¢ÊùøÔºö‚Äã NameÔºöÈòüÂàóÂêçÁß∞„ÄÇ‚Äã Number Of Pending MessagesÔºöÁ≠âÂæÖÊ∂àË¥πÁöÑÊ∂àÊÅØ‰∏™Êï∞„ÄÇ‚Äã Number Of ConsumersÔºöÂΩìÂâçËøûÊé•ÁöÑÊ∂àË¥πËÄÖÊï∞ÁõÆ‚Äã Messages EnqueuedÔºöËøõÂÖ•ÈòüÂàóÁöÑÊ∂àÊÅØÊÄª‰∏™Êï∞ÔºåÂåÖÊã¨Âá∫ÈòüÂàóÁöÑÂíåÂæÖÊ∂àË¥πÁöÑÔºåËøô‰∏™Êï∞ÈáèÂè™Â¢û‰∏çÂáè„ÄÇ‚Äã Messages DequeuedÔºöÂ∑≤ÁªèÊ∂àË¥πÁöÑÊ∂àÊÅØÊï∞Èáè„ÄÇ 3„ÄÅSpringBoot2.xÊï¥ÂêàActiveMQÂÆûÊàò‰πãÁÇπÂØπÁÇπÊ∂àÊÅØ(p2p)‚Äã‚Äã ÁÆÄ‰ªã:SpringBoot2.xÊï¥ÂêàActiveMQÂÆûÊàò‰πãÁÇπÂØπÁÇπÊ∂àÊÅØ‚Äã‚Äã 1„ÄÅÂÆòÁΩëÂú∞ÂùÄÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-activemq‚Äã‚Äã 2„ÄÅÂä†ÂÖ•‰æùËµñ‚Äã ‚Äã ‚Äã org.springframework.boot‚Äã spring-boot-starter-activemq‚Äã ‚Äã org.apache.activemq activemq-pool 3„ÄÅapplication.propertiesÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆ #Êï¥ÂêàjmsÊµãËØïÔºåÂÆâË£ÖÂú®Âà´ÁöÑÊú∫Âô®ÔºåÈò≤ÁÅ´Â¢ôÂíåÁ´ØÂè£Âè∑ËÆ∞ÂæóÂºÄÊîæ spring.activemq.broker-url=tcp://127.0.0.1:61616 #ÈõÜÁæ§ÈÖçÁΩÆ #spring.activemq.broker-url=failover:(tcp://localhost:61616,tcp://localhost:61617) spring.activemq.user=admin spring.activemq.password=admin #‰∏ãÂàóÈÖçÁΩÆË¶ÅÂ¢ûÂä†‰æùËµñ spring.activemq.pool.enabled=true spring.activemq.pool.max-connections=100 4„ÄÅspringbootÂêØÂä®Á±ª @EnableJmsÔºåÂºÄÂêØÊîØÊåÅjms 5„ÄÅÊ®°ÊãüËØ∑Ê±Ç localhost:8080/api/v1/order?msg=12312321321312 6„ÄÅÊ∂àË¥πËÄÖÔºöÂÆûÊó∂ÁõëÂê¨ÂØπÂ∫îÁöÑÈòüÂàó @JmsListener(destination = &quot;order.queue&quot;) ‚Äã 4„ÄÅSpringBootÊï¥ÂêàActiveMQÂÆûÊàò‰πãÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè(pub/sub)‚Äã ÁÆÄ‰ªãÔºöSpringBootÊï¥ÂêàActiveMQÂÆûÊàò‰πãÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè(pub/sub),ÂèäÂêåÊó∂ÊîØÊåÅÁÇπÂØπÁÇπÂíåÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âûã 1„ÄÅÈúÄË¶ÅÂä†ÂÖ•ÈÖçÁΩÆÊñá‰ª∂ÔºåÊîØÊåÅÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂûãÔºåÈªòËÆ§Âè™ÊîØÊåÅÁÇπÂØπÁÇπ #default point to point spring.jms.pub-sub-domain=true Ê≥®ÊÑèÁÇπÔºö 1„ÄÅÈªòËÆ§Ê∂àË¥πËÄÖÂπ∂‰∏ç‰ºöÊ∂àË¥πËÆ¢ÈòÖÂèëÂ∏ÉÁ±ªÂûãÁöÑÊ∂àÊÅØÔºåËøôÊòØÁî±‰∫éspringbootÈªòËÆ§ÈááÁî®ÁöÑÊòØp2pÊ®°ÂºèËøõË°åÊ∂àÊÅØÁöÑÁõëÂê¨ ‰øÆÊîπÈÖçÁΩÆÔºöspring.jms.pub-sub-domain=true 2„ÄÅ@JmsListenerÂ¶ÇÊûú‰∏çÊåáÂÆöÁã¨Á´ãÁöÑcontainerFactoryÁöÑËØùÊòØÂè™ËÉΩÊ∂àË¥πqueueÊ∂àÊÅØ ‰øÆÊîπËÆ¢ÈòÖËÄÖcontainerÔºöcontainerFactory=&quot;jmsListenerContainerTopic&quot; //ÈúÄË¶ÅÁªôtopicÂÆö‰πâÁã¨Á´ãÁöÑJmsListenerContainer @Bean public JmsListenerContainerFactory&lt;?&gt; jmsListenerContainerTopic(ConnectionFactory activeMQConnectionFactory) { DefaultJmsListenerContainerFactory bean = new DefaultJmsListenerContainerFactory(); bean.setPubSubDomain(true); bean.setConnectionFactory(activeMQConnectionFactory); return bean; } Âú®ÈÖçÁΩÆÊñá‰ª∂ÈáåÈù¢ÔºåÊ≥®ÈáäÊéâ #spring.jms.pub-sub-domain=true 5„ÄÅRocketMQ4.xÊ∂àÊÅØÈòüÂàó‰ªãÁªç‚Äã ÁÆÄ‰ªãÔºöÈòøÈáåÂºÄÊ∫êÊ∂àÊÅØÈòüÂàó RocketMQ4.x‰ªãÁªçÂíåÊñ∞Ê¶ÇÂøµËÆ≤Ëß£ 1„ÄÅApache RocketMQ‰Ωú‰∏∫ÈòøÈáåÂºÄÊ∫êÁöÑ‰∏ÄÊ¨æÈ´òÊÄßËÉΩ„ÄÅÈ´òÂêûÂêêÈáèÁöÑÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ 2„ÄÅÁâπÁÇπ 1)Âú®È´òÂéã‰∏ã1ÊØ´ÁßíÂÜÖÂìçÂ∫îÂª∂ËøüË∂ÖËøá99.6ÔºÖ„ÄÇ 2)ÈÄÇÂêàÈáëËûçÁ±ª‰∏öÂä°ÔºåÈ´òÂèØÁî®ÊÄßË∑üË∏™ÂíåÂÆ°ËÆ°ÂäüËÉΩ„ÄÇ 3)ÊîØÊåÅÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂûãÔºåÂíåÁÇπÂØπÁÇπ 4ÔºâÊîØÊåÅÊãâpullÂíåÊé®push‰∏§ÁßçÊ∂àÊÅØÊ®°Âºè 5)Âçï‰∏ÄÈòüÂàóÁôæ‰∏áÊ∂àÊÅØ 6)ÊîØÊåÅÂçïmasterËäÇÁÇπÔºåÂ§ömasterËäÇÁÇπÔºåÂ§ömasterÂ§öslaveËäÇÁÇπ ... 3„ÄÅÊ¶ÇÂøµ Producer:Ê∂àÊÅØÁîü‰∫ßËÄÖ Producer Group:Ê∂àÊÅØÁîü‰∫ßËÄÖÁªÑÔºåÂèëÈÄÅÂêåÁ±ªÊ∂àÊÅØÁöÑ‰∏Ä‰∏™Ê∂àÊÅØÁîü‰∫ßÁªÑ Consumer:Ê∂àË¥πËÄÖ Consumer Group:Ê∂àË¥πÂêå‰∏™Ê∂àÊÅØÁöÑÂ§ö‰∏™ÂÆû‰æã Tag:Ê†áÁ≠æÔºåÂ≠ê‰∏ªÈ¢òÔºà‰∫åÁ∫ßÂàÜÁ±ªÔºâ,Áî®‰∫éÂå∫ÂàÜÂêå‰∏Ä‰∏™‰∏ªÈ¢ò‰∏ãÁöÑ‰∏çÂêå‰∏öÂä°ÁöÑÊ∂àÊÅØ Topic:‰∏ªÈ¢ò MessageÔºöÊ∂àÊÅØ BrokerÔºöMQÁ®ãÂ∫èÔºåÊé•Êî∂Áîü‰∫ßÁöÑÊ∂àÊÅØÔºåÊèê‰æõÁªôÊ∂àË¥πËÄÖÊ∂àË¥πÁöÑÁ®ãÂ∫è Name ServerÔºöÁªôÁîü‰∫ßÂíåÊ∂àË¥πËÄÖÊèê‰æõË∑ØÁî±‰ø°ÊÅØÔºåÊèê‰æõËΩªÈáèÁ∫ßÁöÑÊúçÂä°ÂèëÁé∞ÂíåË∑ØÁî± 3„ÄÅÂÆòÁΩëÂú∞ÂùÄÔºöhttp://rocketmq.apache.org/ Â≠¶‰π†ËµÑÊ∫êÔºö 1Ôºâhttp://jm.taobao.org/2017/01/12/rocketmq-quick-start-in-10-minutes/ 2Ôºâhttps://www.jianshu.com/p/453c6e7ff81c 6„ÄÅRocketMQ4.xÊú¨Âú∞Âø´ÈÄüÈÉ®ÁΩ≤‚Äã ÁÆÄ‰ªã:RocketMQ4.xÊú¨Âú∞Âø´ÈÄüÈÉ®ÁΩ≤ 1„ÄÅÂÆâË£ÖÂâçÊèêÊù°‰ª∂(Êé®Ëçê) 64bit OS, Linux/Unix/Mac 64bit JDK 1.8+; 2„ÄÅÂø´ÈÄüÂºÄÂßã http://rocketmq.apache.org/docs/quick-start/ ‰∏ãËΩΩÂÆâË£ÖÂåÖÔºöhttps://www.apache.org/dyn/closer.cgi?path=rocketmq/4.2.0/rocketmq-all-4.2.0-bin-release.zip Ë∑ØÂæÑÔºö/Users/jack/Desktop/person/springboot/ËµÑÊñô/Á¨¨13Á´†/Á¨¨5ËØæ/rocketmq-all-4.2.0-bin-release/bin 3„ÄÅËß£ÂéãÂéãÁº©ÂåÖ 1ÔºâËøõÂÖ•binÁõÆÂΩïÔºåÂêØÂä®namesrv nohup sh mqnamesrv &amp; 2) Êü•ÁúãÊó•Âøó tail -f nohup.out ÁªìÂ∞æÔºöThe Name Server boot success. serializeType=JSON Ë°®Á§∫ÂêØÂä®ÊàêÂäü 3„ÄÅÂêØÂä®broker nohup sh mqbroker -n 127.0.0.1:9876 &amp; 4)„ÄÅÂÖ≥Èó≠nameserver brokerÊâßË°åÁöÑÂëΩ‰ª§ sh mqshutdown namesrv sh mqshutdown broker 7„ÄÅRoekerMQ4.xÂèØËßÜÂåñÊéßÂà∂Âè∞ËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöRoekerMQ4.xÂèØËßÜÂåñÊéßÂà∂Âè∞ËÆ≤Ëß£ 1„ÄÅ‰∏ãËΩΩ https://github.com/apache/rocketmq-externals 2„ÄÅÁºñËØëÊâìÂåÖ mvn clean package -Dmaven.test.skip=true 3„ÄÅtargetÁõÆÂΩï ÈÄöËøájava -jarÁöÑÊñπÂºèËøêË°å 4„ÄÅÊó†Ê≥ïËøûÊé•Ëé∑Âèñbroker‰ø°ÊÅØ 1Ôºâ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂,ÂêçÁß∞Ë∑ØÁî±Âú∞ÂùÄ‰∏∫ namesrvAddrÔºå‰æãÂ¶ÇÊàëÊú¨Êú∫‰∏∫ 2Ôºâsrc/main/resources/application.properties rocketmq.config.namesrvAddr=192.168.0.101:9876 5„ÄÅÈªòËÆ§Á´ØÂè£ localhost:8080 6„ÄÅÊ≥®ÊÑèÔºö Âú®ÈòøÈáå‰∫ëÔºåËÖæËÆØ‰∫ëÊàñËÄÖËôöÊãüÊú∫ÔºåËÆ∞ÂæóÊ£ÄÊü•Á´ØÂè£Âè∑ÂíåÈò≤ÁÅ´Â¢ôÊòØÂê¶ÂêØÂä® 8„ÄÅSpringboot2.xÊï¥ÂêàRocketMQ4.xÂÆûÊàò‰∏äÈõÜ‚Äã ÁÆÄ‰ªãÔºöSpringboot2.xÊï¥ÂêàRocketMQ4.xÂÆûÊàòÔºåÂä†ÂÖ•Áõ∏ÂÖ≥‰æùËµñÔºåÂºÄÂèëÁîü‰∫ßËÄÖ‰ª£Á†Å‚Äã‚Äã ÂêØÂä®nameserÂíåbroker‚Äã‚Äã 1„ÄÅÂä†ÂÖ•Áõ∏ÂÖ≥‰æùËµñ‚Äã ‚Äã org.apache.rocketmq‚Äã rocketmq-client‚Äã ${rocketmq.version}‚Äã ‚Äã ‚Äã org.apache.rocketmq‚Äã rocketmq-common‚Äã ${rocketmq.version}‚Äã 2„ÄÅapplication.propertiesÂä†ÂÖ•ÈÖçÁΩÆÊñá‰ª∂ # Ê∂àË¥πËÄÖÁöÑÁªÑÂêç apache.rocketmq.consumer.PushConsumer=orderConsumer # Áîü‰∫ßËÄÖÁöÑÁªÑÂêç apache.rocketmq.producer.producerGroup=Producer # NameServerÂú∞ÂùÄ apache.rocketmq.namesrvAddr=127.0.0.1:9876 3„ÄÅÂºÄÂèëMsgProducer /** * Áîü‰∫ßËÄÖÁöÑÁªÑÂêç */ @Value(&quot;${apache.rocketmq.producer.producerGroup}&quot;) private String producerGroup; /** * NameServer Âú∞ÂùÄ */ @Value(&quot;${apache.rocketmq.namesrvAddr}&quot;) private String namesrvAddr; private DefaultMQProducer producer ; ‚Äã‚Äã public DefaultMQProducer getProducer(){‚Äã return this.producer;‚Äã }‚Äã‚Äã @PostConstruct‚Äã public void defaultMQProducer() {‚Äã //Áîü‰∫ßËÄÖÁöÑÁªÑÂêç‚Äã producer = new DefaultMQProducer(producerGroup);‚Äã //ÊåáÂÆöNameServerÂú∞ÂùÄÔºåÂ§ö‰∏™Âú∞ÂùÄ‰ª• ; ÈöîÂºÄ‚Äã //Â¶Ç producer.setNamesrvAddr(‚Äú192.168.100.141:9876;192.168.100.142:9876;192.168.100.149:9876‚Äù);‚Äã producer.setNamesrvAddr(namesrvAddr);‚Äã producer.setVipChannelEnabled(false);‚Äã‚Äã try {‚Äã /*‚Äã ProducerÂØπË±°Âú®‰ΩøÁî®‰πãÂâçÂøÖÈ°ªË¶ÅË∞ÉÁî®startÂàùÂßãÂåñÔºåÂè™ËÉΩÂàùÂßãÂåñ‰∏ÄÊ¨°‚Äã */‚Äã producer.start();‚Äã‚Äã } catch (Exception e) {‚Äã e.printStackTrace();‚Äã }‚Äã // producer.shutdown(); ‰∏ÄËà¨Âú®Â∫îÁî®‰∏ä‰∏ãÊñáÔºåÂÖ≥Èó≠ÁöÑÊó∂ÂÄôËøõË°åÂÖ≥Èó≠ÔºåÁî®‰∏ä‰∏ãÊñáÁõëÂê¨Âô® } 9„ÄÅSpringboot2.xÊï¥ÂêàRocketMQ4.xÂÆûÊàò‰∏ãÈõÜ‚Äã ÁÆÄ‰ªãÔºöSpringboot2.xÊï¥ÂêàRocketMQ4.xÂÆûÊàòÔºåÂºÄÂèëÊ∂àË¥πËÄÖ‰ª£Á†ÅÔºåÂ∏∏ËßÅÈóÆÈ¢òÂ§ÑÁêÜ 1„ÄÅÂàõÂª∫Ê∂àË¥πËÄÖ ÈóÆÈ¢òÔºö 1„ÄÅCaused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to &lt;172.17.42.1:10911&gt; failed 2„ÄÅcom.alibaba.rocketmq.client.exception.MQClientException: Send [1] times, still failed, cost [1647]ms, Topic: TopicTest1, BrokersSent: [broker-a, null, null] 3„ÄÅorg.apache.rocketmq.client.exception.MQClientException: Send [3] times, still failed, cost [497]ms, Topic: TopicTest, BrokersSent: [chenyaowudeMacBook-Air.local, chenyaowudeMacBook-Air.local, chenyaowudeMacBook-Air.local] Ëß£ÂÜ≥ÔºöÂ§öÁΩëÂç°ÈóÆÈ¢òÂ§ÑÁêÜ 1„ÄÅËÆæÁΩÆproducer: producer.setVipChannelEnabled(false); 2„ÄÅÁºñËæëROCKETMQ ÈÖçÁΩÆÊñá‰ª∂Ôºöbroker.confÔºà‰∏ãÂàóip‰∏∫Ëá™Â∑±ÁöÑipÔºâ namesrvAddr = 192.168.0.101:9876 brokerIP1 = 192.168.0.101 4„ÄÅDESC: service not available now, maybe disk full, CL: Ëß£ÂÜ≥Ôºö‰øÆÊîπÂêØÂä®ËÑöÊú¨runbroker.shÔºåÂú®ÈáåÈù¢Â¢ûÂä†‰∏ÄÂè•ËØùÂç≥ÂèØÔºö JAVA_OPT=&quot;${JAVA_OPT} -Drocketmq.broker.diskSpaceWarningLevelRatio=0.98&quot; ÔºàÁ£ÅÁõò‰øùÊä§ÁöÑÁôæÂàÜÊØîËÆæÁΩÆÊàê98%ÔºåÂè™ÊúâÁ£ÅÁõòÁ©∫Èó¥‰ΩøÁî®ÁéáËææÂà∞98%Êó∂ÊâçÊãíÁªùÊé•Êî∂producerÊ∂àÊÅØÔºâ Â∏∏ËßÅÈóÆÈ¢òÂ§ÑÁêÜÔºö https://blog.csdn.net/sqzhao/article/details/54834761 https://blog.csdn.net/mayifan0/article/details/67633729 https://blog.csdn.net/a906423355/article/details/78192828 14 È´òÁ∫ßÁØáÂπÖ‰πãSpringBootÂ§öÁéØÂ¢ÉÈÖçÁΩÆ 1ËäÇËØæ1„ÄÅSpringBootÂ§öÁéØÂ¢ÉÈÖçÁΩÆ‰ªãÁªçÂíåÈ°πÁõÆÂÆûÊàòÔºàÊ†∏ÂøÉÁü•ËØÜÔºâ‚Äã ÁÆÄ‰ªãÔºöSpringBoot‰ªãÁªçÂ§öÁéØÂ¢ÉÈÖçÁΩÆÂíå‰ΩøÁî®Âú∫ÊôØ 1„ÄÅ‰∏çÂêåÁéØÂ¢É‰ΩøÁî®‰∏çÂêåÈÖçÁΩÆ ‰æãÂ¶ÇÊï∞ÊçÆÂ∫ìÈÖçÁΩÆÔºåÂú®ÂºÄÂèëÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨‰∏ÄËà¨Áî®ÂºÄÂèëÊï∞ÊçÆÂ∫ìÔºåËÄåÂú®Áîü‰∫ßÁéØÂ¢ÉÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÊòØÁî®Ê≠£ÂºèÁöÑÊï∞ÊçÆ 2„ÄÅÈÖçÁΩÆÊñá‰ª∂Â≠òÊîæË∑ØÂæÑ classpathÊ†πÁõÆÂΩïÁöÑ‚Äú/config‚ÄùÂåÖ‰∏ã classpathÁöÑÊ†πÁõÆÂΩï‰∏ã 3„ÄÅspring bootÂÖÅËÆ∏ÈÄöËøáÂëΩÂêçÁ∫¶ÂÆöÊåâÁÖß‰∏ÄÂÆöÁöÑÊ†ºÂºè(application-{profile}.properties)Êù•ÂÆö‰πâÂ§ö‰∏™ÈÖçÁΩÆÊñá‰ª∂ 15 È´òÁ∫ßÁØáÂπÖ‰πãSpringBoot2.0ÂìçÂ∫îÂºèÁºñÁ®ã 4ËäÇËØæ 1„ÄÅSprinBoot2.xÂìçÂ∫îÂºèÁºñÁ®ãÁÆÄ‰ªã‚Äã ÁÆÄ‰ªã:ËÆ≤Ëß£‰ªÄ‰πàÊòØreactiveÂìçÂ∫îÂºèÁºñÁ®ãÂíå‰ΩøÁî®ÁöÑÂ•ΩÂ§Ñ 1„ÄÅÂü∫Á°ÄÁêÜËß£Ôºö ‰æùËµñ‰∫é‰∫ã‰ª∂Ôºå‰∫ã‰ª∂È©±Âä®(Event-driven) ‰∏ÄÁ≥ªÂàó‰∫ã‰ª∂Áß∞‰∏∫‚ÄúÊµÅ‚Äù ÂºÇÊ≠• ÈùûÈòªÂ°û ËßÇÂØüËÄÖÊ®°Âºè ÁΩë‰∏äÁöÑ‰∏Ä‰∏™‰æãÂ≠êÔºö int b= 2; int c=3 int a = b+c //ÂëΩ‰ª§ÂºèÁºñÁ®ãÂêéÁª≠bÂíåcÂèòÂåñÔºåÈÉΩ‰∏çÂΩ±Âìça b=5; int b= 2; int c= 3 int a = b+c //ÂìçÂ∫îÂºèÁºñÁ®ã‰∏≠ÔºåaÁöÑÂèòÂåñÔºå‰ºöÂíåb„ÄÅcÁöÑÂèòÂåñËÄåÂèòÂåñÔºà‰∫ã‰ª∂È©±Âä®Ôºâ b=5; 2„ÄÅÂÆòÁΩëÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-webflux SpingBoot2Â∫ïÂ±ÇÊòØÁî®spring5,ÂºÄÂßãÊîØÊåÅÂìçÂ∫îÂºèÁºñÁ®ãÔºåSpringÂèàÊòØÂü∫‰∫éReactorËØï‰∏ãÂìçÂ∫îÂºè„ÄÇ ‚Äã Â≠¶‰π†ËµÑÊñô 1„ÄÅreactive-streamsÂ≠¶‰π†ËµÑÊñôÔºöhttp://www.reactive-streams.org/ 2„ÄÅweb-fluxÁõ∏ÂÖ≥ËµÑÊñôÔºöhttps://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#spring-webflux 2„ÄÅSpringBoot2.xÂìçÂ∫îÂºèÁºñÁ®ãwebflux‰ªãÁªç‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBoot2.xÂìçÂ∫îÂºèÁºñÁ®ã‰ªãÁªç Mono„ÄÅFluxÂØπË±°Âíå‰ºòÁº∫ÁÇπ‚Äã‚Äã 1„ÄÅSpring WebFluxÊòØSpring Framework 5.0‰∏≠ÂºïÂÖ•ÁöÑÊñ∞ÁöÑÂèçÂ∫îÂºèWebÊ°ÜÊû∂‚Äã ‰∏éSpring MVC‰∏çÂêåÔºåÂÆÉ‰∏çÈúÄË¶ÅServlet APIÔºåÂÆåÂÖ®ÂºÇÊ≠•ÂíåÈùûÈòªÂ°ûÔºåÂπ∂ ÈÄöËøáReactorÈ°πÁõÆÂÆûÁé∞Reactive StreamsËßÑËåÉ„ÄÇ‚Äã RxJava 2„ÄÅFluxÂíåMono User List&lt;User&gt; 1ÔºâÁÆÄÂçï‰∏öÂä°ËÄåË®ÄÔºöÂíåÂÖ∂‰ªñÊôÆÈÄöÂØπË±°Â∑ÆÂà´‰∏çÂ§ßÔºåÂ§çÊùÇËØ∑Ê±Ç‰∏öÂä°ÔºåÂ∞±ÂèØ‰ª•ÊèêÂçáÊÄßËÉΩ 2ÔºâÈÄö‰øóÁêÜËß£Ôºö Mono Ë°®Á§∫ÁöÑÊòØÂåÖÂê´ 0 ÊàñËÄÖ 1 ‰∏™ÂÖÉÁ¥†ÁöÑÂºÇÊ≠•Â∫èÂàó mono-&gt;Âçï‰∏ÄÂØπË±° User redis-&gt;Áî®Êà∑ID-„ÄãÂîØ‰∏ÄÁöÑÁî®Êà∑Mono&lt;User&gt; Flux Ë°®Á§∫ÁöÑÊòØÂåÖÂê´ 0 Âà∞ N ‰∏™ÂÖÉÁ¥†ÁöÑÂºÇÊ≠•Â∫èÂàó flux-&gt;Êï∞ÁªÑÂàóË°®ÂØπË±° List&lt;User&gt; redis-&gt;Áî∑ÊÄßÁî®Êà∑-&gt;Flux&lt;User&gt; Flux Âíå Mono ‰πãÈó¥ÂèØ‰ª•ËøõË°åËΩ¨Êç¢ 3„ÄÅSpring WebFluxÊúâ‰∏§ÁßçÈ£éÊ†ºÔºöÂü∫‰∫éÂäüËÉΩÂíåÂü∫‰∫éÊ≥®Ëß£ÁöÑ„ÄÇÂü∫‰∫éÊ≥®Ëß£ÈùûÂ∏∏Êé•ËøëSpring MVCÊ®°ÂûãÔºåÂ¶Ç‰ª•‰∏ãÁ§∫‰æãÊâÄÁ§∫Ôºö Á¨¨‰∏ÄÁßçÔºö @RestController @RequestMappingÔºà‚Äú/ users‚ÄùÔºâ public class MyRestController { @GetMappingÔºà‚Äú/ {user}‚ÄùÔºâ public Mono &lt;User&gt; getUserÔºà @PathVariable Long userÔºâ{ // ... } @GetMappingÔºà‚Äú/ {user} / customers‚ÄùÔºâ public Flux &lt;Customer&gt; getUserCustomersÔºà @PathVariable Long userÔºâ{ // ... } @DeleteMappingÔºà‚Äú/ {user}‚ÄùÔºâ public Mono &lt;User&gt; deleteUserÔºà @PathVariable Long userÔºâ{ // ... } } Á¨¨‰∫åÁßçÔºö Ë∑ØÁî±ÈÖçÁΩÆ‰∏éËØ∑Ê±ÇÁöÑÂÆûÈôÖÂ§ÑÁêÜÂàÜÂºÄ @Configuration public class RoutingConfiguration { @Bean public RouterFunction &lt;ServerResponse&gt; monoRouterFunctionÔºàUserHandler userHandlerÔºâ{ return routeÔºàGETÔºà ‚Äú/ {user}‚ÄùÔºâ.andÔºàacceptÔºàAPPLICATION_JSONÔºâÔºâÔºåuserHandler :: getUserÔºâ .andRouteÔºàGETÔºà‚Äú/ {user} / customers‚ÄùÔºâ.andÔºàacceptÔºàAPPLICATION_JSONÔºâÔºâÔºåuserHandler :: getUserCustomersÔºâ .andRouteÔºàDELETEÔºà‚Äú/ {user}‚ÄùÔºâ.andÔºàacceptÔºàAPPLICATION_JSONÔºâÔºâÔºåuserHandler :: deleteUserÔºâ; } } @Component public class UserHandler { ÂÖ¨ÂÖ± Mono &lt;ServerResponse&gt; getUserÔºàServerRequestËØ∑Ê±ÇÔºâ{ // ... } public Mono &lt;ServerResponse&gt; getUserCustomersÔºàServerRequest requestÔºâ{ // ... } ÂÖ¨ÂÖ± Mono &lt;ServerResponse&gt; deleteUserÔºàServerRequestËØ∑Ê±ÇÔºâ{ // ... } } 4„ÄÅSpring WebFluxÂ∫îÁî®Á®ãÂ∫è‰∏ç‰∏•Ê†º‰æùËµñ‰∫éServlet APIÔºåÂõ†Ê≠§ÂÆÉ‰ª¨‰∏çËÉΩ‰Ωú‰∏∫warÊñá‰ª∂ÈÉ®ÁΩ≤Ôºå‰πü‰∏çËÉΩ‰ΩøÁî®src/main/webappÁõÆÂΩï 5„ÄÅÂèØ‰ª•Êï¥ÂêàÂ§ö‰∏™Ê®°ÊùøÂºïÊìé Èô§‰∫ÜREST WebÊúçÂä°Â§ñÔºåÊÇ®ËøòÂèØ‰ª•‰ΩøÁî®Spring WebFluxÊèê‰æõÂä®ÊÄÅHTMLÂÜÖÂÆπ„ÄÇSpring WebFluxÊîØÊåÅÂêÑÁßçÊ®°ÊùøÊäÄÊúØÔºåÂåÖÊã¨ThymeleafÔºåFreeMarker 3„ÄÅSpringBoot2.x webfluxÂÆûÊàò‚Äã ÁÆÄ‰ªã:webfluxÂìçÂ∫îÂºèÁºñÁ®ãÂÆûÊàò‚Äã‚Äã 1„ÄÅWebFlux‰∏≠ÔºåËØ∑Ê±ÇÂíåÂìçÂ∫î‰∏çÂÜçÊòØWebMVC‰∏≠ÁöÑServletRequestÂíåServletResponseÔºåËÄåÊòØServerRequestÂíåServerResponse‚Äã‚Äã 2„ÄÅÂä†ÂÖ•‰æùËµñÔºåÂ¶ÇÊûúÂêåÊó∂Â≠òÂú®spring-boot-starter-webÔºåÂàô‰ºö‰ºòÂÖàÁî®spring-boot-starter-web‚Äã ‚Äã org.springframework.boot‚Äã spring-boot-starter-webflux‚Äã ‚Äã‚Äã ÊµãËØï‚Äã localhost:8080/api/v1/user/test‚Äã 3„ÄÅÂêØÂä®ÊñπÂºèÈªòËÆ§ÊòØNetty,8080Á´ØÂè£ ‚Äã 4„ÄÅÂèÇËÄÉÔºöhttps://spring.io/blog/2016/04/19/understanding-reactive-types 4„ÄÅWebFluxÂÆ¢Êà∑Á´ØWebClientËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBoot2.x WebFluxÂÆ¢Êà∑Á´ØWebClientÁöÑ‰ªãÁªçÂíå‰ΩøÁî®‚Äã 1„ÄÅÂèçÂ∫îÂºèÂÆ¢Êà∑Á´Ø ÂÆòÁΩëÂú∞ÂùÄÔºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-webclient 16 È´òÁ∫ßÁØáÂπÖ‰πãSpringBoot2.0ÊúçÂä°Âô®Á´Ø‰∏ªÂä®Êé®ÈÄÅSSEÊäÄÊúØËÆ≤Ëß£ 2ËäÇËØæÂä†ÂÖ•Â∞èDËØæÂ†ÇÊäÄÊúØ‰∫§ÊµÅÁ≠îÁñëÁæ§ÔºöQÁæ§Ôºö699347262 1„ÄÅÊúçÂä°Á´ØÊé®ÈÄÅÂ∏∏Áî®ÊäÄÊúØ‰ªãÁªç‚Äã ÁÆÄ‰ªãÔºöÊúçÂä°Á´ØÂ∏∏Áî®Êé®ÈÄÅÊäÄÊúØ‰ªãÁªçÔºåÂ¶ÇwebsocketÔºåsseËΩÆËØ¢Á≠â‚Äã 1„ÄÅÂÆ¢Êà∑Á´ØËΩÆËØ¢:ajaxÂÆöÊó∂ÊãâÂèñ 2„ÄÅÊúçÂä°Á´Ø‰∏ªÂä®Êé®ÈÄÅ:WebSocket ÂÖ®ÂèåÂ∑•ÁöÑÔºåÊú¨Ë¥®‰∏äÊòØ‰∏Ä‰∏™È¢ùÂ§ñÁöÑtcpËøûÊé•ÔºåÂª∫Á´ãÂíåÂÖ≥Èó≠Êó∂Êè°Êâã‰ΩøÁî®httpÂçèËÆÆÔºåÂÖ∂‰ªñÊï∞ÊçÆ‰º†Ëæì‰∏ç‰ΩøÁî®httpÂçèËÆÆ Êõ¥Âä†Â§çÊùÇ‰∏Ä‰∫õÔºåÈÄÇÁî®‰∫éÈúÄË¶ÅËøõË°åÂ§çÊùÇÂèåÂêëÊï∞ÊçÆÈÄöËÆØÁöÑÂú∫ÊôØ 3„ÄÅÊúçÂä°Á´Ø‰∏ªÂä®Êé®ÈÄÅ:SSE (Server Send Event) html5Êñ∞Ê†áÂáÜÔºåÁî®Êù•‰ªéÊúçÂä°Á´ØÂÆûÊó∂Êé®ÈÄÅÊï∞ÊçÆÂà∞ÊµèËßàÂô®Á´ØÔºå Áõ¥Êé•Âª∫Á´ãÂú®ÂΩìÂâçhttpËøûÊé•‰∏äÔºåÊú¨Ë¥®‰∏äÊòØ‰øùÊåÅ‰∏Ä‰∏™httpÈïøËøûÊé•ÔºåËΩªÈáèÂçèËÆÆ ÁÆÄÂçïÁöÑÊúçÂä°Âô®Êï∞ÊçÆÊé®ÈÄÅÁöÑÂú∫ÊôØÔºå‰ΩøÁî®ÊúçÂä°Âô®Êé®ÈÄÅ‰∫ã‰ª∂ Â≠¶‰π†ËµÑÊñôÔºöhttp://www.w3school.com.cn/html5/html_5_serversentevents.asp 2„ÄÅSpringBoot2.xÊúçÂä°Á´Ø‰∏ªÂä®Êé®ÈÄÅSSE‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBoot2.xÊúçÂä°Á´Ø‰∏ªÂä®Êé®ÈÄÅSever-Send-Events‚Äã‚Äã 1„ÄÅlocalhost:8080/index.html 2„ÄÅÈúÄË¶ÅÊääresponseÁöÑÁ±ªÂûã Êîπ‰∏∫ text/event-streamÔºåÊâçÊòØsseÁöÑÁ±ªÂûã 17 È´òÁ∫ßÁØáÂπÖ‰πã‰∫ëÊúçÂä°Âô®‰ªãÁªçÂíåÈÉ®ÁΩ≤Áîü‰∫ßÁéØÂ¢ÉÂÆûÊàò 5ËäÇËØæ1„ÄÅÈòøÈáå‰∫ëÊúçÂä°Âô®‰ªãÁªçÂíå‰ΩøÁî®ËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöÈòøÈáå‰∫ëÊúçÂä°Âô®‰ªãÁªçÂíå‰ΩøÁî®ËÆ≤Ëß£ 2„ÄÅÈòøÈáå‰∫ëLinuxÊúçÂä°Âô®ÈÉ®ÁΩ≤JDK8ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöÂú®ÈòøÈáå‰∫ëÊúçÂä°Âô®‰∏äÂÆâË£ÖJDK8ÂíåÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè lnux‰∏ã‰ΩøÁî®wget‰∏ãËΩΩjdk8: ËøõÂà∞ÁõÆÂΩï/usr/local/software ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè vim /etc/profile Âä†ÂÖ• export JAVA_HOME=/usr/local/software/jdk8 export PATH=$PATH:$JAVA_HOME/bin export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar export JAVA_HOME PATH CLASSPATH ‰ΩøÁî® source /etc/profile ËÆ©ÈÖçÁΩÆÁ´ãÂàªÁîüÊïà 3„ÄÅÈòøÈáå‰∫ëÊúçÂä°Âô®SpringBoot2.xÁîü‰∫ßÁéØÂ¢ÉÈÉ®ÁΩ≤ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBootÁîü‰∫ßÁéØÂ¢ÉÈÉ®ÁΩ≤ÂíåÂ∏∏ËßÅÊ≥®ÊÑè‰∫ãÈ°π‚Äã‚Äã‚Äã 1„ÄÅÂéªÈô§Áõ∏ÂÖ≥Áîü‰∫ßÁéØÂ¢ÉÊ≤°Áî®ÁöÑjar‚Äã ÊØîÂ¶ÇÁÉ≠ÈÉ®ÁΩ≤dev-tool‚Äã‚Äã 2„ÄÅÊú¨Âú∞mavenÊâìÂåÖÊàêjarÂåÖ‚Äã mvn clean package -Dmaven.test.skip=true Ë∑≥ËøáÊµãËØï‚Äã‚Äã 3„ÄÅÊúçÂä°Âô®ÂÆâË£ÖjdkÔºå‰∏ä‰º†JarÂåÖ‚Äã ‰∏ä‰º†Â∑•ÂÖ∑Ôºö‚Äã windows:‚Äã winscp‚Äã securtyCRT‚Äã macÔºö‚Äã filezilla‚Äã ssh root@120.79.160.143‚Äã ËÆøÈóÆË∑ØÂæÑ http://120.79.160.143:8080/api/v1/user/find‚Äã java -jar xxxx.jar ÂÆàÊä§ËøõÁ®ã„ÄÅÁ≥ªÁªüÊúçÂä°„ÄÅshellËÑöÊú¨ ÊâìÂåÖÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ 1„ÄÅ‰ΩøÁî®mavenÁöÑprofiles 2„ÄÅ‰ΩøÁî®springbootÁöÑprofile=active ËÆøÈóÆ‰∏ç‰∫Ü 1„ÄÅÈòøÈáå‰∫ëÈò≤ÁÅ´Â¢ôÊòØÂê¶ÂºÄÂêØÔºåÂèØ‰ª•ÈÄâÊã©ÂÖ≥Èó≠ÔºåÂÖ≥Èó≠ÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÂèØ‰ª•ÈÄâÊã©ÂºÄÊîæÁ´ØÂè£ 2„ÄÅÈòøÈáå‰∫ëÁöÑÂÆâÂÖ®ËÆøÈóÆÁªÑÔºåÂºÄÂêØÂØπÂ∫îÁöÑÁ´ØÂè£ÔºåÂ¶ÇÊûúÂ∫îÁî®ÊòØ‰ª•80Á´ØÂè£ÂêØÂä®ÔºåÂàôÈªòËÆ§ÂèØ‰ª•ËÆøÈóÆ 4„ÄÅÊàêÁÜüÁöÑ‰∫íËÅîÁΩëÂÖ¨Âè∏Â∫îËØ•ÊúâÁöÑÊû∂ÊûÑ Êú¨Âú∞Êèê‰∫§Áîü‰∫ß‰ª£Á†Å-&gt;gitlab‰ªìÂ∫ì-&gt;JenkinsËá™Âä®ÂåñÊûÑÂª∫-&gt;ËøêÁª¥ÊàñËÄÖÂºÄÂèë‰∫∫ÂëòÂèëÂ∏É 4„ÄÅSpringBoot2.xÁõëÊéßActuatorÂÆûÊàò‰∏äÈõÜ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringBoot‰ΩøÁî®actuatorÁõëÊéßÈÖçÁΩÆÂíå‰ΩøÁî® ÂèØÁî®ÊÄßÔºö100%Ôºå99.9% 1„ÄÅ‰ªãÁªç‰ªÄ‰πàÊòØactuator ÂÆòÊñπ‰ªãÁªçÔºö Spring BootÂåÖÂê´ËÆ∏Â§öÈôÑÂä†ÂäüËÉΩÔºåÂèØÂ∏ÆÂä©ÊÇ®Âú®Â∞ÜÂ∫îÁî®Á®ãÂ∫èÊäïÂÖ•Áîü‰∫ßÊó∂ÁõëËßÜÂíåÁÆ°ÁêÜÂ∫îÁî®Á®ãÂ∫è„ÄÇ ÂèØ‰ª•ÈÄâÊã©‰ΩøÁî®HTTPÁ´ØÁÇπÊàñJMXÊù•ÁÆ°ÁêÜÂíåÁõëÊéßÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåËá™Âä®Â∫îÁî®‰∫éÂÆ°ËÆ°ÔºåÂÅ•Â∫∑ÂíåÊåáÊ†áÊî∂ÈõÜ; ‰∏ÄÂè•ËØùÔºöspringbootÊèê‰æõÁî®‰∫éÁõëÊéßÂíåÁÆ°ÁêÜÁîü‰∫ßÁéØÂ¢ÉÁöÑÊ®°Âùó ÂÆòÊñπÊñáÊ°£Ôºöhttps://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#production-ready 2„ÄÅÂä†ÂÖ•‰æùËµñ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; 3„ÄÅÂä†ÂÖ•‰∏äËø∞‰æùËµñÂêéÔºåËÆøÈóÆÂá†‰∏™url /actuator/health /actuator/info /actuator 5„ÄÅSpringBoot2.xÁõëÊéßActuatorÂÆûÊàò‰∏ãÈõÜÂèäÁîü‰∫ßÁéØÂ¢ÉÂª∫ËÆÆÔºàÊ†∏ÂøÉÁü•ËØÜ)‚Äã ÁÆÄ‰ªãÔºöSpringBoot2.xÁõëÊéßActuatorÂÆûÊàò‰∏ãÈõÜÂèäÁîü‰∫ßÁéØÂ¢ÉÂª∫ËÆÆÔºåSpringBootÊñ∞ÊóßÁâàÊú¨Âå∫Âà´ Ê≥®ÊÑèÁÇπ: ÁΩë‰∏äÁöÑËµÑÊñôÂ§ßÂ§öÊï∞Ê≤°ÊúâËÆ≤Âà∞ËÆøÈóÆÁöÑÂâçÁºÄ Á´ØÁÇπÂü∫Á°ÄË∑ØÂæÑÁî± / Ë∞ÉÊï¥Âà∞ /actuator Â¶ÇÔºö/infoË∞ÉÊï¥‰∏∫/actuator/info /actuator/xxx 1„ÄÅÂè™ËÉΩËÆøÈóÆÂá†‰∏™url 1ÔºâÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ÂÖ•‰∏ãÂàóÈÖçÁΩÆ management.endpoints.web.exposure.include=* 2ÔºâÂÆòÁΩëËØ¥ÊòéÔºöhttps://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator ÂéüÂõ†Ôºö Âá∫‰∫éÂÆâÂÖ®ËÄÉËôëÔºåÈô§/ healthÂíå/ info‰πãÂ§ñÁöÑÊâÄÊúâÊâßË°åÂô®ÈªòËÆ§ÈÉΩÊòØÁ¶ÅÁî®ÁöÑ„ÄÇ management.endpoints.web.exposure.includeÂ±ûÊÄßÂèØÁî®‰∫éÂêØÁî®ÊâßË°åÂô® 2„ÄÅÂª∫ËÆÆ Âú®ËÆæÁΩÆmanagement.endpoints.web.exposure.include‰πãÂâçÔºåËØ∑Á°Æ‰øùÊö¥Èú≤ÁöÑÊâßË°åÂô®‰∏çÂåÖÂê´ÊïèÊÑü‰ø°ÊÅØÂíå/ ÊàñÈÄöËøáÂ∞ÜÂÖ∂ÊîæÁΩÆÂú®Èò≤ÁÅ´Â¢ôËøõË°åÊéßÂà∂Ôºå‰∏çÂØπÂ§ñËøõË°å‰ΩøÁî® Á¶ÅÁî®ÁöÑÁ´ØÁÇπÂ∞Ü‰ªéÂ∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñá‰∏≠ÂÆåÂÖ®Âà†Èô§„ÄÇÂ¶ÇÊûúÊÇ®Âè™ÊÉ≥Êõ¥ÊîπÁ´ØÁÇπÊâÄÊö¥Èú≤ÁöÑÊäÄÊúØÔºåËØ∑ÊîπÁî® includeÂíåexcludeÂ±ûÊÄß „ÄÇ ‰æãÂ≠êÔºö ÂºÄÂêØÂÖ®ÈÉ®Ôºömanagement.endpoints.web.exposure.include=* ÂºÄÂêØÊüê‰∏™Ôºömanagement.endpoints.web.exposure.include=metrics ÂÖ≥Èó≠Êüê‰∏™Ôºömanagement.endpoints.web.exposure.exclude=metrics ÊàñËÄÖÁî®springadminËøõË°åÁÆ°ÁêÜ Áõ∏ÂÖ≥ËµÑÊñôÔºöhttps://www.cnblogs.com/ityouknow/p/8440455.html ÊàñËÄÖÁî®Ëá™Â∑±ÁºñÂÜôËÑöÊú¨ÁõëÊéß CPU„ÄÅÂÜÖÂ≠ò„ÄÅÁ£ÅÁõò„ÄÅnginxÁöÑhttpÂìçÂ∫îÁä∂ÊÄÅÁ†Å200,404,5xx 3„ÄÅ‰ªãÁªçÂ∏∏Áî®ÁöÑÂá†‰∏™ /health Êü•ÁúãÂ∫îÁî®ÂÅ•Â∫∑ÊåáÊ†á /actuator/metrics Êü•ÁúãÂ∫îÁî®Âü∫Êú¨ÊåáÊ†áÂàóË°® /actuator/metrics/{name} ÈÄöËøá‰∏äËø∞ÂàóË°®ÔºåÊü•ÁúãÂÖ∑‰Ωì Êü•ÁúãÂÖ∑‰ΩìÊåáÊ†á /actuator/env ÊòæÁ§∫Êù•Ëá™SpringÁöÑ ConfigurableEnvironmentÁöÑÂ±ûÊÄß]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redis]]></title>
    <url>%2F2018%2F12%2F21%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRedis%2FReids%2F</url>
    <content type="text"><![CDATA[Jredies ÂèÇÁÖßÊù®ÂºÄÊï¥ÁöÑ‰π¶ Ê≥®ÊÑèNetty‰∏çË¶Å‰ΩøÁî®ÈªòËÆ§ÁöÑ Ë¶ÅÊç¢Êàê‰π¶ÈáåÈù¢ÁöÑ 1 JedisPoolUtil123456789101112131415161718192021222324252627282930313233343536373839404142package com.atguigu.redis.test;import redis.clients.jedis.Jedis;import redis.clients.jedis.JedisPool;import redis.clients.jedis.JedisPoolConfig;public class JedisPoolUtil &#123; private static volatile JedisPool jedisPool = null; private JedisPoolUtil()&#123;&#125; public static JedisPool getJedisPoolInstance() &#123; if(null == jedisPool) &#123; synchronized (JedisPoolUtil.class) &#123; if(null == jedisPool) &#123; JedisPoolConfig poolConfig = new JedisPoolConfig(); poolConfig.setMaxActive(1000); poolConfig.setMaxIdle(32); poolConfig.setMaxWait(100*1000); poolConfig.setTestOnBorrow(true); jedisPool = new JedisPool(poolConfig,"127.0.0.1",6379); &#125; &#125; &#125; return jedisPool; &#125; public static void release(JedisPool jedisPool,Jedis jedis) &#123; if(null != jedis) &#123; jedisPool.returnResourceObject(jedis); &#125; &#125; &#125; TestAPI123456789101112131415161718192021222324package com.atguigu.redis.test;import java.util.Set;import redis.clients.jedis.Jedis;public class TestAPI &#123; public static void main(String[] args) &#123; Jedis jedis = new Jedis("127.0.0.1",6379); jedis.set("k1","v1"); jedis.set("k2","v2"); jedis.set("k3","v3"); System.out.println(jedis.get("k3")); Set&lt;String&gt; sets = jedis.keys("*"); System.out.println(sets.size()); //ÂêéÁª≠ËØ∑ÂèÇËÄÉËÑëÂõæÔºåÂÆ∂Â∫≠‰Ωú‰∏öÔºåÊï≤‰∏ÄÈÅç...... &#125;&#125; TestMS1234567891011121314151617package com.atguigu.redis.test;import redis.clients.jedis.Jedis;public class TestMS &#123; public static void main(String[] args) &#123; Jedis jedis_M = new Jedis("127.0.0.1",6379); Jedis jedis_S = new Jedis("127.0.0.1",6380); jedis_S.slaveof("127.0.0.1",6379); jedis_M.set("class","1122V2"); String result = jedis_S.get("class"); System.out.println(result); &#125;&#125; TestPing1234567891011package com.atguigu.redis.test;import redis.clients.jedis.Jedis;public class TestPing &#123; public static void main(String[] args) &#123; Jedis jedis = new Jedis("127.0.0.1",6379); System.out.println(jedis.ping()); &#125;&#125; TestPool12345678910111213141516171819202122232425262728package com.atguigu.redis.test;import redis.clients.jedis.Jedis;import redis.clients.jedis.JedisPool;public class TestPool &#123; public static void main(String[] args) &#123; JedisPool jedisPool = JedisPoolUtil.getJedisPoolInstance(); JedisPool jedisPool2 = JedisPoolUtil.getJedisPoolInstance(); System.out.println(jedisPool == jedisPool2); Jedis jedis = null; try &#123; jedis = jedisPool.getResource(); jedis.set("aa","bb"); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125;finally&#123; JedisPoolUtil.release(jedisPool, jedis); &#125; &#125;&#125; TestTX123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package com.atguigu.redis.test;import redis.clients.jedis.Jedis;import redis.clients.jedis.Transaction;public class TestTX &#123; public boolean transMethod() throws InterruptedException &#123; Jedis jedis = new Jedis("127.0.0.1", 6379); int balance;// ÂèØÁî®‰ΩôÈ¢ù int debt;// Ê¨†È¢ù int amtToSubtract = 10;// ÂÆûÂà∑È¢ùÂ∫¶ jedis.watch("balance"); //jedis.set("balance","5");//Ê≠§Âè•‰∏çËØ•Âá∫Áé∞ÔºåËÆ≤ËØæÊñπ‰æø„ÄÇÊ®°ÊãüÂÖ∂‰ªñÁ®ãÂ∫èÂ∑≤Áªè‰øÆÊîπ‰∫ÜËØ•Êù°ÁõÆ Thread.sleep(7000); balance = Integer.parseInt(jedis.get("balance")); if (balance &lt; amtToSubtract) &#123; jedis.unwatch(); System.out.println("modify"); return false; &#125; else &#123; System.out.println("***********transaction"); Transaction transaction = jedis.multi(); transaction.decrBy("balance", amtToSubtract); transaction.incrBy("debt", amtToSubtract); transaction.exec(); balance = Integer.parseInt(jedis.get("balance")); debt = Integer.parseInt(jedis.get("debt")); System.out.println("*******" + balance); System.out.println("*******" + debt); return true; &#125; &#125; /** * ÈÄö‰øóÁÇπËÆ≤ÔºåwatchÂëΩ‰ª§Â∞±ÊòØÊ†áËÆ∞‰∏Ä‰∏™ÈîÆÔºåÂ¶ÇÊûúÊ†áËÆ∞‰∫Ü‰∏Ä‰∏™ÈîÆÔºå * Âú®Êèê‰∫§‰∫ãÂä°ÂâçÂ¶ÇÊûúËØ•ÈîÆË¢´Âà´‰∫∫‰øÆÊîπËøáÔºåÈÇ£‰∫ãÂä°Â∞±‰ºöÂ§±Ë¥•ÔºåËøôÁßçÊÉÖÂÜµÈÄöÂ∏∏ÂèØ‰ª•Âú®Á®ãÂ∫è‰∏≠ * ÈáçÊñ∞ÂÜçÂ∞ùËØï‰∏ÄÊ¨°„ÄÇ * È¶ñÂÖàÊ†áËÆ∞‰∫ÜÈîÆbalanceÔºåÁÑ∂ÂêéÊ£ÄÊü•‰ΩôÈ¢ùÊòØÂê¶Ë∂≥Â§üÔºå‰∏çË∂≥Â∞±ÂèñÊ∂àÊ†áËÆ∞ÔºåÂπ∂‰∏çÂÅöÊâ£ÂáèÔºõ * Ë∂≥Â§üÁöÑËØùÔºåÂ∞±ÂêØÂä®‰∫ãÂä°ËøõË°åÊõ¥Êñ∞Êìç‰ΩúÔºå * Â¶ÇÊûúÂú®Ê≠§ÊúüÈó¥ÈîÆbalanceË¢´ÂÖ∂ÂÆÉ‰∫∫‰øÆÊîπÔºå ÈÇ£Âú®Êèê‰∫§‰∫ãÂä°ÔºàÊâßË°åexecÔºâÊó∂Â∞±‰ºöÊä•ÈîôÔºå * Á®ãÂ∫è‰∏≠ÈÄöÂ∏∏ÂèØ‰ª•ÊçïËé∑ËøôÁ±ªÈîôËØØÂÜçÈáçÊñ∞ÊâßË°å‰∏ÄÊ¨°ÔºåÁõ¥Âà∞ÊàêÂäü„ÄÇ * @throws InterruptedException */ public static void main(String[] args) throws InterruptedException &#123; TestTX test = new TestTX(); boolean retValue = test.transMethod(); System.out.println("main retValue-------: " + retValue); &#125; &#125; 123456789101112131415161718192021CAPÁêÜËÆ∫Â∞±ÊòØËØ¥Âú®ÂàÜÂ∏ÉÂºèÂ≠òÂÇ®Á≥ªÁªü‰∏≠ÔºåÊúÄÂ§öÂè™ËÉΩÂÆûÁé∞‰∏äÈù¢ÁöÑ‰∏§ÁÇπ„ÄÇËÄåÁî±‰∫éÂΩìÂâçÁöÑÁΩëÁªúÁ°¨‰ª∂ËÇØÂÆö‰ºöÂá∫Áé∞Âª∂Ëøü‰∏¢ÂåÖÁ≠âÈóÆÈ¢òÔºåÊâÄ‰ª•ÂàÜÂå∫ÂÆπÂøçÊÄßÊòØÊàë‰ª¨ÂøÖÈ°ªÈúÄË¶ÅÂÆûÁé∞ÁöÑ„ÄÇÊâÄ‰ª•Êàë‰ª¨Âè™ËÉΩÂú®‰∏ÄËá¥ÊÄßÂíåÂèØÁî®ÊÄß‰πãÈó¥ËøõË°åÊùÉË°°ÔºåÊ≤°ÊúâNoSQLÁ≥ªÁªüËÉΩÂêåÊó∂‰øùËØÅËøô‰∏âÁÇπ„ÄÇ=======================================================================================================================C:Âº∫‰∏ÄËá¥ÊÄß AÔºöÈ´òÂèØÁî®ÊÄß PÔºöÂàÜÂ∏ÉÂºèÂÆπÂøçÊÄßCA ‰º†ÁªüOracleÊï∞ÊçÆÂ∫ì AP Â§ßÂ§öÊï∞ÁΩëÁ´ôÊû∂ÊûÑÁöÑÈÄâÊã© CP Redis„ÄÅMongodb Ê≥®ÊÑèÔºöÂàÜÂ∏ÉÂºèÊû∂ÊûÑÁöÑÊó∂ÂÄôÂøÖÈ°ªÂÅöÂá∫ÂèñËàç„ÄÇ‰∏ÄËá¥ÊÄßÂíåÂèØÁî®ÊÄß‰πãÈó¥Âèñ‰∏Ä‰∏™Âπ≥Ë°°„ÄÇÂ§ö‰ΩôÂ§ßÂ§öÊï∞webÂ∫îÁî®ÔºåÂÖ∂ÂÆûÂπ∂‰∏çÈúÄË¶ÅÂº∫‰∏ÄËá¥ÊÄß„ÄÇÂõ†Ê≠§Áâ∫Áâ≤CÊç¢ÂèñPÔºåËøôÊòØÁõÆÂâçÂàÜÂ∏ÉÂºèÊï∞ÊçÆÂ∫ì‰∫ßÂìÅÁöÑÊñπÂêë=======================================================================================================================‰∏ÄËá¥ÊÄß‰∏éÂèØÁî®ÊÄßÁöÑÂÜ≥Êã©ÂØπ‰∫éweb2.0ÁΩëÁ´ôÊù•ËØ¥ÔºåÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁöÑÂæàÂ§ö‰∏ªË¶ÅÁâπÊÄßÂç¥ÂæÄÂæÄÊó†Áî®Ê≠¶‰πãÂú∞Êï∞ÊçÆÂ∫ì‰∫ãÂä°‰∏ÄËá¥ÊÄßÈúÄÊ±Ç ÂæàÂ§öwebÂÆûÊó∂Á≥ªÁªüÂπ∂‰∏çË¶ÅÊ±Ç‰∏•Ê†ºÁöÑÊï∞ÊçÆÂ∫ì‰∫ãÂä°ÔºåÂØπËØª‰∏ÄËá¥ÊÄßÁöÑË¶ÅÊ±ÇÂæà‰ΩéÔºå Êúâ‰∫õÂú∫ÂêàÂØπÂÜô‰∏ÄËá¥ÊÄßË¶ÅÊ±ÇÂπ∂‰∏çÈ´ò„ÄÇÂÖÅËÆ∏ÂÆûÁé∞ÊúÄÁªà‰∏ÄËá¥ÊÄß„ÄÇÊï∞ÊçÆÂ∫ìÁöÑÂÜôÂÆûÊó∂ÊÄßÂíåËØªÂÆûÊó∂ÊÄßÈúÄÊ±ÇÂØπÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÊù•ËØ¥ÔºåÊèíÂÖ•‰∏ÄÊù°Êï∞ÊçÆ‰πãÂêéÁ´ãÂàªÊü•ËØ¢ÔºåÊòØËÇØÂÆöÂèØ‰ª•ËØªÂá∫Êù•ËøôÊù°Êï∞ÊçÆÁöÑÔºå‰ΩÜÊòØÂØπ‰∫éÂæàÂ§öwebÂ∫îÁî®Êù•ËØ¥ÔºåÂπ∂‰∏çË¶ÅÊ±ÇËøô‰πàÈ´òÁöÑÂÆûÊó∂ÊÄßÔºåÊØîÊñπËØ¥Âèë‰∏ÄÊù°Ê∂àÊÅØ‰πã ÂêéÔºåËøáÂá†Áßí‰πÉËá≥ÂçÅÂá†Áßí‰πãÂêéÔºåÊàëÁöÑËÆ¢ÈòÖËÄÖÊâçÁúãÂà∞ËøôÊù°Âä®ÊÄÅÊòØÂÆåÂÖ®ÂèØ‰ª•Êé•ÂèóÁöÑ„ÄÇÂØπÂ§çÊùÇÁöÑSQLÊü•ËØ¢ÔºåÁâπÂà´ÊòØÂ§öË°®ÂÖ≥ËÅîÊü•ËØ¢ÁöÑÈúÄÊ±Ç ‰ªª‰ΩïÂ§ßÊï∞ÊçÆÈáèÁöÑwebÁ≥ªÁªüÔºåÈÉΩÈùûÂ∏∏ÂøåËÆ≥Â§ö‰∏™Â§ßË°®ÁöÑÂÖ≥ËÅîÊü•ËØ¢Ôºå‰ª•ÂèäÂ§çÊùÇÁöÑÊï∞ÊçÆÂàÜÊûêÁ±ªÂûãÁöÑÊä•Ë°®Êü•ËØ¢ÔºåÁâπÂà´ÊòØSNSÁ±ªÂûãÁöÑÁΩëÁ´ôÔºå‰ªéÈúÄÊ±Ç‰ª•Âèä‰∫ßÂìÅËÆæËÆ°Ëßí Â∫¶ÔºåÂ∞±ÈÅøÂÖç‰∫ÜËøôÁßçÊÉÖÂÜµÁöÑ‰∫ßÁîü„ÄÇÂæÄÂæÄÊõ¥Â§öÁöÑÂè™ÊòØÂçïË°®ÁöÑ‰∏ªÈîÆÊü•ËØ¢Ôºå‰ª•ÂèäÂçïË°®ÁöÑÁÆÄÂçïÊù°‰ª∂ÂàÜÈ°µÊü•ËØ¢ÔºåSQLÁöÑÂäüËÉΩË¢´ÊûÅÂ§ßÁöÑÂº±Âåñ‰∫Ü„ÄÇ 1234567 CAPÁêÜËÆ∫ÁöÑÊ†∏ÂøÉÊòØÔºö‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏çÂèØËÉΩÂêåÊó∂ÂæàÂ•ΩÁöÑÊª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂèØÁî®ÊÄßÂíåÂàÜÂå∫ÂÆπÈîôÊÄßËøô‰∏â‰∏™ÈúÄÊ±ÇÔºåÊúÄÂ§öÂè™ËÉΩÂêåÊó∂ËæÉÂ•ΩÁöÑÊª°Ë∂≥‰∏§‰∏™„ÄÇÂõ†Ê≠§ÔºåÊ†πÊçÆ CAP ÂéüÁêÜÂ∞Ü NoSQL Êï∞ÊçÆÂ∫ìÂàÜÊàê‰∫ÜÊª°Ë∂≥ CA ÂéüÂàô„ÄÅÊª°Ë∂≥ CP ÂéüÂàôÂíåÊª°Ë∂≥ AP ÂéüÂàô‰∏â Â§ßÁ±ªÔºöCA - ÂçïÁÇπÈõÜÁæ§ÔºåÊª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂèØÁî®ÊÄßÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏Âú®ÂèØÊâ©Â±ïÊÄß‰∏ä‰∏çÂ§™Âº∫Â§ß„ÄÇCP - Êª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂàÜÂå∫ÂÆπÂøçÂøÖÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏ÊÄßËÉΩ‰∏çÊòØÁâπÂà´È´ò„ÄÇAP - Êª°Ë∂≥ÂèØÁî®ÊÄßÔºåÂàÜÂå∫ÂÆπÂøçÊÄßÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏ÂèØËÉΩÂØπ‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç‰Ωé‰∏Ä‰∫õ„ÄÇÔøº 123456BASEÂ∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂº∫‰∏ÄËá¥ÊÄßÂºïËµ∑ÁöÑÈóÆÈ¢òËÄåÂºïËµ∑ÁöÑÂèØÁî®ÊÄßÈôç‰ΩéËÄåÊèêÂá∫ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇBASEÂÖ∂ÂÆûÊòØ‰∏ãÈù¢‰∏â‰∏™ÊúØËØ≠ÁöÑÁº©ÂÜôÔºö Âü∫Êú¨ÂèØÁî®ÔºàBasically AvailableÔºâ ËΩØÁä∂ÊÄÅÔºàSoft stateÔºâ ÊúÄÁªà‰∏ÄËá¥ÔºàEventually consistentÔºâÂÆÉÁöÑÊÄùÊÉ≥ÊòØÈÄöËøáËÆ©Á≥ªÁªüÊîæÊùæÂØπÊüê‰∏ÄÊó∂ÂàªÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÁöÑË¶ÅÊ±ÇÊù•Êç¢ÂèñÁ≥ªÁªüÊï¥‰Ωì‰º∏Áº©ÊÄßÂíåÊÄßËÉΩ‰∏äÊîπËßÇ„ÄÇ‰∏∫‰ªÄ‰πàËøô‰πàËØ¥Âë¢ÔºåÁºòÁî±Â∞±Âú®‰∫éÂ§ßÂûãÁ≥ªÁªüÂæÄÂæÄÁî±‰∫éÂú∞ÂüüÂàÜÂ∏ÉÂíåÊûÅÈ´òÊÄßËÉΩÁöÑË¶ÅÊ±ÇÔºå‰∏çÂèØËÉΩÈááÁî®ÂàÜÂ∏ÉÂºè‰∫ãÂä°Êù•ÂÆåÊàêËøô‰∫õÊåáÊ†áÔºåË¶ÅÊÉ≥Ëé∑ÂæóËøô‰∫õÊåáÊ†áÔºåÊàë‰ª¨ÂøÖÈ°ªÈááÁî®Âè¶Â§ñ‰∏ÄÁßçÊñπÂºèÊù•ÂÆåÊàêÔºåËøôÈáåBASEÂ∞±ÊòØËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÂäûÊ≥ï 123456ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂàÜÂ∏ÉÂºèÁ≥ªÁªüÔºàdistributed systemÔºâ Áî±Â§öÂè∞ËÆ°ÁÆóÊú∫ÂíåÈÄö‰ø°ÁöÑËΩØ‰ª∂ÁªÑ‰ª∂ÈÄöËøáËÆ°ÁÆóÊú∫ÁΩëÁªúËøûÊé•ÔºàÊú¨Âú∞ÁΩëÁªúÊàñÂπøÂüüÁΩëÔºâÁªÑÊàê„ÄÇÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊòØÂª∫Á´ãÂú®ÁΩëÁªú‰πã‰∏äÁöÑËΩØ‰ª∂Á≥ªÁªü„ÄÇÊ≠£ÊòØÂõ†‰∏∫ËΩØ‰ª∂ÁöÑÁâπÊÄßÔºåÊâÄ‰ª•ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂÖ∑ÊúâÈ´òÂ∫¶ÁöÑÂÜÖËÅöÊÄßÂíåÈÄèÊòéÊÄß„ÄÇÂõ†Ê≠§ÔºåÁΩëÁªúÂíåÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰πãÈó¥ÁöÑÂå∫Âà´Êõ¥Â§öÁöÑÂú®‰∫éÈ´òÂ±ÇËΩØ‰ª∂ÔºàÁâπÂà´ÊòØÊìç‰ΩúÁ≥ªÁªüÔºâÔºåËÄå‰∏çÊòØÁ°¨‰ª∂„ÄÇÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂèØ‰ª•Â∫îÁî®Âú®Âú®‰∏çÂêåÁöÑÂπ≥Âè∞‰∏äÂ¶ÇÔºöPc„ÄÅÂ∑•‰ΩúÁ´ô„ÄÅÂ±ÄÂüüÁΩëÂíåÂπøÂüüÁΩë‰∏äÁ≠â„ÄÇÁÆÄÂçïÊù•ËÆ≤Ôºö1ÂàÜÂ∏ÉÂºèÔºö‰∏çÂêåÁöÑÂ§öÂè∞ÊúçÂä°Âô®‰∏äÈù¢ÈÉ®ÁΩ≤‰∏çÂêåÁöÑÊúçÂä°Ê®°ÂùóÔºàÂ∑•Á®ãÔºâÔºå‰ªñ‰ª¨‰πãÈó¥ÈÄöËøáRpc/Rmi‰πãÈó¥ÈÄö‰ø°ÂíåË∞ÉÁî®ÔºåÂØπÂ§ñÊèê‰æõÊúçÂä°ÂíåÁªÑÂÜÖÂçè‰Ωú„ÄÇ2ÈõÜÁæ§Ôºö‰∏çÂêåÁöÑÂ§öÂè∞ÊúçÂä°Âô®‰∏äÈù¢ÈÉ®ÁΩ≤Áõ∏ÂêåÁöÑÊúçÂä°Ê®°ÂùóÔºåÈÄöËøáÂàÜÂ∏ÉÂºèË∞ÉÂ∫¶ËΩØ‰ª∂ËøõË°åÁªü‰∏ÄÁöÑË∞ÉÂ∫¶ÔºåÂØπÂ§ñÊèê‰æõÊúçÂä°ÂíåËÆøÈóÆ„ÄÇ]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git]]></title>
    <url>%2F2018%2F12%2F21%2FGit%20Maven%20%2FGit%2F</url>
    <content type="text"><![CDATA[GitHubÂàõÂª∫‰ªìÂ∫ìÊèêÁ§∫‰ª£Á†Å123456echo &quot;# È°πÁõÆÂêç&quot; &gt;&gt; README.mdgit initgit add README.mdgit commit -m &quot;first commit&quot;git remote add origin git@github.com:qiubaiying/È°πÁõÆÂêç.gitgit push -u origin master Ëã•‰ªìÂ∫ìÂ≠òÂú®Áõ¥Êé•push: 12git remote add origin git@github.com:qiubaiying/test.gitgit push -u origin master Â∏∏Áî®Êìç‰ΩúÂàõÂª∫‰ªìÂ∫ìÔºàÂàùÂßãÂåñ)123456Âú®ÂΩìÂâçÊåáÂÆöÁõÆÂΩï‰∏ãÂàõÂª∫git initÊñ∞Âª∫‰∏Ä‰∏™‰ªìÂ∫ìÁõÆÂΩïgit init [project-name]ÂÖãÈöÜ‰∏Ä‰∏™ËøúÁ®ãÈ°πÁõÆgit clone [url] ##Ê∑ªÂä†Êñá‰ª∂Âà∞ÁºìÂ≠òÂå∫ 12345Ê∑ªÂä†ÊâÄÊúâÂèòÂåñÁöÑÊñá‰ª∂ git add .Ê∑ªÂä†ÂêçÁß∞ÊåáÂÆöÊñá‰ª∂git add text.txt ÈÖçÁΩÆ123ËÆæÁΩÆÊèê‰∫§‰ª£Á†ÅÊó∂ÁöÑÁî®Êà∑‰ø°ÊÅØgit config [--global] user.name &quot;[name]&quot;git config [--global] user.email &quot;[email address]&quot; Êèê‰∫§123456789101112131415161718Êèê‰∫§ÊöÇÂ≠òÂå∫Âà∞‰ªìÂ∫ìÂå∫git commit -m &quot;msg&quot;# Êèê‰∫§ÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöÊñá‰ª∂Âà∞‰ªìÂ∫ìÂå∫$ git commit [file1] [file2] ... -m [message]# Êèê‰∫§Â∑•‰ΩúÂå∫Ëá™‰∏äÊ¨°commit‰πãÂêéÁöÑÂèòÂåñÔºåÁõ¥Êé•Âà∞‰ªìÂ∫ìÂå∫$ git commit -a# Êèê‰∫§Êó∂ÊòæÁ§∫ÊâÄÊúâdiff‰ø°ÊÅØ$ git commit -v# ‰ΩøÁî®‰∏ÄÊ¨°Êñ∞ÁöÑcommitÔºåÊõø‰ª£‰∏ä‰∏ÄÊ¨°Êèê‰∫§# Â¶ÇÊûú‰ª£Á†ÅÊ≤°Êúâ‰ªª‰ΩïÊñ∞ÂèòÂåñÔºåÂàôÁî®Êù•ÊîπÂÜô‰∏ä‰∏ÄÊ¨°commitÁöÑÊèê‰∫§‰ø°ÊÅØ$ git commit --amend -m [message]# ÈáçÂÅö‰∏ä‰∏ÄÊ¨°commitÔºåÂπ∂ÂåÖÊã¨ÊåáÂÆöÊñá‰ª∂ÁöÑÊñ∞ÂèòÂåñ$ git commit --amend [file1] [file2] ... ËøúÁ®ãÂêåÊ≠•1234567891011121314151617181920212223# ‰∏ãËΩΩËøúÁ®ã‰ªìÂ∫ìÁöÑÊâÄÊúâÂèòÂä®$ git fetch [remote]# ÊòæÁ§∫ÊâÄÊúâËøúÁ®ã‰ªìÂ∫ì$ git remote -v# ÊòæÁ§∫Êüê‰∏™ËøúÁ®ã‰ªìÂ∫ìÁöÑ‰ø°ÊÅØ$ git remote show [remote]# Â¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑËøúÁ®ã‰ªìÂ∫ìÔºåÂπ∂ÂëΩÂêç$ git remote add [shortname] [url]# ÂèñÂõûËøúÁ®ã‰ªìÂ∫ìÁöÑÂèòÂåñÔºåÂπ∂‰∏éÊú¨Âú∞ÂàÜÊîØÂêàÂπ∂$ git pull [remote] [branch]# ‰∏ä‰º†Êú¨Âú∞ÊåáÂÆöÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ì$ git push [remote] [branch]# Âº∫Ë°åÊé®ÈÄÅÂΩìÂâçÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ìÔºåÂç≥‰ΩøÊúâÂÜ≤Á™Å$ git push [remote] --force# Êé®ÈÄÅÊâÄÊúâÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ì$ git push [remote] --all ÂàÜÊîØ123456789101112131415161718192021222324252627282930313233343536373839404142# ÂàóÂá∫ÊâÄÊúâÊú¨Âú∞ÂàÜÊîØ$ git branch# ÂàóÂá∫ÊâÄÊúâËøúÁ®ãÂàÜÊîØ$ git branch -r# ÂàóÂá∫ÊâÄÊúâÊú¨Âú∞ÂàÜÊîØÂíåËøúÁ®ãÂàÜÊîØ$ git branch -a# Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºå‰ΩÜ‰æùÁÑ∂ÂÅúÁïôÂú®ÂΩìÂâçÂàÜÊîØ$ git branch [branch-name]# Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÂπ∂ÂàáÊç¢Âà∞ËØ•ÂàÜÊîØ$ git checkout -b [branch]# Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÊåáÂêëÊåáÂÆöcommit$ git branch [branch] [commit]# Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºå‰∏éÊåáÂÆöÁöÑËøúÁ®ãÂàÜÊîØÂª∫Á´ãËøΩË∏™ÂÖ≥Á≥ª$ git branch --track [branch] [remote-branch]# ÂàáÊç¢Âà∞ÊåáÂÆöÂàÜÊîØÔºåÂπ∂Êõ¥Êñ∞Â∑•‰ΩúÂå∫$ git checkout [branch-name]# ÂàáÊç¢Âà∞‰∏ä‰∏Ä‰∏™ÂàÜÊîØ$ git checkout -# Âª∫Á´ãËøΩË∏™ÂÖ≥Á≥ªÔºåÂú®Áé∞ÊúâÂàÜÊîØ‰∏éÊåáÂÆöÁöÑËøúÁ®ãÂàÜÊîØ‰πãÈó¥$ git branch --set-upstream [branch] [remote-branch]# ÂêàÂπ∂ÊåáÂÆöÂàÜÊîØÂà∞ÂΩìÂâçÂàÜÊîØ$ git merge [branch]# ÈÄâÊã©‰∏Ä‰∏™commitÔºåÂêàÂπ∂ËøõÂΩìÂâçÂàÜÊîØ$ git cherry-pick [commit]# Âà†Èô§ÂàÜÊîØ$ git branch -d [branch-name]# Âà†Èô§ËøúÁ®ãÂàÜÊîØ$ git push origin --delete [branch-name]$ git branch -dr [remote/branch] ##Ê†áÁ≠æTags 1234567891011121314151617181920212223Ê∑ªÂä†Ê†áÁ≠æ Âú®ÂΩìÂâçcommitgit tag -a v1.0 -m &apos;xxx&apos; Ê∑ªÂä†Ê†áÁ≠æ Âú®ÊåáÂÆöcommitgit tag v1.0 [commit]Êü•Áúãgit tagÂà†Èô§git tag -d V1.0Âà†Èô§ËøúÁ®ãtaggit push origin :refs/tags/[tagName]Êé®ÈÄÅgit push origin --tagsÊãâÂèñgit fetch origin tag V1.0Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÊåáÂêëÊüê‰∏™taggit checkout -b [branch] [tag] Êü•Áúã‰ø°ÊÅØ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960# ÊòæÁ§∫ÊúâÂèòÊõ¥ÁöÑÊñá‰ª∂$ git status# ÊòæÁ§∫ÂΩìÂâçÂàÜÊîØÁöÑÁâàÊú¨ÂéÜÂè≤$ git log# ÊòæÁ§∫commitÂéÜÂè≤Ôºå‰ª•ÂèäÊØèÊ¨°commitÂèëÁîüÂèòÊõ¥ÁöÑÊñá‰ª∂$ git log --stat# ÊêúÁ¥¢Êèê‰∫§ÂéÜÂè≤ÔºåÊ†πÊçÆÂÖ≥ÈîÆËØç$ git log -S [keyword]# ÊòæÁ§∫Êüê‰∏™commit‰πãÂêéÁöÑÊâÄÊúâÂèòÂä®ÔºåÊØè‰∏™commitÂç†ÊçÆ‰∏ÄË°å$ git log [tag] HEAD --pretty=format:%s# ÊòæÁ§∫Êüê‰∏™commit‰πãÂêéÁöÑÊâÄÊúâÂèòÂä®ÔºåÂÖ∂&quot;Êèê‰∫§ËØ¥Êòé&quot;ÂøÖÈ°ªÁ¨¶ÂêàÊêúÁ¥¢Êù°‰ª∂$ git log [tag] HEAD --grep feature# ÊòæÁ§∫Êüê‰∏™Êñá‰ª∂ÁöÑÁâàÊú¨ÂéÜÂè≤ÔºåÂåÖÊã¨Êñá‰ª∂ÊîπÂêç$ git log --follow [file]$ git whatchanged [file]# ÊòæÁ§∫ÊåáÂÆöÊñá‰ª∂Áõ∏ÂÖ≥ÁöÑÊØè‰∏ÄÊ¨°diff$ git log -p [file]# ÊòæÁ§∫ËøáÂéª5Ê¨°Êèê‰∫§$ git log -5 --pretty --oneline# ÊòæÁ§∫ÊâÄÊúâÊèê‰∫§ËøáÁöÑÁî®Êà∑ÔºåÊåâÊèê‰∫§Ê¨°Êï∞ÊéíÂ∫è$ git shortlog -sn# ÊòæÁ§∫ÊåáÂÆöÊñá‰ª∂ÊòØ‰ªÄ‰πà‰∫∫Âú®‰ªÄ‰πàÊó∂Èó¥‰øÆÊîπËøá$ git blame [file]# ÊòæÁ§∫ÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫ÁöÑÂ∑ÆÂºÇ$ git diff# ÊòæÁ§∫ÊöÇÂ≠òÂå∫Âíå‰∏ä‰∏Ä‰∏™commitÁöÑÂ∑ÆÂºÇ$ git diff --cached [file]# ÊòæÁ§∫Â∑•‰ΩúÂå∫‰∏éÂΩìÂâçÂàÜÊîØÊúÄÊñ∞commit‰πãÈó¥ÁöÑÂ∑ÆÂºÇ$ git diff HEAD# ÊòæÁ§∫‰∏§Ê¨°Êèê‰∫§‰πãÈó¥ÁöÑÂ∑ÆÂºÇ$ git diff [first-branch]...[second-branch]# ÊòæÁ§∫‰ªäÂ§©‰Ω†ÂÜô‰∫ÜÂ§öÂ∞ëË°å‰ª£Á†Å$ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;# ÊòæÁ§∫ÊüêÊ¨°Êèê‰∫§ÁöÑÂÖÉÊï∞ÊçÆÂíåÂÜÖÂÆπÂèòÂåñ$ git show [commit]# ÊòæÁ§∫ÊüêÊ¨°Êèê‰∫§ÂèëÁîüÂèòÂåñÁöÑÊñá‰ª∂$ git show --name-only [commit]# ÊòæÁ§∫ÊüêÊ¨°Êèê‰∫§Êó∂ÔºåÊüê‰∏™Êñá‰ª∂ÁöÑÂÜÖÂÆπ$ git show [commit]:[filename]# ÊòæÁ§∫ÂΩìÂâçÂàÜÊîØÁöÑÊúÄËøëÂá†Ê¨°Êèê‰∫§$ git reflog Êí§ÈîÄ12345678910111213141516171819202122232425262728293031# ÊÅ¢Â§çÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöÊñá‰ª∂Âà∞Â∑•‰ΩúÂå∫$ git checkout [file]# ÊÅ¢Â§çÊüê‰∏™commitÁöÑÊåáÂÆöÊñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫$ git checkout [commit] [file]# ÊÅ¢Â§çÊöÇÂ≠òÂå∫ÁöÑÊâÄÊúâÊñá‰ª∂Âà∞Â∑•‰ΩúÂå∫$ git checkout .# ÈáçÁΩÆÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöÊñá‰ª∂Ôºå‰∏é‰∏ä‰∏ÄÊ¨°commit‰øùÊåÅ‰∏ÄËá¥Ôºå‰ΩÜÂ∑•‰ΩúÂå∫‰∏çÂèò$ git reset [file]# ÈáçÁΩÆÊöÇÂ≠òÂå∫‰∏éÂ∑•‰ΩúÂå∫Ôºå‰∏é‰∏ä‰∏ÄÊ¨°commit‰øùÊåÅ‰∏ÄËá¥$ git reset --hard# ÈáçÁΩÆÂΩìÂâçÂàÜÊîØÁöÑÊåáÈíà‰∏∫ÊåáÂÆöcommitÔºåÂêåÊó∂ÈáçÁΩÆÊöÇÂ≠òÂå∫Ôºå‰ΩÜÂ∑•‰ΩúÂå∫‰∏çÂèò$ git reset [commit]# ÈáçÁΩÆÂΩìÂâçÂàÜÊîØÁöÑHEAD‰∏∫ÊåáÂÆöcommitÔºåÂêåÊó∂ÈáçÁΩÆÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫Ôºå‰∏éÊåáÂÆöcommit‰∏ÄËá¥$ git reset --hard [commit]# ÈáçÁΩÆÂΩìÂâçHEAD‰∏∫ÊåáÂÆöcommitÔºå‰ΩÜ‰øùÊåÅÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫‰∏çÂèò$ git reset --keep [commit]# Êñ∞Âª∫‰∏Ä‰∏™commitÔºåÁî®Êù•Êí§ÈîÄÊåáÂÆöcommit# ÂêéËÄÖÁöÑÊâÄÊúâÂèòÂåñÈÉΩÂ∞ÜË¢´ÂâçËÄÖÊäµÊ∂àÔºåÂπ∂‰∏îÂ∫îÁî®Âà∞ÂΩìÂâçÂàÜÊîØ$ git revert [commit]# ÊöÇÊó∂Â∞ÜÊú™Êèê‰∫§ÁöÑÂèòÂåñÁßªÈô§ÔºåÁ®çÂêéÂÜçÁßªÂÖ•$ git stash$ git stash pop ÂÖ∂‰ªñ12# ÁîüÊàê‰∏Ä‰∏™ÂèØ‰æõÂèëÂ∏ÉÁöÑÂéãÁº©ÂåÖ$ git archives]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf]]></title>
    <url>%2F2018%2F12%2F19%2FJSP%20Servlet%20Thyme%2FThymeleaf%2F</url>
    <content type="text"><![CDATA[#Thymeleaf‰∏≠ÂèñÂÄº reservationÔºö$. {reservations}ÂÖ∂‰∏≠${reservations}ÁöÑÂÄºÊòØmodeandviewÈáåÈù¢ÁöÑ #reservationÁöÑÂÄºÊòØÈöè ‰æøËµ∑ÁöÑÂèòÈáè ÊîæÂú®reservationÈáåÈù¢ ‚ÄìË°®Ê†º 123456 . ____ _ __ _ _ /\\ / ___&apos;_ __ _ _(_)_ __ __ _ \ \ \ \( ( )\___ | &apos;_ | &apos;_| | &apos;_ \/ _` | \ \ \ \ \\/ ___)| |_)| | | | | || (_| | ) ) ) ) &apos; |____| .__|_| |_|_| |_\__, | / / / / =========|_|==============|___/=/_/_/_/]]></content>
      <categories>
        <category>Thymeleaf</category>
      </categories>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Html]]></title>
    <url>%2F2018%2F12%2F19%2FHTML%2BCSS%2BJS%2FHTML%2F</url>
    <content type="text"><![CDATA[/hexo/source/_posts/JVM/JVMÂú£ÊÄùÊ∫ê.md]]></content>
      <categories>
        <category>Html</category>
      </categories>
      <tags>
        <tag>Html</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2018%2F12%2F15%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2F%E7%94%B5%E5%BD%B1%2F</url>
    <content type="text"><![CDATA[ÈÇ™‰∏çÂéãÊ≠£ÊâæÂà∞‰Ω†ËÆ©Â≠êÂºπÈ£û‰Ω†Â•Ω ‰πãÂçé‰∫∫‰∏çÂΩ™ÊÇçÊûâÂ∞ëÂπ¥#Êàë‰∏çÊòØËçØÁ•û‰ªô ÂΩ±‰∏ÄÊú¨Â•Ω‰π¶ÂäüÂ§´Êù•ÁîµÁãÇÂìç]]></content>
  </entry>
  <entry>
    <title><![CDATA[for Âæ™ÁéØ]]></title>
    <url>%2F2018%2F12%2F15%2Fjava%E5%9F%BA%E7%A1%80%2Ffor%E5%BE%AA%E7%8E%AF%E8%AE%B2%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[for Âæ™ÁéØ Â§ßÂúàÂ•óÂ∞èÂúà#1.1forÂæ™ÁéØÊÄùÊÉ≥ 123456789public class code4 &#123; public static void main(String[] args) &#123; for (int x = 0; x &lt; 3; x++) &#123; for (int y = 0; y &lt; 4; y++) &#123; System.out.println("ok"); &#125; &#125; &#125;&#125; ËØªÁ¨¨‰∏Ä‰∏™forÂæ™ÁéØÂàùÂßãÂåñ‰∏Ä‰∏™x ÂèòÈáèx=0Ôºö ‚Äã ÂÖàÊâßË°åx=0; ÊâßË°åx&lt;3Êª°Ë∂≥Êù°‰ª∂‚Äî&gt; ÊâßË°åÁ¨¨‰∫å‰∏™forÂæ™ÁéØËØ≠Âè•ÂàùÂßãÂåñ‰∏Ä‰∏™ÂèòÈáèy=0; ‚Äã ÂÖàÊâßË°åy=0;ÊâßË°åy&lt;4Êª°Ë∂≥Êù°‰ª∂‚Äì&gt;ÊâìÂç∞‰∏ÄÊ¨°ok ÂΩìÂÜÖÂæ™ÁéØÊ≤°ÊúâÁªìÊùüÊó∂Âæ™ÁéØÂá∫‰∏çÂéªÊâßË°å‚Äì&gt;y++;ÊâìÂç∞ÂõõÊ¨°okÔºõ y++=4Êó∂ÂÄôy&lt;4‰∏çÊàêÁ´ã Ë∑≥Âá∫Âæ™ÁéØ yÂú®ÂÜÖÂ≠ò‰∏≠Ê∂àÂ§± ‚Äì&gt;ÊâßË°å‚Äìx++ Êª°Ë∂≥Êù°‰ª∂ Âèà‰∫ßÁîü‰∏Ä‰∏™y=0,ÂÜÖÂæ™ÁéØÁªßÁª≠Âæ™ÁéØÂõõÊ¨° ÊâÄ‰ª•‰∏ÄÂÖ±ÊâìÂç∞12‰∏™ok #1.2È™åËØÅdocÂëΩ‰ª§Ë°å 123456789101112131415161718public class code5 &#123;/** * forÂæ™ÁéØÂü∫Êú¨ÊÄùÊÉ≥demo1 * ËæìÂá∫Ôºö * ***** * ***** * ***** * ***** */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 4; i++) &#123; for (int j = 0; j &lt; 5; j++) &#123; System.out.print("*"); &#125; System.out.println(); &#125; &#125;&#125; i ÊéßÂà∂Ë°å Á¨¨‰∏Ä‰∏™forÂæ™ÁéØ jÊéßÂà∂Âàó Á¨¨‰∫å‰∏™forÂæ™ÁéØ ÔºàÊØè‰∏ÄÂàóÁöÑ‰∏™Êï∞Ôºâ #1.3È™åËØÅdocÂëΩ‰ª§Ë°å 123456789101112131415161718public class code6 &#123; /** ËæìÂá∫docÁïåÈù¢Ôºö * ***** * **** * *** * ** * * */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 5; i++) &#123; for (int j = i; j &lt; 5; j++) &#123; System.out.print("*"); &#125; System.out.println(); &#125; &#125;&#125; ÂàÜÊûêÔºö #1.4È™åËØÅdoc 123456789101112131415161718public class code7 &#123; /** * * * ** * *** * **** * ***** */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 5; i++) &#123; for (int j = 0; j &lt;= i; j++) &#123; System.out.print("*"); &#125; System.out.println(); &#125; &#125;&#125; #1.5È™åËØÅdoc‚≠êÔ∏è 1234567891011121314151617public class code8 &#123; /** * 54321 * 5432 * 543 * 54 * 5 */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 5; i++) &#123; for (int j = 5; j &gt; i; j--) &#123; System.out.print(j); &#125; System.out.println(); &#125; &#125;&#125; int j=5 j&gt;i j‚Äì ÂÖ∂‰∏≠j‚ÄîÊòØÂÖ≥ÈîÆ 123456789101112131415161718public class code9 &#123; /** * 1 * 22 * 333 * 4444 * 55555 */ public static void main(String[] args) &#123; for (int i = 1; i &lt;= 5; i++) &#123; for (int j = 1; j &lt;=i; j++) &#123; System.out.print(i); &#125; System.out.println(); &#125; &#125;&#125; 1234567891011121314151617181920212223242526public class code10 &#123; /** * * * * * * * * -* * * * * --* * * * ---* * * ----* * Áî±‰∏§‰∏™ÂõæÂΩ¢ÁªÑÊàê‰∏Ä‰∏™Áî±Âêë‰∏ãÁöÑ*ÁªÑÊàê * ‰∏Ä‰∏™Áî±Âêë‰∏äÁöÑ‚Äî‚ÄîÁªÑÊàê */ public static void main(String[] args) &#123; for (int i = 1; i &lt;= 5; i++) &#123; for (int j = 1; j &lt;= i; j++) &#123; System.out.print(" "); &#125; for (int z = i; z&lt;=5 ; z++) &#123; System.out.print("* "); &#125;System.out.println(); &#125; &#125;&#125; ÂàÜÊûêÔºö #1.6‰Ωú ‰∏öÔºöÊâìÂç∞ 123456789101112131415161718public class code8 &#123; /** * 54321 * 5432 * 543 * 54 * 5 */ public static void main(String[] args) &#123; for (int i = 0; i &lt; 5; i++) &#123; for (int j = 5; j &gt;i; j--) &#123; System.out.print(j); &#125;System.out.println(); &#125; &#125;&#125; ÂàÜÊûêÔºö ËßÑÂæãÔºöforÂÜÖÂæ™ÁéØ Â¶ÇÊûúji Âπ∂‰∏îËÆ©j‚Äì 1234567891011121314151617public class code9 &#123; /** * 1 * 22 * 333 * 4444 * 55555 */ public static void main(String[] args) &#123; for (int i = 1; i &lt;=5; i++) &#123; for (int j = 0; j &lt; i; j++) &#123; System.out.print(i); &#125;System.out.println(); &#125; &#125;&#125;]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jquery]]></title>
    <url>%2F2018%2F12%2F14%2F%E5%89%8D%E7%AB%AF%2FJquery%E5%AD%A6%E4%B9%A01%2F</url>
    <content type="text"><![CDATA[1.Ëé∑ÂèñJqueryÂØπË±°1234567&lt;input type="text" id="username" value="jack"/&gt;&lt;script type="text/javascript"&gt; //jqueryËé∑ÂæóÊï∞ÊçÆ ËØ≠Ê≥ï$&#123;"ÈÄâÊã©Âô®"&#125;==JqueryÔºà"ÈÄâÊã©Âô®"Ôºâ var usernmae = $("#username"); //val() ÂáΩÊï∞ Áî®‰∫éËé∑ÂæóvalueÂ±ûÊÄßÁöÑÂÄº jack alert(usernmae.val());&lt;/script&gt; 2.Jquery‰∏éDomÂØπË±°ÁöÑ‰∫íÁõ∏ËΩ¨Êç¢12345678910111213141516171819202122&lt;input type="text" id="username" value="jack"/&gt;&lt;script type="text/javascript"&gt; //JqueryÂØπË±°ÂíåDomÂØπË±°ÁöÑËΩ¨Êç¢ //1„ÄÇ‰ΩøÁî®JavascripeËé∑ÂèñvalueÁöÑÂÄº var username = document.getElementById("username"); alert(username.value);//jackÁî®ÁöÑÊòØÂ±ûÊÄß //2„ÄÇÂ∞ÜdomÂØπË±° ËΩ¨Êç¢‰∏∫JqueryÂØπË±° //# ËØ≠Ê≥ïÔºö$(domÂØπË±°) //# Âª∫ËÆÆ ÔºöJqueryÂØπË±°ÂèòÈáèÂêçÂ≠ó Âª∫ËÆÆ‰ª•$ÂºÄÂ§¥ var $username = $(username); alert($username.val()); //3.Â∞ÜjqueryÂØπË±°ËΩ¨‰∏∫DomÂØπË±° //3.1 JqueryÂØπË±°ÂÜÖÈÉ®‰ΩøÁî®Êï∞ÁªÑÂ≠òÊîæÊâÄÊúâÁöÑÊï∞ÊçÆ ÂèØ‰ª•ÈÄöËøáÊï∞ÁªÑÁöÑ‰∏ãÊ†áËé∑ÂèñÔºàÁ¥¢ÂºïÔºâ var username2 = $username[0]; alert(username2.value); //3.2JqueryÊèê‰æõÂáΩÊï∞get()ËΩ¨Êç¢‰∏∫domÂØπË±° var username3 = $username.get(0); alert(username3.value);&lt;/script&gt; 3. ÈÄâÊã©Âô®3.1 Âü∫Êú¨ÈÄâÊã©Âô®„ÄêÈáçË¶Å„Äë id ,idÈÄâÊã©Âô® ÈÄöËøáid ÂÄºËé∑ÂæóÂÖÉÁ¥† elementÔºåÊ†áÁ≠æÈÄâÊã©Âô® ÈÄöËøáÊ†áÁ≠æÂêçËé∑ÂæóÂÖÉÁ¥† .class Á±ªÈÄâÊã©Âô® ÈÄöËøáclassÂÄºËé∑ÂæóÂÖÉÁ¥†„ÄÇÊ≥®ÊÑèÔºö‰ΩøÁî®ÁÇπÂºÄÂ§¥ s1,s2,‚Ä¶ Â§öÈÄâÊã©Âô®ÔºåÂ∞ÜÂ§ö‰∏™ÈÄâÊã©Âô®ÁöÑÁªìÊûúÊ∑ªÂä†‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠„ÄÇ 123456789101112131415161718192021&lt;script type="text/javascript"&gt; //window.onload=function()&#123;...&#125;ÂåøÂêçÂáΩÊï∞ //jquery È°µÈù¢Âä†ËΩΩ--&gt;function()ÂåøÂêçÂáΩÊï∞ $(document).ready(function () &#123; &#125;); //idÈÄâÊã©Âô® ‰∏∫idÁªëÂÆö‰∏Ä‰∏™‰∫ã‰ª∂ ÁÑ∂Âêé‰º†ÈÄí‰∏Ä‰∏™ÂáΩÊï∞ $("#btn1").click(function () &#123; $("#one").css("background-color", "#ff0") &#125;); //Á±ªÈÄâÊã©Âô® $(".btn2").click(function () &#123; $(".one").css("background-color", "#ff0"); &#125;); //ÂÖÉÁ¥†ÈÄâÊã©Âô® $("div").background = "#ff2";&lt;/script&gt;&lt;input type="button" id="btn1" value="ÈÄâÊã©id‰∏∫oneÁöÑÂÖÉÁ¥†"&gt;&lt;input type="button" class="btn2" value="ÈÄâÊã©id‰∏∫oneÁöÑÂÖÉÁ¥†"&gt; 3.2Â±ÇÁ∫ßÈÄâÊã©Âô® 3.3Âü∫Êú¨ËøáÊª§ÈÄâÊã©Âô®‚Äî‚Äî‚ÄúÔºöÂÖ≥ÈîÆÂ≠ó‚Äú 123456789101112131415161718192021222324252627&lt;label for="username"&gt;&lt;/label&gt;&lt;input type="text" id="username" value="jack"/&gt;&lt;script type="text/javascript"&gt; // &lt;input type="text" value="ËØ∑ËæìÂÖ•Ë¥¶Âè∑" defaultValue="ËØ∑ËæìÂÖ•Ë¥¶Âè∑"&gt; $("input[type='text']").on("blur focus", function () &#123; //1.Ëé∑ÂæóÈªòËÆ§ÂÄº var attr = $(this).attr("defaultValue"); //2.Âà§Êñ≠ÊòØÂê¶Ëé∑ÂæóÁÑ¶ÁÇπ if ($(this).is(":focus")) &#123; //2.1 Ëé∑ÂæóÁÑ¶ÁÇπÔºåÊ∏ÖÁ©∫valueÂÄº Ôºåthis ÂΩìÂâçÊâßË°åÂØπË±° ÊòØdomÂØπË±°Áî®$(this)ËΩ¨‰∏∫jqueryÂØπË±° if ($(this).val() === attr) &#123; $(this).val(""); &#125; &#125; else &#123; //2.2Â§±ÂéªÁÑ¶ÁÇπ ËÆæÁΩÆÈªòËÆ§ÂÄº if ($(this).val() === "") &#123; $(this).val(attr); &#125; &#125; &#125;);&lt;/script&gt;&lt;label&gt; &lt;input type="text" value="ËØ∑ËæìÂÖ•Ë¥¶Âè∑" defaultValue="ËØ∑ËæìÂÖ•Ë¥¶Âè∑"&gt; &lt;input type="text" value="ËØ∑ËæìÂÖ•Ë¥¶Âè∑" defaultValue="ËØ∑ËæìÂÖ•ÂØÜÁ†Å"&gt;&lt;/label&gt;&lt;/body&gt;&lt;/html&gt; 3.4ÂÜÖÂÆπËøáÊª§ 3.5ÂèØËßÅÊÄßËøáÊª§ ÔºàÈáçË¶ÅÔºâ 123456789101112*/// &lt;input type="button" value="ÈÄâÂèñÊâÄÊúâÂèØËßÅÁöÑdivÂÖÉÁ¥†" id="bt1"&gt;$("#b1").click(function () &#123; $("div:hidden").css("background-color", "#ff0");&#125;);// &lt;input type="button" value="ÈÄâÂèñÊâÄÊúâ‰∏çÂèØËßÅÁöÑÂÖÉÁ¥†Âà©Áî®jquery‰∏≠ÁöÑshowÔºàÔºâÂ∞Ü‰ªñ‰ª¨ÊòæÁ§∫Âá∫Êù•" id="bt2"&gt;$("#bt2").click(function () &#123; $("div:hidden").css("background-color", "#ff0");&#125;); 3.6ÂÆûÊàò 3.7Â±ûÊÄßÈÄâÊã©Âô®ÔºàÊéåÊè°Ôºâ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Title&lt;/title&gt; &lt;script src="js/jquery-2.1.0.js"&gt;&lt;/script&gt; &lt;!--1 ‚≠êÔ∏è&lt;input type="button" value="ÈÄâÂèñÂê´ÊúâÂ±ûÊÄßtitleÁöÑdivÂÖÉÁ¥†" id="btn1"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn1").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title]").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--2&lt;input type="button" value="ÈÄâÂèñÂ±ûÊÄßtitleÂÄºÁ≠â‰∫é"test"ÁöÑdivÂÖÉÁ¥†" id="btn2"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title='test']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--3 &lt;input type="button" value="ÈÄâÂèñÂ±ûÊÄßtitleÂÄº‰∏çÁ≠â‰∫é"test"ÁöÑdivÂÖÉÁ¥†ÔºàÊ≤°ÊúâtitleÂ±ûÊÄßÁöÑ‰πü‰ºöË¢´ÈÄâ‰∏≠Ôºâ" id="btn3"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[titleÔºÅ='test']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--4 &lt;input type="button" value="ÈÄâÂèñÂ±ûÊÄßtitleÂÄº ‰ª•"te"ÂºÄÂßãÁöÑdivÂÖÉÁ¥†ÔºàÊ≤°ÊúâtitleÂ±ûÊÄßÁöÑ‰πü‰ºöË¢´ÈÄâ‰∏≠Ôºâ" id="btn4"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title^='te']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--5 &lt;input type="button" value="ÈÄâÂèñÂ±ûÊÄßtitleÂÄº ‰ª•"est"ÁªìÊùüÁöÑdivÂÖÉÁ¥†ÔºàÊ≤°ÊúâtitleÂ±ûÊÄßÁöÑ‰πü‰ºöË¢´ÈÄâ‰∏≠Ôºâ" id="btn5"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title$='est']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--6 &lt;input type="button" value="ÈÄâÂèñÂ±ûÊÄßtitleÂÄº Âê´Êúâ"es"ÁöÑdivÂÖÉÁ¥†ÔºàÊ≤°ÊúâtitleÂ±ûÊÄßÁöÑ‰πü‰ºöË¢´ÈÄâ‰∏≠Ôºâ" id="btn5"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn2").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[title*='es']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt; &lt;!--‚≠êÔ∏è7&lt;input type="button" value="ÁªÑÂêàÂ±ûÊÄßÈÄâÊã©Âô® È¶ñÂÖàÈÄâÂèñÊúâÂ±ûÊÄßidÁöÑdivÂÖÉÁ¥†„ÄÇÁÑ∂ÂêéÂú®ÁªìÊûú‰∏≠ ÈÄâÂèñtitle ÂÄºÂê´Êúâ"es"ÁöÑÂÖÉÁ¥†"Ôºâ" id="btn5"/&gt;--&gt; &lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#btn5").click(function () &#123; //&lt;xx title=""&gt; &lt;xxx title="yyy"&gt; &lt;xxx title&gt; $("div[id][title*='es']").css("background-color", "#fff0"); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt; 3.8ÈÄâÊã©Âô® ÔºàÂ≠êÂÖÉÁ¥†ËøáÊª§Ôºâ 123456789101112131415&lt;!--1 &lt;input type="button" value="ÈÄâÂèñÊØè‰∏™class‰∏∫oneÁöÑdivÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¨¨2‰∏™Â≠êÂÖÉÁ¥†" id="btn1"&gt;--&gt; &lt;script type="text/javascript"&gt; $("btn1").click(function () &#123; //Â≠êÂÖÉÁ¥† ÈÄâÊã©‰ΩøÁî®ÂâçÊèê Ë°®ËææÂºèÂâçÈù¢ÂøÖÈ°ªÊòØÂÖÉÁ¥† Â¶ÇÔºö$(div:nth-child(2)) //Â¶ÇÊûúÂÖÉÁ¥†‰∏äÊ∑ªÂä† Êù°‰ª∂ ÂøÖÈ°ª‰ΩøÁî®Á©∫Ê†º Â¶Ç$("div[class='one'] :nth-child(2)") $("div[class='one'] :nth-child(2)").css("background-color", "#ff0"); $("div.one :nth-child(2)").css("background-color", "#ff0"); &#125;); /** * ÂØπÊØîÔºö * $("div.one") ÊâÄÊúâÁöÑdivËá™Â∑±ÁöÑÊ†∑Âºè‰∏∫one * $("div .one") ÊâÄÊúâÁöÑdiv‰∏≠Âêé‰ª£ÂÖÉÁ¥† Ê†∑Âºè‰∏∫one Á©∫Ê†º */ &lt;/script&gt; 123456789101112131415161718192021222324&lt;script type="text/javascript"&gt; $("btn1").click(function () &#123; $("div.one :first-child").css("background-color", "#ff0"); &#125;); &lt;/script&gt; &lt;!--&lt;input type="button" value="Â¶ÇÊûúclass‰∏∫oneÁöÑdivÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥† " id="bt4"&gt;--&gt; &lt;script type="text/javascript"&gt; $("btn4").click(function () &#123; $("div.one :first-child").css("background-color", "#ff0"); &#125;); &lt;/script&gt; &lt;!--&lt;input type="button" value="Â¶ÇÊûúclass‰∏∫oneÁöÑdivÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥† " id="bt4"&gt;--&gt; &lt;script type="text/javascript"&gt; $("btn4").click(function () &#123; $("div.one :last-child").css("background-color", "#ff0"); &#125;); &lt;/script&gt; &lt;!--&lt;input type="button" value="Â¶ÇÊûúclass‰∏∫oneÁöÑdivÁà∂ÂÖÉÁ¥†‰∏ãÁöÑ‰ªÖ‰ªÖÂè™Êúâ‰∏Ä‰∏™Â≠êÂÖÉÁ¥† " id="bt4"&gt;--&gt; &lt;script type="text/javascript"&gt; $("btn4").click(function () &#123; $("div.one :only-child").css("background-color", "#ff0"); &#125;); &lt;/script&gt; 3.9Ë°®ÂçïËøáÊª§ÈÄâÊã©Âô® 4 Ë°®ÂçïÂØπË±°Â±ûÊÄßËøáÊª§ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081 &lt;script src="js/jquery-2.1.0.js"&gt;&lt;/script&gt; &lt;script type="text/javascript"&gt; //1. &lt;button id="btn1"&gt;ÂØπË°®ÂçïÂÜÖ ÂèØÁî®input enable ËµãÂÄºÊìç‰Ωú.&lt;/button&gt; $(document).ready(function () &#123; $("input:enabled").val("enabled"); &#125;); // 2 &lt;button id="btn2"&gt;ÂØπË°®ÂçïÂÜÖ ‰∏çÂèØÁî®input ËµãÂÄºÊìç‰Ωú.&lt;/button&gt; $(document).ready(function () &#123; $("input:disabled").val("disabled"); &#125;); // 3 &lt;button id="btn3"&gt;Ëé∑ÂèñÂ§öÈÄâÊ°ÜÈÄâ‰∏≠ÁöÑ‰∏™Êï∞.&lt;/button&gt; // &lt;input type="checkbox" name="newsletter" checked="checked" value="test1"/&gt;test1 $(document).ready(function () &#123; var s1 = $("[name='newsletter']:checked").length; // var s2 = $("[name='newsletter']:checked").size(); alert(s1) &#125;); // &lt;button id="btn4"&gt;Ëé∑Âèñ‰∏ãÊãâÊ°ÜÈÄâ‰∏≠ÁöÑÂÜÖÂÆπ.&lt;/button&gt; $(":selected").each(function () &#123; //val()Ëé∑Âæó&lt;option &gt;Â¶ÇÊûúÊ≤°ÊúâvalueÂÄº Â∞ÜËé∑ÂæótextÁöÑÂÄº //htmlÔºàÔºâËé∑ÂæóÊ†áÁ≠æ‰ΩìÁöÑÂÜÖÂÆπ $("#selectDivId").append($(this).val()); // $("#selectDivId").append($(this).html()); &#125;); &lt;/script&gt; ------------ ------------ ------------ ------------ ------------ &lt;/head&gt;&lt;body&gt;&lt;h3&gt; Ë°®ÂçïÂØπË±°Â±ûÊÄßËøáÊª§ÈÄâÊã©Âô®.&lt;/h3&gt;&lt;button type="reset"&gt;ÈáçÁΩÆÊâÄÊúâË°®ÂçïÂÖÉÁ¥†&lt;/button&gt;&lt;input type="checkbox" id="isreset" checked="checked"/&gt;&lt;label for="isreset"&gt;ÁÇπÂáª‰∏ãÂàóÊåâÈíÆÊó∂ÂÖàËá™Âä®ÈáçÁΩÆÈ°µÈù¢&lt;/label&gt;&lt;br/&gt;&lt;br/&gt;&lt;button id="btn1"&gt;ÂØπË°®ÂçïÂÜÖ ÂèØÁî®input ËµãÂÄºÊìç‰Ωú.&lt;/button&gt;&lt;button id="btn2"&gt;ÂØπË°®ÂçïÂÜÖ ‰∏çÂèØÁî®input ËµãÂÄºÊìç‰Ωú.&lt;/button&gt;&lt;button id="btn3"&gt;Ëé∑ÂèñÂ§öÈÄâÊ°ÜÈÄâ‰∏≠ÁöÑ‰∏™Êï∞.&lt;/button&gt;&lt;button id="btn4"&gt;Ëé∑Âèñ‰∏ãÊãâÊ°ÜÈÄâ‰∏≠ÁöÑÂÜÖÂÆπ.&lt;/button&gt;&lt;br/&gt;&lt;br/&gt;ÂèØÁî®ÂÖÉÁ¥†Ôºö&lt;input name="add" value="ÂèØÁî®ÊñáÊú¨Ê°Ü"/&gt; &lt;br/&gt;‰∏çÂèØÁî®ÂÖÉÁ¥†Ôºö&lt;input name="email" disabled="disabled" value="‰∏çÂèØÁî®ÊñáÊú¨Ê°Ü"/&gt;&lt;br/&gt;ÂèØÁî®ÂÖÉÁ¥†Ôºö &lt;input name="che" value="ÂèØÁî®ÊñáÊú¨Ê°Ü"/&gt;&lt;br/&gt;‰∏çÂèØÁî®ÂÖÉÁ¥†Ôºö&lt;input name="name" disabled="disabled" value="‰∏çÂèØÁî®ÊñáÊú¨Ê°Ü"/&gt;&lt;br/&gt;&lt;br/&gt;Â§öÈÄâÊ°ÜÔºö&lt;br/&gt;&lt;input type="checkbox" name="newsletter" checked="checked" value="test1"/&gt;test1&lt;input type="checkbox" name="newsletter" value="test2"/&gt;test2&lt;input type="checkbox" name="newsletter" value="test3"/&gt;test3&lt;input type="checkbox" name="newsletter" checked="checked" value="test4"/&gt;test4&lt;input type="checkbox" name="newsletter" value="test5"/&gt;test5&lt;div id="checkboxDivId"&gt;&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;‰∏ãÊãâÂàóË°®1Ôºö&lt;br/&gt;&lt;select name="test" multiple="multiple" style="height:100px"&gt; &lt;option&gt;ÊµôÊ±ü&lt;/option&gt; &lt;option selected="selected"&gt;ÊπñÂçó&lt;/option&gt; &lt;option&gt;Âåó‰∫¨&lt;/option&gt; &lt;option selected="selected"&gt;Â§©Ê¥•&lt;/option&gt; &lt;option&gt;ÂπøÂ∑û&lt;/option&gt; &lt;option&gt;ÊπñÂåó&lt;/option&gt;&lt;/select&gt;&lt;br/&gt;&lt;br/&gt;‰∏ãÊãâÂàóË°®2Ôºö&lt;br/&gt;&lt;select name="test2"&gt; &lt;option&gt;ÊµôÊ±ü&lt;/option&gt; &lt;option&gt;ÊπñÂçó&lt;/option&gt; &lt;option selected="selected"&gt;Âåó‰∫¨&lt;/option&gt; &lt;option&gt;Â§©Ê¥•&lt;/option&gt; &lt;option&gt;ÂπøÂ∑û&lt;/option&gt; &lt;option&gt;ÊπñÂåó&lt;/option&gt;&lt;/select&gt;&lt;br/&gt;&lt;br/&gt;&lt;div id="selectDivId"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 5 ÈÄâÊã©Âô®Ê°à‰æã1234567891011121314151617181920 &lt;script type="text/javascript"&gt; $(document).ready(function () &#123;//‰ªéÁ¨¨5‰∏™ÂºÄÂßã ‰∏çË¶ÅÊúÄÂêé‰∏Ä‰∏™ÊéßÂà∂ÊòæÁ§∫ÂíåÈöêËóè //1 ÈöêËóè var $allLi = $("li:gt(4):not(:last)"); $allLi.hide();//2 ÁÇπÂáªÊòæÁ§∫ $("span").click(function () &#123; //$allLi.show(); // $allLi.toggle(); if ($allLi.is(":hidden")) &#123; $allLi.show(); $(this).html("ÈöêËóè"); &#125; else &#123; $allLi.hide(); $(this).html("ÊòæÁ§∫"); &#125; &#125;); &#125;); &lt;/script&gt; 6 Â±ûÊÄß CSS 123456789&lt;script type="text/javascript"&gt; $(document).ready(function () &#123; //1.ËÆæÁΩÆÂßìÂêçÊñáÊú¨Ê°Ü‰∏çÂèØÁî® // &lt;input type="text" name="username" class="textClass" value="jack"/&gt; $("[name='username']").attr("disabled", "disabled"); // 2 .ËÆæÁΩÆÂßìÂêçÊñáÊú¨Ê°ÜÂèØÁî® ÁßªÈô§Â±ûÊÄß $("[name='username']").removeAttr("disabled"); &#125;);&lt;/script&gt; CSS Á±ª 123456789 //text /html alert($("div").text());// Êú™Êª°18ÊÖéËøõ alert($("div").html());//&lt;a&gt;Êú™Êª°18ÊÖéËøõ&lt;/a&gt;alert($("div").html());//&lt;a&gt;Êú™Êª°18ÊÖéËøõ&lt;/a&gt; $("div").text("&lt;a href='Demo5.html'&gt;‰Ω†ÁÇπÊàëÂëÄ&lt;/a&gt;");// Êú™Êª°18ÊÖéËøõ $("div").html("&lt;a href='Demo5.html'&gt;‰Ω†ÁÇπÊàëÂëÄ&lt;/a&gt;");//&lt;a&gt;Êú™Êª°18ÊÖéËøõ&lt;/a&gt; &#125;);&lt;/script&gt; 7 CSS12345678/ËÆæÁΩÆCSS $("div").css(&#123; "width": "200px", "height": "222px", "font-size": "60px", "color": "#f00", &#125;); 8 ÊñáÊ°£Â§ÑÁêÜ8.1 ÂÜÖÈÉ®ÊèíÂÖ•„ÄåÊéåÊè°„Äç ÂÆûÊàòÔºö 8.2 Â§ñÈÉ®ÊèíÂÖ•„ÄåÊéåÊè°„Äç ÂÆûÊàòÔºö 8.3 Âà†Èô§ „ÄåÊéåÊè°„Äç 1234567891011121314&lt;script type="text/javascript"&gt; //Â∞ÜcityÁßªÈô§ Âú®ËøΩÂä†Âà∞bodyÂêéÈù¢ //1.ÁªëÂÆö‰∫ã‰ª∂ $(document).ready(function () &#123; //2.ÁªëÂÆöÊï∞ÊçÆ $("#city").data("ithe", "ÂéâÂÆ≥"); //1„ÄÇÁßªÈô§ var $city = $("#city").remove(); //var $city = $("#city").detach();//‰øùÁïôÁªëÂÆöÁöÑ‰∫ã‰ª∂ //2 ËøΩÂä† $("body").append($city); //3 Ëé∑ÂæóÁªëÂÆöÁöÑÊï∞ÊçÆ alert($("#city").data("ithe")); &#125;); 9.ÊñáÊ°£Â§ÑÁêÜ ÂÖãÈöÜ ÊõøÊç¢ÂåÖË£π Day 02 123456789101112131415&lt;script type="text/javascript"&gt; $(document).ready(function () &#123; $("#left1").click(function () &#123; $("#leftSelectId option:first").appendTo("#rightSelectId") &#125;); $("#left2").click(function () &#123; //ÈÄâ‰∏≠Âì™‰∏Ä‰∏™ Â∞±ËøáÂì™‰∏Ä‰∏™ $("#leftSelectId option:selected").appendTo("#rightSelectId") &#125;); $("#left3").click(function () &#123; $("#leftSelectId option").appendTo("#rightSelectId") &#125;); &#125;); &lt;/script&gt; 10 Á≠õÈÄâËøáÊª§ ÈÄâÊã©Âô®ÂèØ‰ª•ÂÆåÊàêÂäüËÉΩ Á≠õÈÄâÊèê‰æõÁõ∏ÂêåÁöÑÂáΩÊï∞ Êü•Êâæ ‰∏≤ËÅî Â∞ÜÂ§öÊù°ËØ≠Âè•ÊîπÊàê‰∏ÄÊù° ÂæóÁëü‰ª£Á†Å Ê°à‰æãÔºöQQÂàÜÁªÑ 11 ‰∫ã‰ª∂Â∏∏ËßÅ‰∫ã‰ª∂ È°µÈù¢Âä†ËΩΩ ‰∫ã‰ª∂ÁªëÂÆö[ÈáçË¶Å] ÂßîÊ¥æ ÂàáÊç¢ 12 Âä®ÁîªÊïàÊûú 13 Ajax„ÄåÈáçË¶Å ÊéåÊè°„Äç ÂºÇÊ≠•Âà∑Êñ∞ Load()ÂáΩÊï∞1234567891011121314151617181920212223242526$(function () &#123; $("input").click(function () &#123; var url = "/"; var params = &#123;"username": "jack", "password": "1234"&#125;; /** * load()ÂáΩÊï∞ ÂøÖÈ°ª‰ΩøÁî®jqueryÂØπË±° * Ê†ºÂºèload(url,[data],[callback]) * ÂèÇÊï∞1Ôºöurl ËØ∑Ê±ÇË∑ØÂæÑ * ÂèÇÊï∞2Ôºödata ËØ∑Ê±ÇÂèÇÊï∞ * ÂèÇÊï∞3Ôºöcallback ÂõûË∞ÉÂáΩÊï∞ * *Â¶ÇÊûúÊ≤°ÊúâËØ∑Ê±ÇÂèÇÊï∞ ÂèëÈÄÅÁöÑGETËØ∑Ê±Ç * *Â¶ÇÊûúÊúâËØ∑Ê±ÇÂèÇÊï∞ ÂèëÈÄÅÁöÑPOSTËØ∑Ê±Ç ËØ∑Ê±ÇÊ≤°Êúâ‰∏≠Êñá‰π±Á†ÅÔºõ *ÂõûË∞ÉÂáΩÊï∞ÁöÑÂèÇÊï∞ * ÔºöÂèÇÊï∞1 dataÂìçÂ∫îÊï∞ÊçÆ load()Ê∞∏ËøúËé∑ÂæóÂ≠óÁ¨¶‰∏≤ Â¶ÇÊûúÈúÄË¶Å‰ΩøÁî® * ÂøÖÈ°ªÊâãÂä®ËΩ¨Êç¢ÊàêjsonÊ†ºÂºèÔºõ * */ $(this).load(url, params, function (data) &#123; //ËΩ¨Êç¢JSONÂØπË±° var jsonData = eval("(" + data + ")"); alert(jsonData.message); &#125;); &#125;); &#125;) $.post $.$.get1234567891011121314151617181920212223242526272829303132 /** * $.get() ÂÖ®Â±ÄÂáΩÊï∞ ÂèëÈÄÅgetËØ∑Ê±Ç * *Ê†ºÂºè jquery.get(URl,[data],[callback],[type]) * *ÂèÇÊï∞4 type * *GETËØ∑Ê±Ç‰∏çÈÄÇÂêàÂèëÈÄÅ‰∏≠ÊñáÊï∞ÊçÆ Â≠òÊîæËØ∑Ê±ÇÁöÑ‰∏≠Êñá‰π±Á†Å * ÂøÖÈ°ªÊâãÂä®Ëß£Á†Å new String(username,getBytes("ISO-8859-1",UTF-8")) ÂìçÂ∫îÊï∞ÊçÆ Â¶ÇÊûú‰ΩøÁî®application/jsonÔºõcharset=UTF-8,jqueryËá™Âä®Â∞ÜÊï∞ÊçÆËΩ¨Êç¢JSONÂØπË±° ÂìçÂ∫îÊï∞ÊçÆ Â¶ÇÊûú‰ΩøÁî®text/htmlÔºõcharset=UTF-8 ÔºåÂõûË∞ÉÂáΩÊï∞Ëé∑ÂæóÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆ ÈúÄË¶ÅÊâãÂä®ËΩ¨Êç¢ ‰ΩøÁî®"ÂèÇÊï∞4" ËÆæÁΩÆ"json" JqueryÂ∞ÜÂ≠óÁ¨¶‰∏≤ ËΩ¨Êç¢‰∏∫jsonÂØπË±° */ $.get(url, params, function () &#123; alert(data); &#125;, "json"); /** * post()ÂÖ®Â±ÄÂáΩÊï∞ ÂèëÈÄÅpostËØ∑Ê±Ç * * Ê†ºÂºèÔºöjquery.post(url,data[],[callback],[type]) $.post(url,params,function(data)&#123; alert(data); &#125;,"json") */ $.post(utl, params, function (data) &#123; alert(data); &#125;, "json") &#125;);&#125;) $.ajax()$ 1234567891011121314151617181920212223242526272829$(function () &#123; $("input").click(function () &#123; /** * 4.$.ajax() Â∫ïÂ±ÇÂäüËÉΩÊúÄÂº∫Â§ßÁöÑ * Ê†ºÂºè Jquery.ajaxÔºà[settings]Ôºâ * ÂèÇÊï∞ settings:ËÆæÁΩÆÊâÄÊúâÁöÑÂèÇÊï∞ * url:ÂèëÈÄÅËØ∑Ê±ÇÁöÑÂú∞ÂùÄ * data:ÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÁöÑÊï∞ÊçÆ ËØ∑Ê±ÇÂèÇÊï∞Ôºå * type: ËØ∑Ê±ÇÊñπÂºèÔºà"POST"Êàñ"GET"ÔºâÔºå * * success:ÊàêÂäüÁöÑÂõûË∞ÉÂáΩÊï∞ * error ÈîôËØØÂáΩÊï∞ * dateType:ÂìçÂ∫îÊï∞ÊçÆÁ±ªÂûã */ $.ajax(&#123; "url": "/", "data": "params", "type": "POST", "success": function (data) &#123; alert(data); &#125;, "error": function () &#123; alert("ÊúçÂä°Âô®ÁπÅÂøô") &#125;, "dateType": "json" &#125;); &#125;); &#125;) Â§ÑÁêÜÂÆûÊàò123456789101112131415161718192021222324252627282930313233343536373839&lt;script type="text/javascript"&gt; $(function () &#123; // &lt;input id="h01" type="button" value="1Âè™ËÉΩÁÇπÂáª‰∏ÄÊ¨°Ôºå‰πãÂêéÂ§±Êïà"/&gt; $("#h01").one("click.a", function () &#123; alert("‰Ω†Âè™ËÉΩÁúãÂà∞Êàë‰∏ÄÊ¨°");//ÁªßÁª≠ÁÇπÂáªÂ§±Êïà &#125;); // &lt;input id="h02" type="button" value="2ÂèØ‰ª•ÁÇπÂáªÂ§öÊ¨°"/&gt; $("#h02").bind("click.b", function () &#123; alert("ÊØèÊ¨°ÈÉΩÊòØ‰Ω†"); &#125;); // &lt;input id="h03" type="button" value="3Ëß£Áªë2"/&gt; $("#h03").click(function () &#123; $("#h02").unbind("click.b"); &#125;); // &lt;input type="button" value="4 Ê∑ªÂä†‰∏Ä‰∏™ÊåâÈíÆÔºåÊ†∑Âºè‰∏∫myClassÔºå‰∏îÊã•ÊúâÁõ∏ÂêåÁöÑ‰∫ã‰ª∂" class="myClass"/&gt; $(".myClass").live("click", function () &#123; $("body").append("&lt;input type='button' class='myClass'&gt;") &#125;); // &lt;input id="h05" type="button" value="5 Ëß£Áªë4"/&gt; $("#h05").click(function () &#123; $(".myClass").die("click"); &#125;); //ÂàáÊç¢ $(function () &#123; $("#e01").toggle(function () &#123; alert("Êä•Êï∞1"); &#125;, function () &#123; alert("Êä•Êï∞2"); &#125;); $("#e02").hover(function () &#123; $("#divMsg").html("over"); &#125;, function () &#123; $("#divMsg").html("out"); &#125;) &#125;) &#125;); &lt;/script&gt; 14 ÂÖ∂‰ªñË°®ÂçïÂ∫èÂàóÂåñ ‰∫ã‰ª∂ÂÜíÊ≥° ÊµèËßàÂô®ÈªòËÆ§ÁöÑÂä®‰ΩúË°å‰∏∫ JqueryÊñáÊ°£1.8.3]]></content>
      <tags>
        <tag>Jquery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[test]]></title>
    <url>%2F2018%2F12%2F13%2FMybatis%2F%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[‚Äî]]></content>
  </entry>
  <entry>
    <title><![CDATA[Á±ªÂä†ËΩΩÂô®]]></title>
    <url>%2F2018%2F12%2F12%2Fjava%E5%9F%BA%E7%A1%80%2F%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%20%2F</url>
    <content type="text"><![CDATA[1.ClassLoader##1.1‰ªÄ‰πàÊòØÁ±ªÂä†ËΩΩÂô® 12]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring IOC ÂèäbeanÂÆπÂô® Ê≥®ÂÖ•]]></title>
    <url>%2F2018%2F12%2F10%2FSpring%2F4.SpringBean%20%E8%A3%85%E9%85%8D%2F</url>
    <content type="text"><![CDATA[1 Spring Bean Ë£ÖÈÖç‰πãBeanÁöÑÂÆö‰πâÂèäÂÖ∂‰ΩúÁî®ÂüüÁöÑÊ≥®Ëß£ÂÆûÁé∞ ‚Äã &lt; context:component-scan&gt; ‰æãÂ≠ê123&lt;context:component-scan base-package="bean.BeanAnnotation"&gt; &lt;context:component-scan/&gt; 1234567package bean;@Componentpublic class BeanAnnotation &#123; public void say()&#123; System,out.print("Hello Spring"); &#125;&#125; 1234 @Test BeanAnnotation bean=super.getBean("beanAnnotation");//Á±ªÂêçÂ∞èÂÜô bean.say("This is Tese");&#125; 2 SpringË£ÖÈÖç Âü∫‰∫éjavaÂÆπÂô®ÁöÑÊ≥®Ëß£ËØ¥Êòé @importResourceÂíå@Value 123456789public class MyDriverManager &#123; public MyDriverManager(String url, String userName, String password) &#123; System.out.print(url); System.out.print(userName); System.out.print(password); &#125;&#125; 123456789101112131415161718@Configuration@ImportResource("classpath:config.xml")public class StoreConfig &#123; @Value("$&#123;jdbc.url&#125;") private String url; @Value("$&#123;jdbc.username&#125;") private String username; @Value("$&#123;jdbc.password&#125;") private String password; @Bean public MyDriverManager myDriverManager() &#123; return new MyDriverManager(url, username, password); &#125;&#125; 12345678public class Test &#123; @Test public void testMyDreiverManager() &#123; MyDriverManager myDriverManager = super.getBean("myDriverManager"); myDriverManager.getClass().getName(); &#125;&#125; 123jdbc.password=rootjdbc.url=127.0.0.1jdbc.username=root 3@Bean Âíå@Scope 4Âü∫‰∫éÊ≥õÂûãÁöÑËá™Âä®Ë£ÖÈÖç Aware ÂíåAutowiring]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaÂèçÂ∞Ñ]]></title>
    <url>%2F2018%2F12%2F10%2Fjava%E5%9F%BA%E7%A1%80%2Fjava%E5%8F%8D%E5%B0%84%2F</url>
    <content type="text"><![CDATA[12345678910111213141516171819202122232425262728293031public class ClassDemo1 &#123; public static void main(String[] args) &#123; // FooÁöÑÂÆû‰æãÂØπË±°Â¶Ç‰ΩïË°®Á§∫ Foo foo1 = new Foo();// foo1Â∞±Ë°®Á§∫Âá∫Êù•‰∫Ü // Foo Ëøô‰∏™Á±ª ‰πüÊòØ‰∏™ÂÆû‰æãÂØπË±° ÔºåClassÁ±ªÁöÑÂÆûÂàóÂØπË±° Â¶Ç‰ΩïË°®Á§∫Âë¢ // ‰ªª‰Ωï‰∏Ä‰∏™Á±ªÈÉΩÊòØClassÁöÑÂÆûÂàóÂØπË±° Ëøô‰∏™ÂÆûÂàóÂØπË±°Êúâ‰∏âÁßçË°®Á§∫ÊñπÂºè /** * c1 c2Ë°®Á§∫‰∫ÜFooÁ±ªÁöÑÁ±ªÁ±ªÂûãÔºàclass typeÔºâ * ‰∏á‰∫ã‰∏áÁâ©ÁöÜÂØπË±° * Á±ª‰πüÊòØÂØπË±° ÊòØClassÁ±ªÁöÑÂÆûÂàóÂØπË±° * Ëøô‰∏™ÂØπË±°Êàë‰ª¨Áß∞‰∏∫ËØ•Á±ªÁöÑlei lei */ // Á¨¨‰∏ÄÁßçË°®Á§∫ÊñπÂºè---&gt;ÂÆûÈôÖÂú®ÂëäËØâÊàë‰ª¨‰ªª‰Ωï‰∏Ä‰∏™Á±ªÈÉΩ‰ª•‰∏Ä‰∏™ÈöêÂê´ÁöÑÈùôÊÄÅÊàêÂëò Class c1=Foo.class; // Á¨¨‰∫åÁßçË°®Á§∫ÊñπÂºè--&gt;Â∑≤ÁªèÁü•ÈÅìËØ•Á±ªÁöÑÂØπË±°ÈÄöËøágetClassÊñπÊ≥ï Class c2 = foo1.getClass(); //Á¨¨‰∏âÁßçÊñπÂºè Class c3=Class.forName("com.package.Foo") &#125; // Êàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•ÈÄöËøáÁ±ªÁ±ªÂûãÂàõÂª∫ËØ•Á±ªÁöÑÂØπË±°ÂÆûÂàó // --&gt;ÈÄöËøác1 or c2 ÂàõÂª∫FooÁöÑÂÆû‰æã Foo foo = (Foo) c1.newInstance();foo.print(); class Foo &#123; void print() &#123; &#125; &#125;&#125; 123456789101112131415161718package com.imooc.reflect;public class ClassDemo2 &#123; public static void main(String[] args) &#123; Class c1 = int.class;//int ÁöÑÁ±ªÁ±ªÂûã Class c2 = String.class;//StringÁ±ªÁöÑÁ±ªÁ±ªÂûã StringÁ±ªÂ≠óËäÇÁ†ÅÔºàËá™Â∑±ÂèëÊòéÁöÑ) Class c3 = double.class; Class c4 = Double.class; Class c5 = void.class; System.out.println(c1.getName()); System.out.println(c2.getName()); System.out.println(c2.getSimpleName());//‰∏çÂåÖÂê´ÂåÖÂêçÁöÑÁ±ªÁöÑÂêçÁß∞ System.out.println(c5.getName()); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.imooc.reflect;public class ClassDemo1 &#123; public static void main(String[] args) &#123; //FooÁöÑÂÆû‰æãÂØπË±°Â¶Ç‰ΩïË°®Á§∫ Foo foo1 = new Foo();//foo1Â∞±Ë°®Á§∫Âá∫Êù•‰∫Ü. //FooËøô‰∏™Á±ª ‰πüÊòØ‰∏Ä‰∏™ÂÆû‰æãÂØπË±°ÔºåClassÁ±ªÁöÑÂÆû‰æãÂØπË±°,Â¶Ç‰ΩïË°®Á§∫Âë¢ //‰ªª‰Ωï‰∏Ä‰∏™Á±ªÈÉΩÊòØClassÁöÑÂÆû‰æãÂØπË±°ÔºåËøô‰∏™ÂÆû‰æãÂØπË±°Êúâ‰∏âÁßçË°®Á§∫ÊñπÂºè //Á¨¨‰∏ÄÁßçË°®Á§∫ÊñπÂºè---&gt;ÂÆûÈôÖÂú®ÂëäËØâÊàë‰ª¨‰ªª‰Ωï‰∏Ä‰∏™Á±ªÈÉΩÊúâ‰∏Ä‰∏™ÈöêÂê´ÁöÑÈùôÊÄÅÊàêÂëòÂèòÈáèclass Class c1 = Foo.class; //Á¨¨‰∫å‰∏≠Ë°®ËææÊñπÂºè Â∑≤ÁªèÁü•ÈÅìËØ•Á±ªÁöÑÂØπË±°ÈÄöËøágetClassÊñπÊ≥ï Class c2 = foo1.getClass(); /*ÂÆòÁΩë c1 ,c2 Ë°®Á§∫‰∫ÜFooÁ±ªÁöÑÁ±ªÁ±ªÂûã(class type) * ‰∏á‰∫ã‰∏áÁâ©ÁöÜÂØπË±°Ôºå * Á±ª‰πüÊòØÂØπË±°ÔºåÊòØClassÁ±ªÁöÑÂÆû‰æãÂØπË±° * Ëøô‰∏™ÂØπË±°Êàë‰ª¨Áß∞‰∏∫ËØ•Á±ªÁöÑÁ±ªÁ±ªÂûã * */ //‰∏çÁÆ°c1 or c2ÈÉΩ‰ª£Ë°®‰∫ÜFooÁ±ªÁöÑÁ±ªÁ±ªÂûãÔºå‰∏Ä‰∏™Á±ªÂè™ÂèØËÉΩÊòØClassÁ±ªÁöÑ‰∏Ä‰∏™ÂÆû‰æãÂØπË±° System.out.println(c1 == c2); //Á¨¨‰∏âÁßçË°®ËææÊñπÂºè Class c3 = null; try &#123; c3 = Class.forName("com.imooc.reflect.Foo"); &#125; catch (ClassNotFoundException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; System.out.println(c2==c3); //Êàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•ÈÄöËøáÁ±ªÁöÑÁ±ªÁ±ªÂûãÂàõÂª∫ËØ•Á±ªÁöÑÂØπË±°ÂÆû‰æã----&gt;ÈÄöËøác1 or c2 or c3ÂàõÂª∫FooÁöÑÂÆû‰æãÂØπË±° try &#123; Foo foo = (Foo)c1.newInstance();//ÈúÄË¶ÅÊúâÊó†ÂèÇÊï∞ÁöÑÊûÑÈÄ†ÊñπÊ≥ï foo.print(); &#125; catch (InstantiationException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125;&#125;class Foo&#123; void print()&#123; System.out.println("foo"); &#125;&#125; 12345678910111213141516171819202122232425262728293031package com.imooc.reflect;import java.lang.reflect.Method;public class BeanUtil &#123; /** * Ê†πÊçÆÊ†áÂáÜjavaBeanÂØπË±°ÁöÑÂ±ûÊÄßÂêçËé∑ÂèñÂÖ∂Â±ûÊÄßÂÄº * * @param obj * @param propertyName * @return */ public static Object getValueByPropertyName(Object obj, String propertyName) &#123; // 1.Ê†πÊçÆÂ±ûÊÄßÂêçÁß∞Â∞±ÂèØ‰ª•Ëé∑ÂèñÂÖ∂getÊñπÊ≥ï String getMethodName = "get" + propertyName.substring(0, 1).toUpperCase() + propertyName.substring(1); //2.Ëé∑ÂèñÊñπÊ≥ïÂØπË±° Class c = obj.getClass(); try &#123; //getÊñπÊ≥ïÈÉΩÊòØpublicÁöÑ‰∏îÊó†ÂèÇÊï∞ Method m= c.getMethod(getMethodName); //3 ÈÄöËøáÊñπÊ≥ïÁöÑÂèçÂ∞ÑÊìç‰ΩúÊñπÊ≥ï Object value = m.invoke(obj); return value; &#125; catch (Exception e) &#123; e.printStackTrace(); return null; &#125; &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586package com.imooc.reflect;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.Method;public class ClassUtil &#123; /** * ÊâìÂç∞Á±ªÁöÑ‰ø°ÊÅØÔºåÂåÖÊã¨Á±ªÁöÑÊàêÂëòÂáΩÊï∞„ÄÅÊàêÂëòÂèòÈáè(Âè™Ëé∑ÂèñÊàêÂëòÂáΩÊï∞) * @param obj ËØ•ÂØπË±°ÊâÄÂ±ûÁ±ªÁöÑ‰ø°ÊÅØ */ public static void printClassMethodMessage(Object obj)&#123; //Ë¶ÅËé∑ÂèñÁ±ªÁöÑ‰ø°ÊÅØ È¶ñÂÖàË¶ÅËé∑ÂèñÁ±ªÁöÑÁ±ªÁ±ªÂûã Class c = obj.getClass();//‰º†ÈÄíÁöÑÊòØÂì™‰∏™Â≠êÁ±ªÁöÑÂØπË±° cÂ∞±ÊòØËØ•Â≠êÁ±ªÁöÑÁ±ªÁ±ªÂûã //Ëé∑ÂèñÁ±ªÁöÑÂêçÁß∞ System.out.println("Á±ªÁöÑÂêçÁß∞ÊòØ:"+c.getName()); /* * MethodÁ±ªÔºåÊñπÊ≥ïÂØπË±° * ‰∏Ä‰∏™ÊàêÂëòÊñπÊ≥ïÂ∞±ÊòØ‰∏Ä‰∏™MethodÂØπË±° * getMethods()ÊñπÊ≥ïËé∑ÂèñÁöÑÊòØÊâÄÊúâÁöÑpublicÁöÑÂáΩÊï∞ÔºåÂåÖÊã¨Áà∂Á±ªÁªßÊâøËÄåÊù•ÁöÑ * getDeclaredMethods()Ëé∑ÂèñÁöÑÊòØÊâÄÊúâËØ•Á±ªËá™Â∑±Â£∞ÊòéÁöÑÊñπÊ≥ïÔºå‰∏çÈóÆËÆøÈóÆÊùÉÈôê */ Method[] ms = c.getMethods();//c.getDeclaredMethods() for(int i = 0; i &lt; ms.length;i++)&#123; //ÂæóÂà∞ÊñπÊ≥ïÁöÑËøîÂõûÂÄºÁ±ªÂûãÁöÑÁ±ªÁ±ªÂûã Class returnType = ms[i].getReturnType(); System.out.print(returnType.getName()+" "); //ÂæóÂà∞ÊñπÊ≥ïÁöÑÂêçÁß∞ System.out.print(ms[i].getName()+"("); //Ëé∑ÂèñÂèÇÊï∞Á±ªÂûã---&gt;ÂæóÂà∞ÁöÑÊòØÂèÇÊï∞ÂàóË°®ÁöÑÁ±ªÂûãÁöÑÁ±ªÁ±ªÂûã Class[] paramTypes = ms[i].getParameterTypes(); for (Class class1 : paramTypes) &#123; System.out.print(class1.getName()+","); &#125; System.out.println(")"); &#125; &#125; /** * Ëé∑ÂèñÊàêÂëòÂèòÈáèÁöÑ‰ø°ÊÅØ * @param obj */ public static void printFieldMessage(Object obj) &#123; Class c = obj.getClass(); /* * ÊàêÂëòÂèòÈáè‰πüÊòØÂØπË±° * java.lang.reflect.Field * FieldÁ±ªÂ∞ÅË£Ö‰∫ÜÂÖ≥‰∫éÊàêÂëòÂèòÈáèÁöÑÊìç‰Ωú * getFields()ÊñπÊ≥ïËé∑ÂèñÁöÑÊòØÊâÄÊúâÁöÑpublicÁöÑÊàêÂëòÂèòÈáèÁöÑ‰ø°ÊÅØ * getDeclaredFieldsËé∑ÂèñÁöÑÊòØËØ•Á±ªËá™Â∑±Â£∞ÊòéÁöÑÊàêÂëòÂèòÈáèÁöÑ‰ø°ÊÅØ */ //Field[] fs = c.getFields(); Field[] fs = c.getDeclaredFields(); for (Field field : fs) &#123; //ÂæóÂà∞ÊàêÂëòÂèòÈáèÁöÑÁ±ªÂûãÁöÑÁ±ªÁ±ªÂûã Class fieldType = field.getType(); String typeName = fieldType.getName(); //ÂæóÂà∞ÊàêÂëòÂèòÈáèÁöÑÂêçÁß∞ String fieldName = field.getName(); System.out.println(typeName+" "+fieldName); &#125; &#125; /** * ÊâìÂç∞ÂØπË±°ÁöÑÊûÑÈÄ†ÂáΩÊï∞ÁöÑ‰ø°ÊÅØ * @param obj */ public static void printConMessage(Object obj)&#123; Class c = obj.getClass(); /* * ÊûÑÈÄ†ÂáΩÊï∞‰πüÊòØÂØπË±° * java.lang. Constructor‰∏≠Â∞ÅË£Ö‰∫ÜÊûÑÈÄ†ÂáΩÊï∞ÁöÑ‰ø°ÊÅØ * getConstructorsËé∑ÂèñÊâÄÊúâÁöÑpublicÁöÑÊûÑÈÄ†ÂáΩÊï∞ * getDeclaredConstructorsÂæóÂà∞ÊâÄÊúâÁöÑÊûÑÈÄ†ÂáΩÊï∞ */ //Constructor[] cs = c.getConstructors(); Constructor[] cs = c.getDeclaredConstructors(); for (Constructor constructor : cs) &#123; System.out.print(constructor.getName()+"("); //Ëé∑ÂèñÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂèÇÊï∞ÂàóË°®---&gt;ÂæóÂà∞ÁöÑÊòØÂèÇÊï∞ÂàóË°®ÁöÑÁ±ªÁ±ªÂûã Class[] paramTypes = constructor.getParameterTypes(); for (Class class1 : paramTypes) &#123; System.out.print(class1.getName()+","); &#125; System.out.println(")"); &#125; &#125;&#125;]]></content>
      <tags>
        <tag>ÂèçÂ∞Ñ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÊÖïËØæÁΩë Rabbit MQ ËÄÅÂ∏àÊ∫ê‰ª£Á†Å]]></title>
    <url>%2F2018%2F12%2F05%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2Fquickstart%2F</url>
    <content type="text"><![CDATA[ÊÖïËØæÁΩë Rabbit MQ ËÄÅÂ∏àÊ∫ê‰ª£Á†Å12345678910111213141516171819202122232425262728public class Procuder &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫‰∏Ä‰∏™ConnectionFactory, Âπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Connection connection = connectionFactory.newConnection(); //3 ÈÄöËøáconnectionÂàõÂª∫‰∏Ä‰∏™Channel Channel channel = connection.createChannel(); //4 ÈÄöËøáChannelÂèëÈÄÅÊï∞ÊçÆ for(int i=0; i &lt; 5; i++)&#123; String msg = &quot;Hello RabbitMQ!&quot;; //1 exchange 2 routingKey channel.basicPublish(&quot;&quot;, &quot;test001&quot;, null, msg.getBytes()); &#125; //5 ËÆ∞ÂæóË¶ÅÂÖ≥Èó≠Áõ∏ÂÖ≥ÁöÑËøûÊé• channel.close(); connection.close(); &#125;&#125; quickstart12345678910111213141516171819202122232425262728293031package com.example.rabbitmq.start;import org.springframework.boot.SpringApplication;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;public class Procuder &#123; // Áîü‰∫ßÁ´ØProcuder http://94.191.24.33:15672/#/ public static void main(String[] args) throws Exception &#123; // 1.ÂàõÂª∫‰∏Ä‰∏™ConnectionFactory Âπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;94.191.24.33&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); // 2.ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé•connectionFactory.newConnection(); Connection connection = connectionFactory.newConnection(); // 3.ÈÄöËøáconnectionÂàõÂª∫‰∏Ä‰∏™Channel Channel channel = connection.createChannel(); // 4.ÈÄöËøáChannelÂèëÈÄÅÊï∞ÊçÆ String msg = &quot;Hello RabbitMQ&quot;; // channel.basicPublish(exchange, routingKey, props, body); channel.basicPublish(&quot;&quot;, &quot;test001&quot;, null, msg.getBytes()); channel.close(); connection.close(); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748package com.example.rabbitmq.start;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.QueueingConsumer;import com.rabbitmq.client.QueueingConsumer.Delivery;public class Consumer &#123; @SuppressWarnings(&quot;deprecation&quot;) public static void main(String[] args) throws Exception &#123; // 1.ÂàõÂª∫‰∏Ä‰∏™ConnectionFactoryÔºåÂπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;94.191.24.33&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); // 2.ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Connection connection = connectionFactory.newConnection(); // 3 ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Channel channel = connection.createChannel(); // 4.Áî≥ÊòéÔºàÂàõÂª∫Ôºâ‰∏Ä‰∏™ÈòüÂàó String queueName = &quot;test001&quot;; // channel.queueDeclare(queueName, durable, exclusive, autoDelete, arguments) channel.queueDeclare(&quot;test001&quot;, true, false, false, null); // 5.ÂàõÂª∫Ê∂àË¥πËÄÖ QueueingConsumer queueingConsumer = new QueueingConsumer(channel); /** * 6.ËÆæÁΩÆchannel # channel.basicConsume(queue,autoAck, autoAck) # 1ÔºöqueueÔºöÈòüÂàóÁöÑÂêçÂ≠ó * 2.autoAckÔºöÊòØÂê¶Ëá™Âä®Á≠æÊî∂ 3:autoAckÔºöÂÖ∑‰ΩìÁöÑÊ∂àË¥πËÄÖÂØπË±° */ channel.basicConsume(queueName, true, queueingConsumer); // 7.Ëé∑ÂèñÊ∂àÊÅØ while (true) &#123; Delivery delivery = queueingConsumer.nextDelivery(); byte[] body = delivery.getBody(); String msg = new String(delivery.getBody());// Ëé∑ÂèñÊ∂àÊÅØ System.out.println(&quot;Ê∂àË¥πÁ´Ø&quot; + msg); &#125; &#125;&#125;//String string =new String(delivery.getBody()); 12345678910111213141516171819202122232425262728293031323334353637public class Consumer &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫‰∏Ä‰∏™ConnectionFactory, Âπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Connection connection = connectionFactory.newConnection(); //3 ÈÄöËøáconnectionÂàõÂª∫‰∏Ä‰∏™Channel Channel channel = connection.createChannel(); //4 Â£∞ÊòéÔºàÂàõÂª∫Ôºâ‰∏Ä‰∏™ÈòüÂàó String queueName = &quot;test001&quot;; channel.queueDeclare(queueName, true, false, false, null); //5 ÂàõÂª∫Ê∂àË¥πËÄÖ QueueingConsumer queueingConsumer = new QueueingConsumer(channel); //6 ËÆæÁΩÆChannel channel.basicConsume(queueName, true, queueingConsumer); while(true)&#123; //7 Ëé∑ÂèñÊ∂àÊÅØ Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody()); System.err.println(&quot;Ê∂àË¥πÁ´Ø: &quot; + msg); //Envelope envelope = delivery.getEnvelope(); &#125; &#125;&#125; 1234567891011121314151617181920212223242526272829public class Procuder &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫‰∏Ä‰∏™ConnectionFactory, Âπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Connection connection = connectionFactory.newConnection(); //3 ÈÄöËøáconnectionÂàõÂª∫‰∏Ä‰∏™Channel Channel channel = connection.createChannel(); //4 ÈÄöËøáChannelÂèëÈÄÅÊï∞ÊçÆ for(int i=0; i &lt; 5; i++)&#123; String msg = &quot;Hello RabbitMQ!&quot;; //1 exchange 2 routingKey channel.basicPublish(&quot;&quot;, &quot;test001&quot;, null, msg.getBytes()); &#125; //5 ËÆ∞ÂæóË¶ÅÂÖ≥Èó≠Áõ∏ÂÖ≥ÁöÑËøûÊé• channel.close(); connection.close(); &#125;&#125; apiack1234567891011121314151617181920212223242526272829public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchangeName = &quot;test_ack_exchange&quot;; String queueName = &quot;test_ack_queue&quot;; String routingKey = &quot;ack.#&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); // ÊâãÂ∑•Á≠æÊî∂ ÂøÖÈ°ªË¶ÅÂÖ≥Èó≠ autoAck = false channel.basicConsume(queueName, false, new MyConsumer(channel)); &#125;&#125; 1234567891011121314151617181920212223242526272829public class MyConsumer extends DefaultConsumer &#123; private Channel channel ; public MyConsumer(Channel channel) &#123; super(channel); this.channel = channel; &#125; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;-----------consume message----------&quot;); System.err.println(&quot;body: &quot; + new String(body)); try &#123; Thread.sleep(2000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; if((Integer)properties.getHeaders().get(&quot;num&quot;) == 0) &#123; channel.basicNack(envelope.getDeliveryTag(), false, true); &#125; else &#123; channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_ack_exchange&quot;; String routingKey = &quot;ack.save&quot;; for(int i =0; i&lt;5; i ++)&#123; Map&lt;String, Object&gt; headers = new HashMap&lt;String, Object&gt;(); headers.put(&quot;num&quot;, i); AMQP.BasicProperties properties = new AMQP.BasicProperties.Builder() .deliveryMode(2) .contentEncoding(&quot;UTF-8&quot;) .headers(headers) .build(); String msg = &quot;Hello RabbitMQ ACK Message &quot; + i; channel.basicPublish(exchange, routingKey, true, properties, msg.getBytes()); &#125; &#125;&#125; confirm1234567891011121314151617181920212223242526272829303132333435363738public class Consumer &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫ConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 Ëé∑ÂèñC onnection Connection connection = connectionFactory.newConnection(); //3 ÈÄöËøáConnectionÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑChannel Channel channel = connection.createChannel(); String exchangeName = &quot;test_confirm_exchange&quot;; String routingKey = &quot;confirm.#&quot;; String queueName = &quot;test_confirm_queue&quot;; //4 Â£∞Êòé‰∫§Êç¢Êú∫ÂíåÈòüÂàó ÁÑ∂ÂêéËøõË°åÁªëÂÆöËÆæÁΩÆ, ÊúÄÂêéÂà∂ÂÆöË∑ØÁî±Key channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); //5 ÂàõÂª∫Ê∂àË¥πËÄÖ QueueingConsumer queueingConsumer = new QueueingConsumer(channel); channel.basicConsume(queueName, true, queueingConsumer); while(true)&#123; Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody()); System.err.println(&quot;Ê∂àË¥πÁ´Ø: &quot; + msg); &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243public class Producer &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫ConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 Ëé∑ÂèñC onnection Connection connection = connectionFactory.newConnection(); //3 ÈÄöËøáConnectionÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑChannel Channel channel = connection.createChannel(); //4 ÊåáÂÆöÊàë‰ª¨ÁöÑÊ∂àÊÅØÊäïÈÄíÊ®°Âºè: Ê∂àÊÅØÁöÑÁ°ÆËÆ§Ê®°Âºè channel.confirmSelect(); String exchangeName = &quot;test_confirm_exchange&quot;; String routingKey = &quot;confirm.save&quot;; //5 ÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØ String msg = &quot;Hello RabbitMQ Send confirm message!&quot;; channel.basicPublish(exchangeName, routingKey, null, msg.getBytes()); //6 Ê∑ªÂä†‰∏Ä‰∏™Á°ÆËÆ§ÁõëÂê¨ channel.addConfirmListener(new ConfirmListener() &#123; @Override public void handleNack(long deliveryTag, boolean multiple) throws IOException &#123; System.err.println(&quot;-------no ack!-----------&quot;); &#125; @Override public void handleAck(long deliveryTag, boolean multiple) throws IOException &#123; System.err.println(&quot;-------ack!-----------&quot;); &#125; &#125;); &#125;&#125; Consumer123456789101112131415161718192021222324252627public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchangeName = &quot;test_consumer_exchange&quot;; String routingKey = &quot;consumer.#&quot;; String queueName = &quot;test_consumer_queue&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); channel.basicConsume(queueName, true, new MyConsumer(channel)); &#125;&#125; 123456789101112131415161718public class MyConsumer extends DefaultConsumer &#123; public MyConsumer(Channel channel) &#123; super(channel); &#125; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;-----------consume message----------&quot;); System.err.println(&quot;consumerTag: &quot; + consumerTag); System.err.println(&quot;envelope: &quot; + envelope); System.err.println(&quot;properties: &quot; + properties); System.err.println(&quot;body: &quot; + new String(body)); &#125;&#125; 12345678910111213141516171819202122232425public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_consumer_exchange&quot;; String routingKey = &quot;consumer.save&quot;; String msg = &quot;Hello RabbitMQ Consumer Message&quot;; for(int i =0; i&lt;5; i ++)&#123; channel.basicPublish(exchange, routingKey, true, null, msg.getBytes()); &#125; &#125;&#125; dlx12345678910111213141516171819202122232425262728293031323334353637public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); // ËøôÂ∞±ÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑ‰∫§Êç¢Êú∫ Âíå ÈòüÂàó ‰ª•ÂèäË∑ØÁî± String exchangeName = &quot;test_dlx_exchange&quot;; String routingKey = &quot;dlx.#&quot;; String queueName = &quot;test_dlx_queue&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); Map&lt;String, Object&gt; agruments = new HashMap&lt;String, Object&gt;(); agruments.put(&quot;x-dead-letter-exchange&quot;, &quot;dlx.exchange&quot;); //Ëøô‰∏™agrumentsÂ±ûÊÄßÔºåË¶ÅËÆæÁΩÆÂà∞Â£∞ÊòéÈòüÂàó‰∏ä channel.queueDeclare(queueName, true, false, false, agruments); channel.queueBind(queueName, exchangeName, routingKey); //Ë¶ÅËøõË°åÊ≠ª‰ø°ÈòüÂàóÁöÑÂ£∞Êòé: channel.exchangeDeclare(&quot;dlx.exchange&quot;, &quot;topic&quot;, true, false, null); channel.queueDeclare(&quot;dlx.queue&quot;, true, false, false, null); channel.queueBind(&quot;dlx.queue&quot;, &quot;dlx.exchange&quot;, &quot;#&quot;); channel.basicConsume(queueName, true, new MyConsumer(channel)); &#125;&#125; 123456789101112131415public class MyConsumer extends DefaultConsumer &#123; public MyConsumer(Channel channel) &#123; super(channel); &#125; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;-----------consume message----------&quot;); System.err.println(&quot;consumerTag: &quot; + consumerTag); System.err.println(&quot;envelope: &quot; + envelope); System.err.println(&quot;properties: &quot; + properties); System.err.println(&quot;body: &quot; + new String(body)); &#125; 123456789101112131415161718192021222324252627282930public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_dlx_exchange&quot;; String routingKey = &quot;dlx.save&quot;; String msg = &quot;Hello RabbitMQ DLX Message&quot;; for(int i =0; i&lt;1; i ++)&#123; AMQP.BasicProperties properties = new AMQP.BasicProperties.Builder() .deliveryMode(2) .contentEncoding(&quot;UTF-8&quot;) .expiration(&quot;10000&quot;) .build(); channel.basicPublish(exchange, routingKey, true, properties, msg.getBytes()); &#125; &#125;&#125; exchange‚Äìdirect123456789101112131415161718192021222324252627282930313233343536373839404142public class Consumer4DirectExchange &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory() ; connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); connectionFactory.setAutomaticRecoveryEnabled(true); connectionFactory.setNetworkRecoveryInterval(3000); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); //4 Â£∞Êòé String exchangeName = &quot;test_direct_exchange&quot;; String exchangeType = &quot;direct&quot;; String queueName = &quot;test_direct_queue&quot;; String routingKey = &quot;test.direct&quot;; //Ë°®Á§∫Â£∞Êòé‰∫Ü‰∏Ä‰∏™‰∫§Êç¢Êú∫ channel.exchangeDeclare(exchangeName, exchangeType, true, false, false, null); //Ë°®Á§∫Â£∞Êòé‰∫Ü‰∏Ä‰∏™ÈòüÂàó channel.queueDeclare(queueName, false, false, false, null); //Âª∫Á´ã‰∏Ä‰∏™ÁªëÂÆöÂÖ≥Á≥ª: channel.queueBind(queueName, exchangeName, routingKey); //durable ÊòØÂê¶ÊåÅ‰πÖÂåñÊ∂àÊÅØ QueueingConsumer consumer = new QueueingConsumer(channel); //ÂèÇÊï∞ÔºöÈòüÂàóÂêçÁß∞„ÄÅÊòØÂê¶Ëá™Âä®ACK„ÄÅConsumer channel.basicConsume(queueName, true, consumer); //Âæ™ÁéØËé∑ÂèñÊ∂àÊÅØ while(true)&#123; //Ëé∑ÂèñÊ∂àÊÅØÔºåÂ¶ÇÊûúÊ≤°ÊúâÊ∂àÊÅØÔºåËøô‰∏ÄÊ≠•Â∞Ü‰ºö‰∏ÄÁõ¥ÈòªÂ°û Delivery delivery = consumer.nextDelivery(); String msg = new String(delivery.getBody()); System.out.println(&quot;Êî∂Âà∞Ê∂àÊÅØÔºö&quot; + msg); &#125; &#125;&#125; 1234567891011121314151617181920212223242526public class Producer4DirectExchange &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫ConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 ÂàõÂª∫Connection Connection connection = connectionFactory.newConnection(); //3 ÂàõÂª∫Channel Channel channel = connection.createChannel(); //4 Â£∞Êòé String exchangeName = &quot;test_direct_exchange&quot;; String routingKey = &quot;test.direct111&quot;; //5 ÂèëÈÄÅ String msg = &quot;Hello World RabbitMQ 4 Direct Exchange Message 111 ... &quot;; channel.basicPublish(exchangeName, routingKey , null , msg.getBytes()); &#125; &#125; Exchange-fanout12345678910111213141516171819202122232425262728293031323334353637public class Consumer4FanoutExchange &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory() ; connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); connectionFactory.setAutomaticRecoveryEnabled(true); connectionFactory.setNetworkRecoveryInterval(3000); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); //4 Â£∞Êòé String exchangeName = &quot;test_fanout_exchange&quot;; String exchangeType = &quot;fanout&quot;; String queueName = &quot;test_fanout_queue&quot;; String routingKey = &quot;&quot;; //‰∏çËÆæÁΩÆË∑ØÁî±ÈîÆ channel.exchangeDeclare(exchangeName, exchangeType, true, false, false, null); channel.queueDeclare(queueName, false, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); //durable ÊòØÂê¶ÊåÅ‰πÖÂåñÊ∂àÊÅØ QueueingConsumer consumer = new QueueingConsumer(channel); //ÂèÇÊï∞ÔºöÈòüÂàóÂêçÁß∞„ÄÅÊòØÂê¶Ëá™Âä®ACK„ÄÅConsumer channel.basicConsume(queueName, true, consumer); //Âæ™ÁéØËé∑ÂèñÊ∂àÊÅØ while(true)&#123; //Ëé∑ÂèñÊ∂àÊÅØÔºåÂ¶ÇÊûúÊ≤°ÊúâÊ∂àÊÅØÔºåËøô‰∏ÄÊ≠•Â∞Ü‰ºö‰∏ÄÁõ¥ÈòªÂ°û Delivery delivery = consumer.nextDelivery(); String msg = new String(delivery.getBody()); System.out.println(&quot;Êî∂Âà∞Ê∂àÊÅØÔºö&quot; + msg); &#125; &#125;&#125; 123456789101112131415161718192021222324252627public class Producer4FanoutExchange &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫ConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 ÂàõÂª∫Connection Connection connection = connectionFactory.newConnection(); //3 ÂàõÂª∫Channel Channel channel = connection.createChannel(); //4 Â£∞Êòé String exchangeName = &quot;test_fanout_exchange&quot;; //5 ÂèëÈÄÅ for(int i = 0; i &lt; 10; i ++) &#123; String msg = &quot;Hello World RabbitMQ 4 FANOUT Exchange Message ...&quot;; channel.basicPublish(exchangeName, &quot;&quot;, null , msg.getBytes()); &#125; channel.close(); connection.close(); &#125; &#125; Exchange -topic123456789101112131415161718192021222324252627282930313233343536373839404142public class Consumer4TopicExchange &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory() ; connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); connectionFactory.setAutomaticRecoveryEnabled(true); connectionFactory.setNetworkRecoveryInterval(3000); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); //4 Â£∞Êòé String exchangeName = &quot;test_topic_exchange&quot;; String exchangeType = &quot;topic&quot;; String queueName = &quot;test_topic_queue&quot;; //String routingKey = &quot;user.*&quot;; String routingKey = &quot;user.*&quot;; // 1 Â£∞Êòé‰∫§Êç¢Êú∫ channel.exchangeDeclare(exchangeName, exchangeType, true, false, false, null); // 2 Â£∞ÊòéÈòüÂàó channel.queueDeclare(queueName, false, false, false, null); // 3 Âª∫Á´ã‰∫§Êç¢Êú∫ÂíåÈòüÂàóÁöÑÁªëÂÆöÂÖ≥Á≥ª: channel.queueBind(queueName, exchangeName, routingKey); //durable ÊòØÂê¶ÊåÅ‰πÖÂåñÊ∂àÊÅØ QueueingConsumer consumer = new QueueingConsumer(channel); //ÂèÇÊï∞ÔºöÈòüÂàóÂêçÁß∞„ÄÅÊòØÂê¶Ëá™Âä®ACK„ÄÅConsumer channel.basicConsume(queueName, true, consumer); //Âæ™ÁéØËé∑ÂèñÊ∂àÊÅØ while(true)&#123; //Ëé∑ÂèñÊ∂àÊÅØÔºåÂ¶ÇÊûúÊ≤°ÊúâÊ∂àÊÅØÔºåËøô‰∏ÄÊ≠•Â∞Ü‰ºö‰∏ÄÁõ¥ÈòªÂ°û Delivery delivery = consumer.nextDelivery(); String msg = new String(delivery.getBody()); System.out.println(&quot;Êî∂Âà∞Ê∂àÊÅØÔºö&quot; + msg); &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031public class Producer4TopicExchange &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫ConnectionFactory ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 ÂàõÂª∫Connection Connection connection = connectionFactory.newConnection(); //3 ÂàõÂª∫Channel Channel channel = connection.createChannel(); //4 Â£∞Êòé String exchangeName = &quot;test_topic_exchange&quot;; String routingKey1 = &quot;user.save&quot;; String routingKey2 = &quot;user.update&quot;; String routingKey3 = &quot;user.delete.abc&quot;; //5 ÂèëÈÄÅ String msg = &quot;Hello World RabbitMQ 4 Topic Exchange Message ...&quot;; channel.basicPublish(exchangeName, routingKey1 , null , msg.getBytes()); channel.basicPublish(exchangeName, routingKey2 , null , msg.getBytes()); channel.basicPublish(exchangeName, routingKey3 , null , msg.getBytes()); channel.close(); connection.close(); &#125; &#125; limit1234567891011121314151617181920212223242526272829303132public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchangeName = &quot;test_qos_exchange&quot;; String queueName = &quot;test_qos_queue&quot;; String routingKey = &quot;qos.#&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); //1 ÈôêÊµÅÊñπÂºè Á¨¨‰∏Ä‰ª∂‰∫ãÂ∞±ÊòØ autoAckËÆæÁΩÆ‰∏∫ false channel.basicQos(0, 1, false); channel.basicConsume(queueName, false, new MyConsumer(channel)); &#125;&#125; 123456789101112131415161718192021222324public class MyConsumer extends DefaultConsumer &#123; private Channel channel ; public MyConsumer(Channel channel) &#123; super(channel); this.channel = channel; &#125; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;-----------consume message----------&quot;); System.err.println(&quot;consumerTag: &quot; + consumerTag); System.err.println(&quot;envelope: &quot; + envelope); System.err.println(&quot;properties: &quot; + properties); System.err.println(&quot;body: &quot; + new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125;&#125; 123456789101112131415161718192021222324public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_qos_exchange&quot;; String routingKey = &quot;qos.save&quot;; String msg = &quot;Hello RabbitMQ QOS Message&quot;; for(int i =0; i&lt;5; i ++)&#123; channel.basicPublish(exchange, routingKey, true, null, msg.getBytes()); &#125; &#125;&#125; message123456789101112131415161718192021222324252627282930313233343536373839public class Consumer &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫‰∏Ä‰∏™ConnectionFactory, Âπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Connection connection = connectionFactory.newConnection(); //3 ÈÄöËøáconnectionÂàõÂª∫‰∏Ä‰∏™Channel Channel channel = connection.createChannel(); //4 Â£∞ÊòéÔºàÂàõÂª∫Ôºâ‰∏Ä‰∏™ÈòüÂàó String queueName = &quot;test001&quot;; channel.queueDeclare(queueName, true, false, false, null); //5 ÂàõÂª∫Ê∂àË¥πËÄÖ QueueingConsumer queueingConsumer = new QueueingConsumer(channel); //6 ËÆæÁΩÆChannel channel.basicConsume(queueName, true, queueingConsumer); while(true)&#123; //7 Ëé∑ÂèñÊ∂àÊÅØ Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody()); System.err.println(&quot;Ê∂àË¥πÁ´Ø: &quot; + msg); Map&lt;String, Object&gt; headers = delivery.getProperties().getHeaders(); System.err.println(&quot;headers get my1 value: &quot; + headers.get(&quot;my1&quot;)); //Envelope envelope = delivery.getEnvelope(); &#125; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940public class Procuder &#123; public static void main(String[] args) throws Exception &#123; //1 ÂàõÂª∫‰∏Ä‰∏™ConnectionFactory, Âπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); //2 ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Connection connection = connectionFactory.newConnection(); //3 ÈÄöËøáconnectionÂàõÂª∫‰∏Ä‰∏™Channel Channel channel = connection.createChannel(); Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;(); headers.put(&quot;my1&quot;, &quot;111&quot;); headers.put(&quot;my2&quot;, &quot;222&quot;); AMQP.BasicProperties properties = new AMQP.BasicProperties.Builder() .deliveryMode(2) .contentEncoding(&quot;UTF-8&quot;) .expiration(&quot;10000&quot;) .headers(headers) .build(); //4 ÈÄöËøáChannelÂèëÈÄÅÊï∞ÊçÆ for(int i=0; i &lt; 5; i++)&#123; String msg = &quot;Hello RabbitMQ!&quot;; //1 exchange 2 routingKey channel.basicPublish(&quot;&quot;, &quot;test001&quot;, properties, msg.getBytes()); &#125; //5 ËÆ∞ÂæóË¶ÅÂÖ≥Èó≠Áõ∏ÂÖ≥ÁöÑËøûÊé• channel.close(); connection.close(); &#125;&#125; returnlistener12345678910111213141516171819202122232425262728293031323334public class Consumer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchangeName = &quot;test_return_exchange&quot;; String routingKey = &quot;return.#&quot;; String queueName = &quot;test_return_queue&quot;; channel.exchangeDeclare(exchangeName, &quot;topic&quot;, true, false, null); channel.queueDeclare(queueName, true, false, false, null); channel.queueBind(queueName, exchangeName, routingKey); QueueingConsumer queueingConsumer = new QueueingConsumer(channel); channel.basicConsume(queueName, true, queueingConsumer); while(true)&#123; Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody()); System.err.println(&quot;Ê∂àË¥πËÄÖ: &quot; + msg); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142public class Producer &#123; public static void main(String[] args) throws Exception &#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.11.76&quot;); connectionFactory.setPort(5672); connectionFactory.setVirtualHost(&quot;/&quot;); Connection connection = connectionFactory.newConnection(); Channel channel = connection.createChannel(); String exchange = &quot;test_return_exchange&quot;; String routingKey = &quot;return.save&quot;; String routingKeyError = &quot;abc.save&quot;; String msg = &quot;Hello RabbitMQ Return Message&quot;; channel.addReturnListener(new ReturnListener() &#123; @Override public void handleReturn(int replyCode, String replyText, String exchange, String routingKey, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;---------handle return----------&quot;); System.err.println(&quot;replyCode: &quot; + replyCode); System.err.println(&quot;replyText: &quot; + replyText); System.err.println(&quot;exchange: &quot; + exchange); System.err.println(&quot;routingKey: &quot; + routingKey); System.err.println(&quot;properties: &quot; + properties); System.err.println(&quot;body: &quot; + new String(body)); &#125; &#125;); channel.basicPublish(exchange, routingKeyError, true, null, msg.getBytes()); //channel.basicPublish(exchange, routingKeyError, true, null, msg.getBytes());&#125;&#125;]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂçÉÂ≥∞RabbitMQ ËÄÅÂ∏àÊ∫ê‰ª£Á†Å]]></title>
    <url>%2F2018%2F12%2F05%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F%E5%8D%83%E5%B3%B0%20Rabbit%20MQ%20%E8%80%81%E5%B8%88%E6%BA%90%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[ÂçÉÂ≥∞ Rabbit MQ ËÄÅÂ∏àÊ∫ê‰ª£Á†Åhello123456789101112131415161718192021public class Recver &#123; private final static String QUEUE = &quot;testhello&quot;;//ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); QueueingConsumer consumer =new QueueingConsumer(channel);//ÂÆö‰πâ‰∏Ä‰∏™Ê∂àË¥πËÄÖ,QueueingConsumerÂ∑≤ÁªèËøáÊó∂,Âª∫ËÆÆ‰ΩøÁî®DefaultConsumerÂ≠êÁ±ª //Êé•Êî∂Ê∂àÊÅØ ,ÂèÇÊï∞2 ÊòØËá™Âä®Á°ÆËÆ§ channel.basicConsume(QUEUE, true, consumer); while (true) &#123; //Ëé∑ÂèñÊ∂àÊÅØ QueueingConsumer.Delivery delivery = consumer.nextDelivery();//Â¶ÇÊûúÊ≤°ÊúâÊ∂àÊÅØ‰ºöÁ≠âÂæÖ,ÊúâÁöÑËØùÂ∞±Ëé∑ÂèñÊâßË°åÁÑ∂ÂêéÈîÄÊØÅ,ÊòØ‰∏ÄÊ¨°ÊÄßÁöÑ String message = new String(delivery.getBody()); System.out.println(message); &#125; &#125;&#125; 123456789101112131415161718192021222324public class Sender &#123; private final static String QUEUE = &quot;testhello&quot;;//ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; //Ëé∑ÂèñËøûÊé• Connection connection = ConnextionUtil.getConnection(); //ÂàõÂª∫ÈÄöÈÅì Channel channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàó,Â¶ÇÊûúÈòüÂàóÂ≠òÂú®Âàô‰ªÄ‰πàÈÉΩ‰∏çÂÅö,Â¶ÇÊûú‰∏çÂ≠òÂú®ÊâçÂàõÂª∫ // ÂèÇÊï∞1 ÈòüÂàóÁöÑÂêçÂ≠ó //ÂèÇÊï∞2 ÊòØÂê¶ÊåÅ‰πÖÂåñÈòüÂàó,Êàë‰ª¨ÁöÑÈòüÂàóÊ®°ÂºèÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ,Â¶ÇÊûú rabbitmq ÈáçÂêØ‰ºö‰∏¢Â§±,Â¶ÇÊûúÊàë‰ª¨ËÆæÁΩÆ‰∏∫ true, Âàô‰ºö‰øùÂ≠òÂà∞ erlang Ëá™Â∏¶ÁöÑÊï∞ÊçÆÂ∫ì‰∏≠,ÈáçÂêØÂêé‰ºöÈáçÊñ∞ËØªÂèñ //ÂèÇÊï∞3 ÊòØÂê¶ÊéíÂ§ñ,Êúâ‰∏§‰∏™‰ΩúÁî®,Á¨¨‰∏Ä‰∏™ÂΩìÊàë‰ª¨ÁöÑËøûÊé•ÂÖ≥Èó≠ÂêéÊòØÂê¶‰ºöËá™Âä®Âà†Èô§ÈòüÂàó,‰ΩúÁî®‰∫å ÊòØÂê¶ÁßÅÊúâÂΩìÂ§©ÂâçÈòüÂàó,Â¶ÇÊûúÁßÅÊúâ‰∫Ü,ÂÖ∂‰ªñÈÄöÈÅì‰∏çÂèØ‰ª•ËÆøÈóÆÂΩìÂâçÈòüÂàó,Â¶ÇÊûú‰∏∫ true, ‰∏ÄËà¨ÊòØ‰∏Ä‰∏™ÈòüÂàóÂè™ÈÄÇÁî®‰∫é‰∏Ä‰∏™Ê∂àË¥πËÄÖÁöÑÊó∂ÂÄô //ÂèÇÊï∞4 ÊòØÂ§üËá™Âä®Âà†Èô§ //ÂèÇÊï∞5 Êàë‰ª¨ÁöÑ‰∏Ä‰∫õÂÖ∂‰ªñÂèÇÊï∞ channel.queueDeclare(QUEUE, false, false, false, null); //ÂèëÈÄÅÂÜÖÂÆπ channel.basicPublish(&quot;&quot;,QUEUE,null,&quot;ÂèëÈÄÅÁöÑÊ∂àÊÅØ&quot;.getBytes()); //ÂÖ≥Èó≠ËøûÊé• channel.close(); connection.close(); &#125;&#125; persist1234567891011121314151617181920public class Recver &#123; private static String EXCHANGE_NAME = &quot;testpersist&quot;; private static String QUEUE_NAME = &quot;testpersistqueue&quot;; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;, true, false, null); //Â£∞ÊòéÊåÅ‰πÖÂåñÁöÑÈòüÂàó channel.queueDeclare(QUEUE_NAME, true, false, false, null); channel.queueBind(QUEUE_NAME,EXCHANGE_NAME,&quot;abc&quot;); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.err.println(&quot;Êî∂Âà∞Ê∂àÊÅØ:&quot;+new String(body)); &#125; &#125;; channel.basicConsume(QUEUE_NAME, true, consumer); &#125;&#125; 12345678910111213141516public class Sender &#123; private static String EXCHANGE_NAME = &quot;testpersist&quot;; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); //Â£∞ÊòéÊåÅ‰πÖÂåñÁöÑ‰∫§Êç¢Êú∫ channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;, true, false, null); //Â£∞ÊòéÊåÅ‰πÖÂåñÊ∂àÊÅØ channel.basicPublish(EXCHANGE_NAME, &quot;abc&quot;, MessageProperties.PERSISTENT_TEXT_PLAIN, &quot;ÊåÅ‰πÖÂåñÁöÑÊ∂àÊÅØ&quot;.getBytes()); channel.close(); connection.close(); &#125;&#125; publish123456789101112131415161718192021222324public class Recver1 &#123; private final static String EXCHANGE_NAME = &quot;testexchange&quot;;//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testpubqueue1&quot;, false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ channel.queueBind(&quot;testpubqueue1&quot;, EXCHANGE_NAME, &quot;&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;Ê∂àË¥πËÄÖ11111111:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testpubqueue1&quot;, false, consumer); &#125;&#125; 1234567891011121314151617181920public class Recver2 &#123; private final static String EXCHANGE_NAME = &quot;testexchange&quot;;//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testpubqueue2&quot;, false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ channel.queueBind(&quot;testpubqueue2&quot;, EXCHANGE_NAME, &quot;&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;Ê∂àË¥πËÄÖ2222222:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testpubqueue2&quot;, false, consumer); &#125;&#125; 1234567891011121314public class Sender &#123; private final static String EXCHANGE_NAME = &quot;testexchange&quot;;//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); //Â£∞Êòé‰∫§Êç¢Êú∫ channel.exchangeDeclare(EXCHANGE_NAME, &quot;fanout&quot;);//ÂÆö‰πâ‰∏Ä‰∏™‰∫§Êç¢Êú∫,Á±ªÂûãÊòØfanout,‰πüÂ∞±ÊòØÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè //ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÁöÑ,Âõ†‰∏∫Ê∂àÊÅØÊòØÂÖàÂèëÂà∞‰∫§Êç¢Êú∫‰∏≠,ËÄå‰∫§Êç¢Êú∫ÊòØÊ≤°Êúâ‰øùÂ≠òÂäüËÉΩÁöÑ,ÊâÄ‰ª•Â¶ÇÊûúÊ≤°ÊúâÊ∂àË¥πËÄÖ,Ê∂àÊÅØ‰ºö‰∏¢Â§± channel.basicPublish(EXCHANGE_NAME, &quot;&quot;, null, &quot;ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÁöÑÊ∂àÊÅØ&quot;.getBytes()); channel.close(); connection.close(); &#125;&#125; ##route 12345678910111213141516171819202122232425public class Recver1 &#123; private final static String EXCHANGE_NAME = &quot;testeoute&quot;;//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testroutequeue1&quot;, false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ //ÂèÇÊï∞3 Ê†áËÆ∞,ÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÁöÑÊó∂ÂÄô‰ºöÊåáÂÆö‰∏Ä‰∏™Ê†áËÆ∞,Âè™ÊúâÂíåÂÆÉ‰∏ÄÊ†∑ÁöÑÊ†áËÆ∞ÁöÑÊ∂àÊÅØÊâç‰ºöË¢´ÂΩìÂâçÊ∂àË¥πËÄÖÊî∂Âà∞ // ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫,ÁªëÂÆöËá™Â∑±ÁöÑÂÖ≥ÈîÆÂ≠ó key ‰∏∫key,Ê≥®ÊÑèÂú®ÁªëÂÆöÂà∞ÊåáÂÆöË∑ØÁî±(‰∫§Êç¢Êú∫)ÁöÑÊó∂ÂÄô,ËØ•Ë∑ØÁî±ÂøÖÈ°ªÂ≠òÂú®,‰πüÂ∞±ÊòØÊàë‰ª¨ÂøÖÈ°ªÂÖàÁî±ÂèëÈÄÅËÄÖÂàõÂª∫‰∏Ä‰∏™Ë∑ØÁî±ÊâçÂèØ‰ª• channel.queueBind(&quot;testroutequeue1&quot;, EXCHANGE_NAME, &quot;key1&quot;); //Â¶ÇÊûúË¶ÅÊé•Êî∂Â§ö‰∏™Ê†áËÆ∞,Âè™ÈúÄË¶ÅÂÜçÊâßË°å‰∏ÄÊ¨°Âç≥ÂèØ channel.queueBind(&quot;testroutequeue1&quot;, EXCHANGE_NAME, &quot;key2&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;Ê∂àË¥πËÄÖ11111111:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testroutequeue1&quot;, false, consumer); &#125;&#125; 1234567891011121314151617181920212223public class Recver2 &#123; private final static String EXCHANGE_NAME = "testeoute";//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare("testroutequeue2", false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ //ÂèÇÊï∞3 Ê†áËÆ∞,ÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÁöÑÊó∂ÂÄô‰ºöÊåáÂÆö‰∏Ä‰∏™Ê†áËÆ∞,Âè™ÊúâÂíåÂÆÉ‰∏ÄÊ†∑ÁöÑÊ†áËÆ∞ÁöÑÊ∂àÊÅØÊâç‰ºöË¢´ÂΩìÂâçÊ∂àË¥πËÄÖÊî∂Âà∞ channel.queueBind("testroutequeue2", EXCHANGE_NAME, "key1"); //Â¶ÇÊûúË¶ÅÊé•Êî∂Â§ö‰∏™Ê†áËÆ∞,Âè™ÈúÄË¶ÅÂÜçÊâßË°å‰∏ÄÊ¨°Âç≥ÂèØ channel.queueBind("testroutequeue2", EXCHANGE_NAME, "key3"); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println("Ê∂àË¥πËÄÖ22222:"+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume("testroutequeue2", false, consumer); &#125;&#125; 123456789101112public class Sender &#123; private final static String EXCHANGE_NAME = &quot;testeoute&quot;; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;);//ÂÆö‰πâË∑ØÁî±Ê†ºÂºèÁöÑ‰∫§Êç¢Êú∫ channel.basicPublish(EXCHANGE_NAME, &quot;key3&quot;, null, &quot;Ë∑ØÁî±Ê∂àÊÅØ&quot;.getBytes()); channel.close(); connection.close(); &#125;&#125; ##spring 12345678910 */public class MyConsumer &#123; /** * Áî®‰∫éÊé•Êî∂Ê∂àÊÅØ * @param message */ public void test(String message) &#123; System.err.println(message); &#125;&#125; 12345678public class SpringTest &#123; public static void main(String[] args) throws Exception&#123; ApplicationContext context = new ClassPathXmlApplicationContext(&quot;classpath:applicationContext.xml&quot;); RabbitTemplate template = context.getBean(RabbitTemplate.class); template.convertAndSend(&quot;spring ÁöÑÊ∂àÊÅØ&quot;); ((ClassPathXmlApplicationContext) context).destroy(); &#125;&#125; spring212345678@Component(&quot;confirmCallBackListener&quot;)public class ConfirmCallBackListener implements RabbitTemplate.ConfirmCallback &#123; @Override public void confirm(CorrelationData correlationData, boolean ack, String cause) &#123; System.err.println(&quot;Á°ÆËÆ§ÂõûË∞É ack==&quot;+ack+&quot; cause==&quot;+cause); &#125;&#125; 12345678910 @Component(&quot;publishUtil&quot;)public class PublishUtil &#123; @Autowired private AmqpTemplate amqpTemplate; public void send(String exchange, String routingkey, Object message) &#123; amqpTemplate.convertAndSend(exchange,routingkey,message ); &#125;&#125; 1234567891011121314151617181920@Component(&quot;receiveConfirmTestListener&quot;)public class ReceiveConfirmTestListener implements ChannelAwareMessageListener &#123; /** * Êî∂Âà∞Ê∂àÊÅØÁöÑÊó∂ÂÄôÊâßË°åÁöÑÁõëÂê¨ * @param message * @param channel * @throws Exception */ @Override public void onMessage(Message message, Channel channel) throws Exception &#123; try &#123; System.err.println(&quot;Ê∂àË¥πËÄÖÊî∂Âà∞‰∫ÜÊ∂àÊÅØ&quot; + message); channel.basicAck(message.getMessageProperties().getDeliveryTag(),false); &#125;catch (Exception e)&#123; e.printStackTrace(); channel.basicAck(message.getMessageProperties().getDeliveryTag(),false); &#125; &#125;&#125; 12345678 @Component(&quot;returnCallBackListener&quot;)public class ReturnCallBackListener implements RabbitTemplate.ReturnCallback &#123; @Override public void returnedMessage(Message message, int replyCode, String replyText, String exchange, String routingKey) &#123; System.err.println(&quot;Â§±Ë¥• message==&quot;+new String(message.getBody())+&quot; replyCode==&quot;+replyCode+&quot; replyText&quot;+replyText+&quot; exchange&quot;+exchange+&quot; routingKey&quot;+routingKey); &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253 @RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(locations = &#123;&quot;classpath:applicationContext2.xml&quot;&#125;)public class TestMain &#123; @Autowired private PublishUtil publishUtil; private static String exChange = &quot;DIRECT_EX&quot;;//‰∫§Êç¢Êú∫ private static String queue = &quot;CONFIRM_TEST&quot;; /** * EXCHANGE QUEUEÈÉΩÂØπ, confirm ‰ºöÊâßË°å, ack=true * @throws Exception */ @Test public void test1() throws Exception&#123; String message = &quot;ÂΩìÂâçÊó∂Èó¥ÊòØ:&quot; + System.currentTimeMillis(); publishUtil.send(exChange, queue, message); Thread.sleep(2000); &#125; /** * EXCHANGEÈîôËØØ QUEUEÂØπ, confirm ‰ºöÊâßË°å, ack=false * @throws Exception */ @Test public void test2() throws Exception&#123; String message = &quot;ÂΩìÂâçÊó∂Èó¥ÊòØ:&quot; + System.currentTimeMillis(); publishUtil.send(exChange+&quot;!&quot;, queue, message); Thread.sleep(2000); &#125; /** * EXCHANGEÂØπÁöÑ QUEUEÈîôÁöÑ,confirm ‰ºöÊâßË°å act=true, Â§±Ë¥•‰ºöÊâßË°å * @throws Exception */ @Test public void test3() throws Exception&#123; String message = &quot;ÂΩìÂâçÊó∂Èó¥ÊòØ:&quot; + System.currentTimeMillis(); publishUtil.send(exChange, queue+&quot;1&quot;, message); Thread.sleep(2000); &#125; /** * EXCHANGE QUEUEÈÉΩÊòØÈîôÁöÑ confirm ‰ºöÊâßË°å,‰ΩÜÊòØack=false * @throws Exception */ @Test public void test4() throws Exception&#123; String message = &quot;ÂΩìÂâçÊó∂Èó¥ÊòØ:&quot; + System.currentTimeMillis(); publishUtil.send(exChange+&quot;`&quot;, queue+&quot;1&quot;, message); Thread.sleep(2000); &#125; topic123456789101112131415161718192021222324 public class Recver1 &#123; private final static String EXCHANGE_NAME = &quot;testtopic&quot;;//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testtopicqueue1&quot;, false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ //ÂèÇÊï∞3 Ê†áËÆ∞,ÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÁöÑÊó∂ÂÄô‰ºöÊåáÂÆö‰∏Ä‰∏™Ê†áËÆ∞,Âè™ÊúâÂíåÂÆÉ‰∏ÄÊ†∑ÁöÑÊ†áËÆ∞ÁöÑÊ∂àÊÅØÊâç‰ºöË¢´ÂΩìÂâçÊ∂àË¥πËÄÖÊî∂Âà∞ channel.queueBind(&quot;testtopicqueue1&quot;, EXCHANGE_NAME, &quot;key.*&quot;); //Â¶ÇÊûúË¶ÅÊé•Êî∂Â§ö‰∏™Ê†áËÆ∞,Âè™ÈúÄË¶ÅÂÜçÊâßË°å‰∏ÄÊ¨°Âç≥ÂèØ channel.queueBind(&quot;testtopicqueue1&quot;, EXCHANGE_NAME, &quot;abc.#&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;Ê∂àË¥πËÄÖ11111111:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testtopicqueue1&quot;, false, consumer); &#125;&#125; 1234567891011121314151617181920212223public class Recver2 &#123; private final static String EXCHANGE_NAME = &quot;testtopic&quot;;//ÂÆö‰πâ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(&quot;testtopicqueue2&quot;, false, false, false,null); //ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫ //ÂèÇÊï∞3 Ê†áËÆ∞,ÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÁöÑÊó∂ÂÄô‰ºöÊåáÂÆö‰∏Ä‰∏™Ê†áËÆ∞,Âè™ÊúâÂíåÂÆÉ‰∏ÄÊ†∑ÁöÑÊ†áËÆ∞ÁöÑÊ∂àÊÅØÊâç‰ºöË¢´ÂΩìÂâçÊ∂àË¥πËÄÖÊî∂Âà∞ channel.queueBind(&quot;testtopicqueue2&quot;, EXCHANGE_NAME, &quot;key.#&quot;); //Â¶ÇÊûúË¶ÅÊé•Êî∂Â§ö‰∏™Ê†áËÆ∞,Âè™ÈúÄË¶ÅÂÜçÊâßË°å‰∏ÄÊ¨°Âç≥ÂèØ channel.queueBind(&quot;testtopicqueue2&quot;, EXCHANGE_NAME, &quot;abc.#&quot;); channel.basicQos(1); DefaultConsumer consumer=new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; System.out.println(&quot;Ê∂àË¥πËÄÖ22222:&quot;+new String(body)); channel.basicAck(envelope.getDeliveryTag(), false); &#125; &#125;; channel.basicConsume(&quot;testtopicqueue2&quot;, false, consumer); &#125;&#125; 1234567891011121314public class Sender &#123; private final static String EXCHANGE_NAME = &quot;testtopic&quot;; public static void main(String[] args) throws Exception&#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); // Â£∞Êòéexchange,Â£∞Êòé‰∏∫ topic ‰πüÂ∞±ÊòØÈÄöÈÖçÁ¨¶Á±ªÂûã channel.exchangeDeclare(EXCHANGE_NAME, &quot;topic&quot;); //ÂèëÈÄÅ abc.1.2Êï∞ÊçÆ,Âá°ÊòØËÉΩÂåπÈÖçÂà∞Ëøô‰∏™ÂÖ≥ÈîÆËØçÁöÑÈÉΩ‰ºöÊî∂Âà∞ channel.basicPublish(EXCHANGE_NAME, &quot;abc.1.2&quot;, null, &quot;topic Ê®°ÂºèÊ∂àÊÅØ111&quot;.getBytes()); channel.close(); connection.close(); &#125;&#125; util123456789101112 public class ConnextionUtil &#123; public static Connection getConnection () throws Exception&#123; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;192.168.3.233&quot;);//ËÆæÁΩÆ server ÁöÑÂú∞ÂùÄ connectionFactory.setPort(5672); connectionFactory.setUsername(&quot;test&quot;); connectionFactory.setPassword(&quot;test&quot;); connectionFactory.setVirtualHost(&quot;/test&quot;); return connectionFactory.newConnection();//ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËøûÊé• &#125;&#125; work12345678910111213141516171819202122232425262728293031public class Recver1 &#123; private final static String QUEUE = &quot;testwork&quot;;//ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); // Âêå‰∏ÄÊó∂ÂàªÊúçÂä°Âô®Âè™‰ºöÂèë‰∏ÄÊù°Ê∂àÊÅØÁªôÊ∂àË¥πËÄÖ,Âè™ÊúâÂΩìÂâçÊ∂àË¥πËÄÖÂ∞ÜÊ∂àÊÅØÂ§ÑÁêÜÂÆåÊàêÂêéÊâç‰ºöËé∑ÂèñÂà∞‰∏ã‰∏ÄÊù°Ê∂àÊÅØ //Ê≥®ÈáäÊéâÂêéÂèØ‰ª•Ëé∑ÂèñÂ§öÊù°Ê∂àÊÅØ,‰ΩÜÊòØ‰ºö‰∏ÄÊù°‰∏ÄÊù°Â§ÑÁêÜ channel.basicQos(1);//ÂëäËØâÊúçÂä°Âô®,Âú®Êàë‰ª¨Ê≤°ÊúâÁ°ÆËÆ§ÂΩìÂâçÊ∂àÊÅØÂÆåÊàê‰πãÂâç,‰∏çË¶ÅÁªôÊàëÂèëÊñ∞ÁöÑÊ∂àÊÅØ DefaultConsumer consumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //ÂΩìÊàë‰ª¨Êî∂Âà∞Ê∂àÊÅØÁöÑÊó∂ÂÄôË∞ÉÁî® System.out.println(&quot;Ê∂àË¥πËÄÖ1 Êî∂Âà∞ÁöÑÂÜÖÂÆπÊòØ:&quot;+new String(body)); //Á°ÆËÆ§ try &#123; Thread.sleep(10);//Ê®°ÊãüËÄóÊó∂ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; channel.basicAck(envelope.getDeliveryTag(), false);//ÂèÇÊï∞2,false ‰∏∫Á°ÆËÆ§Êî∂Âà∞Ê∂àÊÅØ, true ‰∏∫ÊãíÊé•Êî∂Âà∞Ê∂àÊÅØ &#125; &#125;; //Ê≥®ÂÜåÊ∂àË¥πËÄÖ, ÂèÇÊï∞2 ÊâãÂä®Á°ÆËÆ§,‰ª£Ë°®Êàë‰ª¨Êî∂Âà∞Ê∂àÊÅØÂêéÈúÄË¶ÅÊâãÂä®ÂëäËØâÊúçÂä°Âô®,ÊàëÊî∂Âà∞Ê∂àÊÅØ‰∫Ü channel.basicConsume(QUEUE,false,consumer); &#125;&#125; 1234567891011121314151617181920212223242526272829public class Recver2 &#123; private final static String QUEUE = &quot;testwork&quot;;//ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; Connection connection = ConnextionUtil.getConnection(); Channel channel = connection.createChannel(); channel.queueDeclare(QUEUE,false,false,false,null); channel.basicQos(1);//ÂëäËØâÊúçÂä°Âô®,Âú®Êàë‰ª¨Ê≤°ÊúâÁ°ÆËÆ§ÂΩìÂâçÊ∂àÊÅØÂÆåÊàê‰πãÂâç,‰∏çË¶ÅÁªôÊàëÂèëÊñ∞ÁöÑÊ∂àÊÅØ DefaultConsumer consumer =new DefaultConsumer(channel)&#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; //ÂΩìÊàë‰ª¨Êî∂Âà∞Ê∂àÊÅØÁöÑÊó∂ÂÄôË∞ÉÁî® System.out.println(&quot;Ê∂àË¥πËÄÖ2 Êî∂Âà∞ÁöÑÂÜÖÂÆπÊòØ:&quot;+new String(body)); try &#123; Thread.sleep(300);//Ê®°ÊãüËÄóÊó∂ &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; //Á°ÆËÆ§ channel.basicAck(envelope.getDeliveryTag(), false);//ÂèÇÊï∞2,false ‰∏∫Á°ÆËÆ§Êî∂Âà∞Ê∂àÊÅØ, true ‰∏∫ÊãíÊé•Êî∂Âà∞Ê∂àÊÅØ &#125; &#125;; //Ê≥®ÂÜåÊ∂àË¥πËÄÖ, ÂèÇÊï∞2 ÊâãÂä®Á°ÆËÆ§,‰ª£Ë°®Êàë‰ª¨Êî∂Âà∞Ê∂àÊÅØÂêéÈúÄË¶ÅÊâãÂä®ÂëäËØâÊúçÂä°Âô®,ÊàëÊî∂Âà∞Ê∂àÊÅØ‰∫Ü channel.basicConsume(QUEUE,false,consumer); &#125;&#125; 123456789101112131415161718192021222324252627 public class Sender &#123; private final static String QUEUE = &quot;testwork&quot;;//ÈòüÂàóÁöÑÂêçÂ≠ó public static void main(String[] args) throws Exception &#123; //Ëé∑ÂèñËøûÊé• Connection connection = ConnextionUtil.getConnection(); //ÂàõÂª∫ÈÄöÈÅì Channel channel = connection.createChannel(); //Â£∞ÊòéÈòüÂàó,Â¶ÇÊûúÈòüÂàóÂ≠òÂú®Âàô‰ªÄ‰πàÈÉΩ‰∏çÂÅö,Â¶ÇÊûú‰∏çÂ≠òÂú®ÊâçÂàõÂª∫ // ÂèÇÊï∞1 ÈòüÂàóÁöÑÂêçÂ≠ó //ÂèÇÊï∞2 ÊòØÂê¶ÊåÅ‰πÖÂåñÈòüÂàó,Êàë‰ª¨ÁöÑÈòüÂàóÊ®°ÂºèÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ,Â¶ÇÊûú rabbitmq ÈáçÂêØ‰ºö‰∏¢Â§±,Â¶ÇÊûúÊàë‰ª¨ËÆæÁΩÆ‰∏∫ true, Âàô‰ºö‰øùÂ≠òÂà∞ erlang Ëá™Â∏¶ÁöÑÊï∞ÊçÆÂ∫ì‰∏≠,ÈáçÂêØÂêé‰ºöÈáçÊñ∞ËØªÂèñ //ÂèÇÊï∞3 ÊòØÂê¶ÊéíÂ§ñ,Êúâ‰∏§‰∏™‰ΩúÁî®,Á¨¨‰∏Ä‰∏™ÂΩìÊàë‰ª¨ÁöÑËøûÊé•ÂÖ≥Èó≠ÂêéÊòØÂê¶‰ºöËá™Âä®Âà†Èô§ÈòüÂàó,‰ΩúÁî®‰∫å ÊòØÂê¶ÁßÅÊúâÂΩìÂ§©ÂâçÈòüÂàó,Â¶ÇÊûúÁßÅÊúâ‰∫Ü,ÂÖ∂‰ªñÈÄöÈÅì‰∏çÂèØ‰ª•ËÆøÈóÆÂΩìÂâçÈòüÂàó,Â¶ÇÊûú‰∏∫ true, ‰∏ÄËà¨ÊòØ‰∏Ä‰∏™ÈòüÂàóÂè™ÈÄÇÁî®‰∫é‰∏Ä‰∏™Ê∂àË¥πËÄÖÁöÑÊó∂ÂÄô //ÂèÇÊï∞4 ÊòØÂ§üËá™Âä®Âà†Èô§ //ÂèÇÊï∞5 Êàë‰ª¨ÁöÑ‰∏Ä‰∫õÂÖ∂‰ªñÂèÇÊï∞ channel.queueDeclare(QUEUE, false, false, false, null); for (int i = 0; i &lt; 100; i++) &#123; //ÂèëÈÄÅÂÜÖÂÆπ channel.basicPublish(&quot;&quot;,QUEUE,null,(&quot;ÂèëÈÄÅÁöÑÊ∂àÊÅØ&quot;+i).getBytes()); &#125; //ÂÖ≥Èó≠ËøûÊé• channel.close(); connection.close(); &#125;&#125; resourceapplication.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:rabbit="http://www.springframework.org/schema/rabbit" xsi:schemaLocation="http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.7.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd"&gt; &lt;!--1 ÂÆö‰πâËøûÊé•Â∑•ÂéÇ--&gt; &lt;rabbit:connection-factory id="connectionFactory" host="192.168.3.233" port="5672" username="test" password="test" virtual-host="/test"/&gt; &lt;!--Ê∂àÊÅØÊòØÂèëÈÄÅÂà∞‰∫§Êç¢Êú∫ËøòÊòØÈòüÂàó--&gt; &lt;!--ÂÆö‰πâ rabbitmq ÁöÑÊ®°Êùø queue="" Â¶ÇÊûúÂèëÈÄÅÂà∞ÈòüÂàóÂàôÂÜôÈòüÂàó exchange="" Â¶ÇÊûúÂèëÈÄÅÂà∞‰∫§Êç¢Êú∫ÂàôÂÜô‰∫§Êç¢Êú∫ routing-key="" ÂÆö‰πâË∑ØÁî±ÁöÑÂÖ≥ÈîÆÂ≠ó --&gt; &lt;rabbit:template id="template" connection-factory="connectionFactory" exchange="fanoutExchange" /&gt; &lt;rabbit:admin connection-factory="connectionFactory"/&gt; &lt;!--ÂÆö‰πâÈòüÂàó--&gt; &lt;rabbit:queue name="myQueue" auto-declare="true"/&gt; &lt;!--ÂÆö‰πâ‰∫§Êç¢Êú∫--&gt; &lt;rabbit:fanout-exchange name="fanoutExchange" auto-declare="true"&gt; &lt;!--Â∞ÜÈòüÂàóÁªëÂÆöÂà∞‰∫§Êç¢Êú∫--&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="myQueue"&gt; &lt;/rabbit:binding&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:fanout-exchange&gt;&lt;!--ÂÆö‰πâÁõëÂê¨ÂÆπÊòì,ÂΩìÊî∂Âà∞Ê∂àÊÅØÁöÑÊó∂ÂÄô‰ºöÊâßË°åÂÜÖÈÉ®ÁöÑÈÖçÁΩÆ--&gt; &lt;rabbit:listener-container connection-factory="connectionFactory"&gt;&lt;!--ÂÆö‰πâÂà∞Â∫ïÂì™‰∏™Á±ªÈáåÈù¢ÁöÑ‰ªÄ‰πàÊñπÊ≥ïÁî®‰∫éÂ§ÑÁêÜÊî∂Âà∞ÁöÑÊ∂àÊÅØ--&gt; &lt;rabbit:listener ref="consumer" method="test" queue-names="myQueue"/&gt; &lt;/rabbit:listener-container&gt; &lt;!--ÂÆö‰πâÊ∂àË¥πËÄÖ--&gt; &lt;bean id="consumer" class="com.qianfeng.spring.MyConsumer"/&gt;&lt;!-- &lt;rabbit:direct-exchange name="directExchange" durable="true" auto-delete="false"&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="myQueue" key="key1"&gt; &lt;/rabbit:binding&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:direct-exchange&gt;--&gt; &lt;!-- &lt;rabbit:topic-exchange name="topicExchange" durable="true" auto-delete="false"&gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding pattern="dfasfsd.*" queue="myQueue"/&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:topic-exchange&gt;--&gt;&lt;/beans&gt; application2.xml12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:rabbit="http://www.springframework.org/schema/rabbit" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.7.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd"&gt; &lt;context:component-scan base-package="com.qianfeng"/&gt; &lt;bean id="jsonMessageConverter" class="org.springframework.amqp.support.converter.Jackson2JsonMessageConverter" /&gt; &lt;!-- Ùè∞ΩÙè∞æRabbitMQÙè∞ôÙè∞ÜÙè∞áÙè¥úÙè¥° publisher-confirms Ùè∞íÙèµ†Ùè±àÙè±â, publisher-confirms ‰∏∫ trueÁöÑÊÉÖÂÜµ‰∏ã Á°ÆËÆ§Â§±Ë¥•Á≠âÂõûË∞ÉÊâç‰ºöÊâßË°å Ùèµ°Ùè≥öÙè∞ÄÙè∞îÙèµàÙèµâ--&gt; &lt;rabbit:connection-factory id="connectionFactory" host="192.168.3.233" port="5672" username="test" password="test" virtual-host="/test" publisher-confirms="true" /&gt; &lt;rabbit:admin connection-factory="connectionFactory" /&gt; &lt;!-- Ùè∞¨Ùè±äÙèµûÙè±ØÙè∞ΩÙèµ¢Ùè¥øÙè∞© --&gt;&lt;!-- mandatoryÙè≥ÖÙè≥ÜÙè≤¨Ùè≥øtrue,return callbackÙè∞∂Ùè¥üÙèµ£ --&gt; &lt;rabbit:template id="amqpTemplate" connection-factory="connectionFactory" confirm-callback="confirmCallBackListener" return-callback="returnCallBackListener" mandatory="true"/&gt; &lt;rabbit:queue name="CONFIRM_TEST" /&gt; &lt;rabbit:direct-exchange name="DIRECT_EX" id="DIRECT_EX" &gt; &lt;rabbit:bindings&gt; &lt;rabbit:binding queue="CONFIRM_TEST" /&gt; &lt;/rabbit:bindings&gt; &lt;/rabbit:direct-exchange&gt; &lt;!-- Ùè¥ÅÙè≥øconsumer, Ùè∞øÙè±ÄÙè∞ôÙè¥õÙè≤áqueueÙè∞ôÙè±öÙè±ñÙè≥≤Ùè≤ò --&gt; &lt;rabbit:listener-container connection-factory="connectionFactory" acknowledge="manual" &gt; &lt;rabbit:listener queues="CONFIRM_TEST" ref="receiveConfirmTestListener" /&gt;&lt;/rabbit:listener-container&gt;&lt;/beans&gt; 1234567log4j.rootLogger=DEBUG,A1log4j.logger.com.taotao = DEBUGlog4j.logger.org.mybatis = DEBUGlog4j.appender.A1=org.apache.log4j.ConsoleAppenderlog4j.appender.A1.layout=org.apache.log4j.PatternLayoutlog4j.appender.A1.layout.ConversionPattern=%-d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; [%t] [%c]-[%p] %m%n]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∂àË¥πÁîü‰∫ß‰∏éÊ∂àË¥π]]></title>
    <url>%2F2018%2F12%2F05%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F4%E6%B6%88%E8%B4%B9%E7%94%9F%E4%BA%A7%E4%B8%8E%E6%B6%88%E8%B4%B9%2F</url>
    <content type="text"><![CDATA[1.Âä†ÂÖ•‰æùËµñ12345&lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;scope&gt;3.6.5&lt;/scope&gt; &lt;/dependency&gt; 2.ÁºñÁ†ÅÂÆûÊàò2.1Productor12345678910111213141516171819202122public class Procuder &#123; // Áîü‰∫ßÁ´ØProcuder http://94.191.24.33:15672/#/ public static void main(String[] args) throws Exception &#123; // 1.ÂàõÂª∫‰∏Ä‰∏™ConnectionFactory Âπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("94.191.24.33"); connectionFactory.setPort(15672); connectionFactory.setVirtualHost("/"); // 2.ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé•connectionFactory.newConnection(); Connection connection = connectionFactory.newConnection(); // 3.ÈÄöËøáconnectionÂàõÂª∫‰∏Ä‰∏™Channel Channel channel = connection.createChannel(); // 4.ÈÄöËøáChannelÂèëÈÄÅÊï∞ÊçÆ String msg = "Hello RabbitMQ"; //channel.basicPublish(exchange, routingKey, props, body); channel.basicPublish("", "test001", null, msg.getBytes()); channel.close(); connection.close(); &#125; 2.2.Consumer12345678910111213141516171819202122232425262728293031323334353637public class Consumer &#123; public static void main(String[] args) throws Exception &#123; // 1.ÂàõÂª∫‰∏Ä‰∏™ConnectionFactoryÔºåÂπ∂ËøõË°åÈÖçÁΩÆ ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost("94.191.24.33"); connectionFactory.setPort(5672); connectionFactory.setVirtualHost("/"); // 2.ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Connection connection = connectionFactory.newConnection(); // 3 ÈÄöËøáËøûÊé•Â∑•ÂéÇÂàõÂª∫ËøûÊé• Channel channel = connection.createChannel(); // 4.Áî≥ÊòéÔºàÂàõÂª∫Ôºâ‰∏Ä‰∏™ÈòüÂàó String queueName = "test001"; // channel.queueDeclare(queueName, durable, exclusive, autoDelete, arguments) channel.queueDeclare("test001", true, false, false, null); // 5.ÂàõÂª∫Ê∂àË¥πËÄÖ QueueingConsumer queueingConsumer = new QueueingConsumer(channel); /** * 6.ËÆæÁΩÆchannel # channel.basicConsume(queue,autoAck, autoAck) # 1ÔºöqueueÔºöÈòüÂàóÁöÑÂêçÂ≠ó * 2.autoAckÔºöÊòØÂê¶Ëá™Âä®Á≠æÊî∂ 3:autoAckÔºöÂÖ∑‰ΩìÁöÑÊ∂àË¥πËÄÖÂØπË±° */ channel.basicConsume(queueName, true, queueingConsumer); //7.Ëé∑ÂèñÊ∂àÊÅØ while (true) &#123; Delivery delivery = queueingConsumer.nextDelivery(); String msg = new String(delivery.getBody());// Ëé∑ÂèñÊ∂àÊÅØ System.out.println("Ê∂àË¥πÁ´Ø" + msg); &#125; &#125;&#125; 2.3 ÂêØÂä®Á®ãÂ∫èÁúãÁÆ°ÊéßÂè∞ 2.4 ÊñπÊ≥ïÁöÑAPI3.‰∏Ä‰∫õÂü∫Á°Ä]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaÂºïÁî®‰º†ÈÄí]]></title>
    <url>%2F2018%2F12%2F04%2Fjava%E5%9F%BA%E7%A1%80%2F%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92%2F</url>
    <content type="text"><![CDATA[Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºàshowÔºàÔºâÊñπÊ≥ïÂá∫Ê†à Ê†àÈáåÈù¢Âè™ÊúâÊàêÂëòÂèòÈáèÔºâ123456789101112package ÂºïÁî®‰º†ÈÄí;//Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂèÇÊï∞‰º†ÈÄípublic class Demo &#123; public static void main(String[] args) &#123; int x = 3; show(x);//‚≠êÔ∏èx=3 showÔºàÔºâÊñπÊ≥ïÂá∫Ê†à Ê†àÈáåÈù¢Âè™Êúâ3 System.out.println("x=" + x); &#125; public static void show(int x) &#123; x = 4; &#125;&#125; 123456789101112package ÂºïÁî®‰º†ÈÄí;//Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂèÇÊï∞‰º†ÈÄípublic class Demo &#123; public static void main(String[] args) &#123; int x = 3; show(x);// Á≠îÊ°àx=4 ÊâßË°åÁöÑÊòØshow ÈáåÈù¢ÁöÑÊñπÊ≥ï &#125; public static void show(int x) &#123; x = 4; System.out.println("x=" + x); &#125;&#125; ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÂèÇÊï∞‰º†ÈÄí 1234567891011121314package ÂºïÁî®‰º†ÈÄí;//ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãpublic class Demo2 &#123; int x = 3; public static void main(String[] args) &#123; Demo2 demo2 = new Demo2(); demo2.x=9; show(demo2);// ‚≠êÔ∏è x=4 System.out.println(demo2.x); &#125; public static void show(Demo2 d) &#123; d.x = 4; &#125;&#125; ÊÄªÁªì ÂºïÁî®Êï∞ÊçÆÁ±ªÂûã‰º†ÈÄíËØ¶Ëß£ Ê†àÂÜÖÂ≠òÔºö‰øùÂ≠òÊâÄÊúâÁöÑÂØπË±°ÂêçÁß∞ d(‰øùÂ≠ò‰∫ÜÂºïÁî®Â†ÜÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÂú∞ÂùÄÔºâ Â†ÜÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ‰øùÂ≠òÂÖ∑‰ΩìÂØπË±°ÁöÑÂÖ∑‰ΩìÂ±ûÊÄß ÂÖ®Â±ÄÊï∞ÊçÆÂå∫Ôºö‰øùÂ≠òstaticÁ±ªÂûãÁöÑÂ±ûÊÄß ÂÖ®Â±Ä‰ª£Á†ÅÂå∫Ôºö‰øùÂ≠òÊâÄÊúâÁöÑÊñπÊ≥ïÂÆö‰πâ javaÁöÑÂºïÁî®‰º†ÈÄí Âêå‰∏ÄÂùóÂ†ÜÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂêåÊó∂Ë¢´Â§ö‰∏™Ê†àÂÜÖÂ≠òÊåáÂêëÔºå‰∏çÂêåÁöÑÊ†àÂèØ‰ª•‰øÆÊîπÂêå‰∏ÄÂùóÂ†ÜÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÂú∞ÂùÄ 123456789101112131415161718192021222324252627282930313233package ÂºïÁî®‰º†ÈÄí;class Demo1 &#123; private int data = 10; public Demo1() &#123; &#125; public Demo1(int data) &#123; this.data = data; &#125; public int getData() &#123; return this.data; &#125; public void setData(int data) &#123; this.data = data; &#125;&#125;public class TestDemo &#123; public static void main(String[] args) &#123; Demo1 demo1 = new Demo1(); fun(demo1);// System.out.println(demo1.getData());//30 &#125; public static void fun(Demo1 temp) &#123; // Êé•ÂèóÂºïÁî® temp.setData(30);// ‰øÆÊîπÂ±ûÊÄßÂÜÖÂÆπ &#125;&#125; https://blog.csdn.net/lym152898/article/details/54411956]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQÁÆ°ÊéßÂè∞]]></title>
    <url>%2F2018%2F12%2F04%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F3.%E7%AE%A1%E6%8E%A7%E5%8F%B0%2F</url>
    <content type="text"><![CDATA[‰∏çÁßØË∑¨Ê≠• Êó†‰ª•Ëá≥ÂçÉÈáå ÂÖªÊàêÂÜôÂçöÂÆ¢ÁêÜËß£ÁöÑ‰π†ÊÉØ#ÂçöÂÆ¢Âú®Â≠¶‰π†ÁöÑÊó∂ÂÄôÂÜô ÁúãÊúÄÂ•ΩÁöÑËßÜÈ¢ë ÂÜôÂÅöÂ•ΩÁöÑÂçöÂÆ¢ cheerUP]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Rabbit MQÂëΩ‰ª§ÊÄªÁªì]]></title>
    <url>%2F2018%2F12%2F04%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2FRabbit%20MQ%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ÂëΩ‰ª§ÊÄªÁªì RabbitMQ‰∏çÁßØË∑¨Ê≠•Êó†‰ª•Ëá≥ÂçÉÈáå1.lsof -i :5672 Êü•ÁúãÊúâÊ≤°ÊúâÂêØÂä®ÊàêÂäü 2.rabbitmq 3.rabbitmqctl list_queues Êü•ÁúãÊâÄÊúâÈòüÂàóÁöÑÂêçÁß∞ 4.rabbitmqctl list_vhosts 5.rabbitmqctl status Êü•ÁúãÂΩìÂâçËäÇÁÇπÁöÑÁä∂ÊÄÅ]]></content>
  </entry>
  <entry>
    <title><![CDATA[javaSE ÊÄªÁªì IO ÈõÜÂêà Á∫øÁ®ã]]></title>
    <url>%2F2018%2F12%2F04%2Fjava%E5%9F%BA%E7%A1%80%2F%E9%9B%86%E5%90%88%2F</url>
    <content type="text"><![CDATA[1.ÈõÜÂêà]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaÂèçÂ∞Ñ]]></title>
    <url>%2F2018%2F12%2F04%2Fjava%E5%9F%BA%E7%A1%80%2F%E5%8F%8D%E5%B0%84%2F</url>
    <content type="text"><![CDATA[javaÂèçÂ∞ÑÊú∫Âà∂ÂÆåÂÖ®ËØ¶Ëß£#1.ÂèçÂ∞ÑÊ∫êÂ§¥ ‚ÄîClassÁ±ª 1.1 ÂèñÂæóClassÁ±ªÂØπË±° ‚≠êÔ∏è1234567public class Demo &#123; public static void main(String[] args) &#123; Date date = new Date(); Class&lt;? extends Date&gt; class1 = date.getClass();//ÂèñÂæóclassÁ±ªÂØπË±° System.out.println(class1);//class java.util.Date &#125;&#125; 12345678//Âà©Áî®Á±ª.classËé∑ÂæóÂèçÂ∞ÑÁöÑÊòØÂÆû‰æãÂàíÂØπË±°public class Demo1 &#123; public static void main(String[] args) &#123; Date date = new Date(); Class&lt;? extends Date&gt; class1 = java.util.Date.class ;//ÂèñÂæóclassÁ±ªÂØπË±° System.out.println(class1);//class java.util.Date &#125;&#125; 12345678//Âà©Áî®ClassÁ±ªÊèê‰æõÁöÑÊñπÊ≥ïÂÆû‰æãÂåñÂØπÂêëpublic class Demo2 &#123; public static void main(String[] args) throws ClassNotFoundException &#123; Class&lt;?&gt; forName = Class.forName("java.util.Date"); System.out.println(forName);//class java.util.Date &#125;&#125; #2.Âà©Áî®ÂèçÂ∞ÑÂÆû‰æãÂåñÂØπË±° 2.1public T newInstacne ‚≠êÔ∏è‚≠êÔ∏è123456789101112131415161718public class Demo3 &#123; public Demo3() &#123; System.out.println("^^^^"); &#125; public String toString() &#123; return "######"; &#125;&#125;-------------------------------------------------------------------------------- public class Demo4 &#123; public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException &#123; Class&lt;?&gt; class1 = Class.forName("ÂèçÂ∞Ñ.Demo3"); Object object = class1.newInstance();// ÂÆû‰æãÂåñÂØπË±° // Demo3 demo3=new Demo3();//Ë∞ÉÁî®Êó†ÂèÇÊûÑÈÄ† System.out.println(class1); System.out.println(object); &#125;&#125; 2.2„ÄÇÂ∑•ÂéÇËÆæËÆ°Ê®°Âºè 3.ÂèñÂæóÁ±ªÁªßÊâøÁªìÊûÑ 123456789101112131415161718192021222324252627public class Demo3 extends Object implements Serializable &#123; public Demo3() &#123; System.out.println("^^^^"); &#125; public String toString() &#123; return "######"; &#125;&#125;-------------------------------------------------------------------------------- public class Demo4 &#123; public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException &#123; Class&lt;?&gt; class1 = Class.forName("ÂèçÂ∞Ñ.Demo3"); class1.getName();// ÂåÖÂêç.Á±ªÂêç class1.getPackage();// package ÂåÖÂêç class1.getPackage().getName();// ÂåÖÂêç class1.getSimpleName();// Á±ªÂêç class1.getSuperclass().getName();// Áà∂Á±ªÁöÑÂåÖÂêç Class&lt;?&gt;[] icls = class1.getInterfaces();// [Ljava.lang.Class;@6bf256fa for (int i = 0; i &lt; icls.length; i++) &#123; System.out.println(icls[i].getSimpleName());//Serializable &#125; 4.ÂèçÂ∞ÑÂèñÂæóÊûÑÈÄ†ÊñπÊ≥ïÔºàinvokeÔºâ 5.ÂèçÂ∞ÑÂèñÂæóÊñπÊ≥ï ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è 1234567891011121314public class Demo5 &#123; public static void main(String[] args) throws ClassNotFoundException &#123; getMethodDemo(); &#125; // Ëé∑ÂèñÊåáÂÆöClass‰∏≠ÁöÑÂÖ¨ÂÖ±ÂáΩÊï∞ public static void getMethodDemo() throws ClassNotFoundException &#123; Class&lt;?&gt; clazz = Class.forName(&quot;ÂèçÂ∞Ñ.Persion&quot;); Method[] methods = clazz.getMethods(); for (int i = 0; i &lt; methods.length; i++) &#123; System.out.println(methods[i]); &#125; &#125; 6.Invoke ‚Äì]]></content>
  </entry>
  <entry>
    <title><![CDATA[Âü∫‰∫éjavaÁöÑÂÆπÂô®Ê≥®Ëß£ @Bean‚≠êÔ∏è]]></title>
    <url>%2F2018%2F12%2F04%2FSpring%2F3.java%E5%AE%B9%E5%99%A8%E7%9A%84%E6%B3%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[https://www.imooc.com/learn/196 ÂêéÁª≠Êõ¥Êñ∞ 1.ÂÆûÊàò ÊÄªÁªì]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BeanË£ÖÈÖç Âü∫‰∫éxmlÂΩ¢Âºè]]></title>
    <url>%2F2018%2F12%2F04%2FSpring%2F5.bean%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BD%9C%E7%94%A8%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[Spring Awre 123456789public class MoocApplicationContext implements ApplicationContextAware &#123; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; System.out.println("MoocApplicationContext : " + applicationContext.getBean("moocApplicationContext").hashCode()); &#125; &#125; 1234567891011121314151617public class MoocBeanName implements BeanNameAware, ApplicationContextAware &#123; private String beanName; @Override public void setBeanName(String name) &#123; this.beanName = name; System.out.println("MoocBeanName : " + name); &#125; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; System.out.println("setApplicationContext : " + applicationContext.getBean(this.beanName).hashCode()); &#125;&#125; Autowiring 1234567public class AutoWiringDAO &#123; public void say(String word) &#123; System.out.println("AutoWiringDAO : " + word); &#125;&#125; 12345678910111213141516171819public class AutoWiringService &#123; private AutoWiringDAO autoWiringDAO; public AutoWiringService(AutoWiringDAO autoWiringDAO) &#123; System.out.println("AutoWiringService"); this.autoWiringDAO = autoWiringDAO; &#125; public void setAutoWiringDAO(AutoWiringDAO autoWiringDAO) &#123; System.out.println("setAutoWiringDAO"); this.autoWiringDAO = autoWiringDAO; &#125; public void say(String word) &#123; this.autoWiringDAO.say(word); &#125;&#125; 123456789101112&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd" default-autowire="constructor"&gt; &lt;bean id="autoWiringService" class="com.imooc.autowiring.AutoWiringService" &gt;&lt;/bean&gt; &lt;bean class="com.imooc.autowiring.AutoWiringDAO" &gt;&lt;/bean&gt; &lt;/beans&gt;]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring AOP]]></title>
    <url>%2F2018%2F12%2F04%2FSpring%2F7.SpringAOP%2F</url>
    <content type="text"><![CDATA[‚Äî-]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring IOC ÂèäbeanÂÆπÂô® Ê≥®ÂÖ•]]></title>
    <url>%2F2018%2F12%2F04%2FSpring%2F1.SpringIOC%2F</url>
    <content type="text"><![CDATA[1.IOCÂèäBeanÂÆπÂô® ‚Äã 2.Spring Ê≥®ÂÖ• &lt;ÂøÖÈ°ªË¶ÅÊúâget/setÊñπÊ≥ï&gt; &lt; property name=‚Äù‚Äù ref=‚Äù‚Äù&gt;‚≠êÔ∏è * name= ÂΩìÂâçBean‰∏≠classÊâÄÂú®ÁöÑÁ±ªÁöÑÊ≥®ÂÖ•ÁöÑÂ±ûÊÄßÁöÑ ÊàêÂëòÂèòÈáèÂêç * ref=Ë°®Á§∫ÂºïÁî® ‰∏ã‰∏Ä‰∏™ÁöÑIDÂÄº ** &lt;ÂøÖÈ°ªË¶ÅÊúâÊûÑÈÄ†Âô®ÊñπÊ≥ï&gt; 3.ÂÆûÊàò‚ÄìIOC3.1‰º†ÁªüÁöÑnew ÊñπÂºèÂÆûÁé∞Êé•Âè£ÁºñÁ®ã‚Äã 3.2‰ΩøÁî®BeanÂºÄÂèë 3.2 setÊ≥®ÂÖ•1.DaoÂ±Ç 2.serviceÂ±Ç 3.3 ÊûÑÈÄ†ÊñπÊ≥ïÊ≥®ÂÖ•]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Rabbit MQ ÂëΩ‰ª§Ë°å‰∏éÁÆ°ÊéßÂè∞]]></title>
    <url>%2F2018%2F12%2F03%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F2.%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8E%E7%AE%A1%E6%8E%A7%E5%8F%B0%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526272829303132333435rabbitmqctl stop_appÔºöÂÖ≥Èó≠Â∫îÁî®rabbitmqctl stop_appÔºöÂêØÂä®Â∫îÁî®rabbitmqctlstatusÔºöËäÇÁÇπÁä∂ÊÄÅrabbitmqctladd_user username passwordÔºöÊ∑ªÂä†Áî®Êà∑rabbitmqctllist_usersÔºöÂàóÂá∫ÊâÄÊúâÁî®Êà∑rabbitmqctldelete_user usernameÔºöÂà†Èô§Áî®Êà∑rabbitmqctl clear_permissions -p vhostpath username ÔºöÊ∏ÖÊ•öÁî®Êà∑ÊùÉÈôêrabbitmqctladd_vhost vhostpathÔºöÂàõÂª∫ËôöÊãü‰∏ªÊú∫rabbitmqctllist_vhostÔºöÂàóÂá∫ÊâÄÊúâËôöÊãü‰∏ªÊú∫rabbitmqctllist_permissions -p vhostpathÔºöÂàóÂá∫ËôöÊãü‰∏ªÊú∫ÊâÄÊúâÊùÉÈôêrabbitmqctldelete_vhost vhostpathÔºöÂà†Èô§ËôöÊãü‰∏ªÊú∫rabbitmqctllist_queuesÔºöÊü•ÁúãÊâÄÊúâÈòüÂàó‰ø°ÊÅØrabbitmqctl -p vhostpath purge_queue blueÔºöÊ∏ÖÈô§ÈòüÂàóÈáåÁöÑÊ∂àÊÅØrabbitmqctlresetÔºöÁßªÈô§ÊâÄÊúâÊï∞ÊçÆÔºåË¶ÅÂú®rabbitmqctlstop_app‰πãÂêé‰ΩøÁî®rabbitmqctl join_cluster [--ram]ÔºöÁªÑÊàêÈõÜÁæ§ÂëΩ‰ª§rabbitmqctlcluster_statusÔºöÊü•ÁúãÈõÜÁæ§Áä∂ÊÄÅrabbitmqctlchange_cluster_node_type disc |ramÔºö‰øÆÊîπÈõÜÁæ§ËäÇÁÇπÁöÑÂ≠òÂÇ®Ê®°Âºèrabbitmqctlforget_cluster_node_ [--offline] ÔºöÂøòËÆ∞ËäÇÁÇπÔºàÊëòÈô§ËäÇÁÇπÔºâ]]></content>
  </entry>
  <entry>
    <title><![CDATA[LinuxÂÆâË£ÖRabbitMQ]]></title>
    <url>%2F2018%2F12%2F03%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F1.RabbitMQ%E4%B8%8B%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[Âú®Âü∫‰∫éRPMÁöÑLinux‰∏äÂÆâË£ÖÔºàRHELÔºåCentOSÔºåFedoraÔºåopenSUSEÔºâ 1.‰∏ãËΩΩErlang https://www.erlang-solutions.com/resources/download.html ‚ùå‚ùå‚ùå http://www.rabbitmq.com/releases/erlang/ ‚òëÔ∏è‚òëÔ∏è‚òëÔ∏è 2 ‰∏ãËΩΩRabbitMQÊúçÂä°Âô®„ÄÅ # #ÊñπÊ≥ï‰∏ÄÔºöWget +Âú∞ÂùÄÊñπÊ≥ï‰∫åÔºöÂú®ÁªàÁ´Ø‰∏≠ËæìÂÖ•ÂëΩ‰ª§: scp ÂæÖ‰∏ä‰º†Êñá‰ª∂Âêç linuxÁî®Êà∑Âêç@ÊúçÂä°Âô®IP:Â≠òÊîæÂà∞ÊúçÂä°Âô®ÁöÑÂì™‰∏™‰ΩçÁΩÆ :~ fa 3.ÂÆâË£Öscoket 123456789101112131415161718192021222324## RabbitMQ ÂèÇËÄÉËµÑÊñôÊÖïËØæÁΩëËÄÅÂ∏àËÆ≤‰πâ ÂáÜÂ§áÔºöyum install build-essential openssl openssl-devel unixODBC unixODBC-devel make gcc gcc-c++ kernel-devel m4 ncurses-devel tk tc xz‰∏ãËΩΩÔºöwget www.rabbitmq.com/releases/erlang/erlang-18.3-1.el7.centos.x86_64.rpmwget http://repo.iotti.biz/CentOS/7/x86_64/socat-1.7.3.2-5.el7.lux.x86_64.rpmwget www.rabbitmq.com/releases/rabbitmq-server/v3.6.5/rabbitmq-server-3.6.5-1.noarch.rpmÈÖçÁΩÆÊñá‰ª∂Ôºövim /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.5/ebin/rabbit.appÊØîÂ¶Ç‰øÆÊîπÂØÜÁ†Å„ÄÅÈÖçÁΩÆÁ≠âÁ≠âÔºå‰æãÂ¶ÇÔºöloopback_users ‰∏≠ÁöÑ &lt;&lt;&quot;guest&quot;&gt;&gt;,Âè™‰øùÁïôguestÊúçÂä°ÂêØÂä®ÂíåÂÅúÊ≠¢ÔºöÂêØÂä® rabbitmq-server start &amp;ÂÅúÊ≠¢ rabbitmqctl app_stopÁÆ°ÁêÜÊèí‰ª∂Ôºörabbitmq-plugins enable rabbitmq_managementËÆøÈóÆÂú∞ÂùÄÔºöhttp://192.168.11.76:15672/]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàùËØÜRabbitMQ]]></title>
    <url>%2F2018%2F12%2F03%2F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%2FRabbitMQ%2F0.RabbitMQ%2F</url>
    <content type="text"><![CDATA[http://www.rabbitmq.com/#features ÂÆâË£ÖÈ°∫Â∫è ÔºöÂÖàÊòØerlang ÁÑ∂ÂêéÊòØ socat ÁÑ∂ÂêéÊòØrabbitmq LinuxÂÆâË£ÖÔºö]]></content>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[maven]]></title>
    <url>%2F2018%2F12%2F02%2F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F%E5%B8%B8%E7%94%A8maven%E4%BB%93%E5%BA%93%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224&lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt; &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt; &lt;version&gt;7.0.64&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;org.springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.7.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mybatis.spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mybatis.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;1.6.11&lt;/version&gt;&lt;/dependency&gt;&lt;-- JSON Â∫èÂàóÂåñÂ∑•ÂÖ∑--&gt;&lt;dependency&gt; &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt; &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt; &lt;version&gt;1.9.12&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-dbcp&lt;/groupId&gt; &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt; &lt;version&gt;1.4&lt;/version&gt; &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-core&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;20.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.5&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;joda-time&lt;/groupId&gt; &lt;artifactId&gt;joda-time&lt;/artifactId&gt; &lt;version&gt;2.3&lt;/version&gt;&lt;/dependency&gt;&lt;!-- idÂä†ÂØÜËß£ÂØÜ --&gt;&lt;dependency&gt; &lt;groupId&gt;org.hashids&lt;/groupId&gt; &lt;artifactId&gt;hashids&lt;/artifactId&gt; &lt;version&gt;1.0.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- ftpclient --&gt;&lt;dependency&gt; &lt;groupId&gt;commons-net&lt;/groupId&gt; &lt;artifactId&gt;commons-net&lt;/artifactId&gt; &lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- file upload --&gt;&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;&lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.0.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- mybatis pager --&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.miemiedev&lt;/groupId&gt; &lt;artifactId&gt;mybatis-paginator&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt; &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt; &lt;version&gt;0.9.4&lt;/version&gt;&lt;/dependency&gt;&lt;!-- alipay ÈòøÈáåÊîØ‰ªò--&gt;&lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-configuration&lt;/groupId&gt; &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-lang&lt;/groupId&gt; &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;version&gt;1.1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.google.zxing&lt;/groupId&gt; &lt;artifactId&gt;core&lt;/artifactId&gt; &lt;version&gt;2.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt; &lt;artifactId&gt;gson&lt;/artifactId&gt; &lt;version&gt;2.3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.hamcrest&lt;/groupId&gt; &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt; &lt;version&gt;1.3&lt;/version&gt;&lt;/dependency&gt;&lt;redis ÂÆ¢Êà∑Á´Ø jedis&gt;&lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.0&lt;/version&gt;&lt;/dependency&gt;]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∫ëÊúçÂä°Âô®linux awd‰∫ë]]></title>
    <url>%2F2018%2F12%2F02%2FLinux%2F%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[ÁôªÂΩïLinux‰∫ëÊúçÂä°Âô®ÊµèËßàÂô® WebShell ÊñπÂºèÁôªÂΩï ÊîØÊåÅÂ§çÂà∂Á≤òË¥¥„ÄÅ‰∏≠ÊñáËæìÂÖ•Ê≥ïÔºåÈúÄË¶ÅÂºÄÂêØ SSH Á´ØÂè£ÔºàTCP:22Ôºâ Á´ãÂç≥ÁôªÂΩï Ê†áÂáÜÁôªÂΩïÊñπÂºè ‰ΩøÁî® Windows Á≥ªÁªüÁöÑÁîµËÑë 1„ÄÅ‰∏ãËΩΩÂÆâË£Ö Windows SSH Âíå Telnet ÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ Putty„ÄÇ ‰∏ãËΩΩPutty 2„ÄÅÁî®Êà∑ÂêçÔºö rootÔºåHostÔºö 94.191.24.33 3„ÄÅÊåâÁÖß Putty ‰ΩøÁî®Â∏ÆÂä©ËøõË°åÁôªÂΩï„ÄÇ Putty ÂØÜÁ†ÅÊñπÂºè‰ΩøÁî®Â∏ÆÂä© ‰ΩøÁî® Linux/Mac OS X Á≥ªÁªüÁöÑÁîµËÑëÔºà‰ΩøÁî®ÂØÜÁ†ÅÁôªÂΩïÔºâ 1„ÄÅÊâìÂºÄ SSH ÂÆ¢Êà∑Á´ØÔºàMacÂèØ‰ΩøÁî®Á≥ªÁªüËá™Â∏¶ÁöÑÁªàÁ´ØÔºâ 2„ÄÅËæìÂÖ• ssh -q -l root -p 22 94.191.24.33 3„ÄÅËæìÂÖ• CVM ÂÆû‰æãÂØÜÁ†ÅËøõË°åÁôªÂΩï„ÄÇ ‰ΩøÁî® Linux/Mac OS X Á≥ªÁªüÁöÑÁîµËÑëÔºà‰ΩøÁî®ÂØÜÈí•ÁôªÂΩïÔºâ 1„ÄÅÊâìÂºÄ SSH ÂÆ¢Êà∑Á´ØÔºàMacÂèØ‰ΩøÁî®Á≥ªÁªüËá™Â∏¶ÁöÑÁªàÁ´ØÔºâ„ÄÇ 2„ÄÅÊü•ÊâæÊÇ®‰∫ëÊúçÂä°Âô®ÂÖ≥ËÅîÁöÑ SSH ÂØÜÈí•Êñá‰ª∂Êú¨Âú∞Â≠òÊîæÂú∞ÂùÄ„ÄÇ 3„ÄÅÊÇ®ÁöÑÂØÜÈí•ÂøÖÈ°ª‰∏çÂÖ¨ÂºÄÂèØËßÅÔºåSSH ÊâçËÉΩÂ∑•‰Ωú„ÄÇËØ∑‰ΩøÁî®Ê≠§ÂëΩ‰ª§Ôºö chmod 400 [ÂØÜÈí•Êñá‰ª∂Ë∑ØÂæÑ]„ÄÇ 4„ÄÅËæìÂÖ•ÂëΩ‰ª§Ôºö ssh [-i ÂØÜÈí•Êñá‰ª∂Ë∑ØÂæÑ] root@94.191.24.33„ÄÇ ÊµèËßàÂô® VNC ÊñπÂºèÁôªÂΩï ‰∏çÊé®Ëçê ÊöÇ‰∏çÊîØÊåÅÂ§çÂà∂Á≤òË¥¥„ÄÅ‰∏≠ÊñáËæìÂÖ•Ê≥ï„ÄÇ Á´ãÂç≥ÁôªÂΩï ÊèêÁ§∫ÔºöÈááÁî®VNCÊñπÂºèÁôªÂΩïÔºåËØ∑Âä°ÂøÖÂºÄÂêØ MFA ‰∫åÊ¨°È™åËØÅÊèêÈ´òÂÆâÂÖ®‰øùÈöúÁ∫ßÂà´ git@gitee.com:GoodMrY/mmall_learning.git git@gitee.com:GoodMrY/mmall_learning.gitgit@gitee.com:GoodMrY/mmall_learning.gitgit@gitee.com:GoodMrY/mmall_learning.gitgit@gitee.com:GoodMrY/mmall_learning.git]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux Â≠¶‰π† Èò≤ÁÅ´Â¢ô Á´ØÂè£Âè∑ Centos7]]></title>
    <url>%2F2018%2F12%2F01%2FLinux%2FLinux%E5%B0%8F%E7%BB%93%2F</url>
    <content type="text"><![CDATA[1 Linux Èò≤ÁÅ´Â¢ô Á´ØÂè£Âè∑ Áõ∏ÂÖ≥Êìç‰Ωú CentOS 7ÈªòËÆ§‰ΩøÁî®ÁöÑÊòØfirewall‰Ωú‰∏∫Èò≤ÁÅ´Â¢ô Âú®ËôöÊãüÊú∫centos7‰∏äÂÆâË£Önginx‰πãÂêéËôöÊãüÊú∫ÂÜÖËÉΩËÆøÈóÆÔºåÁúüÊú∫‰∏çËÉΩËÆøÈóÆÔºå‰øÆÊîπiptablesÈÖçÁΩÆ‰πü‰∏çËµ∑‰ΩúÁî®ÔºåÊúÄÂêé‰∏äÁΩëÊü•Êâæ‰∫ÜËµÑÊñôÂêéÊâçÂèëÁé∞centosÁöÑÈò≤ÁÅ´Â¢ôÊîπÊàê‰∫Üfirewall,‰∏çÂÜçÂè´iptables,ÂºÄÊîæÁ´ØÂè£ÁöÑÊñπÊ≥ïÂ¶Ç‰∏ãÔºö 1firewall-cmd --zone=public --add-port=80/tcp --permanent 1234567ÂëΩ‰ª§Âê´‰πâÔºö‚Äìzone #‰ΩúÁî®Âüü‚Äìadd-port=80/tcp #Ê∑ªÂä†Á´ØÂè£ÔºåÊ†ºÂºè‰∏∫ÔºöÁ´ØÂè£/ÈÄöËÆØÂçèËÆÆ‚Äìpermanent #Ê∞∏‰πÖÁîüÊïàÔºåÊ≤°ÊúâÊ≠§ÂèÇÊï∞ÈáçÂêØÂêéÂ§±Êïà 1 ÈáçÂêØÈò≤ÁÅ´Â¢ôÔºö123systemctl stop firewalld.service systemctl start firewalld.service systemctl restart firewalld.service # ÈáçÂêØÈò≤ÁÅ´Â¢ô 2 Ê∑ªÂä†Á´ØÂè£Âè∑1firewall-cmd --zone=public --add-port=Á´ØÂè£Âè∑/tcp --permanent https://filezilla-project.org/download.php?type=client FileZilla Client 12Ëß£ÂéãzipÊñá‰ª∂Âà∞ÂΩìÂâçÁõÆÂΩïunzip filename.zip ‰∏äÈù¢Ëøô‰∏™‰∏çÊòØCentos7ÁöÑ ‰∏äÈù¢Ëøô‰∏™‰∏çÊòØCentos7ÁöÑ 3 CentOs7ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôÁöÑÂëΩ‰ª§!12345678910111213141516171819202122232425262728293031‰∏ãÈù¢ÊòØred hat/CentOs7ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôÁöÑÂëΩ‰ª§!1:Êü•ÁúãÈò≤ÁÅ´Áä∂ÊÄÅsystemctl status firewalldservice iptables status2:ÊöÇÊó∂ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ô‚àöservice iptables stop3:Ê∞∏‰πÖÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôsystemctl disable firewalldchkconfig iptables off4:ÈáçÂêØÈò≤ÁÅ´Â¢ôsystemctl enable firewalldservice iptables restart 5:Ê∞∏‰πÖÂÖ≥Èó≠ÂêéÈáçÂêØ//ÊöÇÊó∂ËøòÊ≤°ÊúâËØïËøáchkconfig iptables on Centos 7 ÂºÄÂêØÁ´ØÂè£CentOS 7 ÈªòËÆ§Ê≤°Êúâ‰ΩøÁî®iptablesÔºåÊâÄ‰ª•ÈÄöËøáÁºñËæëiptablesÁöÑÈÖçÁΩÆÊñá‰ª∂Êù•ÂºÄÂêØ80Á´ØÂè£ÊòØ‰∏çÂèØ‰ª•ÁöÑ CentOS 7 ÈááÁî®‰∫Ü firewalld Èò≤ÁÅ´Â¢ô Â¶ÇË¶ÅÊü•ËØ¢ÊòØÂê¶ÂºÄÂêØ80Á´ØÂè£ÂàôÔºö 1`[root@joe-pc ~]``# firewall-cmd --query-port=80/tcp``no` ÊòæÁÑ∂80Á´ØÂè£Ê≤°ÊúâÂºÄÂêØ ‰∏ãÈù¢Êàë‰ª¨ÂºÄÂêØ80Á´ØÂè£Ôºö 1`[root@joe-pc ~]``# firewall-cmd --add-port=80/tcp``success` Â∞èËÆ∞ ÈÄöËøásystemctl status firewalldÊü•ÁúãfirewalldÁä∂ÊÄÅÔºåÂèëÁé∞ÂΩìÂâçÊòØdeadÁä∂ÊÄÅÔºåÂç≥Èò≤ÁÅ´Â¢ôÊú™ÂºÄÂêØ„ÄÇ ÈÄöËøásystemctl start firewalldÂºÄÂêØÈò≤ÁÅ´Â¢ôÔºåÊ≤°Êúâ‰ªª‰ΩïÊèêÁ§∫Âç≥ÂºÄÂêØÊàêÂäü„ÄÇ ÂÜçÊ¨°ÊâßË°åÊâßË°åfirewall-cmd ‚Äìpermanent ‚Äìzone=public ‚Äìadd-port=3306/tcpÔºåÊèêÁ§∫successÔºåË°®Á§∫ËÆæÁΩÆÊàêÂäüÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÁªßÁª≠ÂêéÈù¢ÁöÑËÆæÁΩÆ‰∫Ü NginxlinuxÂ¶Ç‰ΩïÊü•ÁúãnginxÊòØÂê¶ÂêØÂä® ps -ef | grep nginx Â∞±ÂèØ‰ª•ÁúãÂà∞NginxËøõÁ®ãÊòØÂê¶Â≠òÂú®‰∫Ü ps -C nginx -o pid netstat -anp | grep :80ÂëΩ‰ª§Êù•Âà§Êñ≠NginxÊòØÂê¶ÂêØÂä® lsof -i:80 ‰πüÂèØ‰ª•Êü•Âà∞80Á´ØÂè£ËøõÁ®ãÊòØÂê¶ÊúâËøõÁ®ãÂú®ËøêË°å„ÄÇ 1234Ôºà1ÔºâÊü•ÁúãÂØπÂ§ñÂºÄÊîæÁöÑÁ´ØÂè£Áä∂ÊÄÅÊü•ËØ¢Â∑≤ÂºÄÊîæÁöÑÁ´ØÂè£ netstat -anpÊü•ËØ¢ÊåáÂÆöÁ´ØÂè£ÊòØÂê¶Â∑≤ÂºÄ firewall-cmd --query-port=666/tcpÊèêÁ§∫ yesÔºåË°®Á§∫ÂºÄÂêØÔºõnoË°®Á§∫Êú™ÂºÄÂêØ„ÄÇ 123Ôºà3ÔºâÂØπÂ§ñÂºÄÂèëÁ´ØÂè£Êü•ÁúãÊÉ≥ÂºÄÁöÑÁ´ØÂè£ÊòØÂê¶Â∑≤ÂºÄÔºöfirewall-cmd --query-port=6379/tcp 123456Ê∑ªÂä†ÊåáÂÆöÈúÄË¶ÅÂºÄÊîæÁöÑÁ´ØÂè£Ôºöfirewall-cmd --add-port=123/tcp --permanentÈáçËΩΩÂÖ•Ê∑ªÂä†ÁöÑÁ´ØÂè£Ôºöfirewall-cmd --reloadÊü•ËØ¢ÊåáÂÆöÁ´ØÂè£ÊòØÂê¶ÂºÄÂêØÊàêÂäüÔºöfirewall-cmd --query-port=123/tcp 12ÁßªÈô§ÊåáÂÆöÁ´ØÂè£Ôºöfirewall-cmd --permanent --remove-port=123/tcp Linux ifconfig 1Á¨¨‰∏ÄÊ≠•ÔºöËøõÂÖ•Âà∞/etc/sysconfig/network-scripts/ÁõÆÂΩï‰∏ãÔºå 123Áî®lsÂëΩ‰ª§Êü•ÁúãÁΩëÂç°ÈÖçÁΩÆÊñá‰ª∂ÂêçÔºàÂú®CENTOS7‰∏≠ÁΩëÂç°ÂêçË≤å‰ººÂèòÊàê‰∫ÜÈöèÊú∫Êï∞Â≠óÔºåÊâÄ‰ª•ÊØèÂè∞Êú∫Âô®ÁöÑÁΩëÂç°ÂêçÂπ∂‰∏çÁõ∏ÂêåÔºâifcfg-eno6777736 12345Áî®viÂëΩ‰ª§ÁºñËæëÊñá‰ª∂ Â∞ÜÊúÄÂêé‰∏ÄË°åÁöÑONBOOT=NO‰øÆÊîπ‰∏∫yesÔºåÊúÄÂêéËæìÂÖ•Ôºöwq ‰øùÂ≠òÂπ∂ÈÄÄÂá∫„ÄÇÂ∞ÜÊúÄÂêé‰∏ÄË°åÁöÑONBOOT=NO‰øÆÊîπ‰∏∫yesÔºåÊúÄÂêéËæìÂÖ•Ôºöwq ‰øùÂ≠òÂπ∂ÈÄÄÂá∫„ÄÇping www.baidu.comÂá∫Áé∞‰∏ãÂõæËØ¥ÊòéÁΩëÁªúÈÄö‰∫Ü Linux Êñá‰ª∂ÊùÉÈôêÁ≥ªÁªü ÊÖïËØæÁΩë]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2018%2F11%2F30%2FLinux%2FLinux%E5%AE%89%E8%A3%85Tomcat%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[linuxÂÆâË£ÖJDK1.7 cento7]]></title>
    <url>%2F2018%2F11%2F30%2FLinux%2FLinux%E5%AE%89%E8%A3%85JDK%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux]]></title>
    <url>%2F2018%2F11%2F30%2FLinux%2FLinux%2F</url>
    <content type="text"><![CDATA[Linux SSH Mac1.‰∏ãËΩΩ Ê∑òÂÆù Áî®Êà∑Âêçdongguakeji ÂØÜÁ†Ådongguakeji2.macËøúÁ®ãËÆøÈóÆSSH ‰∏çÂÜçsudoersÊñá‰ª∂‰∏≠Ê≠§‰∫ãÂ∞ÜË¢´Êä•Âëä ÔºàdongguakejiÂØÜÁ†Å‰∏çËÉΩ‰ΩøÁî®Ôºâ‚ÄìËß£ÂÜ≥ ‰ΩøÁî®rootÁôªÈôÜÂàÜÈÖçÊùÉÈôê 3.‰ΩøÁî®rootÁôªÈôÜ ËøúÁ®ãSSHËøûÊé•Linux centos7 ‰ΩøÁî®rootËÆøÈóÆ ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ô 11.‰Ω†Ë¶ÅÊîπÁî®iptablesÁöÑËØùÔºåÈúÄË¶ÅÂÆâË£ÖiptablesÊúçÂä° sudo yum install iptables-services CentOS 7.0ÈªòËÆ§‰ΩøÁî®ÁöÑÊòØfirewall‰Ωú‰∏∫Èò≤ÁÅ´Â¢ôÔºåËøôÈáåÊîπ‰∏∫ iptablesÈò≤ÁÅ´Â¢ôÊ≠•È™§„ÄÇ firewall-cmd ‚Äìstate. #Êü•ÁúãÈªòËÆ§Èò≤ÁÅ´Â¢ôÁä∂ÊÄÅ ÔºàÂÖ≥Èó≠ÂêéÊòæÁ§∫notrunningÔºåÂºÄÂêØÂêéÊòæÁ§∫runningÔºâ [root@localhost ~]#firewall-cmd ‚Äìstate not running ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôÔºö systemctl stop firewalld.service #ÂÅúÊ≠¢firewall systemctl disable firewalld.service #Á¶ÅÊ≠¢firewallÂºÄÊú∫ÂêØÂä® 4.Linux‰∏ãipËÆæÁΩÆ https://blog.csdn.net/qq_34924407/article/details/79967650. Centos7‰∏≠Êü•ÁúãIPÂëΩ‰ª§ÔºöIP add https://blog.csdn.net/tuntun1120/article/details/65443757 ËôöÊãüÊú∫‰∏ãCentOS7ÂºÄÂêØSSHËøûÊé• 4.ÂàáÊç¢ÁΩëÁªúÊ®°ÂºèÈÄâÊã© ÁÑ∂ÂêéÈáçÊñ∞ÁºñËæë‚≠êÔ∏è ËôöÊãü‰∏ªÊú∫‚Äì&gt;ÁΩëÁªúÈÄÇÈÖçÂô®‚Äî‚Äî&gt;‰æ®ÁïåÊ®°Âºè‚Äî&gt;Â§çÂà∂Áâ©ÁêÜÁΩëÁªúËøûÊé•ËΩ¨Âè∞ÁÑ∂ÂêéÈáçÊñ∞ÁºñËæëIP ÂèòÊàê‰∏ãÈù¢ËøôÊ†∑Linux ‚Äì ifconfigÂëΩ‰ª§Êâæ‰∏çÂà∞ÂØπÂ∫îÁöÑipÂú∞ÂùÄÁöÑËß£ÂÜ≥Âäû ÂΩìÂèëÁé∞linux ifconfigÂëΩ‰ª§Êâæ‰∏çÂà∞ÂØπÂ∫îÁöÑipÂú∞ÂùÄÁöÑÊó∂Ëß£ÂÜ≥ÂäûÊ≥ï ÁΩëÂç°ÈÖçÁΩÆÊñá‰ª∂‰øùÂ≠òÂú®Ôºö/etc/sysconfig/network-scripts/ÁõÆÂΩï‰∏ãÔºå Â∞Üonboot‰øÆÊîπ‰∏∫yesÔºåÁÑ∂ÂêéÈáçÂêØÁΩëÂç°ÔºåÊâçËÉΩÂêØÂä®ÔºåÈáçÂêØÁΩëÂç°ÂëΩ‰ª§Ôºöservice network restart ÊâæÂà∞ÂØπÂ∫îÁöÑÁΩëÂç°ÈÖçÁΩÆÊñá‰ª∂ ËÆæÁΩÆ‰∏∫ÂêØÂä®Êó∂ÊøÄÊ¥ªËÆæÂ§á ÈáçÂêØÁΩëÂç°image-20181130154418731](http://ipic-freemana-1257703707.cos.ap-shanghai.myqcloud.com/2019-04-29-023623.jpg) ÊÄªÁªìÔºö1.ÂÖàÊ£ÄÊü•SSH ÊúçÂä°ÂºÄÊ≤°ÂºÄ 2.Ê£ÄÊü•22 Á´ØÂè£ÁöÑÁä∂ÊÄÅ 3.ÁúãÁΩëÁªú‰∫íÁõ∏ÈÄöËøápingÁúãÁúãÊòØ‰∏çÊòØÊúâ64typeÁöÑÂõûÂ∫î 4„ÄÇËµÑÊñôÂú®Êî∂ËóèÂ§πÈáåÈù¢ ËøòÊúâÊÖïËØæÁöÑËßÜÈ¢ëLinux]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker‰∏ä‰º†Âà∞ËÖæËÆØ‰∫ëÊúçÂä°Âô®‰∏ä]]></title>
    <url>%2F2018%2F11%2F11%2FDocker%2FDocker%E4%B8%8A%E4%BC%A0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[https://cloud.tencent.com/document/product/457/9117 ËÖæËÆØ‰∫ë https://study.163.com/course/courseLearn.htm?courseId=1006018194#/learn/video?lessonId=1053398787&amp;courseId=1006018194 Â∞èDËØæÂ†Ç ÂÖàÈÄâÊã©ÂÆπÂô®ÊúçÂä° 123sudo docker login --username=[username] ccr.ccs.tencentyun.com sudo docker login --username=100007660104 ccr.ccs.tencentyun.com 100007660104sad username:ËÖæËÆØ‰∫ëË¥¶Âè∑ÔºåÂºÄÈÄöÊó∂Â∑≤Ê≥®ÂÜå„ÄÇËæìÂÖ•ÂØÜÁ†ÅÂêéÂç≥ÁôªÂΩïÂÆåÊàê„ÄÇ ##Ê≥®ÊÑè Áî®Êà∑Âêç ‰∏çÊòØQQÂè∑ÁôªÈôÜÁöÑÂØÜÁ†ÅËÄåÊòØ‰ªìÂ∫ìÁöÑÁî®Êà∑Âêç Á¨¨‰∏ÄÊ¨°Ëá™Âä®ÁîüÊàê ####ÂØÜÁ†ÅËæìÂÖ•ÁöÑÊó∂ÂÄôÂÖàËæìÂÖ•ÁîµËÑërootÂØÜÁ†Å z ###ÂÜçËæìÂÖ•ÂØÜÁ†Åyhp836143 12$ sudo docker tag [ImageId] ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[ÈïúÂÉèÁâàÊú¨Âè∑]$ sudo docker push ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[ÈïúÂÉèÁâàÊú¨Âè∑] 12$ sudo docker tag 5fc4ede68fcd ccr.ccs.tencentyun.com/freemana2017/atcrod:latest$ sudo docker push ccr.ccs.tencentyun.com/freemana2017/atcrod:latest ÂØÜÁ†ÅËæìÂÖ• z Âõ†‰∏∫ÊòØsudo ‰ΩøÁî®ÈïúÂÉè‚Äî-‰∏ãËΩΩÈïúÂÉè Â∞èDËØæÂ†Ç Á¨¨62ËÆ≤ macËøúÁ®ãÁôªÈôÜËÖæËÆØ‰∫ëÊúçÂä°Âô® ÁÑ∂ÂêéÂú®ËÖæËÆØ‰∫ëÊúçÂä°Âô®‰∏ä‰ΩøÁî®pushÂëΩ‰ª§ÊãâÂéªÈïúÂÉè ÁÑ∂Âêé‰ΩøÁî®runÂëΩ‰ª§ËøêË°åÈïúÂÉè ÊúÄÂêéÊîπÊàêÂÖ¨ÁΩëËÆøÈóÆÈïúÂÉè ÁôªÈôÜÂà∞ËÖæËÆØ‰∫ëÁöÑÂÆûÈ™åÂÆ§ ÂÆâË£ÖDockerÁéØÂ¢É Âú®Êú¨Êú∫‰∏äÁôªÈôÜSSH ÁÑ∂ÂêéÊê≠Âª∫DockerÁéØÂ¢É ### https://cloud.tencent.com/developer/labs/lab/10054/console Âú®Êú¨Êú∫‰∏äËøúÁ®ãËÖæËÆØ‰∫ë Êê≠Âª∫DockerÁéØÂ¢É ÁôªÂΩïÂà∞ÈïúÂÉè‰ªìÂ∫ìÔºåÈúÄËæìÂÖ•ÂØÜÁ†Å„ÄÇ 1$ sudo docker login --username=[username] ccr.ccs.tencentyun.com ‰∏ãËΩΩÈïúÂÉè„ÄÇ sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest 1$ sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest ‚≠êÔ∏èDockerÔºöCannot connect to the Docker daemon. Is the docker daemon running on this host? https://www.w3cschool.cn/kxqhmy/suzagdn1.html Êü•ÁúãÊòØÂê¶Â≠òÂú®ËøõÁ®ãÔºö 1$ ps aux |grep docker1 ÂÅúÊ≠¢ËøõÁ®ã 1$sudo service docker stop1 ÈáçÂêØdockerÔºö 1$dockerd DockerÂú®‰∫ëÊúçÂä°Âô®‰∏äÁöÑÂÆâË£Ö https://www.jianshu.com/p/ea3078dae4fb ÁÆÄ‰π¶ 1.ÁôªÈôÜÂà∞ÊúçÂä°Âô®‰∏äÈù¢ ÈÄöËøáÁªàÁ´Ø ÊàñËÄÖ‰∫ë‰∏ªÊú∫ÁôªÈôÜ 2.ÂºÄÂßãÊìç‰Ωú 3.https://docs.docker.com/install/linux/docker-ce/centos/#uninstall-old-versions ÂÆòÁΩë DockerÁöÑÂÆâË£ÖÊñπÂºè‚ÄîËÖæËÆØ‰∫ëÊúçÂä°Âô®‰∏äÈù¢ Â•ΩÂÉè‰π∞ÁöÑÁ≥ªÁªüÊòØCentsÁöÑ ÂÆâË£Ö CentOS ÁöÑÂÆâË£Ö DockerÔºöCannot connect to the Docker daemon. Is the docker daemon running on this host? 1DockerÔºöCannot connect to the Docker daemon. Is the docker daemon running on this host? docker -d -p 8888Ôºö8080 ÂÖàÂàÜÈÖçËßíËâ≤„ÄÇÂú®ÂêØÂä®Docker Â¶ÇÊûúÁ´ØÂè£Êí≠Ë¢´Âç†Áî®‰∫Ü ÂÖàÂÖ≥Èó≠Docker sudo service docker stop 1sudo service docker stop Âú®ÂêØÂä®Doccur service docker start 1service docker start Â§ß‰Ω¨ÊåáÊïô„ÄÇ‰∏çÊòØlocaohostg 192.168.2.123 ÊòØÂÖ¨ÁΩëipËÖæËÆØÂÖ¨ÁΩëÁöÑip‚Äì118.89.28.213 Âä†ÈïúÂÉèÂêçÂïä ÂÖÑdie]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>ËÖæËÆØ‰∫ë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DockerÈïúÂÉèÂä†ÈÄü]]></title>
    <url>%2F2018%2F11%2F11%2FDocker%2FDocker%E5%8A%A0%E9%80%9F%2F</url>
    <content type="text"><![CDATA[emmm„ÄÇ„ÄÇ„ÄÇ‰∏∫‰ªÄ‰πàÂõæÁâáÂèØ‰ª•‰ΩøÁî® ÁΩë‰∏äÁöÑÂú∞ÂùÄÔºü https://www.jianshu.com/p/94c6e44ebd3c ‰∏çË¶Å‰ΩøÁî®httpsÂâçÁºÄÔºå Ë¥üË¥£‰ºöÊèêÁ§∫ËØÅ‰π¶ÈîôËØØÔºå Version requires:- Docker for MAC version: docker version STEPS:- Open docker -&gt;preference -&gt;Daemon-&gt;basic-&gt;Registry mirrors Ê∑ªÂä†Ôºö http://registry.docker-cn.com NoteÔºö‰∏çË¶Å‰ΩøÁî®httpsÂâçÁºÄÔºå Ë¥üË¥£‰ºöÊèêÁ§∫ËØÅ‰π¶ÈîôËØØÔºå ‚Äúregistry-mirrors‚Äù : No certs for egitstry.docker.com ÂØºËá¥dockerrestart failed„ÄÇ]]></content>
  </entry>
  <entry>
    <title><![CDATA[SpringBootÂ∞öÁ°ÖË∞∑ Èõ∑‰∏∞Èò≥]]></title>
    <url>%2F2018%2F11%2F11%2FSpring%20Boot%2FSpring%20Boot%E5%B0%9A%E7%A1%85%E8%B0%B7%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅ**Spring Boot ÂÖ•Èó® 1„ÄÅSpring Boot ÁÆÄ‰ªã ÁÆÄÂåñSpringÂ∫îÁî®ÂºÄÂèëÁöÑ‰∏Ä‰∏™Ê°ÜÊû∂Ôºõ Êï¥‰∏™SpringÊäÄÊúØÊ†àÁöÑ‰∏Ä‰∏™Â§ßÊï¥ÂêàÔºõ J2EEÂºÄÂèëÁöÑ‰∏ÄÁ´ôÂºèËß£ÂÜ≥ÊñπÊ°àÔºõ 2„ÄÅÂæÆÊúçÂä°2014Ôºåmartin fowler ÂæÆÊúçÂä°ÔºöÊû∂ÊûÑÈ£éÊ†ºÔºàÊúçÂä°ÂæÆÂåñÔºâ ‰∏Ä‰∏™Â∫îÁî®Â∫îËØ•ÊòØ‰∏ÄÁªÑÂ∞èÂûãÊúçÂä°ÔºõÂèØ‰ª•ÈÄöËøáHTTPÁöÑÊñπÂºèËøõË°å‰∫íÈÄöÔºõ Âçï‰ΩìÂ∫îÁî®ÔºöALL IN ONE ÂæÆÊúçÂä°ÔºöÊØè‰∏Ä‰∏™ÂäüËÉΩÂÖÉÁ¥†ÊúÄÁªàÈÉΩÊòØ‰∏Ä‰∏™ÂèØÁã¨Á´ãÊõøÊç¢ÂíåÁã¨Á´ãÂçáÁ∫ßÁöÑËΩØ‰ª∂ÂçïÂÖÉÔºõ ËØ¶ÁªÜÂèÇÁÖßÂæÆÊúçÂä°ÊñáÊ°£ 3„ÄÅÁéØÂ¢ÉÂáÜÂ§áhttp://www.gulixueyuan.com/ Ë∞∑Á≤íÂ≠¶Èô¢ ÁéØÂ¢ÉÁ∫¶Êùü ‚Äìjdk1.8ÔºöSpring Boot Êé®Ëçêjdk1.7Âèä‰ª•‰∏äÔºõjava version ‚Äú1.8.0_112‚Äù ‚Äìmaven3.xÔºömaven 3.3‰ª•‰∏äÁâàÊú¨ÔºõApache Maven 3.3.9 ‚ÄìIntelliJIDEA2017ÔºöIntelliJ IDEA 2017.2.2 x64„ÄÅSTS ‚ÄìSpringBoot 1.5.9.RELEASEÔºö1.5.9Ôºõ Áªü‰∏ÄÁéØÂ¢ÉÔºõ 1„ÄÅMAVENËÆæÁΩÆÔºõÁªômaven ÁöÑsettings.xmlÈÖçÁΩÆÊñá‰ª∂ÁöÑprofilesÊ†áÁ≠æÊ∑ªÂä† 123456789101112&lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt;&lt;/profile&gt; 2„ÄÅIDEAËÆæÁΩÆÊï¥ÂêàmavenËøõÊù•Ôºõ ccc 4„ÄÅSpring Boot HelloWorld‰∏Ä‰∏™ÂäüËÉΩÔºö ÊµèËßàÂô®ÂèëÈÄÅhelloËØ∑Ê±ÇÔºåÊúçÂä°Âô®Êé•ÂèóËØ∑Ê±ÇÂπ∂Â§ÑÁêÜÔºåÂìçÂ∫îHello WorldÂ≠óÁ¨¶‰∏≤Ôºõ 1„ÄÅÂàõÂª∫‰∏Ä‰∏™mavenÂ∑•Á®ãÔºõÔºàjarÔºâ2„ÄÅÂØºÂÖ•spring bootÁõ∏ÂÖ≥ÁöÑ‰æùËµñ1234567891011&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3„ÄÅÁºñÂÜô‰∏Ä‰∏™‰∏ªÁ®ãÂ∫èÔºõÂêØÂä®Spring BootÂ∫îÁî®12345678910111213/** * @SpringBootApplication Êù•Ê†áÊ≥®‰∏Ä‰∏™‰∏ªÁ®ãÂ∫èÁ±ªÔºåËØ¥ÊòéËøôÊòØ‰∏Ä‰∏™Spring BootÂ∫îÁî® */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // SpringÂ∫îÁî®ÂêØÂä®Ëµ∑Êù• SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; 4„ÄÅÁºñÂÜôÁõ∏ÂÖ≥ÁöÑController„ÄÅService123456789@Controllerpublic class HelloController &#123; @ResponseBody @RequestMapping("/hello") public String hello()&#123; return "Hello World!"; &#125;&#125; 5„ÄÅËøêË°å‰∏ªÁ®ãÂ∫èÊµãËØï6„ÄÅÁÆÄÂåñÈÉ®ÁΩ≤123456789&lt;!-- Ëøô‰∏™Êèí‰ª∂ÔºåÂèØ‰ª•Â∞ÜÂ∫îÁî®ÊâìÂåÖÊàê‰∏Ä‰∏™ÂèØÊâßË°åÁöÑjarÂåÖÔºõ--&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; Â∞ÜËøô‰∏™Â∫îÁî®ÊâìÊàêjarÂåÖÔºåÁõ¥Êé•‰ΩøÁî®java -jarÁöÑÂëΩ‰ª§ËøõË°åÊâßË°åÔºõ 5„ÄÅHello WorldÊé¢Á©∂1„ÄÅPOMÊñá‰ª∂1„ÄÅÁà∂È°πÁõÆ1234567891011121314&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;‰ªñÁöÑÁà∂È°πÁõÆÊòØ&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt;&lt;/parent&gt;‰ªñÊù•ÁúüÊ≠£ÁÆ°ÁêÜSpring BootÂ∫îÁî®ÈáåÈù¢ÁöÑÊâÄÊúâ‰æùËµñÁâàÊú¨Ôºõ Spring BootÁöÑÁâàÊú¨‰ª≤Ë£Å‰∏≠ÂøÉÔºõ ‰ª•ÂêéÊàë‰ª¨ÂØºÂÖ•‰æùËµñÈªòËÆ§ÊòØ‰∏çÈúÄË¶ÅÂÜôÁâàÊú¨ÔºõÔºàÊ≤°ÊúâÂú®dependenciesÈáåÈù¢ÁÆ°ÁêÜÁöÑ‰æùËµñËá™ÁÑ∂ÈúÄË¶ÅÂ£∞ÊòéÁâàÊú¨Âè∑Ôºâ 2„ÄÅÂêØÂä®Âô®1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt; spring-boot-starter-==web==Ôºö ‚Äã spring-boot-starterÔºöspring-bootÂú∫ÊôØÂêØÂä®Âô®ÔºõÂ∏ÆÊàë‰ª¨ÂØºÂÖ•‰∫ÜwebÊ®°ÂùóÊ≠£Â∏∏ËøêË°åÊâÄ‰æùËµñÁöÑÁªÑ‰ª∂Ôºõ Spring BootÂ∞ÜÊâÄÊúâÁöÑÂäüËÉΩÂú∫ÊôØÈÉΩÊäΩÂèñÂá∫Êù•ÔºåÂÅöÊàê‰∏Ä‰∏™‰∏™ÁöÑstartersÔºàÂêØÂä®Âô®ÔºâÔºåÂè™ÈúÄË¶ÅÂú®È°πÁõÆÈáåÈù¢ÂºïÂÖ•Ëøô‰∫õstarterÁõ∏ÂÖ≥Âú∫ÊôØÁöÑÊâÄÊúâ‰æùËµñÈÉΩ‰ºöÂØºÂÖ•ËøõÊù•„ÄÇË¶ÅÁî®‰ªÄ‰πàÂäüËÉΩÂ∞±ÂØºÂÖ•‰ªÄ‰πàÂú∫ÊôØÁöÑÂêØÂä®Âô® 2„ÄÅ‰∏ªÁ®ãÂ∫èÁ±ªÔºå‰∏ªÂÖ•Âè£Á±ª123456789101112/** * @SpringBootApplication Êù•Ê†áÊ≥®‰∏Ä‰∏™‰∏ªÁ®ãÂ∫èÁ±ªÔºåËØ¥ÊòéËøôÊòØ‰∏Ä‰∏™Spring BootÂ∫îÁî® */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // SpringÂ∫îÁî®ÂêØÂä®Ëµ∑Êù• SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; @SpringBootApplication: Spring BootÂ∫îÁî®Ê†áÊ≥®Âú®Êüê‰∏™Á±ª‰∏äËØ¥ÊòéËøô‰∏™Á±ªÊòØSpringBootÁöÑ‰∏ªÈÖçÁΩÆÁ±ªÔºåSpringBootÂ∞±Â∫îËØ•ËøêË°åËøô‰∏™Á±ªÁöÑmainÊñπÊ≥ïÊù•ÂêØÂä®SpringBootÂ∫îÁî®Ôºõ 12345678910@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)public @interface SpringBootApplication &#123; @SpringBootConfiguration:Spring BootÁöÑÈÖçÁΩÆÁ±ªÔºõ ‚Äã Ê†áÊ≥®Âú®Êüê‰∏™Á±ª‰∏äÔºåË°®Á§∫ËøôÊòØ‰∏Ä‰∏™Spring BootÁöÑÈÖçÁΩÆÁ±ªÔºõ ‚Äã @Configuration:ÈÖçÁΩÆÁ±ª‰∏äÊù•Ê†áÊ≥®Ëøô‰∏™Ê≥®Ëß£Ôºõ ‚Äã ÈÖçÁΩÆÁ±ª ‚Äî‚Äì ÈÖçÁΩÆÊñá‰ª∂ÔºõÈÖçÁΩÆÁ±ª‰πüÊòØÂÆπÂô®‰∏≠ÁöÑ‰∏Ä‰∏™ÁªÑ‰ª∂Ôºõ@Component @EnableAutoConfigurationÔºöÂºÄÂêØËá™Âä®ÈÖçÁΩÆÂäüËÉΩÔºõ ‚Äã ‰ª•ÂâçÊàë‰ª¨ÈúÄË¶ÅÈÖçÁΩÆÁöÑ‰∏úË•øÔºåSpring BootÂ∏ÆÊàë‰ª¨Ëá™Âä®ÈÖçÁΩÆÔºõ@EnableAutoConfigurationÂëäËØâSpringBootÂºÄÂêØËá™Âä®ÈÖçÁΩÆÂäüËÉΩÔºõËøôÊ†∑Ëá™Âä®ÈÖçÁΩÆÊâçËÉΩÁîüÊïàÔºõ 123@AutoConfigurationPackage@Import(EnableAutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123; ‚Äã @AutoConfigurationPackageÔºöËá™Âä®ÈÖçÁΩÆÂåÖ ‚Äã @Import(AutoConfigurationPackages.Registrar.class)Ôºö ‚Äã SpringÁöÑÂ∫ïÂ±ÇÊ≥®Ëß£@ImportÔºåÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•‰∏Ä‰∏™ÁªÑ‰ª∂ÔºõÂØºÂÖ•ÁöÑÁªÑ‰ª∂Áî±AutoConfigurationPackages.Registrar.classÔºõ ==Â∞Ü‰∏ªÈÖçÁΩÆÁ±ªÔºà@SpringBootApplicationÊ†áÊ≥®ÁöÑÁ±ªÔºâÁöÑÊâÄÂú®ÂåÖÂèä‰∏ãÈù¢ÊâÄÊúâÂ≠êÂåÖÈáåÈù¢ÁöÑÊâÄÊúâÁªÑ‰ª∂Êâ´ÊèèÂà∞SpringÂÆπÂô®Ôºõ== ‚Äã @Import(EnableAutoConfigurationImportSelector.class)Ôºõ ‚Äã ÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•ÁªÑ‰ª∂Ôºü ‚Äã EnableAutoConfigurationImportSelectorÔºöÂØºÂÖ•Âì™‰∫õÁªÑ‰ª∂ÁöÑÈÄâÊã©Âô®Ôºõ ‚Äã Â∞ÜÊâÄÊúâÈúÄË¶ÅÂØºÂÖ•ÁöÑÁªÑ‰ª∂‰ª•ÂÖ®Á±ªÂêçÁöÑÊñπÂºèËøîÂõûÔºõËøô‰∫õÁªÑ‰ª∂Â∞±‰ºöË¢´Ê∑ªÂä†Âà∞ÂÆπÂô®‰∏≠Ôºõ ‚Äã ‰ºöÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•ÈùûÂ∏∏Â§öÁöÑËá™Âä®ÈÖçÁΩÆÁ±ªÔºàxxxAutoConfigurationÔºâÔºõÂ∞±ÊòØÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•Ëøô‰∏™Âú∫ÊôØÈúÄË¶ÅÁöÑÊâÄÊúâÁªÑ‰ª∂ÔºåÂπ∂ÈÖçÁΩÆÂ•ΩËøô‰∫õÁªÑ‰ª∂Ôºõ Êúâ‰∫ÜËá™Âä®ÈÖçÁΩÆÁ±ªÔºåÂÖçÂéª‰∫ÜÊàë‰ª¨ÊâãÂä®ÁºñÂÜôÈÖçÁΩÆÊ≥®ÂÖ•ÂäüËÉΩÁªÑ‰ª∂Á≠âÁöÑÂ∑•‰ΩúÔºõ ‚Äã SpringFactoriesLoader.loadFactoryNames(EnableAutoConfiguration.class,classLoader)Ôºõ ==Spring BootÂú®ÂêØÂä®ÁöÑÊó∂ÂÄô‰ªéÁ±ªË∑ØÂæÑ‰∏ãÁöÑMETA-INF/spring.factories‰∏≠Ëé∑ÂèñEnableAutoConfigurationÊåáÂÆöÁöÑÂÄºÔºåÂ∞ÜËøô‰∫õÂÄº‰Ωú‰∏∫Ëá™Âä®ÈÖçÁΩÆÁ±ªÂØºÂÖ•Âà∞ÂÆπÂô®‰∏≠ÔºåËá™Âä®ÈÖçÁΩÆÁ±ªÂ∞±ÁîüÊïàÔºåÂ∏ÆÊàë‰ª¨ËøõË°åËá™Âä®ÈÖçÁΩÆÂ∑•‰ΩúÔºõ==‰ª•ÂâçÊàë‰ª¨ÈúÄË¶ÅËá™Â∑±ÈÖçÁΩÆÁöÑ‰∏úË•øÔºåËá™Âä®ÈÖçÁΩÆÁ±ªÈÉΩÂ∏ÆÊàë‰ª¨Ôºõ J2EEÁöÑÊï¥‰ΩìÊï¥ÂêàËß£ÂÜ≥ÊñπÊ°àÂíåËá™Âä®ÈÖçÁΩÆÈÉΩÂú®spring-boot-autoconfigure-1.5.9.RELEASE.jarÔºõ ‚Äã ==SpringÊ≥®Ëß£ÁâàÔºàË∞∑Á≤íÂ≠¶Èô¢Ôºâ== 6„ÄÅ‰ΩøÁî®Spring InitializerÂø´ÈÄüÂàõÂª∫Spring BootÈ°πÁõÆ1„ÄÅIDEAÔºö‰ΩøÁî® Spring InitializerÂø´ÈÄüÂàõÂª∫È°πÁõÆIDEÈÉΩÊîØÊåÅ‰ΩøÁî®SpringÁöÑÈ°πÁõÆÂàõÂª∫ÂêëÂØºÂø´ÈÄüÂàõÂª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºõ ÈÄâÊã©Êàë‰ª¨ÈúÄË¶ÅÁöÑÊ®°ÂùóÔºõÂêëÂØº‰ºöËÅîÁΩëÂàõÂª∫Spring BootÈ°πÁõÆÔºõ ÈªòËÆ§ÁîüÊàêÁöÑSpring BootÈ°πÁõÆÔºõ ‰∏ªÁ®ãÂ∫èÂ∑≤ÁªèÁîüÊàêÂ•Ω‰∫ÜÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±ÁöÑÈÄªËæë resourcesÊñá‰ª∂Â§π‰∏≠ÁõÆÂΩïÁªìÊûÑ staticÔºö‰øùÂ≠òÊâÄÊúâÁöÑÈùôÊÄÅËµÑÊ∫êÔºõ js css imagesÔºõ templatesÔºö‰øùÂ≠òÊâÄÊúâÁöÑÊ®°ÊùøÈ°µÈù¢ÔºõÔºàSpring BootÈªòËÆ§jarÂåÖ‰ΩøÁî®ÂµåÂÖ•ÂºèÁöÑTomcatÔºåÈªòËÆ§‰∏çÊîØÊåÅJSPÈ°µÈù¢ÔºâÔºõÂèØ‰ª•‰ΩøÁî®Ê®°ÊùøÂºïÊìéÔºàfreemarker„ÄÅthymeleafÔºâÔºõ application.propertiesÔºöSpring BootÂ∫îÁî®ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºõÂèØ‰ª•‰øÆÊîπ‰∏Ä‰∫õÈªòËÆ§ËÆæÁΩÆÔºõ 2„ÄÅSTS‰ΩøÁî® Spring Starter ProjectÂø´ÈÄüÂàõÂª∫È°πÁõÆ ‰∫å„ÄÅÈÖçÁΩÆÊñá‰ª∂1„ÄÅÈÖçÁΩÆÊñá‰ª∂SpringBoot‰ΩøÁî®‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÈÖçÁΩÆÊñá‰ª∂ÂêçÊòØÂõ∫ÂÆöÁöÑÔºõ ‚Ä¢application.properties ‚Ä¢application.yml ÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩúÁî®Ôºö‰øÆÊîπSpringBootËá™Âä®ÈÖçÁΩÆÁöÑÈªòËÆ§ÂÄºÔºõSpringBootÂú®Â∫ïÂ±ÇÈÉΩÁªôÊàë‰ª¨Ëá™Âä®ÈÖçÁΩÆÂ•ΩÔºõ YAMLÔºàYAML Ain‚Äôt Markup LanguageÔºâ ‚Äã YAML A Markup LanguageÔºöÊòØ‰∏Ä‰∏™Ê†áËÆ∞ËØ≠Ë®Ä ‚Äã YAML isn‚Äôt Markup LanguageÔºö‰∏çÊòØ‰∏Ä‰∏™Ê†áËÆ∞ËØ≠Ë®ÄÔºõ Ê†áËÆ∞ËØ≠Ë®ÄÔºö ‚Äã ‰ª•ÂâçÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºõÂ§ßÂ§öÈÉΩ‰ΩøÁî®ÁöÑÊòØ xxxx.xmlÊñá‰ª∂Ôºõ ‚Äã YAMLÔºö‰ª•Êï∞ÊçÆ‰∏∫‰∏≠ÂøÉÔºåÊØîjson„ÄÅxmlÁ≠âÊõ¥ÈÄÇÂêàÂÅöÈÖçÁΩÆÊñá‰ª∂Ôºõ ‚Äã YAMLÔºöÈÖçÁΩÆ‰æãÂ≠ê 12server: port: 8081 ‚Äã XMLÔºö 123&lt;server&gt; &lt;port&gt;8081&lt;/port&gt;&lt;/server&gt; 2„ÄÅYAMLËØ≠Ê≥ïÔºö1„ÄÅÂü∫Êú¨ËØ≠Ê≥ïk:(Á©∫Ê†º)vÔºöË°®Á§∫‰∏ÄÂØπÈîÆÂÄºÂØπÔºàÁ©∫Ê†ºÂøÖÈ°ªÊúâÔºâÔºõ ‰ª•Á©∫Ê†ºÁöÑÁº©ËøõÊù•ÊéßÂà∂Â±ÇÁ∫ßÂÖ≥Á≥ªÔºõÂè™Ë¶ÅÊòØÂ∑¶ÂØπÈΩêÁöÑ‰∏ÄÂàóÊï∞ÊçÆÔºåÈÉΩÊòØÂêå‰∏Ä‰∏™Â±ÇÁ∫ßÁöÑ 123server: port: 8081 path: /hello Â±ûÊÄßÂíåÂÄº‰πüÊòØÂ§ßÂ∞èÂÜôÊïèÊÑüÔºõ 2„ÄÅÂÄºÁöÑÂÜôÊ≥ïÂ≠óÈù¢ÈáèÔºöÊôÆÈÄöÁöÑÂÄºÔºàÊï∞Â≠óÔºåÂ≠óÁ¨¶‰∏≤ÔºåÂ∏ÉÂ∞îÔºâ‚Äã k: vÔºöÂ≠óÈù¢Áõ¥Êé•Êù•ÂÜôÔºõ ‚Äã Â≠óÁ¨¶‰∏≤ÈªòËÆ§‰∏çÁî®Âä†‰∏äÂçïÂºïÂè∑ÊàñËÄÖÂèåÂºïÂè∑Ôºõ ‚Äã ‚Äú‚ÄùÔºöÂèåÂºïÂè∑Ôºõ‰∏ç‰ºöËΩ¨‰πâÂ≠óÁ¨¶‰∏≤ÈáåÈù¢ÁöÑÁâπÊÆäÂ≠óÁ¨¶ÔºõÁâπÊÆäÂ≠óÁ¨¶‰ºö‰Ωú‰∏∫Êú¨Ë∫´ÊÉ≥Ë°®Á§∫ÁöÑÊÑèÊÄù ‚Äã name: ‚Äúzhangsan \n lisi‚ÄùÔºöËæìÂá∫Ôºõzhangsan Êç¢Ë°å lisi ‚Äã ‚Äò‚ÄôÔºöÂçïÂºïÂè∑Ôºõ‰ºöËΩ¨‰πâÁâπÊÆäÂ≠óÁ¨¶ÔºåÁâπÊÆäÂ≠óÁ¨¶ÊúÄÁªàÂè™ÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆ ‚Äã name: ‚Äòzhangsan \n lisi‚ÄôÔºöËæìÂá∫Ôºõzhangsan \n lisi ÂØπË±°„ÄÅMapÔºàÂ±ûÊÄßÂíåÂÄºÔºâÔºàÈîÆÂÄºÂØπÔºâÔºö‚Äã k: vÔºöÂú®‰∏ã‰∏ÄË°åÊù•ÂÜôÂØπË±°ÁöÑÂ±ûÊÄßÂíåÂÄºÁöÑÂÖ≥Á≥ªÔºõÊ≥®ÊÑèÁº©Ëøõ ‚Äã ÂØπË±°ËøòÊòØk: vÁöÑÊñπÂºè 123friends: lastName: zhangsan age: 20 Ë°åÂÜÖÂÜôÊ≥ïÔºö 1friends: &#123;lastName: zhangsan,age: 18&#125; Êï∞ÁªÑÔºàList„ÄÅSetÔºâÔºöÁî®- ÂÄºË°®Á§∫Êï∞ÁªÑ‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥† 1234pets: - cat - dog - pig Ë°åÂÜÖÂÜôÊ≥ï 1pets: [cat,dog,pig] 3„ÄÅÈÖçÁΩÆÊñá‰ª∂ÂÄºÊ≥®ÂÖ•ÈÖçÁΩÆÊñá‰ª∂ 123456789101112person: lastName: hello age: 18 boss: false birth: 2017/12/12 maps: &#123;k1: v1,k2: 12&#125; lists: - lisi - zhaoliu dog: name: Â∞èÁãó age: 12 javaBeanÔºö 1234567891011121314151617181920/** * Â∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÁöÑÊØè‰∏Ä‰∏™Â±ûÊÄßÁöÑÂÄºÔºåÊò†Â∞ÑÂà∞Ëøô‰∏™ÁªÑ‰ª∂‰∏≠ * @ConfigurationPropertiesÔºöÂëäËØâSpringBootÂ∞ÜÊú¨Á±ª‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßÂíåÈÖçÁΩÆÊñá‰ª∂‰∏≠Áõ∏ÂÖ≥ÁöÑÈÖçÁΩÆËøõË°åÁªëÂÆöÔºõ * prefix = "person"ÔºöÈÖçÁΩÆÊñá‰ª∂‰∏≠Âì™‰∏™‰∏ãÈù¢ÁöÑÊâÄÊúâÂ±ûÊÄßËøõË°å‰∏Ä‰∏ÄÊò†Â∞Ñ * * Âè™ÊúâËøô‰∏™ÁªÑ‰ª∂ÊòØÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂ÔºåÊâçËÉΩÂÆπÂô®Êèê‰æõÁöÑ@ConfigurationPropertiesÂäüËÉΩÔºõ * */@Component@ConfigurationProperties(prefix = "person")public class Person &#123; private String lastName; private Integer age; private Boolean boss; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; Êàë‰ª¨ÂèØ‰ª•ÂØºÂÖ•ÈÖçÁΩÆÊñá‰ª∂Â§ÑÁêÜÂô®Ôºå‰ª•ÂêéÁºñÂÜôÈÖçÁΩÆÂ∞±ÊúâÊèêÁ§∫‰∫Ü 123456&lt;!--ÂØºÂÖ•ÈÖçÁΩÆÊñá‰ª∂Â§ÑÁêÜÂô®ÔºåÈÖçÁΩÆÊñá‰ª∂ËøõË°åÁªëÂÆöÂ∞±‰ºöÊúâÊèêÁ§∫--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; 1„ÄÅpropertiesÈÖçÁΩÆÊñá‰ª∂Âú®idea‰∏≠ÈªòËÆ§utf-8ÂèØËÉΩ‰ºö‰π±Á†ÅË∞ÉÊï¥ 2„ÄÅ@ValueËé∑ÂèñÂÄºÂíå@ConfigurationPropertiesËé∑ÂèñÂÄºÊØîËæÉ @ConfigurationProperties @Value ÂäüËÉΩ ÊâπÈáèÊ≥®ÂÖ•ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂ±ûÊÄß ‰∏Ä‰∏™‰∏™ÊåáÂÆö ÊùæÊï£ÁªëÂÆöÔºàÊùæÊï£ËØ≠Ê≥ïÔºâ ÊîØÊåÅ ‰∏çÊîØÊåÅ SpEL ‰∏çÊîØÊåÅ ÊîØÊåÅ JSR303Êï∞ÊçÆÊ†°È™å ÊîØÊåÅ ‰∏çÊîØÊåÅ Â§çÊùÇÁ±ªÂûãÂ∞ÅË£Ö ÊîØÊåÅ ‰∏çÊîØÊåÅ ÈÖçÁΩÆÊñá‰ª∂ymlËøòÊòØproperties‰ªñ‰ª¨ÈÉΩËÉΩËé∑ÂèñÂà∞ÂÄºÔºõ Â¶ÇÊûúËØ¥ÔºåÊàë‰ª¨Âè™ÊòØÂú®Êüê‰∏™‰∏öÂä°ÈÄªËæë‰∏≠ÈúÄË¶ÅËé∑Âèñ‰∏Ä‰∏ãÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊüêÈ°πÂÄºÔºå‰ΩøÁî®@ValueÔºõ Â¶ÇÊûúËØ¥ÔºåÊàë‰ª¨‰∏ìÈó®ÁºñÂÜô‰∫Ü‰∏Ä‰∏™javaBeanÊù•ÂíåÈÖçÁΩÆÊñá‰ª∂ËøõË°åÊò†Â∞ÑÔºåÊàë‰ª¨Â∞±Áõ¥Êé•‰ΩøÁî®@ConfigurationPropertiesÔºõ 3„ÄÅÈÖçÁΩÆÊñá‰ª∂Ê≥®ÂÖ•ÂÄºÊï∞ÊçÆÊ†°È™å123456789101112131415161718192021222324@Component@ConfigurationProperties(prefix = "person")@Validatedpublic class Person &#123; /** * &lt;bean class="Person"&gt; * &lt;property name="lastName" value="Â≠óÈù¢Èáè/$&#123;key&#125;‰ªéÁéØÂ¢ÉÂèòÈáè„ÄÅÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÂÄº/#&#123;SpEL&#125;"&gt;&lt;/property&gt; * &lt;bean/&gt; */ //lastNameÂøÖÈ°ªÊòØÈÇÆÁÆ±Ê†ºÂºè @Email //@Value("$&#123;person.last-name&#125;") private String lastName; //@Value("#&#123;11*2&#125;") private Integer age; //@Value("true") private Boolean boss; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; 4„ÄÅ@PropertySource&amp;@ImportResource&amp;@Bean@PropertySourceÔºöÂä†ËΩΩÊåáÂÆöÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºõ 1234567891011121314151617181920212223242526272829/** * Â∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÁöÑÊØè‰∏Ä‰∏™Â±ûÊÄßÁöÑÂÄºÔºåÊò†Â∞ÑÂà∞Ëøô‰∏™ÁªÑ‰ª∂‰∏≠ * @ConfigurationPropertiesÔºöÂëäËØâSpringBootÂ∞ÜÊú¨Á±ª‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßÂíåÈÖçÁΩÆÊñá‰ª∂‰∏≠Áõ∏ÂÖ≥ÁöÑÈÖçÁΩÆËøõË°åÁªëÂÆöÔºõ * prefix = "person"ÔºöÈÖçÁΩÆÊñá‰ª∂‰∏≠Âì™‰∏™‰∏ãÈù¢ÁöÑÊâÄÊúâÂ±ûÊÄßËøõË°å‰∏Ä‰∏ÄÊò†Â∞Ñ * * Âè™ÊúâËøô‰∏™ÁªÑ‰ª∂ÊòØÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂ÔºåÊâçËÉΩÂÆπÂô®Êèê‰æõÁöÑ@ConfigurationPropertiesÂäüËÉΩÔºõ * @ConfigurationProperties(prefix = "person")ÈªòËÆ§‰ªéÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÂÄºÔºõ * */@PropertySource(value = &#123;"classpath:person.properties"&#125;)@Component@ConfigurationProperties(prefix = "person")//@Validatedpublic class Person &#123; /** * &lt;bean class="Person"&gt; * &lt;property name="lastName" value="Â≠óÈù¢Èáè/$&#123;key&#125;‰ªéÁéØÂ¢ÉÂèòÈáè„ÄÅÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÂÄº/#&#123;SpEL&#125;"&gt;&lt;/property&gt; * &lt;bean/&gt; */ //lastNameÂøÖÈ°ªÊòØÈÇÆÁÆ±Ê†ºÂºè // @Email //@Value("$&#123;person.last-name&#125;") private String lastName; //@Value("#&#123;11*2&#125;") private Integer age; //@Value("true") private Boolean boss; @ImportResourceÔºöÂØºÂÖ•SpringÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåËÆ©ÈÖçÁΩÆÊñá‰ª∂ÈáåÈù¢ÁöÑÂÜÖÂÆπÁîüÊïàÔºõ Spring BootÈáåÈù¢Ê≤°ÊúâSpringÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÊàë‰ª¨Ëá™Â∑±ÁºñÂÜôÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºå‰πü‰∏çËÉΩËá™Âä®ËØÜÂà´Ôºõ ÊÉ≥ËÆ©SpringÁöÑÈÖçÁΩÆÊñá‰ª∂ÁîüÊïàÔºåÂä†ËΩΩËøõÊù•Ôºõ@ImportResourceÊ†áÊ≥®Âú®‰∏Ä‰∏™ÈÖçÁΩÆÁ±ª‰∏ä 12@ImportResource(locations = &#123;"classpath:beans.xml"&#125;)ÂØºÂÖ•SpringÁöÑÈÖçÁΩÆÊñá‰ª∂ËÆ©ÂÖ∂ÁîüÊïà ‰∏çÊù•ÁºñÂÜôSpringÁöÑÈÖçÁΩÆÊñá‰ª∂ 12345678&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;bean id="helloService" class="com.atguigu.springboot.service.HelloService"&gt;&lt;/bean&gt;&lt;/beans&gt; SpringBootÊé®ËçêÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ÁöÑÊñπÂºèÔºõÊé®Ëçê‰ΩøÁî®ÂÖ®Ê≥®Ëß£ÁöÑÊñπÂºè 1„ÄÅÈÖçÁΩÆÁ±ª@Configuration‚Äî‚Äî&gt;SpringÈÖçÁΩÆÊñá‰ª∂ 2„ÄÅ‰ΩøÁî®@BeanÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ 12345678910111213141516/** * @ConfigurationÔºöÊåáÊòéÂΩìÂâçÁ±ªÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºõÂ∞±ÊòØÊù•Êõø‰ª£‰πãÂâçÁöÑSpringÈÖçÁΩÆÊñá‰ª∂ * * Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Áî®&lt;bean&gt;&lt;bean/&gt;Ê†áÁ≠æÊ∑ªÂä†ÁªÑ‰ª∂ * */@Configurationpublic class MyAppConfig &#123; //Â∞ÜÊñπÊ≥ïÁöÑËøîÂõûÂÄºÊ∑ªÂä†Âà∞ÂÆπÂô®‰∏≠ÔºõÂÆπÂô®‰∏≠Ëøô‰∏™ÁªÑ‰ª∂ÈªòËÆ§ÁöÑidÂ∞±ÊòØÊñπÊ≥ïÂêç @Bean public HelloService helloService02()&#123; System.out.println("ÈÖçÁΩÆÁ±ª@BeanÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂‰∫Ü..."); return new HelloService(); &#125;&#125; ##4„ÄÅÈÖçÁΩÆÊñá‰ª∂Âç†‰ΩçÁ¨¶ 1„ÄÅÈöèÊú∫Êï∞12$&#123;random.value&#125;„ÄÅ$&#123;random.int&#125;„ÄÅ$&#123;random.long&#125;$&#123;random.int(10)&#125;„ÄÅ$&#123;random.int[1024,65536]&#125; 2„ÄÅÂç†‰ΩçÁ¨¶Ëé∑Âèñ‰πãÂâçÈÖçÁΩÆÁöÑÂÄºÔºåÂ¶ÇÊûúÊ≤°ÊúâÂèØ‰ª•ÊòØÁî®:ÊåáÂÆöÈªòËÆ§ÂÄº123456789person.last-name=Âº†‰∏â$&#123;random.uuid&#125;person.age=$&#123;random.int&#125;person.birth=2017/12/15person.boss=falseperson.maps.k1=v1person.maps.k2=14person.lists=a,b,cperson.dog.name=$&#123;person.hello:hello&#125;_dogperson.dog.age=15 5„ÄÅProfile1„ÄÅÂ§öProfileÊñá‰ª∂Êàë‰ª¨Âú®‰∏ªÈÖçÁΩÆÊñá‰ª∂ÁºñÂÜôÁöÑÊó∂ÂÄôÔºåÊñá‰ª∂ÂêçÂèØ‰ª•ÊòØ application-{profile}.properties/yml ÈªòËÆ§‰ΩøÁî®application.propertiesÁöÑÈÖçÁΩÆÔºõ 2„ÄÅymlÊîØÊåÅÂ§öÊñáÊ°£ÂùóÊñπÂºè1234567891011121314151617181920server: port: 8081spring: profiles: active: prod---server: port: 8083spring: profiles: dev---server: port: 8084spring: profiles: prod #ÊåáÂÆöÂ±û‰∫éÂì™‰∏™ÁéØÂ¢É 3„ÄÅÊøÄÊ¥ªÊåáÂÆöprofile‚Äã 1„ÄÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆö spring.profiles.active=dev ‚Äã 2„ÄÅÂëΩ‰ª§Ë°åÔºö ‚Äã java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar ‚Äìspring.profiles.active=devÔºõ ‚Äã ÂèØ‰ª•Áõ¥Êé•Âú®ÊµãËØïÁöÑÊó∂ÂÄôÔºåÈÖçÁΩÆ‰º†ÂÖ•ÂëΩ‰ª§Ë°åÂèÇÊï∞ ‚Äã 3„ÄÅËôöÊãüÊú∫ÂèÇÊï∞Ôºõ ‚Äã -Dspring.profiles.active=dev 6„ÄÅÈÖçÁΩÆÊñá‰ª∂Âä†ËΩΩ‰ΩçÁΩÆspringboot ÂêØÂä®‰ºöÊâ´Êèè‰ª•‰∏ã‰ΩçÁΩÆÁöÑapplication.propertiesÊàñËÄÖapplication.ymlÊñá‰ª∂‰Ωú‰∏∫Spring bootÁöÑÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂ ‚Äìfile:./config/ ‚Äìfile:./ ‚Äìclasspath:/config/ ‚Äìclasspath:/ ‰ºòÂÖàÁ∫ßÁî±È´òÂà∞Â∫ïÔºåÈ´ò‰ºòÂÖàÁ∫ßÁöÑÈÖçÁΩÆ‰ºöË¶ÜÁõñ‰Ωé‰ºòÂÖàÁ∫ßÁöÑÈÖçÁΩÆÔºõ SpringBoot‰ºö‰ªéËøôÂõõ‰∏™‰ΩçÁΩÆÂÖ®ÈÉ®Âä†ËΩΩ‰∏ªÈÖçÁΩÆÊñá‰ª∂Ôºõ‰∫íË°•ÈÖçÁΩÆÔºõ ==Êàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáspring.config.locationÊù•ÊîπÂèòÈªòËÆ§ÁöÑÈÖçÁΩÆÊñá‰ª∂‰ΩçÁΩÆ== È°πÁõÆÊâìÂåÖÂ•Ω‰ª•ÂêéÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÂΩ¢ÂºèÔºåÂêØÂä®È°πÁõÆÁöÑÊó∂ÂÄôÊù•ÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ÁöÑÊñ∞‰ΩçÁΩÆÔºõÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ÂíåÈªòËÆ§Âä†ËΩΩÁöÑËøô‰∫õÈÖçÁΩÆÊñá‰ª∂ÂÖ±ÂêåËµ∑‰ΩúÁî®ÂΩ¢Êàê‰∫íË°•ÈÖçÁΩÆÔºõ java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar ‚Äìspring.config.location=G:/application.properties 7„ÄÅÂ§ñÈÉ®ÈÖçÁΩÆÂä†ËΩΩÈ°∫Â∫è==SpringBoot‰πüÂèØ‰ª•‰ªé‰ª•‰∏ã‰ΩçÁΩÆÂä†ËΩΩÈÖçÁΩÆÔºõ ‰ºòÂÖàÁ∫ß‰ªéÈ´òÂà∞‰ΩéÔºõÈ´ò‰ºòÂÖàÁ∫ßÁöÑÈÖçÁΩÆË¶ÜÁõñ‰Ωé‰ºòÂÖàÁ∫ßÁöÑÈÖçÁΩÆÔºåÊâÄÊúâÁöÑÈÖçÁΩÆ‰ºöÂΩ¢Êàê‰∫íË°•ÈÖçÁΩÆ== 1.ÂëΩ‰ª§Ë°åÂèÇÊï∞ ÊâÄÊúâÁöÑÈÖçÁΩÆÈÉΩÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°å‰∏äËøõË°åÊåáÂÆö java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar ‚Äìserver.port=8087 ‚Äìserver.context-path=/abc Â§ö‰∏™ÈÖçÁΩÆÁî®Á©∫Ê†ºÂàÜÂºÄÔºõ ‚ÄìÈÖçÁΩÆÈ°π=ÂÄº 2.Êù•Ëá™java:comp/envÁöÑJNDIÂ±ûÊÄß 3.JavaÁ≥ªÁªüÂ±ûÊÄßÔºàSystem.getProperties()Ôºâ 4.Êìç‰ΩúÁ≥ªÁªüÁéØÂ¢ÉÂèòÈáè 5.RandomValuePropertySourceÈÖçÁΩÆÁöÑrandom.*Â±ûÊÄßÂÄº ==Áî±jarÂåÖÂ§ñÂêëjarÂåÖÂÜÖËøõË°åÂØªÊâæÔºõ== ==‰ºòÂÖàÂä†ËΩΩÂ∏¶profile== 6.jarÂåÖÂ§ñÈÉ®ÁöÑapplication-{profile}.propertiesÊàñapplication.yml(Â∏¶spring.profile)ÈÖçÁΩÆÊñá‰ª∂ 7.jarÂåÖÂÜÖÈÉ®ÁöÑapplication-{profile}.propertiesÊàñapplication.yml(Â∏¶spring.profile)ÈÖçÁΩÆÊñá‰ª∂ ==ÂÜçÊù•Âä†ËΩΩ‰∏çÂ∏¶profile== 8.jarÂåÖÂ§ñÈÉ®ÁöÑapplication.propertiesÊàñapplication.yml(‰∏çÂ∏¶spring.profile)ÈÖçÁΩÆÊñá‰ª∂ 9.jarÂåÖÂÜÖÈÉ®ÁöÑapplication.propertiesÊàñapplication.yml(‰∏çÂ∏¶spring.profile)ÈÖçÁΩÆÊñá‰ª∂ 10.@ConfigurationÊ≥®Ëß£Á±ª‰∏äÁöÑ@PropertySource 11.ÈÄöËøáSpringApplication.setDefaultPropertiesÊåáÂÆöÁöÑÈªòËÆ§Â±ûÊÄß ÊâÄÊúâÊîØÊåÅÁöÑÈÖçÁΩÆÂä†ËΩΩÊù•Ê∫êÔºõ ÂèÇËÄÉÂÆòÊñπÊñáÊ°£ 8„ÄÅËá™Âä®ÈÖçÁΩÆÂéüÁêÜÈÖçÁΩÆÊñá‰ª∂Âà∞Â∫ïËÉΩÂÜô‰ªÄ‰πàÔºüÊÄé‰πàÂÜôÔºüËá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºõ ÈÖçÁΩÆÊñá‰ª∂ËÉΩÈÖçÁΩÆÁöÑÂ±ûÊÄßÂèÇÁÖß 1„ÄÅËá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºö1Ôºâ„ÄÅSpringBootÂêØÂä®ÁöÑÊó∂ÂÄôÂä†ËΩΩ‰∏ªÈÖçÁΩÆÁ±ªÔºåÂºÄÂêØ‰∫ÜËá™Âä®ÈÖçÁΩÆÂäüËÉΩ ==@EnableAutoConfiguration== 2Ôºâ„ÄÅ@EnableAutoConfiguration ‰ΩúÁî®Ôºö Âà©Áî®EnableAutoConfigurationImportSelectorÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•‰∏Ä‰∫õÁªÑ‰ª∂Ôºü ÂèØ‰ª•Êü•ÁúãselectImports()ÊñπÊ≥ïÁöÑÂÜÖÂÆπÔºõ List configurations = getCandidateConfigurations(annotationMetadata, attributes);Ëé∑ÂèñÂÄôÈÄâÁöÑÈÖçÁΩÆ 1234SpringFactoriesLoader.loadFactoryNames()Êâ´ÊèèÊâÄÊúâjarÂåÖÁ±ªË∑ØÂæÑ‰∏ã META-INF/spring.factoriesÊääÊâ´ÊèèÂà∞ÁöÑËøô‰∫õÊñá‰ª∂ÁöÑÂÜÖÂÆπÂåÖË£ÖÊàêpropertiesÂØπË±°‰ªéproperties‰∏≠Ëé∑ÂèñÂà∞EnableAutoConfiguration.classÁ±ªÔºàÁ±ªÂêçÔºâÂØπÂ∫îÁöÑÂÄºÔºåÁÑ∂ÂêéÊää‰ªñ‰ª¨Ê∑ªÂä†Âú®ÂÆπÂô®‰∏≠ ==Â∞Ü Á±ªË∑ØÂæÑ‰∏ã META-INF/spring.factories ÈáåÈù¢ÈÖçÁΩÆÁöÑÊâÄÊúâEnableAutoConfigurationÁöÑÂÄºÂä†ÂÖ•Âà∞‰∫ÜÂÆπÂô®‰∏≠Ôºõ== 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798# Auto Configureorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.ldap.LdapDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\org.springframework.boot.autoconfigure.elasticsearch.jest.JestAutoConfiguration,\org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.DeviceResolverAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.DeviceDelegatingViewResolverAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.SitePreferenceAutoConfiguration,\org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\org.springframework.boot.autoconfigure.reactor.ReactorAutoConfiguration,\org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,\org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,\org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,\org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration,\org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\org.springframework.boot.autoconfigure.social.SocialWebAutoConfiguration,\org.springframework.boot.autoconfigure.social.FacebookAutoConfiguration,\org.springframework.boot.autoconfigure.social.LinkedInAutoConfiguration,\org.springframework.boot.autoconfigure.social.TwitterAutoConfiguration,\org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration,\org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration,\org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration,\org.springframework.boot.autoconfigure.web.HttpEncodingAutoConfiguration,\org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration,\org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration,\org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration,\org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration,\org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration,\org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration,\org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration,\org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration ÊØè‰∏Ä‰∏™ËøôÊ†∑ÁöÑ xxxAutoConfigurationÁ±ªÈÉΩÊòØÂÆπÂô®‰∏≠ÁöÑ‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåÈÉΩÂä†ÂÖ•Âà∞ÂÆπÂô®‰∏≠ÔºõÁî®‰ªñ‰ª¨Êù•ÂÅöËá™Âä®ÈÖçÁΩÆÔºõ 3Ôºâ„ÄÅÊØè‰∏Ä‰∏™Ëá™Âä®ÈÖçÁΩÆÁ±ªËøõË°åËá™Âä®ÈÖçÁΩÆÂäüËÉΩÔºõ 4Ôºâ„ÄÅ‰ª•HttpEncodingAutoConfigurationÔºàHttpÁºñÁ†ÅËá™Âä®ÈÖçÁΩÆÔºâ‰∏∫‰æãËß£ÈáäËá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºõ 12345678910111213141516171819202122232425262728@Configuration //Ë°®Á§∫ËøôÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºå‰ª•ÂâçÁºñÂÜôÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏ÄÊ†∑Ôºå‰πüÂèØ‰ª•ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂@EnableConfigurationProperties(HttpEncodingProperties.class) //ÂêØÂä®ÊåáÂÆöÁ±ªÁöÑConfigurationPropertiesÂäüËÉΩÔºõÂ∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂØπÂ∫îÁöÑÂÄºÂíåHttpEncodingPropertiesÁªëÂÆöËµ∑Êù•ÔºõÂπ∂ÊääHttpEncodingPropertiesÂä†ÂÖ•Âà∞iocÂÆπÂô®‰∏≠@ConditionalOnWebApplication //SpringÂ∫ïÂ±Ç@ConditionalÊ≥®Ëß£ÔºàSpringÊ≥®Ëß£ÁâàÔºâÔºåÊ†πÊçÆ‰∏çÂêåÁöÑÊù°‰ª∂ÔºåÂ¶ÇÊûúÊª°Ë∂≥ÊåáÂÆöÁöÑÊù°‰ª∂ÔºåÊï¥‰∏™ÈÖçÁΩÆÁ±ªÈáåÈù¢ÁöÑÈÖçÁΩÆÂ∞±‰ºöÁîüÊïàÔºõ Âà§Êñ≠ÂΩìÂâçÂ∫îÁî®ÊòØÂê¶ÊòØwebÂ∫îÁî®ÔºåÂ¶ÇÊûúÊòØÔºåÂΩìÂâçÈÖçÁΩÆÁ±ªÁîüÊïà@ConditionalOnClass(CharacterEncodingFilter.class) //Âà§Êñ≠ÂΩìÂâçÈ°πÁõÆÊúâÊ≤°ÊúâËøô‰∏™Á±ªCharacterEncodingFilterÔºõSpringMVC‰∏≠ËøõË°å‰π±Á†ÅËß£ÂÜ≥ÁöÑËøáÊª§Âô®Ôºõ@ConditionalOnProperty(prefix = "spring.http.encoding", value = "enabled", matchIfMissing = true) //Âà§Êñ≠ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊòØÂê¶Â≠òÂú®Êüê‰∏™ÈÖçÁΩÆ spring.http.encoding.enabledÔºõÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂà§Êñ≠‰πüÊòØÊàêÁ´ãÁöÑ//Âç≥‰ΩøÊàë‰ª¨ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰∏çÈÖçÁΩÆpring.http.encoding.enabled=trueÔºå‰πüÊòØÈªòËÆ§ÁîüÊïàÁöÑÔºõpublic class HttpEncodingAutoConfiguration &#123; //‰ªñÂ∑≤ÁªèÂíåSpringBootÁöÑÈÖçÁΩÆÊñá‰ª∂Êò†Â∞Ñ‰∫Ü private final HttpEncodingProperties properties; //Âè™Êúâ‰∏Ä‰∏™ÊúâÂèÇÊûÑÈÄ†Âô®ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèÇÊï∞ÁöÑÂÄºÂ∞±‰ºö‰ªéÂÆπÂô®‰∏≠Êãø public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Bean //ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåËøô‰∏™ÁªÑ‰ª∂ÁöÑÊüê‰∫õÂÄºÈúÄË¶Å‰ªéproperties‰∏≠Ëé∑Âèñ @ConditionalOnMissingBean(CharacterEncodingFilter.class) //Âà§Êñ≠ÂÆπÂô®Ê≤°ÊúâËøô‰∏™ÁªÑ‰ª∂Ôºü public CharacterEncodingFilter characterEncodingFilter() &#123; CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter(); filter.setEncoding(this.properties.getCharset().name()); filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST)); filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE)); return filter; &#125; Ê†πÊçÆÂΩìÂâç‰∏çÂêåÁöÑÊù°‰ª∂Âà§Êñ≠ÔºåÂÜ≥ÂÆöËøô‰∏™ÈÖçÁΩÆÁ±ªÊòØÂê¶ÁîüÊïàÔºü ‰∏Ä‰ΩÜËøô‰∏™ÈÖçÁΩÆÁ±ªÁîüÊïàÔºõËøô‰∏™ÈÖçÁΩÆÁ±ªÂ∞±‰ºöÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÂêÑÁßçÁªÑ‰ª∂ÔºõËøô‰∫õÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÊòØ‰ªéÂØπÂ∫îÁöÑpropertiesÁ±ª‰∏≠Ëé∑ÂèñÁöÑÔºåËøô‰∫õÁ±ªÈáåÈù¢ÁöÑÊØè‰∏Ä‰∏™Â±ûÊÄßÂèàÊòØÂíåÈÖçÁΩÆÊñá‰ª∂ÁªëÂÆöÁöÑÔºõ 5Ôºâ„ÄÅÊâÄÊúâÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ËÉΩÈÖçÁΩÆÁöÑÂ±ûÊÄßÈÉΩÊòØÂú®xxxxPropertiesÁ±ª‰∏≠Â∞ÅË£ÖËÄÖ‚ÄòÔºõÈÖçÁΩÆÊñá‰ª∂ËÉΩÈÖçÁΩÆ‰ªÄ‰πàÂ∞±ÂèØ‰ª•ÂèÇÁÖßÊüê‰∏™ÂäüËÉΩÂØπÂ∫îÁöÑËøô‰∏™Â±ûÊÄßÁ±ª 1234@ConfigurationProperties(prefix = "spring.http.encoding") //‰ªéÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÊåáÂÆöÁöÑÂÄºÂíåbeanÁöÑÂ±ûÊÄßËøõË°åÁªëÂÆöpublic class HttpEncodingProperties &#123; public static final Charset DEFAULT_CHARSET = Charset.forName("UTF-8"); Á≤æÈ´ìÔºö ‚Äã 1Ôºâ„ÄÅSpringBootÂêØÂä®‰ºöÂä†ËΩΩÂ§ßÈáèÁöÑËá™Âä®ÈÖçÁΩÆÁ±ª ‚Äã 2Ôºâ„ÄÅÊàë‰ª¨ÁúãÊàë‰ª¨ÈúÄË¶ÅÁöÑÂäüËÉΩÊúâÊ≤°ÊúâSpringBootÈªòËÆ§ÂÜôÂ•ΩÁöÑËá™Âä®ÈÖçÁΩÆÁ±ªÔºõ ‚Äã 3Ôºâ„ÄÅÊàë‰ª¨ÂÜçÊù•ÁúãËøô‰∏™Ëá™Âä®ÈÖçÁΩÆÁ±ª‰∏≠Âà∞Â∫ïÈÖçÁΩÆ‰∫ÜÂì™‰∫õÁªÑ‰ª∂ÔºõÔºàÂè™Ë¶ÅÊàë‰ª¨Ë¶ÅÁî®ÁöÑÁªÑ‰ª∂ÊúâÔºåÊàë‰ª¨Â∞±‰∏çÈúÄË¶ÅÂÜçÊù•ÈÖçÁΩÆ‰∫ÜÔºâ ‚Äã 4Ôºâ„ÄÅÁªôÂÆπÂô®‰∏≠Ëá™Âä®ÈÖçÁΩÆÁ±ªÊ∑ªÂä†ÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºå‰ºö‰ªépropertiesÁ±ª‰∏≠Ëé∑ÂèñÊüê‰∫õÂ±ûÊÄß„ÄÇÊàë‰ª¨Â∞±ÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆöËøô‰∫õÂ±ûÊÄßÁöÑÂÄºÔºõ xxxxAutoConfigurartionÔºöËá™Âä®ÈÖçÁΩÆÁ±ªÔºõ ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ xxxxProperties:Â∞ÅË£ÖÈÖçÁΩÆÊñá‰ª∂‰∏≠Áõ∏ÂÖ≥Â±ûÊÄßÔºõ 2„ÄÅÁªÜËäÇ1„ÄÅ@ConditionalÊ¥æÁîüÊ≥®Ëß£ÔºàSpringÊ≥®Ëß£ÁâàÂéüÁîüÁöÑ@Conditional‰ΩúÁî®Ôºâ‰ΩúÁî®ÔºöÂøÖÈ°ªÊòØ@ConditionalÊåáÂÆöÁöÑÊù°‰ª∂ÊàêÁ´ãÔºåÊâçÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ÔºåÈÖçÁΩÆÈÖçÈáåÈù¢ÁöÑÊâÄÊúâÂÜÖÂÆπÊâçÁîüÊïàÔºõ @ConditionalÊâ©Â±ïÊ≥®Ëß£ ‰ΩúÁî®ÔºàÂà§Êñ≠ÊòØÂê¶Êª°Ë∂≥ÂΩìÂâçÊåáÂÆöÊù°‰ª∂Ôºâ @ConditionalOnJava Á≥ªÁªüÁöÑjavaÁâàÊú¨ÊòØÂê¶Á¨¶ÂêàË¶ÅÊ±Ç @ConditionalOnBean ÂÆπÂô®‰∏≠Â≠òÂú®ÊåáÂÆöBeanÔºõ @ConditionalOnMissingBean ÂÆπÂô®‰∏≠‰∏çÂ≠òÂú®ÊåáÂÆöBeanÔºõ @ConditionalOnExpression Êª°Ë∂≥SpELË°®ËææÂºèÊåáÂÆö @ConditionalOnClass Á≥ªÁªü‰∏≠ÊúâÊåáÂÆöÁöÑÁ±ª @ConditionalOnMissingClass Á≥ªÁªü‰∏≠Ê≤°ÊúâÊåáÂÆöÁöÑÁ±ª @ConditionalOnSingleCandidate ÂÆπÂô®‰∏≠Âè™Êúâ‰∏Ä‰∏™ÊåáÂÆöÁöÑBeanÔºåÊàñËÄÖËøô‰∏™BeanÊòØÈ¶ñÈÄâBean @ConditionalOnProperty Á≥ªÁªü‰∏≠ÊåáÂÆöÁöÑÂ±ûÊÄßÊòØÂê¶ÊúâÊåáÂÆöÁöÑÂÄº @ConditionalOnResource Á±ªË∑ØÂæÑ‰∏ãÊòØÂê¶Â≠òÂú®ÊåáÂÆöËµÑÊ∫êÊñá‰ª∂ @ConditionalOnWebApplication ÂΩìÂâçÊòØwebÁéØÂ¢É @ConditionalOnNotWebApplication ÂΩìÂâç‰∏çÊòØwebÁéØÂ¢É @ConditionalOnJndi JNDIÂ≠òÂú®ÊåáÂÆöÈ°π Ëá™Âä®ÈÖçÁΩÆÁ±ªÂøÖÈ°ªÂú®‰∏ÄÂÆöÁöÑÊù°‰ª∂‰∏ãÊâçËÉΩÁîüÊïàÔºõ Êàë‰ª¨ÊÄé‰πàÁü•ÈÅìÂì™‰∫õËá™Âä®ÈÖçÁΩÆÁ±ªÁîüÊïàÔºõ ==Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂêØÁî® debug=trueÂ±ûÊÄßÔºõÊù•ËÆ©ÊéßÂà∂Âè∞ÊâìÂç∞Ëá™Âä®ÈÖçÁΩÆÊä•Âëä==ÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÁü•ÈÅìÂì™‰∫õËá™Âä®ÈÖçÁΩÆÁ±ªÁîüÊïàÔºõ 1234567891011121314151617181920212223=========================AUTO-CONFIGURATION REPORT=========================Positive matches:ÔºàËá™Âä®ÈÖçÁΩÆÁ±ªÂêØÁî®ÁöÑÔºâ----------------- DispatcherServletAutoConfiguration matched: - @ConditionalOnClass found required class 'org.springframework.web.servlet.DispatcherServlet'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) - @ConditionalOnWebApplication (required) found StandardServletEnvironment (OnWebApplicationCondition) Negative matches:ÔºàÊ≤°ÊúâÂêØÂä®ÔºåÊ≤°ÊúâÂåπÈÖçÊàêÂäüÁöÑËá™Âä®ÈÖçÁΩÆÁ±ªÔºâ----------------- ActiveMQAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes 'javax.jms.ConnectionFactory', 'org.apache.activemq.ActiveMQConnectionFactory' (OnClassCondition) AopAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes 'org.aspectj.lang.annotation.Aspect', 'org.aspectj.lang.reflect.Advice' (OnClassCondition) ‰∏â„ÄÅÊó•Âøó1„ÄÅÊó•ÂøóÊ°ÜÊû∂ Â∞èÂº†ÔºõÂºÄÂèë‰∏Ä‰∏™Â§ßÂûãÁ≥ªÁªüÔºõ ‚Äã 1„ÄÅSystem.out.println(‚Äú‚Äù)ÔºõÂ∞ÜÂÖ≥ÈîÆÊï∞ÊçÆÊâìÂç∞Âú®ÊéßÂà∂Âè∞ÔºõÂéªÊéâÔºüÂÜôÂú®‰∏Ä‰∏™Êñá‰ª∂Ôºü ‚Äã 2„ÄÅÊ°ÜÊû∂Êù•ËÆ∞ÂΩïÁ≥ªÁªüÁöÑ‰∏Ä‰∫õËøêË°åÊó∂‰ø°ÊÅØÔºõÊó•ÂøóÊ°ÜÊû∂ Ôºõ zhanglogging.jarÔºõ ‚Äã 3„ÄÅÈ´òÂ§ß‰∏äÁöÑÂá†‰∏™ÂäüËÉΩÔºüÂºÇÊ≠•Ê®°ÂºèÔºüËá™Âä®ÂΩíÊ°£ÔºüxxxxÔºü zhanglogging-good.jarÔºü ‚Äã 4„ÄÅÂ∞Ü‰ª•ÂâçÊ°ÜÊû∂Âç∏‰∏ãÊù•ÔºüÊç¢‰∏äÊñ∞ÁöÑÊ°ÜÊû∂ÔºåÈáçÊñ∞‰øÆÊîπ‰πãÂâçÁõ∏ÂÖ≥ÁöÑAPIÔºõzhanglogging-prefect.jarÔºõ ‚Äã 5„ÄÅJDBC‚ÄîÊï∞ÊçÆÂ∫ìÈ©±Âä®Ôºõ ‚Äã ÂÜô‰∫Ü‰∏Ä‰∏™Áªü‰∏ÄÁöÑÊé•Âè£Â±ÇÔºõÊó•ÂøóÈó®Èù¢ÔºàÊó•ÂøóÁöÑ‰∏Ä‰∏™ÊäΩË±°Â±ÇÔºâÔºõlogging-abstract.jarÔºõ ‚Äã ÁªôÈ°πÁõÆ‰∏≠ÂØºÂÖ•ÂÖ∑‰ΩìÁöÑÊó•ÂøóÂÆûÁé∞Â∞±Ë°å‰∫ÜÔºõÊàë‰ª¨‰πãÂâçÁöÑÊó•ÂøóÊ°ÜÊû∂ÈÉΩÊòØÂÆûÁé∞ÁöÑÊäΩË±°Â±ÇÔºõ Â∏ÇÈù¢‰∏äÁöÑÊó•ÂøóÊ°ÜÊû∂Ôºõ JUL„ÄÅJCL„ÄÅJboss-logging„ÄÅlogback„ÄÅlog4j„ÄÅlog4j2„ÄÅslf4j‚Ä¶. Êó•ÂøóÈó®Èù¢ ÔºàÊó•ÂøóÁöÑÊäΩË±°Â±ÇÔºâ Êó•ÂøóÂÆûÁé∞ JCLÔºàJakarta Commons LoggingÔºâ SLF4jÔºàSimple Logging Facade for JavaÔºâ jboss-logging Log4j JULÔºàjava.util.loggingÔºâ Log4j2 Logback Â∑¶ËæπÈÄâ‰∏Ä‰∏™Èó®Èù¢ÔºàÊäΩË±°Â±ÇÔºâ„ÄÅÂè≥ËæπÊù•ÈÄâ‰∏Ä‰∏™ÂÆûÁé∞Ôºõ Êó•ÂøóÈó®Èù¢Ôºö SLF4JÔºõ Êó•ÂøóÂÆûÁé∞ÔºöLogbackÔºõ SpringBootÔºöÂ∫ïÂ±ÇÊòØSpringÊ°ÜÊû∂ÔºåSpringÊ°ÜÊû∂ÈªòËÆ§ÊòØÁî®JCLÔºõ‚Äò ‚Äã ==SpringBootÈÄâÁî® SLF4jÂíålogbackÔºõ== 2„ÄÅSLF4j‰ΩøÁî®1„ÄÅÂ¶Ç‰ΩïÂú®Á≥ªÁªü‰∏≠‰ΩøÁî®SLF4j https://www.slf4j.org‰ª•ÂêéÂºÄÂèëÁöÑÊó∂ÂÄôÔºåÊó•ÂøóËÆ∞ÂΩïÊñπÊ≥ïÁöÑË∞ÉÁî®Ôºå‰∏çÂ∫îËØ•Êù•Áõ¥Êé•Ë∞ÉÁî®Êó•ÂøóÁöÑÂÆûÁé∞Á±ªÔºåËÄåÊòØË∞ÉÁî®Êó•ÂøóÊäΩË±°Â±ÇÈáåÈù¢ÁöÑÊñπÊ≥ïÔºõ ÁªôÁ≥ªÁªüÈáåÈù¢ÂØºÂÖ•slf4jÁöÑjarÂíå logbackÁöÑÂÆûÁé∞jar 123456789import org.slf4j.Logger;import org.slf4j.LoggerFactory;public class HelloWorld &#123; public static void main(String[] args) &#123; Logger logger = LoggerFactory.getLogger(HelloWorld.class); logger.info("Hello World"); &#125;&#125; ÂõæÁ§∫Ôºõ ÊØè‰∏Ä‰∏™Êó•ÂøóÁöÑÂÆûÁé∞Ê°ÜÊû∂ÈÉΩÊúâËá™Â∑±ÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ‰ΩøÁî®slf4j‰ª•ÂêéÔºåÈÖçÁΩÆÊñá‰ª∂ËøòÊòØÂÅöÊàêÊó•ÂøóÂÆûÁé∞Ê°ÜÊû∂Ëá™Â∑±Êú¨Ë∫´ÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºõ 2„ÄÅÈÅóÁïôÈóÆÈ¢òaÔºàslf4j+logbackÔºâ: SpringÔºàcommons-loggingÔºâ„ÄÅHibernateÔºàjboss-loggingÔºâ„ÄÅMyBatis„ÄÅxxxx Áªü‰∏ÄÊó•ÂøóËÆ∞ÂΩïÔºåÂç≥‰ΩøÊòØÂà´ÁöÑÊ°ÜÊû∂ÂíåÊàë‰∏ÄËµ∑Áªü‰∏Ä‰ΩøÁî®slf4jËøõË°åËæìÂá∫Ôºü Â¶Ç‰ΩïËÆ©Á≥ªÁªü‰∏≠ÊâÄÊúâÁöÑÊó•ÂøóÈÉΩÁªü‰∏ÄÂà∞slf4jÔºõ ==1„ÄÅÂ∞ÜÁ≥ªÁªü‰∏≠ÂÖ∂‰ªñÊó•ÂøóÊ°ÜÊû∂ÂÖàÊéíÈô§Âá∫ÂéªÔºõ== ==2„ÄÅÁî®‰∏≠Èó¥ÂåÖÊù•ÊõøÊç¢ÂéüÊúâÁöÑÊó•ÂøóÊ°ÜÊû∂Ôºõ== ==3„ÄÅÊàë‰ª¨ÂØºÂÖ•slf4jÂÖ∂‰ªñÁöÑÂÆûÁé∞== 3„ÄÅSpringBootÊó•ÂøóÂÖ≥Á≥ª1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;&lt;/dependency&gt; SpringBoot‰ΩøÁî®ÂÆÉÊù•ÂÅöÊó•ÂøóÂäüËÉΩÔºõ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt; Â∫ïÂ±Ç‰æùËµñÂÖ≥Á≥ª ÊÄªÁªìÔºö ‚Äã 1Ôºâ„ÄÅSpringBootÂ∫ïÂ±Ç‰πüÊòØ‰ΩøÁî®slf4j+logbackÁöÑÊñπÂºèËøõË°åÊó•ÂøóËÆ∞ÂΩï ‚Äã 2Ôºâ„ÄÅSpringBoot‰πüÊääÂÖ∂‰ªñÁöÑÊó•ÂøóÈÉΩÊõøÊç¢Êàê‰∫Üslf4jÔºõ ‚Äã 3Ôºâ„ÄÅ‰∏≠Èó¥ÊõøÊç¢ÂåÖÔºü 123456@SuppressWarnings("rawtypes")public abstract class LogFactory &#123; static String UNSUPPORTED_OPERATION_IN_JCL_OVER_SLF4J = "http://www.slf4j.org/codes.html#unsupported_operation_in_jcl_over_slf4j"; static LogFactory logFactory = new SLF4JLogFactory(); ‚Äã 4Ôºâ„ÄÅÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅÂºïÂÖ•ÂÖ∂‰ªñÊ°ÜÊû∂Ôºü‰∏ÄÂÆöË¶ÅÊääËøô‰∏™Ê°ÜÊû∂ÁöÑÈªòËÆ§Êó•Âøó‰æùËµñÁßªÈô§ÊéâÔºü ‚Äã SpringÊ°ÜÊû∂Áî®ÁöÑÊòØcommons-loggingÔºõ 12345678910&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt; ==SpringBootËÉΩËá™Âä®ÈÄÇÈÖçÊâÄÊúâÁöÑÊó•ÂøóÔºåËÄå‰∏îÂ∫ïÂ±Ç‰ΩøÁî®slf4j+logbackÁöÑÊñπÂºèËÆ∞ÂΩïÊó•ÂøóÔºåÂºïÂÖ•ÂÖ∂‰ªñÊ°ÜÊû∂ÁöÑÊó∂ÂÄôÔºåÂè™ÈúÄË¶ÅÊääËøô‰∏™Ê°ÜÊû∂‰æùËµñÁöÑÊó•ÂøóÊ°ÜÊû∂ÊéíÈô§ÊéâÂç≥ÂèØÔºõ== 4„ÄÅÊó•Âøó‰ΩøÁî®Ôºõ1„ÄÅÈªòËÆ§ÈÖçÁΩÆSpringBootÈªòËÆ§Â∏ÆÊàë‰ª¨ÈÖçÁΩÆÂ•Ω‰∫ÜÊó•ÂøóÔºõ 123456789101112131415161718//ËÆ∞ÂΩïÂô®Logger logger = LoggerFactory.getLogger(getClass());@Testpublic void contextLoads() &#123; //System.out.println(); //Êó•ÂøóÁöÑÁ∫ßÂà´Ôºõ //Áî±‰ΩéÂà∞È´ò trace&lt;debug&lt;info&lt;warn&lt;error //ÂèØ‰ª•Ë∞ÉÊï¥ËæìÂá∫ÁöÑÊó•ÂøóÁ∫ßÂà´ÔºõÊó•ÂøóÂ∞±Âè™‰ºöÂú®Ëøô‰∏™Á∫ßÂà´‰ª•‰ª•ÂêéÁöÑÈ´òÁ∫ßÂà´ÁîüÊïà logger.trace("ËøôÊòØtraceÊó•Âøó..."); logger.debug("ËøôÊòØdebugÊó•Âøó..."); //SpringBootÈªòËÆ§ÁªôÊàë‰ª¨‰ΩøÁî®ÁöÑÊòØinfoÁ∫ßÂà´ÁöÑÔºåÊ≤°ÊúâÊåáÂÆöÁ∫ßÂà´ÁöÑÂ∞±Áî®SpringBootÈªòËÆ§ËßÑÂÆöÁöÑÁ∫ßÂà´ÔºõrootÁ∫ßÂà´ logger.info("ËøôÊòØinfoÊó•Âøó..."); logger.warn("ËøôÊòØwarnÊó•Âøó..."); logger.error("ËøôÊòØerrorÊó•Âøó...");&#125; Êó•ÂøóËæìÂá∫Ê†ºÂºèÔºö %dË°®Á§∫Êó•ÊúüÊó∂Èó¥Ôºå %threadË°®Á§∫Á∫øÁ®ãÂêçÔºå %-5levelÔºöÁ∫ßÂà´‰ªéÂ∑¶ÊòæÁ§∫5‰∏™Â≠óÁ¨¶ÂÆΩÂ∫¶ %logger{50} Ë°®Á§∫loggerÂêçÂ≠óÊúÄÈïø50‰∏™Â≠óÁ¨¶ÔºåÂê¶ÂàôÊåâÁÖßÂè•ÁÇπÂàÜÂâ≤„ÄÇ %msgÔºöÊó•ÂøóÊ∂àÊÅØÔºå %nÊòØÊç¢Ë°åÁ¨¶ --&gt; %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n SpringBoot‰øÆÊîπÊó•ÂøóÁöÑÈªòËÆ§ÈÖçÁΩÆ 123456789101112131415logging.level.com.atguigu=trace#logging.path=# ‰∏çÊåáÂÆöË∑ØÂæÑÂú®ÂΩìÂâçÈ°πÁõÆ‰∏ãÁîüÊàêspringboot.logÊó•Âøó# ÂèØ‰ª•ÊåáÂÆöÂÆåÊï¥ÁöÑË∑ØÂæÑÔºõ#logging.file=G:/springboot.log# Âú®ÂΩìÂâçÁ£ÅÁõòÁöÑÊ†πË∑ØÂæÑ‰∏ãÂàõÂª∫springÊñá‰ª∂Â§πÂíåÈáåÈù¢ÁöÑlogÊñá‰ª∂Â§πÔºõ‰ΩøÁî® spring.log ‰Ωú‰∏∫ÈªòËÆ§Êñá‰ª∂logging.path=/spring/log# Âú®ÊéßÂà∂Âè∞ËæìÂá∫ÁöÑÊó•ÂøóÁöÑÊ†ºÂºèlogging.pattern.console=%d&#123;yyyy-MM-dd&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n# ÊåáÂÆöÊñá‰ª∂‰∏≠Êó•ÂøóËæìÂá∫ÁöÑÊ†ºÂºèlogging.pattern.file=%d&#123;yyyy-MM-dd&#125; === [%thread] === %-5level === %logger&#123;50&#125; ==== %msg%n logging.file logging.path Example Description (none) (none) Âè™Âú®ÊéßÂà∂Âè∞ËæìÂá∫ ÊåáÂÆöÊñá‰ª∂Âêç (none) my.log ËæìÂá∫Êó•ÂøóÂà∞my.logÊñá‰ª∂ (none) ÊåáÂÆöÁõÆÂΩï /var/log ËæìÂá∫Âà∞ÊåáÂÆöÁõÆÂΩïÁöÑ spring.log Êñá‰ª∂‰∏≠ 2„ÄÅÊåáÂÆöÈÖçÁΩÆÁªôÁ±ªË∑ØÂæÑ‰∏ãÊîæ‰∏äÊØè‰∏™Êó•ÂøóÊ°ÜÊû∂Ëá™Â∑±ÁöÑÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØÔºõSpringBootÂ∞±‰∏ç‰ΩøÁî®‰ªñÈªòËÆ§ÈÖçÁΩÆÁöÑ‰∫Ü Logging System Customization Logback logback-spring.xml, logback-spring.groovy, logback.xml or logback.groovy Log4j2 log4j2-spring.xml or log4j2.xml JDK (Java Util Logging) logging.properties logback.xmlÔºöÁõ¥Êé•Â∞±Ë¢´Êó•ÂøóÊ°ÜÊû∂ËØÜÂà´‰∫ÜÔºõ logback-spring.xmlÔºöÊó•ÂøóÊ°ÜÊû∂Â∞±‰∏çÁõ¥Êé•Âä†ËΩΩÊó•ÂøóÁöÑÈÖçÁΩÆÈ°πÔºåÁî±SpringBootËß£ÊûêÊó•ÂøóÈÖçÁΩÆÔºåÂèØ‰ª•‰ΩøÁî®SpringBootÁöÑÈ´òÁ∫ßProfileÂäüËÉΩ 1234&lt;springProfile name="staging"&gt; &lt;!-- configuration to be enabled when the "staging" profile is active --&gt; ÂèØ‰ª•ÊåáÂÆöÊüêÊÆµÈÖçÁΩÆÂè™Âú®Êüê‰∏™ÁéØÂ¢É‰∏ãÁîüÊïà&lt;/springProfile&gt; Â¶ÇÔºö 12345678910111213141516171819&lt;appender name="stdout" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;!-- Êó•ÂøóËæìÂá∫Ê†ºÂºèÔºö %dË°®Á§∫Êó•ÊúüÊó∂Èó¥Ôºå %threadË°®Á§∫Á∫øÁ®ãÂêçÔºå %-5levelÔºöÁ∫ßÂà´‰ªéÂ∑¶ÊòæÁ§∫5‰∏™Â≠óÁ¨¶ÂÆΩÂ∫¶ %logger&#123;50&#125; Ë°®Á§∫loggerÂêçÂ≠óÊúÄÈïø50‰∏™Â≠óÁ¨¶ÔºåÂê¶ÂàôÊåâÁÖßÂè•ÁÇπÂàÜÂâ≤„ÄÇ %msgÔºöÊó•ÂøóÊ∂àÊÅØÔºå %nÊòØÊç¢Ë°åÁ¨¶ --&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;springProfile name="dev"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; ----&gt; [%thread] ---&gt; %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt; &lt;/springProfile&gt; &lt;springProfile name="!dev"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; ==== [%thread] ==== %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt; &lt;/springProfile&gt; &lt;/layout&gt; &lt;/appender&gt; Â¶ÇÊûú‰ΩøÁî®logback.xml‰Ωú‰∏∫Êó•ÂøóÈÖçÁΩÆÊñá‰ª∂ÔºåËøòË¶Å‰ΩøÁî®profileÂäüËÉΩÔºå‰ºöÊúâ‰ª•‰∏ãÈîôËØØ no applicable action for [springProfile] 5„ÄÅÂàáÊç¢Êó•ÂøóÊ°ÜÊû∂ÂèØ‰ª•ÊåâÁÖßslf4jÁöÑÊó•ÂøóÈÄÇÈÖçÂõæÔºåËøõË°åÁõ∏ÂÖ≥ÁöÑÂàáÊç¢Ôºõ slf4j+log4jÁöÑÊñπÂºèÔºõ 12345678910111213141516171819&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;&lt;/dependency&gt; ÂàáÊç¢‰∏∫log4j2 123456789101112131415 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;&lt;/dependency&gt; Âõõ„ÄÅWebÂºÄÂèë1„ÄÅÁÆÄ‰ªã‰ΩøÁî®SpringBootÔºõ 1Ôºâ„ÄÅÂàõÂª∫SpringBootÂ∫îÁî®ÔºåÈÄâ‰∏≠Êàë‰ª¨ÈúÄË¶ÅÁöÑÊ®°ÂùóÔºõ 2Ôºâ„ÄÅSpringBootÂ∑≤ÁªèÈªòËÆ§Â∞ÜËøô‰∫õÂú∫ÊôØÈÖçÁΩÆÂ•Ω‰∫ÜÔºåÂè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆöÂ∞ëÈáèÈÖçÁΩÆÂ∞±ÂèØ‰ª•ËøêË°åËµ∑Êù• 3Ôºâ„ÄÅËá™Â∑±ÁºñÂÜô‰∏öÂä°‰ª£Á†ÅÔºõ Ëá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºü Ëøô‰∏™Âú∫ÊôØSpringBootÂ∏ÆÊàë‰ª¨ÈÖçÁΩÆ‰∫Ü‰ªÄ‰πàÔºüËÉΩ‰∏çËÉΩ‰øÆÊîπÔºüËÉΩ‰øÆÊîπÂì™‰∫õÈÖçÁΩÆÔºüËÉΩ‰∏çËÉΩÊâ©Â±ïÔºüxxx 12xxxxAutoConfigurationÔºöÂ∏ÆÊàë‰ª¨ÁªôÂÆπÂô®‰∏≠Ëá™Âä®ÈÖçÁΩÆÁªÑ‰ª∂ÔºõxxxxProperties:ÈÖçÁΩÆÁ±ªÊù•Â∞ÅË£ÖÈÖçÁΩÆÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºõ 2„ÄÅSpringBootÂØπÈùôÊÄÅËµÑÊ∫êÁöÑÊò†Â∞ÑËßÑÂàôÔºõ123@ConfigurationProperties(prefix = "spring.resources", ignoreUnknownFields = false)public class ResourceProperties implements ResourceLoaderAware &#123; //ÂèØ‰ª•ËÆæÁΩÆÂíåÈùôÊÄÅËµÑÊ∫êÊúâÂÖ≥ÁöÑÂèÇÊï∞ÔºåÁºìÂ≠òÊó∂Èó¥Á≠â 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364WebMvcAuotConfigurationÔºö @Override public void addResourceHandlers(ResourceHandlerRegistry registry) &#123; if (!this.resourceProperties.isAddMappings()) &#123; logger.debug("Default resource handling disabled"); return; &#125; Integer cachePeriod = this.resourceProperties.getCachePeriod(); if (!registry.hasMappingForPattern("/webjars/**")) &#123; customizeResourceHandlerRegistration( registry.addResourceHandler("/webjars/**") .addResourceLocations( "classpath:/META-INF/resources/webjars/") .setCachePeriod(cachePeriod)); &#125; String staticPathPattern = this.mvcProperties.getStaticPathPattern(); //ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§πÊò†Â∞Ñ if (!registry.hasMappingForPattern(staticPathPattern)) &#123; customizeResourceHandlerRegistration( registry.addResourceHandler(staticPathPattern) .addResourceLocations( this.resourceProperties.getStaticLocations()) .setCachePeriod(cachePeriod)); &#125; &#125; //ÈÖçÁΩÆÊ¨¢ËøéÈ°µÊò†Â∞Ñ @Bean public WelcomePageHandlerMapping welcomePageHandlerMapping( ResourceProperties resourceProperties) &#123; return new WelcomePageHandlerMapping(resourceProperties.getWelcomePage(), this.mvcProperties.getStaticPathPattern()); &#125; //ÈÖçÁΩÆÂñúÊ¨¢ÁöÑÂõæÊ†á @Configuration @ConditionalOnProperty(value = "spring.mvc.favicon.enabled", matchIfMissing = true) public static class FaviconConfiguration &#123; private final ResourceProperties resourceProperties; public FaviconConfiguration(ResourceProperties resourceProperties) &#123; this.resourceProperties = resourceProperties; &#125; @Bean public SimpleUrlHandlerMapping faviconHandlerMapping() &#123; SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping(); mapping.setOrder(Ordered.HIGHEST_PRECEDENCE + 1); //ÊâÄÊúâ **/favicon.ico mapping.setUrlMap(Collections.singletonMap("**/favicon.ico", faviconRequestHandler())); return mapping; &#125; @Bean public ResourceHttpRequestHandler faviconRequestHandler() &#123; ResourceHttpRequestHandler requestHandler = new ResourceHttpRequestHandler(); requestHandler .setLocations(this.resourceProperties.getFaviconLocations()); return requestHandler; &#125; &#125; ==1Ôºâ„ÄÅÊâÄÊúâ /webjars/** ÔºåÈÉΩÂéª classpath:/META-INF/resources/webjars/ ÊâæËµÑÊ∫êÔºõ== ‚Äã webjarsÔºö‰ª•jarÂåÖÁöÑÊñπÂºèÂºïÂÖ•ÈùôÊÄÅËµÑÊ∫êÔºõ http://www.webjars.org/ localhost:8080/webjars/jquery/3.3.1/jquery.js 123456&lt;!--ÂºïÂÖ•jquery-webjar--&gt;Âú®ËÆøÈóÆÁöÑÊó∂ÂÄôÂè™ÈúÄË¶ÅÂÜôwebjars‰∏ãÈù¢ËµÑÊ∫êÁöÑÂêçÁß∞Âç≥ÂèØ &lt;dependency&gt; &lt;groupId&gt;org.webjars&lt;/groupId&gt; &lt;artifactId&gt;jquery&lt;/artifactId&gt; &lt;version&gt;3.3.1&lt;/version&gt; &lt;/dependency&gt; ==2Ôºâ„ÄÅ‚Äù/**‚Äù ËÆøÈóÆÂΩìÂâçÈ°πÁõÆÁöÑ‰ªª‰ΩïËµÑÊ∫êÔºåÈÉΩÂéªÔºàÈùôÊÄÅËµÑÊ∫êÁöÑÊñá‰ª∂Â§πÔºâÊâæÊò†Â∞Ñ== 12345&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,&quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; &quot;/&quot;ÔºöÂΩìÂâçÈ°πÁõÆÁöÑÊ†πË∑ØÂæÑ localhost:8080/abc === ÂéªÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§πÈáåÈù¢Êâæabc ==3Ôºâ„ÄÅÊ¨¢ËøéÈ°µÔºõ ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§π‰∏ãÁöÑÊâÄÊúâindex.htmlÈ°µÈù¢ÔºõË¢´‚Äù/**‚ÄùÊò†Â∞ÑÔºõ== ‚Äã localhost:8080/ ÊâæindexÈ°µÈù¢ ==4Ôºâ„ÄÅÊâÄÊúâÁöÑ **/favicon.ico ÈÉΩÊòØÂú®ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂‰∏ãÊâæÔºõ== 3„ÄÅÊ®°ÊùøÂºïÊìéJSP„ÄÅVelocity„ÄÅFreemarker„ÄÅThymeleaf SpringBootÊé®ËçêÁöÑThymeleafÔºõ ËØ≠Ê≥ïÊõ¥ÁÆÄÂçïÔºåÂäüËÉΩÊõ¥Âº∫Â§ßÔºõ 1„ÄÅÂºïÂÖ•thymeleafÔºõ123456789101112 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; 2.1.6 &lt;/dependency&gt;ÂàáÊç¢thymeleafÁâàÊú¨&lt;properties&gt; &lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;/thymeleaf.version&gt; &lt;!-- Â∏ÉÂ±ÄÂäüËÉΩÁöÑÊîØÊåÅÁ®ãÂ∫è thymeleaf3‰∏ªÁ®ãÂ∫è layout2‰ª•‰∏äÁâàÊú¨ --&gt; &lt;!-- thymeleaf2 layout1--&gt; &lt;thymeleaf-layout-dialect.version&gt;2.2.2&lt;/thymeleaf-layout-dialect.version&gt; &lt;/properties&gt; 2„ÄÅThymeleaf‰ΩøÁî®1234567891011@ConfigurationProperties(prefix = "spring.thymeleaf")public class ThymeleafProperties &#123; private static final Charset DEFAULT_ENCODING = Charset.forName("UTF-8"); private static final MimeType DEFAULT_CONTENT_TYPE = MimeType.valueOf("text/html"); public static final String DEFAULT_PREFIX = "classpath:/templates/"; public static final String DEFAULT_SUFFIX = ".html"; // Âè™Ë¶ÅÊàë‰ª¨ÊääHTMLÈ°µÈù¢ÊîæÂú®classpath:/templates/ÔºåthymeleafÂ∞±ËÉΩËá™Âä®Ê∏≤ÊüìÔºõ ‰ΩøÁî®Ôºö 1„ÄÅÂØºÂÖ•thymeleafÁöÑÂêçÁß∞Á©∫Èó¥ 1&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt; 2„ÄÅ‰ΩøÁî®thymeleafËØ≠Ê≥ïÔºõ 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;ÊàêÂäüÔºÅ&lt;/h1&gt; &lt;!--th:text Â∞ÜdivÈáåÈù¢ÁöÑÊñáÊú¨ÂÜÖÂÆπËÆæÁΩÆ‰∏∫ --&gt; &lt;div th:text="$&#123;hello&#125;"&gt;ËøôÊòØÊòæÁ§∫Ê¨¢Ëøé‰ø°ÊÅØ&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3„ÄÅËØ≠Ê≥ïËßÑÂàô1Ôºâ„ÄÅth:textÔºõÊîπÂèòÂΩìÂâçÂÖÉÁ¥†ÈáåÈù¢ÁöÑÊñáÊú¨ÂÜÖÂÆπÔºõ ‚Äã thÔºö‰ªªÊÑèhtmlÂ±ûÊÄßÔºõÊù•ÊõøÊç¢ÂéüÁîüÂ±ûÊÄßÁöÑÂÄº 2Ôºâ„ÄÅË°®ËææÂºèÔºü 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869Simple expressions:ÔºàË°®ËææÂºèËØ≠Ê≥ïÔºâ Variable Expressions: $&#123;...&#125;ÔºöËé∑ÂèñÂèòÈáèÂÄºÔºõOGNLÔºõ 1Ôºâ„ÄÅËé∑ÂèñÂØπË±°ÁöÑÂ±ûÊÄß„ÄÅË∞ÉÁî®ÊñπÊ≥ï 2Ôºâ„ÄÅ‰ΩøÁî®ÂÜÖÁΩÆÁöÑÂü∫Êú¨ÂØπË±°Ôºö #ctx : the context object. #vars: the context variables. #locale : the context locale. #request : (only in Web Contexts) the HttpServletRequest object. #response : (only in Web Contexts) the HttpServletResponse object. #session : (only in Web Contexts) the HttpSession object. #servletContext : (only in Web Contexts) the ServletContext object. $&#123;session.foo&#125; 3Ôºâ„ÄÅÂÜÖÁΩÆÁöÑ‰∏Ä‰∫õÂ∑•ÂÖ∑ÂØπË±°Ôºö#execInfo : information about the template being processed.#messages : methods for obtaining externalized messages inside variables expressions, in the same way as they would be obtained using #&#123;‚Ä¶&#125; syntax.#uris : methods for escaping parts of URLs/URIs#conversions : methods for executing the configured conversion service (if any).#dates : methods for java.util.Date objects: formatting, component extraction, etc.#calendars : analogous to #dates , but for java.util.Calendar objects.#numbers : methods for formatting numeric objects.#strings : methods for String objects: contains, startsWith, prepending/appending, etc.#objects : methods for objects in general.#bools : methods for boolean evaluation.#arrays : methods for arrays.#lists : methods for lists.#sets : methods for sets.#maps : methods for maps.#aggregates : methods for creating aggregates on arrays or collections.#ids : methods for dealing with id attributes that might be repeated (for example, as a result of an iteration). Selection Variable Expressions: *&#123;...&#125;ÔºöÈÄâÊã©Ë°®ËææÂºèÔºöÂíå$&#123;&#125;Âú®ÂäüËÉΩ‰∏äÊòØ‰∏ÄÊ†∑Ôºõ Ë°•ÂÖÖÔºöÈÖçÂêà th:object=&quot;$&#123;session.user&#125;Ôºö &lt;div th:object=&quot;$&#123;session.user&#125;&quot;&gt; &lt;p&gt;Name: &lt;span th:text=&quot;*&#123;firstName&#125;&quot;&gt;Sebastian&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;Surname: &lt;span th:text=&quot;*&#123;lastName&#125;&quot;&gt;Pepper&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;Nationality: &lt;span th:text=&quot;*&#123;nationality&#125;&quot;&gt;Saturn&lt;/span&gt;.&lt;/p&gt; &lt;/div&gt; Message Expressions: #&#123;...&#125;ÔºöËé∑ÂèñÂõΩÈôÖÂåñÂÜÖÂÆπ Link URL Expressions: @&#123;...&#125;ÔºöÂÆö‰πâURLÔºõ @&#123;/order/process(execId=$&#123;execId&#125;,execType=&apos;FAST&apos;)&#125; Fragment Expressions: ~&#123;...&#125;ÔºöÁâáÊÆµÂºïÁî®Ë°®ËææÂºè &lt;div th:insert=&quot;~&#123;commons :: main&#125;&quot;&gt;...&lt;/div&gt; LiteralsÔºàÂ≠óÈù¢ÈáèÔºâ Text literals: &apos;one text&apos; , &apos;Another one!&apos; ,‚Ä¶ Number literals: 0 , 34 , 3.0 , 12.3 ,‚Ä¶ Boolean literals: true , false Null literal: null Literal tokens: one , sometext , main ,‚Ä¶Text operations:ÔºàÊñáÊú¨Êìç‰ΩúÔºâ String concatenation: + Literal substitutions: |The name is $&#123;name&#125;|Arithmetic operations:ÔºàÊï∞Â≠¶ËøêÁÆóÔºâ Binary operators: + , - , * , / , % Minus sign (unary operator): -Boolean operations:ÔºàÂ∏ÉÂ∞îËøêÁÆóÔºâ Binary operators: and , or Boolean negation (unary operator): ! , notComparisons and equality:ÔºàÊØîËæÉËøêÁÆóÔºâ Comparators: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le ) Equality operators: == , != ( eq , ne )Conditional operators:Êù°‰ª∂ËøêÁÆóÔºà‰∏âÂÖÉËøêÁÆóÁ¨¶Ôºâ If-then: (if) ? (then) If-then-else: (if) ? (then) : (else) Default: (value) ?: (defaultvalue)Special tokens: No-Operation: _ 4„ÄÅSpringMVCËá™Âä®ÈÖçÁΩÆhttps://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/reference/htmlsingle/#boot-features-developing-web-applications 1. Spring MVC auto-configurationSpring Boot Ëá™Âä®ÈÖçÁΩÆÂ•Ω‰∫ÜSpringMVC ‰ª•‰∏ãÊòØSpringBootÂØπSpringMVCÁöÑÈªòËÆ§ÈÖçÁΩÆ:==ÔºàWebMvcAutoConfigurationÔºâ== Inclusion of ContentNegotiatingViewResolver and BeanNameViewResolver beans. Ëá™Âä®ÈÖçÁΩÆ‰∫ÜViewResolverÔºàËßÜÂõæËß£ÊûêÂô®ÔºöÊ†πÊçÆÊñπÊ≥ïÁöÑËøîÂõûÂÄºÂæóÂà∞ËßÜÂõæÂØπË±°ÔºàViewÔºâÔºåËßÜÂõæÂØπË±°ÂÜ≥ÂÆöÂ¶Ç‰ΩïÊ∏≤ÊüìÔºàËΩ¨ÂèëÔºüÈáçÂÆöÂêëÔºüÔºâÔºâ ContentNegotiatingViewResolverÔºöÁªÑÂêàÊâÄÊúâÁöÑËßÜÂõæËß£ÊûêÂô®ÁöÑÔºõ ==Â¶Ç‰ΩïÂÆöÂà∂ÔºöÊàë‰ª¨ÂèØ‰ª•Ëá™Â∑±ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ËßÜÂõæËß£ÊûêÂô®ÔºõËá™Âä®ÁöÑÂ∞ÜÂÖ∂ÁªÑÂêàËøõÊù•Ôºõ== Support for serving static resources, including support for WebJars (see below).ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§πË∑ØÂæÑ,webjars Static index.html support. ÈùôÊÄÅÈ¶ñÈ°µËÆøÈóÆ Custom Favicon support (see below). favicon.ico Ëá™Âä®Ê≥®ÂÜå‰∫Ü of Converter, GenericConverter, Formatter beans. ConverterÔºöËΩ¨Êç¢Âô®Ôºõ public String hello(User user)ÔºöÁ±ªÂûãËΩ¨Êç¢‰ΩøÁî®Converter Formatter Ê†ºÂºèÂåñÂô®Ôºõ 2017.12.17===DateÔºõ 12345@Bean@ConditionalOnProperty(prefix = "spring.mvc", name = "date-format")//Âú®Êñá‰ª∂‰∏≠ÈÖçÁΩÆÊó•ÊúüÊ†ºÂºèÂåñÁöÑËßÑÂàôpublic Formatter&lt;Date&gt; dateFormatter() &#123; return new DateFormatter(this.mvcProperties.getDateFormat());//Êó•ÊúüÊ†ºÂºèÂåñÁªÑ‰ª∂&#125; ‚Äã ==Ëá™Â∑±Ê∑ªÂä†ÁöÑÊ†ºÂºèÂåñÂô®ËΩ¨Êç¢Âô®ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊîæÂú®ÂÆπÂô®‰∏≠Âç≥ÂèØ== Support for HttpMessageConverters (see below). HttpMessageConverterÔºöSpringMVCÁî®Êù•ËΩ¨Êç¢HttpËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÔºõUser‚ÄîJsonÔºõ HttpMessageConverters ÊòØ‰ªéÂÆπÂô®‰∏≠Á°ÆÂÆöÔºõËé∑ÂèñÊâÄÊúâÁöÑHttpMessageConverterÔºõ ==Ëá™Â∑±ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†HttpMessageConverterÔºåÂè™ÈúÄË¶ÅÂ∞ÜËá™Â∑±ÁöÑÁªÑ‰ª∂Ê≥®ÂÜåÂÆπÂô®‰∏≠Ôºà@Bean,@ComponentÔºâ== Automatic registration of MessageCodesResolver (see below).ÂÆö‰πâÈîôËØØ‰ª£Á†ÅÁîüÊàêËßÑÂàô Automatic use of a ConfigurableWebBindingInitializer bean (see below). ==Êàë‰ª¨ÂèØ‰ª•ÈÖçÁΩÆ‰∏Ä‰∏™ConfigurableWebBindingInitializerÊù•ÊõøÊç¢ÈªòËÆ§ÁöÑÔºõÔºàÊ∑ªÂä†Âà∞ÂÆπÂô®Ôºâ== 12ÂàùÂßãÂåñWebDataBinderÔºõËØ∑Ê±ÇÊï∞ÊçÆ=====JavaBeanÔºõ org.springframework.boot.autoconfigure.webÔºöwebÁöÑÊâÄÊúâËá™Âä®Âú∫ÊôØÔºõ If you want to keep Spring Boot MVC features, and you just want to add additional MVC configuration (interceptors, formatters, view controllers etc.) you can add your own @Configuration class of type WebMvcConfigurerAdapter, but without @EnableWebMvc. If you wish to provide custom instances of RequestMappingHandlerMapping, RequestMappingHandlerAdapter or ExceptionHandlerExceptionResolver you can declare a WebMvcRegistrationsAdapter instance providing such components. If you want to take complete control of Spring MVC, you can add your own @Configuration annotated with @EnableWebMvc. 2„ÄÅÊâ©Â±ïSpringMVC1234567&lt;mvc:view-controller path="/hello" view-name="success"/&gt;&lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/hello"/&gt; &lt;bean&gt;&lt;/bean&gt; &lt;/mvc:interceptor&gt;&lt;/mvc:interceptors&gt; ==ÁºñÂÜô‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºà@ConfigurationÔºâÔºåÊòØWebMvcConfigurerAdapterÁ±ªÂûãÔºõ‰∏çËÉΩÊ†áÊ≥®@EnableWebMvc==; Êó¢‰øùÁïô‰∫ÜÊâÄÊúâÁöÑËá™Âä®ÈÖçÁΩÆÔºå‰πüËÉΩÁî®Êàë‰ª¨Êâ©Â±ïÁöÑÈÖçÁΩÆÔºõ 1234567891011//‰ΩøÁî®WebMvcConfigurerAdapterÂèØ‰ª•Êù•Êâ©Â±ïSpringMVCÁöÑÂäüËÉΩ@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //ÊµèËßàÂô®ÂèëÈÄÅ /atguigu ËØ∑Ê±ÇÊù•Âà∞ success registry.addViewController("/atguigu").setViewName("success"); &#125;&#125; ÂéüÁêÜÔºö ‚Äã 1Ôºâ„ÄÅWebMvcAutoConfigurationÊòØSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆÁ±ª ‚Äã 2Ôºâ„ÄÅÂú®ÂÅöÂÖ∂‰ªñËá™Âä®ÈÖçÁΩÆÊó∂‰ºöÂØºÂÖ•Ôºõ@Import(EnableWebMvcConfiguration.class) 123456789101112131415161718 @Configurationpublic static class EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration &#123; private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite(); //‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÊâÄÊúâÁöÑWebMvcConfigurer @Autowired(required = false) public void setConfigurers(List&lt;WebMvcConfigurer&gt; configurers) &#123; if (!CollectionUtils.isEmpty(configurers)) &#123; this.configurers.addWebMvcConfigurers(configurers); //‰∏Ä‰∏™ÂèÇËÄÉÂÆûÁé∞ÔºõÂ∞ÜÊâÄÊúâÁöÑWebMvcConfigurerÁõ∏ÂÖ≥ÈÖçÁΩÆÈÉΩÊù•‰∏ÄËµ∑Ë∞ÉÁî®Ôºõ @Override // public void addViewControllers(ViewControllerRegistry registry) &#123; // for (WebMvcConfigurer delegate : this.delegates) &#123; // delegate.addViewControllers(registry); // &#125; &#125; &#125;&#125; ‚Äã 3Ôºâ„ÄÅÂÆπÂô®‰∏≠ÊâÄÊúâÁöÑWebMvcConfigurerÈÉΩ‰ºö‰∏ÄËµ∑Ëµ∑‰ΩúÁî®Ôºõ ‚Äã 4Ôºâ„ÄÅÊàë‰ª¨ÁöÑÈÖçÁΩÆÁ±ª‰πü‰ºöË¢´Ë∞ÉÁî®Ôºõ ‚Äã ÊïàÊûúÔºöSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆÂíåÊàë‰ª¨ÁöÑÊâ©Â±ïÈÖçÁΩÆÈÉΩ‰ºöËµ∑‰ΩúÁî®Ôºõ 3„ÄÅÂÖ®Èù¢Êé•ÁÆ°SpringMVCÔºõSpringBootÂØπSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆ‰∏çÈúÄË¶Å‰∫ÜÔºåÊâÄÊúâÈÉΩÊòØÊàë‰ª¨Ëá™Â∑±ÈÖçÁΩÆÔºõÊâÄÊúâÁöÑSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆÈÉΩÂ§±Êïà‰∫Ü Êàë‰ª¨ÈúÄË¶ÅÂú®ÈÖçÁΩÆÁ±ª‰∏≠Ê∑ªÂä†@EnableWebMvcÂç≥ÂèØÔºõ 123456789101112//‰ΩøÁî®WebMvcConfigurerAdapterÂèØ‰ª•Êù•Êâ©Â±ïSpringMVCÁöÑÂäüËÉΩ@EnableWebMvc@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //ÊµèËßàÂô®ÂèëÈÄÅ /atguigu ËØ∑Ê±ÇÊù•Âà∞ success registry.addViewController("/atguigu").setViewName("success"); &#125;&#125; ÂéüÁêÜÔºö ‰∏∫‰ªÄ‰πà@EnableWebMvcËá™Âä®ÈÖçÁΩÆÂ∞±Â§±Êïà‰∫ÜÔºõ 1Ôºâ@EnableWebMvcÁöÑÊ†∏ÂøÉ 12@Import(DelegatingWebMvcConfiguration.class)public @interface EnableWebMvc &#123; 2Ôºâ„ÄÅ 12@Configurationpublic class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport &#123; 3Ôºâ„ÄÅ 12345678910@Configuration@ConditionalOnWebApplication@ConditionalOnClass(&#123; Servlet.class, DispatcherServlet.class, WebMvcConfigurerAdapter.class &#125;)//ÂÆπÂô®‰∏≠Ê≤°ÊúâËøô‰∏™ÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºåËøô‰∏™Ëá™Âä®ÈÖçÁΩÆÁ±ªÊâçÁîüÊïà@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)@AutoConfigureAfter(&#123; DispatcherServletAutoConfiguration.class, ValidationAutoConfiguration.class &#125;)public class WebMvcAutoConfiguration &#123; 4Ôºâ„ÄÅ@EnableWebMvcÂ∞ÜWebMvcConfigurationSupportÁªÑ‰ª∂ÂØºÂÖ•ËøõÊù•Ôºõ 5Ôºâ„ÄÅÂØºÂÖ•ÁöÑWebMvcConfigurationSupportÂè™ÊòØSpringMVCÊúÄÂü∫Êú¨ÁöÑÂäüËÉΩÔºõ 5„ÄÅÂ¶Ç‰Ωï‰øÆÊîπSpringBootÁöÑÈªòËÆ§ÈÖçÁΩÆÊ®°ÂºèÔºö ‚Äã 1Ôºâ„ÄÅSpringBootÂú®Ëá™Âä®ÈÖçÁΩÆÂæàÂ§öÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºåÂÖàÁúãÂÆπÂô®‰∏≠ÊúâÊ≤°ÊúâÁî®Êà∑Ëá™Â∑±ÈÖçÁΩÆÁöÑÔºà@Bean„ÄÅ@ComponentÔºâÂ¶ÇÊûúÊúâÂ∞±Áî®Áî®Êà∑ÈÖçÁΩÆÁöÑÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÊâçËá™Âä®ÈÖçÁΩÆÔºõÂ¶ÇÊûúÊúâ‰∫õÁªÑ‰ª∂ÂèØ‰ª•ÊúâÂ§ö‰∏™ÔºàViewResolverÔºâÂ∞ÜÁî®Êà∑ÈÖçÁΩÆÁöÑÂíåËá™Â∑±ÈªòËÆ§ÁöÑÁªÑÂêàËµ∑Êù•Ôºõ ‚Äã 2Ôºâ„ÄÅÂú®SpringBoot‰∏≠‰ºöÊúâÈùûÂ∏∏Â§öÁöÑxxxConfigurerÂ∏ÆÂä©Êàë‰ª¨ËøõË°åÊâ©Â±ïÈÖçÁΩÆ ‚Äã 3Ôºâ„ÄÅÂú®SpringBoot‰∏≠‰ºöÊúâÂæàÂ§öÁöÑxxxCustomizerÂ∏ÆÂä©Êàë‰ª¨ËøõË°åÂÆöÂà∂ÈÖçÁΩÆ 6„ÄÅRestfulCRUD1Ôºâ„ÄÅÈªòËÆ§ËÆøÈóÆÈ¶ñÈ°µ1234567891011121314151617181920212223242526//‰ΩøÁî®WebMvcConfigurerAdapterÂèØ‰ª•Êù•Êâ©Â±ïSpringMVCÁöÑÂäüËÉΩ//@EnableWebMvc ‰∏çË¶ÅÊé•ÁÆ°SpringMVC@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //ÊµèËßàÂô®ÂèëÈÄÅ /atguigu ËØ∑Ê±ÇÊù•Âà∞ success registry.addViewController("/atguigu").setViewName("success"); &#125; //ÊâÄÊúâÁöÑWebMvcConfigurerAdapterÁªÑ‰ª∂ÈÉΩ‰ºö‰∏ÄËµ∑Ëµ∑‰ΩúÁî® @Bean //Â∞ÜÁªÑ‰ª∂Ê≥®ÂÜåÂú®ÂÆπÂô® public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController("/").setViewName("login"); registry.addViewController("/index.html").setViewName("login"); &#125; &#125;; return adapter; &#125;&#125; 2Ôºâ„ÄÅÂõΩÈôÖÂåñ1Ôºâ„ÄÅÁºñÂÜôÂõΩÈôÖÂåñÈÖçÁΩÆÊñá‰ª∂Ôºõ 2Ôºâ„ÄÅ‰ΩøÁî®ResourceBundleMessageSourceÁÆ°ÁêÜÂõΩÈôÖÂåñËµÑÊ∫êÊñá‰ª∂ 3Ôºâ„ÄÅÂú®È°µÈù¢‰ΩøÁî®fmt:messageÂèñÂá∫ÂõΩÈôÖÂåñÂÜÖÂÆπ Ê≠•È™§Ôºö 1Ôºâ„ÄÅÁºñÂÜôÂõΩÈôÖÂåñÈÖçÁΩÆÊñá‰ª∂ÔºåÊäΩÂèñÈ°µÈù¢ÈúÄË¶ÅÊòæÁ§∫ÁöÑÂõΩÈôÖÂåñÊ∂àÊÅØ 2Ôºâ„ÄÅSpringBootËá™Âä®ÈÖçÁΩÆÂ•Ω‰∫ÜÁÆ°ÁêÜÂõΩÈôÖÂåñËµÑÊ∫êÊñá‰ª∂ÁöÑÁªÑ‰ª∂Ôºõ 12345678910111213141516171819202122232425262728@ConfigurationProperties(prefix = "spring.messages")public class MessageSourceAutoConfiguration &#123; /** * Comma-separated list of basenames (essentially a fully-qualified classpath * location), each following the ResourceBundle convention with relaxed support for * slash based locations. If it doesn't contain a package qualifier (such as * "org.mypackage"), it will be resolved from the classpath root. */ private String basename = "messages"; //Êàë‰ª¨ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂèØ‰ª•Áõ¥Êé•ÊîæÂú®Á±ªË∑ØÂæÑ‰∏ãÂè´messages.propertiesÔºõ @Bean public MessageSource messageSource() &#123; ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource(); if (StringUtils.hasText(this.basename)) &#123; //ËÆæÁΩÆÂõΩÈôÖÂåñËµÑÊ∫êÊñá‰ª∂ÁöÑÂü∫Á°ÄÂêçÔºàÂéªÊéâËØ≠Ë®ÄÂõΩÂÆ∂‰ª£Á†ÅÁöÑÔºâ messageSource.setBasenames(StringUtils.commaDelimitedListToStringArray( StringUtils.trimAllWhitespace(this.basename))); &#125; if (this.encoding != null) &#123; messageSource.setDefaultEncoding(this.encoding.name()); &#125; messageSource.setFallbackToSystemLocale(this.fallbackToSystemLocale); messageSource.setCacheSeconds(this.cacheSeconds); messageSource.setAlwaysUseMessageFormat(this.alwaysUseMessageFormat); return messageSource; &#125; 3Ôºâ„ÄÅÂéªÈ°µÈù¢Ëé∑ÂèñÂõΩÈôÖÂåñÁöÑÂÄºÔºõ 123456789101112131415161718192021222324252627282930313233343536&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"&gt; &lt;meta name="description" content=""&gt; &lt;meta name="author" content=""&gt; &lt;title&gt;Signin Template for Bootstrap&lt;/title&gt; &lt;!-- Bootstrap core CSS --&gt; &lt;link href="asserts/css/bootstrap.min.css" th:href="@&#123;/webjars/bootstrap/4.0.0/css/bootstrap.css&#125;" rel="stylesheet"&gt; &lt;!-- Custom styles for this template --&gt; &lt;link href="asserts/css/signin.css" th:href="@&#123;/asserts/css/signin.css&#125;" rel="stylesheet"&gt; &lt;/head&gt; &lt;body class="text-center"&gt; &lt;form class="form-signin" action="dashboard.html"&gt; &lt;img class="mb-4" th:src="@&#123;/asserts/img/bootstrap-solid.svg&#125;" src="asserts/img/bootstrap-solid.svg" alt="" width="72" height="72"&gt; &lt;h1 class="h3 mb-3 font-weight-normal" th:text="#&#123;login.tip&#125;"&gt;Please sign in&lt;/h1&gt; &lt;label class="sr-only" th:text="#&#123;login.username&#125;"&gt;Username&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="Username" th:placeholder="#&#123;login.username&#125;" required="" autofocus=""&gt; &lt;label class="sr-only" th:text="#&#123;login.password&#125;"&gt;Password&lt;/label&gt; &lt;input type="password" class="form-control" placeholder="Password" th:placeholder="#&#123;login.password&#125;" required=""&gt; &lt;div class="checkbox mb-3"&gt; &lt;label&gt; &lt;input type="checkbox" value="remember-me"/&gt; [[#&#123;login.remember&#125;]] &lt;/label&gt; &lt;/div&gt; &lt;button class="btn btn-lg btn-primary btn-block" type="submit" th:text="#&#123;login.btn&#125;"&gt;Sign in&lt;/button&gt; &lt;p class="mt-5 mb-3 text-muted"&gt;¬© 2017-2018&lt;/p&gt; &lt;a class="btn btn-sm"&gt;‰∏≠Êñá&lt;/a&gt; &lt;a class="btn btn-sm"&gt;English&lt;/a&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; ÊïàÊûúÔºöÊ†πÊçÆÊµèËßàÂô®ËØ≠Ë®ÄËÆæÁΩÆÁöÑ‰ø°ÊÅØÂàáÊç¢‰∫ÜÂõΩÈôÖÂåñÔºõ ÂéüÁêÜÔºö ‚Äã ÂõΩÈôÖÂåñLocaleÔºàÂå∫Âüü‰ø°ÊÅØÂØπË±°ÔºâÔºõLocaleResolverÔºàËé∑ÂèñÂå∫Âüü‰ø°ÊÅØÂØπË±°ÔºâÔºõ 12345678910111213 @Bean @ConditionalOnMissingBean @ConditionalOnProperty(prefix = "spring.mvc", name = "locale") public LocaleResolver localeResolver() &#123; if (this.mvcProperties .getLocaleResolver() == WebMvcProperties.LocaleResolver.FIXED) &#123; return new FixedLocaleResolver(this.mvcProperties.getLocale()); &#125; AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver(); localeResolver.setDefaultLocale(this.mvcProperties.getLocale()); return localeResolver; &#125;ÈªòËÆ§ÁöÑÂ∞±ÊòØÊ†πÊçÆËØ∑Ê±ÇÂ§¥Â∏¶Êù•ÁöÑÂå∫Âüü‰ø°ÊÅØËé∑ÂèñLocaleËøõË°åÂõΩÈôÖÂåñ 4Ôºâ„ÄÅÁÇπÂáªÈìæÊé•ÂàáÊç¢ÂõΩÈôÖÂåñ 12345678910111213141516171819202122232425262728/** * ÂèØ‰ª•Âú®ËøûÊé•‰∏äÊê∫Â∏¶Âå∫Âüü‰ø°ÊÅØ */public class MyLocaleResolver implements LocaleResolver &#123; @Override public Locale resolveLocale(HttpServletRequest request) &#123; String l = request.getParameter("l"); Locale locale = Locale.getDefault(); if(!StringUtils.isEmpty(l))&#123; String[] split = l.split("_"); locale = new Locale(split[0],split[1]); &#125; return locale; &#125; @Override public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) &#123; &#125;&#125; @Bean public LocaleResolver localeResolver()&#123; return new MyLocaleResolver(); &#125;&#125; 3Ôºâ„ÄÅÁôªÈôÜÂºÄÂèëÊúüÈó¥Ê®°ÊùøÂºïÊìéÈ°µÈù¢‰øÆÊîπ‰ª•ÂêéÔºåË¶ÅÂÆûÊó∂ÁîüÊïà 1Ôºâ„ÄÅÁ¶ÅÁî®Ê®°ÊùøÂºïÊìéÁöÑÁºìÂ≠ò 12# Á¶ÅÁî®ÁºìÂ≠òspring.thymeleaf.cache=false 2Ôºâ„ÄÅÈ°µÈù¢‰øÆÊîπÂÆåÊàê‰ª•Âêéctrl+f9ÔºöÈáçÊñ∞ÁºñËØëÔºõ ÁôªÈôÜÈîôËØØÊ∂àÊÅØÁöÑÊòæÁ§∫ 1&lt;p style="color: red" th:text="$&#123;msg&#125;" th:if="$&#123;not #strings.isEmpty(msg)&#125;"&gt;&lt;/p&gt; 4Ôºâ„ÄÅÊã¶Êà™Âô®ËøõË°åÁôªÈôÜÊ£ÄÊü•Êã¶Êà™Âô® 12345678910111213141516171819202122232425262728293031/** * ÁôªÈôÜÊ£ÄÊü•Ôºå */public class LoginHandlerInterceptor implements HandlerInterceptor &#123; //ÁõÆÊ†áÊñπÊ≥ïÊâßË°å‰πãÂâç @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; Object user = request.getSession().getAttribute("loginUser"); if(user == null)&#123; //Êú™ÁôªÈôÜÔºåËøîÂõûÁôªÈôÜÈ°µÈù¢ request.setAttribute("msg","Ê≤°ÊúâÊùÉÈôêËØ∑ÂÖàÁôªÈôÜ"); request.getRequestDispatcher("/index.html").forward(request,response); return false; &#125;else&#123; //Â∑≤ÁôªÈôÜÔºåÊîæË°åËØ∑Ê±Ç return true; &#125; &#125; @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; &#125;&#125; Ê≥®ÂÜåÊã¶Êà™Âô® 1234567891011121314151617181920212223//ÊâÄÊúâÁöÑWebMvcConfigurerAdapterÁªÑ‰ª∂ÈÉΩ‰ºö‰∏ÄËµ∑Ëµ∑‰ΩúÁî® @Bean //Â∞ÜÁªÑ‰ª∂Ê≥®ÂÜåÂú®ÂÆπÂô® public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController("/").setViewName("login"); registry.addViewController("/index.html").setViewName("login"); registry.addViewController("/main.html").setViewName("dashboard"); &#125; //Ê≥®ÂÜåÊã¶Êà™Âô® @Override public void addInterceptors(InterceptorRegistry registry) &#123; //super.addInterceptors(registry); //ÈùôÊÄÅËµÑÊ∫êÔºõ *.css , *.js //SpringBootÂ∑≤ÁªèÂÅöÂ•Ω‰∫ÜÈùôÊÄÅËµÑÊ∫êÊò†Â∞Ñ registry.addInterceptor(new LoginHandlerInterceptor()).addPathPatterns("/**") .excludePathPatterns("/index.html","/","/user/login"); &#125; &#125;; return adapter; &#125; 5Ôºâ„ÄÅCRUD-ÂëòÂ∑•ÂàóË°®ÂÆûÈ™åË¶ÅÊ±ÇÔºö 1Ôºâ„ÄÅRestfulCRUDÔºöCRUDÊª°Ë∂≥RestÈ£éÊ†ºÔºõ URIÔºö /ËµÑÊ∫êÂêçÁß∞/ËµÑÊ∫êÊ†áËØÜ HTTPËØ∑Ê±ÇÊñπÂºèÂå∫ÂàÜÂØπËµÑÊ∫êCRUDÊìç‰Ωú ÊôÆÈÄöCRUDÔºàuriÊù•Âå∫ÂàÜÊìç‰ΩúÔºâ RestfulCRUD Êü•ËØ¢ getEmp emp‚ÄîGET Ê∑ªÂä† addEmp?xxx emp‚ÄîPOST ‰øÆÊîπ updateEmp?id=xxx&amp;xxx=xx emp/{id}‚ÄîPUT Âà†Èô§ deleteEmp?id=1 emp/{id}‚ÄîDELETE 2Ôºâ„ÄÅÂÆûÈ™åÁöÑËØ∑Ê±ÇÊû∂ÊûÑ; ÂÆûÈ™åÂäüËÉΩ ËØ∑Ê±ÇURI ËØ∑Ê±ÇÊñπÂºè Êü•ËØ¢ÊâÄÊúâÂëòÂ∑• emps GET Êü•ËØ¢Êüê‰∏™ÂëòÂ∑•(Êù•Âà∞‰øÆÊîπÈ°µÈù¢) emp/1 GET Êù•Âà∞Ê∑ªÂä†È°µÈù¢ emp GET Ê∑ªÂä†ÂëòÂ∑• emp POST Êù•Âà∞‰øÆÊîπÈ°µÈù¢ÔºàÊü•Âá∫ÂëòÂ∑•ËøõË°å‰ø°ÊÅØÂõûÊòæÔºâ emp/1 GET ‰øÆÊîπÂëòÂ∑• emp PUT Âà†Èô§ÂëòÂ∑• emp/1 DELETE 3Ôºâ„ÄÅÂëòÂ∑•ÂàóË°®Ôºö thymeleafÂÖ¨ÂÖ±È°µÈù¢ÂÖÉÁ¥†ÊäΩÂèñ12345678910111213141„ÄÅÊäΩÂèñÂÖ¨ÂÖ±ÁâáÊÆµ&lt;div th:fragment="copy"&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt;2„ÄÅÂºïÂÖ•ÂÖ¨ÂÖ±ÁâáÊÆµ&lt;div th:insert="~&#123;footer :: copy&#125;"&gt;&lt;/div&gt;~&#123;templatename::selector&#125;ÔºöÊ®°ÊùøÂêç::ÈÄâÊã©Âô®~&#123;templatename::fragmentname&#125;:Ê®°ÊùøÂêç::ÁâáÊÆµÂêç3„ÄÅÈªòËÆ§ÊïàÊûúÔºöinsertÁöÑÂÖ¨ÂÖ±ÁâáÊÆµÂú®divÊ†áÁ≠æ‰∏≠Â¶ÇÊûú‰ΩøÁî®th:insertÁ≠âÂ±ûÊÄßËøõË°åÂºïÂÖ•ÔºåÂèØ‰ª•‰∏çÁî®ÂÜô~&#123;&#125;ÔºöË°åÂÜÖÂÜôÊ≥ïÂèØ‰ª•Âä†‰∏äÔºö[[~&#123;&#125;]];[(~&#123;&#125;)]Ôºõ ‰∏âÁßçÂºïÂÖ•ÂÖ¨ÂÖ±ÁâáÊÆµÁöÑthÂ±ûÊÄßÔºö th:insertÔºöÂ∞ÜÂÖ¨ÂÖ±ÁâáÊÆµÊï¥‰∏™ÊèíÂÖ•Âà∞Â£∞ÊòéÂºïÂÖ•ÁöÑÂÖÉÁ¥†‰∏≠ th:replaceÔºöÂ∞ÜÂ£∞ÊòéÂºïÂÖ•ÁöÑÂÖÉÁ¥†ÊõøÊç¢‰∏∫ÂÖ¨ÂÖ±ÁâáÊÆµ th:includeÔºöÂ∞ÜË¢´ÂºïÂÖ•ÁöÑÁâáÊÆµÁöÑÂÜÖÂÆπÂåÖÂê´ËøõËøô‰∏™Ê†áÁ≠æ‰∏≠ 1234567891011121314151617181920212223&lt;footer th:fragment="copy"&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/footer&gt;ÂºïÂÖ•ÊñπÂºè&lt;div th:insert="footer :: copy"&gt;&lt;/div&gt;&lt;div th:replace="footer :: copy"&gt;&lt;/div&gt;&lt;div th:include="footer :: copy"&gt;&lt;/div&gt;ÊïàÊûú&lt;div&gt; &lt;footer&gt; &amp;copy; 2011 The Good Thymes Virtual Grocery &lt;/footer&gt;&lt;/div&gt;&lt;footer&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/footer&gt;&lt;div&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt; ÂºïÂÖ•ÁâáÊÆµÁöÑÊó∂ÂÄô‰º†ÂÖ•ÂèÇÊï∞Ôºö 123456789101112131415161718&lt;nav class="col-md-2 d-none d-md-block bg-light sidebar" id="sidebar"&gt; &lt;div class="sidebar-sticky"&gt; &lt;ul class="nav flex-column"&gt; &lt;li class="nav-item"&gt; &lt;a class="nav-link active" th:class="$&#123;activeUri=='main.html'?'nav-link active':'nav-link'&#125;" href="#" th:href="@&#123;/main.html&#125;"&gt; &lt;svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"&gt; &lt;path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"&gt;&lt;/path&gt; &lt;polyline points="9 22 9 12 15 12 15 22"&gt;&lt;/polyline&gt; &lt;/svg&gt; Dashboard &lt;span class="sr-only"&gt;(current)&lt;/span&gt; &lt;/a&gt; &lt;/li&gt;&lt;!--ÂºïÂÖ•‰æßËæπÊ†è;‰º†ÂÖ•ÂèÇÊï∞--&gt;&lt;div th:replace="commons/bar::#sidebar(activeUri='emps')"&gt;&lt;/div&gt; 6Ôºâ„ÄÅCRUD-ÂëòÂ∑•Ê∑ªÂä†Ê∑ªÂä†È°µÈù¢ 123456789101112131415161718192021222324252627282930313233343536&lt;form&gt; &lt;div class="form-group"&gt; &lt;label&gt;LastName&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="zhangsan"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input type="email" class="form-control" placeholder="zhangsan@atguigu.com"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Gender&lt;/label&gt;&lt;br/&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="1"&gt; &lt;label class="form-check-label"&gt;Áî∑&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="0"&gt; &lt;label class="form-check-label"&gt;Â•≥&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;department&lt;/label&gt; &lt;select class="form-control"&gt; &lt;option&gt;1&lt;/option&gt; &lt;option&gt;2&lt;/option&gt; &lt;option&gt;3&lt;/option&gt; &lt;option&gt;4&lt;/option&gt; &lt;option&gt;5&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Birth&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="zhangsan"&gt; &lt;/div&gt; &lt;button type="submit" class="btn btn-primary"&gt;Ê∑ªÂä†&lt;/button&gt;&lt;/form&gt; Êèê‰∫§ÁöÑÊï∞ÊçÆÊ†ºÂºè‰∏çÂØπÔºöÁîüÊó•ÔºöÊó•ÊúüÔºõ 2017-12-12Ôºõ2017/12/12Ôºõ2017.12.12Ôºõ Êó•ÊúüÁöÑÊ†ºÂºèÂåñÔºõSpringMVCÂ∞ÜÈ°µÈù¢Êèê‰∫§ÁöÑÂÄºÈúÄË¶ÅËΩ¨Êç¢‰∏∫ÊåáÂÆöÁöÑÁ±ªÂûã; 2017-12-12‚ÄîDateÔºõ Á±ªÂûãËΩ¨Êç¢ÔºåÊ†ºÂºèÂåñ; ÈªòËÆ§Êó•ÊúüÊòØÊåâÁÖß/ÁöÑÊñπÂºèÔºõ 7Ôºâ„ÄÅCRUD-ÂëòÂ∑•‰øÆÊîπ‰øÆÊîπÊ∑ªÂä†‰∫åÂêà‰∏ÄË°®Âçï 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!--ÈúÄË¶ÅÂå∫ÂàÜÊòØÂëòÂ∑•‰øÆÊîπËøòÊòØÊ∑ªÂä†Ôºõ--&gt;&lt;form th:action="@&#123;/emp&#125;" method="post"&gt; &lt;!--ÂèëÈÄÅputËØ∑Ê±Ç‰øÆÊîπÂëòÂ∑•Êï∞ÊçÆ--&gt; &lt;!--1„ÄÅSpringMVC‰∏≠ÈÖçÁΩÆHiddenHttpMethodFilter;ÔºàSpringBootËá™Âä®ÈÖçÁΩÆÂ•ΩÁöÑÔºâ2„ÄÅÈ°µÈù¢ÂàõÂª∫‰∏Ä‰∏™postË°®Âçï3„ÄÅÂàõÂª∫‰∏Ä‰∏™inputÈ°πÔºåname="_method";ÂÄºÂ∞±ÊòØÊàë‰ª¨ÊåáÂÆöÁöÑËØ∑Ê±ÇÊñπÂºè--&gt; &lt;input type="hidden" name="_method" value="put" th:if="$&#123;emp!=null&#125;"/&gt; &lt;input type="hidden" name="id" th:if="$&#123;emp!=null&#125;" th:value="$&#123;emp.id&#125;"&gt; &lt;div class="form-group"&gt; &lt;label&gt;LastName&lt;/label&gt; &lt;input name="lastName" type="text" class="form-control" placeholder="zhangsan" th:value="$&#123;emp!=null&#125;?$&#123;emp.lastName&#125;"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input name="email" type="email" class="form-control" placeholder="zhangsan@atguigu.com" th:value="$&#123;emp!=null&#125;?$&#123;emp.email&#125;"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Gender&lt;/label&gt;&lt;br/&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="1" th:checked="$&#123;emp!=null&#125;?$&#123;emp.gender==1&#125;"&gt; &lt;label class="form-check-label"&gt;Áî∑&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="0" th:checked="$&#123;emp!=null&#125;?$&#123;emp.gender==0&#125;"&gt; &lt;label class="form-check-label"&gt;Â•≥&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;department&lt;/label&gt; &lt;!--Êèê‰∫§ÁöÑÊòØÈÉ®Èó®ÁöÑid--&gt; &lt;select class="form-control" name="department.id"&gt; &lt;option th:selected="$&#123;emp!=null&#125;?$&#123;dept.id == emp.department.id&#125;" th:value="$&#123;dept.id&#125;" th:each="dept:$&#123;depts&#125;" th:text="$&#123;dept.departmentName&#125;"&gt;1&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Birth&lt;/label&gt; &lt;input name="birth" type="text" class="form-control" placeholder="zhangsan" th:value="$&#123;emp!=null&#125;?$&#123;#dates.format(emp.birth, 'yyyy-MM-dd HH:mm')&#125;"&gt; &lt;/div&gt; &lt;button type="submit" class="btn btn-primary" th:text="$&#123;emp!=null&#125;?'‰øÆÊîπ':'Ê∑ªÂä†'"&gt;Ê∑ªÂä†&lt;/button&gt;&lt;/form&gt; 8Ôºâ„ÄÅCRUD-ÂëòÂ∑•Âà†Èô§123456789101112131415161718192021&lt;tr th:each="emp:$&#123;emps&#125;"&gt; &lt;td th:text="$&#123;emp.id&#125;"&gt;&lt;/td&gt; &lt;td&gt;[[$&#123;emp.lastName&#125;]]&lt;/td&gt; &lt;td th:text="$&#123;emp.email&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;emp.gender&#125;==0?'Â•≥':'Áî∑'"&gt;&lt;/td&gt; &lt;td th:text="$&#123;emp.department.departmentName&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;#dates.format(emp.birth, 'yyyy-MM-dd HH:mm')&#125;"&gt;&lt;/td&gt; &lt;td&gt; &lt;a class="btn btn-sm btn-primary" th:href="@&#123;/emp/&#125;+$&#123;emp.id&#125;"&gt;ÁºñËæë&lt;/a&gt; &lt;button th:attr="del_uri=@&#123;/emp/&#125;+$&#123;emp.id&#125;" class="btn btn-sm btn-danger deleteBtn"&gt;Âà†Èô§&lt;/button&gt; &lt;/td&gt;&lt;/tr&gt;&lt;script&gt; $(".deleteBtn").click(function()&#123; //Âà†Èô§ÂΩìÂâçÂëòÂ∑•ÁöÑ $("#deleteEmpForm").attr("action",$(this).attr("del_uri")).submit(); return false; &#125;);&lt;/script&gt; 7„ÄÅÈîôËØØÂ§ÑÁêÜÊú∫Âà∂1Ôºâ„ÄÅSpringBootÈªòËÆ§ÁöÑÈîôËØØÂ§ÑÁêÜÊú∫Âà∂ÈªòËÆ§ÊïàÊûúÔºö ‚Äã 1Ôºâ„ÄÅÊµèËßàÂô®ÔºåËøîÂõû‰∏Ä‰∏™ÈªòËÆ§ÁöÑÈîôËØØÈ°µÈù¢ ÊµèËßàÂô®ÂèëÈÄÅËØ∑Ê±ÇÁöÑËØ∑Ê±ÇÂ§¥Ôºö ‚Äã 2Ôºâ„ÄÅÂ¶ÇÊûúÊòØÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÔºåÈªòËÆ§ÂìçÂ∫î‰∏Ä‰∏™jsonÊï∞ÊçÆ ‚Äã ÂéüÁêÜÔºö ‚Äã ÂèØ‰ª•ÂèÇÁÖßErrorMvcAutoConfigurationÔºõÈîôËØØÂ§ÑÁêÜÁöÑËá™Âä®ÈÖçÁΩÆÔºõ ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∫Ü‰ª•‰∏ãÁªÑ‰ª∂ ‚Äã 1„ÄÅDefaultErrorAttributesÔºö 1234567891011Â∏ÆÊàë‰ª¨Âú®È°µÈù¢ÂÖ±‰∫´‰ø°ÊÅØÔºõ@Override public Map&lt;String, Object&gt; getErrorAttributes(RequestAttributes requestAttributes, boolean includeStackTrace) &#123; Map&lt;String, Object&gt; errorAttributes = new LinkedHashMap&lt;String, Object&gt;(); errorAttributes.put("timestamp", new Date()); addStatus(errorAttributes, requestAttributes); addErrorDetails(errorAttributes, requestAttributes, includeStackTrace); addPath(errorAttributes, requestAttributes); return errorAttributes; &#125; ‚Äã 2„ÄÅBasicErrorControllerÔºöÂ§ÑÁêÜÈªòËÆ§/errorËØ∑Ê±Ç 12345678910111213141516171819202122232425@Controller@RequestMapping("$&#123;server.error.path:$&#123;error.path:/error&#125;&#125;")public class BasicErrorController extends AbstractErrorController &#123; @RequestMapping(produces = "text/html")//‰∫ßÁîühtmlÁ±ªÂûãÁöÑÊï∞ÊçÆÔºõÊµèËßàÂô®ÂèëÈÄÅÁöÑËØ∑Ê±ÇÊù•Âà∞Ëøô‰∏™ÊñπÊ≥ïÂ§ÑÁêÜ public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) &#123; HttpStatus status = getStatus(request); Map&lt;String, Object&gt; model = Collections.unmodifiableMap(getErrorAttributes( request, isIncludeStackTrace(request, MediaType.TEXT_HTML))); response.setStatus(status.value()); //ÂéªÂì™‰∏™È°µÈù¢‰Ωú‰∏∫ÈîôËØØÈ°µÈù¢ÔºõÂåÖÂê´È°µÈù¢Âú∞ÂùÄÂíåÈ°µÈù¢ÂÜÖÂÆπ ModelAndView modelAndView = resolveErrorView(request, response, status, model); return (modelAndView == null ? new ModelAndView("error", model) : modelAndView); &#125; @RequestMapping @ResponseBody //‰∫ßÁîüjsonÊï∞ÊçÆÔºåÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÊù•Âà∞Ëøô‰∏™ÊñπÊ≥ïÂ§ÑÁêÜÔºõ public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) &#123; Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request, MediaType.ALL)); HttpStatus status = getStatus(request); return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(body, status); &#125; ‚Äã 3„ÄÅErrorPageCustomizerÔºö 12@Value("$&#123;error.path:/error&#125;")private String path = "/error"; Á≥ªÁªüÂá∫Áé∞ÈîôËØØ‰ª•ÂêéÊù•Âà∞errorËØ∑Ê±ÇËøõË°åÂ§ÑÁêÜÔºõÔºàweb.xmlÊ≥®ÂÜåÁöÑÈîôËØØÈ°µÈù¢ËßÑÂàôÔºâ ‚Äã 4„ÄÅDefaultErrorViewResolverÔºö 123456789101112131415161718192021222324@Override public ModelAndView resolveErrorView(HttpServletRequest request, HttpStatus status, Map&lt;String, Object&gt; model) &#123; ModelAndView modelAndView = resolve(String.valueOf(status), model); if (modelAndView == null &amp;&amp; SERIES_VIEWS.containsKey(status.series())) &#123; modelAndView = resolve(SERIES_VIEWS.get(status.series()), model); &#125; return modelAndView; &#125; private ModelAndView resolve(String viewName, Map&lt;String, Object&gt; model) &#123; //ÈªòËÆ§SpringBootÂèØ‰ª•ÂéªÊâæÂà∞‰∏Ä‰∏™È°µÈù¢Ôºü error/404 String errorViewName = "error/" + viewName; //Ê®°ÊùøÂºïÊìéÂèØ‰ª•Ëß£ÊûêËøô‰∏™È°µÈù¢Âú∞ÂùÄÂ∞±Áî®Ê®°ÊùøÂºïÊìéËß£Êûê TemplateAvailabilityProvider provider = this.templateAvailabilityProviders .getProvider(errorViewName, this.applicationContext); if (provider != null) &#123; //Ê®°ÊùøÂºïÊìéÂèØÁî®ÁöÑÊÉÖÂÜµ‰∏ãËøîÂõûÂà∞errorViewNameÊåáÂÆöÁöÑËßÜÂõæÂú∞ÂùÄ return new ModelAndView(errorViewName, model); &#125; //Ê®°ÊùøÂºïÊìé‰∏çÂèØÁî®ÔºåÂ∞±Âú®ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§π‰∏ãÊâæerrorViewNameÂØπÂ∫îÁöÑÈ°µÈù¢ error/404.html return resolveResource(errorViewName, model); &#125; ‚Äã Ê≠•È™§Ôºö ‚Äã ‰∏Ä‰ΩÜÁ≥ªÁªüÂá∫Áé∞4xxÊàñËÄÖ5xx‰πãÁ±ªÁöÑÈîôËØØÔºõErrorPageCustomizerÂ∞±‰ºöÁîüÊïàÔºàÂÆöÂà∂ÈîôËØØÁöÑÂìçÂ∫îËßÑÂàôÔºâÔºõÂ∞±‰ºöÊù•Âà∞/errorËØ∑Ê±ÇÔºõÂ∞±‰ºöË¢´BasicErrorControllerÂ§ÑÁêÜÔºõ ‚Äã 1ÔºâÂìçÂ∫îÈ°µÈù¢ÔºõÂéªÂì™‰∏™È°µÈù¢ÊòØÁî±DefaultErrorViewResolverËß£ÊûêÂæóÂà∞ÁöÑÔºõ 1234567891011protected ModelAndView resolveErrorView(HttpServletRequest request, HttpServletResponse response, HttpStatus status, Map&lt;String, Object&gt; model) &#123; //ÊâÄÊúâÁöÑErrorViewResolverÂæóÂà∞ModelAndView for (ErrorViewResolver resolver : this.errorViewResolvers) &#123; ModelAndView modelAndView = resolver.resolveErrorView(request, status, model); if (modelAndView != null) &#123; return modelAndView; &#125; &#125; return null;&#125; 2Ôºâ„ÄÅÂ¶ÇÊûúÂÆöÂà∂ÈîôËØØÂìçÂ∫îÔºö1Ôºâ„ÄÅÂ¶Ç‰ΩïÂÆöÂà∂ÈîôËØØÁöÑÈ°µÈù¢Ôºõ‚Äã 1Ôºâ„ÄÅÊúâÊ®°ÊùøÂºïÊìéÁöÑÊÉÖÂÜµ‰∏ãÔºõerror/Áä∂ÊÄÅÁ†Å; „ÄêÂ∞ÜÈîôËØØÈ°µÈù¢ÂëΩÂêç‰∏∫ ÈîôËØØÁä∂ÊÄÅÁ†Å.html ÊîæÂú®Ê®°ÊùøÂºïÊìéÊñá‰ª∂Â§πÈáåÈù¢ÁöÑ errorÊñá‰ª∂Â§π‰∏ã„ÄëÔºåÂèëÁîüÊ≠§Áä∂ÊÄÅÁ†ÅÁöÑÈîôËØØÂ∞±‰ºöÊù•Âà∞ ÂØπÂ∫îÁöÑÈ°µÈù¢Ôºõ ‚Äã Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®4xxÂíå5xx‰Ωú‰∏∫ÈîôËØØÈ°µÈù¢ÁöÑÊñá‰ª∂ÂêçÊù•ÂåπÈÖçËøôÁßçÁ±ªÂûãÁöÑÊâÄÊúâÈîôËØØÔºåÁ≤æÁ°Æ‰ºòÂÖàÔºà‰ºòÂÖàÂØªÊâæÁ≤æÁ°ÆÁöÑÁä∂ÊÄÅÁ†Å.htmlÔºâÔºõ ‚Äã È°µÈù¢ËÉΩËé∑ÂèñÁöÑ‰ø°ÊÅØÔºõ ‚Äã timestampÔºöÊó∂Èó¥Êà≥ ‚Äã statusÔºöÁä∂ÊÄÅÁ†Å ‚Äã errorÔºöÈîôËØØÊèêÁ§∫ ‚Äã exceptionÔºöÂºÇÂ∏∏ÂØπË±° ‚Äã messageÔºöÂºÇÂ∏∏Ê∂àÊÅØ ‚Äã errorsÔºöJSR303Êï∞ÊçÆÊ†°È™åÁöÑÈîôËØØÈÉΩÂú®ËøôÈáå ‚Äã 2Ôºâ„ÄÅÊ≤°ÊúâÊ®°ÊùøÂºïÊìéÔºàÊ®°ÊùøÂºïÊìéÊâæ‰∏çÂà∞Ëøô‰∏™ÈîôËØØÈ°µÈù¢ÔºâÔºåÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§π‰∏ãÊâæÔºõ ‚Äã 3Ôºâ„ÄÅ‰ª•‰∏äÈÉΩÊ≤°ÊúâÈîôËØØÈ°µÈù¢ÔºåÂ∞±ÊòØÈªòËÆ§Êù•Âà∞SpringBootÈªòËÆ§ÁöÑÈîôËØØÊèêÁ§∫È°µÈù¢Ôºõ 2Ôºâ„ÄÅÂ¶Ç‰ΩïÂÆöÂà∂ÈîôËØØÁöÑjsonÊï∞ÊçÆÔºõ‚Äã 1Ôºâ„ÄÅËá™ÂÆö‰πâÂºÇÂ∏∏Â§ÑÁêÜ&amp;ËøîÂõûÂÆöÂà∂jsonÊï∞ÊçÆÔºõ 12345678910111213@ControllerAdvicepublic class MyExceptionHandler &#123; @ResponseBody @ExceptionHandler(UserNotExistException.class) public Map&lt;String,Object&gt; handleException(Exception e)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put("code","user.notexist"); map.put("message",e.getMessage()); return map; &#125;&#125;//Ê≤°ÊúâËá™ÈÄÇÂ∫îÊïàÊûú... ‚Äã 2Ôºâ„ÄÅËΩ¨ÂèëÂà∞/errorËøõË°åËá™ÈÄÇÂ∫îÂìçÂ∫îÊïàÊûúÂ§ÑÁêÜ 1234567891011121314@ExceptionHandler(UserNotExistException.class) public String handleException(Exception e, HttpServletRequest request)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); //‰º†ÂÖ•Êàë‰ª¨Ëá™Â∑±ÁöÑÈîôËØØÁä∂ÊÄÅÁ†Å 4xx 5xxÔºåÂê¶ÂàôÂ∞±‰∏ç‰ºöËøõÂÖ•ÂÆöÂà∂ÈîôËØØÈ°µÈù¢ÁöÑËß£ÊûêÊµÅÁ®ã /** * Integer statusCode = (Integer) request .getAttribute("javax.servlet.error.status_code"); */ request.setAttribute("javax.servlet.error.status_code",500); map.put("code","user.notexist"); map.put("message",e.getMessage()); //ËΩ¨ÂèëÂà∞/error return "forward:/error"; &#125; 3Ôºâ„ÄÅÂ∞ÜÊàë‰ª¨ÁöÑÂÆöÂà∂Êï∞ÊçÆÊê∫Â∏¶Âá∫ÂéªÔºõÂá∫Áé∞ÈîôËØØ‰ª•ÂêéÔºå‰ºöÊù•Âà∞/errorËØ∑Ê±ÇÔºå‰ºöË¢´BasicErrorControllerÂ§ÑÁêÜÔºåÂìçÂ∫îÂá∫ÂéªÂèØ‰ª•Ëé∑ÂèñÁöÑÊï∞ÊçÆÊòØÁî±getErrorAttributesÂæóÂà∞ÁöÑÔºàÊòØAbstractErrorControllerÔºàErrorControllerÔºâËßÑÂÆöÁöÑÊñπÊ≥ïÔºâÔºõ ‚Äã 1„ÄÅÂÆåÂÖ®Êù•ÁºñÂÜô‰∏Ä‰∏™ErrorControllerÁöÑÂÆûÁé∞Á±ª„ÄêÊàñËÄÖÊòØÁºñÂÜôAbstractErrorControllerÁöÑÂ≠êÁ±ª„ÄëÔºåÊîæÂú®ÂÆπÂô®‰∏≠Ôºõ ‚Äã 2„ÄÅÈ°µÈù¢‰∏äËÉΩÁî®ÁöÑÊï∞ÊçÆÔºåÊàñËÄÖÊòØjsonËøîÂõûËÉΩÁî®ÁöÑÊï∞ÊçÆÈÉΩÊòØÈÄöËøáerrorAttributes.getErrorAttributesÂæóÂà∞Ôºõ ‚Äã ÂÆπÂô®‰∏≠DefaultErrorAttributes.getErrorAttributes()ÔºõÈªòËÆ§ËøõË°åÊï∞ÊçÆÂ§ÑÁêÜÁöÑÔºõ Ëá™ÂÆö‰πâErrorAttributes 1234567891011//ÁªôÂÆπÂô®‰∏≠Âä†ÂÖ•Êàë‰ª¨Ëá™Â∑±ÂÆö‰πâÁöÑErrorAttributes@Componentpublic class MyErrorAttributes extends DefaultErrorAttributes &#123; @Override public Map&lt;String, Object&gt; getErrorAttributes(RequestAttributes requestAttributes, boolean includeStackTrace) &#123; Map&lt;String, Object&gt; map = super.getErrorAttributes(requestAttributes, includeStackTrace); map.put("company","atguigu"); return map; &#125;&#125; ÊúÄÁªàÁöÑÊïàÊûúÔºöÂìçÂ∫îÊòØËá™ÈÄÇÂ∫îÁöÑÔºåÂèØ‰ª•ÈÄöËøáÂÆöÂà∂ErrorAttributesÊîπÂèòÈúÄË¶ÅËøîÂõûÁöÑÂÜÖÂÆπÔºå 8„ÄÅÈÖçÁΩÆÂµåÂÖ•ÂºèServletÂÆπÂô®SpringBootÈªòËÆ§‰ΩøÁî®Tomcat‰Ωú‰∏∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ôºõ ÈóÆÈ¢òÔºü 1Ôºâ„ÄÅÂ¶Ç‰ΩïÂÆöÂà∂Âíå‰øÆÊîπServletÂÆπÂô®ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÔºõ1„ÄÅ‰øÆÊîπÂíåserverÊúâÂÖ≥ÁöÑÈÖçÁΩÆÔºàServerProperties„Äê‰πüÊòØEmbeddedServletContainerCustomizer„ÄëÔºâÔºõ 123456789server.port=8081server.context-path=/crudserver.tomcat.uri-encoding=UTF-8//ÈÄöÁî®ÁöÑServletÂÆπÂô®ËÆæÁΩÆserver.xxx//TomcatÁöÑËÆæÁΩÆserver.tomcat.xxx 2„ÄÅÁºñÂÜô‰∏Ä‰∏™EmbeddedServletContainerCustomizerÔºöÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®ÁöÑÂÆöÂà∂Âô®ÔºõÊù•‰øÆÊîπServletÂÆπÂô®ÁöÑÈÖçÁΩÆ 1234567891011@Bean //‰∏ÄÂÆöË¶ÅÂ∞ÜËøô‰∏™ÂÆöÂà∂Âô®Âä†ÂÖ•Âà∞ÂÆπÂô®‰∏≠public EmbeddedServletContainerCustomizer embeddedServletContainerCustomizer()&#123; return new EmbeddedServletContainerCustomizer() &#123; //ÂÆöÂà∂ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Áõ∏ÂÖ≥ÁöÑËßÑÂàô @Override public void customize(ConfigurableEmbeddedServletContainer container) &#123; container.setPort(8083); &#125; &#125;;&#125; 2Ôºâ„ÄÅÊ≥®ÂÜåServlet‰∏âÂ§ßÁªÑ‰ª∂„ÄêServlet„ÄÅFilter„ÄÅListener„ÄëÁî±‰∫éSpringBootÈªòËÆ§ÊòØ‰ª•jarÂåÖÁöÑÊñπÂºèÂêØÂä®ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Êù•ÂêØÂä®SpringBootÁöÑwebÂ∫îÁî®ÔºåÊ≤°Êúâweb.xmlÊñá‰ª∂„ÄÇ Ê≥®ÂÜå‰∏âÂ§ßÁªÑ‰ª∂Áî®‰ª•‰∏ãÊñπÂºè ServletRegistrationBean 123456//Ê≥®ÂÜå‰∏âÂ§ßÁªÑ‰ª∂@Beanpublic ServletRegistrationBean myServlet()&#123; ServletRegistrationBean registrationBean = new ServletRegistrationBean(new MyServlet(),"/myServlet"); return registrationBean;&#125; FilterRegistrationBean 1234567@Beanpublic FilterRegistrationBean myFilter()&#123; FilterRegistrationBean registrationBean = new FilterRegistrationBean(); registrationBean.setFilter(new MyFilter()); registrationBean.setUrlPatterns(Arrays.asList("/hello","/myServlet")); return registrationBean;&#125; ServletListenerRegistrationBean 12345@Beanpublic ServletListenerRegistrationBean myListener()&#123; ServletListenerRegistrationBean&lt;MyListener&gt; registrationBean = new ServletListenerRegistrationBean&lt;&gt;(new MyListener()); return registrationBean;&#125; SpringBootÂ∏ÆÊàë‰ª¨Ëá™Âä®SpringMVCÁöÑÊó∂ÂÄôÔºåËá™Âä®ÁöÑÊ≥®ÂÜåSpringMVCÁöÑÂâçÁ´ØÊéßÂà∂Âô®ÔºõDIspatcherServletÔºõ DispatcherServletAutoConfiguration‰∏≠Ôºö 1234567891011121314151617@Bean(name = DEFAULT_DISPATCHER_SERVLET_REGISTRATION_BEAN_NAME)@ConditionalOnBean(value = DispatcherServlet.class, name = DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)public ServletRegistrationBean dispatcherServletRegistration( DispatcherServlet dispatcherServlet) &#123; ServletRegistrationBean registration = new ServletRegistrationBean( dispatcherServlet, this.serverProperties.getServletMapping()); //ÈªòËÆ§Êã¶Êà™Ôºö / ÊâÄÊúâËØ∑Ê±ÇÔºõÂåÖÈùôÊÄÅËµÑÊ∫êÔºå‰ΩÜÊòØ‰∏çÊã¶Êà™jspËØ∑Ê±ÇÔºõ /*‰ºöÊã¶Êà™jsp //ÂèØ‰ª•ÈÄöËøáserver.servletPathÊù•‰øÆÊîπSpringMVCÂâçÁ´ØÊéßÂà∂Âô®ÈªòËÆ§Êã¶Êà™ÁöÑËØ∑Ê±ÇË∑ØÂæÑ registration.setName(DEFAULT_DISPATCHER_SERVLET_BEAN_NAME); registration.setLoadOnStartup( this.webMvcProperties.getServlet().getLoadOnStartup()); if (this.multipartConfig != null) &#123; registration.setMultipartConfig(this.multipartConfig); &#125; return registration;&#125; 2Ôºâ„ÄÅSpringBootËÉΩ‰∏çËÉΩÊîØÊåÅÂÖ∂‰ªñÁöÑServletÂÆπÂô®Ôºõ 3Ôºâ„ÄÅÊõøÊç¢‰∏∫ÂÖ∂‰ªñÂµåÂÖ•ÂºèServletÂÆπÂô® ÈªòËÆ§ÊîØÊåÅÔºö TomcatÔºàÈªòËÆ§‰ΩøÁî®Ôºâ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; ÂºïÂÖ•webÊ®°ÂùóÈªòËÆ§Â∞±ÊòØ‰ΩøÁî®ÂµåÂÖ•ÂºèÁöÑTomcat‰Ωú‰∏∫ServletÂÆπÂô®Ôºõ&lt;/dependency&gt; Jetty 1234567891011121314151617&lt;!-- ÂºïÂÖ•webÊ®°Âùó --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--ÂºïÂÖ•ÂÖ∂‰ªñÁöÑServletÂÆπÂô®--&gt;&lt;dependency&gt; &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt; Undertow 1234567891011121314151617&lt;!-- ÂºïÂÖ•webÊ®°Âùó --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--ÂºïÂÖ•ÂÖ∂‰ªñÁöÑServletÂÆπÂô®--&gt;&lt;dependency&gt; &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt; 4Ôºâ„ÄÅÂµåÂÖ•ÂºèServletÂÆπÂô®Ëá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºõEmbeddedServletContainerAutoConfigurationÔºöÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ëá™Âä®ÈÖçÁΩÆÔºü 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)@Configuration@ConditionalOnWebApplication@Import(BeanPostProcessorsRegistrar.class)//ÂØºÂÖ•BeanPostProcessorsRegistrarÔºöSpringÊ≥®Ëß£ÁâàÔºõÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•‰∏Ä‰∫õÁªÑ‰ª∂//ÂØºÂÖ•‰∫ÜEmbeddedServletContainerCustomizerBeanPostProcessorÔºö//ÂêéÁΩÆÂ§ÑÁêÜÂô®ÔºöbeanÂàùÂßãÂåñÂâçÂêéÔºàÂàõÂª∫ÂÆåÂØπË±°ÔºåËøòÊ≤°ËµãÂÄºËµãÂÄºÔºâÊâßË°åÂàùÂßãÂåñÂ∑•‰Ωúpublic class EmbeddedServletContainerAutoConfiguration &#123; @Configuration @ConditionalOnClass(&#123; Servlet.class, Tomcat.class &#125;)//Âà§Êñ≠ÂΩìÂâçÊòØÂê¶ÂºïÂÖ•‰∫ÜTomcat‰æùËµñÔºõ @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT)//Âà§Êñ≠ÂΩìÂâçÂÆπÂô®Ê≤°ÊúâÁî®Êà∑Ëá™Â∑±ÂÆö‰πâEmbeddedServletContainerFactoryÔºöÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºõ‰ΩúÁî®ÔºöÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô® public static class EmbeddedTomcat &#123; @Bean public TomcatEmbeddedServletContainerFactory tomcatEmbeddedServletContainerFactory() &#123; return new TomcatEmbeddedServletContainerFactory(); &#125; &#125; /** * Nested configuration if Jetty is being used. */ @Configuration @ConditionalOnClass(&#123; Servlet.class, Server.class, Loader.class, WebAppContext.class &#125;) @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT) public static class EmbeddedJetty &#123; @Bean public JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() &#123; return new JettyEmbeddedServletContainerFactory(); &#125; &#125; /** * Nested configuration if Undertow is being used. */ @Configuration @ConditionalOnClass(&#123; Servlet.class, Undertow.class, SslClientAuthMode.class &#125;) @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT) public static class EmbeddedUndertow &#123; @Bean public UndertowEmbeddedServletContainerFactory undertowEmbeddedServletContainerFactory() &#123; return new UndertowEmbeddedServletContainerFactory(); &#125; &#125; 1Ôºâ„ÄÅEmbeddedServletContainerFactoryÔºàÂµåÂÖ•ÂºèServletÂÆπÂô®Â∑•ÂéÇÔºâ 1234567public interface EmbeddedServletContainerFactory &#123; //Ëé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô® EmbeddedServletContainer getEmbeddedServletContainer( ServletContextInitializer... initializers);&#125; 2Ôºâ„ÄÅEmbeddedServletContainerÔºöÔºàÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ôºâ 3Ôºâ„ÄÅ‰ª•TomcatEmbeddedServletContainerFactory‰∏∫‰æã 123456789101112131415161718192021222324@Overridepublic EmbeddedServletContainer getEmbeddedServletContainer( ServletContextInitializer... initializers) &#123; //ÂàõÂª∫‰∏Ä‰∏™Tomcat Tomcat tomcat = new Tomcat(); //ÈÖçÁΩÆTomcatÁöÑÂü∫Êú¨ÁéØËäÇ File baseDir = (this.baseDirectory != null ? this.baseDirectory : createTempDir("tomcat")); tomcat.setBaseDir(baseDir.getAbsolutePath()); Connector connector = new Connector(this.protocol); tomcat.getService().addConnector(connector); customizeConnector(connector); tomcat.setConnector(connector); tomcat.getHost().setAutoDeploy(false); configureEngine(tomcat.getEngine()); for (Connector additionalConnector : this.additionalTomcatConnectors) &#123; tomcat.getService().addConnector(additionalConnector); &#125; prepareContext(tomcat.getHost(), initializers); //Â∞ÜÈÖçÁΩÆÂ•ΩÁöÑTomcat‰º†ÂÖ•ËøõÂéªÔºåËøîÂõû‰∏Ä‰∏™EmbeddedServletContainerÔºõÂπ∂‰∏îÂêØÂä®TomcatÊúçÂä°Âô® return getTomcatEmbeddedServletContainer(tomcat);&#125; 4Ôºâ„ÄÅÊàë‰ª¨ÂØπÂµåÂÖ•ÂºèÂÆπÂô®ÁöÑÈÖçÁΩÆ‰øÆÊîπÊòØÊÄé‰πàÁîüÊïàÔºü 1ServerProperties„ÄÅEmbeddedServletContainerCustomizer EmbeddedServletContainerCustomizerÔºöÂÆöÂà∂Âô®Â∏ÆÊàë‰ª¨‰øÆÊîπ‰∫ÜServletÂÆπÂô®ÁöÑÈÖçÁΩÆÔºü ÊÄé‰πà‰øÆÊîπÁöÑÂéüÁêÜÔºü 5Ôºâ„ÄÅÂÆπÂô®‰∏≠ÂØºÂÖ•‰∫ÜEmbeddedServletContainerCustomizerBeanPostProcessor 12345678910111213141516171819202122232425262728293031323334353637//ÂàùÂßãÂåñ‰πãÂâç@Overridepublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123; //Â¶ÇÊûúÂΩìÂâçÂàùÂßãÂåñÁöÑÊòØ‰∏Ä‰∏™ConfigurableEmbeddedServletContainerÁ±ªÂûãÁöÑÁªÑ‰ª∂ if (bean instanceof ConfigurableEmbeddedServletContainer) &#123; // postProcessBeforeInitialization((ConfigurableEmbeddedServletContainer) bean); &#125; return bean;&#125;private void postProcessBeforeInitialization( ConfigurableEmbeddedServletContainer bean) &#123; //Ëé∑ÂèñÊâÄÊúâÁöÑÂÆöÂà∂Âô®ÔºåË∞ÉÁî®ÊØè‰∏Ä‰∏™ÂÆöÂà∂Âô®ÁöÑcustomizeÊñπÊ≥ïÊù•ÁªôServletÂÆπÂô®ËøõË°åÂ±ûÊÄßËµãÂÄºÔºõ for (EmbeddedServletContainerCustomizer customizer : getCustomizers()) &#123; customizer.customize(bean); &#125;&#125;private Collection&lt;EmbeddedServletContainerCustomizer&gt; getCustomizers() &#123; if (this.customizers == null) &#123; // Look up does not include the parent context this.customizers = new ArrayList&lt;EmbeddedServletContainerCustomizer&gt;( this.beanFactory //‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÊâÄÊúâËøôËëõÁ±ªÂûãÁöÑÁªÑ‰ª∂ÔºöEmbeddedServletContainerCustomizer //ÂÆöÂà∂ServletÂÆπÂô®ÔºåÁªôÂÆπÂô®‰∏≠ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™EmbeddedServletContainerCustomizerÁ±ªÂûãÁöÑÁªÑ‰ª∂ .getBeansOfType(EmbeddedServletContainerCustomizer.class, false, false) .values()); Collections.sort(this.customizers, AnnotationAwareOrderComparator.INSTANCE); this.customizers = Collections.unmodifiableList(this.customizers); &#125; return this.customizers;&#125;ServerProperties‰πüÊòØÂÆöÂà∂Âô® Ê≠•È™§Ôºö 1Ôºâ„ÄÅSpringBootÊ†πÊçÆÂØºÂÖ•ÁöÑ‰æùËµñÊÉÖÂÜµÔºåÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†Áõ∏Â∫îÁöÑEmbeddedServletContainerFactory„ÄêTomcatEmbeddedServletContainerFactory„Äë 2Ôºâ„ÄÅÂÆπÂô®‰∏≠Êüê‰∏™ÁªÑ‰ª∂Ë¶ÅÂàõÂª∫ÂØπË±°Â∞±‰ºöÊÉäÂä®ÂêéÁΩÆÂ§ÑÁêÜÂô®ÔºõEmbeddedServletContainerCustomizerBeanPostProcessorÔºõ Âè™Ë¶ÅÊòØÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºåÂêéÁΩÆÂ§ÑÁêÜÂô®Â∞±Â∑•‰ΩúÔºõ 3Ôºâ„ÄÅÂêéÁΩÆÂ§ÑÁêÜÂô®Ôºå‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÊâÄÊúâÁöÑEmbeddedServletContainerCustomizerÔºåË∞ÉÁî®ÂÆöÂà∂Âô®ÁöÑÂÆöÂà∂ÊñπÊ≥ï ###5Ôºâ„ÄÅÂµåÂÖ•ÂºèServletÂÆπÂô®ÂêØÂä®ÂéüÁêÜÔºõ ‰ªÄ‰πàÊó∂ÂÄôÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºü‰ªÄ‰πàÊó∂ÂÄôËé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Âπ∂ÂêØÂä®TomcatÔºõ Ëé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºö 1Ôºâ„ÄÅSpringBootÂ∫îÁî®ÂêØÂä®ËøêË°årunÊñπÊ≥ï 2Ôºâ„ÄÅrefreshContext(context);SpringBootÂà∑Êñ∞IOCÂÆπÂô®„ÄêÂàõÂª∫IOCÂÆπÂô®ÂØπË±°ÔºåÂπ∂ÂàùÂßãÂåñÂÆπÂô®ÔºåÂàõÂª∫ÂÆπÂô®‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÁªÑ‰ª∂„ÄëÔºõÂ¶ÇÊûúÊòØwebÂ∫îÁî®ÂàõÂª∫AnnotationConfigEmbeddedWebApplicationContextÔºåÂê¶ÂàôÔºöAnnotationConfigApplicationContext 3Ôºâ„ÄÅrefresh(context);Âà∑Êñ∞ÂàöÊâçÂàõÂª∫Â•ΩÁöÑiocÂÆπÂô®Ôºõ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public void refresh() throws BeansException, IllegalStateException &#123; synchronized (this.startupShutdownMonitor) &#123; // Prepare this context for refreshing. prepareRefresh(); // Tell the subclass to refresh the internal bean factory. ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory(); // Prepare the bean factory for use in this context. prepareBeanFactory(beanFactory); try &#123; // Allows post-processing of the bean factory in context subclasses. postProcessBeanFactory(beanFactory); // Invoke factory processors registered as beans in the context. invokeBeanFactoryPostProcessors(beanFactory); // Register bean processors that intercept bean creation. registerBeanPostProcessors(beanFactory); // Initialize message source for this context. initMessageSource(); // Initialize event multicaster for this context. initApplicationEventMulticaster(); // Initialize other special beans in specific context subclasses. onRefresh(); // Check for listener beans and register them. registerListeners(); // Instantiate all remaining (non-lazy-init) singletons. finishBeanFactoryInitialization(beanFactory); // Last step: publish corresponding event. finishRefresh(); &#125; catch (BeansException ex) &#123; if (logger.isWarnEnabled()) &#123; logger.warn("Exception encountered during context initialization - " + "cancelling refresh attempt: " + ex); &#125; // Destroy already created singletons to avoid dangling resources. destroyBeans(); // Reset 'active' flag. cancelRefresh(ex); // Propagate exception to caller. throw ex; &#125; finally &#123; // Reset common introspection caches in Spring's core, since we // might not ever need metadata for singleton beans anymore... resetCommonCaches(); &#125; &#125;&#125; 4Ôºâ„ÄÅ onRefresh(); webÁöÑiocÂÆπÂô®ÈáçÂÜô‰∫ÜonRefreshÊñπÊ≥ï 5Ôºâ„ÄÅwebiocÂÆπÂô®‰ºöÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®ÔºõcreateEmbeddedServletContainer(); 6Ôºâ„ÄÅËé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºö EmbeddedServletContainerFactory containerFactory = getEmbeddedServletContainerFactory(); ‚Äã ‰ªéiocÂÆπÂô®‰∏≠Ëé∑ÂèñEmbeddedServletContainerFactory ÁªÑ‰ª∂ÔºõTomcatEmbeddedServletContainerFactoryÂàõÂª∫ÂØπË±°ÔºåÂêéÁΩÆÂ§ÑÁêÜÂô®‰∏ÄÁúãÊòØËøô‰∏™ÂØπË±°ÔºåÂ∞±Ëé∑ÂèñÊâÄÊúâÁöÑÂÆöÂà∂Âô®Êù•ÂÖàÂÆöÂà∂ServletÂÆπÂô®ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÔºõ 7Ôºâ„ÄÅ‰ΩøÁî®ÂÆπÂô®Â∑•ÂéÇËé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ôºöthis.embeddedServletContainer = containerFactory .getEmbeddedServletContainer(getSelfInitializer()); 8Ôºâ„ÄÅÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®ÂàõÂª∫ÂØπË±°Âπ∂ÂêØÂä®ServletÂÆπÂô®Ôºõ ÂÖàÂêØÂä®ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®ÔºåÂÜçÂ∞ÜiocÂÆπÂô®‰∏≠Ââ©‰∏ãÊ≤°ÊúâÂàõÂª∫Âá∫ÁöÑÂØπË±°Ëé∑ÂèñÂá∫Êù•Ôºõ ==IOCÂÆπÂô®ÂêØÂä®ÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®== 9„ÄÅ‰ΩøÁî®Â§ñÁΩÆÁöÑServletÂÆπÂô®ÂµåÂÖ•ÂºèServletÂÆπÂô®ÔºöÂ∫îÁî®ÊâìÊàêÂèØÊâßË°åÁöÑjar ‚Äã ‰ºòÁÇπÔºöÁÆÄÂçï„ÄÅ‰æøÊê∫Ôºõ ‚Äã Áº∫ÁÇπÔºöÈªòËÆ§‰∏çÊîØÊåÅJSP„ÄÅ‰ºòÂåñÂÆöÂà∂ÊØîËæÉÂ§çÊùÇÔºà‰ΩøÁî®ÂÆöÂà∂Âô®„ÄêServerProperties„ÄÅËá™ÂÆö‰πâEmbeddedServletContainerCustomizer„ÄëÔºåËá™Â∑±ÁºñÂÜôÂµåÂÖ•ÂºèServletÂÆπÂô®ÁöÑÂàõÂª∫Â∑•ÂéÇ„ÄêEmbeddedServletContainerFactory„ÄëÔºâÔºõ Â§ñÁΩÆÁöÑServletÂÆπÂô®ÔºöÂ§ñÈù¢ÂÆâË£ÖTomcat‚ÄîÂ∫îÁî®warÂåÖÁöÑÊñπÂºèÊâìÂåÖÔºõ Ê≠•È™§1Ôºâ„ÄÅÂøÖÈ°ªÂàõÂª∫‰∏Ä‰∏™warÈ°πÁõÆÔºõÔºàÂà©Áî®ideaÂàõÂª∫Â•ΩÁõÆÂΩïÁªìÊûÑÔºâ 2Ôºâ„ÄÅÂ∞ÜÂµåÂÖ•ÂºèÁöÑTomcatÊåáÂÆö‰∏∫providedÔºõ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 3Ôºâ„ÄÅÂøÖÈ°ªÁºñÂÜô‰∏Ä‰∏™SpringBootServletInitializerÁöÑÂ≠êÁ±ªÔºåÂπ∂Ë∞ÉÁî®configureÊñπÊ≥ï 123456789public class ServletInitializer extends SpringBootServletInitializer &#123; @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder application) &#123; //‰º†ÂÖ•SpringBootÂ∫îÁî®ÁöÑ‰∏ªÁ®ãÂ∫è return application.sources(SpringBoot04WebJspApplication.class); &#125;&#125; 4Ôºâ„ÄÅÂêØÂä®ÊúçÂä°Âô®Â∞±ÂèØ‰ª•‰ΩøÁî®Ôºõ ÂéüÁêÜjarÂåÖÔºöÊâßË°åSpringBoot‰∏ªÁ±ªÁöÑmainÊñπÊ≥ïÔºåÂêØÂä®iocÂÆπÂô®ÔºåÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ôºõ warÂåÖÔºöÂêØÂä®ÊúçÂä°Âô®ÔºåÊúçÂä°Âô®ÂêØÂä®SpringBootÂ∫îÁî®„ÄêSpringBootServletInitializer„ÄëÔºåÂêØÂä®iocÂÆπÂô®Ôºõ servlet3.0ÔºàSpringÊ≥®Ëß£ÁâàÔºâÔºö 8.2.4 Shared libraries / runtimes pluggabilityÔºö ËßÑÂàôÔºö ‚Äã 1Ôºâ„ÄÅÊúçÂä°Âô®ÂêØÂä®ÔºàwebÂ∫îÁî®ÂêØÂä®Ôºâ‰ºöÂàõÂª∫ÂΩìÂâçwebÂ∫îÁî®ÈáåÈù¢ÊØè‰∏Ä‰∏™jarÂåÖÈáåÈù¢ServletContainerInitializerÂÆû‰æãÔºö ‚Äã 2Ôºâ„ÄÅServletContainerInitializerÁöÑÂÆûÁé∞ÊîæÂú®jarÂåÖÁöÑMETA-INF/servicesÊñá‰ª∂Â§π‰∏ãÔºåÊúâ‰∏Ä‰∏™Âêç‰∏∫javax.servlet.ServletContainerInitializerÁöÑÊñá‰ª∂ÔºåÂÜÖÂÆπÂ∞±ÊòØServletContainerInitializerÁöÑÂÆûÁé∞Á±ªÁöÑÂÖ®Á±ªÂêç ‚Äã 3Ôºâ„ÄÅËøòÂèØ‰ª•‰ΩøÁî®@HandlesTypesÔºåÂú®Â∫îÁî®ÂêØÂä®ÁöÑÊó∂ÂÄôÂä†ËΩΩÊàë‰ª¨ÊÑüÂÖ¥Ë∂£ÁöÑÁ±ªÔºõ ÊµÅÁ®ãÔºö 1Ôºâ„ÄÅÂêØÂä®Tomcat 2Ôºâ„ÄÅorg\springframework\spring-web\4.3.14.RELEASE\spring-web-4.3.14.RELEASE.jar!\META-INF\services\javax.servlet.ServletContainerInitializerÔºö SpringÁöÑwebÊ®°ÂùóÈáåÈù¢ÊúâËøô‰∏™Êñá‰ª∂Ôºöorg.springframework.web.SpringServletContainerInitializer 3Ôºâ„ÄÅSpringServletContainerInitializerÂ∞Ü@HandlesTypes(WebApplicationInitializer.class)Ê†áÊ≥®ÁöÑÊâÄÊúâËøô‰∏™Á±ªÂûãÁöÑÁ±ªÈÉΩ‰º†ÂÖ•Âà∞onStartupÊñπÊ≥ïÁöÑSet&lt;Class&lt;?&gt;&gt;Ôºõ‰∏∫Ëøô‰∫õWebApplicationInitializerÁ±ªÂûãÁöÑÁ±ªÂàõÂª∫ÂÆû‰æãÔºõ 4Ôºâ„ÄÅÊØè‰∏Ä‰∏™WebApplicationInitializerÈÉΩË∞ÉÁî®Ëá™Â∑±ÁöÑonStartupÔºõ 5Ôºâ„ÄÅÁõ∏ÂΩì‰∫éÊàë‰ª¨ÁöÑSpringBootServletInitializerÁöÑÁ±ª‰ºöË¢´ÂàõÂª∫ÂØπË±°ÔºåÂπ∂ÊâßË°åonStartupÊñπÊ≥ï 6Ôºâ„ÄÅSpringBootServletInitializerÂÆû‰æãÊâßË°åonStartupÁöÑÊó∂ÂÄô‰ºöcreateRootApplicationContextÔºõÂàõÂª∫ÂÆπÂô® 1234567891011121314151617181920212223242526272829303132333435363738protected WebApplicationContext createRootApplicationContext( ServletContext servletContext) &#123; //1„ÄÅÂàõÂª∫SpringApplicationBuilder SpringApplicationBuilder builder = createSpringApplicationBuilder(); StandardServletEnvironment environment = new StandardServletEnvironment(); environment.initPropertySources(servletContext, null); builder.environment(environment); builder.main(getClass()); ApplicationContext parent = getExistingRootWebApplicationContext(servletContext); if (parent != null) &#123; this.logger.info("Root context already created (using as parent)."); servletContext.setAttribute( WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE, null); builder.initializers(new ParentContextApplicationContextInitializer(parent)); &#125; builder.initializers( new ServletContextApplicationContextInitializer(servletContext)); builder.contextClass(AnnotationConfigEmbeddedWebApplicationContext.class); //Ë∞ÉÁî®configureÊñπÊ≥ïÔºåÂ≠êÁ±ªÈáçÂÜô‰∫ÜËøô‰∏™ÊñπÊ≥ïÔºåÂ∞ÜSpringBootÁöÑ‰∏ªÁ®ãÂ∫èÁ±ª‰º†ÂÖ•‰∫ÜËøõÊù• builder = configure(builder); //‰ΩøÁî®builderÂàõÂª∫‰∏Ä‰∏™SpringÂ∫îÁî® SpringApplication application = builder.build(); if (application.getSources().isEmpty() &amp;&amp; AnnotationUtils .findAnnotation(getClass(), Configuration.class) != null) &#123; application.getSources().add(getClass()); &#125; Assert.state(!application.getSources().isEmpty(), "No SpringApplication sources have been defined. Either override the " + "configure method or add an @Configuration annotation"); // Ensure error pages are registered if (this.registerErrorPageFilter) &#123; application.getSources().add(ErrorPageFilterConfiguration.class); &#125; //ÂêØÂä®SpringÂ∫îÁî® return run(application);&#125; 7Ôºâ„ÄÅSpringÁöÑÂ∫îÁî®Â∞±ÂêØÂä®Âπ∂‰∏îÂàõÂª∫IOCÂÆπÂô® 1234567891011121314151617181920212223242526272829303132333435public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; configureHeadlessProperty(); SpringApplicationRunListeners listeners = getRunListeners(args); listeners.starting(); try &#123; ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); Banner printedBanner = printBanner(environment); context = createApplicationContext(); analyzers = new FailureAnalyzers(context); prepareContext(context, environment, listeners, applicationArguments, printedBanner); //Âà∑Êñ∞IOCÂÆπÂô® refreshContext(context); afterRefresh(context, applicationArguments); listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; ==ÂêØÂä®ServletÂÆπÂô®ÔºåÂÜçÂêØÂä®SpringBootÂ∫îÁî®== ‰∫î„ÄÅDocker1„ÄÅÁÆÄ‰ªãDockerÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÂ∫îÁî®ÂÆπÂô®ÂºïÊìéÔºõÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÂÆπÂô®ÊäÄÊúØÔºõ DockerÊîØÊåÅÂ∞ÜËΩØ‰ª∂ÁºñËØëÊàê‰∏Ä‰∏™ÈïúÂÉèÔºõÁÑ∂ÂêéÂú®ÈïúÂÉè‰∏≠ÂêÑÁßçËΩØ‰ª∂ÂÅöÂ•ΩÈÖçÁΩÆÔºåÂ∞ÜÈïúÂÉèÂèëÂ∏ÉÂá∫ÂéªÔºåÂÖ∂‰ªñ‰ΩøÁî®ËÄÖÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Ëøô‰∏™ÈïúÂÉèÔºõ ËøêË°å‰∏≠ÁöÑËøô‰∏™ÈïúÂÉèÁß∞‰∏∫ÂÆπÂô®ÔºåÂÆπÂô®ÂêØÂä®ÊòØÈùûÂ∏∏Âø´ÈÄüÁöÑ„ÄÇ 2„ÄÅÊ†∏ÂøÉÊ¶ÇÂøµdocker‰∏ªÊú∫(Host)ÔºöÂÆâË£Ö‰∫ÜDockerÁ®ãÂ∫èÁöÑÊú∫Âô®ÔºàDockerÁõ¥Êé•ÂÆâË£ÖÂú®Êìç‰ΩúÁ≥ªÁªü‰πã‰∏äÔºâÔºõ dockerÂÆ¢Êà∑Á´Ø(Client)ÔºöËøûÊé•docker‰∏ªÊú∫ËøõË°åÊìç‰ΩúÔºõ docker‰ªìÂ∫ì(Registry)ÔºöÁî®Êù•‰øùÂ≠òÂêÑÁßçÊâìÂåÖÂ•ΩÁöÑËΩØ‰ª∂ÈïúÂÉèÔºõ dockerÈïúÂÉè(Images)ÔºöËΩØ‰ª∂ÊâìÂåÖÂ•ΩÁöÑÈïúÂÉèÔºõÊîæÂú®docker‰ªìÂ∫ì‰∏≠Ôºõ dockerÂÆπÂô®(Container)ÔºöÈïúÂÉèÂêØÂä®ÂêéÁöÑÂÆû‰æãÁß∞‰∏∫‰∏Ä‰∏™ÂÆπÂô®ÔºõÂÆπÂô®ÊòØÁã¨Á´ãËøêË°åÁöÑ‰∏Ä‰∏™Êàñ‰∏ÄÁªÑÂ∫îÁî® ‰ΩøÁî®DockerÁöÑÊ≠•È™§Ôºö 1Ôºâ„ÄÅÂÆâË£ÖDocker 2Ôºâ„ÄÅÂéªDocker‰ªìÂ∫ìÊâæÂà∞Ëøô‰∏™ËΩØ‰ª∂ÂØπÂ∫îÁöÑÈïúÂÉèÔºõ 3Ôºâ„ÄÅ‰ΩøÁî®DockerËøêË°åËøô‰∏™ÈïúÂÉèÔºåËøô‰∏™ÈïúÂÉèÂ∞±‰ºöÁîüÊàê‰∏Ä‰∏™DockerÂÆπÂô®Ôºõ 4Ôºâ„ÄÅÂØπÂÆπÂô®ÁöÑÂêØÂä®ÂÅúÊ≠¢Â∞±ÊòØÂØπËΩØ‰ª∂ÁöÑÂêØÂä®ÂÅúÊ≠¢Ôºõ 3„ÄÅÂÆâË£ÖDocker1Ôºâ„ÄÅÂÆâË£ÖlinuxËôöÊãüÊú∫‚Äã 1Ôºâ„ÄÅVMWare„ÄÅVirtualBoxÔºàÂÆâË£ÖÔºâÔºõ ‚Äã 2Ôºâ„ÄÅÂØºÂÖ•ËôöÊãüÊú∫Êñá‰ª∂centos7-atguigu.ovaÔºõ ‚Äã 3Ôºâ„ÄÅÂèåÂáªÂêØÂä®linuxËôöÊãüÊú∫;‰ΩøÁî® root/ 123456ÁôªÈôÜ ‚Äã 4Ôºâ„ÄÅ‰ΩøÁî®ÂÆ¢Êà∑Á´ØËøûÊé•linuxÊúçÂä°Âô®ËøõË°åÂëΩ‰ª§Êìç‰ΩúÔºõ ‚Äã 5Ôºâ„ÄÅËÆæÁΩÆËôöÊãüÊú∫ÁΩëÁªúÔºõ ‚Äã Ê°•Êé•ÁΩëÁªú===ÈÄâÂ•ΩÁΩëÂç°====Êé•ÂÖ•ÁΩëÁ∫øÔºõ ‚Äã 6Ôºâ„ÄÅËÆæÁΩÆÂ•ΩÁΩëÁªú‰ª•Âêé‰ΩøÁî®ÂëΩ‰ª§ÈáçÂêØËôöÊãüÊú∫ÁöÑÁΩëÁªú 1service network restart ‚Äã 7Ôºâ„ÄÅÊü•ÁúãlinuxÁöÑipÂú∞ÂùÄ 1ip addr ‚Äã 8Ôºâ„ÄÅ‰ΩøÁî®ÂÆ¢Êà∑Á´ØËøûÊé•linuxÔºõ 2Ôºâ„ÄÅÂú®linuxËôöÊãüÊú∫‰∏äÂÆâË£ÖdockerÊ≠•È™§Ôºö 12345678910111213141„ÄÅÊ£ÄÊü•ÂÜÖÊ†∏ÁâàÊú¨ÔºåÂøÖÈ°ªÊòØ3.10Âèä‰ª•‰∏äuname -r2„ÄÅÂÆâË£Ödockeryum install docker3„ÄÅËæìÂÖ•yÁ°ÆËÆ§ÂÆâË£Ö4„ÄÅÂêØÂä®docker[root@localhost ~]# systemctl start docker[root@localhost ~]# docker -vDocker version 1.12.6, build 3e8e77d/1.12.65„ÄÅÂºÄÊú∫ÂêØÂä®docker[root@localhost ~]# systemctl enable dockerCreated symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.6„ÄÅÂÅúÊ≠¢dockersystemctl stop docker 4„ÄÅDockerÂ∏∏Áî®ÂëΩ‰ª§&amp;Êìç‰Ωú1Ôºâ„ÄÅÈïúÂÉèÊìç‰Ωú Êìç‰Ωú ÂëΩ‰ª§ ËØ¥Êòé Ê£ÄÁ¥¢ docker search ÂÖ≥ÈîÆÂ≠ó egÔºödocker search redis Êàë‰ª¨ÁªèÂ∏∏Âéªdocker hub‰∏äÊ£ÄÁ¥¢ÈïúÂÉèÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÂ¶ÇÈïúÂÉèÁöÑTAG„ÄÇ ÊãâÂèñ docker pull ÈïúÂÉèÂêç:tag :tagÊòØÂèØÈÄâÁöÑÔºåtagË°®Á§∫Ê†áÁ≠æÔºåÂ§ö‰∏∫ËΩØ‰ª∂ÁöÑÁâàÊú¨ÔºåÈªòËÆ§ÊòØlatest ÂàóË°® docker images Êü•ÁúãÊâÄÊúâÊú¨Âú∞ÈïúÂÉè Âà†Èô§ docker rmi image-id Âà†Èô§ÊåáÂÆöÁöÑÊú¨Âú∞ÈïúÂÉè https://hub.docker.com/ 2Ôºâ„ÄÅÂÆπÂô®Êìç‰ΩúËΩØ‰ª∂ÈïúÂÉèÔºàQQÂÆâË£ÖÁ®ãÂ∫èÔºâ‚Äî-ËøêË°åÈïúÂÉè‚Äî-‰∫ßÁîü‰∏Ä‰∏™ÂÆπÂô®ÔºàÊ≠£Âú®ËøêË°åÁöÑËΩØ‰ª∂ÔºåËøêË°åÁöÑQQÔºâÔºõ Ê≠•È™§Ôºö 1234567891011121314151617181920212223242526272829301„ÄÅÊêúÁ¥¢ÈïúÂÉè[root@localhost ~]# docker search tomcat2„ÄÅÊãâÂèñÈïúÂÉè[root@localhost ~]# docker pull tomcat3„ÄÅÊ†πÊçÆÈïúÂÉèÂêØÂä®ÂÆπÂô®docker run --name mytomcat -d tomcat:latest4„ÄÅdocker ps Êü•ÁúãËøêË°å‰∏≠ÁöÑÂÆπÂô®5„ÄÅ ÂÅúÊ≠¢ËøêË°å‰∏≠ÁöÑÂÆπÂô®docker stop ÂÆπÂô®ÁöÑid6„ÄÅÊü•ÁúãÊâÄÊúâÁöÑÂÆπÂô®docker ps -a7„ÄÅÂêØÂä®ÂÆπÂô®docker start ÂÆπÂô®id8„ÄÅÂà†Èô§‰∏Ä‰∏™ÂÆπÂô® docker rm ÂÆπÂô®id9„ÄÅÂêØÂä®‰∏Ä‰∏™ÂÅö‰∫ÜÁ´ØÂè£Êò†Â∞ÑÁöÑtomcat[root@localhost ~]# docker run -d -p 8888:8080 tomcat-dÔºöÂêéÂè∞ËøêË°å-p: Â∞Ü‰∏ªÊú∫ÁöÑÁ´ØÂè£Êò†Â∞ÑÂà∞ÂÆπÂô®ÁöÑ‰∏Ä‰∏™Á´ØÂè£ ‰∏ªÊú∫Á´ØÂè£:ÂÆπÂô®ÂÜÖÈÉ®ÁöÑÁ´ØÂè£10„ÄÅ‰∏∫‰∫ÜÊºîÁ§∫ÁÆÄÂçïÂÖ≥Èó≠‰∫ÜlinuxÁöÑÈò≤ÁÅ´Â¢ôservice firewalld status ÔºõÊü•ÁúãÈò≤ÁÅ´Â¢ôÁä∂ÊÄÅservice firewalld stopÔºöÂÖ≥Èó≠Èò≤ÁÅ´Â¢ô11„ÄÅÊü•ÁúãÂÆπÂô®ÁöÑÊó•Âøódocker logs container-name/container-idÊõ¥Â§öÂëΩ‰ª§ÂèÇÁúãhttps://docs.docker.com/engine/reference/commandline/docker/ÂèØ‰ª•ÂèÇËÄÉÊØè‰∏Ä‰∏™ÈïúÂÉèÁöÑÊñáÊ°£ 3Ôºâ„ÄÅÂÆâË£ÖMySQLÁ§∫‰æã1docker pull mysql ÈîôËØØÁöÑÂêØÂä® 1234567891011121314151617[root@localhost ~]# docker run --name mysql01 -d mysql42f09819908bb72dd99ae19e792e0a5d03c48638421fa64cce5f8ba0f40f5846mysqlÈÄÄÂá∫‰∫Ü[root@localhost ~]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES42f09819908b mysql "docker-entrypoint.sh" 34 seconds ago Exited (1) 33 seconds ago mysql01538bde63e500 tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago compassionate_goldstinec4f1ac60b3fc tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago lonely_fermi81ec743a5271 tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago sick_ramanujan//ÈîôËØØÊó•Âøó[root@localhost ~]# docker logs 42f09819908berror: database is uninitialized and password option is not specified You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORDÔºõËøô‰∏™‰∏â‰∏™ÂèÇÊï∞ÂøÖÈ°ªÊåáÂÆö‰∏Ä‰∏™ Ê≠£Á°ÆÁöÑÂêØÂä® 12345[root@localhost ~]# docker run --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlb874c56bec49fb43024b3805ab51e9097da779f2f572c22c695305dedd684c5f[root@localhost ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESb874c56bec49 mysql "docker-entrypoint.sh" 4 seconds ago Up 3 seconds 3306/tcp mysql01 ÂÅö‰∫ÜÁ´ØÂè£Êò†Â∞Ñ 12345[root@localhost ~]# docker run -p 3306:3306 --name mysql02 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlad10e4bc5c6a0f61cbad43898de71d366117d120e39db651844c0e73863b9434[root@localhost ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESad10e4bc5c6a mysql "docker-entrypoint.sh" 4 seconds ago Up 2 seconds 0.0.0.0:3306-&gt;3306/tcp mysql02 Âá†‰∏™ÂÖ∂‰ªñÁöÑÈ´òÁ∫ßÊìç‰Ωú 123456docker run --name mysql03 -v /conf/mysql:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tagÊää‰∏ªÊú∫ÁöÑ/conf/mysqlÊñá‰ª∂Â§πÊåÇËΩΩÂà∞ mysqldockerÂÆπÂô®ÁöÑ/etc/mysql/conf.dÊñá‰ª∂Â§πÈáåÈù¢ÊîπmysqlÁöÑÈÖçÁΩÆÊñá‰ª∂Â∞±Âè™ÈúÄË¶ÅÊäämysqlÈÖçÁΩÆÊñá‰ª∂ÊîæÂú®Ëá™ÂÆö‰πâÁöÑÊñá‰ª∂Â§π‰∏ãÔºà/conf/mysqlÔºâdocker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ciÊåáÂÆömysqlÁöÑ‰∏Ä‰∫õÈÖçÁΩÆÂèÇÊï∞ ÂÖ≠„ÄÅSpringBoot‰∏éÊï∞ÊçÆËÆøÈóÆ1„ÄÅJDBC123456789&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; 123456spring: datasource: username: root password: 123456 url: jdbc:mysql://192.168.15.22:3306/jdbc driver-class-name: com.mysql.jdbc.Driver ÊïàÊûúÔºö ‚Äã ÈªòËÆ§ÊòØÁî®org.apache.tomcat.jdbc.pool.DataSource‰Ωú‰∏∫Êï∞ÊçÆÊ∫êÔºõ ‚Äã Êï∞ÊçÆÊ∫êÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÈÉΩÂú®DataSourcePropertiesÈáåÈù¢Ôºõ Ëá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºö org.springframework.boot.autoconfigure.jdbcÔºö 1„ÄÅÂèÇËÄÉDataSourceConfigurationÔºåÊ†πÊçÆÈÖçÁΩÆÂàõÂª∫Êï∞ÊçÆÊ∫êÔºåÈªòËÆ§‰ΩøÁî®TomcatËøûÊé•Ê±†ÔºõÂèØ‰ª•‰ΩøÁî®spring.datasource.typeÊåáÂÆöËá™ÂÆö‰πâÁöÑÊï∞ÊçÆÊ∫êÁ±ªÂûãÔºõ 2„ÄÅSpringBootÈªòËÆ§ÂèØ‰ª•ÊîØÊåÅÔºõ 1org.apache.tomcat.jdbc.pool.DataSource„ÄÅHikariDataSource„ÄÅBasicDataSource„ÄÅ 3„ÄÅËá™ÂÆö‰πâÊï∞ÊçÆÊ∫êÁ±ªÂûã 1234567891011121314/** * Generic DataSource configuration. */@ConditionalOnMissingBean(DataSource.class)@ConditionalOnProperty(name = "spring.datasource.type")static class Generic &#123; @Bean public DataSource dataSource(DataSourceProperties properties) &#123; //‰ΩøÁî®DataSourceBuilderÂàõÂª∫Êï∞ÊçÆÊ∫êÔºåÂà©Áî®ÂèçÂ∞ÑÂàõÂª∫ÂìçÂ∫îtypeÁöÑÊï∞ÊçÆÊ∫êÔºåÂπ∂‰∏îÁªëÂÆöÁõ∏ÂÖ≥Â±ûÊÄß return properties.initializeDataSourceBuilder().build(); &#125;&#125; 4„ÄÅDataSourceInitializerÔºöApplicationListenerÔºõ ‚Äã ‰ΩúÁî®Ôºö ‚Äã 1Ôºâ„ÄÅrunSchemaScripts();ËøêË°åÂª∫Ë°®ËØ≠Âè•Ôºõ ‚Äã 2Ôºâ„ÄÅrunDataScripts();ËøêË°åÊèíÂÖ•Êï∞ÊçÆÁöÑsqlËØ≠Âè•Ôºõ ÈªòËÆ§Âè™ÈúÄË¶ÅÂ∞ÜÊñá‰ª∂ÂëΩÂêç‰∏∫Ôºö 123456schema-*.sql„ÄÅdata-*.sqlÈªòËÆ§ËßÑÂàôÔºöschema.sqlÔºåschema-all.sqlÔºõÂèØ‰ª•‰ΩøÁî® schema: - classpath:department.sql ÊåáÂÆö‰ΩçÁΩÆ 5„ÄÅÊìç‰ΩúÊï∞ÊçÆÂ∫ìÔºöËá™Âä®ÈÖçÁΩÆ‰∫ÜJdbcTemplateÊìç‰ΩúÊï∞ÊçÆÂ∫ì 2„ÄÅÊï¥ÂêàDruidÊï∞ÊçÆÊ∫ê12345678910111213141516171819202122232425262728293031323334353637383940414243ÂØºÂÖ•druidÊï∞ÊçÆÊ∫ê@Configurationpublic class DruidConfig &#123; @ConfigurationProperties(prefix = "spring.datasource") @Bean public DataSource druid()&#123; return new DruidDataSource(); &#125; //ÈÖçÁΩÆDruidÁöÑÁõëÊéß //1„ÄÅÈÖçÁΩÆ‰∏Ä‰∏™ÁÆ°ÁêÜÂêéÂè∞ÁöÑServlet @Bean public ServletRegistrationBean statViewServlet()&#123; ServletRegistrationBean bean = new ServletRegistrationBean(new StatViewServlet(), "/druid/*"); Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;(); initParams.put("loginUsername","admin"); initParams.put("loginPassword","123456"); initParams.put("allow","");//ÈªòËÆ§Â∞±ÊòØÂÖÅËÆ∏ÊâÄÊúâËÆøÈóÆ initParams.put("deny","192.168.15.21"); bean.setInitParameters(initParams); return bean; &#125; //2„ÄÅÈÖçÁΩÆ‰∏Ä‰∏™webÁõëÊéßÁöÑfilter @Bean public FilterRegistrationBean webStatFilter()&#123; FilterRegistrationBean bean = new FilterRegistrationBean(); bean.setFilter(new WebStatFilter()); Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;(); initParams.put("exclusions","*.js,*.css,/druid/*"); bean.setInitParameters(initParams); bean.setUrlPatterns(Arrays.asList("/*")); return bean; &#125;&#125; 3„ÄÅÊï¥ÂêàMyBatis12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt; Ê≠•È™§Ôºö ‚Äã 1Ôºâ„ÄÅÈÖçÁΩÆÊï∞ÊçÆÊ∫êÁõ∏ÂÖ≥Â±ûÊÄßÔºàËßÅ‰∏ä‰∏ÄËäÇDruidÔºâ ‚Äã 2Ôºâ„ÄÅÁªôÊï∞ÊçÆÂ∫ìÂª∫Ë°® ‚Äã 3Ôºâ„ÄÅÂàõÂª∫JavaBean 4Ôºâ„ÄÅÊ≥®Ëß£Áâà1234567891011121314151617//ÊåáÂÆöËøôÊòØ‰∏Ä‰∏™Êìç‰ΩúÊï∞ÊçÆÂ∫ìÁöÑmapper@Mapperpublic interface DepartmentMapper &#123; @Select("select * from department where id=#&#123;id&#125;") public Department getDeptById(Integer id); @Delete("delete from department where id=#&#123;id&#125;") public int deleteDeptById(Integer id); @Options(useGeneratedKeys = true,keyProperty = "id") @Insert("insert into department(departmentName) values(#&#123;departmentName&#125;)") public int insertDept(Department department); @Update("update department set departmentName=#&#123;departmentName&#125; where id=#&#123;id&#125;") public int updateDept(Department department);&#125; ÈóÆÈ¢òÔºö Ëá™ÂÆö‰πâMyBatisÁöÑÈÖçÁΩÆËßÑÂàôÔºõÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ConfigurationCustomizerÔºõ 1234567891011121314@org.springframework.context.annotation.Configurationpublic class MyBatisConfig &#123; @Bean public ConfigurationCustomizer configurationCustomizer()&#123; return new ConfigurationCustomizer()&#123; @Override public void customize(Configuration configuration) &#123; configuration.setMapUnderscoreToCamelCase(true); &#125; &#125;; &#125;&#125; 123456789‰ΩøÁî®MapperScanÊâπÈáèÊâ´ÊèèÊâÄÊúâÁöÑMapperÊé•Âè£Ôºõ@MapperScan(value = "com.atguigu.springboot.mapper")@SpringBootApplicationpublic class SpringBoot06DataMybatisApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpringBoot06DataMybatisApplication.class, args); &#125;&#125; 5Ôºâ„ÄÅÈÖçÁΩÆÊñá‰ª∂Áâà123mybatis: config-location: classpath:mybatis/mybatis-config.xml ÊåáÂÆöÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩçÁΩÆ mapper-locations: classpath:mybatis/mapper/*.xml ÊåáÂÆösqlÊò†Â∞ÑÊñá‰ª∂ÁöÑ‰ΩçÁΩÆ Êõ¥Â§ö‰ΩøÁî®ÂèÇÁÖß http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/ 4„ÄÅÊï¥ÂêàSpringData JPA1Ôºâ„ÄÅSpringDataÁÆÄ‰ªã 2Ôºâ„ÄÅÊï¥ÂêàSpringData JPAJPA:ORMÔºàObject Relational MappingÔºâÔºõ 1Ôºâ„ÄÅÁºñÂÜô‰∏Ä‰∏™ÂÆû‰ΩìÁ±ªÔºàbeanÔºâÂíåÊï∞ÊçÆË°®ËøõË°åÊò†Â∞ÑÔºåÂπ∂‰∏îÈÖçÁΩÆÂ•ΩÊò†Â∞ÑÂÖ≥Á≥ªÔºõ 12345678910111213//‰ΩøÁî®JPAÊ≥®Ëß£ÈÖçÁΩÆÊò†Â∞ÑÂÖ≥Á≥ª@Entity //ÂëäËØâJPAËøôÊòØ‰∏Ä‰∏™ÂÆû‰ΩìÁ±ªÔºàÂíåÊï∞ÊçÆË°®Êò†Â∞ÑÁöÑÁ±ªÔºâ@Table(name = "tbl_user") //@TableÊù•ÊåáÂÆöÂíåÂì™‰∏™Êï∞ÊçÆË°®ÂØπÂ∫î;Â¶ÇÊûúÁúÅÁï•ÈªòËÆ§Ë°®ÂêçÂ∞±ÊòØuserÔºõpublic class User &#123; @Id //ËøôÊòØ‰∏Ä‰∏™‰∏ªÈîÆ @GeneratedValue(strategy = GenerationType.IDENTITY)//Ëá™Â¢û‰∏ªÈîÆ private Integer id; @Column(name = "last_name",length = 50) //ËøôÊòØÂíåÊï∞ÊçÆË°®ÂØπÂ∫îÁöÑ‰∏Ä‰∏™Âàó private String lastName; @Column //ÁúÅÁï•ÈªòËÆ§ÂàóÂêçÂ∞±ÊòØÂ±ûÊÄßÂêç private String email; 2Ôºâ„ÄÅÁºñÂÜô‰∏Ä‰∏™DaoÊé•Âè£Êù•Êìç‰ΩúÂÆû‰ΩìÁ±ªÂØπÂ∫îÁöÑÊï∞ÊçÆË°®ÔºàRepositoryÔºâ 123//ÁªßÊâøJpaRepositoryÊù•ÂÆåÊàêÂØπÊï∞ÊçÆÂ∫ìÁöÑÊìç‰Ωúpublic interface UserRepository extends JpaRepository&lt;User,Integer&gt; &#123;&#125; 3Ôºâ„ÄÅÂü∫Êú¨ÁöÑÈÖçÁΩÆJpaProperties 1234567spring: jpa: hibernate:# Êõ¥Êñ∞ÊàñËÄÖÂàõÂª∫Êï∞ÊçÆË°®ÁªìÊûÑ ddl-auto: update# ÊéßÂà∂Âè∞ÊòæÁ§∫SQL show-sql: true ‰∏É„ÄÅÂêØÂä®ÈÖçÁΩÆÂéüÁêÜÂá†‰∏™ÈáçË¶ÅÁöÑ‰∫ã‰ª∂ÂõûË∞ÉÊú∫Âà∂ ÈÖçÁΩÆÂú®META-INF/spring.factories ApplicationContextInitializer SpringApplicationRunListener Âè™ÈúÄË¶ÅÊîæÂú®iocÂÆπÂô®‰∏≠ ApplicationRunner CommandLineRunner ÂêØÂä®ÊµÅÁ®ãÔºö 1„ÄÅÂàõÂª∫SpringApplicationÂØπË±°12345678910111213141516initialize(sources);private void initialize(Object[] sources) &#123; //‰øùÂ≠ò‰∏ªÈÖçÁΩÆÁ±ª if (sources != null &amp;&amp; sources.length &gt; 0) &#123; this.sources.addAll(Arrays.asList(sources)); &#125; //Âà§Êñ≠ÂΩìÂâçÊòØÂê¶‰∏Ä‰∏™webÂ∫îÁî® this.webEnvironment = deduceWebEnvironment(); //‰ªéÁ±ªË∑ØÂæÑ‰∏ãÊâæÂà∞META-INF/spring.factoriesÈÖçÁΩÆÁöÑÊâÄÊúâApplicationContextInitializerÔºõÁÑ∂Âêé‰øùÂ≠òËµ∑Êù• setInitializers((Collection) getSpringFactoriesInstances( ApplicationContextInitializer.class)); //‰ªéÁ±ªË∑ØÂæÑ‰∏ãÊâæÂà∞ETA-INF/spring.factoriesÈÖçÁΩÆÁöÑÊâÄÊúâApplicationListener setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class)); //‰ªéÂ§ö‰∏™ÈÖçÁΩÆÁ±ª‰∏≠ÊâæÂà∞ÊúâmainÊñπÊ≥ïÁöÑ‰∏ªÈÖçÁΩÆÁ±ª this.mainApplicationClass = deduceMainApplicationClass();&#125; 2„ÄÅËøêË°årunÊñπÊ≥ï12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; configureHeadlessProperty(); //Ëé∑ÂèñSpringApplicationRunListenersÔºõ‰ªéÁ±ªË∑ØÂæÑ‰∏ãMETA-INF/spring.factories SpringApplicationRunListeners listeners = getRunListeners(args); //ÂõûË∞ÉÊâÄÊúâÁöÑËé∑ÂèñSpringApplicationRunListener.starting()ÊñπÊ≥ï listeners.starting(); try &#123; //Â∞ÅË£ÖÂëΩ‰ª§Ë°åÂèÇÊï∞ ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); //ÂáÜÂ§áÁéØÂ¢É ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); //ÂàõÂª∫ÁéØÂ¢ÉÂÆåÊàêÂêéÂõûË∞ÉSpringApplicationRunListener.environmentPrepared()ÔºõË°®Á§∫ÁéØÂ¢ÉÂáÜÂ§áÂÆåÊàê Banner printedBanner = printBanner(environment); //ÂàõÂª∫ApplicationContextÔºõÂÜ≥ÂÆöÂàõÂª∫webÁöÑiocËøòÊòØÊôÆÈÄöÁöÑioc context = createApplicationContext(); analyzers = new FailureAnalyzers(context); //ÂáÜÂ§á‰∏ä‰∏ãÊñáÁéØÂ¢É;Â∞Üenvironment‰øùÂ≠òÂà∞ioc‰∏≠ÔºõËÄå‰∏îapplyInitializers()Ôºõ //applyInitializers()ÔºöÂõûË∞É‰πãÂâç‰øùÂ≠òÁöÑÊâÄÊúâÁöÑApplicationContextInitializerÁöÑinitializeÊñπÊ≥ï //ÂõûË∞ÉÊâÄÊúâÁöÑSpringApplicationRunListenerÁöÑcontextPrepared()Ôºõ // prepareContext(context, environment, listeners, applicationArguments, printedBanner); //prepareContextËøêË°åÂÆåÊàê‰ª•ÂêéÂõûË∞ÉÊâÄÊúâÁöÑSpringApplicationRunListenerÁöÑcontextLoadedÔºàÔºâÔºõ //sÂà∑Êñ∞ÂÆπÂô®ÔºõiocÂÆπÂô®ÂàùÂßãÂåñÔºàÂ¶ÇÊûúÊòØwebÂ∫îÁî®Ëøò‰ºöÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑTomcatÔºâÔºõSpringÊ≥®Ëß£Áâà //Êâ´ÊèèÔºåÂàõÂª∫ÔºåÂä†ËΩΩÊâÄÊúâÁªÑ‰ª∂ÁöÑÂú∞ÊñπÔºõÔºàÈÖçÁΩÆÁ±ªÔºåÁªÑ‰ª∂ÔºåËá™Âä®ÈÖçÁΩÆÔºâ refreshContext(context); //‰ªéiocÂÆπÂô®‰∏≠Ëé∑ÂèñÊâÄÊúâÁöÑApplicationRunnerÂíåCommandLineRunnerËøõË°åÂõûË∞É //ApplicationRunnerÂÖàÂõûË∞ÉÔºåCommandLineRunnerÂÜçÂõûË∞É afterRefresh(context, applicationArguments); //ÊâÄÊúâÁöÑSpringApplicationRunListenerÂõûË∞ÉfinishedÊñπÊ≥ï listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; //Êï¥‰∏™SpringBootÂ∫îÁî®ÂêØÂä®ÂÆåÊàê‰ª•ÂêéËøîÂõûÂêØÂä®ÁöÑiocÂÆπÂô®Ôºõ return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; 3„ÄÅ‰∫ã‰ª∂ÁõëÂê¨Êú∫Âà∂ÈÖçÁΩÆÂú®META-INF/spring.factories ApplicationContextInitializer 123456public class HelloApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; &#123; @Override public void initialize(ConfigurableApplicationContext applicationContext) &#123; System.out.println("ApplicationContextInitializer...initialize..."+applicationContext); &#125;&#125; SpringApplicationRunListener 123456789101112131415161718192021222324252627282930313233public class HelloSpringApplicationRunListener implements SpringApplicationRunListener &#123; //ÂøÖÈ°ªÊúâÁöÑÊûÑÈÄ†Âô® public HelloSpringApplicationRunListener(SpringApplication application, String[] args)&#123; &#125; @Override public void starting() &#123; System.out.println("SpringApplicationRunListener...starting..."); &#125; @Override public void environmentPrepared(ConfigurableEnvironment environment) &#123; Object o = environment.getSystemProperties().get("os.name"); System.out.println("SpringApplicationRunListener...environmentPrepared.."+o); &#125; @Override public void contextPrepared(ConfigurableApplicationContext context) &#123; System.out.println("SpringApplicationRunListener...contextPrepared..."); &#125; @Override public void contextLoaded(ConfigurableApplicationContext context) &#123; System.out.println("SpringApplicationRunListener...contextLoaded..."); &#125; @Override public void finished(ConfigurableApplicationContext context, Throwable exception) &#123; System.out.println("SpringApplicationRunListener...finished..."); &#125;&#125; ÈÖçÁΩÆÔºàMETA-INF/spring.factoriesÔºâ 12345org.springframework.context.ApplicationContextInitializer=\com.atguigu.springboot.listener.HelloApplicationContextInitializerorg.springframework.boot.SpringApplicationRunListener=\com.atguigu.springboot.listener.HelloSpringApplicationRunListener Âè™ÈúÄË¶ÅÊîæÂú®iocÂÆπÂô®‰∏≠ ApplicationRunner 1234567@Componentpublic class HelloApplicationRunner implements ApplicationRunner &#123; @Override public void run(ApplicationArguments args) throws Exception &#123; System.out.println("ApplicationRunner...run...."); &#125;&#125; CommandLineRunner 1234567@Componentpublic class HelloCommandLineRunner implements CommandLineRunner &#123; @Override public void run(String... args) throws Exception &#123; System.out.println("CommandLineRunner...run..."+ Arrays.asList(args)); &#125;&#125; ÂÖ´„ÄÅËá™ÂÆö‰πâstarterstarterÔºö ‚Äã 1„ÄÅËøô‰∏™Âú∫ÊôØÈúÄË¶Å‰ΩøÁî®Âà∞ÁöÑ‰æùËµñÊòØ‰ªÄ‰πàÔºü ‚Äã 2„ÄÅÂ¶Ç‰ΩïÁºñÂÜôËá™Âä®ÈÖçÁΩÆ 12345678910111213@Configuration //ÊåáÂÆöËøô‰∏™Á±ªÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ª@ConditionalOnXXX //Âú®ÊåáÂÆöÊù°‰ª∂ÊàêÁ´ãÁöÑÊÉÖÂÜµ‰∏ãËá™Âä®ÈÖçÁΩÆÁ±ªÁîüÊïà@AutoConfigureAfter //ÊåáÂÆöËá™Âä®ÈÖçÁΩÆÁ±ªÁöÑÈ°∫Â∫è@Bean //ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂@ConfigurationPropertieÁªìÂêàÁõ∏ÂÖ≥xxxPropertiesÁ±ªÊù•ÁªëÂÆöÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆ@EnableConfigurationProperties //ËÆ©xxxPropertiesÁîüÊïàÂä†ÂÖ•Âà∞ÂÆπÂô®‰∏≠Ëá™Âä®ÈÖçÁΩÆÁ±ªË¶ÅËÉΩÂä†ËΩΩÂ∞ÜÈúÄË¶ÅÂêØÂä®Â∞±Âä†ËΩΩÁöÑËá™Âä®ÈÖçÁΩÆÁ±ªÔºåÈÖçÁΩÆÂú®META-INF/spring.factoriesorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\ ‚Äã 3„ÄÅÊ®°ÂºèÔºö ÂêØÂä®Âô®Âè™Áî®Êù•ÂÅö‰æùËµñÂØºÂÖ•Ôºõ ‰∏ìÈó®Êù•ÂÜô‰∏Ä‰∏™Ëá™Âä®ÈÖçÁΩÆÊ®°ÂùóÔºõ ÂêØÂä®Âô®‰æùËµñËá™Âä®ÈÖçÁΩÆÔºõÂà´‰∫∫Âè™ÈúÄË¶ÅÂºïÂÖ•ÂêØÂä®Âô®ÔºàstarterÔºâ mybatis-spring-boot-starterÔºõËá™ÂÆö‰πâÂêØÂä®Âô®Âêç-spring-boot-starter Ê≠•È™§Ôºö 1Ôºâ„ÄÅÂêØÂä®Âô®Ê®°Âùó 12345678910111213141516171819202122&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!--ÂêØÂä®Âô®--&gt; &lt;dependencies&gt; &lt;!--ÂºïÂÖ•Ëá™Âä®ÈÖçÁΩÆÊ®°Âùó--&gt; &lt;dependency&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 2Ôºâ„ÄÅËá™Âä®ÈÖçÁΩÆÊ®°Âùó 123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!--ÂºïÂÖ•spring-boot-starterÔºõÊâÄÊúâstarterÁöÑÂü∫Êú¨ÈÖçÁΩÆ--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 1234567891011121314151617181920212223242526package com.atguigu.starter;import org.springframework.boot.context.properties.ConfigurationProperties;@ConfigurationProperties(prefix = "atguigu.hello")public class HelloProperties &#123; private String prefix; private String suffix; public String getPrefix() &#123; return prefix; &#125; public void setPrefix(String prefix) &#123; this.prefix = prefix; &#125; public String getSuffix() &#123; return suffix; &#125; public void setSuffix(String suffix) &#123; this.suffix = suffix; &#125;&#125; 123456789101112131415161718package com.atguigu.starter;public class HelloService &#123; HelloProperties helloProperties; public HelloProperties getHelloProperties() &#123; return helloProperties; &#125; public void setHelloProperties(HelloProperties helloProperties) &#123; this.helloProperties = helloProperties; &#125; public String sayHellAtguigu(String name)&#123; return helloProperties.getPrefix()+"-" +name + helloProperties.getSuffix(); &#125;&#125; 12345678910111213141516171819202122package com.atguigu.starter;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;@Configuration@ConditionalOnWebApplication //webÂ∫îÁî®ÊâçÁîüÊïà@EnableConfigurationProperties(HelloProperties.class)public class HelloServiceAutoConfiguration &#123; @Autowired HelloProperties helloProperties; @Bean public HelloService helloService()&#123; HelloService service = new HelloService(); service.setHelloProperties(helloProperties); return service; &#125;&#125; Êõ¥Â§öSpringBootÊï¥ÂêàÁ§∫‰æãhttps://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot Docker Â∞èDËØæÂ†Ç]]></title>
    <url>%2F2018%2F11%2F11%2FSpring%20Boot%2FSpringBoot-Docker-%E5%B0%8FD%E8%AF%BE%E5%A0%82%2F</url>
    <content type="text"><![CDATA[ÊûÑÂª∫SpringBoot Â∫îÁî®dockerÈïúÂÉè1.Á¨¨1ËØæ È´òÁ∫ßÁØáÂπÖ‰πãÊûÑÂª∫SpringBootÂ∫îÁî®dockerÈïúÂÉè‰∏äÈõÜ ÂÆòÊñπÊñáÊ°£Ôºöhttps://spring.io/guides/gs/spring-boot-docker/ 1„ÄÅÊ≠•È™§ÔºömavenÈáåÈù¢Ê∑ªÂä†ÈÖçÁΩÆpom.xml ÁÆÄ‰ªã:‰ΩøÁî®DockerÁöÑmavenÊèí‰ª∂ÔºåÊûÑÂª∫springbootÂ∫îÁî® &lt;!--Âú®mavenÊúÄ‰∏äÈù¢ÁöÑÁî≥ÊòéÁöÑÂú∞Êñπ--properties--&gt; &lt;properties&gt; &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt; &lt;/properties&gt; &lt;build&gt; &lt;!--È°πÁõÆÊâìÂåÖÁöÑÂêçÁß∞--&gt; &lt;finalName&gt;docker-demo&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.6&lt;/version&gt; &lt;configuration&gt; &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt; &lt;buildArgs&gt; &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt; &lt;/buildArgs&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; ÈÖçÁΩÆËÆ≤Ëß£ Spotify ÁöÑ docker-maven-plugin Êèí‰ª∂ÊòØÁî®mavenÊèí‰ª∂ÊñπÂºèÊûÑÂª∫dockerÈïúÂÉèÁöÑ„ÄÇ ${project.build.finalName} ‰∫ßÂá∫Áâ©ÂêçÁß∞ÔºåÁº∫ÁúÅ‰∏∫${project.artifactId}-${project.version} ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è https://blog.csdn.net/TMaskBoy/article/details/82562413 È´òËÉΩÈ¢ÑË≠¶ No plugin found for prefix ‚Äòdocker‚Äô in the current project and in the plugin groupsÂú®MavenÁöÑÈÖçÁΩÆÊñá‰ª∂ conf/settings.xml‰∏≠Ê∑ªÂä†com.spotify 12345&lt;pluginGroups&gt; &lt;pluginGroup&gt;com.spotify&lt;/pluginGroup&gt; &lt;/pluginGroups&gt;Ê≥®ÊÑèsettingÈÖçÁΩÆÊñá‰ª∂Âú®mavenÁöÑ‰ªìÂ∫ìÈáåÈù¢Êâæ‰∏çÂà∞ ÈáçÊñ∞Êõ¥Êñ∞idea‰∏≠mavenÁöÑÊèí‰ª∂ ÁÑ∂Âêé Êõ¥Êç¢.m2‰∏≠conf‰∏≠setting.xmlÁöÑÂÜÖÂÆπ #ËØ¶ÁªÜÈîôËØØÂ¶Ç‰∏ãÔºöom.spotify.docker.client.shaded.com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.spotify.docker.client.messages.RegistryAuth: no String-argument constructor/factory method to deserialize from String value (‚Äòswarm‚Äô) Ëµ∑Âàùpom.xml‰∏≠docker-maven-pluginÁöÑÁâàÊú¨ÊòØ1.0.0Ôºå‰ΩøÁî®mvn package docker:build -eÊûÑÂª∫ImageÂá∫Áé∞Â¶Ç‰∏äÂºÇÂ∏∏„ÄÇÁôæËà¨ÊêúÁ¥¢Êó†ÊûúÔºåÂêéÊù•ÁúãÂÖ∂‰ªñÁöÑSpring BootÊûÑÂª∫DockerÈïúÂÉèÊúâÁî®ÁöÑÊòØ0.4.3ÔºåÈÅÇ‰øÆÊîπ‰πã„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ï Â∞ÜÂ∞èDËØæÂ†ÇÈáåÈù¢ÁöÑÊèí‰ª∂ &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.6&lt;/version&gt; Êîπ‰∏∫‚≠êÔ∏è‚≠êÔ∏è 123&lt;groupId&gt;com.spotify&lt;/groupId&gt;&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt; ‚≠êÔ∏è //ËøôËæπ‰∏çÊòØdockerfile-maven-plugin‰∫ÜËÄåÊòØdocker-maven-plugin&lt;version&gt;0.4.13&lt;/version&gt; ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è Á¨¨2ËØæ È´òÁ∫ßÁØáÂπÖ‰πãÊûÑÂª∫SpringBootÂ∫îÁî®dockerÈïúÂÉè‰∏ãÈõÜ Ê≠•È™§1ÂàõÂª∫Dockerfile,ÈªòËÆ§ÊòØÊ†πÁõÆÂΩïÔºåÔºàÂèØ‰ª•‰øÆÊîπ‰∏∫src/main/docker/Dockerfile,Â¶ÇÊûú‰øÆÂàôÈúÄË¶ÅÂà∂ÂÆöË∑ØÂæÑÔºâ ÁÆÄ‰ªã:ÊâìÂåÖSpringCloudÈïúÂÉèÂπ∂‰∏ä‰º†ÁßÅÊúâ‰ªìÂ∫ìÂπ∂ÈÉ®ÁΩ≤ 1„ÄÅ ‰ªÄ‰πàÊòØDockerfile : Áî±‰∏ÄÁ≥ªÂàóÂëΩ‰ª§ÂíåÂèÇÊï∞ÊûÑÊàêÁöÑËÑöÊú¨ÔºåËøô‰∫õÂëΩ‰ª§Â∫îÁî®‰∫éÂü∫Á°ÄÈïúÂÉè, ÊúÄÁªàÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈïú ÂÉè ÂÆûÊàò FROM openjdk:8-jdk-alpine VOLUME /tmp ARG JAR_FILE COPY ${JAR_FILE} app.jar ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] ÂèÇÊï∞ËÆ≤Ëß£Ôºö FROM &lt;image&gt;:&lt;tag&gt; ÈúÄË¶Å‰∏Ä‰∏™Âü∫Á°ÄÈïúÂÉèÔºåÂèØ‰ª•ÊòØÂÖ¨ÂÖ±ÁöÑÊàñËÄÖÊòØÁßÅÊúâÁöÑÔºå ÂêéÁª≠ÊûÑÂª∫‰ºöÂü∫‰∫éÊ≠§ÈïúÂÉèÔºåÂ¶ÇÊûúÂêå‰∏Ä‰∏™Dockerfile‰∏≠Âª∫Á´ãÂ§ö‰∏™ÈïúÂÉèÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™FROMÊåá‰ª§ VOLUME ÈÖçÁΩÆ‰∏Ä‰∏™ÂÖ∑ÊúâÊåÅ‰πÖÂåñÂäüËÉΩÁöÑÁõÆÂΩïÔºå‰∏ªÊú∫ /var/lib/docker ÁõÆÂΩï‰∏ãÂàõÂª∫‰∫Ü‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂ÔºåÂπ∂ÈìæÊé•Âà∞ÂÆπ Âô®ÁöÑ/tmp„ÄÇÊîπÊ≠•È™§ÊòØÂèØÈÄâÁöÑÔºåÂ¶ÇÊûúÊ∂âÂèäÂà∞Êñá‰ª∂Á≥ªÁªüÁöÑÂ∫îÁî®Â∞±ÂæàÊúâÂøÖË¶Å‰∫Ü„ÄÇ/tmpÁõÆÂΩïÁî®Êù•ÊåÅ‰πÖÂåñÂà∞ Docker Êï∞ÊçÆ Êñá‰ª∂Â§πÔºåÂõ†‰∏∫ Spring Boot ‰ΩøÁî®ÁöÑÂÜÖÂµå Tomcat ÂÆπÂô®ÈªòËÆ§‰ΩøÁî®/tmp‰Ωú‰∏∫Â∑•‰ΩúÁõÆÂΩï ARG ËÆæÁΩÆÁºñËØëÈïúÂÉèÊó∂Âä†ÂÖ•ÁöÑÂèÇÊï∞Ôºå ENV ÊòØËÆæÁΩÆÂÆπÂô®ÁöÑÁéØÂ¢ÉÂèòÈáè COPY : Âè™ÊîØÊåÅÂ∞ÜÊú¨Âú∞Êñá‰ª∂Â§çÂà∂Âà∞ÂÆπÂô® ,ËøòÊúâ‰∏™ADDÊõ¥Âº∫Â§ß‰ΩÜÂ§çÊùÇÁÇπ ENTRYPOINT ÂÆπÂô®ÂêØÂä®Êó∂ÊâßË°åÁöÑÂëΩ‰ª§ EXPOSE 8080 Êö¥Èú≤ÈïúÂÉèÁ´ØÂè£ Á¨¨3ËØæÊûÑÂª∫ÈïúÂÉè2„ÄÅÊûÑÂª∫ÈïúÂÉè mvn install dockerfile:build ÊâìÊ†áÁ≠æ docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 Êé®ÈÄÅÂà∞ÈïúÂÉè‰ªìÂ∫ì docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 Â∫îÁî®ÊúçÂä°Âô®ÊãâÂèñÈïúÂÉè docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 docker run -d --name xdclass_docker_demo1 -p 8099:8080 a1b9fc71720d 3„ÄÅÊü•ÁúãÂêØÂä®Êó•Âøó docker logs -f containerid ÂÆûÊàò1.mvn install dockerfile:build„ÄÇ‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πàÁªàÁ´ØÊ≤°ÊúâÁî®idea‰∏≠ÁªàÁ´ØÂç¥ÊúâÁî® üòÑÂìàÂìà 2.docker images Ê≤°ÊúâÂêçÂ≠óÈïúÂÉèÔºüÔºüÊ≥®ÊÑèÂú®idea‰∏≠ÊµãËØïÁöÑËØùÂ∞±Ë¶ÅÁî®idea ‰∏çË¶ÅÈöèÂèòÊîπÊàêÁªàÁ´Ø 3.docker run -d ‚Äìname demo -p 8080:8080 8ef42611e3b0 Â§áÊ≥®ÔºöËøêË°åÈïúÂÉè ‚Äìname ÊåáÂÆöÂêçÂ≠ó -d ÂêéÂè∞ËøêË°å 8ef42611e3b0ÔºöÂàöÂàöÊûÑÂª∫ÁöÑimageÁöÑID name ‰∏ç‰ºöÁî®Â∞±Âà´Áî® 4.docker ps Êü•Áúã‰∏Ä‰∏ãÈïúÂÉèÁöÑËøõÁ®ã ÔºüÔºüÔºüÊ≤°ÊúâÁ®ãÂ∫è„ÄÇÊµãËØï‰∏Ä‰∏ã]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot Èõ∑‰∏∞Èò≥Êï¥ÂêàÁØá]]></title>
    <url>%2F2018%2F11%2F11%2FSpring%20Boot%2FSpringBoot%E9%AB%98%E7%BA%A7%E9%9B%B7%E4%B8%B0%E9%98%B3%2F</url>
    <content type="text"><![CDATA[#1 SpringBoot-cache SpringbootCacheApplication1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import org.mybatis.spring.annotation.MapperScan;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cache.annotation.EnableCaching;/** * ‰∏Ä„ÄÅÊê≠Âª∫Âü∫Êú¨ÁéØÂ¢É * 1„ÄÅÂØºÂÖ•Êï∞ÊçÆÂ∫ìÊñá‰ª∂ ÂàõÂª∫Âá∫departmentÂíåemployeeË°® * 2„ÄÅÂàõÂª∫javaBeanÂ∞ÅË£ÖÊï∞ÊçÆ * 3„ÄÅÊï¥ÂêàMyBatisÊìç‰ΩúÊï∞ÊçÆÂ∫ì * 1.ÈÖçÁΩÆÊï∞ÊçÆÊ∫ê‰ø°ÊÅØ * 2.‰ΩøÁî®Ê≥®Ëß£ÁâàÁöÑMyBatisÔºõ * 1Ôºâ„ÄÅ@MapperScanÊåáÂÆöÈúÄË¶ÅÊâ´ÊèèÁöÑmapperÊé•Âè£ÊâÄÂú®ÁöÑÂåÖ * ‰∫å„ÄÅÂø´ÈÄü‰ΩìÈ™åÁºìÂ≠ò * Ê≠•È™§Ôºö * 1„ÄÅÂºÄÂêØÂü∫‰∫éÊ≥®Ëß£ÁöÑÁºìÂ≠ò @EnableCaching * 2„ÄÅÊ†áÊ≥®ÁºìÂ≠òÊ≥®Ëß£Âç≥ÂèØ * @Cacheable * @CacheEvict * @CachePut * ÈªòËÆ§‰ΩøÁî®ÁöÑÊòØConcurrentMapCacheManager==ConcurrentMapCacheÔºõÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÂú® ConcurrentMap&lt;Object, Object&gt;‰∏≠ * ÂºÄÂèë‰∏≠‰ΩøÁî®ÁºìÂ≠ò‰∏≠Èó¥‰ª∂Ôºõredis„ÄÅmemcached„ÄÅehcacheÔºõ * ‰∏â„ÄÅÊï¥Âêàredis‰Ωú‰∏∫ÁºìÂ≠ò * Redis ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÔºàBSDËÆ∏ÂèØÔºâÁöÑÔºåÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÁªìÊûÑÂ≠òÂÇ®Á≥ªÁªüÔºåÂÆÉÂèØ‰ª•Áî®‰ΩúÊï∞ÊçÆÂ∫ì„ÄÅÁºìÂ≠òÂíåÊ∂àÊÅØ‰∏≠Èó¥‰ª∂„ÄÇ * 1„ÄÅÂÆâË£ÖredisÔºö‰ΩøÁî®dockerÔºõ * 2„ÄÅÂºïÂÖ•redisÁöÑstarter * 3„ÄÅÈÖçÁΩÆredis * 4„ÄÅÊµãËØïÁºìÂ≠ò * ÂéüÁêÜÔºöCacheManager===Cache ÁºìÂ≠òÁªÑ‰ª∂Êù•ÂÆûÈôÖÁªôÁºìÂ≠ò‰∏≠Â≠òÂèñÊï∞ÊçÆ * 1Ôºâ„ÄÅÂºïÂÖ•redisÁöÑstarterÔºåÂÆπÂô®‰∏≠‰øùÂ≠òÁöÑÊòØ RedisCacheManagerÔºõ * 2Ôºâ„ÄÅRedisCacheManager Â∏ÆÊàë‰ª¨ÂàõÂª∫ RedisCache Êù•‰Ωú‰∏∫ÁºìÂ≠òÁªÑ‰ª∂ÔºõRedisCacheÈÄöËøáÊìç‰ΩúredisÁºìÂ≠òÊï∞ÊçÆÁöÑ * 3Ôºâ„ÄÅÈªòËÆ§‰øùÂ≠òÊï∞ÊçÆ k-v ÈÉΩÊòØObjectÔºõÂà©Áî®Â∫èÂàóÂåñ‰øùÂ≠òÔºõÂ¶Ç‰Ωï‰øùÂ≠ò‰∏∫json * 1„ÄÅÂºïÂÖ•‰∫ÜredisÁöÑstarterÔºåcacheManagerÂèò‰∏∫ RedisCacheManagerÔºõ * 2„ÄÅÈªòËÆ§ÂàõÂª∫ÁöÑ RedisCacheManager Êìç‰ΩúredisÁöÑÊó∂ÂÄô‰ΩøÁî®ÁöÑÊòØ RedisTemplate&lt;Object, Object&gt; * 3„ÄÅRedisTemplate&lt;Object, Object&gt; ÊòØ ÈªòËÆ§‰ΩøÁî®jdkÁöÑÂ∫èÂàóÂåñÊú∫Âà∂ * 4Ôºâ„ÄÅËá™ÂÆö‰πâCacheManagerÔºõ * */@MapperScan("com.atguigu.cache.mapper")@SpringBootApplication@EnableCachingpublic class Springboot01CacheApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot01CacheApplication.class, args); &#125;&#125; Bean‚ÄìDepartment12345678910111213141516171819202122232425262728293031323334package com.atguigu.cache.bean;public class Department &#123; private Integer id; private String departmentName; public Department() &#123; super(); // TODO Auto-generated constructor stub &#125; public Department(Integer id, String departmentName) &#123; super(); this.id = id; this.departmentName = departmentName; &#125; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getDepartmentName() &#123; return departmentName; &#125; public void setDepartmentName(String departmentName) &#123; this.departmentName = departmentName; &#125; @Override public String toString() &#123; return "Department [id=" + id + ", departmentName=" + departmentName + "]"; &#125;&#125; Bean‚ÄîEmployee12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package com.atguigu.cache.bean;import java.io.Serializable;public class Employee implements Serializable &#123; private Integer id; private String lastName; private String email; private Integer gender; //ÊÄßÂà´ 1Áî∑ 0Â•≥ private Integer dId; public Employee() &#123; super(); &#125; public Employee(Integer id, String lastName, String email, Integer gender, Integer dId) &#123; super(); this.id = id; this.lastName = lastName; this.email = email; this.gender = gender; this.dId = dId; &#125; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getLastName() &#123; return lastName; &#125; public void setLastName(String lastName) &#123; this.lastName = lastName; &#125; public String getEmail() &#123; return email; &#125; public void setEmail(String email) &#123; this.email = email; &#125; public Integer getGender() &#123; return gender; &#125; public void setGender(Integer gender) &#123; this.gender = gender; &#125; public Integer getdId() &#123; return dId; &#125; public void setdId(Integer dId) &#123; this.dId = dId; &#125; @Override public String toString() &#123; return "Employee [id=" + id + ", lastName=" + lastName + ", email=" + email + ", gender=" + gender + ", dId=" + dId + "]"; &#125; &#125; config‚ÄîmyRedisConfig12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package com.atguigu.cache.config;import com.atguigu.cache.bean.Department;import com.atguigu.cache.bean.Employee;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.Primary;import org.springframework.data.redis.cache.RedisCacheManager;import org.springframework.data.redis.connection.RedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;import java.net.UnknownHostException;@Configurationpublic class MyRedisConfig &#123; @Bean public RedisTemplate&lt;Object, Employee&gt; empRedisTemplate( RedisConnectionFactory redisConnectionFactory) throws UnknownHostException &#123; RedisTemplate&lt;Object, Employee&gt; template = new RedisTemplate&lt;Object, Employee&gt;(); template.setConnectionFactory(redisConnectionFactory); Jackson2JsonRedisSerializer&lt;Employee&gt; ser = new Jackson2JsonRedisSerializer&lt;Employee&gt;(Employee.class); template.setDefaultSerializer(ser); return template; &#125; @Bean public RedisTemplate&lt;Object, Department&gt; deptRedisTemplate( RedisConnectionFactory redisConnectionFactory) throws UnknownHostException &#123; RedisTemplate&lt;Object, Department&gt; template = new RedisTemplate&lt;Object, Department&gt;(); template.setConnectionFactory(redisConnectionFactory); Jackson2JsonRedisSerializer&lt;Department&gt; ser = new Jackson2JsonRedisSerializer&lt;Department&gt;(Department.class); template.setDefaultSerializer(ser); return template; &#125; //CacheManagerCustomizersÂèØ‰ª•Êù•ÂÆöÂà∂ÁºìÂ≠òÁöÑ‰∏Ä‰∫õËßÑÂàô @Primary //Â∞ÜÊüê‰∏™ÁºìÂ≠òÁÆ°ÁêÜÂô®‰Ωú‰∏∫ÈªòËÆ§ÁöÑ @Bean public RedisCacheManager employeeCacheManager(RedisTemplate&lt;Object, Employee&gt; empRedisTemplate)&#123; RedisCacheManager cacheManager = new RedisCacheManager(empRedisTemplate); //keyÂ§ö‰∫Ü‰∏Ä‰∏™ÂâçÁºÄ //‰ΩøÁî®ÂâçÁºÄÔºåÈªòËÆ§‰ºöÂ∞ÜCacheName‰Ωú‰∏∫keyÁöÑÂâçÁºÄ cacheManager.setUsePrefix(true); return cacheManager; &#125; @Bean public RedisCacheManager deptCacheManager(RedisTemplate&lt;Object, Department&gt; deptRedisTemplate)&#123; RedisCacheManager cacheManager = new RedisCacheManager(deptRedisTemplate); //keyÂ§ö‰∫Ü‰∏Ä‰∏™ÂâçÁºÄ //‰ΩøÁî®ÂâçÁºÄÔºåÈªòËÆ§‰ºöÂ∞ÜCacheName‰Ωú‰∏∫keyÁöÑÂâçÁºÄ cacheManager.setUsePrefix(true); return cacheManager; &#125;&#125; config‚Äîmycacheconfig1234567891011121314151617181920212223package com.atguigu.cache.config;import org.springframework.cache.interceptor.KeyGenerator;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import java.lang.reflect.Method;import java.util.Arrays;@Configurationpublic class MyCacheConfig &#123; @Bean(&quot;myKeyGenerator&quot;) public KeyGenerator keyGenerator()&#123; return new KeyGenerator()&#123; @Override public Object generate(Object target, Method method, Object... params) &#123; return method.getName()+&quot;[&quot;+ Arrays.asList(params).toString()+&quot;]&quot;; &#125; &#125;; &#125;&#125; DeptService123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.atguigu.cache.service;import com.atguigu.cache.bean.Department;import com.atguigu.cache.mapper.DepartmentMapper;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Qualifier;import org.springframework.cache.Cache;import org.springframework.cache.annotation.CacheConfig;import org.springframework.cache.annotation.Cacheable;import org.springframework.data.redis.cache.RedisCacheManager;import org.springframework.stereotype.Service;@Servicepublic class DeptService &#123; @Autowired DepartmentMapper departmentMapper; @Qualifier("deptCacheManager") @Autowired RedisCacheManager deptCacheManager; /** * ÁºìÂ≠òÁöÑÊï∞ÊçÆËÉΩÂ≠òÂÖ•redisÔºõ * Á¨¨‰∫åÊ¨°‰ªéÁºìÂ≠ò‰∏≠Êü•ËØ¢Â∞±‰∏çËÉΩÂèçÂ∫èÂàóÂåñÂõûÊù•Ôºõ * Â≠òÁöÑÊòØdeptÁöÑjsonÊï∞ÊçÆ;CacheManagerÈªòËÆ§‰ΩøÁî®RedisTemplate&lt;Object, Employee&gt;Êìç‰ΩúRedis * * * @param id * @return */// @Cacheable(cacheNames = "dept",cacheManager = "deptCacheManager")// public Department getDeptById(Integer id)&#123;// System.out.println("Êü•ËØ¢ÈÉ®Èó®"+id);// Department department = departmentMapper.getDeptById(id);// return department;// &#125; // ‰ΩøÁî®ÁºìÂ≠òÁÆ°ÁêÜÂô®ÂæóÂà∞ÁºìÂ≠òÔºåËøõË°åapiË∞ÉÁî® public Department getDeptById(Integer id)&#123; System.out.println("Êü•ËØ¢ÈÉ®Èó®"+id); Department department = departmentMapper.getDeptById(id); //Ëé∑ÂèñÊüê‰∏™ÁºìÂ≠ò Cache dept = deptCacheManager.getCache("dept"); dept.put("dept:1",department); return department; &#125;&#125; EmployeeService123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155package com.atguigu.cache.service;import com.atguigu.cache.bean.Employee;import com.atguigu.cache.mapper.EmployeeMapper;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.cache.annotation.*;import org.springframework.stereotype.Service;@CacheConfig(cacheNames="emp"/*,cacheManager = "employeeCacheManager"*/) //ÊäΩÂèñÁºìÂ≠òÁöÑÂÖ¨ÂÖ±ÈÖçÁΩÆ@Servicepublic class EmployeeService &#123; @Autowired EmployeeMapper employeeMapper; /** * Â∞ÜÊñπÊ≥ïÁöÑËøêË°åÁªìÊûúËøõË°åÁºìÂ≠òÔºõ‰ª•ÂêéÂÜçË¶ÅÁõ∏ÂêåÁöÑÊï∞ÊçÆÔºåÁõ¥Êé•‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÔºå‰∏çÁî®Ë∞ÉÁî®ÊñπÊ≥ïÔºõ * CacheManagerÁÆ°ÁêÜÂ§ö‰∏™CacheÁªÑ‰ª∂ÁöÑÔºåÂØπÁºìÂ≠òÁöÑÁúüÊ≠£CRUDÊìç‰ΩúÂú®CacheÁªÑ‰ª∂‰∏≠ÔºåÊØè‰∏Ä‰∏™ÁºìÂ≠òÁªÑ‰ª∂ÊúâËá™Â∑±ÂîØ‰∏Ä‰∏Ä‰∏™ÂêçÂ≠óÔºõ * * * ÂéüÁêÜÔºö * 1„ÄÅËá™Âä®ÈÖçÁΩÆÁ±ªÔºõCacheAutoConfiguration * 2„ÄÅÁºìÂ≠òÁöÑÈÖçÁΩÆÁ±ª * org.springframework.boot.autoconfigure.cache.GenericCacheConfiguration * org.springframework.boot.autoconfigure.cache.JCacheCacheConfiguration * org.springframework.boot.autoconfigure.cache.EhCacheCacheConfiguration * org.springframework.boot.autoconfigure.cache.HazelcastCacheConfiguration * org.springframework.boot.autoconfigure.cache.InfinispanCacheConfiguration * org.springframework.boot.autoconfigure.cache.CouchbaseCacheConfiguration * org.springframework.boot.autoconfigure.cache.RedisCacheConfiguration * org.springframework.boot.autoconfigure.cache.CaffeineCacheConfiguration * org.springframework.boot.autoconfigure.cache.GuavaCacheConfiguration * org.springframework.boot.autoconfigure.cache.SimpleCacheConfiguration„ÄêÈªòËÆ§„Äë * org.springframework.boot.autoconfigure.cache.NoOpCacheConfiguration * 3„ÄÅÂì™‰∏™ÈÖçÁΩÆÁ±ªÈªòËÆ§ÁîüÊïàÔºöSimpleCacheConfigurationÔºõ * * 4„ÄÅÁªôÂÆπÂô®‰∏≠Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™CacheManagerÔºöConcurrentMapCacheManager * 5„ÄÅÂèØ‰ª•Ëé∑ÂèñÂíåÂàõÂª∫ConcurrentMapCacheÁ±ªÂûãÁöÑÁºìÂ≠òÁªÑ‰ª∂Ôºõ‰ªñÁöÑ‰ΩúÁî®Â∞ÜÊï∞ÊçÆ‰øùÂ≠òÂú®ConcurrentMap‰∏≠Ôºõ * * ËøêË°åÊµÅÁ®ãÔºö * @CacheableÔºö * 1„ÄÅÊñπÊ≥ïËøêË°å‰πãÂâçÔºåÂÖàÂéªÊü•ËØ¢CacheÔºàÁºìÂ≠òÁªÑ‰ª∂ÔºâÔºåÊåâÁÖßcacheNamesÊåáÂÆöÁöÑÂêçÂ≠óËé∑ÂèñÔºõ * ÔºàCacheManagerÂÖàËé∑ÂèñÁõ∏Â∫îÁöÑÁºìÂ≠òÔºâÔºåÁ¨¨‰∏ÄÊ¨°Ëé∑ÂèñÁºìÂ≠òÂ¶ÇÊûúÊ≤°ÊúâCacheÁªÑ‰ª∂‰ºöËá™Âä®ÂàõÂª∫„ÄÇ * 2„ÄÅÂéªCache‰∏≠Êü•ÊâæÁºìÂ≠òÁöÑÂÜÖÂÆπÔºå‰ΩøÁî®‰∏Ä‰∏™keyÔºåÈªòËÆ§Â∞±ÊòØÊñπÊ≥ïÁöÑÂèÇÊï∞Ôºõ * keyÊòØÊåâÁÖßÊüêÁßçÁ≠ñÁï•ÁîüÊàêÁöÑÔºõÈªòËÆ§ÊòØ‰ΩøÁî®keyGeneratorÁîüÊàêÁöÑÔºåÈªòËÆ§‰ΩøÁî®SimpleKeyGeneratorÁîüÊàêkeyÔºõ * SimpleKeyGeneratorÁîüÊàêkeyÁöÑÈªòËÆ§Á≠ñÁï•Ôºõ * Â¶ÇÊûúÊ≤°ÊúâÂèÇÊï∞Ôºõkey=new SimpleKey()Ôºõ * Â¶ÇÊûúÊúâ‰∏Ä‰∏™ÂèÇÊï∞Ôºökey=ÂèÇÊï∞ÁöÑÂÄº * Â¶ÇÊûúÊúâÂ§ö‰∏™ÂèÇÊï∞Ôºökey=new SimpleKey(params)Ôºõ * 3„ÄÅÊ≤°ÊúâÊü•Âà∞ÁºìÂ≠òÂ∞±Ë∞ÉÁî®ÁõÆÊ†áÊñπÊ≥ïÔºõ * 4„ÄÅÂ∞ÜÁõÆÊ†áÊñπÊ≥ïËøîÂõûÁöÑÁªìÊûúÔºåÊîæËøõÁºìÂ≠ò‰∏≠ * * @CacheableÊ†áÊ≥®ÁöÑÊñπÊ≥ïÊâßË°å‰πãÂâçÂÖàÊù•Ê£ÄÊü•ÁºìÂ≠ò‰∏≠ÊúâÊ≤°ÊúâËøô‰∏™Êï∞ÊçÆÔºåÈªòËÆ§ÊåâÁÖßÂèÇÊï∞ÁöÑÂÄº‰Ωú‰∏∫keyÂéªÊü•ËØ¢ÁºìÂ≠òÔºå * Â¶ÇÊûúÊ≤°ÊúâÂ∞±ËøêË°åÊñπÊ≥ïÂπ∂Â∞ÜÁªìÊûúÊîæÂÖ•ÁºìÂ≠òÔºõ‰ª•ÂêéÂÜçÊù•Ë∞ÉÁî®Â∞±ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÔºõ * * Ê†∏ÂøÉÔºö * 1Ôºâ„ÄÅ‰ΩøÁî®CacheManager„ÄêConcurrentMapCacheManager„ÄëÊåâÁÖßÂêçÂ≠óÂæóÂà∞Cache„ÄêConcurrentMapCache„ÄëÁªÑ‰ª∂ * 2Ôºâ„ÄÅkey‰ΩøÁî®keyGeneratorÁîüÊàêÁöÑÔºåÈªòËÆ§ÊòØSimpleKeyGenerator * * * Âá†‰∏™Â±ûÊÄßÔºö * cacheNames/valueÔºöÊåáÂÆöÁºìÂ≠òÁªÑ‰ª∂ÁöÑÂêçÂ≠ó;Â∞ÜÊñπÊ≥ïÁöÑËøîÂõûÁªìÊûúÊîæÂú®Âì™‰∏™ÁºìÂ≠ò‰∏≠ÔºåÊòØÊï∞ÁªÑÁöÑÊñπÂºèÔºåÂèØ‰ª•ÊåáÂÆöÂ§ö‰∏™ÁºìÂ≠òÔºõ * * keyÔºöÁºìÂ≠òÊï∞ÊçÆ‰ΩøÁî®ÁöÑkeyÔºõÂèØ‰ª•Áî®ÂÆÉÊù•ÊåáÂÆö„ÄÇÈªòËÆ§ÊòØ‰ΩøÁî®ÊñπÊ≥ïÂèÇÊï∞ÁöÑÂÄº 1-ÊñπÊ≥ïÁöÑËøîÂõûÂÄº * ÁºñÂÜôSpELÔºõ #i d;ÂèÇÊï∞idÁöÑÂÄº #a0 #p0 #root.args[0] * getEmp[2] * * keyGeneratorÔºökeyÁöÑÁîüÊàêÂô®ÔºõÂèØ‰ª•Ëá™Â∑±ÊåáÂÆökeyÁöÑÁîüÊàêÂô®ÁöÑÁªÑ‰ª∂id * key/keyGeneratorÔºö‰∫åÈÄâ‰∏Ä‰ΩøÁî®; * * * cacheManagerÔºöÊåáÂÆöÁºìÂ≠òÁÆ°ÁêÜÂô®ÔºõÊàñËÄÖcacheResolverÊåáÂÆöËé∑ÂèñËß£ÊûêÂô® * * conditionÔºöÊåáÂÆöÁ¨¶ÂêàÊù°‰ª∂ÁöÑÊÉÖÂÜµ‰∏ãÊâçÁºìÂ≠òÔºõ * ,condition = "#id&gt;0" * condition = "#a0&gt;1"ÔºöÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂÄº„Äã1ÁöÑÊó∂ÂÄôÊâçËøõË°åÁºìÂ≠ò * * unless:Âê¶ÂÆöÁºìÂ≠òÔºõÂΩìunlessÊåáÂÆöÁöÑÊù°‰ª∂‰∏∫trueÔºåÊñπÊ≥ïÁöÑËøîÂõûÂÄºÂ∞±‰∏ç‰ºöË¢´ÁºìÂ≠òÔºõÂèØ‰ª•Ëé∑ÂèñÂà∞ÁªìÊûúËøõË°åÂà§Êñ≠ * unless = "#result == null" * unless = "#a0==2":Â¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂÄºÊòØ2ÔºåÁªìÊûú‰∏çÁºìÂ≠òÔºõ * syncÔºöÊòØÂê¶‰ΩøÁî®ÂºÇÊ≠•Ê®°Âºè * @param id * @return * */ @Cacheable(value = &#123;"emp"&#125;/*,keyGenerator = "myKeyGenerator",condition = "#a0&gt;1",unless = "#a0==2"*/) public Employee getEmp(Integer id)&#123; System.out.println("Êü•ËØ¢"+id+"Âè∑ÂëòÂ∑•"); Employee emp = employeeMapper.getEmpById(id); return emp; &#125; /** * @CachePutÔºöÊó¢Ë∞ÉÁî®ÊñπÊ≥ïÔºåÂèàÊõ¥Êñ∞ÁºìÂ≠òÊï∞ÊçÆÔºõÂêåÊ≠•Êõ¥Êñ∞ÁºìÂ≠ò * ‰øÆÊîπ‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÊüê‰∏™Êï∞ÊçÆÔºåÂêåÊó∂Êõ¥Êñ∞ÁºìÂ≠òÔºõ * ËøêË°åÊó∂Êú∫Ôºö * 1„ÄÅÂÖàË∞ÉÁî®ÁõÆÊ†áÊñπÊ≥ï * 2„ÄÅÂ∞ÜÁõÆÊ†áÊñπÊ≥ïÁöÑÁªìÊûúÁºìÂ≠òËµ∑Êù• * * ÊµãËØïÊ≠•È™§Ôºö * 1„ÄÅÊü•ËØ¢1Âè∑ÂëòÂ∑•ÔºõÊü•Âà∞ÁöÑÁªìÊûú‰ºöÊîæÂú®ÁºìÂ≠ò‰∏≠Ôºõ * keyÔºö1 valueÔºölastNameÔºöÂº†‰∏â * 2„ÄÅ‰ª•ÂêéÊü•ËØ¢ËøòÊòØ‰πãÂâçÁöÑÁªìÊûú * 3„ÄÅÊõ¥Êñ∞1Âè∑ÂëòÂ∑•Ôºõ„ÄêlastName:zhangsanÔºõgender:0„Äë * Â∞ÜÊñπÊ≥ïÁöÑËøîÂõûÂÄº‰πüÊîæËøõÁºìÂ≠ò‰∫ÜÔºõ * keyÔºö‰º†ÂÖ•ÁöÑemployeeÂØπË±° ÂÄºÔºöËøîÂõûÁöÑemployeeÂØπË±°Ôºõ * 4„ÄÅÊü•ËØ¢1Âè∑ÂëòÂ∑•Ôºü * Â∫îËØ•ÊòØÊõ¥Êñ∞ÂêéÁöÑÂëòÂ∑•Ôºõ * key = "#employee.id":‰ΩøÁî®‰º†ÂÖ•ÁöÑÂèÇÊï∞ÁöÑÂëòÂ∑•idÔºõ * key = "#result.id"Ôºö‰ΩøÁî®ËøîÂõûÂêéÁöÑid * @CacheableÁöÑkeyÊòØ‰∏çËÉΩÁî®#result * ‰∏∫‰ªÄ‰πàÊòØÊ≤°Êõ¥Êñ∞ÂâçÁöÑÔºü„Äê1Âè∑ÂëòÂ∑•Ê≤°ÊúâÂú®ÁºìÂ≠ò‰∏≠Êõ¥Êñ∞„Äë * */ @CachePut(/*value = "emp",*/key = "#result.id") public Employee updateEmp(Employee employee)&#123; System.out.println("updateEmp:"+employee); employeeMapper.updateEmp(employee); return employee; &#125; /** * @CacheEvictÔºöÁºìÂ≠òÊ∏ÖÈô§ * keyÔºöÊåáÂÆöË¶ÅÊ∏ÖÈô§ÁöÑÊï∞ÊçÆ * allEntries = trueÔºöÊåáÂÆöÊ∏ÖÈô§Ëøô‰∏™ÁºìÂ≠ò‰∏≠ÊâÄÊúâÁöÑÊï∞ÊçÆ * beforeInvocation = falseÔºöÁºìÂ≠òÁöÑÊ∏ÖÈô§ÊòØÂê¶Âú®ÊñπÊ≥ï‰πãÂâçÊâßË°å * ÈªòËÆ§‰ª£Ë°®ÁºìÂ≠òÊ∏ÖÈô§Êìç‰ΩúÊòØÂú®ÊñπÊ≥ïÊâßË°å‰πãÂêéÊâßË°å;Â¶ÇÊûúÂá∫Áé∞ÂºÇÂ∏∏ÁºìÂ≠òÂ∞±‰∏ç‰ºöÊ∏ÖÈô§ * * beforeInvocation = trueÔºö * ‰ª£Ë°®Ê∏ÖÈô§ÁºìÂ≠òÊìç‰ΩúÊòØÂú®ÊñπÊ≥ïËøêË°å‰πãÂâçÊâßË°åÔºåÊó†ËÆ∫ÊñπÊ≥ïÊòØÂê¶Âá∫Áé∞ÂºÇÂ∏∏ÔºåÁºìÂ≠òÈÉΩÊ∏ÖÈô§ * * */ @CacheEvict(value="emp",beforeInvocation = true/*key = "#id",*/) public void deleteEmp(Integer id)&#123; System.out.println("deleteEmp:"+id); //employeeMapper.deleteEmpById(id); int i = 10/0; &#125; // @Caching ÂÆö‰πâÂ§çÊùÇÁöÑÁºìÂ≠òËßÑÂàô @Caching( cacheable = &#123; @Cacheable(/*value="emp",*/key = "#lastName") &#125;, put = &#123; @CachePut(/*value="emp",*/key = "#result.id"), @CachePut(/*value="emp",*/key = "#result.email") &#125; ) public Employee getEmpByLastName(String lastName)&#123; return employeeMapper.getEmpByLastName(lastName); &#125;&#125; 2 SpringBoot -amqpSpringBootAmqpApplication1234567891011121314151617181920212223242526package com.atguigu.amqp;import org.springframework.amqp.rabbit.annotation.EnableRabbit;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;/** * Ëá™Âä®ÈÖçÁΩÆ * 1„ÄÅRabbitAutoConfiguration * 2„ÄÅÊúâËá™Âä®ÈÖçÁΩÆ‰∫ÜËøûÊé•Â∑•ÂéÇConnectionFactoryÔºõ * 3„ÄÅRabbitProperties Â∞ÅË£Ö‰∫Ü RabbitMQÁöÑÈÖçÁΩÆ * 4„ÄÅ RabbitTemplate ÔºöÁªôRabbitMQÂèëÈÄÅÂíåÊé•ÂèóÊ∂àÊÅØÔºõ * 5„ÄÅ AmqpAdmin Ôºö RabbitMQÁ≥ªÁªüÁÆ°ÁêÜÂäüËÉΩÁªÑ‰ª∂; * AmqpAdminÔºöÂàõÂª∫ÂíåÂà†Èô§ QueueÔºåExchangeÔºåBinding * 6„ÄÅ@EnableRabbit + @RabbitListener ÁõëÂê¨Ê∂àÊÅØÈòüÂàóÁöÑÂÜÖÂÆπ * */@EnableRabbit //ÂºÄÂêØÂü∫‰∫éÊ≥®Ëß£ÁöÑRabbitMQÊ®°Âºè@SpringBootApplicationpublic class Springboot02AmqpApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot02AmqpApplication.class, args); &#125;&#125; BookService123456789101112131415161718192021package com.atguigu.amqp.service;import com.atguigu.amqp.bean.Book;import org.springframework.amqp.core.Message;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Service;@Servicepublic class BookService &#123; @RabbitListener(queues = "atguigu.news") public void receive(Book book)&#123; System.out.println("Êî∂Âà∞Ê∂àÊÅØÔºö"+book); &#125; @RabbitListener(queues = "atguigu") public void receive02(Message message)&#123; System.out.println(message.getBody()); System.out.println(message.getMessageProperties()); &#125;&#125; MyAMQPConfig12345678@Configurationpublic class MyAMQPConfig &#123; @Bean public MessageConverter messageConverter()&#123; return new Jackson2JsonMessageConverter(); &#125;&#125; 3 SpringBoot-elastic12345678910111213141516171819202122232425262728package com.atguigu.elastic;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;/** * SpringBootÈªòËÆ§ÊîØÊåÅ‰∏§ÁßçÊäÄÊúØÊù•ÂíåES‰∫§‰∫íÔºõ * 1„ÄÅJestÔºàÈªòËÆ§‰∏çÁîüÊïàÔºâ * ÈúÄË¶ÅÂØºÂÖ•jestÁöÑÂ∑•ÂÖ∑ÂåÖÔºàio.searchbox.client.JestClientÔºâ * 2„ÄÅSpringData ElasticSearch„ÄêESÁâàÊú¨ÊúâÂèØËÉΩ‰∏çÂêàÈÄÇ„Äë * ÁâàÊú¨ÈÄÇÈÖçËØ¥ÊòéÔºöhttps://github.com/spring-projects/spring-data-elasticsearch * Â¶ÇÊûúÁâàÊú¨‰∏çÈÄÇÈÖçÔºö2.4.6 * 1Ôºâ„ÄÅÂçáÁ∫ßSpringBootÁâàÊú¨ * 2Ôºâ„ÄÅÂÆâË£ÖÂØπÂ∫îÁâàÊú¨ÁöÑES * * 1Ôºâ„ÄÅClient ËäÇÁÇπ‰ø°ÊÅØclusterNodesÔºõclusterName * 2Ôºâ„ÄÅElasticsearchTemplate Êìç‰Ωúes * 3Ôºâ„ÄÅÁºñÂÜô‰∏Ä‰∏™ ElasticsearchRepository ÁöÑÂ≠êÊé•Âè£Êù•Êìç‰ΩúESÔºõ * ‰∏§ÁßçÁî®Ê≥ïÔºöhttps://github.com/spring-projects/spring-data-elasticsearch * 1Ôºâ„ÄÅÁºñÂÜô‰∏Ä‰∏™ ElasticsearchRepository */@SpringBootApplicationpublic class Springboot03ElasticApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot03ElasticApplication.class, args); &#125;&#125; BookRepository123456789101112131415package com.atguigu.elastic.repository;import com.atguigu.elastic.bean.Book;import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;import java.util.List;public interface BookRepository extends ElasticsearchRepository&lt;Book,Integer&gt; &#123; //ÂèÇÁÖß // https://docs.spring.io/spring-data/elasticsearch/docs/3.0.6.RELEASE/reference/html/ public List&lt;Book&gt; findByBookNameLike(String bookName);&#125; Book123456789@Document(indexName = "atguigu",type = "book")public class Book &#123; private Integer id; private String bookName; private String author; public Integer getId() &#123; return id; &#125; properties1234spring.elasticsearch.jest.uris=http://118.24.44.169:9200spring.data.elasticsearch.cluster-name=elasticsearchspring.data.elasticsearch.cluster-nodes=118.24.44.169:9301 4 SpringBoot -taskSpringBoot-TaskApplication12345678910111213141516package com.atguigu.task;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.scheduling.annotation.EnableAsync;import org.springframework.scheduling.annotation.EnableScheduling;@EnableAsync //ÂºÄÂêØÂºÇÊ≠•Ê≥®Ëß£ÂäüËÉΩ@EnableScheduling //ÂºÄÂêØÂü∫‰∫éÊ≥®Ëß£ÁöÑÂÆöÊó∂‰ªªÂä°@SpringBootApplicationpublic class Springboot04TaskApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot04TaskApplication.class, args); &#125;&#125; AsyncService12345678910111213141516171819package com.atguigu.task.service;import org.springframework.scheduling.annotation.Async;import org.springframework.stereotype.Service;@Servicepublic class AsyncService &#123; //ÂëäËØâSpringËøôÊòØ‰∏Ä‰∏™ÂºÇÊ≠•ÊñπÊ≥ï @Async public void hello()&#123; try &#123; Thread.sleep(3000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("Â§ÑÁêÜÊï∞ÊçÆ‰∏≠..."); &#125;&#125; ScheduleService12345678910111213141516171819202122232425package com.atguigu.task.service;import org.springframework.scheduling.annotation.Scheduled;import org.springframework.stereotype.Service;@Servicepublic class ScheduledService &#123; /** * second(Áßí), minuteÔºàÂàÜÔºâ, hourÔºàÊó∂Ôºâ, day of monthÔºàÊó•Ôºâ, monthÔºàÊúàÔºâ, day of weekÔºàÂë®Âá†Ôºâ. * 0 * * * * MON-FRI * „Äê0 0/5 14,18 * * ?„Äë ÊØèÂ§©14ÁÇπÊï¥ÔºåÂíå18ÁÇπÊï¥ÔºåÊØèÈöî5ÂàÜÈíüÊâßË°å‰∏ÄÊ¨° * „Äê0 15 10 ? * 1-6„Äë ÊØè‰∏™ÊúàÁöÑÂë®‰∏ÄËá≥Âë®ÂÖ≠10:15ÂàÜÊâßË°å‰∏ÄÊ¨° * „Äê0 0 2 ? * 6L„ÄëÊØè‰∏™ÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™Âë®ÂÖ≠ÂáåÊô®2ÁÇπÊâßË°å‰∏ÄÊ¨° * „Äê0 0 2 LW * ?„ÄëÊØè‰∏™ÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™Â∑•‰ΩúÊó•ÂáåÊô®2ÁÇπÊâßË°å‰∏ÄÊ¨° * „Äê0 0 2-4 ? * 1#1„ÄëÊØè‰∏™ÊúàÁöÑÁ¨¨‰∏Ä‰∏™Âë®‰∏ÄÂáåÊô®2ÁÇπÂà∞4ÁÇπÊúüÈó¥ÔºåÊØè‰∏™Êï¥ÁÇπÈÉΩÊâßË°å‰∏ÄÊ¨°Ôºõ */ // @Scheduled(cron = "0 * * * * MON-SAT") //@Scheduled(cron = "0,1,2,3,4 * * * * MON-SAT") // @Scheduled(cron = "0-4 * * * * MON-SAT") @Scheduled(cron = "0/4 * * * * MON-SAT") //ÊØè4ÁßíÊâßË°å‰∏ÄÊ¨° public void hello()&#123; System.out.println("hello ... "); &#125; &#125; Asyncontroller12345678910111213141516171819package com.atguigu.task.controller;import com.atguigu.task.service.AsyncService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class AsyncController &#123; @Autowired AsyncService asyncService; @GetMapping("/hello") public String hello()&#123; asyncService.hello(); return "success"; &#125;&#125; properties1234spring.mail.username=534096094@qq.comspring.mail.password=gtstkoszjelabijbspring.mail.host=smtp.qq.comspring.mail.properties.mail.smtp.ssl.enable=true 5 Spring-securitySpringBootSecurityApplication123456789101112131415161718192021222324252627282930313233package com.atguigu.security;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;/** * 1„ÄÅÂºïÂÖ•SpringSecurityÔºõ * 2„ÄÅÁºñÂÜôSpringSecurityÁöÑÈÖçÁΩÆÁ±ªÔºõ * @EnableWebSecurity extends WebSecurityConfigurerAdapter * 3„ÄÅÊéßÂà∂ËØ∑Ê±ÇÁöÑËÆøÈóÆÊùÉÈôêÔºö * configure(HttpSecurity http) &#123; * http.authorizeRequests().antMatchers("/").permitAll() * .antMatchers("/level1/**").hasRole("VIP1") * &#125; * 4„ÄÅÂÆö‰πâËÆ§ËØÅËßÑÂàôÔºö * configure(AuthenticationManagerBuilder auth)&#123; * auth.inMemoryAuthentication() * .withUser("zhangsan").password("123456").roles("VIP1","VIP2") * &#125; * 5„ÄÅÂºÄÂêØËá™Âä®ÈÖçÁΩÆÁöÑÁôªÈôÜÂäüËÉΩÔºö * configure(HttpSecurity http)&#123; * http.formLogin(); * &#125; * 6„ÄÅÊ≥®ÈîÄÔºöhttp.logout(); * 7„ÄÅËÆ∞‰ΩèÊàëÔºöRemeberme()Ôºõ */@SpringBootApplicationpublic class Springboot05SecurityApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot05SecurityApplication.class, args); &#125;&#125; MySecurityConfig123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.atguigu.security.config;import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;import org.springframework.security.config.annotation.web.builders.HttpSecurity;import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;@EnableWebSecuritypublic class MySecurityConfig extends WebSecurityConfigurerAdapter &#123; @Override protected void configure(HttpSecurity http) throws Exception &#123; //super.configure(http); //ÂÆöÂà∂ËØ∑Ê±ÇÁöÑÊéàÊùÉËßÑÂàô http.authorizeRequests().antMatchers("/").permitAll() .antMatchers("/level1/**").hasRole("VIP1") .antMatchers("/level2/**").hasRole("VIP2") .antMatchers("/level3/**").hasRole("VIP3"); //ÂºÄÂêØËá™Âä®ÈÖçÁΩÆÁöÑÁôªÈôÜÂäüËÉΩÔºåÊïàÊûúÔºåÂ¶ÇÊûúÊ≤°ÊúâÁôªÈôÜÔºåÊ≤°ÊúâÊùÉÈôêÂ∞±‰ºöÊù•Âà∞ÁôªÈôÜÈ°µÈù¢ http.formLogin().usernameParameter("user").passwordParameter("pwd") .loginPage("/userlogin"); //1„ÄÅ/loginÊù•Âà∞ÁôªÈôÜÈ°µ //2„ÄÅÈáçÂÆöÂêëÂà∞/login?errorË°®Á§∫ÁôªÈôÜÂ§±Ë¥• //3„ÄÅÊõ¥Â§öËØ¶ÁªÜËßÑÂÆö //4„ÄÅÈªòËÆ§postÂΩ¢ÂºèÁöÑ /login‰ª£Ë°®Â§ÑÁêÜÁôªÈôÜ //5„ÄÅ‰∏Ä‰ΩÜÂÆöÂà∂loginPageÔºõÈÇ£‰πà loginPageÁöÑpostËØ∑Ê±ÇÂ∞±ÊòØÁôªÈôÜ //ÂºÄÂêØËá™Âä®ÈÖçÁΩÆÁöÑÊ≥®ÈîÄÂäüËÉΩ„ÄÇ http.logout().logoutSuccessUrl("/");//Ê≥®ÈîÄÊàêÂäü‰ª•ÂêéÊù•Âà∞È¶ñÈ°µ //1„ÄÅËÆøÈóÆ /logout Ë°®Á§∫Áî®Êà∑Ê≥®ÈîÄÔºåÊ∏ÖÁ©∫session //2„ÄÅÊ≥®ÈîÄÊàêÂäü‰ºöËøîÂõû /login?logout È°µÈù¢Ôºõ //ÂºÄÂêØËÆ∞‰ΩèÊàëÂäüËÉΩ http.rememberMe().rememberMeParameter("remeber"); //ÁôªÈôÜÊàêÂäü‰ª•ÂêéÔºåÂ∞ÜcookieÂèëÁªôÊµèËßàÂô®‰øùÂ≠òÔºå‰ª•ÂêéËÆøÈóÆÈ°µÈù¢Â∏¶‰∏äËøô‰∏™cookieÔºåÂè™Ë¶ÅÈÄöËøáÊ£ÄÊü•Â∞±ÂèØ‰ª•ÂÖçÁôªÂΩï //ÁÇπÂáªÊ≥®ÈîÄ‰ºöÂà†Èô§cookie &#125; //ÂÆö‰πâËÆ§ËØÅËßÑÂàô @Override protected void configure(AuthenticationManagerBuilder auth) throws Exception &#123; //super.configure(auth); auth.inMemoryAuthentication() .withUser("zhangsan").password("123456").roles("VIP1","VIP2") .and() .withUser("lisi").password("123456").roles("VIP2","VIP3") .and() .withUser("wangwu").password("123456").roles("VIP1","VIP3"); &#125;&#125; Controller123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package com.atguigu.security.controller;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;@Controllerpublic class KungfuController &#123; private final String PREFIX = "pages/"; /** * Ê¨¢ËøéÈ°µ * @return */ @GetMapping("/") public String index() &#123; return "welcome"; &#125; /** * ÁôªÈôÜÈ°µ * @return */ @GetMapping("/userlogin") public String loginPage() &#123; return PREFIX+"login"; &#125; /** * level1È°µÈù¢Êò†Â∞Ñ * @param path * @return */ @GetMapping("/level1/&#123;path&#125;") public String level1(@PathVariable("path")String path) &#123; return PREFIX+"level1/"+path; &#125; /** * level2È°µÈù¢Êò†Â∞Ñ * @param path * @return */ @GetMapping("/level2/&#123;path&#125;") public String level2(@PathVariable("path")String path) &#123; return PREFIX+"level2/"+path; &#125; /** * level3È°µÈù¢Êò†Â∞Ñ * @param path * @return */ @GetMapping("/level3/&#123;path&#125;") public String level3(@PathVariable("path")String path) &#123; return PREFIX+"level3/"+path; &#125;&#125; welcome123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1 align="center"&gt;Ê¨¢ËøéÂÖâ‰∏¥Ê≠¶ÊûóÁßòÁ±çÁÆ°ÁêÜÁ≥ªÁªü&lt;/h1&gt;&lt;div sec:authorize="!isAuthenticated()"&gt; &lt;h2 align="center"&gt;Ê∏∏ÂÆ¢ÊÇ®Â•ΩÔºåÂ¶ÇÊûúÊÉ≥Êü•ÁúãÊ≠¶ÊûóÁßòÁ±ç &lt;a th:href="@&#123;/userlogin&#125;"&gt;ËØ∑ÁôªÂΩï&lt;/a&gt;&lt;/h2&gt;&lt;/div&gt;&lt;div sec:authorize="isAuthenticated()"&gt; &lt;h2&gt;&lt;span sec:authentication="name"&gt;&lt;/span&gt;ÔºåÊÇ®Â•Ω,ÊÇ®ÁöÑËßíËâ≤ÊúâÔºö &lt;span sec:authentication="principal.authorities"&gt;&lt;/span&gt;&lt;/h2&gt; &lt;form th:action="@&#123;/logout&#125;" method="post"&gt; &lt;input type="submit" value="Ê≥®ÈîÄ"/&gt; &lt;/form&gt;&lt;/div&gt;&lt;hr&gt;&lt;div sec:authorize="hasRole('VIP1')"&gt; &lt;h3&gt;ÊôÆÈÄöÊ≠¶ÂäüÁßòÁ±ç&lt;/h3&gt; &lt;ul&gt; &lt;li&gt;&lt;a th:href="@&#123;/level1/1&#125;"&gt;ÁΩóÊ±âÊã≥&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level1/2&#125;"&gt;Ê≠¶ÂΩìÈïøÊã≥&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level1/3&#125;"&gt;ÂÖ®ÁúüÂâëÊ≥ï&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;div sec:authorize="hasRole('VIP2')"&gt; &lt;h3&gt;È´òÁ∫ßÊ≠¶ÂäüÁßòÁ±ç&lt;/h3&gt; &lt;ul&gt; &lt;li&gt;&lt;a th:href="@&#123;/level2/1&#125;"&gt;Â§™ÊûÅÊã≥&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level2/2&#125;"&gt;‰∏É‰º§Êã≥&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level2/3&#125;"&gt;Ê¢Ø‰∫ëÁ∫µ&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;div sec:authorize="hasRole('VIP3')"&gt; &lt;h3&gt;Áªù‰∏ñÊ≠¶ÂäüÁßòÁ±ç&lt;/h3&gt; &lt;ul&gt; &lt;li&gt;&lt;a th:href="@&#123;/level3/1&#125;"&gt;ËëµËä±ÂÆùÂÖ∏&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level3/2&#125;"&gt;ÈæüÊ¥æÊ∞îÂäü&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a th:href="@&#123;/level3/3&#125;"&gt;Áã¨Â≠§‰πùÂâë&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; loginhtml12345678910111213141516171819&lt;!DOCTYPE html&gt;&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1 align=&quot;center&quot;&gt;Ê¨¢ËøéÁôªÈôÜÊ≠¶ÊûóÁßòÁ±çÁÆ°ÁêÜÁ≥ªÁªü&lt;/h1&gt; &lt;hr&gt; &lt;div align=&quot;center&quot;&gt; &lt;form th:action=&quot;@&#123;/userlogin&#125;&quot; method=&quot;post&quot;&gt; Áî®Êà∑Âêç:&lt;input name=&quot;user&quot;/&gt;&lt;br&gt; ÂØÜÁ†Å:&lt;input name=&quot;pwd&quot;&gt;&lt;br/&gt; &lt;input type=&quot;checkbox&quot; name=&quot;remeber&quot;&gt; ËÆ∞‰ΩèÊàë&lt;br/&gt; &lt;input type=&quot;submit&quot; value=&quot;ÁôªÈôÜ&quot;&gt; &lt;/form&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 6 springboot-dubboconsumer-user1234567891011121314151617import com.alibaba.dubbo.config.annotation.Reference;import com.atguigu.ticket.service.TicketService;import org.springframework.stereotype.Service;@Servicepublic class UserService&#123; @Reference TicketService ticketService; public void hello()&#123; String ticket = ticketService.getTicket(); System.out.println("‰π∞Âà∞Á•®‰∫ÜÔºö"+ticket); &#125;&#125; application.properties123dubbo.application.name=consumer-userdubbo.registry.address=zookeeper://118.24.44.169:2181 12345678@Component@Service //Â∞ÜÊúçÂä°ÂèëÂ∏ÉÂá∫Âéªpublic class TicketServiceImpl implements TicketService &#123; @Override public String getTicket() &#123; return "„ÄäÂéâÂÆ≥‰∫ÜÔºåÊàëÁöÑÂõΩ„Äã"; &#125;&#125; 12345dubbo.application.name=provider-ticketdubbo.registry.address=zookeeper://118.24.44.169:2181dubbo.scan.base-packages=com.atguigu.ticket.service SpringCloud12345678910111213/** * Ê≥®ÂÜå‰∏≠ÂøÉ * 1„ÄÅÈÖçÁΩÆEureka‰ø°ÊÅØ * 2„ÄÅ@EnableEurekaServer */@EnableEurekaServer@SpringBootApplicationpublic class EurekaServerApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(EurekaServerApplication.class, args); &#125;&#125; 12345678910server: port: 8761eureka: instance: hostname: eureka-server # eurekaÂÆû‰æãÁöÑ‰∏ªÊú∫Âêç client: register-with-eureka: false #‰∏çÊääËá™Â∑±Ê≥®ÂÜåÂà∞eureka‰∏ä fetch-registry: false #‰∏ç‰ªéeureka‰∏äÊù•Ëé∑ÂèñÊúçÂä°ÁöÑÊ≥®ÂÜå‰ø°ÊÅØ service-url: defaultZone: http://localhost:8761/eureka/ 12345678910111213server: port: 8002spring: application: name: provider-ticketeureka: instance: prefer-ip-address: true # Ê≥®ÂÜåÊúçÂä°ÁöÑÊó∂ÂÄô‰ΩøÁî®ÊúçÂä°ÁöÑipÂú∞ÂùÄ client: service-url: defaultZone: http://localhost:8761/eureka/ Springboot Actuar1234567891011121314/** * Ëá™ÂÆö‰πâÂÅ•Â∫∑Áä∂ÊÄÅÊåáÁ§∫Âô® * 1„ÄÅÁºñÂÜô‰∏Ä‰∏™ÊåáÁ§∫Âô® ÂÆûÁé∞ HealthIndicator Êé•Âè£ * 2„ÄÅÊåáÁ§∫Âô®ÁöÑÂêçÂ≠ó xxxxHealthIndicator * 3„ÄÅÂä†ÂÖ•ÂÆπÂô®‰∏≠ */@SpringBootApplicationpublic class Springboot08ActuatorApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Springboot08ActuatorApplication.class, args); &#125;&#125; 1234567891011121314151617package com.atguigu.springboot08actuator.health;import org.springframework.boot.actuate.health.Health;import org.springframework.boot.actuate.health.HealthIndicator;import org.springframework.stereotype.Component;@Componentpublic class MyAppHealthIndicator implements HealthIndicator &#123; @Override public Health health() &#123; //Ëá™ÂÆö‰πâÁöÑÊ£ÄÊü•ÊñπÊ≥ï //Health.up().build()‰ª£Ë°®ÂÅ•Â∫∑ return Health.down().withDetail(&quot;msg&quot;,&quot;ÊúçÂä°ÂºÇÂ∏∏&quot;).build(); &#125;&#125; 123git.branch=mastergit.commit.id=xjkd33sgit.commit.time=2017-12-12 12:12:56 123456789101112131415161718192021222324management.security.enabled=falsespring.redis.host=118.24.44.169info.app.id=helloinfo.app.version=1.0.0#endpoints.metrics.enabled=falseendpoints.shutdown.enabled=true#endpoints.beans.id=mybean#endpoints.beans.path=/bean#endpoints.beans.enabled=false##endpoints.dump.path=/du# \u5173\u95ED\u6240\u6709\u7AEF\u70B9\u8BBF\u95EE#endpoints.enabled=false#endpoints.beans.enabled=truemanagement.context-path=/managemanagement.port=8181 1]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>Springboot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âπ∂ÂèëÁºñÁ®ã ÊÖïËØæÁΩë]]></title>
    <url>%2F2018%2F11%2F11%2F%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%2F%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[1 Âπ∂ÂèëÁºñÁ®ãÁöÑÂü∫Á°Ä]]></content>
      <categories>
        <category>Âπ∂Âèë</category>
      </categories>
      <tags>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â∞èDËØæÂ†ÇSpringCloudÁ¨îËÆ∞]]></title>
    <url>%2F2018%2F11%2F10%2FSpringCloud%2F%E5%B0%8FD%E8%AF%BE%E5%A0%82springcloud%2F</url>
    <content type="text"><![CDATA[##SpringCloudËØæÁ®ãÁ¨îËÆ∞ Á¨¨‰∏ÄÁ´† ËØæÁ®ã‰ªãÁªçÂíåÂ≠¶‰π†Ë∑ØÁ∫ø 1„ÄÅÂæÆÊúçÂä°Êû∂ÊûÑSpringCloudËØæÁ®ã‰ªãÁªç‚Äã ÁÆÄ‰ªãÔºöËØæÁ®ã‰ªãÁªçÂíåËØæÁ®ãÂ§ßÁ∫≤ËÆ≤Ëß£ÔºåËÆ≤ËØæÈ£éÊ†ºÂíåÈáçÁÇπÂÜÖÂÆπÁêÜËß£ÊäÄ 2„ÄÅÊäÄÊúØÈÄâÂûãÂíåÂ≠¶ÂêéÊ∞¥Âπ≥‚Äã ÁÆÄ‰ªãÔºöËØæÁ®ãÊâÄÈúÄÂü∫Á°ÄÂíåÊäÄÊúØÈÄâÂûãËÆ≤Ëß£ÔºåÂ≠¶ÂÆåËØæÁ®ãÂèØ‰ª•Âà∞ËææÊÄéÊ†∑ÁöÑÁ®ãÂ∫¶Ôºå‚Äã‚Äã 1„ÄÅIDEA JDK8 Maven SpringBootÂü∫Á°Ä Linux‚Äã‚Äã 2„ÄÅÁêÜËß£ÊéåÊè°Âπ∂ÂºÄÂèëSpringCloudÈáåÈù¢‰∏ªÊµÅÊû∂ÊûÑÂíåÁªÑ‰ª∂ÁöÑÂü∫Á°Ä‰ΩøÁî®ÔºåËøòÊúâÈÉ®ÂàÜÊ∫êÁ†ÅÂéüÁêÜÁöÑÁêÜËß£‚Äã‚Äã 3„ÄÅÊéåÊè°Â≠¶‰π†ÁöÑÊäÄÂ∑ßÂíåËß£ÂÜ≥ÈóÆÈ¢òÁöÑÊÄùË∑Ø Á¨¨‰∫åÁ´† Êû∂ÊûÑÊºîËøõÂíåÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂü∫Á°ÄÁü•ËØÜ 1„ÄÅ‰º†ÁªüÊû∂ÊûÑÊºîËøõÂà∞ÂàÜÂ∏ÉÂºèÊû∂ÊûÑ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÂçïÊú∫Â∫îÁî®ÂíåÂàÜÂ∏ÉÂºèÂ∫îÁî®Êû∂ÊûÑÊºîËøõÂü∫Á°ÄÁü•ËØÜ (ÁîªÂõæ) È´òÂèØÁî® LVS+keepalive 1„ÄÅÂçï‰ΩìÂ∫îÁî®Ôºö ÂºÄÂèëÈÄüÂ∫¶ÊÖ¢ ÂêØÂä®Êó∂Èó¥Èïø ‰æùËµñÂ∫ûÂ§ß Á≠âÁ≠â 2„ÄÅÂæÆÊúçÂä° ÊòìÂºÄÂèë„ÄÅÁêÜËß£ÂíåÁª¥Êä§ Áã¨Á´ãÁöÑÈÉ®ÁΩ≤ÂíåÂêØÂä® Á≠â ‰∏çË∂≥Ôºö ÂàÜÂ∏ÉÂºèÁ≥ªÁªü-„ÄãÂàÜÂ∏ÉÂºè‰∫ãÂä°ÈóÆÈ¢ò ÈúÄË¶ÅÁÆ°ÁêÜÂ§ö‰∏™ÊúçÂä°-„ÄãÊúçÂä°Ê≤ªÁêÜ 2„ÄÅÂæÆÊúçÂä°Ê†∏ÂøÉÂü∫Á°ÄËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÂæÆÊúçÂä°Ê†∏ÂøÉÁü•ËØÜ ÔºöÁΩëÂÖ≥„ÄÅÊúçÂä°ÂèëÁé∞Ê≥®ÂÜå„ÄÅÈÖçÁΩÆ‰∏≠ÂøÉ„ÄÅÈìæË∑ØËøΩË∏™„ÄÅË¥üËΩΩÂùáË°°Âô®„ÄÅÁÜîÊñ≠‚Äã 1„ÄÅÁΩëÂÖ≥ÔºöË∑ØÁî±ËΩ¨Âèë + ËøáÊª§Âô®‚Äã /api/v1/pruduct/ ÂïÜÂìÅÊúçÂä°‚Äã /api/v1/order/ ËÆ¢ÂçïÊúçÂä°‚Äã /api/v1/user/ Áî®Êà∑ÊúçÂä° 2„ÄÅÊúçÂä°Ê≥®ÂÜåÂèëÁé∞ÔºöË∞ÉÁî®ÂíåË¢´Ë∞ÉÁî®ÊñπÁöÑ‰ø°ÊÅØÁª¥Êä§ 3„ÄÅÈÖçÁΩÆ‰∏≠ÂøÉÔºöÁÆ°ÁêÜÈÖçÁΩÆÔºåÂä®ÊÄÅÊõ¥Êñ∞ application.properties 4„ÄÅÈìæË∑ØËøΩË∏™ÔºöÂàÜÊûêË∞ÉÁî®ÈìæË∑ØËÄóÊó∂ ‰æãÂ≠êÔºö‰∏ãÂçï-„ÄãÊü•ËØ¢ÂïÜÂìÅÊúçÂä°Ëé∑ÂèñÂïÜÂìÅ‰ª∑Ê†º-„ÄãÊü•ËØ¢Áî®Êà∑‰ø°ÊÅØ-„Äã‰øùÂ≠òÊï∞ÊçÆÂ∫ì 5„ÄÅË¥üËΩΩÂùáË°°Âô®ÔºöÂàÜÂèëË¥üËΩΩ 6„ÄÅÁÜîÊñ≠Ôºö‰øùÊä§Ëá™Â∑±ÂíåË¢´Ë∞ÉÁî®Êñπ 3„ÄÅÂ∏∏ËßÅÁöÑÂæÆÊúçÂä°Ê°ÜÊû∂‚Äã ÁÆÄ‰ªã:ËÆ≤Ëß£Â∏∏Áî®ÁöÑÂæÆÊúçÂä°Ê°ÜÊû∂ consumer: Ë∞ÉÁî®Êñπ Ê∂àË¥πËÄÖ ÂÆ¢Êà∑Á´Ø client provider: Ë¢´Ë∞ÉÁî®Êñπ ÊúçÂä°ËÄÖ ÊúçÂä°Á´Ø service ‚Äã ‰∏Ä‰∏™Êé•Âè£‰∏ÄËà¨ÈÉΩ‰ºöÂÖÖÂΩì‰∏§‰∏™ËßíËâ≤Ôºà‰∏çÊòØÂêåÊó∂ÂÖÖÂΩìÔºâ 1„ÄÅdubbo: zookeeper + dubbo + springmvc/springboot ÂÆòÊñπÂú∞ÂùÄÔºöhttp://dubbo.apache.org/#!/?lang=zh-cn ÈÖçÂ•ó ÈÄö‰ø°ÊñπÂºèÔºörpc Ê≥®ÂÜå‰∏≠ÂøÉÔºözookeper/redis ÈÖçÁΩÆ‰∏≠ÂøÉÔºödiamond 2„ÄÅspringcloud: ÂÖ®ÂÆ∂Ê°∂+ËΩªÊùæÂµåÂÖ•Á¨¨‰∏âÊñπÁªÑ‰ª∂(Netflix Â•àÈ£û) ÂÆòÁΩëÔºöhttp://projects.spring.io/spring-cloud/ ÈÖçÂ•ó ÈÄö‰ø°ÊñπÂºèÔºöhttp restful Ê≥®ÂÜå‰∏≠ÂøÉÔºöeruka/consul ÈÖçÁΩÆ‰∏≠ÂøÉÔºöconfig Êñ≠Ë∑ØÂô®Ôºöhystrix ÁΩëÂÖ≥Ôºözuul ÂàÜÂ∏ÉÂºèËøΩË∏™Á≥ªÁªüÔºösleuth+zipkin Â≠¶‰π†ËµÑÊñôÔºöhttps://blog.csdn.net/zhangweiwei2020/article/details/78646252 4„ÄÅÂæÆÊúçÂä°‰∏ãÁîµÂïÜÈ°πÁõÆÂü∫Á°ÄÊ®°ÂùóËÆæËÆ°‚Äã ÁÆÄ‰ªãÔºöÂæÆÊúçÂä°‰∏ãÁîµÂïÜÈ°πÁõÆÂü∫Á°ÄÊ®°ÂùóËÆæËÆ° ÂàÜÁ¶ªÂá†‰∏™Ê®°ÂùóÔºåËØæÁ®ãÂõ¥ÁªïËøô‰∏™Âü∫Á°ÄÈ°πÁõÆËøõË°åÂ≠¶‰π†‚Äã Â∞èËÄåÁ≤æÁöÑÊñπÂºèÂ≠¶‰π†ÂæÆÊúçÂä° 1„ÄÅÁî®Êà∑ÊúçÂä° 1ÔºâÁî®Êà∑‰ø°ÊÅØÊé•Âè£ 2ÔºâÁôªÂΩïÊé•Âè£ 2„ÄÅÂïÜÂìÅÊúçÂä° 1ÔºâÂïÜÂìÅÂàóË°® 2ÔºâÂïÜÂìÅËØ¶ÊÉÖ 3„ÄÅËÆ¢ÂçïÊúçÂä° 1ÔºâÊàëÁöÑËÆ¢Âçï 2Ôºâ‰∏ãÂçïÊé•Âè£ Á¨¨‰∏âÁ´† SpringCloudÊ†∏ÂøÉÁªÑ‰ª∂Ê≥®ÂÜå‰∏≠ÂøÉ1„ÄÅ‰ªÄ‰πàÊòØÂæÆÊúçÂä°ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ªÄ‰πàÊòØÊ≥®ÂÜå‰∏≠ÂøÉÔºåÂ∏∏Áî®ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÊúâÂì™‰∫õ (ÁîªÂõæ)‚Äã‚Äã ÁêÜËß£Ê≥®ÂÜå‰∏≠ÂøÉÔºöÊúçÂä°ÁÆ°ÁêÜ,Ê†∏ÂøÉÊòØÊúâ‰∏™ÊúçÂä°Ê≥®ÂÜåË°®ÔºåÂøÉË∑≥Êú∫Âà∂Âä®ÊÄÅÁª¥Êä§‚Äã‚Äã ÊúçÂä°Êèê‰æõËÄÖprovider: ÂêØÂä®ÁöÑÊó∂ÂÄôÂêëÊ≥®ÂÜå‰∏≠ÂøÉ‰∏äÊä•Ëá™Â∑±ÁöÑÁΩëÁªú‰ø°ÊÅØ‚Äã‚Äã ÊúçÂä°Ê∂àË¥πËÄÖconsumer: ÂêØÂä®ÁöÑÊó∂ÂÄôÂêëÊ≥®ÂÜå‰∏≠ÂøÉ‰∏äÊä•Ëá™Â∑±ÁöÑÁΩëÁªú‰ø°ÊÅØÔºåÊãâÂèñproviderÁöÑÁõ∏ÂÖ≥ÁΩëÁªú‰ø°ÊÅØ ‰∏∫‰ªÄ‰πàË¶ÅÁî®Ôºö ÂæÆÊúçÂä°Â∫îÁî®ÂíåÊú∫Âô®Ë∂äÊù•Ë∂äÂ§öÔºåË∞ÉÁî®ÊñπÈúÄË¶ÅÁü•ÈÅìÊé•Âè£ÁöÑÁΩëÁªúÂú∞ÂùÄÔºåÂ¶ÇÊûúÈù†ÈÖçÁΩÆÊñá‰ª∂ÁöÑÊñπÂºèÂéªÊéßÂà∂ÁΩëÁªúÂú∞ÂùÄÔºåÂØπ‰∫éÂä®ÊÄÅÊñ∞Â¢ûÊú∫Âô®ÔºåÁª¥Êä§Â∏¶Êù•ÂæàÂ§ßÈóÆÈ¢ò ‰∏ªÊµÅÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÔºö zookeeper„ÄÅEureka„ÄÅconsul„ÄÅetcd Á≠â ‚Äã 2„ÄÅÂàÜÂ∏ÉÂºèÂ∫îÁî®Áü•ËØÜCAPÁêÜËÆ∫Áü•ËØÜ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÂàÜÂ∏ÉÂºèÊ†∏ÂøÉÁü•ËØÜCAPÁêÜËÆ∫ CAPÂÆöÁêÜÔºö ÊåáÁöÑÊòØÂú®‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåConsistencyÔºà‰∏ÄËá¥ÊÄßÔºâ„ÄÅ AvailabilityÔºàÂèØÁî®ÊÄßÔºâ„ÄÅPartition toleranceÔºàÂàÜÂå∫ÂÆπÈîôÊÄßÔºâÔºå‰∏âËÄÖ‰∏çÂèØÂêåÊó∂Ëé∑Âæó„ÄÇ ‰∏ÄËá¥ÊÄßÔºàCÔºâÔºöÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆÂ§á‰ªΩÔºåÂú®Âêå‰∏ÄÊó∂ÂàªÊòØÂê¶ÂêåÊ†∑ÁöÑÂÄº„ÄÇÔºàÊâÄÊúâËäÇÁÇπÂú®Âêå‰∏ÄÊó∂Èó¥ÁöÑÊï∞ÊçÆÂÆåÂÖ®‰∏ÄËá¥ÔºåË∂äÂ§öËäÇÁÇπÔºåÊï∞ÊçÆÂêåÊ≠•Ë∂äËÄóÊó∂Ôºâ 1ÂèØÁî®ÊÄßÔºàAÔºâÔºöË¥üËΩΩËøáÂ§ßÂêéÔºåÈõÜÁæ§Êï¥‰ΩìÊòØÂê¶ËøòËÉΩÂìçÂ∫îÂÆ¢Êà∑Á´ØÁöÑËØªÂÜôËØ∑Ê±Ç„ÄÇÔºàÊúçÂä°‰∏ÄÁõ¥ÂèØÁî®ÔºåËÄå‰∏îÊòØÊ≠£Â∏∏ÂìçÂ∫îÊó∂Èó¥Ôºâ ÂàÜÂå∫ÂÆπÈîôÊÄßÔºàPÔºâÔºöÂàÜÂå∫ÂÆπÂøçÊÄßÔºåÂ∞±ÊòØÈ´òÂèØÁî®ÊÄßÔºå‰∏Ä‰∏™ËäÇÁÇπÂ¥©‰∫ÜÔºåÂπ∂‰∏çÂΩ±ÂìçÂÖ∂ÂÆÉÁöÑËäÇÁÇπÔºà100‰∏™ËäÇÁÇπÔºåÊåÇ‰∫ÜÂá†‰∏™Ôºå‰∏çÂΩ±ÂìçÊúçÂä°ÔºåË∂äÂ§öÊú∫Âô®Ë∂äÂ•ΩÔºâ CAPÁêÜËÆ∫Â∞±ÊòØËØ¥Âú®ÂàÜÂ∏ÉÂºèÂ≠òÂÇ®Á≥ªÁªü‰∏≠ÔºåÊúÄÂ§öÂè™ËÉΩÂÆûÁé∞‰∏äÈù¢ÁöÑ‰∏§ÁÇπ„ÄÇËÄåÁî±‰∫éÂΩìÂâçÁöÑÁΩëÁªúÁ°¨‰ª∂ËÇØÂÆö‰ºöÂá∫Áé∞Âª∂Ëøü‰∏¢ÂåÖÁ≠âÈóÆÈ¢òÔºåÊâÄ‰ª•ÂàÜÂå∫ÂÆπÂøçÊÄßÊòØÊàë‰ª¨ÂøÖÈ°ªÈúÄË¶ÅÂÆûÁé∞ÁöÑ„ÄÇÊâÄ‰ª•Êàë‰ª¨Âè™ËÉΩÂú®‰∏ÄËá¥ÊÄßÂíåÂèØÁî®ÊÄß‰πãÈó¥ËøõË°åÊùÉË°° ‚Äã ###3„ÄÅÂàÜÂ∏ÉÂºèÁ≥ªÁªüCAPÂéüÁêÜÂ∏∏ËßÅÈù¢ËØïÈ¢òÂíåÊ≥®ÂÜå‰∏≠ÂøÉÈÄâÊã©‚Äã ÁÆÄ‰ªã:ËÆ≤Ëß£CAPÂéüÂàôÂú®Èù¢ËØï‰∏≠ÂõûÁ≠îÂíåÊ≥®ÂÜå‰∏≠ÂøÉÈÄâÊã© C A Êª°Ë∂≥ÁöÑÊÉÖÂÜµ‰∏ãÔºåP‰∏çËÉΩÊª°Ë∂≥ÁöÑÂéüÂõ†Ôºö Êï∞ÊçÆÂêåÊ≠•(C)ÈúÄË¶ÅÊó∂Èó¥Ôºå‰πüË¶ÅÊ≠£Â∏∏ÁöÑÊó∂Èó¥ÂÜÖÂìçÂ∫î(A)ÔºåÈÇ£‰πàÊú∫Âô®Êï∞ÈáèÂ∞±Ë¶ÅÂ∞ëÔºåÊâÄ‰ª•PÂ∞±‰∏çÊª°Ë∂≥ CP Êª°Ë∂≥ÁöÑÊÉÖÂÜµ‰∏ãÔºåA‰∏çËÉΩÊª°Ë∂≥ÁöÑÂéüÂõ†Ôºö Êï∞ÊçÆÂêåÊ≠•(C)ÈúÄË¶ÅÊó∂Èó¥, Êú∫Âô®Êï∞Èáè‰πüÂ§ö(P)Ôºå‰ΩÜÊòØÂêåÊ≠•Êï∞ÊçÆÈúÄË¶ÅÊó∂Èó¥ÔºåÊâÄ‰ª•‰∏çËÉΩÂÜçÊ≠£Â∏∏Êó∂Èó¥ÂÜÖÂìçÂ∫îÔºåÊâÄ‰ª•AÂ∞±‰∏çÊª°Ë∂≥ AP Êª°Ë∂≥ÁöÑÊÉÖÂÜµ‰∏ãÔºåC‰∏çËÉΩÊª°Ë∂≥ÁöÑÂéüÂõ†Ôºö Êú∫Âô®Êï∞Èáè‰πüÂ§ö(P)ÔºåÊ≠£Â∏∏ÁöÑÊó∂Èó¥ÂÜÖÂìçÂ∫î(A)ÔºåÈÇ£‰πàÊï∞ÊçÆÂ∞±‰∏çËÉΩÂèäÊó∂ÂêåÊ≠•Âà∞ÂÖ∂‰ªñËäÇÁÇπÔºåÊâÄ‰ª•C‰∏çÊª°Ë∂≥ Ê≥®ÂÜå‰∏≠ÂøÉÈÄâÊã©Ôºö ZookeeperÔºöCPËÆæËÆ°Ôºå‰øùËØÅ‰∫Ü‰∏ÄËá¥ÊÄßÔºåÈõÜÁæ§Êê≠Âª∫ÁöÑÊó∂ÂÄôÔºåÊüê‰∏™ËäÇÁÇπÂ§±ÊïàÔºåÂàô‰ºöËøõË°åÈÄâ‰∏æË°åÁöÑleaderÔºåÊàñËÄÖÂçäÊï∞‰ª•‰∏äËäÇÁÇπ‰∏çÂèØÁî®ÔºåÂàôÊó†Ê≥ïÊèê‰æõÊúçÂä°ÔºåÂõ†Ê≠§ÂèØÁî®ÊÄßÊ≤°Ê≥ïÊª°Ë∂≥ EurekaÔºöAPÂéüÂàôÔºåÊó†‰∏ª‰ªéËäÇÁÇπÔºå‰∏Ä‰∏™ËäÇÁÇπÊåÇ‰∫ÜÔºåËá™Âä®ÂàáÊç¢ÂÖ∂‰ªñËäÇÁÇπÂèØ‰ª•‰ΩøÁî®ÔºåÂéª‰∏≠ÂøÉÂåñ ÁªìËÆ∫ÔºöÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠P,ËÇØÂÆöË¶ÅÊª°Ë∂≥ÔºåÊâÄ‰ª•Âè™ËÉΩÂú®CA‰∏≠‰∫åÈÄâ‰∏Ä Ê≤°ÊúâÊúÄÂ•ΩÁöÑÈÄâÊã©ÔºåÊúÄÂ•ΩÁöÑÈÄâÊã©ÊòØÊ†πÊçÆ‰∏öÂä°Âú∫ÊôØÊù•ËøõË°åÊû∂ÊûÑËÆæËÆ° Â¶ÇÊûúË¶ÅÊ±Ç‰∏ÄËá¥ÊÄßÔºåÂàôÈÄâÊã©zookeeperÔºåÂ¶ÇÈáëËûçË°å‰∏ö Â¶ÇÊûúË¶ÅÂéªÂèØÁî®ÊÄßÔºåÂàôEurekaÔºåÂ¶ÇÁîµÂïÜÁ≥ªÁªü 4„ÄÅSpringCloudÂæÆÊúçÂä°Ê†∏ÂøÉÁªÑ‰ª∂Eureka‰ªãÁªçÂíåÈó≠Ê∫êÂêéÂΩ±Âìç‚Äã ÁÆÄ‰ªãÔºö‚Äã SpringCloud‰ΩìÁ≥ª‰ªãÁªç‚Äã ÂÆòÊñπÂú∞ÂùÄÔºöhttp://projects.spring.io/spring-cloud/ EurekaÁöÑÂü∫Á°ÄÁü•ËØÜ--&gt;ÁîªÂõæËÆ≤Ëß£‰∫§‰∫íÊµÅÁ®ãÔºåÊúçÂä°Êèê‰æõËÄÖ&lt;--&gt;ÊúçÂä°Ê∂àË¥πËÄÖ ; Eureka 2.xÈó≠Ê∫êÂêéÈÄâÊã© ÂèÇËÄÉÔºöhttps://www.jianshu.com/p/d32ae141f680 https://blog.csdn.net/zjcjava/article/details/78608892 ‚Äì 5„ÄÅÊúçÂä°Ê≥®ÂÜåÂíåÂèëÁé∞Eureka ServerÊê≠Âª∫ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºö‰ΩøÁî®IDEAÊê≠Âª∫EurekaÊúçÂä°‰∏≠ÂøÉServerÁ´ØÂπ∂ÂêØÂä®ÔºåÈ°πÁõÆÂü∫Êú¨È™®Êû∂‰ªãÁªç‚Äã‚Äã ÂÆòÊñπÊñáÊ°£Ôºöhttp://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-server‚Äã‚Äã Á¨¨‰∏ÄÊ≠•ÔºöÂàõÂª∫È°πÁõÆ‚Äã Á¨¨‰∫åÊ≠•: Ê∑ªÂä†Ê≥®Ëß£ @EnableEurekaServer‚Äã Á¨¨‰∏âÊ≠•ÔºöÂ¢ûÂä†ÈÖçÁΩÆapplication.yml‚Äã server:‚Äã port: 8761‚Äã‚Äã eureka:‚Äã instance:‚Äã hostname: localhost‚Äã client:‚Äã #Â£∞ÊòéËá™Â∑±ÊòØ‰∏™ÊúçÂä°Á´Ø‚Äã registerWithEureka: false‚Äã fetchRegistry: false‚Äã serviceUrl:‚Äã defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/‚Äã Á¨¨ÂõõÊ≠•ÔºöËÆøÈóÆÊ≥®ÂÜå‰∏≠ÂøÉÈ°µÈù¢ mavenÂú∞ÂùÄ: https://www.cnblogs.com/sword-successful/p/6408281.html 6„ÄÅÊúçÂä°Ê≥®ÂÜåÂíåÂèëÁé∞‰πãEureka ClientÊê≠Âª∫ÂïÜÂìÅÊúçÂä°ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöÊê≠Âª∫Áî®ÂïÜÂìÅÊúçÂä°ÔºåÂπ∂Â∞ÜÊúçÂä°Ê≥®ÂÜåÂà∞Ê≥®ÂÜå‰∏≠ÂøÉ 1„ÄÅÂàõÂª∫‰∏Ä‰∏™SpirngBootÂ∫îÁî®ÔºåÂ¢ûÂä†ÊúçÂä°Ê≥®ÂÜåÂíåÂèëÁé∞‰æùËµñ 2„ÄÅÊ®°ÊãüÂïÜÂìÅ‰ø°ÊÅØÔºåÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ 3„ÄÅÂºÄÂèëÂïÜÂìÅÂàóË°®Êé•Âè£ÔºåÂïÜÂìÅËØ¶ÊÉÖÊé•Âè£ 4„ÄÅÈÖçÁΩÆÊñá‰ª∂Âä†ÂÖ•Ê≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄ ‰ΩøÁî®eurekaÂÆ¢Êà∑Á´Ø ÂÆòÊñπÊñáÊ°£Ôºöhttp://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#netflix-eureka-client-starter 7„ÄÅEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÈÖçÁΩÆÊéßÂà∂Âè∞ÈóÆÈ¢òÂ§ÑÁêÜ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÁÆ°ÁêÜÂêéÂè∞ÔºåÔºàÂêéÁª≠Ëøò‰ºöÁªÜËÆ≤Ôºâ ÈóÆÈ¢òÔºöeurekaÁÆ°ÁêÜÂêéÂè∞Âá∫Áé∞‰∏Ä‰∏≤Á∫¢Ëâ≤Â≠ó‰ΩìÔºöÊòØË≠¶ÂëäÔºåËØ¥ÊòéÊúâÊúçÂä°‰∏äÁ∫øÁéá‰Ωé EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY&apos;RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE. ÂÖ≥Èó≠Ê£ÄÊü•ÊñπÊ≥ïÔºöeurekaÊúçÂä°Á´ØÈÖçÁΩÆÊñá‰ª∂Âä†ÂÖ• server: enable-self-preservation: false Ê≥®ÊÑèÔºöËá™Êàë‰øùÊä§Ê®°ÂºèÁ¶ÅÊ≠¢ÂÖ≥Èó≠ÔºåÈªòËÆ§ÊòØÂºÄÂêØÁä∂ÊÄÅtrue ‚Äã‚Äã ÈóÆÈ¢ò‰∫åÔºö‰∏∫‰ªÄ‰πàÂè™Âä†‰∏Ä‰∏™Ê≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄÔºåÂ∞±ÂèØ‰ª•Ê≥®ÂÜå‚Äã By having spring-cloud-starter-netflix-eureka-client on the classpath, your application automatically registers with the Eureka Server. Configuration is required to locate the Eureka server, as shown in the following example: Á¨¨ÂõõÁ´† ÊúçÂä°Ê∂àË¥πËÄÖribbonÂíåfeignÂÆûÊàòÂíåÊ≥®ÂÜå‰∏≠ÂøÉÈ´òÂèØÁî® 1„ÄÅÂ∏∏Áî®ÁöÑÊúçÂä°Èó¥Ë∞ÉÁî®ÊñπÂºèËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£Â∏∏Áî®ÁöÑÊúçÂä°Èó¥ÁöÑË∞ÉÁî®ÊñπÂºè RPC: ËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÔºåÂÉèË∞ÉÁî®Êú¨Âú∞ÊúçÂä°(ÊñπÊ≥ï)‰∏ÄÊ†∑Ë∞ÉÁî®ÊúçÂä°Âô®ÁöÑÊúçÂä° ÊîØÊåÅÂêåÊ≠•„ÄÅÂºÇÊ≠•Ë∞ÉÁî® ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥Âª∫Á´ãTCPËøûÊé•ÔºåÂèØ‰ª•‰∏ÄÊ¨°Âª∫Á´ã‰∏Ä‰∏™Ôºå‰πüÂèØ‰ª•Â§ö‰∏™Ë∞ÉÁî®Â§çÁî®‰∏ÄÊ¨°ÈìæÊé• PRCÊï∞ÊçÆÂåÖÂ∞è protobuf thrift rpcÔºöÁºñËß£Á†ÅÔºåÂ∫èÂàóÂåñÔºåÈìæÊé•Ôºå‰∏¢ÂåÖÔºåÂçèËÆÆ Rest(Http): httpËØ∑Ê±ÇÔºåÊîØÊåÅÂ§öÁßçÂçèËÆÆÂíåÂäüËÉΩ ÂºÄÂèëÊñπ‰æøÊàêÊú¨‰Ωé httpÊï∞ÊçÆÂåÖÂ§ß javaÂºÄÂèëÔºöHttpClientÔºåURLConnection 2„ÄÅÂæÆÊúçÂä°Ë∞ÉÁî®ÊñπÂºè‰πãribbonÂÆûÊàò ËÆ¢ÂçïË∞ÉÁî®ÂïÜÂìÅÊúçÂä°‚Äã ÁÆÄ‰ªãÔºöÂÆûÊàòÁîµÂïÜÈ°πÁõÆ ËÆ¢ÂçïÊúçÂä° Ë∞ÉÁî®ÂïÜÂìÅÊúçÂä°Ëé∑ÂèñÂïÜÂìÅ‰ø°ÊÅØ‚Äã 1„ÄÅÂàõÂª∫order_serviceÈ°πÁõÆ‚Äã 2„ÄÅÂºÄÂèë‰º™‰∏ãÂçïÊé•Âè£‚Äã 3„ÄÅ‰ΩøÁî®ribbon. (Á±ª‰ººhttpClient,URLConnection) ÂêØÂä®Á±ªÂ¢ûÂä†Ê≥®Ëß£ @Bean @LoadBalanced public RestTemplate restTemplate() { return new RestTemplate(); } 4„ÄÅÊ†πÊçÆÂêçÁß∞ËøõË°åË∞ÉÁî®ÂïÜÂìÅÔºåËé∑ÂèñÂïÜÂìÅËØ¶ÊÉÖ 3„ÄÅÈ´òÁ∫ßÁØáÂπÖ‰πãRibbonË¥üËΩΩÂùáË°°Ê∫êÁ†ÅÂàÜÊûêÂÆûÊàò‚Äã ÁÆÄ‰ªã: ËÆ≤Ëß£ribbonÊúçÂä°Èó¥Ë∞ÉÁî®Ë¥üËΩΩÂùáË°°Ê∫êÁ†ÅÂàÜÊûê‚Äã 1„ÄÅÂÆåÂñÑ‰∏ãÂçïÊé•Âè£‚Äã 2„ÄÅÂàÜÊûê@LoadBalanced‚Äã 1ÔºâÈ¶ñÂÖà‰ªéÊ≥®ÂÜå‰∏≠ÂøÉËé∑ÂèñproviderÁöÑÂàóË°®‚Äã 2ÔºâÈÄöËøá‰∏ÄÂÆöÁöÑÁ≠ñÁï•ÈÄâÊã©ÂÖ∂‰∏≠‰∏Ä‰∏™ËäÇÁÇπ 3ÔºâÂÜçËøîÂõûÁªôrestTemplateË∞ÉÁî® =============================================4„ÄÅÈ´òÁ∫ßÁØáÂπÖ‰πãÊúçÂä°Èó¥Ë∞ÉÁî®‰πãË¥üËΩΩÂùáË°°Á≠ñÁï•Ë∞ÉÊï¥ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöÂÆûÊàòË∞ÉÊï¥ÈªòËÆ§Ë¥üËΩΩÂùáË°°Á≠ñÁï•ÂÆûÊàò Ëá™ÂÆö‰πâË¥üËΩΩÂùáË°°Á≠ñÁï•Ôºöhttp://cloud.spring.io/spring-cloud-static/Finchley.RELEASE/single/spring-cloud.html#_customizing_the_ribbon_client_by_setting_properties Âú®ÈÖçÁΩÆÊñá‰ª∂ymlÈáåÈù¢ÔºåËá™ÂÆö‰πâË¥üËΩΩÂùáË°°Á≠ñÁï• #Ëá™ÂÆö‰πâË¥üËΩΩÂùáË°°Á≠ñÁï• product-service: ribbon: NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule Á≠ñÁï•ÈÄâÊã©Ôºö 1„ÄÅÂ¶ÇÊûúÊØè‰∏™Êú∫Âô®ÈÖçÁΩÆ‰∏ÄÊ†∑ÔºåÂàôÂª∫ËÆÆ‰∏ç‰øÆÊîπÁ≠ñÁï• (Êé®Ëçê) 2„ÄÅÂ¶ÇÊûúÈÉ®ÂàÜÊú∫Âô®ÈÖçÁΩÆÂº∫ÔºåÂàôÂèØ‰ª•Êîπ‰∏∫ WeightedResponseTimeRule 5„ÄÅÂæÆÊúçÂä°Ë∞ÉÁî®ÊñπÂºè‰πãfeign ÂÆûÊàò ËÆ¢ÂçïË∞ÉÁî®ÂïÜÂìÅÊúçÂä°‚Äã ÁÆÄ‰ªãÔºöÊîπÈÄ†ÁîµÂïÜÈ°πÁõÆ ËÆ¢ÂçïÊúçÂä° Ë∞ÉÁî®ÂïÜÂìÅÊúçÂä°Ëé∑ÂèñÂïÜÂìÅ‰ø°ÊÅØ‚Äã FeignÔºö ‰º™RPCÂÆ¢Êà∑Á´Ø(Êú¨Ë¥®ËøòÊòØÁî®http)‚Äã ÂÆòÊñπÊñáÊ°£: https://cloud.spring.io/spring-cloud-openfeign/ 1„ÄÅ‰ΩøÁî®feignÊ≠•È™§ËÆ≤Ëß£ÔºàÊñ∞ÊóßÁâàÊú¨‰æùËµñÂêçÁß∞‰∏ç‰∏ÄÊ†∑Ôºâ Âä†ÂÖ•‰æùËµñ &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;/dependency&gt; ÂêØÂä®Á±ªÂ¢ûÂä†@EnableFeignClients Â¢ûÂä†‰∏Ä‰∏™Êé•Âè£ Âπ∂@FeignClient(name=&quot;product-service&quot;) 2„ÄÅÁºñÁ†ÅÂÆûÊàò 3„ÄÅÊ≥®ÊÑèÁÇπÔºö 1„ÄÅË∑ØÂæÑ 2„ÄÅHttpÊñπÊ≥ïÂøÖÈ°ªÂØπÂ∫î 3„ÄÅ‰ΩøÁî®requestBodyÔºåÂ∫îËØ•‰ΩøÁî®@PostMapping 4„ÄÅÂ§ö‰∏™ÂèÇÊï∞ÁöÑÊó∂ÂÄôÔºåÈÄöËøá@RequestParamÔºà&quot;id&quot;) int id)ÊñπÂºèË∞ÉÁî® 6„ÄÅFeignÊ†∏ÂøÉÊ∫êÁ†ÅËß£ËØªÂíåÊúçÂä°Ë∞ÉÁî®ÊñπÂºèribbonÂíåFeignÈÄâÊã©‚Äã ÁÆÄ‰ªã: ËÆ≤Ëß£FeignÊ†∏ÂøÉÊ∫êÁ†ÅËß£ËØªÂíå ÊúçÂä°Èó¥ÁöÑË∞ÉÁî®ÊñπÂºèribbon„ÄÅfeignÈÄâÊã©‚Äã‚Äã 1„ÄÅribbonÂíåfeign‰∏§‰∏™ÁöÑÂå∫Âà´ÂíåÈÄâÊã©‚Äã ÈÄâÊã©feign‚Äã ÈªòËÆ§ÈõÜÊàê‰∫Üribbon‚Äã ÂÜôËµ∑Êù•Êõ¥Âä†ÊÄùË∑ØÊ∏ÖÊô∞ÂíåÊñπ‰æø‚Äã ÈááÁî®Ê≥®Ëß£ÊñπÂºèËøõË°åÈÖçÁΩÆÔºåÈÖçÁΩÆÁÜîÊñ≠Á≠âÊñπÂºèÊñπ‰æø‚Äã‚Äã 2„ÄÅË∂ÖÊó∂ÈÖçÁΩÆ‚Äã ÈªòËÆ§optons readtimeoutÊòØ60Ôºå‰ΩÜÊòØÁî±‰∫éhystrixÈªòËÆ§ÊòØ1ÁßíË∂ÖÊó∂‚Äã #‰øÆÊîπË∞ÉÁî®Ë∂ÖÊó∂Êó∂Èó¥ feign: client: config: default: connectTimeout: 2000 readTimeout: 2000 Ê®°ÊãüÊé•Âè£ÂìçÂ∫îÊÖ¢ÔºåÁ∫øÁ®ãÁù°Áú†Êñ∞ÁöÑÊñπÂºè try { TimeUnit.SECONDS.sleep(1); } catch (InterruptedException e) { e.printStackTrace(); } Á¨¨‰∫îÁ´† ‰∫íËÅîÁΩëÊû∂ÊûÑÊúçÂä°ÈôçÁ∫ßÁÜîÊñ≠ Hystrix ÂÆûÊàò 1„ÄÅÂàÜÂ∏ÉÂºèÊ†∏ÂøÉÁü•ËØÜ‰πãÁÜîÊñ≠„ÄÅÈôçÁ∫ßËÆ≤Ëß£‚Äã ÁÆÄ‰ªãÔºöÁ≥ªÁªüË¥üËΩΩËøáÈ´òÔºåÁ™ÅÂèëÊµÅÈáèÊàñËÄÖÁΩëÁªúÁ≠âÂêÑÁßçÂºÇÂ∏∏ÊÉÖÂÜµ‰ªãÁªçÔºåÂ∏∏Áî®ÁöÑËß£ÂÜ≥ÊñπÊ°à 1„ÄÅÁÜîÊñ≠Ôºö ‰øùÈô©‰∏ùÔºåÁÜîÊñ≠ÊúçÂä°Ôºå‰∏∫‰∫ÜÈò≤Ê≠¢Êï¥‰∏™Á≥ªÁªüÊïÖÈöúÔºåÂåÖÂê´Â≠êÂíå‰∏ãÊ∏∏ÊúçÂä° ‰∏ãÂçïÊúçÂä° -„ÄãÂïÜÂìÅÊúçÂä° -„ÄãÁî®Êà∑ÊúçÂä° ÔºàÂá∫Áé∞ÂºÇÂ∏∏-„ÄãÁÜîÊñ≠Ôºâ 2„ÄÅÈôçÁ∫ßÔºö ÊäõÂºÉ‰∏Ä‰∫õÈùûÊ†∏ÂøÉÁöÑÊé•Âè£ÂíåÊï∞ÊçÆ ÊóÖË°åÁÆ±ÁöÑ‰æãÂ≠êÔºöÂè™Â∏¶Ê†∏ÂøÉÁöÑÁâ©ÂìÅÔºåÊäõÂºÉÈùûÊ†∏ÂøÉÁöÑÔºåÁ≠âÊúâÊù°‰ª∂ÁöÑÊó∂ÂÄôÂÜçÂéªÊê∫Â∏¶Ëøô‰∫õÁâ©ÂìÅ ‚Äã‚Äã 3„ÄÅÁÜîÊñ≠ÂíåÈôçÁ∫ß‰∫íÁõ∏‰∫§ÈõÜ‚Äã Áõ∏ÂêåÁÇπÔºö‚Äã 1Ôºâ‰ªéÂèØÁî®ÊÄßÂíåÂèØÈù†ÊÄßËß¶ÂèëÔºå‰∏∫‰∫ÜÈò≤Ê≠¢Á≥ªÁªüÂ¥©Ê∫É‚Äã 2ÔºâÊúÄÁªàËÆ©Áî®Êà∑‰ΩìÈ™åÂà∞ÁöÑÊòØÊüê‰∫õÂäüËÉΩÊöÇÊó∂‰∏çËÉΩÁî®‚Äã‚Äã ‰∏çÂêåÁÇπ‚Äã 1ÔºâÊúçÂä°ÁÜîÊñ≠‰∏ÄËà¨ÊòØ‰∏ãÊ∏∏ÊúçÂä°ÊïÖÈöúÂØºËá¥ÁöÑÔºåËÄåÊúçÂä°ÈôçÁ∫ß‰∏ÄËà¨ÊòØ‰ªéÊï¥‰ΩìÁ≥ªÁªüË¥üËç∑ËÄÉËôëÔºåÁî±Ë∞ÉÁî®ÊñπÊéßÂà∂ 2„ÄÅNetflixÂºÄÊ∫êÁªÑ‰ª∂Êñ≠Ë∑ØÂô®Hystrix‰ªãÁªç‚Äã ÁÆÄ‰ªãÔºö‰ªãÁªçHystrixÂü∫Á°ÄÁü•ËØÜÂíå‰ΩøÁî®Âú∫ÊôØ‚Äã‚Äã ÊñáÊ°£Âú∞ÂùÄÔºö‚Äã https://github.com/Netflix/Hystrix‚Äã https://github.com/Netflix/Hystrix/wiki‚Äã‚Äã 1„ÄÅ‰ªÄ‰πàÊòØHystrixÔºü‚Äã 1ÔºâhystrixÂØπÂ∫îÁöÑ‰∏≠ÊñáÂêçÂ≠óÊòØ‚ÄúË±™Áå™‚Äù‚Äã 2Ôºâhystrix Ëã±[h…™st‚Äôr…™ks] Áæé[h…™st‚Äôr…™ks] ‚Äã‚Äã 2„ÄÅ‰∏∫‰ªÄ‰πàË¶ÅÁî®Ôºü‚Äã Âú®‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈáåÔºå‰∏Ä‰∏™ÊúçÂä°‰æùËµñÂ§ö‰∏™ÊúçÂä°ÔºåÂèØËÉΩÂ≠òÂú®Êüê‰∏™ÊúçÂä°Ë∞ÉÁî®Â§±Ë¥•Ôºå‚Äã ÊØîÂ¶ÇË∂ÖÊó∂„ÄÅÂºÇÂ∏∏Á≠âÔºåÂ¶Ç‰ΩïËÉΩÂ§ü‰øùËØÅÂú®‰∏Ä‰∏™‰æùËµñÂá∫ÈóÆÈ¢òÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏ç‰ºöÂØºËá¥Êï¥‰ΩìÊúçÂä°Â§±Ë¥•Ôºå‚Äã ÈÄöËøáHystrixÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥‚Äã‚Äã http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients‚Äã‚Äã 3„ÄÅÊèê‰æõ‰∫ÜÁÜîÊñ≠„ÄÅÈöîÁ¶ª„ÄÅFallback„ÄÅcache„ÄÅÁõëÊéßÁ≠âÂäüËÉΩ 4„ÄÅÁÜîÊñ≠ÂêéÊÄé‰πàÂ§ÑÁêÜÔºü Âá∫Áé∞ÈîôËØØ‰πãÂêéÂèØ‰ª• fallback ÈîôËØØÁöÑÂ§ÑÁêÜ‰ø°ÊÅØ ÂÖúÂ∫ïÊï∞ÊçÆ 3„ÄÅFeignÁªìÂêàHystrixÊñ≠Ë∑ØÂô®ÂºÄÂèëÂÆûÊàò„Ää‰∏ä„Äã‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringCloudÊï¥ÂêàÊñ≠Ë∑ØÂô®ÁöÑ‰ΩøÁî®ÔºåÁî®Êà∑ÊúçÂä°ÂºÇÂ∏∏ÊÉÖÂÜµ 1„ÄÅÂä†ÂÖ•‰æùËµñ Ê≥®ÊÑèÔºöÁΩë‰∏äÊñ∞ÊóßÁâàÊú¨ÈóÆÈ¢òÔºåÊâÄ‰ª•Ë¶Å‰ª•ÂÆòÁΩë‰∏∫‰∏ªÔºå‰∏çÁÑ∂ÈÉ®ÂàÜÊ≥®Ëß£‰ºö‰∏¢Â§± ÊúÄÊñ∞ÁâàÊú¨ 2.0 &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅÂ¢ûÂä†Ê≥®Ëß£ ÂêØÂä®Á±ªÈáåÈù¢Â¢ûÂä†Ê≥®Ëß£ @EnableCircuitBreaker Ê≥®Ëß£Ë∂äÊù•Ë∂äÂ§ö-„Äã SpringCloudApplicationÊ≥®Ëß£ 3„ÄÅAPIÊé•Âè£ÁºñÁ†ÅÂÆûÊàò ÁÜîÊñ≠-„ÄãÈôçÁ∫ß 1ÔºâÊúÄÂ§ñÂ±Çapi‰ΩøÁî®ÔºåÂ•ΩÊØîÂºÇÂ∏∏Â§ÑÁêÜÔºàÁΩëÁªúÂºÇÂ∏∏ÔºåÂèÇÊï∞ÊàñËÄÖÂÜÖÈÉ®Ë∞ÉÁî®ÈóÆÈ¢òÔºâ apiÊñπÊ≥ï‰∏äÂ¢ûÂä† @HystrixCommand(fallbackMethod = &quot;saveOrderFail&quot;) ÁºñÂÜôfallbackÊñπÊ≥ïÂÆûÁé∞ÔºåÊñπÊ≥ïÁ≠æÂêç‰∏ÄÂÆöË¶ÅÂíåapiÊñπÊ≥ïÁ≠æÂêç‰∏ÄËá¥ÔºàÊ≥®ÊÑèÁÇπÔºÅÔºÅÔºÅÔºâ ‚Äã Ë°•ÂÖÖÔºö ‰øÆÊîπmaven‰ªìÂ∫ìÂú∞ÂùÄ pom.xml‰∏≠‰øÆÊîπ &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;layout&gt;default&lt;/layout&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;/repository&gt; &lt;/repositories&gt; 4„ÄÅFeignÁªìÂêàHystrixÊñ≠Ë∑ØÂô®ÂºÄÂèëÂÆûÊàò„Ää‰∏ã„Äã‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringCloudÊï¥ÂêàÊñ≠Ë∑ØÂô®ÁöÑ‰ΩøÁî®ÔºåÁî®Êà∑ÊúçÂä°ÂºÇÂ∏∏ÊÉÖÂÜµ‚Äã 1„ÄÅfeignÁªìÂêàHystrix‚Äã‚Äã 1ÔºâÂºÄÂêØfeignÊîØÊåÅhystrix (Ê≥®ÊÑèÔºå‰∏ÄÂÆöË¶ÅÂºÄÂêØÔºåÊóßÁâàÊú¨ÈªòËÆ§ÊîØÊåÅÔºåÊñ∞ÁâàÊú¨ÈªòËÆ§ÂÖ≥Èó≠)‚Äã feign:‚Äã hystrix:‚Äã enabled: true‚Äã‚Äã 2ÔºâFeignClient(name=‚Äùxxx‚Äù, fallback=xxx.class ), classÈúÄË¶ÅÁªßÊâøÂΩìÂâçFeignClientÁöÑÁ±ª 5„ÄÅÁÜîÊñ≠ÈôçÁ∫ßÊúçÂä°ÂºÇÂ∏∏Êä•Ë≠¶ÈÄöÁü•ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöÂÆåÂñÑÊúçÂä°ÁÜîÊñ≠Â§ÑÁêÜÔºåÊä•Ë≠¶Êú∫Âà∂ÂÆåÂñÑ 1„ÄÅÂä†ÂÖ•redis‰æùËµñ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅÈÖçÁΩÆredisÈìæÊé•‰ø°ÊÅØ redis: database: 0 host: 127.0.0.1 port: 6379 timeout: 2000 3„ÄÅ‰ΩøÁî® //ÁõëÊéßÊä•Ë≠¶ String saveOrderKye = &quot;save-order&quot;; String sendValue = redisTemplate.opsForValue().get(saveOrderKye); final String ip = request.getRemoteAddr(); new Thread( ()-&gt;{ if (StringUtils.isBlank(sendValue)) { System.out.println(&quot;Á¥ßÊÄ•Áü≠‰ø°ÔºåÁî®Êà∑‰∏ãÂçïÂ§±Ë¥•ÔºåËØ∑Á¶ªÂºÄÊü•ÊâæÂéüÂõ†,ipÂú∞ÂùÄÊòØ=&quot;+ip); //ÂèëÈÄÅ‰∏Ä‰∏™httpËØ∑Ê±ÇÔºåË∞ÉÁî®Áü≠‰ø°ÊúçÂä° TODO redisTemplate.opsForValue().set(saveOrderKye, &quot;save-order-fail&quot;, 20, TimeUnit.SECONDS); }else{ System.out.println(&quot;Â∑≤ÁªèÂèëÈÄÅËøáÁü≠‰ø°Ôºå20ÁßíÂÜÖ‰∏çÈáçÂ§çÂèëÈÄÅ&quot;); } }).start(); 6„ÄÅÈ´òÁ∫ßÁØáÂπÖ‰πãÊ∑±ÂÖ•Ê∫êÁ†ÅÂâñÊûêHystrixÈôçÁ∫ßÁ≠ñÁï•ÂíåË∞ÉÊï¥‚Äã ÁÆÄ‰ªãÔºöÊ∫êÁ†ÅÂàÜÊûêHystrixÈôçÁ∫ßÁ≠ñÁï•ÂíåË∞ÉÊï¥ 1„ÄÅÊü•ÁúãÈªòËÆ§ËÆ≤Ëß£Á≠ñÁï• HystrixCommandProperties 1Ôºâexecution.isolation.strategy ÈöîÁ¶ªÁ≠ñÁï• THREAD Á∫øÁ®ãÊ±†ÈöîÁ¶ª ÔºàÈªòËÆ§Ôºâ SEMAPHORE ‰ø°Âè∑Èáè ‰ø°Âè∑ÈáèÈÄÇÁî®‰∫éÊé•Âè£Âπ∂ÂèëÈáèÈ´òÁöÑÊÉÖÂÜµÔºåÂ¶ÇÊØèÁßíÊï∞ÂçÉÊ¨°Ë∞ÉÁî®ÁöÑÊÉÖÂÜµÔºåÂØºËá¥ÁöÑÁ∫øÁ®ãÂºÄÈîÄËøáÈ´òÔºåÈÄöÂ∏∏Âè™ÈÄÇÁî®‰∫éÈùûÁΩëÁªúË∞ÉÁî®ÔºåÊâßË°åÈÄüÂ∫¶Âø´ 2Ôºâexecution.isolation.thread.timeoutInMilliseconds Ë∂ÖÊó∂Êó∂Èó¥ ÈªòËÆ§ 1000ÊØ´Áßí 3Ôºâexecution.timeout.enabled ÊòØÂê¶ÂºÄÂêØË∂ÖÊó∂ÈôêÂà∂ Ôºà‰∏ÄÂÆö‰∏çË¶ÅÁ¶ÅÁî®Ôºâ 4Ôºâexecution.isolation.semaphore.maxConcurrentRequests ÈöîÁ¶ªÁ≠ñÁï•‰∏∫ ‰ø°Âè∑ÈáèÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúËææÂà∞ÊúÄÂ§ßÂπ∂ÂèëÊï∞Êó∂ÔºåÂêéÁª≠ËØ∑Ê±Ç‰ºöË¢´ÊãíÁªùÔºåÈªòËÆ§ÊòØ10 ÂÆòÊñπÊñáÊ°£: https://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.strategy 2„ÄÅË∞ÉÊï¥Á≠ñÁï• Ë∂ÖÊó∂Êó∂Èó¥Ë∞ÉÊï¥ hystrix: command: default: execution: isolation: thread: timeoutInMilliseconds: 4000 7„ÄÅÊñ≠Ë∑ØÂô®DashboardÁõëÊéß‰ª™Ë°®ÁõòÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£Êñ≠Ë∑ØÂô®DashboardÂü∫Á°Ä‰ΩøÁî®ÂíåÊü•Áúã‚Äã 1„ÄÅÂä†ÂÖ•‰æùËµñ‚Äã ‚Äã org.springframework.cloud‚Äã spring-cloud-starter-netflix-hystrix-dashboard‚Äã &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅÂêØÂä®Á±ªÂ¢ûÂä†Ê≥®Ëß£ @EnableHystrixDashboard ‚Äã‚Äã 3„ÄÅÈÖçÁΩÆÊñá‰ª∂Â¢ûÂä†endpointmanagement: endpoints:‚Äã web:‚Äã exposure:‚Äã include: ‚Äú*‚Äù 4„ÄÅËÆøÈóÆÂÖ•Âè£ http://localhost:8781/hystrix Hystrix DashboardËæìÂÖ•Ôºö http://localhost:8781/actuator/hystrix.stream ‚Äã‚Äã ÂèÇËÄÉËµÑÊñô‚Äã ÈªòËÆ§ÂºÄÂêØÁõëÊéßÈÖçÁΩÆ‚Äã https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator‚Äã‚Äã ÈÖçÁΩÆÊñá‰ª∂Á±ªÔºö‚Äã spring-configuration-metadata.json 8„ÄÅÊñ≠Ë∑ØÂô®ÁõëÊéß‰ª™Ë°®ÂèÇÊï∞ËÆ≤Ëß£ÂíåÊ®°ÊãüÁÜîÊñ≠‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£ Êñ≠Ë∑ØÂô®ÁõëÊéß‰ª™Ë°®ÁõòÂèÇÊï∞ÂíåÊ®°ÊãüÁÜîÊñ≠ 1„ÄÅsse server-send-eventÊé®ÈÄÅÂà∞ÂâçÁ´Ø ËµÑÊñôÔºöhttps://github.com/Netflix/Hystrix/wiki/Dashboard Á¨¨ÂÖ≠Á´† ÂæÆÊúçÂä°ÁΩëÂÖ≥zuulÂºÄÂèëÂÆûÊàò 1„ÄÅÂæÆÊúçÂä°ÁΩëÂÖ≥‰ªãÁªçÂíå‰ΩøÁî®Âú∫ÊôØ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÁΩëÂÖ≥ÁöÑ‰ΩúÁî®Âíå‰ΩøÁî®Âú∫ÊôØ (ÁîªÂõæ)‚Äã‚Äã 1Ôºâ‰ªÄ‰πàÊòØÁΩëÂÖ≥‚Äã API GatewayÔºåÊòØÁ≥ªÁªüÁöÑÂîØ‰∏ÄÂØπÂ§ñÁöÑÂÖ•Âè£Ôºå‰ªã‰∫éÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Á´Ø‰πãÈó¥ÁöÑ‰∏≠Èó¥Â±ÇÔºåÂ§ÑÁêÜÈùû‰∏öÂä°ÂäüËÉΩ Êèê‰æõË∑ØÁî±ËØ∑Ê±Ç„ÄÅÈâ¥ÊùÉ„ÄÅÁõëÊéß„ÄÅÁºìÂ≠ò„ÄÅÈôêÊµÅÁ≠âÂäüËÉΩ‚Äã‚Äã Áªü‰∏ÄÊé•ÂÖ•‚Äã Êô∫ËÉΩË∑ØÁî±‚Äã ABÊµãËØï„ÄÅÁÅ∞Â∫¶ÊµãËØï‚Äã Ë¥üËΩΩÂùáË°°„ÄÅÂÆπÁÅæÂ§ÑÁêÜ‚Äã Êó•ÂøóÂüãÁÇπÔºàÁ±ª‰ººNignxÊó•ÂøóÔºâ‚Äã ÊµÅÈáèÁõëÊéß ÈôêÊµÅÂ§ÑÁêÜ ÊúçÂä°ÈôçÁ∫ß ÂÆâÂÖ®Èò≤Êä§ Èâ¥ÊùÉÂ§ÑÁêÜ ÁõëÊéß Êú∫Âô®ÁΩëÁªúÈöîÁ¶ª 2Ôºâ‰∏ªÊµÅÁöÑÁΩëÂÖ≥ zuulÔºöÊòØNetflixÂºÄÊ∫êÁöÑÂæÆÊúçÂä°ÁΩëÂÖ≥ÔºåÂíåEureka,Ribbon,HystrixÁ≠âÁªÑ‰ª∂ÈÖçÂêà‰ΩøÁî®ÔºåZuul 2.0ÊØî1.0ÁöÑÊÄßËÉΩÊèêÈ´òÂæàÂ§ö kong: Áî±MashapeÂÖ¨Âè∏ÂºÄÊ∫êÁöÑÔºåÂü∫‰∫éNginxÁöÑAPI gateway nginx+luaÔºöÊòØ‰∏Ä‰∏™È´òÊÄßËÉΩÁöÑHTTPÂíåÂèçÂêë‰ª£ÁêÜÊúçÂä°Âô®,luaÊòØËÑöÊú¨ËØ≠Ë®ÄÔºåËÆ©NginxÊâßË°åLuaËÑöÊú¨ÔºåÂπ∂‰∏îÈ´òÂπ∂Âèë„ÄÅÈùûÈòªÂ°ûÁöÑÂ§ÑÁêÜÂêÑÁßçËØ∑Ê±Ç 2„ÄÅSpringCloudÁöÑÁΩëÂÖ≥ÁªÑ‰ª∂zuulÂü∫Êú¨‰ΩøÁî®‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£zuulÁΩëÂÖ≥Âü∫Êú¨‰ΩøÁî® 1„ÄÅÂä†ÂÖ•‰æùËµñ 2„ÄÅÂêØÂä®Á±ªÂä†ÂÖ•Ê≥®Ëß£ @EnableZuulProxy ÈªòËÆ§ÈõÜÊàêÊñ≠Ë∑ØÂô® @EnableCircuitBreaker ÈªòËÆ§ËÆøÈóÆËßÑÂàô http://gateway:port/service-id/** ‰æãÂ≠êÔºöÈªòËÆ§ /order-service/api/v1/order/save?user_id=2&amp;product_id=1 Ëá™ÂÆö‰πâ /xdclass_order/api/v1/order/save?user_id=2&amp;product_id=1 Ëá™ÂÆö‰πâË∑ØÁî±ËΩ¨ÂèëÔºö zuul: routes: order-service: /apigateway/** ÁéØÂ¢ÉÈöîÁ¶ªÈÖçÁΩÆÔºö ÈúÄÊ±Ç Ôºö‰∏çÊÉ≥ËÆ©ÈªòËÆ§ÁöÑÊúçÂä°ÂØπÂ§ñÊö¥Èú≤Êé•Âè£ /order-service/api/v1/order/save ÈÖçÁΩÆÔºö zuul: ignored-patterns: - /*-service/api/v1/order/save 3„ÄÅÈ´òÁ∫ßÁØáÂπÖ‰πãZuulÂ∏∏Áî®ÈóÆÈ¢òÂàÜÊûêÂíåÁΩëÂÖ≥ËøáÊª§Âô®ÂéüÁêÜÂàÜÊûê ÁÆÄ‰ªãÔºöËÆ≤Ëß£ZuulÁΩëÂÖ≥ÂéüÁêÜÂíåËøáÊª§Âô®ÁîüÂëΩÂë®ÊúüÔºå 1„ÄÅË∑ØÁî±ÂêçÁß∞ÂÆö‰πâÈóÆÈ¢ò Ë∑ØÁî±Êò†Â∞ÑÈáçÂ§çË¶ÜÁõñÈóÆÈ¢ò 2„ÄÅHttpËØ∑Ê±ÇÂ§¥ËøáÊª§ÈóÆÈ¢ò 3„ÄÅËøáÊª§Âô®ÊâßË°åÈ°∫Â∫èÈóÆÈ¢ò ÔºåËøáÊª§Âô®ÁöÑorderÂÄºË∂äÂ∞èÔºåË∂äÂÖàÊâßË°å 4„ÄÅÂÖ±‰∫´RequestContextÔºå‰∏ä‰∏ãÊñáÂØπË±° 4„ÄÅËá™ÂÆö‰πâZuulËøáÊª§Âô®ÂÆûÁé∞ÁôªÂΩïÈâ¥ÊùÉÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöËá™ÂÆö‰πâZuulËøáÊª§Âô®ÂÆûÁé∞ÁôªÂΩïÈâ¥ÊùÉÂÆûÊàò 1„ÄÅÊñ∞Âª∫‰∏Ä‰∏™filterÂåÖ 2„ÄÅÊñ∞Âª∫‰∏Ä‰∏™Á±ªÔºåÂÆûÁé∞ZuulFilterÔºåÈáçÂÜôÈáåÈù¢ÁöÑÊñπÊ≥ï 3„ÄÅÂú®Á±ªÈ°∂ÈÉ®Âä†Ê≥®Ëß£Ôºå@Component,ËÆ©SpringÊâ´Êèè 5„ÄÅÈ´òÁ∫ßÁØáÂπÖ‰πãÈ´òÂπ∂ÂèëÊÉÖÂÜµ‰∏ãÊé•Âè£ÈôêÊµÅÁâπÊäÄ‚Äã ÁÆÄ‰ªãÔºöË∞∑Ê≠åguavaÊ°ÜÊû∂‰ªãÁªçÔºåÁΩëÂÖ≥ÈôêÊµÅ‰ΩøÁî® 1„ÄÅnginxÂ±ÇÈôêÊµÅ 2„ÄÅÁΩëÂÖ≥Â±ÇÈôêÊµÅ 6„ÄÅZuulÂæÆÊúçÂä°ÁΩëÂÖ≥ÈõÜÁæ§Êê≠Âª∫‚Äã ÁÆÄ‰ªãÔºöÂæÆÊúçÂä°ÁΩëÂÖ≥ZullÈõÜÁæ§Êê≠Âª∫ 1„ÄÅnginx+lvs+keepalive https://www.cnblogs.com/liuyisai/p/5990645.html Á¨¨‰∏ÉÁ´† ÂàÜÂ∏ÉÂºèÈìæË∑ØËøΩË∏™Á≥ªÁªüSleuthÂíåZipKinÂÆûÊàò‚Äã 1„ÄÅÂæÆÊúçÂä°‰∏ãÁöÑÈìæË∑ØËøΩË∏™ËÆ≤Ëß£ÂíåÈáçË¶ÅÊÄß ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ªÄ‰πàÊòØÂàÜÂ∏ÉÂºèÈìæË∑ØËøΩË∏™Á≥ªÁªüÔºåÂèä‰ΩøÁî®Â•ΩÂ§Ñ 2„ÄÅSpringCloudÁöÑÈìæË∑ØËøΩË∏™ÁªÑ‰ª∂SleuthÂÆûÊàò ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÂàÜÂ∏ÉÂºèÈìæË∑ØËøΩË∏™ÁªÑ‰ª∂SleuthÂÆûÊàò 1„ÄÅÂÆòÊñπÊñáÊ°£ http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#sleuth-adding-project 2„ÄÅ‰ªÄ‰πàÊòØSleuth ‰∏Ä‰∏™ÁªÑ‰ª∂Ôºå‰∏ìÈó®Áî®‰∫éËÆ∞ÂΩïÈìæË∑ØÊï∞ÊçÆÁöÑÂºÄÊ∫êÁªÑ‰ª∂ [order-service,96f95a0dd81fe3ab,852ef4cfcdecabf3,false] 1„ÄÅÁ¨¨‰∏Ä‰∏™ÂÄºÔºåspring.application.nameÁöÑÂÄº 2„ÄÅÁ¨¨‰∫å‰∏™ÂÄºÔºå96f95a0dd81fe3ab ÔºåsleuthÁîüÊàêÁöÑ‰∏Ä‰∏™IDÔºåÂè´Trace IDÔºåÁî®Êù•Ê†áËØÜ‰∏ÄÊù°ËØ∑Ê±ÇÈìæË∑ØÔºå‰∏ÄÊù°ËØ∑Ê±ÇÈìæË∑Ø‰∏≠ÂåÖÂê´‰∏Ä‰∏™Trace IDÔºåÂ§ö‰∏™Span ID 3„ÄÅÁ¨¨‰∏â‰∏™ÂÄºÔºå852ef4cfcdecabf3„ÄÅspanid Âü∫Êú¨ÁöÑÂ∑•‰ΩúÂçïÂÖÉÔºåËé∑ÂèñÂÖÉÊï∞ÊçÆÔºåÂ¶ÇÂèëÈÄÅ‰∏Ä‰∏™http 4„ÄÅÁ¨¨Âõõ‰∏™ÂÄºÔºöfalseÔºåÊòØÂê¶Ë¶ÅÂ∞ÜËØ•‰ø°ÊÅØËæìÂá∫Âà∞zipkinÊúçÂä°‰∏≠Êù•Êî∂ÈõÜÂíåÂ±ïÁ§∫„ÄÇ 3„ÄÅÊ∑ªÂä†‰æùËµñ &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt; &lt;/dependency&gt; 3„ÄÅSpringCloudÁöÑÈìæË∑ØËøΩË∏™ÁªÑ‰ª∂SleuthÂ∏∏ËßÅÈóÆÈ¢òËØ¥Êòé ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÂàÜÂ∏ÉÂºèÈìæË∑ØËøΩË∏™ÁªÑ‰ª∂SleuthÂ∏∏ËßÅÈóÆÈ¢òËØ¥Êòé ‚Äã 4„ÄÅÂèØËßÜÂåñÈìæË∑ØËøΩË∏™Á≥ªÁªüZipkinÈÉ®ÁΩ≤ ÁÆÄ‰ªãÔºöËÆ≤Ëß£ZipkinÁöÑ‰ªãÁªçÂíåÈÉ®ÁΩ≤ 1„ÄÅ‰ªÄ‰πàÊòØzipkin ÂÆòÁΩëÔºöhttps://zipkin.io/ Â§ßËßÑÊ®°ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑAPMÂ∑•ÂÖ∑ÔºàApplication Performance ManagementÔºâ,Âü∫‰∫éGoogle DapperÁöÑÂü∫Á°ÄÂÆûÁé∞ÔºåÂíåsleuthÁªìÂêàÂèØ‰ª•Êèê‰æõÂèØËßÜÂåñwebÁïåÈù¢ÂàÜÊûêË∞ÉÁî®ÈìæË∑ØËÄóÊó∂ÊÉÖÂÜµ 2„ÄÅÂêåÁ±ª‰∫ßÂìÅ Èπ∞ÁúºÔºàEagleEyeÔºâ CAT twitterÂºÄÊ∫êzipkinÔºåÁªìÂêàsleuth PinpointÔºåËøêÁî®JavaAgentÂ≠óËäÇÁ†ÅÂ¢ûÂº∫ÊäÄÊúØ StackDriver Trace (Google) 3„ÄÅÂºÄÂßã‰ΩøÁî® https://github.com/openzipkin/zipkin https://zipkin.io/pages/quickstart.html zipkinÁªÑÊàêÔºöCollector„ÄÅStorage„ÄÅRestful API„ÄÅWeb UIÁªÑÊàê 4„ÄÅÁü•ËØÜÊãìÂ±ïÔºöOpenTracing OpenTracing Â∑≤ËøõÂÖ• CNCFÔºåÊ≠£Âú®‰∏∫ÂÖ®ÁêÉÁöÑÂàÜÂ∏ÉÂºèËøΩË∏™ÔºåÊèê‰æõÁªü‰∏ÄÁöÑÊ¶ÇÂøµÂíåÊï∞ÊçÆÊ†áÂáÜ„ÄÇ ÈÄöËøáÊèê‰æõÂπ≥Âè∞Êó†ÂÖ≥„ÄÅÂéÇÂïÜÊó†ÂÖ≥ÁöÑ APIÔºå‰ΩøÂæóÂºÄÂèë‰∫∫ÂëòËÉΩÂ§üÊñπ‰æøÁöÑÊ∑ªÂä†ÔºàÊàñÊõ¥Êç¢ÔºâËøΩË∏™Á≥ªÁªüÁöÑÂÆûÁé∞„ÄÇ Êé®ËçêÈòÖËØªÔºö http://blog.daocloud.io/cncf-3/ https://www.zhihu.com/question/27994350 https://yq.aliyun.com/articles/514488?utm_content=m_43347 5„ÄÅÈ´òÁ∫ßÁØáÂπÖ‰πãÈìæË∑ØËøΩË∏™ÁªÑ‰ª∂Zipkin+SleuthÂÆûÊàò ÁÆÄ‰ªãÔºö‰ΩøÁî®Zipkin+Sleuth‰∏öÂä°ÂàÜÊûêË∞ÉÁî®ÈìæË∑ØÂàÜÊûêÂÆûÊàò 1„ÄÅÊñáÊ°£ http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_sleuth_with_zipkin_via_http sleuthÊî∂ÈõÜË∑üË∏™‰ø°ÊÅØÈÄöËøáhttpËØ∑Ê±ÇÂèëÈÄÅÁªôzipkin serverÔºåzipkinserverËøõË°åË∑üË∏™‰ø°ÊÅØÁöÑÂ≠òÂÇ®‰ª•ÂèäÊèê‰æõRest APIÂç≥ÂèØÔºåZipkin UIË∞ÉÁî®ÂÖ∂APIÊé•Âè£ËøõË°åÊï∞ÊçÆÂ±ïÁ§∫ ÈªòËÆ§Â≠òÂÇ®ÊòØÂÜÖÂ≠òÔºåÂèØ‰πüÁî®mysql„ÄÅÊàñËÄÖelasticsearchÁ≠âÂ≠òÂÇ® 2„ÄÅÂä†ÂÖ•‰æùËµñ &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt; &lt;/dependency&gt; ÈáåÈù¢ÂåÖÂê´ spring-cloud-starter-sleuth„ÄÅspring-cloud-sleuth-zipkin 3„ÄÅÊñáÊ°£ËØ¥ÊòéÔºöhttp://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_features_2 4„ÄÅÈÖçÁΩÆzipkin.base-url 5„ÄÅÈÖçÁΩÆÈááÊ†∑ÁôæÂàÜÈó≠spring.sleuth.sampler Êé®ËçêËµÑÊñôÔºö https://blog.csdn.net/jrn1012/article/details/77837710 =============================================Êõ¥Â§öÂπ≤Ë¥ßÊäÄÊúØËÆøÈóÆÂ∞èDËØæÂ†ÇÂÆòÁΩë https://xdclass.netÂ∞èDËÄÅÂ∏à‰∏™‰∫∫ÂæÆ‰ø°Ôºöjack794666918 ÂÖ¨‰ºóÂè∑ÊêúÁ¥¢ÔºöÂ∞èDËØæÂ†Ç‚ÄãÁ¨¨ÂÖ´Á´† ÂæÆÊúçÂä°Ê†∏ÂøÉÁü•ËØÜÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉConfigÂÆûÊàò‚Äã‚Äã 1„ÄÅÂæÆÊúçÂä°‰∏ãÁöÑÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ªÄ‰πàÊòØÈÖçÁΩÆ‰∏≠ÂøÉÂèä‰ΩøÁî®ÂâçÂêéÁöÑÂ•ΩÂ§Ñ (ÁîªÂõæ)‚Äã ‰ªÄ‰πàÊòØÈÖçÁΩÆ‰∏≠ÂøÉÔºö‚Äã ‰∏ÄÂè•ËØùÔºöÁªü‰∏ÄÁÆ°ÁêÜÈÖçÁΩÆ, Âø´ÈÄüÂàáÊç¢ÂêÑ‰∏™ÁéØÂ¢ÉÁöÑÈÖçÁΩÆ‚Äã‚Äã Áõ∏ÂÖ≥‰∫ßÂìÅÔºö‚Äã ÁôæÂ∫¶ÁöÑdisconf‚Äã Âú∞ÂùÄ:https://github.com/knightliao/disconf‚Äã‚Äã ÈòøÈáåÁöÑdiamand‚Äã Âú∞ÂùÄÔºöhttps://github.com/takeseem/diamond‚Äã‚Äã springcloudÁöÑconfigs-server:‚Äã Âú∞ÂùÄÔºöhttp://cloud.spring.io/spring-cloud-config/ Êé®ËçêÂπ≤Ë¥ßÊñáÁ´†Ôºöhttp://jm.taobao.org/2016/09/28/an-article-about-config-center/ 2„ÄÅSpringCloudÁöÑÈÖçÁΩÆ‰∏≠ÂøÉÁªÑ‰ª∂config-serverÂÆûÊàò ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringCloudÈÖçÁΩÆ‰∏≠ÂøÉconfig-serverÂÆûÊàò 1„ÄÅÊñ∞Âª∫È°πÁõÆÔºåÂàõÂª∫config-server 2„ÄÅÂêØÂä®Á±ªÂ¢ûÂä†Ê≥®Ëß£ @EnableConfigServer 3„ÄÅ‰ΩøÁî®gitÊúçÂä°Âô®ÁªìÂêàConfigÊê≠Âª∫ÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ΩøÁî®gitÊúçÂä°Âô®ÁªìÂêàConfigÊê≠Âª∫ÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ 1„ÄÅÈªòËÆ§‰ΩøÁî®gitÂ≠òÂÇ®ÈÖçÁΩÆ‰∏≠ÂøÉ ‰ΩøÁî®gitÊúçÂä°Âô®ÔºåÂèØ‰ª•Ëá™Â∑±Êê≠Âª∫gitlabÊúçÂä°Âô® ÊàñËÄÖ‰ΩøÁî®github„ÄÅÂºÄÊ∫ê‰∏≠ÂõΩgit„ÄÅÈòøÈáå‰∫ëgit 794666918@qq.com xdclass.net123 https://gitee.com/waitforxy/config_cloud.git 2„ÄÅÈÖçÁΩÆÊñá‰ª∂Ê∑ªÂä†ÈÖçÁΩÆ spring: application: name: config-server #gitÈÖçÁΩÆ cloud: config: server: git: uri: https://gitee.com/waitforxy/config_cloud username: 794666918@qq.com password: xdclass.net123 #Ë∂ÖÊó∂Êó∂Èó¥ timeout: 5 #ÂàÜÊîØ default-label: master 3„ÄÅËÆøÈóÆÊñπÂºèÔºà‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèËØ≠Ê≥ïÔºåÂ¶ÇÊûúÊúâÈóÆÈ¢òÔºå‰ºöÂá∫ÈîôÔºâ Â§öÁßçËÆøÈóÆË∑ØÂæÑÔºåÂèØ‰ª•ÈÄöËøáÂêØÂä®Êó•ÂøóÂéªÊü•Áúã ‰æãÂ≠ê http://localhost:9100/product-service.yml /{name}-{profiles}.properties /{name}-{profiles}.yml /{name}-{profiles}.json /{label}/{name}-{profiles}.yml name ÊúçÂä°Âô®ÂêçÁß∞ profile ÁéØÂ¢ÉÂêçÁß∞ÔºåÂºÄÂèë„ÄÅÊµãËØï„ÄÅÁîü‰∫ß lable ‰ªìÂ∫ìÂàÜÊîØ„ÄÅÈªòËÆ§masterÂàÜÊîØ 4„ÄÅÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöÂæÆÊúçÂä°ÈáåÈù¢ÂÆ¢Êà∑Á´ØÊé•ÂÖ•ÈÖçÁΩÆ‰∏≠ÂøÉÂÆûÊàò‚Äã ÂÆòÊñπÊñáÊ°£Ôºöhttp://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_client‚Äã‚Äã 1„ÄÅÂä†ÂÖ•‰æùËµñ‚Äã ‚Äã org.springframework.cloud‚Äã spring-cloud-config-client‚Äã ‚Äã‚Äã 2„ÄÅ‰øÆÊîπÂØπÂ∫îÊúçÂä°ÁöÑÈÖçÁΩÆÊñá‰ª∂,Êääapplication.yml Êîπ‰∏∫ bootstrap.yml‚Äã #ÊåáÂÆöÊ≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄ‚Äã eureka:‚Äã client:‚Äã serviceUrl:‚Äã defaultZone: http://localhost:8761/eureka/‚Äã #ÊúçÂä°ÁöÑÂêçÁß∞ spring: application: name: product-service #ÊåáÂÆö‰ªéÂì™‰∏™ÈÖçÁΩÆ‰∏≠ÂøÉËØªÂèñ cloud: config: discovery: service-id: CONFIG-SERVER enabled: true profile: test #Âª∫ËÆÆÁî®lableÂéªÂå∫ÂàÜÁéØÂ¢ÉÔºåÈªòËÆ§ÊòØlableÊòØmasterÂàÜÊîØ #label: test Ê≥®ÊÑèÁÇπÔºö 1.ÈÖçÁΩÆÊñá‰ª∂Ë¶ÅÁî®bootstrap.yml 2.ÈªòËÆ§ËØªÂèñÊñá‰ª∂ÂêçÊòØ ÊúçÂä°ÂêçÁß∞ Á¨¨‰πùÁ´† ÂæÆÊúçÂä°Ê∂àÊÅØÊÄªÁ∫øBusÁªìÂêàÊ∂àÊÅØÈòüÂàóRabbitMQÂÆûÊàò 1„ÄÅÊ∂àÊÅØÊÄªÁ∫øBus‰ªãÁªçÂíå‰ΩøÁî®Âú∫ÊôØ ÁÆÄ‰ªãÔºöËÆ≤Ëß£Ê∂àÊÅØÊÄªÁ∫øBus‰ªãÁªçÂíå‰ΩøÁî®Âú∫ÊôØ 1„ÄÅ‰ªÄ‰πàÊòØÊ∂àÊÅØ ‰∏Ä‰∏™‰∫ã‰ª∂ÔºåÈúÄË¶ÅÂπøÊí≠ÊàñËÄÖÂçïÁã¨‰º†ÈÄíÁªôÊüê‰∏™Êé•Âè£ 2„ÄÅ‰∏∫‰ªÄ‰πà‰ΩøÁî®Ëøô‰∏™ ÈÖçÁΩÆÊõ¥Êñ∞‰∫ÜÔºå‰ΩÜÊòØÂÖ∂‰ªñÁ≥ªÁªü‰∏çÁü•ÈÅìÊòØÂê¶Êõ¥Êñ∞ 2„ÄÅÊ∂àÊÅØÈòüÂàóÂíåRabbitMQÂü∫Á°Ä‰ªãÁªç ÁÆÄ‰ªãÔºöÊ∂àÊÅØÈòüÂàóÂíåRabbitMQÂü∫Á°Ä‰ªãÁªç 1„ÄÅÊ∂àÊÅØÈòüÂàó‰ªãÁªç ÂèÇËÄÉÔºöhttps://www.cnblogs.com/linjiqin/p/5720865.html 2„ÄÅÂêåÁ±ª‰∫ßÂìÅ ActiveMQ RocketMQ Kafka Á≠â 3„ÄÅSpringCloudÈªòËÆ§Êé®Ëçê‰ΩøÁî®RabbitMQ 4„ÄÅRabbitMQ‰ªãÁªç ÂÆòÊñπÊñáÊ°£Ôºöhttp://www.rabbitmq.com/getstarted.html ‰∏≠ÊñáÊñáÊ°£Ôºöhttp://rabbitmq.mr-ping.com/ 3„ÄÅÂÆûÊàòÁ≥ªÂàó‰ΩøÁî®DockerÊê≠Âª∫RabbitMQ3.7 ÁÆÄ‰ªãÔºö‰ΩøÁî®DockerÂÆâË£ÖRabbitMQ 1„ÄÅÂ¶ÇÊûúÂØπDockerÊ≤°Âü∫Á°ÄÔºåËØæÁ®ãÂêéÁª≠ÊúâËÆ≤Ëß£DockerÔºåÂèØ‰ª•ÂÖàË∑≥ËΩ¨ËøáÂéªÂ≠¶‰π†Docker 2„ÄÅÂÆâË£ÖÊ≠•È™§ 1)ÊãâÂèñÈïúÂÉèÔºödocker pull rabbitmq:management 2)Êü•ÁúãÂΩìÂâçÈïúÂÉèÂàóË°®Ôºödocker images 3)Âà†Èô§ÊåáÂÆöÈïúÂÉèÔºödocker rmi IMAGE_ID (Â¶ÇÊûúÈúÄË¶ÅÂº∫Âà∂Âà†Èô§Âä† -f) 4)ÂàõÂª∫ÂÆπÂô® docker run -d --name=&quot;myrabbitmq&quot; -p 5671:5671 -p 15672:15672 rabbitmq:management ÂèÇÊï∞ËÆ≤Ëß£: run: ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂÆπÂô®Âπ∂ËøêË°å‰∏Ä‰∏™ÂëΩ‰ª§ -d: ÂêéÂè∞ËøêË°åÂÆπÂô®ÔºåÂπ∂ËøîÂõûÂÆπÂô®ID -p: Á´ØÂè£Êò†Â∞ÑÔºåÊ†ºÂºè‰∏∫Ôºö‰∏ªÊú∫(ÂÆø‰∏ª)Á´ØÂè£:ÂÆπÂô®Á´ØÂè£ --name=&quot;rabbitmq&quot;: ‰∏∫ÂÆπÂô®ÊåáÂÆö‰∏Ä‰∏™ÂêçÁß∞ 3„ÄÅRabbitMQÈªòËÆ§ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ guest Áî®Êà∑ÔºåÂØÜÁ†Å‰πüÊòØ guest, Â¶ÇÊûúËÆøÈóÆ‰∏ç‰∫ÜËÆ∞ÂæóÊü•ÁúãÈò≤ÁÅ´Â¢ôÔºåÁ´ØÂè£ÊàñËÄÖ‰∫ëÊúçÂä°Âô®ÁöÑÂÆâÂÖ®ÁªÑ ÁÆ°ÁêÜÂêéÂè∞Ôºöhttp://127.0.0.1:15672 ÂÖ∂‰ªñÂÆâË£ÖÊñπÂºèÔºö LinuxÂÆâË£ÖÔºöhttps://blog.csdn.net/qq_34021712/article/details/72567786 windowsÂÆâË£ÖÔºöhttp://www.rabbitmq.com/install-windows.html https://blog.csdn.net/liyuejin/article/details/78410586 4„ÄÅÈ´òÁ∫ßÁØáÂπÖÊ∂àÊÅØÊÄªÁ∫øÊï¥ÂêàÈÖçÁΩÆ‰∏≠ÂøÉÊû∂ÊûÑÊµÅÁ®ãÂõæ ÁÆÄ‰ªãÔºöËÆ≤Ëß£Ê∂àÊÅØÊÄªÁ∫øBusÁªìÂêàconfigÁªÑ‰ª∂Êê≠Âª∫ÈÖçÁΩÆ‰∏≠ÂøÉÈ°πÁõÆÊû∂ÊûÑÂõæÂíåÊìç‰ΩúÊµÅÁ®ã ÂêØÂä® rabbitmqÔºö docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management rabbitmqÈªòËÆ§ÊòØ5672,ÊâÄ‰ª•Êîπ‰∏∫5672Á´ØÂè£ 1„ÄÅconfig-clientÂä†ÂÖ•‰æùËµñ &lt;!--ÈÖçÁΩÆ‰∏≠ÂøÉÁªìÂêàÊ∂àÊÅØÈòüÂàó--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt; &lt;/dependency&gt; ‚Äã‚Äã ÂÆòÊñπÊñáÊ°£Ôºöhttp://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpoint‚Äã ÊñáÊ°£ÈáåÈù¢ Êö¥Èú≤Á´ØÁÇπ management.endpoints.web.exposure.include=bus-refresh‚Äã‚Äã 2„ÄÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Â¢ûÂä†ÂÖ≥‰∫éRabbitMQÁöÑËøûÊé•(Â¶ÇÊûúÊòØÊú¨Êú∫ÔºåÂàôÂèØ‰ª•Áõ¥Êé•ÂêØÂä®ÔºåÈááÁî®ÈªòËÆ§ËøûÊé•ÈÖçÁΩÆ)‚Äã spring:‚Äã rabbitmq:‚Äã host: localhost‚Äã port: 5672‚Äã username: guest‚Äã password: guest‚Äã‚Äã #Êö¥Èú≤ÂÖ®ÈÉ®ÁöÑÁõëÊéß‰ø°ÊÅØ‚Äã management:‚Äã endpoints:‚Äã web:‚Äã exposure:‚Äã include: ‚Äú*‚Äù‚Äã‚Äã 3„ÄÅÈúÄË¶ÅÂà∑Êñ∞ÈÖçÁΩÆÁöÑÂú∞ÊñπÔºåÂ¢ûÂä†Ê≥®Ëß£‚Äã @RefreshScope‚Äã‚Äã 4„ÄÅËÆøÈóÆÈ™åËØÅ postÊñπÂºèÔºö‚Äã http://localhost:8773/actuator/bus-refresh 5„ÄÅÂä®ÊÄÅÂà∑Êñ∞ÈÖçÁΩÆ: Âú®ÂºÄÂèëÂíåÊµãËØïÁéØÂ¢É‰ΩøÁî®ÔºåÂ∞ΩÈáèÂ∞ëÂú®Áîü‰∫ßÁéØÂ¢É‰ΩøÁî® 5„ÄÅÂæÆÊúçÂä°Áõ∏ÂÖ≥È°πÁõÆÊîπÈÄ†ÈÖçÁΩÆ‰∏≠ÂøÉ ÁÆÄ‰ªãÔºöÊääËØæÁ®ãÈ°πÁõÆÊîπÈÄ†ÊàêÈÖçÁΩÆ‰∏≠ÂøÉËÆ≤Ëß£ 1„ÄÅgitÈáåÈù¢Êñ∞Â¢ûÂØπÂ∫îÈ°πÁõÆÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÈÉΩË¶ÅÊ∑ªÂä†‰∏ãÈù¢ÁöÑÈÖçÁΩÆ #ÊúçÂä°ÁöÑÂêçÁß∞ spring: rabbitmq: host: localhost port: 5672 username: guest password: guest #Êö¥Èú≤ÂÖ®ÈÉ®ÁöÑÁõëÊéß‰ø°ÊÅØ management: endpoints: web: exposure: include: &quot;*&quot; ‚Äã‚Äã 2„ÄÅÈ°πÁõÆÈáåÈù¢Ê∑ªÂä†maven‰æùËµñ‚Äã‚Äã ‚Äã ‚Äã org.springframework.cloud‚Äã spring-cloud-config-client‚Äã ‚Äã‚Äã ‚Äã‚Äã ‚Äã org.springframework.boot‚Äã spring-boot-starter-actuator‚Äã ‚Äã‚Äã ‚Äã org.springframework.cloud‚Äã spring-cloud-starter-bus-amqp‚Äã 3„ÄÅ‰øÆÊîπapplication.properties‰∏∫bootstrap.yml Âπ∂Êã∑Ë¥ùÈÖçÁΩÆÊñá‰ª∂ #ÊåáÂÆöÊ≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄ eureka: client: serviceUrl: defaultZone: http://localhost:8761/eureka/ #ÊúçÂä°ÁöÑÂêçÁß∞ spring: application: name: order-service #ÊåáÂÆö‰ªéÂì™‰∏™ÈÖçÁΩÆ‰∏≠ÂøÉËØªÂèñ cloud: config: discovery: service-id: CONFIG-SERVER enabled: true profile: test 4„ÄÅÂêÑ‰∏™È°πÁõÆÂêØÂä®È°∫Â∫è 1ÔºâÊ≥®ÂÜå‰∏≠ÂøÉ 2ÔºâÈÖçÁΩÆ‰∏≠ÂøÉ 3ÔºâÂØπÂ∫îÁöÑÊúçÂä°ÔºöÂïÜÂìÅÊúçÂä°„ÄÅËÆ¢ÂçïÊúçÂä°„ÄÇ„ÄÇ„ÄÇ 4ÔºâÂêØÂä®ÁΩëÂÖ≥ Á¨¨ÂçÅÁ´†„ÄÅSpringCloudËØæÁ®ãÂÜÖÂÆπ‰∏äÂçäÈÉ®ÂàÜÊÄªÁªì‚Äã 1„ÄÅÂæÆÊúçÂä°Ê†∏ÂøÉÁü•ËØÜÂÜÖÂÆπÂõûÈ°æ ÁÆÄ‰ªãÔºöÂõûÈ°æSpringCloudÂâçÈù¢10Á´†ÁöÑÂü∫Á°ÄÂÜÖÂÆπ 1)‰ªãÁªçÂæÆÊúçÂä°ÁöÑÂü∫Á°ÄÁü•ËØÜÔºåÊ†∏ÂøÉÁªÑ‰ª∂ÔºåCAPÂéüÁêÜ 2ÔºâSpringCloudÊ≥®ÂÜå‰∏≠ÂøÉ Eureka 3Ôºâproduct-service / order-service 4) ‰º™RPC Ribbon / feign 5) hystrixÁÜîÊñ≠ 6) ÊúçÂä°ÁΩëÂÖ≥‰ªãÁªçÔºåzuul 7ÔºâÈÖçÁΩÆ‰∏≠ÂøÉconfig-server ‚Äã 2„ÄÅÂæÆÊúçÂä°‰∏ãÂçäÈÉ®ÂàÜÁü•ËØÜ ‰∫ëÊúçÂä°Âô®ÂíåDockerÂÆπÂô® ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰∫ëÊúçÂä°Âô®ÂíåÂÆπÂô®Áü•ËØÜ ‚Äã Á¨¨ÂçÅ‰∏ÄÁ´† ÈòøÈáå‰∫ëECSÊúçÂä°Âô®‰ªãÁªçÂíåÁΩëÁªúÁü•ËØÜËÆ≤Ëß£ 1„ÄÅ‰∫ëÊúçÂä°Âô®‰ªãÁªçÂíåÈòøÈáå‰∫ëÊúçÂä°Âô®ECSÊúçÂä°Âô®ÈÄâË¥≠ ÁÆÄ‰ªãÔºö‰ªÄ‰πàÊòØ‰∫ëÊúçÂä°Âô®ÂèäÁõÆÂâç‰∏ªË¶ÅÁöÑÂá†‰∏™ÂéÇÂïÜ‰ªãÁªç 1„ÄÅÈòøÈáå‰∫ë„ÄÅËÖæËÆØ‰∫ë„ÄÅ‰∫öÈ©¨ÈÄä‰∫ë ÈòøÈáå‰∫ëÔºöhttps://www.aliyun.com/ ËÖæËÆØ‰∫ëÔºöhttps://cloud.tencent.com/ ‰∫öÈ©¨ÈÄä‰∫ëÔºöhttps://aws.amazon.com/ ‚Äã‚Äã 2„ÄÅÈòøÈáå‰∫ëÊúçÂä°Âô®ËøúÁ®ãÁôªÂΩïÂíåÂ∏∏Áî®Â∑•ÂÖ∑‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÈòøÈáå‰∫ëÊúçÂä°Âô®ÁôªÂΩï‰ΩøÁî®ÂíåÂ∏∏ËßÅÁªàÁ´ØÂ∑•ÂÖ∑‚Äã 1„ÄÅwindowsÂ∑•ÂÖ∑ puttyÔºåxshell, security‚Äã ÂèÇËÄÉËµÑÊñôÔºö‚Äã https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html‚Äã https://www.jb51.net/softjc/88235.html‚Äã‚Äã 2„ÄÅËãπÊûúÁ≥ªÁªüMACÔºö ÈÄöËøáÁªàÁ´ØÁôªÂΩï‚Äã ssh root@ip ÂõûËΩ¶ÂêéËæìÂÖ•ÂØÜÁ†Å‚Äã ssh root@120.25.1.38‚Äã‚Äã 3„ÄÅÂèØ‰ª•Â∞ùËØïËá™Â∑±ÈÄöËøáÁôæÂ∫¶ËøõË°åÊâæÊñáÊ°£Ôºå ÂÆâË£Ömysql jdk nginx maven git redis elk 3„ÄÅ‰∫íËÅîÁΩëÊû∂ÊûÑÁü•ËØÜ‰πãÁΩëÁ´ôÈÉ®ÁΩ≤‰∏äÁ∫øÂü∫Á°ÄÂáÜÂ§á‚Äã ÁÆÄ‰ªãÔºöËÆ≤Ëß£Â∫îÁî®ÈÉ®ÁΩ≤Âà∞ÂèØ‰ª•ÂÖ¨ÁΩëËÆøÈóÆÈúÄË¶ÅÊ≠•È™§ 1„ÄÅ‰∏Ä‰∏™httpËØ∑Ê±ÇÁöÑÊïÖ‰∫ã 2„ÄÅ‰ªÄ‰πàÊòØcnameÂíåaËÆ∞ÂΩï AËÆ∞ÂΩïÂíåCNAMEÂè™ÂèØ‰ª•ÂêåÊó∂ÁîüÊïà‰∏Ä‰∏™ÔºåAËÆ∞ÂΩï‰ºòÂÖà 3„ÄÅÂüüÂêçÂíåipÁöÑÂÖ≥Á≥ªÔºåDNS‰ΩúÁî® ÂèÇËÄÉËµÑÊñôÔºö https://blog.csdn.net/benbenzhuhwp/article/details/44704319 https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;ch=1&amp;tn=98050039_dg&amp;wd=%E4%B8%80%E4%B8%AAhttp%E8%AF%B7%E6%B1%82%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B&amp;rsv_pq=80a65c5f00005961&amp;rsv_t=a5fcWreuJzILdSwr4gI8pFqlO7HSu5BlhjwalyVzPiV9w2L%2BKEj78pPi1Qn6Vx4wXxI&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=8&amp;rsv_sug1=8&amp;rsv_sug7=100&amp;sug=%25E4%25B8%2580%25E4%25B8%25AAhttp%25E8%25AF%25B7%25E6%25B1%2582%25E7%259A%2584%25E8%25AF%25A6%25E7%25BB%2586%25E8%25BF%2587%25E7%25A8%258B&amp;rsv_n=1 4„ÄÅÂüüÂêçË¥≠‰π∞ÂíåÈÖçÁΩÆËß£ÊûêÂÆûÊàò‚Äã ÁÆÄ‰ªãÔºöÂüüÂêçË¥≠‰π∞ÂíåÈÖçÁΩÆËß£ÊûêÂÆûÊàò 1„ÄÅË¥≠‰π∞ÂüüÂêçÔºåÂ§áÊ°à ÈòøÈáå‰∫ë Â§áÊ°àÂú∞ÂùÄÔºöhttps://beian.aliyun.com/ 2„ÄÅË¥≠‰π∞ÊúçÂä°Âô®ÔºåÈòøÈáå‰∫ëÔºåËÖæËÆØ‰∫ëÔºå‰∫öÈ©¨ÈÄä‰∫ëaws 3„ÄÅÈÖçÁΩÆÂüüÂêçËß£ÊûêÂà∞ÊúçÂä°Âô® ‚Äã ‚ÄãÁ¨¨ÂçÅ‰∫åÁ´† ÂæÆÊúçÂä°ÂøÖÂ§áÊäÄËÉΩDockerÂÆπÂô®Âü∫Á°ÄÁØáÂπÖ‚Äã‚Äã 1„ÄÅÂæÆÊúçÂä°‰∏ãÁöÑDocker‰ªãÁªçÂíå‰ΩøÁî®Âú∫ÊôØ‚Äã ÁÆÄ‰ªãÔºöDocker‰ªãÁªçÂíå‰ΩøÁî®Âú∫ÊôØ‚Äã‚Äã 1„ÄÅ‰ªÄ‰πàÊòØDokcer‚Äã ÁôæÁßë:‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÂ∫îÁî®ÂÆπÂô®ÂºïÊìéÔºåËÆ©ÂºÄÂèëËÄÖÂèØ‰ª•ÊâìÂåÖ‰ªñ‰ª¨ÁöÑÂ∫îÁî®‰ª•Âèä‰æùËµñÂåÖÂà∞‰∏Ä‰∏™ÂèØÁßªÊ§çÁöÑÂÆπÂô®‰∏≠ÔºåÁÑ∂ÂêéÂèëÂ∏ÉÂà∞‰ªª‰ΩïÊµÅË°åÁöÑ Linux Êú∫Âô®‰∏äÔºå‰πüÂèØ‰ª•ÂÆûÁé∞ËôöÊãüÂåñ„ÄÇÂÆπÂô®ÊòØÂÆåÂÖ®‰ΩøÁî®Ê≤ôÁÆ±Êú∫Âà∂ÔºåÁõ∏‰∫í‰πãÈó¥‰∏ç‰ºöÊúâ‰ªª‰ΩïÊé•Âè£Ôºõ‚Äã‚Äã ‰ΩøÁî®goËØ≠Ë®ÄÁºñÂÜôÔºåÂú®LCXÔºàlinuxÂÆπÂô®ÔºâÂü∫Á°Ä‰∏äËøõË°åÁöÑÂ∞ÅË£Ö‚Äã‚Äã ÁÆÄÂçïÊù•ËØ¥Ôºö‚Äã 1ÔºâÂ∞±ÊòØÂèØ‰ª•Âø´ÈÄüÈÉ®ÁΩ≤ÂêØÂä®Â∫îÁî®‚Äã 2ÔºâÂÆûÁé∞ËôöÊãüÂåñÔºåÂÆåÊï¥ËµÑÊ∫êÈöîÁ¶ª‚Äã 3Ôºâ‰∏ÄÊ¨°ÁºñÂÜôÔºåÂõõÂ§ÑËøêË°åÔºàÊúâ‰∏ÄÂÆöÁöÑÈôêÂà∂ÔºåÊØîÂ¶ÇDockerÊòØÂü∫‰∫éLinux 64bitÁöÑÔºåÊó†Ê≥ïÂú®32bitÁöÑlinux/Windows/unixÁéØÂ¢É‰∏ã‰ΩøÁî®Ôºâ‚Äã‚Äã 2„ÄÅ‰∏∫‰ªÄ‰πàË¶ÅÁî®‚Äã 1„ÄÅÊèê‰æõ‰∏ÄÊ¨°ÊÄßÁöÑÁéØÂ¢ÉÔºåÂÅáÂ¶ÇÈúÄË¶ÅÂÆâË£ÖMysqlÔºåÂàôÈúÄË¶ÅÂÆâË£ÖÂæàÂ§ö‰æùËµñÂ∫ì„ÄÅÁâàÊú¨Á≠âÔºåÂ¶ÇÊûú‰ΩøÁî®DockerÂàôÈÄöËøáÈïúÂÉèÂ∞±ÂèØ‰ª•Áõ¥Êé•ÂêØÂä®ËøêË°å‚Äã 2„ÄÅÂø´ÈÄüÂä®ÊÄÅÊâ©ÂÆπÔºå‰ΩøÁî®dockerÈÉ®ÁΩ≤‰∫Ü‰∏Ä‰∏™Â∫îÁî®ÔºåÂèØ‰ª•Âà∂‰ΩúÊàêÈïúÂÉèÔºåÁÑ∂ÂêéÈÄöËøáDokcerÂø´ÈÄüÂêØÂä® 3„ÄÅÁªÑÂª∫ÂæÆÊúçÂä°Êû∂ÊûÑÔºåÂèØ‰ª•Âú®‰∏Ä‰∏™Êú∫Âô®‰∏äÊ®°ÊãüÂá∫Â§ö‰∏™ÂæÆÊúçÂä°ÔºåÂêØÂä®Â§ö‰∏™Â∫îÁî® 4„ÄÅÊõ¥Â•ΩÁöÑËµÑÊ∫êÈöîÁ¶ªÂíåÂÖ±‰∫´ ‰∏ÄÂè•ËØùÔºöÂºÄÁÆ±Âç≥Áî®ÔºåÂø´ÈÄüÈÉ®ÁΩ≤ÔºåÂèØÁßªÊ§çÊÄßÂº∫ÔºåÁéØÂ¢ÉÈöîÁ¶ª 2„ÄÅLinux‰∫ëÊúçÂä°Âô®Centos7ÂÆâË£ÖDockerÂÆûÊàò ÁÆÄ‰ªãÔºöËÆ≤Ëß£ÈòøÈáå‰∫ëECSÊúçÂä°ÂÆâË£ÖDockerÂÆûÊàò Linux Standard BaseÁöÑÁº©ÂÜôÔºålsb_releaseÂëΩ‰ª§Áî®Êù•ÊòæÁ§∫LSBÂíåÁâπÂÆöÁâàÊú¨ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ ÂëΩ‰ª§Ôºö lsb_release -a ÈòøÈáå‰∫ëÂÆâË£ÖÊâãÂÜåÔºö https://help.aliyun.com/document_detail/51853.html?spm=a2c4g.11186623.6.820.RaToNY Â∏∏ËßÅÈóÆÈ¢òÔºö https://blog.csdn.net/daluguishou/article/details/52080250 3„ÄÅDocker‰ªìÂ∫ì„ÄÅÈïúÂÉè„ÄÅÂÆπÂô®Ê†∏ÂøÉÁü•ËØÜËÆ≤Ëß£ ÁÆÄ‰ªãÔºöÂø´ÈÄüÊéåÊè°DokcerÂü∫Á°ÄÁü•ËØÜÔºå 1„ÄÅÊ¶ÇÂøµÔºö Docker ÈïúÂÉè - Docker imagesÔºö ÂÆπÂô®ËøêË°åÊó∂ÁöÑÂè™ËØªÊ®°ÊùøÔºåÊìç‰ΩúÁ≥ªÁªü+ËΩØ‰ª∂ËøêË°åÁéØÂ¢É+Áî®Êà∑Á®ãÂ∫è class User{ private String userName; private int age; } Docker ÂÆπÂô® - Docker containersÔºö ÂÆπÂô®ÂåÖÂê´‰∫ÜÊüê‰∏™Â∫îÁî®ËøêË°åÊâÄÈúÄË¶ÅÁöÑÂÖ®ÈÉ®ÁéØÂ¢É User user = new User() Docker ‰ªìÂ∫ì - Docker registeriesÔºö Áî®Êù•‰øùÂ≠òÈïúÂÉèÔºåÊúâÂÖ¨ÊúâÂíåÁßÅÊúâ‰ªìÂ∫ìÔºåÂ•ΩÊØîMavenÁöÑ‰∏≠Â§Æ‰ªìÂ∫ìÂíåÊú¨Âú∞ÁßÅÊúç ÈïúÂÉè‰ªìÂ∫ìÔºö ÔºàÂèÇËÄÉÔºâÈÖçÁΩÆÂõΩÂÜÖÈïúÂÉè‰ªìÂ∫ìÔºöhttps://blog.csdn.net/zzy1078689276/article/details/77371782 ÂØπÊØîÈù¢ÂêëÂØπË±°ÁöÑÊñπÂºè Dokcer ÈáåÈù¢ÁöÑÈïúÂÉè : JavaÈáåÈù¢ÁöÑÁ±ª Class Docker ÈáåÈù¢ÁöÑÂÆπÂô® : JavaÈáåÈù¢ÁöÑÂØπË±° Object ÈÄöËøáÁ±ªÂàõÂª∫ÂØπË±°ÔºåÈÄöËøáÈïúÂÉèÂàõÂª∫ÂÆπÂô® 4„ÄÅDockerÂÆπÂô®Â∏∏ËßÅÂëΩ‰ª§ÂÆûÊàò ÁÆÄ‰ªãÔºöËÆ≤Ëß£DockerÂú®‰∫ëÊúçÂä°‰∏äÁöÑÂÆûÈôÖÂ∫îÁî® 1„ÄÅ Â∏∏Áî®ÂëΩ‰ª§ÔºàÂÆâË£ÖÈÉ®ÁΩ≤Â•ΩDokcerÂêéÔºåÊâßË°åÁöÑÂëΩ‰ª§ÊòØdockerÂºÄÂ§¥Ôºâ,xxxÊòØÈïúÂÉèÂêçÁß∞ ÊêúÁ¥¢ÈïúÂÉèÔºödocker search xxx ÂàóÂá∫ÂΩìÂâçÁ≥ªÁªüÂ≠òÂú®ÁöÑÈïúÂÉèÔºödocker images ÊãâÂèñÈïúÂÉèÔºödocker pull xxx xxxÊòØÂÖ∑‰ΩìÊüê‰∏™ÈïúÂÉèÂêçÁß∞(Ê†ºÂºè REPOSITORY:TAG) REPOSITORYÔºöË°®Á§∫ÈïúÂÉèÁöÑ‰ªìÂ∫ìÊ∫ê,TAGÔºöÈïúÂÉèÁöÑÊ†áÁ≠æ ËøêË°å‰∏Ä‰∏™ÂÆπÂô®Ôºödocker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 rabbitmq:management docker run - ËøêË°å‰∏Ä‰∏™ÂÆπÂô® -d ÂêéÂè∞ËøêË°å -p Á´ØÂè£Êò†Â∞Ñ rabbitmq:management (Ê†ºÂºè REPOSITORY:TAG)ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆötagÔºåÈªòËÆ§‰ΩøÁî®ÊúÄÊñ∞ÁöÑ --name &quot;xxx&quot; Âàó‰∏æÂΩìÂâçËøêË°åÁöÑÂÆπÂô®Ôºödocker ps Ê£ÄÊü•ÂÆπÂô®ÂÜÖÈÉ®‰ø°ÊÅØÔºödocker inspect ÂÆπÂô®ÂêçÁß∞ Âà†Èô§ÈïúÂÉèÔºödocker rmi IMAGE_NAME Âº∫Âà∂ÁßªÈô§ÈïúÂÉè‰∏çÁÆ°ÊòØÂê¶ÊúâÂÆπÂô®‰ΩøÁî®ËØ•ÈïúÂÉè Â¢ûÂä† -f ÂèÇÊï∞Ôºå ÂÅúÊ≠¢Êüê‰∏™ÂÆπÂô®Ôºödocker stop ÂÆπÂô®ÂêçÁß∞ ÂêØÂä®Êüê‰∏™ÂÆπÂô®Ôºödocker start ÂÆπÂô®ÂêçÁß∞ ÁßªÈô§Êüê‰∏™ÂÆπÂô®Ôºö docker rm ÂÆπÂô®ÂêçÁß∞ ÔºàÂÆπÂô®ÂøÖÈ°ªÊòØÂÅúÊ≠¢Áä∂ÊÄÅÔºâ ÊñáÊ°£Ôºö https://blog.csdn.net/permike/article/details/51879578 5„ÄÅÂÆûÊàòÂ∫îÁî®‰πã‰ΩøÁî®DockerÈÉ®ÁΩ≤NginxÊúçÂä°Âô® ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ΩøÁî®DockerÈÉ®ÁΩ≤NginxÊúçÂä°Âô®ÂÆûÊàò 1„ÄÅËé∑ÂèñÈïúÂÉè docker run (È¶ñÂÖà‰ºö‰ªéÊú¨Âú∞ÊâæÈïúÂÉèÔºåÂ¶ÇÊûúÊúâÂàôÁõ¥Êé•ÂêØÂä®ÔºåÊ≤°ÊúâÁöÑËØùÔºå‰ªéÈïúÂÉè‰ªìÂ∫ìÊãâËµ∑ÔºåÂÜçÂêØÂä®) docker search nignx 2„ÄÅÂàó‰∏æ docker images 3„ÄÅÊãâÂèñ docker pull nignx 3„ÄÅÂêØÂä® docker run -d --name &quot;xdclass_nginx&quot; -p 8088:80 nginx docker run -d --name &quot;xdclass_nginx2&quot; -p 8089:80 nginx docker run -d --name &quot;xdclass_nginx3&quot; -p 8090:80 nginx 4„ÄÅËÆøÈóÆ Â¶ÇÊûúÊòØÈòøÈáå‰∫ëÊúçÂä°ÔºåËÆ∞ÂæóÈÖçÁΩÆÂÆâÂÖ®ÁªÑÔºåËÖæËÆØ‰∫ë‰πüÈúÄË¶ÅÈÖçÁΩÆÔºåËøô‰∏™Â∞±ÊòØ‰∏Ä‰∏™Èò≤ÁÅ´Â¢ô 6„ÄÅÂÖ¨Âè∏‰∏≠DockerÈïúÂÉè‰ªìÂ∫ì‰ΩøÁî®ËÆ≤Ëß£ ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰∏ÄËà¨ÂÖ¨Âè∏‰∏≠ÈïúÂÉè‰ªìÂ∫ìÂú®ÁöÑ‰ΩøÁî® 1„ÄÅ‰∏∫Âï•Ë¶ÅÁî®ÈïúÂÉè‰ªìÂ∫ì 2„ÄÅÂÆòÊñπÂÖ¨ÂÖ±ÈïúÂÉè‰ªìÂ∫ìÂíåÁßÅÊúâÈïúÂÉè‰ªìÂ∫ì ÂÖ¨ÂÖ±ÈïúÂÉè‰ªìÂ∫ìÔºö ÂÆòÊñπÔºöhttps://hub.docker.com/ÔºåÂü∫‰∫éÂêÑ‰∏™ËΩØ‰ª∂ÂºÄÂèëÊàñËÄÖÊúâËΩØ‰ª∂Êèê‰æõÂïÜÂºÄÂèëÁöÑ ÈùûÂÆòÊñπÔºöÂÖ∂‰ªñÁªÑÁªáÊàñËÄÖÂÖ¨Âè∏ÂºÄÂèëÁöÑÈïúÂÉèÔºå‰æõÂ§ßÂÆ∂ÂÖçË¥πËØïÁî® ÁßÅÊúâÈïúÂÉè‰ªìÂ∫ìÔºö Áî®‰∫éÂ≠òÊîæÂÖ¨Âè∏ÂÜÖÈÉ®ÁöÑÈïúÂÉèÔºå‰∏çÊèê‰æõÁªôÂ§ñÈÉ®ËØïÁî®Ôºõ SpringCloud ÂºÄÂèë‰∫Ü‰∏Ä‰∏™ÊîØ‰ªòÁ≥ªÁªü -„ÄãÂÅöÊàê‰∏Ä‰∏™ÈïúÂÉè ÔºàÊìç‰ΩúÁ≥ªÁªü+ËΩØ‰ª∂ËøêË°åÁéØÂ¢É+Áî®Êà∑Á®ãÂ∫èÔºâ 7„ÄÅÈ´òÁ∫ßÁØáÂπÖ‰πãÊûÑÂª∫Ëá™Â∑±ÁöÑÈïúÂÉè‰ªìÂ∫ì ÁÆÄ‰ªãÔºö‰ΩøÁî®ÈòøÈáå‰∫ëÊê≠Âª∫Ëá™Â∑±ÁöÑÈïúÂÉè‰ªìÂ∫ì 1„ÄÅÈòøÈáå‰∫ëÈïúÂÉè‰ªìÂ∫ìÔºöhttps://dev.aliyun.com/search.html ÁÇπÂáªÁÆ°ÁêÜÊéßÂà∂Âè∞-„ÄãÂàùÊ¨°‰ΩøÁî®‰ºöÊèêÁ§∫ÂºÄÈÄöÔºåÁÑ∂ÂêéËÆæÁΩÆÂØÜÁ†Å xdclass.net123 2„ÄÅ‰ΩøÁî®ÈòøÈáå‰∫ëÁßÅÊúâÈïúÂÉè‰ªìÂ∫ì 1)ÁôªÂΩïÔºö docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com 2) Êé®ÈÄÅÊú¨Âú∞ÈïúÂÉèÔºö docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:[ÈïúÂÉèÁâàÊú¨Âè∑] ‰æãÂ≠êÔºö docker tag 2f415b0e9a6e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 3)ÊãâÂèñÈïúÂÉè Á∫ø‰∏äÊúçÂä°Âô®ÊãâÂèñÈïúÂÉèÔºö docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 ÂêØÂä®ÂÆπÂô®Ôºö docker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 2f415b0e9a6e Á¨¨ÂçÅ‰∏âÁ´† ÂæÆÊúçÂä°È´òÁ∫ßÁØáÂπÖSpringCloudÂíåDockerÊï¥ÂêàÈÉ®ÁΩ≤‚Äã‚Äã Á¨¨1ËØæ È´òÁ∫ßÁØáÂπÖ‰πãÊûÑÂª∫SpringBootÂ∫îÁî®dockerÈïúÂÉè‰∏äÈõÜ‚Äã‚Äã ÁÆÄ‰ªã:‰ΩøÁî®DockerÁöÑmavenÊèí‰ª∂ÔºåÊûÑÂª∫springbootÂ∫îÁî®‚Äã ÂÆòÊñπÊñáÊ°£Ôºöhttps://spring.io/guides/gs/spring-boot-docker/ 1„ÄÅÊ≠•È™§ÔºömavenÈáåÈù¢Ê∑ªÂä†ÈÖçÁΩÆpom.xml &lt;properties&gt; &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt; &lt;/properties&gt; &lt;build&gt; &lt;finalName&gt;docker-demo&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.6&lt;/version&gt; &lt;configuration&gt; &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt; &lt;buildArgs&gt; &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt; &lt;/buildArgs&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; ÈÖçÁΩÆËÆ≤Ëß£ Spotify ÁöÑ docker-maven-plugin Êèí‰ª∂ÊòØÁî®mavenÊèí‰ª∂ÊñπÂºèÊûÑÂª∫dockerÈïúÂÉèÁöÑ„ÄÇ ${project.build.finalName} ‰∫ßÂá∫Áâ©ÂêçÁß∞ÔºåÁº∫ÁúÅ‰∏∫${project.artifactId}-${project.version} =============================================Êõ¥Â§öÂπ≤Ë¥ßÊäÄÊúØËÆøÈóÆÂ∞èDËØæÂ†ÇÂÆòÁΩë https://xdclass.netÂ∞èDËÄÅÂ∏à‰∏™‰∫∫ÂæÆ‰ø°Ôºöjack794666918 ÂÖ¨‰ºóÂè∑ÊêúÁ¥¢ÔºöÂ∞èDËØæÂ†ÇÁ¨¨2ËØæ È´òÁ∫ßÁØáÂπÖ‰πãÊûÑÂª∫SpringBootÂ∫îÁî®dockerÈïúÂÉè‰∏ãÈõÜ ÁÆÄ‰ªã:ÊâìÂåÖSpringCloudÈïúÂÉèÂπ∂‰∏ä‰º†ÁßÅÊúâ‰ªìÂ∫ìÂπ∂ÈÉ®ÁΩ≤ 1„ÄÅÂàõÂª∫Dockerfile,ÈªòËÆ§ÊòØÊ†πÁõÆÂΩïÔºåÔºàÂèØ‰ª•‰øÆÊîπ‰∏∫src/main/docker/Dockerfile,Â¶ÇÊûú‰øÆÂàôÈúÄË¶ÅÂà∂ÂÆöË∑ØÂæÑÔºâ ‰ªÄ‰πàÊòØDockerfile : Áî±‰∏ÄÁ≥ªÂàóÂëΩ‰ª§ÂíåÂèÇÊï∞ÊûÑÊàêÁöÑËÑöÊú¨ÔºåËøô‰∫õÂëΩ‰ª§Â∫îÁî®‰∫éÂü∫Á°ÄÈïúÂÉè, ÊúÄÁªàÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈïúÂÉè FROM openjdk:8-jdk-alpine VOLUME /tmp ARG JAR_FILE COPY ${JAR_FILE} app.jar ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] ÂèÇÊï∞ËÆ≤Ëß£Ôºö FROM &lt;image&gt;:&lt;tag&gt; ÈúÄË¶Å‰∏Ä‰∏™Âü∫Á°ÄÈïúÂÉèÔºåÂèØ‰ª•ÊòØÂÖ¨ÂÖ±ÁöÑÊàñËÄÖÊòØÁßÅÊúâÁöÑÔºå ÂêéÁª≠ÊûÑÂª∫‰ºöÂü∫‰∫éÊ≠§ÈïúÂÉèÔºåÂ¶ÇÊûúÂêå‰∏Ä‰∏™Dockerfile‰∏≠Âª∫Á´ãÂ§ö‰∏™ÈïúÂÉèÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™FROMÊåá‰ª§ VOLUME ÈÖçÁΩÆ‰∏Ä‰∏™ÂÖ∑ÊúâÊåÅ‰πÖÂåñÂäüËÉΩÁöÑÁõÆÂΩïÔºå‰∏ªÊú∫ /var/lib/docker ÁõÆÂΩï‰∏ãÂàõÂª∫‰∫Ü‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂ÔºåÂπ∂ÈìæÊé•Âà∞ÂÆπÂô®ÁöÑ/tmp„ÄÇÊîπÊ≠•È™§ÊòØÂèØÈÄâÁöÑÔºåÂ¶ÇÊûúÊ∂âÂèäÂà∞Êñá‰ª∂Á≥ªÁªüÁöÑÂ∫îÁî®Â∞±ÂæàÊúâÂøÖË¶Å‰∫Ü„ÄÇ/tmpÁõÆÂΩïÁî®Êù•ÊåÅ‰πÖÂåñÂà∞ Docker Êï∞ÊçÆÊñá‰ª∂Â§πÔºåÂõ†‰∏∫ Spring Boot ‰ΩøÁî®ÁöÑÂÜÖÂµå Tomcat ÂÆπÂô®ÈªòËÆ§‰ΩøÁî®/tmp‰Ωú‰∏∫Â∑•‰ΩúÁõÆÂΩï ARG ËÆæÁΩÆÁºñËØëÈïúÂÉèÊó∂Âä†ÂÖ•ÁöÑÂèÇÊï∞Ôºå ENV ÊòØËÆæÁΩÆÂÆπÂô®ÁöÑÁéØÂ¢ÉÂèòÈáè COPY : Âè™ÊîØÊåÅÂ∞ÜÊú¨Âú∞Êñá‰ª∂Â§çÂà∂Âà∞ÂÆπÂô® ,ËøòÊúâ‰∏™ADDÊõ¥Âº∫Â§ß‰ΩÜÂ§çÊùÇÁÇπ ENTRYPOINT ÂÆπÂô®ÂêØÂä®Êó∂ÊâßË°åÁöÑÂëΩ‰ª§ EXPOSE 8080 Êö¥Èú≤ÈïúÂÉèÁ´ØÂè£ 2„ÄÅÊûÑÂª∫ÈïúÂÉè mvn install dockerfile:build ÊâìÊ†áÁ≠æ docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 Êé®ÈÄÅÂà∞ÈïúÂÉè‰ªìÂ∫ì docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 Â∫îÁî®ÊúçÂä°Âô®ÊãâÂèñÈïúÂÉè docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 docker run -d --name xdclass_docker_demo1 -p 8099:8080 a1b9fc71720d 3„ÄÅÊü•ÁúãÂêØÂä®Êó•Âøó docker logs -f containerid ÊñáÊ°£Ôºöhttps://yeasy.gitbooks.io/docker_practice/image/dockerfile/ Á¨¨3ËØæ ÂÆûÊàòÁ≥ªÂàó‰πãÊ≥®ÂÜå‰∏≠ÂøÉÊâìÂåÖDockerÈïúÂÉè ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ΩøÁî®DockerÊâìÂåÖÊ≥®ÂÜå‰∏≠ÂøÉÔºå‰∏ä‰º†ÁßÅÊúâÈïúÂÉè‰ªìÂ∫ìÂπ∂ÈÉ®ÁΩ≤ 1„ÄÅÊñ∞Â¢ûmavenÊèí‰ª∂ &lt;properties&gt; &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt; &lt;/properties&gt; &lt;build&gt; &lt;finalName&gt;docker-demo&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.6&lt;/version&gt; &lt;configuration&gt; &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt; &lt;buildArgs&gt; &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt; &lt;/buildArgs&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; 2„ÄÅÊñ∞Âª∫Dockerfile FROM openjdk:8-jdk-alpine VOLUME /tmp ARG JAR_FILE COPY ${JAR_FILE} app.jar ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] 3„ÄÅÊâìÂåÖÔºö mvn install dockerfile:build 4„ÄÅÊé®ÈÄÅÈòøÈáå‰∫ëÈïúÂÉè‰ªìÂ∫ì ÈòøÈáå‰∫ëÈïúÂÉè‰ªìÂ∫ìÔºöhttps://dev.aliyun.com/search.html docker tag 062d2ddf272a registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825 5„ÄÅÊü•ÁúãÊó•Âøó docker logs -f containerid Á¨¨4ËØæ ÂÆûÊàòÁ≥ªÂàó‰πãÈÉ®ÁΩ≤RabbitMQÂíåÈÖçÁΩÆ‰∏≠ÂøÉÊâìÂåÖDockerÈïúÂÉè ÁÆÄ‰ªãÔºöËÆ≤Ëß£‰ΩøÁî®DockerÊâìÂåÖÈÖçÁΩÆ‰∏≠ÂøÉÔºåÂíåÈÉ®ÁΩ≤RabbitMQ 1„ÄÅÊúçÂä°Âú∞ÂùÄ ssh root@47.106.120.173 ÈÉ®ÁΩ≤ rabbitmqÔºö docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management 2„ÄÅÊé®ÈÄÅÈïúÂÉè docker tag 0f636543904e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 5„ÄÅÂ∏∏ËßÅÈóÆÈ¢òÂ§ÑÁêÜ‰πãÂçáÁ∫ß‰∫ëÊúçÂä°Âô® ÁÆÄ‰ªãÔºöÂ§ÑÁêÜ‰∏äËäÇËØæÂá∫Áé∞ÁöÑÈóÆÈ¢òÔºåÂçáÁ∫ßÊúçÂä°Âô®Ê≥®ÊÑè‰∫ãÈ°π 1„ÄÅÂçáÁ∫ß‰∫ëÊúçÂä°Âô®ÈÖçÁΩÆÔºàË¥≠‰π∞ÈÖçÁΩÆÂêéÈúÄË¶ÅÈáçÂêØÊú∫Âô®ÊâçÁîüÊïàÔºâ 2„ÄÅÂêØÂä®ÂÆåÊàêÂêéÔºåÈúÄË¶ÅÂºÄÂêØdocker Êåá‰ª§Ôºö systemctl start docker 3„ÄÅÊâÄÊúâÂØπÂ§ñÁöÑÈÉΩË¶ÅÁªèËøáÁΩëÂÖ≥ÊâçÂèØ‰ª•ÂØπÂ§ñÔºåÂ∫îÁî®Èó¥ÈÄö‰ø°(Èô§ÈùûË∑®Êú∫Êàø)ÈÉΩÁî®ÂÜÖÁΩëÈÄö‰ø° 6„ÄÅÂÆûÊàòÁ≥ªÂàó‰πãDockerÈÉ®ÁΩ≤Redis ÁÆÄ‰ªãÔºö‰ΩøÁî®DockerÂÆâË£Öredis 1„ÄÅÊêúÁ¥¢ÈïúÂÉè docker search redis 2„ÄÅÊãâÂèñ docker pull docker.io/redis 3„ÄÅÂêØÂä® docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d ÂèÇËÄÉÔºö docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d --requirepass &quot;123456&quot; -v $PWD/data:/data 4„ÄÅËÆøÈóÆredisÂÆπÂô®ÈáåÈù¢ÔºåËøõË°åÊìç‰Ωú docker exec -it 295058d2b92e redis-cli 7„ÄÅÁîü‰∫ßÁéØÂ¢ÉÂ∏∏ËßÅÈóÆÈ¢ò‰πãÈÖçÁΩÆ‰∏≠ÂøÉËÆøÈóÆ ÁÆÄ‰ªãÔºöËÆ≤Ëß£Áîü‰∫ßÁéØÂ¢ÉÈÉ®ÁΩ≤Â∏∏ËßÅÈóÆÈ¢òÔºåÈÖçÁΩÆ‰∏≠ÂøÉËÆøÈóÆË∑ØÂæÑÂèòÂåñ 1„ÄÅÈÖçÁΩÆ‰∏≠ÂøÉËÆøÈóÆÂá∫ÈîôÔºåË∑ØÂæÑ‰∏çÂØπ Ëß£ÂÜ≥Ôºö‰øÆÊîπÊâÄÊúâÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÔºåÂ¢ûÂä†‰∏ãÈù¢ÈÖçÁΩÆ instance: instance-id: ${spring.cloud.client.ip-address}:${server.port} prefer-ip-address: true docker tag 50a12cd66210 registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180826 8„ÄÅÂÆûÊàòÁ≥ªÂàó‰πãÊâìÂåÖDockerÈïúÂÉèÊâìÂåÖÂïÜÂìÅÊúçÂä°ÂíåËÆ¢ÂçïÊúçÂä°„ÄÅÁΩëÂÖ≥ ÁÆÄ‰ªã:ÊâìÂåÖDockerÈïúÂÉèÈÉ®ÁΩ≤ÂïÜÂìÅÊúçÂä°ÂíåËÆ¢ÂçïÊúçÂä°„ÄÅÁΩëÂÖ≥ Ê≥®ÊÑèÔºö 1„ÄÅmavenÊâìÂåÖÊûÑÂª∫Ôºå‰ºöËß¶ÂèëÂçïÂÖÉÊµãËØïÔºåÈÉ®ÂàÜÊÉÖÂÜµÂèØ‰ª•Ë∑≥ËøáÔºå mvn install -Dmaven.test.skip=true dockerfile:build 2„ÄÅÁîü‰∫ßÁéØÂ¢É‰∏çËÉΩÁî®localhost ÊàñËÄÖ 127.0.0.1, ‰∏ÄÂÆöË¶ÅÁî®ÂÜÖÁΩëÈÄö‰ø°ip (ËôöÊãü‰∏ªÊú∫Êò†Â∞Ñ hosts) 9„ÄÅÂÆûÊàòÁ≥ªÂàó‰∫ëÊúçÂä°Âô®ÈÉ®ÁΩ≤ÁΩëÂÖ≥„ÄÅËÆ¢Âçï„ÄÅÂïÜÂìÅÊúçÂä° ÁÆÄ‰ªãÔºö‰∫ëÊúçÂä°ÈÉ®ÁΩ≤ÂïÜÂìÅÊúçÂä°„ÄÅËÆ¢ÂçïÊúçÂä°„ÄÅÁΩëÂÖ≥ÊúçÂä° 1„ÄÅÊãâÂèñÈïúÂÉè„ÄÅÂêØÂä® ËÆøÈóÆË∑ØÂæÑ http://47.106.120.173:8781/api/v1/order/save?product_id=5&amp;user_id=5 http://47.106.120.173:9000/apigateway/order/api/v1/order/save?user_id=5&amp;product_id=3&amp;token=232serer Á¨¨ÂçÅÂõõÁ´† ËØæÁ®ãÊÄªÁªìÂíåÂ∏∏ËßÅÈóÆÈ¢òÂ§ÑÁêÜ 1„ÄÅSpringCloudÂæÆÊúçÂä°Â∏∏ËßÅÈóÆÈ¢òÂíåËß£ÂÜ≥ÊÄùË∑Ø ÁÆÄ‰ªãÔºöËÆ≤Ëß£SpringCloudÂºÄÂèëÂÆûÊàòÂ∏∏ËßÅÈóÆÈ¢òÔºåÂèäËß£ÂÜ≥ÊÄùË∑Ø 1„ÄÅÊäÄÊúØÈÄâÊã©ÔºöSpringCloudÂÖ®ÂÆ∂Ê°∂ÔºåÊØè‰∏™ÁªÑ‰ª∂ÂèàÊúâÂ§ö‰∏™Êõø‰ª£ÔºåÊîπÊÄé‰πàÈÄâÊã© 1ÔºâÈÄâÊã©ÁöÑÊó∂ÂÄôÊ†πÊçÆÂÖ¨Âè∏ÈáåÈù¢Âõ¢Èòü‰∫∫ÂëòÁÜüÊÇâÁ®ãÂ∫¶ÔºåÈôç‰ΩéÂ≠¶‰π†ÊàêÊú¨ 2ÔºâÈÄâÊã©Á§æÂå∫Ê¥ªË∑ÉÁöÑÂπ∂‰∏îÊñáÊ°£Áõ∏ÂØπËæÉÂ§öÁöÑÔºåÊÄé‰πàÂà§Êñ≠Ê¥ªË∑ÉÔºåÂèØ‰ª•Áúãgithub‰∏ä‰ª£Á†ÅÊèê‰∫§ÂíåstartÊï∞ 2„ÄÅ‰∫ëÊúçÂä°ÈÄâÊã©Ôºö ËÖæËÆØ‰∫ëÔºåÈòøÈáå‰∫ë ÔºåÈÅáÂà∞ÈóÆÈ¢òÂèØ‰ª•Êèê‰∫§Â∑•ÂçïÔºåÊúâ‰∏ì‰∫∫Ë∑üËøõ ‚Äã‚Äã 3„ÄÅÈÉ®ÁΩ≤‰∫ÜÂ∫îÁî®Ôºå‰ΩÜÊòØËÆøÈóÆ‰∏ç‰∫Ü‚Äã Ëß£ÂÜ≥ÊÄùË∑ØÔºö‚Äã 1)Êü•ÁúãÂ∫îÁî®ÂêØÂä®ÊòØÂê¶Ê≠£Â∏∏ÔºåÂ¶ÇÊûúÊúâÈîôËØØÊó•ÂøóÔºåÂ§çÂà∂ÈîôËØØÊó•ÂøóÂéªÁôæÂ∫¶ÊêúÁ¥¢ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅÁâπÂà´ÈáçË¶Å‚Äã‚Äã 2ÔºâÂêØÂä®Ê≠£Â∏∏ÔºåÂàôÂÖàÂú®Êú¨Êú∫‰ΩøÁî® CURL ‚Äúhttp://lcoalhost:8080/api/v1/user/find&quot; ËÆøÈóÆÂØπÂ∫îÁöÑÊé•Âè£ÔºåÁúãÊòØÂê¶ÊúâÂìçÂ∫î‚Äã‚Äã 3ÔºâÂêØÂä®Ê≠£Â∏∏Ôºå‰∏îcurlÊúâÂìçÂ∫îÔºåÂàôÊ£ÄÊü•ÊòØÂê¶ÊúâÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôÔºåÊàñËÄÖÂºÄÊîæÂØπÂ∫îÁöÑËÆøÈóÆÁ´ØÂè£ÔºåÂºÄÊîæÁ´ØÂè£ÊâçÂèØ‰ª•ËÆøÈóÆ‚Äã‚Äã 4ÔºâËÖæËÆØ‰∫ëÂíåÈòøÈáå‰∫ëÈÉΩÊòØÊúâÂÆâÂÖ®ÁªÑÔºåÁ±ª‰ººÂ§ñÂ±ÇÈò≤ÁÅ´Â¢ôÔºå‰∏ÄÂÆöË¶ÅÂéªwebÊéßÂà∂Âè∞Ê£ÄÊü•ÊòØÂê¶ÊúâÂºÄÂêØÁ´ØÂè£ 4„ÄÅÂÜÖÁΩëÂíåÂ§ñÁΩëËÆøÈóÆÔºåÈâ¥ÊùÉÈóÆÈ¢òÂÆâÂÖ®ÈóÆÈ¢ò 1ÔºâÊâÄÊúâÂ∫îÁî®Âè™ËÉΩÈÄöËøáÁΩëÂÖ≥Êèê‰æõÂØπÂ§ñËÆøÈóÆÁöÑÂÖ•Âè£ 2ÔºâÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥ÈÄöËÆØÔºåÈááÁî®ÂÜÖÁΩë 5„ÄÅÁ®ãÂ∫èÂá∫ÈîôÊàñËÄÖÂºÇÂ∏∏: Â§çÂà∂ÈîôËØØÊó•ÂøóÂéªÁôæÂ∫¶ÊêúÁ¥¢ÔºåÁΩë‰∏äÊúâÂæàÂ§ö‰∫∫‰ºöÈÅáÂà∞Á±ª‰ººÁöÑÈîôËØØÔºåÂ§öÁßØÁ¥ØÔºåÁâπÂà´Âº∫Ë∞É 2„ÄÅËØæÁ®ãÊÄªÁªìÂíåÂêéÁª≠ÊäÄÊúØËßÑÂàí ÁÆÄ‰ªãÔºöÊÄªÁªìSpringCloudËØæÁ®ãÂíåÂæÆÊúçÂä°ÂêéÁª≠ËØæÁ®ãËßÑÂàí 1„ÄÅspringCloudÂÖ®ÂÆ∂Ê°∂ÔºåÊäÄÊúØÈÄâÊã©ÂíåÁü•ËØÜÁÇπÁâπÂà´Â§öÔºå‰∏ÄÂÆöË¶ÅÂ≠¶‰ºöËÆ∞Á¨îËÆ∞ÔºåÂæÆÊúçÂä°Êõ¥Â§öÂÖ≥Ê≥®ÁöÑÊòØÈáåÈù¢Êû∂ÊûÑÂíåÊï∞ÊçÆÊµÅËΩ¨ÔºåËÄå‰∏çÊòØÂÖ∑‰ΩìÁöÑ‰∏öÂä°„ÄÇ 2„ÄÅSpringCloudÊû∂ÊûÑËøô‰∫õÈÖçÁΩÆÔºå‰∏ÄËà¨‰ΩøÁî®‰∏ÄÊ¨°ÂêéÂ∞±‰∏ç‰ºöÂ§öÊ¨°‰øÆÊîπ‰∫ÜÔºåËøõÂÖ•ÂÖ¨Âè∏‰∏ªË¶ÅËøòÊòØÂºÄÂèë‰∏öÂä°Ôºå‰∏öÂä°ÂºÄÂèë‰∏ÄËà¨ÈÉΩÁî®springbootÔºåÊØîËæÉÂ∞ëËÆ©Êñ∞‰∫∫Êê≠Âª∫SpringCloudÁöÑÊû∂ÊûÑ 3„ÄÅÂºÄÂèë‰∏öÂä°ÔºåÊó†ÈùûÂ∞±ÊòØCRUDÔºåÂ¢ûÂà†ÊîπÊü•ÔºåÂè™‰∏çËøáÊòØÂàùÁ∫ßÂíåÈ´òÁ∫ßÁöÑÂå∫Âà´ÔºåÂ∞ÅË£ÖÊàêÈÄöÁî®Âíå‰∏çÈÄöÁî®ÁöÑÂå∫Âà´ ‚Äã‚Äã 4„ÄÅÂæÆÊúçÂä°ÂíåÂÆπÂô®ÁõõË°åÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÆπÂô®ÁºñÊéíÂíåËá™Âä®Áº©Êâ©ÂÆπË∂äÊù•Ë∂äÈáçË¶Å‚Äã‚Äã ÂèØ‰ª•ÂÖ≥Ê≥®Ôºök8s / service mesh /server less Á≠âÊäÄÊúØ ‚Äã‚Äã ÊÄªÁªìÔºö‚Äã 1ÔºâÂêéÁª≠‰ºöÊé®Âá∫ÂØπÂ∫îÁöÑËØæÁ®ãÔºåËøòÊúâÈ°πÁõÆÂÆûÊàòÁ≥ªÂàóÔºåÂ§ßÂÆ∂ËÆ∞ÂæóÂÖ≥Ê≥® Â∞èDËØæÂ†ÇÔºåÂÆòÁΩë Ôºöhttps://xdclass.net,‚Äã‚Äã 2Ôºâ‰πüÂèØ‰ª•Âä†ÊàëÂæÆ‰ø°‰∫§ÊµÅÔºö jack794666918‚Äã‚Äã 3ÔºâË¥≠‰π∞ÂØπÂ∫îÁöÑËØæÁ®ãÂêéÔºåËÆ∞ÂæóËøõÊàë‰ª¨Â∞èDËØæÂ†ÇÂÆòÊñπÁöÑ‰∫§ÊµÅÁæ§ÔºåÊàë‰ºöÂú®ÈáåÈù¢ÂàÜ‰∫´‰∏ªÊµÅÊäÄÊúØÂíåÁ≠îÁñëÔºåÈù¢ËØïÁªèÈ™åÁ≠âÁ≠âÔºåËøò‰ºöÂêåÊ≠•Êõ¥Êñ∞ËµÑÊñôÂíåËøòË∂ÖÁ∫ßÂπ≤Ë¥ßÂàÜ‰∫´ =============================================]]></content>
      <tags>
        <tag>SpringCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â∏∏ËßÅÈóÆÈ¢òÊÄªÁªì]]></title>
    <url>%2F2018%2F11%2F09%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2F%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ÂâçÁ´ØÂêëÂêéÁ´Ø‰º†ÂÄºÔºö Button Âíåform 1234567function goUpdatePage(id) &#123; window.location.href = "$&#123;pageContext.request.contextPath&#125;/user/editcontroller?id=" + id;&#125; &lt;button type="button" onclick="goUpdatePage($&#123;user.id&#125;)" class="btn btn-primary btn-xs"&gt; &lt;i class=" glyphicon glyphicon-pencil"&gt;&lt;/i&gt;&lt;/button&gt; ÂºÄÂèë‰∏≠serviceÂ±Ç ÂøÖÈ°ªË¶ÅÂÜô @serviceÊ≥®Ëß£ ‚ö†Ô∏èservice‰∏≠‰∏çË¶ÅÂä†@service„ÄÇÂú®serviceÁöÑÂÆûÁé∞serviceiml‰∏≠Âä†@serviceÊ≥®Ëß£ ÂºÄÂèëÁöÑÈ°∫Â∫è ‰ªéÂâçÁ´Ø‰º†ÂÄºÂà∞Controller ÂÜçÂà∞ service ÂÜçÂà∞serviceimpl ÂÜçÂà∞userdao ÂÜçÂà∞mybatis.xmlÂÜçÂà∞Êï∞ÊçÆÂ∫ì Êï∞ÊçÆÂ∫ìËøîÂõûÂâçÁ´ØÈ°µÈù¢ ÂºïÂÖ•mybatis ÁöÑÂ§ö‰∏™mapperÁöÑÈÖçÁΩÆÊñá‰ª∂ mapper.xml Spring Boot ÁöÑÊñπÂºè 12mybatis.mapper-locations=classpath:mybatis/mapper/*.xml ###ideaË≠¶ÂëäÔºöField injection is not recommended ####SpringbootÂºÄÂèë Dao‰∏≠UserDao RoleDao‰∏≠Ë¶ÅÂä† @MapperÊ≥®Ëß£ # importÂíåopenÈ°πÁõÆÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ Âá∫Áé∞‰∏äÈù¢ÁöÑÊÉÖÂÜµË¶Åimport‰∏Ä‰∏ãÂïä ÂÖÑide Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias ‚ÄòBaseResultMap‚Äô Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Ca ÁúãÂà∞ÈÇ£‰∏™resultType‰∫Ü‰πàÔºåÂ∞±ÊòØÂÆÉÊÉπÁöÑÁ•∏ÔºåËøôÈáåÊääresultTypeÊîπ‰∏∫resultMapÂ∞±OKÂï¶ÔºåÈáçÂêØtomcatÔºåÊú®ÊúâÂºÇÂ∏∏Âï¶ Ë∑≥ËΩ¨ËßÜÂõæ Áî®Â≠óÁ¨¶‰∏≤Âìà ÂºÄÂèë‰∏≠ÂâçÁ´ØÁöÑimgË¶ÅÊîæÂà∞ÂíåÊ°ÜÊû∂ÁöÑÂêå‰∏ÄÁõÆÂΩïÂèä‰∏ãÈù¢Âìà„ÄÇÂÖÑdie 1Connection connection = ConnectionUtils.getConnection(); Áî®Á±ª.ÊñπÊ≥ïÔºàÔºâ.var ÂèØ‰ª•Áõ¥Êé•ËøîÂõûËØ•ÂØπË±°ÁöÑËøîÂõûÂØπË±° Sting s=‚Äùtest‚Äù 1System.out.println(s);===s.sout Êó∂Èó¥ÈóÆÈ¢ò https://blog.csdn.net/qq_34160679/article/details/80651027 1jdbc.url = jdbc:mysql:/xxx:3306/zhongfubang?useUnicode=true&amp;characterEncoding=UTF-8&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=Asia/Shanghai Linux Êó†Ê≥ï‰ΩøÁî®ÂëΩ‰ª§export PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin‰øÆÊîπ/etc/profileÊñá‰ª∂ÔºåÈÖçÁΩÆmavenÁéØÂ¢ÉÂèòÈáèÊó∂ÂÄôÂá∫ÈóÆÈ¢ò‰∫ÜÔºåÂøòËÆ∞Âä†‰∫Ü $PATH: ÁÑ∂Âêésource /etc/profile Êé•‰∏ãÊù•Â∞±ÊòØ ll,ls,vimÂëΩ‰ª§ÈÉΩÁî®‰∏ç‰∫Ü„ÄÇ„ÄÇ„ÄÇÂÆ≥ÁöÑÊàë‰ª•‰∏∫xshellÊàëÊõ¥Êñ∞‰∫ÜÂë¢ÔºåÂç∏ËΩΩÈáçË£Ö‰∫ÜËøòÊòØÊ≤°Áî®„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÂ¶Ç‰∏ãÂõæÔºåÊâßË°åËøô‰∏§Êù°ÂëΩ‰ª§Ôºö 123export PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin vim /etc/profile SpringBoot ‰∏ªÁ±ªÊä•Èîô 1Âú®idea‰∏≠‰ΩøÁî®ÁªàÁ´Ø ÁÑ∂Âêé‰ΩøÁî®mvn installÂëΩ‰ª§„ÄÇÂà†ÊéâÊúâÈóÆÈ¢òÁöÑjarÂåÖÈáçÊñ∞‰∏ãËΩΩ„ÄÇ Ëß£ÂÜ≥ÈóÆÈ¢ò IdeaÁõ∏ÂÖ≥1Ë£Ö‰∏Ä‰∏™lombokÊèí‰ª∂Êâç‰ºöÊúâget setÊñπÊ≥ï 1234MybatisPluginCodesÊèí‰ª∂ findBy... ÁúãÊñáÊ°£ Âç∏ËΩΩÂÖ∂‰ªñÁõ∏ÂÖ≥Êèí‰ª∂ commond+1 ÂàõÂª∫SQlËØ≠Âè• self4j log4jÁöÑÈóÆÈ¢ò1ggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation 1234567891011&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;--------------------- Springboot ‰æùËµñÂÜ≤Á™Å Maven logsÈÅáÂà∞ÈîôËØØ ÈáçÂêØIdea ÊàñËÄÖÂÖ≥Êú∫ÈáçÂêØÁîµËÑë SpringBoot +Mybatis Êï¥ÂêàÈóÆÈ¢òÔºö ‰ΩøÁî®Yml Ê∑ªÂä†mapperxml 12345@RequestMapping(&quot;/&#123;id&#125;&quot;) @ResponseBody public Mydb01 list(@PathVariable(&quot;id&quot;) Integer id) &#123;//@PathVariable(&quot;id&quot;) idÊòØ‰∏çÊòØ‰∏ÄÂÆöË¶ÅÂÜô return userService.selectByPrimaryKey(id); &#125; maven pom Êñá‰ª∂]]></content>
  </entry>
  <entry>
    <title><![CDATA[ITerm2ÁöÑÈÖçÁΩÆ]]></title>
    <url>%2F2018%2F11%2F09%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2FIterm2%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ITerm2ÁöÑÈÖçÁΩÆÈóÆÈ¢òÊØèÊ¨°vimÁöÑÊó∂ÂÄô‰∏ÄÂÆöË¶Åsource‰∏Ä‰∏ã Âïä xiong die Â≠¶‰π†ËµÑÊ∫ê https://www.jianshu.com/p/9c3439cc3bdb ÁÆÄ‰π¶ https://github.com/sirius1024/iterm2-with-oh-my-zsh Github https://www.cnblogs.com/xishuai/p/mac-iterm2.html ÂçöÂÆ¢Âõ≠ https://blog.csdn.net/z3512498/article/details/51245853 CSDN ÊîπÂèòÁî®Êà∑Âêç ÂøÖÈ°ªË¶Å‰ΩøÁî®vimÁöÑÂëΩ‰ª§‰øÆÊîπÈÖçÁΩÆ Â∏∏ËßÅÁöÑÂëΩ‰ª§1234vi ~/.zshrcsource ~/.zshrc ÔºàsoucreÈÖçÁΩÆÊñá‰ª∂ ËÆ©ÈÖçÁΩÆÊñá‰ª∂ÁîüÊïàÔºâÊñá‰ª∂ÊîæÂú®itermgit‰∏ãÈù¢ ÂøÖÈ°ªË¶ÅÂú®‰∏ªÈ¢òÂèØ‰ª•‰ΩøÁî®ÁöÑÊÉÖÂÜµ‰∏ã ËøõË°å‰ª•‰∏äÁöÑÈÖçÁΩÆÂø´Êç∑ÈîÆÂÜ≤Á™Å ÂèñËØç copyÂ§±Êïà Â∏∏ËßÅÈóÆÈ¢ò ÂÆâË£ÖÂÆåÊàêÂêéÔºåÂú®/binÁõÆÂΩï‰∏ã‰ºöÂ§öÂá∫‰∏Ä‰∏™zshÁöÑÊñá‰ª∂„ÄÇ MacÁ≥ªÁªüÈªòËÆ§‰ΩøÁî®dash‰Ωú‰∏∫ÁªàÁ´ØÔºåÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§‰øÆÊîπÈªòËÆ§‰ΩøÁî®zshÔºö 1chsh -s /bin/zsh Â¶ÇÊûúÊÉ≥‰øÆÊîπÂõûÈªòËÆ§dashÔºåÂêåÊ†∑‰ΩøÁî®chshÂëΩ‰ª§Âç≥ÂèØÔºö 1chsh -s /bin/bash export MAVEN_HOME=/Java/apache-maven-3.5.4 export PATH=${PATH}:${MAVEN_HOME}/bin]]></content>
      <tags>
        <tag>Iterm2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker-web]]></title>
    <url>%2F2018%2F11%2F08%2FDocker%2FDocker-web%2F</url>
    <content type="text"><![CDATA[Â≠¶‰π†Âú∞ÂùÄ* https://www.imooc.com/video/14624ÔºàÊÖïËØæÁΩëÔºâ-6‚É£ÂàòÊûúÂõΩ #Á¨¨‰∏Ä‰∏™ java webÈ°πÁõÆ ÔºàSpringBoot È°πÁõÆÊâìÂåÖÊàê‰∏Ä‰∏™warÂåÖÁöÑÊñπÂºèÔºâ ‰∏ÄÂà∂‰ΩúËá™Â∑±ÁöÑÊôØË±° Dockerfile docker build È¶ñÂÖàÈúÄË¶Å‰∏Ä‰∏™warÊñá‰ª∂ Êã∑Ë¥ùÂú®Ê°åÈù¢‰∏ä Docker images 1.Âª∫Á´ã‰∏Ä‰∏™Dockerfile vim Dockerfile 2. ‰∏ãËΩΩTomcatÈïúÂÉè ÁΩëÊòìÈïúÂÉè‰∏≠ÂøÉ ÊâæTomcatÁöÑÈïúÂÉè https://c.163yun.com/hub#/m/home/ ÔºàÂåÖÊã¨JDK TomcatÔºâ 1docker pull hub.c.163.com/library/tomcat:latest Á´ôÂú®Â∑®‰∫∫ÁöÑËÇ©‰∏ä 3.ÁºñËæëDockerfile1234567Âú®MacÁªàÁ´Ø‰∏≠‰ΩøÁî®vimÁºñËæëÊñá‰ª∂Ê≠•È™§1. cd Êñá‰ª∂ÊâÄÂú®ÁöÑÊñá‰ª∂Â§πË∑ØÂæÑ &lt;ÂõûËªä&gt;2. Ëº∏ÂÖ• vim Êñá‰ª∂Âêç &lt;ÂõûËªä&gt;3. Êåâ‰∏ã i Èçµ‰æÜÁºñËæëÊñáÊú¨ÊñáÂ≠ó4. ÈÄÄÂá∫vimÁ∑®ËºØÂô®Ôºö ‰∏ç‰øùÂ≠òÂπ∂ÈÄÄÂá∫ &lt;ESC&gt; :q! &lt;ÂõûËªä&gt; ‰øùÂ≠òÂπ∂ÈÄÄÂá∫ &lt;ESC&gt; :wq &lt;ÂõûËªä&gt; from hub.c.163.com/library/tomcat MAINTAINER Freemana2017 1047629166@qq.com 1234cd /Users/apple/Desktop/Dockerwebls&gt; mv atcrodfunding3_ssm-0.0.1-SNAPSHOT.war atcrod.warmv atcrodfunding3_ssm-0.0.1-SNAPSHOT.war atcrod.war (Áî®MV ÈáçÊñ∞ÂëΩÂêç‰∏Ä‰∏ã) ËøõÂÖ•Êñá‰ª∂Â§πÈáåÈù¢ ÁºñÂÜôDockerfile Â≠¶‰ºöÁúãÈïúÂÉèÁöÑËØ¥Êòé 1234567891011121314151617How to use this image.Run the default Tomcat server (CMD [\&quot;catalina.sh\&quot;, \&quot;run\&quot;]):$ docker run -it --rm tomcat:8.0You can test it by visiting http://container-ip:8080 in a browser or, if you need access outside the host, on port 8888:$ docker run -it --rm -p 8888:8080 tomcat:8.0You can then go to http://localhost:8888 or http://host-ip:8888 in a browser.The default Tomcat environment in the image for versions 7 and 8 is:‚≠êÔ∏èCATALINA_BASE: /usr/local/tomcat‚≠êÔ∏èCATALINA_HOME: /usr/local/tomcatCATALINA_TMPDIR: /usr/local/tomcat/tempJRE_HOME: /usrCLASSPATH: /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar 1„ÄÇÁºñÂÜôDockerfile Êñá‰ª∂‚ÄìDockerfile12345from hub.c.163.com/library/tomcatMAINTAINER Freemana2017 1047629166@qq.comCOPY atcrod.war /usr/local/tomcat/webapps 2.ÂàõÂª∫ÈïúÂÉè ‚Äìdocker build 3.Êü•ÁúãÈïúÂÉè‚Äìdocker images 4.ÁªôÈïúÂÉèÂÜôÂêçÂ≠ó docker build -t atcrod:latest . 5.ÂÜçÊ¨°Êü•ÁúãÈïúÂÉè docker images ###‰∫åËøêË°åËá™Â∑±ÁöÑÂÆπÂô®1.docker run -d -p 8888:8080 atcrod 8888Êú¨Êú∫ÁöÑÁ´ØÂè£Âè∑„ÄÇ8080TomcatÁöÑÁ´ØÂè£Âè∑ Âéª163.comÊü•ËØ¢ atcrodÈïúÂÉèÁöÑÂêçÂ≠ó 2.docker ps Êü•ÁúãTomcatÁöÑËøõÁ®ã Ê£ÄÊü•ÂÆπÂô®ÊòØ‰∏çÊòØÂêØÂä®Âï¶ 3.netstat -na|grep 8888 Ê£ÄÊü•Á´ØÂè£ÊòØ‰∏çÊòØÂ≠òÂú®‰∫Ü ËæìÂÖ•localhost:8888ÊµãËØïTomcatÊòØÂê¶ÂêØÂä®Âï¶ ‚ö†Ô∏è ‰ª•‰∏äÂè™ÊòØwebÈ°πÁõÆÂú®Docker‰∏≠ÁöÑÈÉ®ÁΩ≤È°πÁõÆ3.Docker ÈÉ®ÁΩ≤SpringBoot webÈ°πÁõÆ Â≠¶‰π†ËµÑÊ∫êÊ±áÊÄª http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html https://blog.csdn.net/weixin_39800144/article/details/79214978 https://blog.csdn.net/weixin_39800144/article/details/79213276 https://bingohuang.com/spring-boot-docker/ FROM java:8 VOLUME /tmp COPY target/tran4spd-1.0-SNAPSHOT.jar resource.jar. #ËøôËæπÊîæÁöÑÊòØDockerÈÉ®ÁΩ≤ÁöÑjarÂåÖÁöÑ‰ΩçÁΩÆ ÁªùÂØπË∑ØÂæÑ RUN bash -c ‚Äútouch /resource.jar‚Äù EXPOSE 8080 ENTRYPOINT [‚Äújava‚Äù,‚Äù-jar‚Äù,‚Äùresource.jar‚Äù] # docker run -d -p 18080:8099 ‚Äìname docker-resource leesia/resource:1.0 Ê≥®ÊÑèjava-jarÊó†Ê≥ïËøêË°åTomcatË¶ÅÂ§ñÁΩÆ 1234567&lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;&lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; ##Êñá‰ª∂Ë∑ØÂæÑ‰∏çË¶ÅÁî®‰∏≠ÊñáÔºÅÔºÅÔºÅ]]></content>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker SpringBoot]]></title>
    <url>%2F2018%2F11%2F07%2FDocker%2FDocker-SpringBoot%2F</url>
    <content type="text"><![CDATA[DockerMachineÂ∫îÁî®Ê≥®ÊÑèÊï¥‰∏™ËøáÁ®ãË¶ÅÁ≠âÂæÖ‰∏Ä‰∏ã ÂèÇËÄÉhttps://study.163.com/course/courseLearn.htm?courseId=1002892012#/learn/video?lessonId=1003309140&amp;courseId=1002892012 ÁΩëÊòì‰∫ëËØæÂ†Ç Âä®ÊâãÁé©Docker ÂÆâË£ÖDockerMachine docker-machine ls tcp://192.168.99.100:2376 nameÔºöcloudcomb docker-machine create ‚Äìdriver virtualbox cloudcomb Docker-machine env cloudcomb ‚ö†Ô∏èÁ¨¨Âõõ‰∏™ÂèòÈáèevalËØ¥ÁöÑÊòØÂΩìÂâçDockermachineÁöÑÂêçÂ≠óÊòØ‚Äîcloudcomb eval $(docker-machine env cloudcomb) Êã∑Ë¥ùÊîæÂà∞Â∫ï‰∏ã ‰ΩøÁî®ÁΩëÊòìËúÇÂ∑¢ Docker run hub.c163.com/library/busybox:latest echon hello world Ôºàunable„ÄÇ„ÄÇËøô‰∏™ËøáÁ®ãË¶ÅÁ≠âÂæÖÂïäÔºâ‚≠êÔ∏è docker-machine rm cloudcomb Âà†Èô§docker-machine SpringBootÊï¥ÂêàDocker Emmmm.Á≠âÊàëÊúâÈí±‰∫Ü ÊääXnipÂéªÊéâÂìàÂìà ‰∏ãËΩΩÊ∫êÁ†Åhttps://github.com/bingohuang/spring-boot-docker Git ÈÄöËøáÂëΩ‰ª§Ë°å‰∏ãËΩΩÊñá‰ª∂ ÂÖàcd‰∏Ä‰∏ãÊåáÂÆö‰∏Ä‰∏ã‰∏ãËΩΩÁöÑË∑ØÂæÑ ÂØºÂÖ•È°πÁõÆÂà∞Idea ÁÑ∂ÂêéÊü•Áúã‰∏Ä‰∏ãÊ∫êÁ†Å ËøêË°å‰∏Ä‰∏ãÈ°πÁõÆÔºàËÆøÈóÆ‰∏Ä‰∏ã ÊµãËØï‰∏Ä‰∏ãÔºâ Docker SpringBootÈÉ®ÁΩ≤È°πÁõÆ ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è 1.installÈ°πÁõÆ ÊâæÂà∞Ëøô‰∏§‰∏™Êñá‰ª∂ ÊîæÂà∞Ê°åÈù¢‰∏ä 2.Â∞ÜËøô‰∏§‰∏™È°πÁõÆÊîæÂà∞‰∏Ä‰∏™Êñá‰ª∂‰∏ãÔºå‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πàÂ•ΩÂÉèË¶ÅÊääjarÊîπÂêçÊàêgs-spring-boot-docker-0.0.1.jar 3.cdÂà∞Êñá‰ª∂‰∏ã ls‰∏Ä‰∏ã4.ÊâßË°å Àõdocker version 5.ÊâßË°å docker-machine env 6.ÊâßË°åeval $(docker-machine env)ÔºàÂ§çÂà∂ÂêéÈù¢ÁöÑÁ¨¨ÂõõÊù°Ôºâ tcp://192.168.99.100:2376192.168.99.100 tcp://127.0.0.1:2376 tcp://127.0.0.1:2376 ###7.docker versionÔºàÊ≤°Êúâ-Ôºâ 8.ls‰∏Ä‰∏ãÁõÆÂΩï 9.docker build -t cloudcomb/sun:1.0 . ÔºàÊ°åÈù¢‰∏äË¶ÅÊúâjarÂåÖÂíådockerfilede Êñá‰ª∂Ôºâ Ê≠§Êó∂Êä•Èîô Ê≤°Êúâgs-spring-boot-docker.jarÊñá‰ª∂ ÂÖ∂ÂÆûlsÁöÑÊó∂ÂÄôÂ∞±Â∫îËØ•ÊòØgs-spring-boot-docker.jar ËøôÂÑøÊòØ‰∏™bug„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ï ÊîπjarÂåÖÂêç Ê∑ªÂä†gsÂâçÁºÄ 1https://docker.mirrors.ustc.edu.cn 10„ÄÇdocker build -t cloudcomb/sun:1.0 .ÔºàÂ§ß‰Ω¨ËØ¥Ëøô‰∏ÄÊ≠•ÊòØÊãâÂèñÈïúÂÉè„ÄÇÁî®Âä†ÈÄüÂô® ÊîπÂêçÂêéÈáçÊñ∞ÊâßË°åÂëΩ‰ª§ÔºâÊàë‰ª¨ÂèØ‰ª•Áî®Â§ß‰Ω¨ÁΩëÊòì‰∫ëÁöÑDokcerÈïúÂÉè 11. docker images -a 12.docker run -p 1024:8080 -t cloudcomb/sun:1.0 . Ê≥®ÊÑè cloudcombÂíåÂâçÈù¢ÁöÑcloudcombË¶Å‰∏Ä‰∏ÄÂØπÂ∫î 1024 ‰∏é8080ÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÂÖ≥Á≥ª Error: Unable to access jarfile /app.jar ‚≠êÔ∏è ADD user-server-0.0.1-SNAPSHOT.jar app.jar Ë¶ÅÂíåpomÁöÑuser-server ‰øùÊåÅÂêçÂ≠ó‰∏ÄÊ†∑Ôºå‰∏çÁÑ∂mavenÊâìÂá∫Êù•ÁöÑÂåÖÔºådockerÊâæ‰∏çÂà∞„ÄÇ ÊúÄÁªàÁöÑÁªìÂ±ÄÂäûÊ≥ï Â•ΩÂÉèÊòØÂ∞ÜcopyÂéªÊéâ‰∫Ü Ê≥®ÊÑèÁúãÊéßÂà∂Âè∞ÊâìÂç∞ÁöÑ‰ø°ÊÅØ ÂÖÑdei DockerFileÔºö DockerÂ∞±ÊòØÁªô‰∏ÄÂêçÂ≠ó gs-spring-bbot Ë¥¥‰∏Ä‰∏™Dockerfilr„ÄÇ 1234567891011121314151617181920212223242526272829303132333435FROM hub.c.163.com/xbingo/jdk8:latestfrom hub.c.163.com/library/tomcatMAINTAINER Freemana2017 1047629166@qq.comADD atcrodfunding3_ssm-0.0.1-SNAPSHOT.jar app.jarENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]COPY atcrod.war /usr/local/tomcat/webapps #FROM openjdk:8-jdk-alpine#VOLUME /tmp#ADD atcrodfunding3_ssm-0.0.1-SNAPSHOT.jar app.jar#ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]# #FROM hub.c.163.com/xbingo/jdk8:latest##ADD gs-spring-boot-docker-0.1.0.jar app.jar##ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] #Ëøô‰∏™ Dockerfile Êñá‰ª∂ÂæàÁÆÄÂçïÔºåÊûÑÂª∫ Jdk Âü∫Á°ÄÁéØÂ¢ÉÔºåÊ∑ªÂä† Spring Boot Jar Âà∞ÈïúÂÉè‰∏≠ÔºåÁÆÄÂçïËß£Èáä‰∏Ä‰∏ã:##FROM ÔºåË°®Á§∫‰ΩøÁî® Jdk8 ÁéØÂ¢É ‰∏∫Âü∫Á°ÄÈïúÂÉèÔºåÂ¶ÇÊûúÈïúÂÉè‰∏çÊòØÊú¨Âú∞ÁöÑ‰ºö‰ªé DockerHub ËøõË°å‰∏ãËΩΩ#VOLUME ÔºåVOLUME ÊåáÂêë‰∫Ü‰∏Ä‰∏™/tmpÁöÑÁõÆÂΩïÔºåÁî±‰∫é Spring Boot ‰ΩøÁî®ÂÜÖÁΩÆÁöÑTomcatÂÆπÂô®ÔºåTomcat ÈªòËÆ§‰ΩøÁî®/tmp‰Ωú‰∏∫Â∑•‰ΩúÁõÆÂΩï„ÄÇËøô‰∏™ÂëΩ‰ª§ÁöÑÊïàÊûúÊòØÔºö#Âú®ÂÆø‰∏ªÊú∫ÁöÑ/var/lib/dockerÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂Âπ∂ÊääÂÆÉÈìæÊé•Âà∞ÂÆπÂô®‰∏≠ÁöÑ/tmpÁõÆÂΩï#ADD ÔºåÊã∑Ë¥ùÊñá‰ª∂Âπ∂‰∏îÈáçÂëΩÂêç#ENTRYPOINT Ôºå‰∏∫‰∫ÜÁº©Áü≠ Tomcat ÁöÑÂêØÂä®Êó∂Èó¥ÔºåÊ∑ªÂä†java.security.egdÁöÑÁ≥ªÁªüÂ±ûÊÄßÊåáÂêë/dev/urandom‰Ωú‰∏∫ ENTRYPOINT#ËøôÊ†∑ Spring Boot È°πÁõÆÊ∑ªÂä† Docker ‰æùËµñÂ∞±ÂÆåÊàê‰∫Ü„ÄÇ Dockerfile Áî®ÁöÑwarË¶ÅÊúâTomcat Ëá™Â∑±ÁêÜËß£Âêß Â§öÁúã‰∏Ä‰∫õËßÜÈ¢ëÁ¨îËÆ∞‰ªÄ‰πàÁöÑ ÂèçÊ≠£ÂæàÈöæ,,, ‰ª•‰∏äÁöÑÊñá‰ª∂ÊòØ‰ªégithub‰∏äÊãâÁöÑ Áé∞Âú®Ëá™Â∑±ÊûÑÂª∫SpringBoot -jarÁöÑÂ∫îÁî® ÈÄöËøáÁæ§ÈáåÁöÑÊåáÂØº ‰º∞ËÆ°jarÊâìÂåÖÂíåwarÊâìÂåÖÂå∫Âà´‰∏çÂ§ßÂêß ‰∏ãÈù¢ÈÄöËøáSpringBootÊûÑÂª∫DockerÈÉ®ÁΩ≤‰∏Ä‰∏ãËØïËØï https://waylau.com/docker-spring-boot/ http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html https://lw900925.github.io/docker/docker-springboot.html https://www.tianmaying.com/tutorial/spring-boot-docker https://bingohuang.com/spring-boot-docker/ https://www.imooc.com/search/?words=docker http://www.ityouknow.com/docker/2018/03/30/docker-machine.html https://spring.io/guides/gs/spring-boot-docker/ SpringBoot Docker https://lw900925.github.io/docker/docker-springboot.html http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html ‰∏ªË¶ÅÁéØËäÇ $ sudo docker tag [ImageId] ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[ÈïúÂÉèÁâàÊú¨Âè∑]$ sudo docker push ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[ÈïúÂÉèÁâàÊú¨Âè∑] ‚≠êÔ∏è sudo docker tag 5fc4ede68fcd ccr.ccs.tencentyun.com/atcrod/latest sudo docker push ccr.ccs.tencentyun.com/atcrod/latest]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker-Idea]]></title>
    <url>%2F2018%2F11%2F07%2FDocker%2FDocker-Idea%2F</url>
    <content type="text"><![CDATA[###1.Docker Âú®Intellij‰∏≠ÁöÑ‰ΩøÁî® MachineÁöÑÂÆâË£Ö composeÁöÑÂÆâË£Ö DockerÁöÑÈÖçÁΩÆ È¶ñÂÖàÂ≠¶‰π†‰ªÄ‰πà‰∏úË•øÈÉΩË¶ÅÁî®ÂÆòÁΩëÁöÑ‰∏úË•ø ÂÆâË£ÖDockerÁöÑÊèí‰ª∂-ÁúãÁΩë‰∏äÊïôÁ®ã ÁúãDockerÊèí‰ª∂ÁöÑÂÆòÁΩë hrer Â≠¶‰π†Ëã±Êñá„ÄÇ‰ªª‰Ωï‰∏úË•øÂÆòÁΩëÈÉΩÁî®ËØ¶ÁªÜËØ¥ÊòéÁöÑ Â≠¶‰π†Docker Â≠¶‰π†SpringBootÊï¥ÂêàDocker Â≠¶‰π†ËøêÁª¥ ‰∏ãÈù¢ÂºÄÂßãDockerÁöÑÂ≠¶‰π† 1.Áé∞Âú®Êèí‰ª∂ 2.ÁúãÁΩëÂùÄÁöÑÊïôÁ®ã 3.ÂÆâË£ÖmachinÂíåcompose machineÂíåcomposeÁöÑÂÆâË£ÖÂèÇËÄÉ 1.Gitbook‰π¶ https://yeasy.gitbooks.io/docker_practice/content/compose/install.html 2„ÄÇÂÆòÊñπÊñáÊ°£Ôºà‰∏∫‰∏ªÔºâ https://docs.docker.com/machine/install-machine/ ‚≠êÔ∏è Ôºà‰∏∫‰ªÄ‰πàÊØèÊ¨°ÈÉΩË¶ÅÈáçÊñ∞‰∏ãËΩΩdockermachineÔºâ Docker-machine env ‰∏çËÉΩÊâßË°å‰∫åËøõÂà∂Êñá‰ª∂ È¶ñÂÖàË¶Å ÈáçÊñ∞‰∏ãËΩΩDockermachihe 123base=https://github.com/docker/machine/releases/download/v0.14.0 &amp;&amp; curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/usr/local/bin/docker-machine &amp;&amp; chmod +x /usr/local/bin/docker-machine 3.Github https://github.com/docker/machine/releases https://github.com/docker/machine 2.Êúâ‰∫õ‰∏úË•øÊîæÂú®‰∫Ü‰∫ëÊî∂ËóèÈáåÈù¢DockerÁöÑÁî®Êà∑ÂêçÊòØ2018112#####ÂÆâË£ÖDockerÊèí‰ª∂Ë¶ÅÂºÄVPN ËøòÊúâËÆøÈóÆGitbub‰πüË¶ÅÂºÄVPN wiredesÁöÑ ÂÆâË£ÖDockerË¶ÅÂÆâË£ÖDookerToolBox 3.Docker ÔºÅÔºÅDockerÁúüÊòØ‰∏Ä‰∏™ÊÅêÊÄñÁöÑ‰∏úË•ø ######DockerÁöÑÂ≠¶‰π†ËµÑÊ∫êGitBookÈáåÈù¢ÁöÑDockerÁöÑÈôÑÂΩïÈÉ®ÂàÜ https://blog.lab99.org/post/docker-2016-07-14-faq.html 1.Êó†Áã¨ÊúâÂÅ∂ÈÄöËøáDocker-SpirngBootÁöÑÂ≠¶‰π†‰∫ÜËß£‰∫ÜTCP socker Engine API URLÁöÑÂ°´ÂÜô DockerÂºÄÂêØËøúÁ®ãËÆøÈóÆËøôÊòØËøáÁ®ã‰∏≠‰∫ßÁîüÁöÑÈóÆÈ¢ò ÂÆâË£Ö‰∫Üsocket ‰ª•ÂêéÊÉ≥ÂäûÊ≥ïÂà†Èô§ PSÔºöDockerÊúçÂä°‰∏≠ËøõÁ®ãÈó¥ÈÄö‰ø°ÈÄöËøá/var/run/docker.sockÂÆûÁé∞ÔºåÈªòËÆ§ÊúçÂä°‰∏çÊèê‰æõÁõëÂê¨Á´ØÂè£ÔºåÂõ†Ê≠§‰ΩøÁî®docker remote api ÈúÄË¶ÅÊâãÂä®ÁªëÂÆöÁ´ØÂè£„ÄÇÊñπÊ≥ïÔºö 12&gt; `# service docker stop``# docker -d -H unix:``///var/run/docker.sock -H tcp://0.0.0.0:2375`&gt; ###2.ÁÇπÂáª+Âè∑Ê∑ªÂä†‰∏Ä‰∏™dockerÈÖçÁΩÆÔºåËæìÂÖ•NameÂíåEngine API URLÔºåURLÊòØdockerÊúçÂä°Âú∞ÂùÄÔºåÈúÄË¶ÅdockerÂºÄÂêØËøúÁ®ãËøûÊé•ÂäüËÉΩ„ÄÇCentOS‰∏≠Âú®dockerÂêØÂä®ÂèÇÊï∞ÈáåÊ∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÂç≥ÂèØÂºÄÂêØËøúÁ®ãËøûÊé•„ÄÇ -H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375 ‰∏ãÈù¢ÊòØdockerÂú®idea‰∏≠ÁöÑÂÆâË£Ö cloudsÈáåÈù¢Ê≤°ÊúâDocker„ÄÇÂú®Docker‰∏≠ÈÖçÁΩÆ TCPÔºötcpÔºö//127.0.0.1:2376 Ê≥®ÊÑèËøô‰∏™ÊòØÈÄöËøáÁªàÁ´ØÂëΩ‰ª§ÂæóÂà∞ÁöÑ 1234567docker-machine env cloudcombexport DOCKER_TLS_VERIFY=&quot;1&quot;export DOCKER_HOST=&quot;tcp://192.168.99.101:2376&quot;export DOCKER_CERT_PATH=&quot;/Users/apple/.docker/machine/machines/cloudcomb&quot;export DOCKER_MACHINE_NAME=&quot;cloudcomb&quot;# Run this command to configure your shell:# eval $(docker-machine env cloudcomb) Â∞ÜÂâçÈù¢ÁöÑÁ´ØÂè£Êç¢ÊàêÊú¨Âú∞ÁöÑ tcp:127.0.0.1:2376 emmÁù°‰∏ÄËßâËµ∑Êù•VPNÊâìÂºÄË¶ÅÁ≠â‰∏Ä‰ºö Âú®ÁªàÁ´ØËæìÂÖ•dockerversion docker-machine env‚ÄîHost is not running #Â≠¶‰π†ËµÑÊ∫êÔºöÈÄöËøáGithubÁöÑÊêúÁ¥¢ÂäüËÉΩüîç ÂèëÁé∞‰∏Ä‰∫õÂ≠¶‰π†ËµÑÊñôhttps://www.jetbrains.com/help/idea/docker.html alip1sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest 1234567891011FROM java:8VOLUME /tmpsudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latestCOPY target/tran4spd-1.0-SNAPSHOT.jar resource.jarRUN bash -c &quot;touch /resource.jar&quot;EXPOSE 8080ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;resource.jar&quot;]# docker run -d -p 18080:8099 --name docker-resource leesia/resource:1.0]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HexoÁöÑ‰ΩøÁî®ÊïôÁ®ã]]></title>
    <url>%2F2018%2F11%2F07%2F%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2FHexo%2F</url>
    <content type="text"><![CDATA[‰∏ªÈ¢òcopy‰∏Ä‰ªΩÂú®apple‰∏≠‰∏çÈúÄË¶ÅÁªàÁ´Ønew ÊàñËÄÖ Ê†áÈ¢òtitleÁõ¥Êé•Â§çÂà∂‰πüÊòØÂèØ‰ª•ÁöÑÊúâÊó∂ÂÄôÊúâÂª∂Ëøü‰∏ãÈù¢Â∞±ÊòØÂõæÁâáÁöÑÈóÆÈ¢òÂï¶ Áî®ÂõæÂ∫äipicËß£ÂÜ≥ÈóÆÈ¢ò https://www.jianshu.com/p/dbc945b05d55 PIC https://sspai.com/post/39965 Â∞ëÊï∞Ê¥æ ### https://hexo.io/zh-cn/docs/front-matter Â≠¶‰π†HexoÊåâÁÖßËøô‰∏™ÁΩëÁ´ôÈáåÈù¢ÊúâÊïôÁ®ã Â≠¶‰π†‰ªª‰Ωï‰∏úË•øÈÉΩË¶Å‰ΩøÁî®ÂÆòÊñπÊñáÊ°£ ÂÖ∂‰ΩôÂ≠¶‰π†ÁöÑ‰∏úË•øÂú®safairÊî∂Ëóè‚ûïÈöèÁ¨î hexoÈáåÈù¢ ÁúüÁöÑÂ•ΩÁ¥Ø Êê≠Âª∫Ëøô‰∏™ÁéØÂ¢É ÊÄª‰πãÂ∞±ÊòØÁÖßÁùÄÂÆòÁΩëÁöÑ‰æãÂ≠ê ÁÑ∂Âêé‰ΩøÁî®Ëøô‰∏™Ê®°Áâà ÁÑ∂ÂêéymlÊñá‰ª∂Ë¶ÅÂÜôÂÖ® ÂùëÂ§™Â§ö‰∫Ü ËÉΩÂá∫‰∏ÄÊú¨‰π¶ ÂÖàËøôÊ†∑]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot Èõ∑‰∏∞Èò≥]]></title>
    <url>%2F2018%2F03%2F06%2FSpring%20Boot%2FSpring%20Boot%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅSpring Boot ÂÖ•Èó®1„ÄÅSpring Boot ÁÆÄ‰ªã ÁÆÄÂåñSpringÂ∫îÁî®ÂºÄÂèëÁöÑ‰∏Ä‰∏™Ê°ÜÊû∂Ôºõ Êï¥‰∏™SpringÊäÄÊúØÊ†àÁöÑ‰∏Ä‰∏™Â§ßÊï¥ÂêàÔºõ J2EEÂºÄÂèëÁöÑ‰∏ÄÁ´ôÂºèËß£ÂÜ≥ÊñπÊ°àÔºõ 2„ÄÅÂæÆÊúçÂä°2014Ôºåmartin fowler ÂæÆÊúçÂä°ÔºöÊû∂ÊûÑÈ£éÊ†ºÔºàÊúçÂä°ÂæÆÂåñÔºâ ‰∏Ä‰∏™Â∫îÁî®Â∫îËØ•ÊòØ‰∏ÄÁªÑÂ∞èÂûãÊúçÂä°ÔºõÂèØ‰ª•ÈÄöËøáHTTPÁöÑÊñπÂºèËøõË°å‰∫íÈÄöÔºõ Âçï‰ΩìÂ∫îÁî®ÔºöALL IN ONE ÂæÆÊúçÂä°ÔºöÊØè‰∏Ä‰∏™ÂäüËÉΩÂÖÉÁ¥†ÊúÄÁªàÈÉΩÊòØ‰∏Ä‰∏™ÂèØÁã¨Á´ãÊõøÊç¢ÂíåÁã¨Á´ãÂçáÁ∫ßÁöÑËΩØ‰ª∂ÂçïÂÖÉÔºõ ËØ¶ÁªÜÂèÇÁÖßÂæÆÊúçÂä°ÊñáÊ°£ 3„ÄÅÁéØÂ¢ÉÂáÜÂ§áhttp://www.gulixueyuan.com/ Ë∞∑Á≤íÂ≠¶Èô¢ ÁéØÂ¢ÉÁ∫¶Êùü ‚Äìjdk1.8ÔºöSpring Boot Êé®Ëçêjdk1.7Âèä‰ª•‰∏äÔºõjava version ‚Äú1.8.0_112‚Äù ‚Äìmaven3.xÔºömaven 3.3‰ª•‰∏äÁâàÊú¨ÔºõApache Maven 3.3.9 ‚ÄìIntelliJIDEA2017ÔºöIntelliJ IDEA 2017.2.2 x64„ÄÅSTS ‚ÄìSpringBoot 1.5.9.RELEASEÔºö1.5.9Ôºõ Áªü‰∏ÄÁéØÂ¢ÉÔºõ 1„ÄÅMAVENËÆæÁΩÆÔºõÁªômaven ÁöÑsettings.xmlÈÖçÁΩÆÊñá‰ª∂ÁöÑprofilesÊ†áÁ≠æÊ∑ªÂä† 123456789101112&lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt;&lt;/profile&gt; 2„ÄÅIDEAËÆæÁΩÆÊï¥ÂêàmavenËøõÊù•Ôºõ 4„ÄÅSpring Boot HelloWorld‰∏Ä‰∏™ÂäüËÉΩÔºö ÊµèËßàÂô®ÂèëÈÄÅhelloËØ∑Ê±ÇÔºåÊúçÂä°Âô®Êé•ÂèóËØ∑Ê±ÇÂπ∂Â§ÑÁêÜÔºåÂìçÂ∫îHello WorldÂ≠óÁ¨¶‰∏≤Ôºõ 1„ÄÅÂàõÂª∫‰∏Ä‰∏™mavenÂ∑•Á®ãÔºõÔºàjarÔºâ2„ÄÅÂØºÂÖ•spring bootÁõ∏ÂÖ≥ÁöÑ‰æùËµñ1234567891011&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 3„ÄÅÁºñÂÜô‰∏Ä‰∏™‰∏ªÁ®ãÂ∫èÔºõÂêØÂä®Spring BootÂ∫îÁî®12345678910111213/** * @SpringBootApplication Êù•Ê†áÊ≥®‰∏Ä‰∏™‰∏ªÁ®ãÂ∫èÁ±ªÔºåËØ¥ÊòéËøôÊòØ‰∏Ä‰∏™Spring BootÂ∫îÁî® */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // SpringÂ∫îÁî®ÂêØÂä®Ëµ∑Êù• SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; 4„ÄÅÁºñÂÜôÁõ∏ÂÖ≥ÁöÑController„ÄÅService123456789@Controllerpublic class HelloController &#123; @ResponseBody @RequestMapping("/hello") public String hello()&#123; return "Hello World!"; &#125;&#125; 5„ÄÅËøêË°å‰∏ªÁ®ãÂ∫èÊµãËØï6„ÄÅÁÆÄÂåñÈÉ®ÁΩ≤123456789&lt;!-- Ëøô‰∏™Êèí‰ª∂ÔºåÂèØ‰ª•Â∞ÜÂ∫îÁî®ÊâìÂåÖÊàê‰∏Ä‰∏™ÂèØÊâßË°åÁöÑjarÂåÖÔºõ--&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; Â∞ÜËøô‰∏™Â∫îÁî®ÊâìÊàêjarÂåÖÔºåÁõ¥Êé•‰ΩøÁî®java -jarÁöÑÂëΩ‰ª§ËøõË°åÊâßË°åÔºõ 5„ÄÅHello WorldÊé¢Á©∂1„ÄÅPOMÊñá‰ª∂1„ÄÅÁà∂È°πÁõÆ1234567891011121314&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;‰ªñÁöÑÁà∂È°πÁõÆÊòØ&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt;&lt;/parent&gt;‰ªñÊù•ÁúüÊ≠£ÁÆ°ÁêÜSpring BootÂ∫îÁî®ÈáåÈù¢ÁöÑÊâÄÊúâ‰æùËµñÁâàÊú¨Ôºõ Spring BootÁöÑÁâàÊú¨‰ª≤Ë£Å‰∏≠ÂøÉÔºõ ‰ª•ÂêéÊàë‰ª¨ÂØºÂÖ•‰æùËµñÈªòËÆ§ÊòØ‰∏çÈúÄË¶ÅÂÜôÁâàÊú¨ÔºõÔºàÊ≤°ÊúâÂú®dependenciesÈáåÈù¢ÁÆ°ÁêÜÁöÑ‰æùËµñËá™ÁÑ∂ÈúÄË¶ÅÂ£∞ÊòéÁâàÊú¨Âè∑Ôºâ 2„ÄÅÂêØÂä®Âô®1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt; spring-boot-starter-==web==Ôºö ‚Äã spring-boot-starterÔºöspring-bootÂú∫ÊôØÂêØÂä®Âô®ÔºõÂ∏ÆÊàë‰ª¨ÂØºÂÖ•‰∫ÜwebÊ®°ÂùóÊ≠£Â∏∏ËøêË°åÊâÄ‰æùËµñÁöÑÁªÑ‰ª∂Ôºõ Spring BootÂ∞ÜÊâÄÊúâÁöÑÂäüËÉΩÂú∫ÊôØÈÉΩÊäΩÂèñÂá∫Êù•ÔºåÂÅöÊàê‰∏Ä‰∏™‰∏™ÁöÑstartersÔºàÂêØÂä®Âô®ÔºâÔºåÂè™ÈúÄË¶ÅÂú®È°πÁõÆÈáåÈù¢ÂºïÂÖ•Ëøô‰∫õstarterÁõ∏ÂÖ≥Âú∫ÊôØÁöÑÊâÄÊúâ‰æùËµñÈÉΩ‰ºöÂØºÂÖ•ËøõÊù•„ÄÇË¶ÅÁî®‰ªÄ‰πàÂäüËÉΩÂ∞±ÂØºÂÖ•‰ªÄ‰πàÂú∫ÊôØÁöÑÂêØÂä®Âô® 2„ÄÅ‰∏ªÁ®ãÂ∫èÁ±ªÔºå‰∏ªÂÖ•Âè£Á±ª123456789101112/** * @SpringBootApplication Êù•Ê†áÊ≥®‰∏Ä‰∏™‰∏ªÁ®ãÂ∫èÁ±ªÔºåËØ¥ÊòéËøôÊòØ‰∏Ä‰∏™Spring BootÂ∫îÁî® */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // SpringÂ∫îÁî®ÂêØÂä®Ëµ∑Êù• SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; @SpringBootApplication: Spring BootÂ∫îÁî®Ê†áÊ≥®Âú®Êüê‰∏™Á±ª‰∏äËØ¥ÊòéËøô‰∏™Á±ªÊòØSpringBootÁöÑ‰∏ªÈÖçÁΩÆÁ±ªÔºåSpringBootÂ∞±Â∫îËØ•ËøêË°åËøô‰∏™Á±ªÁöÑmainÊñπÊ≥ïÊù•ÂêØÂä®SpringBootÂ∫îÁî®Ôºõ 12345678910@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)public @interface SpringBootApplication &#123; @SpringBootConfiguration:Spring BootÁöÑÈÖçÁΩÆÁ±ªÔºõ ‚Äã Ê†áÊ≥®Âú®Êüê‰∏™Á±ª‰∏äÔºåË°®Á§∫ËøôÊòØ‰∏Ä‰∏™Spring BootÁöÑÈÖçÁΩÆÁ±ªÔºõ ‚Äã @Configuration:ÈÖçÁΩÆÁ±ª‰∏äÊù•Ê†áÊ≥®Ëøô‰∏™Ê≥®Ëß£Ôºõ ‚Äã ÈÖçÁΩÆÁ±ª ‚Äî‚Äì ÈÖçÁΩÆÊñá‰ª∂ÔºõÈÖçÁΩÆÁ±ª‰πüÊòØÂÆπÂô®‰∏≠ÁöÑ‰∏Ä‰∏™ÁªÑ‰ª∂Ôºõ@Component @EnableAutoConfigurationÔºöÂºÄÂêØËá™Âä®ÈÖçÁΩÆÂäüËÉΩÔºõ ‚Äã ‰ª•ÂâçÊàë‰ª¨ÈúÄË¶ÅÈÖçÁΩÆÁöÑ‰∏úË•øÔºåSpring BootÂ∏ÆÊàë‰ª¨Ëá™Âä®ÈÖçÁΩÆÔºõ@EnableAutoConfigurationÂëäËØâSpringBootÂºÄÂêØËá™Âä®ÈÖçÁΩÆÂäüËÉΩÔºõËøôÊ†∑Ëá™Âä®ÈÖçÁΩÆÊâçËÉΩÁîüÊïàÔºõ 123@AutoConfigurationPackage@Import(EnableAutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123; ‚Äã @AutoConfigurationPackageÔºöËá™Âä®ÈÖçÁΩÆÂåÖ ‚Äã @Import(AutoConfigurationPackages.Registrar.class)Ôºö ‚Äã SpringÁöÑÂ∫ïÂ±ÇÊ≥®Ëß£@ImportÔºåÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•‰∏Ä‰∏™ÁªÑ‰ª∂ÔºõÂØºÂÖ•ÁöÑÁªÑ‰ª∂Áî±AutoConfigurationPackages.Registrar.classÔºõ ==Â∞Ü‰∏ªÈÖçÁΩÆÁ±ªÔºà@SpringBootApplicationÊ†áÊ≥®ÁöÑÁ±ªÔºâÁöÑÊâÄÂú®ÂåÖÂèä‰∏ãÈù¢ÊâÄÊúâÂ≠êÂåÖÈáåÈù¢ÁöÑÊâÄÊúâÁªÑ‰ª∂Êâ´ÊèèÂà∞SpringÂÆπÂô®Ôºõ== ‚Äã @Import(EnableAutoConfigurationImportSelector.class)Ôºõ ‚Äã ÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•ÁªÑ‰ª∂Ôºü ‚Äã EnableAutoConfigurationImportSelectorÔºöÂØºÂÖ•Âì™‰∫õÁªÑ‰ª∂ÁöÑÈÄâÊã©Âô®Ôºõ ‚Äã Â∞ÜÊâÄÊúâÈúÄË¶ÅÂØºÂÖ•ÁöÑÁªÑ‰ª∂‰ª•ÂÖ®Á±ªÂêçÁöÑÊñπÂºèËøîÂõûÔºõËøô‰∫õÁªÑ‰ª∂Â∞±‰ºöË¢´Ê∑ªÂä†Âà∞ÂÆπÂô®‰∏≠Ôºõ ‚Äã ‰ºöÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•ÈùûÂ∏∏Â§öÁöÑËá™Âä®ÈÖçÁΩÆÁ±ªÔºàxxxAutoConfigurationÔºâÔºõÂ∞±ÊòØÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•Ëøô‰∏™Âú∫ÊôØÈúÄË¶ÅÁöÑÊâÄÊúâÁªÑ‰ª∂ÔºåÂπ∂ÈÖçÁΩÆÂ•ΩËøô‰∫õÁªÑ‰ª∂Ôºõ Êúâ‰∫ÜËá™Âä®ÈÖçÁΩÆÁ±ªÔºåÂÖçÂéª‰∫ÜÊàë‰ª¨ÊâãÂä®ÁºñÂÜôÈÖçÁΩÆÊ≥®ÂÖ•ÂäüËÉΩÁªÑ‰ª∂Á≠âÁöÑÂ∑•‰ΩúÔºõ ‚Äã SpringFactoriesLoader.loadFactoryNames(EnableAutoConfiguration.class,classLoader)Ôºõ ==Spring BootÂú®ÂêØÂä®ÁöÑÊó∂ÂÄô‰ªéÁ±ªË∑ØÂæÑ‰∏ãÁöÑMETA-INF/spring.factories‰∏≠Ëé∑ÂèñEnableAutoConfigurationÊåáÂÆöÁöÑÂÄºÔºåÂ∞ÜËøô‰∫õÂÄº‰Ωú‰∏∫Ëá™Âä®ÈÖçÁΩÆÁ±ªÂØºÂÖ•Âà∞ÂÆπÂô®‰∏≠ÔºåËá™Âä®ÈÖçÁΩÆÁ±ªÂ∞±ÁîüÊïàÔºåÂ∏ÆÊàë‰ª¨ËøõË°åËá™Âä®ÈÖçÁΩÆÂ∑•‰ΩúÔºõ==‰ª•ÂâçÊàë‰ª¨ÈúÄË¶ÅËá™Â∑±ÈÖçÁΩÆÁöÑ‰∏úË•øÔºåËá™Âä®ÈÖçÁΩÆÁ±ªÈÉΩÂ∏ÆÊàë‰ª¨Ôºõ J2EEÁöÑÊï¥‰ΩìÊï¥ÂêàËß£ÂÜ≥ÊñπÊ°àÂíåËá™Âä®ÈÖçÁΩÆÈÉΩÂú®spring-boot-autoconfigure-1.5.9.RELEASE.jarÔºõ ‚Äã ==SpringÊ≥®Ëß£ÁâàÔºàË∞∑Á≤íÂ≠¶Èô¢Ôºâ== 6„ÄÅ‰ΩøÁî®Spring InitializerÂø´ÈÄüÂàõÂª∫Spring BootÈ°πÁõÆ1„ÄÅIDEAÔºö‰ΩøÁî® Spring InitializerÂø´ÈÄüÂàõÂª∫È°πÁõÆIDEÈÉΩÊîØÊåÅ‰ΩøÁî®SpringÁöÑÈ°πÁõÆÂàõÂª∫ÂêëÂØºÂø´ÈÄüÂàõÂª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºõ ÈÄâÊã©Êàë‰ª¨ÈúÄË¶ÅÁöÑÊ®°ÂùóÔºõÂêëÂØº‰ºöËÅîÁΩëÂàõÂª∫Spring BootÈ°πÁõÆÔºõ ÈªòËÆ§ÁîüÊàêÁöÑSpring BootÈ°πÁõÆÔºõ ‰∏ªÁ®ãÂ∫èÂ∑≤ÁªèÁîüÊàêÂ•Ω‰∫ÜÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±ÁöÑÈÄªËæë resourcesÊñá‰ª∂Â§π‰∏≠ÁõÆÂΩïÁªìÊûÑ staticÔºö‰øùÂ≠òÊâÄÊúâÁöÑÈùôÊÄÅËµÑÊ∫êÔºõ js css imagesÔºõ templatesÔºö‰øùÂ≠òÊâÄÊúâÁöÑÊ®°ÊùøÈ°µÈù¢ÔºõÔºàSpring BootÈªòËÆ§jarÂåÖ‰ΩøÁî®ÂµåÂÖ•ÂºèÁöÑTomcatÔºåÈªòËÆ§‰∏çÊîØÊåÅJSPÈ°µÈù¢ÔºâÔºõÂèØ‰ª•‰ΩøÁî®Ê®°ÊùøÂºïÊìéÔºàfreemarker„ÄÅthymeleafÔºâÔºõ application.propertiesÔºöSpring BootÂ∫îÁî®ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºõÂèØ‰ª•‰øÆÊîπ‰∏Ä‰∫õÈªòËÆ§ËÆæÁΩÆÔºõ 2„ÄÅSTS‰ΩøÁî® Spring Starter ProjectÂø´ÈÄüÂàõÂª∫È°πÁõÆ ‰∫å„ÄÅÈÖçÁΩÆÊñá‰ª∂1„ÄÅÈÖçÁΩÆÊñá‰ª∂SpringBoot‰ΩøÁî®‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÈÖçÁΩÆÊñá‰ª∂ÂêçÊòØÂõ∫ÂÆöÁöÑÔºõ ‚Ä¢application.properties ‚Ä¢application.yml ÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩúÁî®Ôºö‰øÆÊîπSpringBootËá™Âä®ÈÖçÁΩÆÁöÑÈªòËÆ§ÂÄºÔºõSpringBootÂú®Â∫ïÂ±ÇÈÉΩÁªôÊàë‰ª¨Ëá™Âä®ÈÖçÁΩÆÂ•ΩÔºõ YAMLÔºàYAML Ain‚Äôt Markup LanguageÔºâ ‚Äã YAML A Markup LanguageÔºöÊòØ‰∏Ä‰∏™Ê†áËÆ∞ËØ≠Ë®Ä ‚Äã YAML isn‚Äôt Markup LanguageÔºö‰∏çÊòØ‰∏Ä‰∏™Ê†áËÆ∞ËØ≠Ë®ÄÔºõ Ê†áËÆ∞ËØ≠Ë®ÄÔºö ‚Äã ‰ª•ÂâçÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºõÂ§ßÂ§öÈÉΩ‰ΩøÁî®ÁöÑÊòØ xxxx.xmlÊñá‰ª∂Ôºõ ‚Äã YAMLÔºö‰ª•Êï∞ÊçÆ‰∏∫‰∏≠ÂøÉÔºåÊØîjson„ÄÅxmlÁ≠âÊõ¥ÈÄÇÂêàÂÅöÈÖçÁΩÆÊñá‰ª∂Ôºõ ‚Äã YAMLÔºöÈÖçÁΩÆ‰æãÂ≠ê 12server: port: 8081 ‚Äã XMLÔºö 123&lt;server&gt; &lt;port&gt;8081&lt;/port&gt;&lt;/server&gt; 2„ÄÅYAMLËØ≠Ê≥ïÔºö1„ÄÅÂü∫Êú¨ËØ≠Ê≥ïk:(Á©∫Ê†º)vÔºöË°®Á§∫‰∏ÄÂØπÈîÆÂÄºÂØπÔºàÁ©∫Ê†ºÂøÖÈ°ªÊúâÔºâÔºõ ‰ª•Á©∫Ê†ºÁöÑÁº©ËøõÊù•ÊéßÂà∂Â±ÇÁ∫ßÂÖ≥Á≥ªÔºõÂè™Ë¶ÅÊòØÂ∑¶ÂØπÈΩêÁöÑ‰∏ÄÂàóÊï∞ÊçÆÔºåÈÉΩÊòØÂêå‰∏Ä‰∏™Â±ÇÁ∫ßÁöÑ 123server: port: 8081 path: /hello Â±ûÊÄßÂíåÂÄº‰πüÊòØÂ§ßÂ∞èÂÜôÊïèÊÑüÔºõ 2„ÄÅÂÄºÁöÑÂÜôÊ≥ïÂ≠óÈù¢ÈáèÔºöÊôÆÈÄöÁöÑÂÄºÔºàÊï∞Â≠óÔºåÂ≠óÁ¨¶‰∏≤ÔºåÂ∏ÉÂ∞îÔºâ‚Äã k: vÔºöÂ≠óÈù¢Áõ¥Êé•Êù•ÂÜôÔºõ ‚Äã Â≠óÁ¨¶‰∏≤ÈªòËÆ§‰∏çÁî®Âä†‰∏äÂçïÂºïÂè∑ÊàñËÄÖÂèåÂºïÂè∑Ôºõ ‚Äã ‚Äú‚ÄùÔºöÂèåÂºïÂè∑Ôºõ‰∏ç‰ºöËΩ¨‰πâÂ≠óÁ¨¶‰∏≤ÈáåÈù¢ÁöÑÁâπÊÆäÂ≠óÁ¨¶ÔºõÁâπÊÆäÂ≠óÁ¨¶‰ºö‰Ωú‰∏∫Êú¨Ë∫´ÊÉ≥Ë°®Á§∫ÁöÑÊÑèÊÄù ‚Äã name: ‚Äúzhangsan \n lisi‚ÄùÔºöËæìÂá∫Ôºõzhangsan Êç¢Ë°å lisi ‚Äã ‚Äò‚ÄôÔºöÂçïÂºïÂè∑Ôºõ‰ºöËΩ¨‰πâÁâπÊÆäÂ≠óÁ¨¶ÔºåÁâπÊÆäÂ≠óÁ¨¶ÊúÄÁªàÂè™ÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆ ‚Äã name: ‚Äòzhangsan \n lisi‚ÄôÔºöËæìÂá∫Ôºõzhangsan \n lisi ÂØπË±°„ÄÅMapÔºàÂ±ûÊÄßÂíåÂÄºÔºâÔºàÈîÆÂÄºÂØπÔºâÔºö‚Äã k: vÔºöÂú®‰∏ã‰∏ÄË°åÊù•ÂÜôÂØπË±°ÁöÑÂ±ûÊÄßÂíåÂÄºÁöÑÂÖ≥Á≥ªÔºõÊ≥®ÊÑèÁº©Ëøõ ‚Äã ÂØπË±°ËøòÊòØk: vÁöÑÊñπÂºè 123friends: lastName: zhangsan age: 20 Ë°åÂÜÖÂÜôÊ≥ïÔºö 1friends: &#123;lastName: zhangsan,age: 18&#125; Êï∞ÁªÑÔºàList„ÄÅSetÔºâÔºöÁî®- ÂÄºË°®Á§∫Êï∞ÁªÑ‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥† 1234pets: - cat - dog - pig Ë°åÂÜÖÂÜôÊ≥ï 1pets: [cat,dog,pig] 3„ÄÅÈÖçÁΩÆÊñá‰ª∂ÂÄºÊ≥®ÂÖ•ÈÖçÁΩÆÊñá‰ª∂ 123456789101112person: lastName: hello age: 18 boss: false birth: 2017/12/12 maps: &#123;k1: v1,k2: 12&#125; lists: - lisi - zhaoliu dog: name: Â∞èÁãó age: 12 javaBeanÔºö 1234567891011121314151617181920/** * Â∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÁöÑÊØè‰∏Ä‰∏™Â±ûÊÄßÁöÑÂÄºÔºåÊò†Â∞ÑÂà∞Ëøô‰∏™ÁªÑ‰ª∂‰∏≠ * @ConfigurationPropertiesÔºöÂëäËØâSpringBootÂ∞ÜÊú¨Á±ª‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßÂíåÈÖçÁΩÆÊñá‰ª∂‰∏≠Áõ∏ÂÖ≥ÁöÑÈÖçÁΩÆËøõË°åÁªëÂÆöÔºõ * prefix = "person"ÔºöÈÖçÁΩÆÊñá‰ª∂‰∏≠Âì™‰∏™‰∏ãÈù¢ÁöÑÊâÄÊúâÂ±ûÊÄßËøõË°å‰∏Ä‰∏ÄÊò†Â∞Ñ * * Âè™ÊúâËøô‰∏™ÁªÑ‰ª∂ÊòØÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂ÔºåÊâçËÉΩÂÆπÂô®Êèê‰æõÁöÑ@ConfigurationPropertiesÂäüËÉΩÔºõ * */@Component@ConfigurationProperties(prefix = "person")public class Person &#123; private String lastName; private Integer age; private Boolean boss; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; Êàë‰ª¨ÂèØ‰ª•ÂØºÂÖ•ÈÖçÁΩÆÊñá‰ª∂Â§ÑÁêÜÂô®Ôºå‰ª•ÂêéÁºñÂÜôÈÖçÁΩÆÂ∞±ÊúâÊèêÁ§∫‰∫Ü 123456&lt;!--ÂØºÂÖ•ÈÖçÁΩÆÊñá‰ª∂Â§ÑÁêÜÂô®ÔºåÈÖçÁΩÆÊñá‰ª∂ËøõË°åÁªëÂÆöÂ∞±‰ºöÊúâÊèêÁ§∫--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; 1„ÄÅpropertiesÈÖçÁΩÆÊñá‰ª∂Âú®idea‰∏≠ÈªòËÆ§utf-8ÂèØËÉΩ‰ºö‰π±Á†ÅË∞ÉÊï¥ 2„ÄÅ@ValueËé∑ÂèñÂÄºÂíå@ConfigurationPropertiesËé∑ÂèñÂÄºÊØîËæÉ @ConfigurationProperties @Value ÂäüËÉΩ ÊâπÈáèÊ≥®ÂÖ•ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂ±ûÊÄß ‰∏Ä‰∏™‰∏™ÊåáÂÆö ÊùæÊï£ÁªëÂÆöÔºàÊùæÊï£ËØ≠Ê≥ïÔºâ ÊîØÊåÅ ‰∏çÊîØÊåÅ SpEL ‰∏çÊîØÊåÅ ÊîØÊåÅ JSR303Êï∞ÊçÆÊ†°È™å ÊîØÊåÅ ‰∏çÊîØÊåÅ Â§çÊùÇÁ±ªÂûãÂ∞ÅË£Ö ÊîØÊåÅ ‰∏çÊîØÊåÅ ÈÖçÁΩÆÊñá‰ª∂ymlËøòÊòØproperties‰ªñ‰ª¨ÈÉΩËÉΩËé∑ÂèñÂà∞ÂÄºÔºõ Â¶ÇÊûúËØ¥ÔºåÊàë‰ª¨Âè™ÊòØÂú®Êüê‰∏™‰∏öÂä°ÈÄªËæë‰∏≠ÈúÄË¶ÅËé∑Âèñ‰∏Ä‰∏ãÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊüêÈ°πÂÄºÔºå‰ΩøÁî®@ValueÔºõ Â¶ÇÊûúËØ¥ÔºåÊàë‰ª¨‰∏ìÈó®ÁºñÂÜô‰∫Ü‰∏Ä‰∏™javaBeanÊù•ÂíåÈÖçÁΩÆÊñá‰ª∂ËøõË°åÊò†Â∞ÑÔºåÊàë‰ª¨Â∞±Áõ¥Êé•‰ΩøÁî®@ConfigurationPropertiesÔºõ 3„ÄÅÈÖçÁΩÆÊñá‰ª∂Ê≥®ÂÖ•ÂÄºÊï∞ÊçÆÊ†°È™å123456789101112131415161718192021222324@Component@ConfigurationProperties(prefix = "person")@Validatedpublic class Person &#123; /** * &lt;bean class="Person"&gt; * &lt;property name="lastName" value="Â≠óÈù¢Èáè/$&#123;key&#125;‰ªéÁéØÂ¢ÉÂèòÈáè„ÄÅÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÂÄº/#&#123;SpEL&#125;"&gt;&lt;/property&gt; * &lt;bean/&gt; */ //lastNameÂøÖÈ°ªÊòØÈÇÆÁÆ±Ê†ºÂºè @Email //@Value("$&#123;person.last-name&#125;") private String lastName; //@Value("#&#123;11*2&#125;") private Integer age; //@Value("true") private Boolean boss; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog; 4„ÄÅ@PropertySource&amp;@ImportResource&amp;@Bean@PropertySourceÔºöÂä†ËΩΩÊåáÂÆöÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºõ 1234567891011121314151617181920212223242526272829/** * Â∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÁöÑÊØè‰∏Ä‰∏™Â±ûÊÄßÁöÑÂÄºÔºåÊò†Â∞ÑÂà∞Ëøô‰∏™ÁªÑ‰ª∂‰∏≠ * @ConfigurationPropertiesÔºöÂëäËØâSpringBootÂ∞ÜÊú¨Á±ª‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßÂíåÈÖçÁΩÆÊñá‰ª∂‰∏≠Áõ∏ÂÖ≥ÁöÑÈÖçÁΩÆËøõË°åÁªëÂÆöÔºõ * prefix = "person"ÔºöÈÖçÁΩÆÊñá‰ª∂‰∏≠Âì™‰∏™‰∏ãÈù¢ÁöÑÊâÄÊúâÂ±ûÊÄßËøõË°å‰∏Ä‰∏ÄÊò†Â∞Ñ * * Âè™ÊúâËøô‰∏™ÁªÑ‰ª∂ÊòØÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂ÔºåÊâçËÉΩÂÆπÂô®Êèê‰æõÁöÑ@ConfigurationPropertiesÂäüËÉΩÔºõ * @ConfigurationProperties(prefix = "person")ÈªòËÆ§‰ªéÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÂÄºÔºõ * */@PropertySource(value = &#123;"classpath:person.properties"&#125;)@Component@ConfigurationProperties(prefix = "person")//@Validatedpublic class Person &#123; /** * &lt;bean class="Person"&gt; * &lt;property name="lastName" value="Â≠óÈù¢Èáè/$&#123;key&#125;‰ªéÁéØÂ¢ÉÂèòÈáè„ÄÅÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÂÄº/#&#123;SpEL&#125;"&gt;&lt;/property&gt; * &lt;bean/&gt; */ //lastNameÂøÖÈ°ªÊòØÈÇÆÁÆ±Ê†ºÂºè // @Email //@Value("$&#123;person.last-name&#125;") private String lastName; //@Value("#&#123;11*2&#125;") private Integer age; //@Value("true") private Boolean boss; @ImportResourceÔºöÂØºÂÖ•SpringÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåËÆ©ÈÖçÁΩÆÊñá‰ª∂ÈáåÈù¢ÁöÑÂÜÖÂÆπÁîüÊïàÔºõ Spring BootÈáåÈù¢Ê≤°ÊúâSpringÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÊàë‰ª¨Ëá™Â∑±ÁºñÂÜôÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºå‰πü‰∏çËÉΩËá™Âä®ËØÜÂà´Ôºõ ÊÉ≥ËÆ©SpringÁöÑÈÖçÁΩÆÊñá‰ª∂ÁîüÊïàÔºåÂä†ËΩΩËøõÊù•Ôºõ@ImportResourceÊ†áÊ≥®Âú®‰∏Ä‰∏™ÈÖçÁΩÆÁ±ª‰∏ä 12@ImportResource(locations = &#123;"classpath:beans.xml"&#125;)ÂØºÂÖ•SpringÁöÑÈÖçÁΩÆÊñá‰ª∂ËÆ©ÂÖ∂ÁîüÊïà ‰∏çÊù•ÁºñÂÜôSpringÁöÑÈÖçÁΩÆÊñá‰ª∂ 12345678&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;bean id="helloService" class="com.atguigu.springboot.service.HelloService"&gt;&lt;/bean&gt;&lt;/beans&gt; SpringBootÊé®ËçêÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ÁöÑÊñπÂºèÔºõÊé®Ëçê‰ΩøÁî®ÂÖ®Ê≥®Ëß£ÁöÑÊñπÂºè 1„ÄÅÈÖçÁΩÆÁ±ª@Configuration‚Äî‚Äî&gt;SpringÈÖçÁΩÆÊñá‰ª∂ 2„ÄÅ‰ΩøÁî®@BeanÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ 12345678910111213141516/** * @ConfigurationÔºöÊåáÊòéÂΩìÂâçÁ±ªÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºõÂ∞±ÊòØÊù•Êõø‰ª£‰πãÂâçÁöÑSpringÈÖçÁΩÆÊñá‰ª∂ * * Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Áî®&lt;bean&gt;&lt;bean/&gt;Ê†áÁ≠æÊ∑ªÂä†ÁªÑ‰ª∂ * */@Configurationpublic class MyAppConfig &#123; //Â∞ÜÊñπÊ≥ïÁöÑËøîÂõûÂÄºÊ∑ªÂä†Âà∞ÂÆπÂô®‰∏≠ÔºõÂÆπÂô®‰∏≠Ëøô‰∏™ÁªÑ‰ª∂ÈªòËÆ§ÁöÑidÂ∞±ÊòØÊñπÊ≥ïÂêç @Bean public HelloService helloService02()&#123; System.out.println("ÈÖçÁΩÆÁ±ª@BeanÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂‰∫Ü..."); return new HelloService(); &#125;&#125; ##4„ÄÅÈÖçÁΩÆÊñá‰ª∂Âç†‰ΩçÁ¨¶ 1„ÄÅÈöèÊú∫Êï∞12$&#123;random.value&#125;„ÄÅ$&#123;random.int&#125;„ÄÅ$&#123;random.long&#125;$&#123;random.int(10)&#125;„ÄÅ$&#123;random.int[1024,65536]&#125; 2„ÄÅÂç†‰ΩçÁ¨¶Ëé∑Âèñ‰πãÂâçÈÖçÁΩÆÁöÑÂÄºÔºåÂ¶ÇÊûúÊ≤°ÊúâÂèØ‰ª•ÊòØÁî®:ÊåáÂÆöÈªòËÆ§ÂÄº123456789person.last-name=Âº†‰∏â$&#123;random.uuid&#125;person.age=$&#123;random.int&#125;person.birth=2017/12/15person.boss=falseperson.maps.k1=v1person.maps.k2=14person.lists=a,b,cperson.dog.name=$&#123;person.hello:hello&#125;_dogperson.dog.age=15 5„ÄÅProfile1„ÄÅÂ§öProfileÊñá‰ª∂Êàë‰ª¨Âú®‰∏ªÈÖçÁΩÆÊñá‰ª∂ÁºñÂÜôÁöÑÊó∂ÂÄôÔºåÊñá‰ª∂ÂêçÂèØ‰ª•ÊòØ application-{profile}.properties/yml ÈªòËÆ§‰ΩøÁî®application.propertiesÁöÑÈÖçÁΩÆÔºõ 2„ÄÅymlÊîØÊåÅÂ§öÊñáÊ°£ÂùóÊñπÂºè1234567891011121314151617181920server: port: 8081spring: profiles: active: prod---server: port: 8083spring: profiles: dev---server: port: 8084spring: profiles: prod #ÊåáÂÆöÂ±û‰∫éÂì™‰∏™ÁéØÂ¢É 3„ÄÅÊøÄÊ¥ªÊåáÂÆöprofile‚Äã 1„ÄÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆö spring.profiles.active=dev ‚Äã 2„ÄÅÂëΩ‰ª§Ë°åÔºö ‚Äã java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar ‚Äìspring.profiles.active=devÔºõ ‚Äã ÂèØ‰ª•Áõ¥Êé•Âú®ÊµãËØïÁöÑÊó∂ÂÄôÔºåÈÖçÁΩÆ‰º†ÂÖ•ÂëΩ‰ª§Ë°åÂèÇÊï∞ ‚Äã 3„ÄÅËôöÊãüÊú∫ÂèÇÊï∞Ôºõ ‚Äã -Dspring.profiles.active=dev 6„ÄÅÈÖçÁΩÆÊñá‰ª∂Âä†ËΩΩ‰ΩçÁΩÆspringboot ÂêØÂä®‰ºöÊâ´Êèè‰ª•‰∏ã‰ΩçÁΩÆÁöÑapplication.propertiesÊàñËÄÖapplication.ymlÊñá‰ª∂‰Ωú‰∏∫Spring bootÁöÑÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂ ‚Äìfile:./config/ ‚Äìfile:./ ‚Äìclasspath:/config/ ‚Äìclasspath:/ ‰ºòÂÖàÁ∫ßÁî±È´òÂà∞Â∫ïÔºåÈ´ò‰ºòÂÖàÁ∫ßÁöÑÈÖçÁΩÆ‰ºöË¶ÜÁõñ‰Ωé‰ºòÂÖàÁ∫ßÁöÑÈÖçÁΩÆÔºõ SpringBoot‰ºö‰ªéËøôÂõõ‰∏™‰ΩçÁΩÆÂÖ®ÈÉ®Âä†ËΩΩ‰∏ªÈÖçÁΩÆÊñá‰ª∂Ôºõ‰∫íË°•ÈÖçÁΩÆÔºõ ==Êàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáspring.config.locationÊù•ÊîπÂèòÈªòËÆ§ÁöÑÈÖçÁΩÆÊñá‰ª∂‰ΩçÁΩÆ== È°πÁõÆÊâìÂåÖÂ•Ω‰ª•ÂêéÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÂΩ¢ÂºèÔºåÂêØÂä®È°πÁõÆÁöÑÊó∂ÂÄôÊù•ÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ÁöÑÊñ∞‰ΩçÁΩÆÔºõÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ÂíåÈªòËÆ§Âä†ËΩΩÁöÑËøô‰∫õÈÖçÁΩÆÊñá‰ª∂ÂÖ±ÂêåËµ∑‰ΩúÁî®ÂΩ¢Êàê‰∫íË°•ÈÖçÁΩÆÔºõ java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar ‚Äìspring.config.location=G:/application.properties 7„ÄÅÂ§ñÈÉ®ÈÖçÁΩÆÂä†ËΩΩÈ°∫Â∫è==SpringBoot‰πüÂèØ‰ª•‰ªé‰ª•‰∏ã‰ΩçÁΩÆÂä†ËΩΩÈÖçÁΩÆÔºõ ‰ºòÂÖàÁ∫ß‰ªéÈ´òÂà∞‰ΩéÔºõÈ´ò‰ºòÂÖàÁ∫ßÁöÑÈÖçÁΩÆË¶ÜÁõñ‰Ωé‰ºòÂÖàÁ∫ßÁöÑÈÖçÁΩÆÔºåÊâÄÊúâÁöÑÈÖçÁΩÆ‰ºöÂΩ¢Êàê‰∫íË°•ÈÖçÁΩÆ== 1.ÂëΩ‰ª§Ë°åÂèÇÊï∞ ÊâÄÊúâÁöÑÈÖçÁΩÆÈÉΩÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°å‰∏äËøõË°åÊåáÂÆö java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar ‚Äìserver.port=8087 ‚Äìserver.context-path=/abc Â§ö‰∏™ÈÖçÁΩÆÁî®Á©∫Ê†ºÂàÜÂºÄÔºõ ‚ÄìÈÖçÁΩÆÈ°π=ÂÄº 2.Êù•Ëá™java:comp/envÁöÑJNDIÂ±ûÊÄß 3.JavaÁ≥ªÁªüÂ±ûÊÄßÔºàSystem.getProperties()Ôºâ 4.Êìç‰ΩúÁ≥ªÁªüÁéØÂ¢ÉÂèòÈáè 5.RandomValuePropertySourceÈÖçÁΩÆÁöÑrandom.*Â±ûÊÄßÂÄº ==Áî±jarÂåÖÂ§ñÂêëjarÂåÖÂÜÖËøõË°åÂØªÊâæÔºõ== ==‰ºòÂÖàÂä†ËΩΩÂ∏¶profile== 6.jarÂåÖÂ§ñÈÉ®ÁöÑapplication-{profile}.propertiesÊàñapplication.yml(Â∏¶spring.profile)ÈÖçÁΩÆÊñá‰ª∂ 7.jarÂåÖÂÜÖÈÉ®ÁöÑapplication-{profile}.propertiesÊàñapplication.yml(Â∏¶spring.profile)ÈÖçÁΩÆÊñá‰ª∂ ==ÂÜçÊù•Âä†ËΩΩ‰∏çÂ∏¶profile== 8.jarÂåÖÂ§ñÈÉ®ÁöÑapplication.propertiesÊàñapplication.yml(‰∏çÂ∏¶spring.profile)ÈÖçÁΩÆÊñá‰ª∂ 9.jarÂåÖÂÜÖÈÉ®ÁöÑapplication.propertiesÊàñapplication.yml(‰∏çÂ∏¶spring.profile)ÈÖçÁΩÆÊñá‰ª∂ 10.@ConfigurationÊ≥®Ëß£Á±ª‰∏äÁöÑ@PropertySource 11.ÈÄöËøáSpringApplication.setDefaultPropertiesÊåáÂÆöÁöÑÈªòËÆ§Â±ûÊÄß ÊâÄÊúâÊîØÊåÅÁöÑÈÖçÁΩÆÂä†ËΩΩÊù•Ê∫êÔºõ ÂèÇËÄÉÂÆòÊñπÊñáÊ°£ 8„ÄÅËá™Âä®ÈÖçÁΩÆÂéüÁêÜÈÖçÁΩÆÊñá‰ª∂Âà∞Â∫ïËÉΩÂÜô‰ªÄ‰πàÔºüÊÄé‰πàÂÜôÔºüËá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºõ ÈÖçÁΩÆÊñá‰ª∂ËÉΩÈÖçÁΩÆÁöÑÂ±ûÊÄßÂèÇÁÖß 1„ÄÅËá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºö1Ôºâ„ÄÅSpringBootÂêØÂä®ÁöÑÊó∂ÂÄôÂä†ËΩΩ‰∏ªÈÖçÁΩÆÁ±ªÔºåÂºÄÂêØ‰∫ÜËá™Âä®ÈÖçÁΩÆÂäüËÉΩ ==@EnableAutoConfiguration== 2Ôºâ„ÄÅ@EnableAutoConfiguration ‰ΩúÁî®Ôºö Âà©Áî®EnableAutoConfigurationImportSelectorÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•‰∏Ä‰∫õÁªÑ‰ª∂Ôºü ÂèØ‰ª•Êü•ÁúãselectImports()ÊñπÊ≥ïÁöÑÂÜÖÂÆπÔºõ List configurations = getCandidateConfigurations(annotationMetadata, attributes);Ëé∑ÂèñÂÄôÈÄâÁöÑÈÖçÁΩÆ 1234SpringFactoriesLoader.loadFactoryNames()Êâ´ÊèèÊâÄÊúâjarÂåÖÁ±ªË∑ØÂæÑ‰∏ã META-INF/spring.factoriesÊääÊâ´ÊèèÂà∞ÁöÑËøô‰∫õÊñá‰ª∂ÁöÑÂÜÖÂÆπÂåÖË£ÖÊàêpropertiesÂØπË±°‰ªéproperties‰∏≠Ëé∑ÂèñÂà∞EnableAutoConfiguration.classÁ±ªÔºàÁ±ªÂêçÔºâÂØπÂ∫îÁöÑÂÄºÔºåÁÑ∂ÂêéÊää‰ªñ‰ª¨Ê∑ªÂä†Âú®ÂÆπÂô®‰∏≠ ==Â∞Ü Á±ªË∑ØÂæÑ‰∏ã META-INF/spring.factories ÈáåÈù¢ÈÖçÁΩÆÁöÑÊâÄÊúâEnableAutoConfigurationÁöÑÂÄºÂä†ÂÖ•Âà∞‰∫ÜÂÆπÂô®‰∏≠Ôºõ== 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798# Auto Configureorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.ldap.LdapDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\org.springframework.boot.autoconfigure.elasticsearch.jest.JestAutoConfiguration,\org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.DeviceResolverAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.DeviceDelegatingViewResolverAutoConfiguration,\org.springframework.boot.autoconfigure.mobile.SitePreferenceAutoConfiguration,\org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\org.springframework.boot.autoconfigure.reactor.ReactorAutoConfiguration,\org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,\org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,\org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,\org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration,\org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\org.springframework.boot.autoconfigure.social.SocialWebAutoConfiguration,\org.springframework.boot.autoconfigure.social.FacebookAutoConfiguration,\org.springframework.boot.autoconfigure.social.LinkedInAutoConfiguration,\org.springframework.boot.autoconfigure.social.TwitterAutoConfiguration,\org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration,\org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration,\org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration,\org.springframework.boot.autoconfigure.web.HttpEncodingAutoConfiguration,\org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration,\org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration,\org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration,\org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration,\org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration,\org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration,\org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration,\org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration ÊØè‰∏Ä‰∏™ËøôÊ†∑ÁöÑ xxxAutoConfigurationÁ±ªÈÉΩÊòØÂÆπÂô®‰∏≠ÁöÑ‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåÈÉΩÂä†ÂÖ•Âà∞ÂÆπÂô®‰∏≠ÔºõÁî®‰ªñ‰ª¨Êù•ÂÅöËá™Âä®ÈÖçÁΩÆÔºõ 3Ôºâ„ÄÅÊØè‰∏Ä‰∏™Ëá™Âä®ÈÖçÁΩÆÁ±ªËøõË°åËá™Âä®ÈÖçÁΩÆÂäüËÉΩÔºõ 4Ôºâ„ÄÅ‰ª•HttpEncodingAutoConfigurationÔºàHttpÁºñÁ†ÅËá™Âä®ÈÖçÁΩÆÔºâ‰∏∫‰æãËß£ÈáäËá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºõ 12345678910111213141516171819202122232425262728@Configuration //Ë°®Á§∫ËøôÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºå‰ª•ÂâçÁºñÂÜôÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏ÄÊ†∑Ôºå‰πüÂèØ‰ª•ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂@EnableConfigurationProperties(HttpEncodingProperties.class) //ÂêØÂä®ÊåáÂÆöÁ±ªÁöÑConfigurationPropertiesÂäüËÉΩÔºõÂ∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂØπÂ∫îÁöÑÂÄºÂíåHttpEncodingPropertiesÁªëÂÆöËµ∑Êù•ÔºõÂπ∂ÊääHttpEncodingPropertiesÂä†ÂÖ•Âà∞iocÂÆπÂô®‰∏≠@ConditionalOnWebApplication //SpringÂ∫ïÂ±Ç@ConditionalÊ≥®Ëß£ÔºàSpringÊ≥®Ëß£ÁâàÔºâÔºåÊ†πÊçÆ‰∏çÂêåÁöÑÊù°‰ª∂ÔºåÂ¶ÇÊûúÊª°Ë∂≥ÊåáÂÆöÁöÑÊù°‰ª∂ÔºåÊï¥‰∏™ÈÖçÁΩÆÁ±ªÈáåÈù¢ÁöÑÈÖçÁΩÆÂ∞±‰ºöÁîüÊïàÔºõ Âà§Êñ≠ÂΩìÂâçÂ∫îÁî®ÊòØÂê¶ÊòØwebÂ∫îÁî®ÔºåÂ¶ÇÊûúÊòØÔºåÂΩìÂâçÈÖçÁΩÆÁ±ªÁîüÊïà@ConditionalOnClass(CharacterEncodingFilter.class) //Âà§Êñ≠ÂΩìÂâçÈ°πÁõÆÊúâÊ≤°ÊúâËøô‰∏™Á±ªCharacterEncodingFilterÔºõSpringMVC‰∏≠ËøõË°å‰π±Á†ÅËß£ÂÜ≥ÁöÑËøáÊª§Âô®Ôºõ@ConditionalOnProperty(prefix = "spring.http.encoding", value = "enabled", matchIfMissing = true) //Âà§Êñ≠ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊòØÂê¶Â≠òÂú®Êüê‰∏™ÈÖçÁΩÆ spring.http.encoding.enabledÔºõÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂà§Êñ≠‰πüÊòØÊàêÁ´ãÁöÑ//Âç≥‰ΩøÊàë‰ª¨ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰∏çÈÖçÁΩÆpring.http.encoding.enabled=trueÔºå‰πüÊòØÈªòËÆ§ÁîüÊïàÁöÑÔºõpublic class HttpEncodingAutoConfiguration &#123; //‰ªñÂ∑≤ÁªèÂíåSpringBootÁöÑÈÖçÁΩÆÊñá‰ª∂Êò†Â∞Ñ‰∫Ü private final HttpEncodingProperties properties; //Âè™Êúâ‰∏Ä‰∏™ÊúâÂèÇÊûÑÈÄ†Âô®ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèÇÊï∞ÁöÑÂÄºÂ∞±‰ºö‰ªéÂÆπÂô®‰∏≠Êãø public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) &#123; this.properties = properties; &#125; @Bean //ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåËøô‰∏™ÁªÑ‰ª∂ÁöÑÊüê‰∫õÂÄºÈúÄË¶Å‰ªéproperties‰∏≠Ëé∑Âèñ @ConditionalOnMissingBean(CharacterEncodingFilter.class) //Âà§Êñ≠ÂÆπÂô®Ê≤°ÊúâËøô‰∏™ÁªÑ‰ª∂Ôºü public CharacterEncodingFilter characterEncodingFilter() &#123; CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter(); filter.setEncoding(this.properties.getCharset().name()); filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST)); filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE)); return filter; &#125; Ê†πÊçÆÂΩìÂâç‰∏çÂêåÁöÑÊù°‰ª∂Âà§Êñ≠ÔºåÂÜ≥ÂÆöËøô‰∏™ÈÖçÁΩÆÁ±ªÊòØÂê¶ÁîüÊïàÔºü ‰∏Ä‰ΩÜËøô‰∏™ÈÖçÁΩÆÁ±ªÁîüÊïàÔºõËøô‰∏™ÈÖçÁΩÆÁ±ªÂ∞±‰ºöÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÂêÑÁßçÁªÑ‰ª∂ÔºõËøô‰∫õÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÊòØ‰ªéÂØπÂ∫îÁöÑpropertiesÁ±ª‰∏≠Ëé∑ÂèñÁöÑÔºåËøô‰∫õÁ±ªÈáåÈù¢ÁöÑÊØè‰∏Ä‰∏™Â±ûÊÄßÂèàÊòØÂíåÈÖçÁΩÆÊñá‰ª∂ÁªëÂÆöÁöÑÔºõ 5Ôºâ„ÄÅÊâÄÊúâÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ËÉΩÈÖçÁΩÆÁöÑÂ±ûÊÄßÈÉΩÊòØÂú®xxxxPropertiesÁ±ª‰∏≠Â∞ÅË£ÖËÄÖ‚ÄòÔºõÈÖçÁΩÆÊñá‰ª∂ËÉΩÈÖçÁΩÆ‰ªÄ‰πàÂ∞±ÂèØ‰ª•ÂèÇÁÖßÊüê‰∏™ÂäüËÉΩÂØπÂ∫îÁöÑËøô‰∏™Â±ûÊÄßÁ±ª 1234@ConfigurationProperties(prefix = "spring.http.encoding") //‰ªéÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÊåáÂÆöÁöÑÂÄºÂíåbeanÁöÑÂ±ûÊÄßËøõË°åÁªëÂÆöpublic class HttpEncodingProperties &#123; public static final Charset DEFAULT_CHARSET = Charset.forName("UTF-8"); Á≤æÈ´ìÔºö ‚Äã 1Ôºâ„ÄÅSpringBootÂêØÂä®‰ºöÂä†ËΩΩÂ§ßÈáèÁöÑËá™Âä®ÈÖçÁΩÆÁ±ª ‚Äã 2Ôºâ„ÄÅÊàë‰ª¨ÁúãÊàë‰ª¨ÈúÄË¶ÅÁöÑÂäüËÉΩÊúâÊ≤°ÊúâSpringBootÈªòËÆ§ÂÜôÂ•ΩÁöÑËá™Âä®ÈÖçÁΩÆÁ±ªÔºõ ‚Äã 3Ôºâ„ÄÅÊàë‰ª¨ÂÜçÊù•ÁúãËøô‰∏™Ëá™Âä®ÈÖçÁΩÆÁ±ª‰∏≠Âà∞Â∫ïÈÖçÁΩÆ‰∫ÜÂì™‰∫õÁªÑ‰ª∂ÔºõÔºàÂè™Ë¶ÅÊàë‰ª¨Ë¶ÅÁî®ÁöÑÁªÑ‰ª∂ÊúâÔºåÊàë‰ª¨Â∞±‰∏çÈúÄË¶ÅÂÜçÊù•ÈÖçÁΩÆ‰∫ÜÔºâ ‚Äã 4Ôºâ„ÄÅÁªôÂÆπÂô®‰∏≠Ëá™Âä®ÈÖçÁΩÆÁ±ªÊ∑ªÂä†ÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºå‰ºö‰ªépropertiesÁ±ª‰∏≠Ëé∑ÂèñÊüê‰∫õÂ±ûÊÄß„ÄÇÊàë‰ª¨Â∞±ÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆöËøô‰∫õÂ±ûÊÄßÁöÑÂÄºÔºõ xxxxAutoConfigurartionÔºöËá™Âä®ÈÖçÁΩÆÁ±ªÔºõ ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ xxxxProperties:Â∞ÅË£ÖÈÖçÁΩÆÊñá‰ª∂‰∏≠Áõ∏ÂÖ≥Â±ûÊÄßÔºõ 2„ÄÅÁªÜËäÇ1„ÄÅ@ConditionalÊ¥æÁîüÊ≥®Ëß£ÔºàSpringÊ≥®Ëß£ÁâàÂéüÁîüÁöÑ@Conditional‰ΩúÁî®Ôºâ‰ΩúÁî®ÔºöÂøÖÈ°ªÊòØ@ConditionalÊåáÂÆöÁöÑÊù°‰ª∂ÊàêÁ´ãÔºåÊâçÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ÔºåÈÖçÁΩÆÈÖçÈáåÈù¢ÁöÑÊâÄÊúâÂÜÖÂÆπÊâçÁîüÊïàÔºõ @ConditionalÊâ©Â±ïÊ≥®Ëß£ ‰ΩúÁî®ÔºàÂà§Êñ≠ÊòØÂê¶Êª°Ë∂≥ÂΩìÂâçÊåáÂÆöÊù°‰ª∂Ôºâ @ConditionalOnJava Á≥ªÁªüÁöÑjavaÁâàÊú¨ÊòØÂê¶Á¨¶ÂêàË¶ÅÊ±Ç @ConditionalOnBean ÂÆπÂô®‰∏≠Â≠òÂú®ÊåáÂÆöBeanÔºõ @ConditionalOnMissingBean ÂÆπÂô®‰∏≠‰∏çÂ≠òÂú®ÊåáÂÆöBeanÔºõ @ConditionalOnExpression Êª°Ë∂≥SpELË°®ËææÂºèÊåáÂÆö @ConditionalOnClass Á≥ªÁªü‰∏≠ÊúâÊåáÂÆöÁöÑÁ±ª @ConditionalOnMissingClass Á≥ªÁªü‰∏≠Ê≤°ÊúâÊåáÂÆöÁöÑÁ±ª @ConditionalOnSingleCandidate ÂÆπÂô®‰∏≠Âè™Êúâ‰∏Ä‰∏™ÊåáÂÆöÁöÑBeanÔºåÊàñËÄÖËøô‰∏™BeanÊòØÈ¶ñÈÄâBean @ConditionalOnProperty Á≥ªÁªü‰∏≠ÊåáÂÆöÁöÑÂ±ûÊÄßÊòØÂê¶ÊúâÊåáÂÆöÁöÑÂÄº @ConditionalOnResource Á±ªË∑ØÂæÑ‰∏ãÊòØÂê¶Â≠òÂú®ÊåáÂÆöËµÑÊ∫êÊñá‰ª∂ @ConditionalOnWebApplication ÂΩìÂâçÊòØwebÁéØÂ¢É @ConditionalOnNotWebApplication ÂΩìÂâç‰∏çÊòØwebÁéØÂ¢É @ConditionalOnJndi JNDIÂ≠òÂú®ÊåáÂÆöÈ°π Ëá™Âä®ÈÖçÁΩÆÁ±ªÂøÖÈ°ªÂú®‰∏ÄÂÆöÁöÑÊù°‰ª∂‰∏ãÊâçËÉΩÁîüÊïàÔºõ Êàë‰ª¨ÊÄé‰πàÁü•ÈÅìÂì™‰∫õËá™Âä®ÈÖçÁΩÆÁ±ªÁîüÊïàÔºõ ==Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂêØÁî® debug=trueÂ±ûÊÄßÔºõÊù•ËÆ©ÊéßÂà∂Âè∞ÊâìÂç∞Ëá™Âä®ÈÖçÁΩÆÊä•Âëä==ÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÁü•ÈÅìÂì™‰∫õËá™Âä®ÈÖçÁΩÆÁ±ªÁîüÊïàÔºõ 1234567891011121314151617181920212223=========================AUTO-CONFIGURATION REPORT=========================Positive matches:ÔºàËá™Âä®ÈÖçÁΩÆÁ±ªÂêØÁî®ÁöÑÔºâ----------------- DispatcherServletAutoConfiguration matched: - @ConditionalOnClass found required class 'org.springframework.web.servlet.DispatcherServlet'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition) - @ConditionalOnWebApplication (required) found StandardServletEnvironment (OnWebApplicationCondition) Negative matches:ÔºàÊ≤°ÊúâÂêØÂä®ÔºåÊ≤°ÊúâÂåπÈÖçÊàêÂäüÁöÑËá™Âä®ÈÖçÁΩÆÁ±ªÔºâ----------------- ActiveMQAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes 'javax.jms.ConnectionFactory', 'org.apache.activemq.ActiveMQConnectionFactory' (OnClassCondition) AopAutoConfiguration: Did not match: - @ConditionalOnClass did not find required classes 'org.aspectj.lang.annotation.Aspect', 'org.aspectj.lang.reflect.Advice' (OnClassCondition) ‰∏â„ÄÅÊó•Âøó1„ÄÅÊó•ÂøóÊ°ÜÊû∂ Â∞èÂº†ÔºõÂºÄÂèë‰∏Ä‰∏™Â§ßÂûãÁ≥ªÁªüÔºõ ‚Äã 1„ÄÅSystem.out.println(‚Äú‚Äù)ÔºõÂ∞ÜÂÖ≥ÈîÆÊï∞ÊçÆÊâìÂç∞Âú®ÊéßÂà∂Âè∞ÔºõÂéªÊéâÔºüÂÜôÂú®‰∏Ä‰∏™Êñá‰ª∂Ôºü ‚Äã 2„ÄÅÊ°ÜÊû∂Êù•ËÆ∞ÂΩïÁ≥ªÁªüÁöÑ‰∏Ä‰∫õËøêË°åÊó∂‰ø°ÊÅØÔºõÊó•ÂøóÊ°ÜÊû∂ Ôºõ zhanglogging.jarÔºõ ‚Äã 3„ÄÅÈ´òÂ§ß‰∏äÁöÑÂá†‰∏™ÂäüËÉΩÔºüÂºÇÊ≠•Ê®°ÂºèÔºüËá™Âä®ÂΩíÊ°£ÔºüxxxxÔºü zhanglogging-good.jarÔºü ‚Äã 4„ÄÅÂ∞Ü‰ª•ÂâçÊ°ÜÊû∂Âç∏‰∏ãÊù•ÔºüÊç¢‰∏äÊñ∞ÁöÑÊ°ÜÊû∂ÔºåÈáçÊñ∞‰øÆÊîπ‰πãÂâçÁõ∏ÂÖ≥ÁöÑAPIÔºõzhanglogging-prefect.jarÔºõ ‚Äã 5„ÄÅJDBC‚ÄîÊï∞ÊçÆÂ∫ìÈ©±Âä®Ôºõ ‚Äã ÂÜô‰∫Ü‰∏Ä‰∏™Áªü‰∏ÄÁöÑÊé•Âè£Â±ÇÔºõÊó•ÂøóÈó®Èù¢ÔºàÊó•ÂøóÁöÑ‰∏Ä‰∏™ÊäΩË±°Â±ÇÔºâÔºõlogging-abstract.jarÔºõ ‚Äã ÁªôÈ°πÁõÆ‰∏≠ÂØºÂÖ•ÂÖ∑‰ΩìÁöÑÊó•ÂøóÂÆûÁé∞Â∞±Ë°å‰∫ÜÔºõÊàë‰ª¨‰πãÂâçÁöÑÊó•ÂøóÊ°ÜÊû∂ÈÉΩÊòØÂÆûÁé∞ÁöÑÊäΩË±°Â±ÇÔºõ Â∏ÇÈù¢‰∏äÁöÑÊó•ÂøóÊ°ÜÊû∂Ôºõ JUL„ÄÅJCL„ÄÅJboss-logging„ÄÅlogback„ÄÅlog4j„ÄÅlog4j2„ÄÅslf4j‚Ä¶. Êó•ÂøóÈó®Èù¢ ÔºàÊó•ÂøóÁöÑÊäΩË±°Â±ÇÔºâ Êó•ÂøóÂÆûÁé∞ JCLÔºàJakarta Commons LoggingÔºâ SLF4jÔºàSimple Logging Facade for JavaÔºâ jboss-logging Log4j JULÔºàjava.util.loggingÔºâ Log4j2 Logback Â∑¶ËæπÈÄâ‰∏Ä‰∏™Èó®Èù¢ÔºàÊäΩË±°Â±ÇÔºâ„ÄÅÂè≥ËæπÊù•ÈÄâ‰∏Ä‰∏™ÂÆûÁé∞Ôºõ Êó•ÂøóÈó®Èù¢Ôºö SLF4JÔºõ Êó•ÂøóÂÆûÁé∞ÔºöLogbackÔºõ SpringBootÔºöÂ∫ïÂ±ÇÊòØSpringÊ°ÜÊû∂ÔºåSpringÊ°ÜÊû∂ÈªòËÆ§ÊòØÁî®JCLÔºõ‚Äò ‚Äã ==SpringBootÈÄâÁî® SLF4jÂíålogbackÔºõ== 2„ÄÅSLF4j‰ΩøÁî®1„ÄÅÂ¶Ç‰ΩïÂú®Á≥ªÁªü‰∏≠‰ΩøÁî®SLF4j https://www.slf4j.org‰ª•ÂêéÂºÄÂèëÁöÑÊó∂ÂÄôÔºåÊó•ÂøóËÆ∞ÂΩïÊñπÊ≥ïÁöÑË∞ÉÁî®Ôºå‰∏çÂ∫îËØ•Êù•Áõ¥Êé•Ë∞ÉÁî®Êó•ÂøóÁöÑÂÆûÁé∞Á±ªÔºåËÄåÊòØË∞ÉÁî®Êó•ÂøóÊäΩË±°Â±ÇÈáåÈù¢ÁöÑÊñπÊ≥ïÔºõ ÁªôÁ≥ªÁªüÈáåÈù¢ÂØºÂÖ•slf4jÁöÑjarÂíå logbackÁöÑÂÆûÁé∞jar 123456789import org.slf4j.Logger;import org.slf4j.LoggerFactory;public class HelloWorld &#123; public static void main(String[] args) &#123; Logger logger = LoggerFactory.getLogger(HelloWorld.class); logger.info("Hello World"); &#125;&#125; ÂõæÁ§∫Ôºõ ÊØè‰∏Ä‰∏™Êó•ÂøóÁöÑÂÆûÁé∞Ê°ÜÊû∂ÈÉΩÊúâËá™Â∑±ÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ‰ΩøÁî®slf4j‰ª•ÂêéÔºåÈÖçÁΩÆÊñá‰ª∂ËøòÊòØÂÅöÊàêÊó•ÂøóÂÆûÁé∞Ê°ÜÊû∂Ëá™Â∑±Êú¨Ë∫´ÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºõ 2„ÄÅÈÅóÁïôÈóÆÈ¢òaÔºàslf4j+logbackÔºâ: SpringÔºàcommons-loggingÔºâ„ÄÅHibernateÔºàjboss-loggingÔºâ„ÄÅMyBatis„ÄÅxxxx Áªü‰∏ÄÊó•ÂøóËÆ∞ÂΩïÔºåÂç≥‰ΩøÊòØÂà´ÁöÑÊ°ÜÊû∂ÂíåÊàë‰∏ÄËµ∑Áªü‰∏Ä‰ΩøÁî®slf4jËøõË°åËæìÂá∫Ôºü Â¶Ç‰ΩïËÆ©Á≥ªÁªü‰∏≠ÊâÄÊúâÁöÑÊó•ÂøóÈÉΩÁªü‰∏ÄÂà∞slf4jÔºõ ==1„ÄÅÂ∞ÜÁ≥ªÁªü‰∏≠ÂÖ∂‰ªñÊó•ÂøóÊ°ÜÊû∂ÂÖàÊéíÈô§Âá∫ÂéªÔºõ== ==2„ÄÅÁî®‰∏≠Èó¥ÂåÖÊù•ÊõøÊç¢ÂéüÊúâÁöÑÊó•ÂøóÊ°ÜÊû∂Ôºõ== ==3„ÄÅÊàë‰ª¨ÂØºÂÖ•slf4jÂÖ∂‰ªñÁöÑÂÆûÁé∞== 3„ÄÅSpringBootÊó•ÂøóÂÖ≥Á≥ª1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;&lt;/dependency&gt; SpringBoot‰ΩøÁî®ÂÆÉÊù•ÂÅöÊó•ÂøóÂäüËÉΩÔºõ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt; Â∫ïÂ±Ç‰æùËµñÂÖ≥Á≥ª ÊÄªÁªìÔºö ‚Äã 1Ôºâ„ÄÅSpringBootÂ∫ïÂ±Ç‰πüÊòØ‰ΩøÁî®slf4j+logbackÁöÑÊñπÂºèËøõË°åÊó•ÂøóËÆ∞ÂΩï ‚Äã 2Ôºâ„ÄÅSpringBoot‰πüÊääÂÖ∂‰ªñÁöÑÊó•ÂøóÈÉΩÊõøÊç¢Êàê‰∫Üslf4jÔºõ ‚Äã 3Ôºâ„ÄÅ‰∏≠Èó¥ÊõøÊç¢ÂåÖÔºü 123456@SuppressWarnings("rawtypes")public abstract class LogFactory &#123; static String UNSUPPORTED_OPERATION_IN_JCL_OVER_SLF4J = "http://www.slf4j.org/codes.html#unsupported_operation_in_jcl_over_slf4j"; static LogFactory logFactory = new SLF4JLogFactory(); ‚Äã 4Ôºâ„ÄÅÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅÂºïÂÖ•ÂÖ∂‰ªñÊ°ÜÊû∂Ôºü‰∏ÄÂÆöË¶ÅÊääËøô‰∏™Ê°ÜÊû∂ÁöÑÈªòËÆ§Êó•Âøó‰æùËµñÁßªÈô§ÊéâÔºü ‚Äã SpringÊ°ÜÊû∂Áî®ÁöÑÊòØcommons-loggingÔºõ 12345678910&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt; ==SpringBootËÉΩËá™Âä®ÈÄÇÈÖçÊâÄÊúâÁöÑÊó•ÂøóÔºåËÄå‰∏îÂ∫ïÂ±Ç‰ΩøÁî®slf4j+logbackÁöÑÊñπÂºèËÆ∞ÂΩïÊó•ÂøóÔºåÂºïÂÖ•ÂÖ∂‰ªñÊ°ÜÊû∂ÁöÑÊó∂ÂÄôÔºåÂè™ÈúÄË¶ÅÊääËøô‰∏™Ê°ÜÊû∂‰æùËµñÁöÑÊó•ÂøóÊ°ÜÊû∂ÊéíÈô§ÊéâÂç≥ÂèØÔºõ== 4„ÄÅÊó•Âøó‰ΩøÁî®Ôºõ1„ÄÅÈªòËÆ§ÈÖçÁΩÆSpringBootÈªòËÆ§Â∏ÆÊàë‰ª¨ÈÖçÁΩÆÂ•Ω‰∫ÜÊó•ÂøóÔºõ 123456789101112131415161718//ËÆ∞ÂΩïÂô®Logger logger = LoggerFactory.getLogger(getClass());@Testpublic void contextLoads() &#123; //System.out.println(); //Êó•ÂøóÁöÑÁ∫ßÂà´Ôºõ //Áî±‰ΩéÂà∞È´ò trace&lt;debug&lt;info&lt;warn&lt;error //ÂèØ‰ª•Ë∞ÉÊï¥ËæìÂá∫ÁöÑÊó•ÂøóÁ∫ßÂà´ÔºõÊó•ÂøóÂ∞±Âè™‰ºöÂú®Ëøô‰∏™Á∫ßÂà´‰ª•‰ª•ÂêéÁöÑÈ´òÁ∫ßÂà´ÁîüÊïà logger.trace("ËøôÊòØtraceÊó•Âøó..."); logger.debug("ËøôÊòØdebugÊó•Âøó..."); //SpringBootÈªòËÆ§ÁªôÊàë‰ª¨‰ΩøÁî®ÁöÑÊòØinfoÁ∫ßÂà´ÁöÑÔºåÊ≤°ÊúâÊåáÂÆöÁ∫ßÂà´ÁöÑÂ∞±Áî®SpringBootÈªòËÆ§ËßÑÂÆöÁöÑÁ∫ßÂà´ÔºõrootÁ∫ßÂà´ logger.info("ËøôÊòØinfoÊó•Âøó..."); logger.warn("ËøôÊòØwarnÊó•Âøó..."); logger.error("ËøôÊòØerrorÊó•Âøó...");&#125; Êó•ÂøóËæìÂá∫Ê†ºÂºèÔºö %dË°®Á§∫Êó•ÊúüÊó∂Èó¥Ôºå %threadË°®Á§∫Á∫øÁ®ãÂêçÔºå %-5levelÔºöÁ∫ßÂà´‰ªéÂ∑¶ÊòæÁ§∫5‰∏™Â≠óÁ¨¶ÂÆΩÂ∫¶ %logger{50} Ë°®Á§∫loggerÂêçÂ≠óÊúÄÈïø50‰∏™Â≠óÁ¨¶ÔºåÂê¶ÂàôÊåâÁÖßÂè•ÁÇπÂàÜÂâ≤„ÄÇ %msgÔºöÊó•ÂøóÊ∂àÊÅØÔºå %nÊòØÊç¢Ë°åÁ¨¶ --&gt; %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n SpringBoot‰øÆÊîπÊó•ÂøóÁöÑÈªòËÆ§ÈÖçÁΩÆ 123456789101112131415logging.level.com.atguigu=trace#logging.path=# ‰∏çÊåáÂÆöË∑ØÂæÑÂú®ÂΩìÂâçÈ°πÁõÆ‰∏ãÁîüÊàêspringboot.logÊó•Âøó# ÂèØ‰ª•ÊåáÂÆöÂÆåÊï¥ÁöÑË∑ØÂæÑÔºõ#logging.file=G:/springboot.log# Âú®ÂΩìÂâçÁ£ÅÁõòÁöÑÊ†πË∑ØÂæÑ‰∏ãÂàõÂª∫springÊñá‰ª∂Â§πÂíåÈáåÈù¢ÁöÑlogÊñá‰ª∂Â§πÔºõ‰ΩøÁî® spring.log ‰Ωú‰∏∫ÈªòËÆ§Êñá‰ª∂logging.path=/spring/log# Âú®ÊéßÂà∂Âè∞ËæìÂá∫ÁöÑÊó•ÂøóÁöÑÊ†ºÂºèlogging.pattern.console=%d&#123;yyyy-MM-dd&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n# ÊåáÂÆöÊñá‰ª∂‰∏≠Êó•ÂøóËæìÂá∫ÁöÑÊ†ºÂºèlogging.pattern.file=%d&#123;yyyy-MM-dd&#125; === [%thread] === %-5level === %logger&#123;50&#125; ==== %msg%n logging.file logging.path Example Description (none) (none) Âè™Âú®ÊéßÂà∂Âè∞ËæìÂá∫ ÊåáÂÆöÊñá‰ª∂Âêç (none) my.log ËæìÂá∫Êó•ÂøóÂà∞my.logÊñá‰ª∂ (none) ÊåáÂÆöÁõÆÂΩï /var/log ËæìÂá∫Âà∞ÊåáÂÆöÁõÆÂΩïÁöÑ spring.log Êñá‰ª∂‰∏≠ 2„ÄÅÊåáÂÆöÈÖçÁΩÆÁªôÁ±ªË∑ØÂæÑ‰∏ãÊîæ‰∏äÊØè‰∏™Êó•ÂøóÊ°ÜÊû∂Ëá™Â∑±ÁöÑÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØÔºõSpringBootÂ∞±‰∏ç‰ΩøÁî®‰ªñÈªòËÆ§ÈÖçÁΩÆÁöÑ‰∫Ü Logging System Customization Logback logback-spring.xml, logback-spring.groovy, logback.xml or logback.groovy Log4j2 log4j2-spring.xml or log4j2.xml JDK (Java Util Logging) logging.properties logback.xmlÔºöÁõ¥Êé•Â∞±Ë¢´Êó•ÂøóÊ°ÜÊû∂ËØÜÂà´‰∫ÜÔºõ logback-spring.xmlÔºöÊó•ÂøóÊ°ÜÊû∂Â∞±‰∏çÁõ¥Êé•Âä†ËΩΩÊó•ÂøóÁöÑÈÖçÁΩÆÈ°πÔºåÁî±SpringBootËß£ÊûêÊó•ÂøóÈÖçÁΩÆÔºåÂèØ‰ª•‰ΩøÁî®SpringBootÁöÑÈ´òÁ∫ßProfileÂäüËÉΩ 1234&lt;springProfile name="staging"&gt; &lt;!-- configuration to be enabled when the "staging" profile is active --&gt; ÂèØ‰ª•ÊåáÂÆöÊüêÊÆµÈÖçÁΩÆÂè™Âú®Êüê‰∏™ÁéØÂ¢É‰∏ãÁîüÊïà&lt;/springProfile&gt; Â¶ÇÔºö 12345678910111213141516171819&lt;appender name="stdout" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;!-- Êó•ÂøóËæìÂá∫Ê†ºÂºèÔºö %dË°®Á§∫Êó•ÊúüÊó∂Èó¥Ôºå %threadË°®Á§∫Á∫øÁ®ãÂêçÔºå %-5levelÔºöÁ∫ßÂà´‰ªéÂ∑¶ÊòæÁ§∫5‰∏™Â≠óÁ¨¶ÂÆΩÂ∫¶ %logger&#123;50&#125; Ë°®Á§∫loggerÂêçÂ≠óÊúÄÈïø50‰∏™Â≠óÁ¨¶ÔºåÂê¶ÂàôÊåâÁÖßÂè•ÁÇπÂàÜÂâ≤„ÄÇ %msgÔºöÊó•ÂøóÊ∂àÊÅØÔºå %nÊòØÊç¢Ë°åÁ¨¶ --&gt; &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt; &lt;springProfile name="dev"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; ----&gt; [%thread] ---&gt; %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt; &lt;/springProfile&gt; &lt;springProfile name="!dev"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; ==== [%thread] ==== %-5level %logger&#123;50&#125; - %msg%n&lt;/pattern&gt; &lt;/springProfile&gt; &lt;/layout&gt; &lt;/appender&gt; Â¶ÇÊûú‰ΩøÁî®logback.xml‰Ωú‰∏∫Êó•ÂøóÈÖçÁΩÆÊñá‰ª∂ÔºåËøòË¶Å‰ΩøÁî®profileÂäüËÉΩÔºå‰ºöÊúâ‰ª•‰∏ãÈîôËØØ no applicable action for [springProfile] 5„ÄÅÂàáÊç¢Êó•ÂøóÊ°ÜÊû∂ÂèØ‰ª•ÊåâÁÖßslf4jÁöÑÊó•ÂøóÈÄÇÈÖçÂõæÔºåËøõË°åÁõ∏ÂÖ≥ÁöÑÂàáÊç¢Ôºõ slf4j+log4jÁöÑÊñπÂºèÔºõ 12345678910111213141516171819&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;&lt;/dependency&gt; ÂàáÊç¢‰∏∫log4j2 123456789101112131415 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;&lt;/dependency&gt; Âõõ„ÄÅWebÂºÄÂèë1„ÄÅÁÆÄ‰ªã‰ΩøÁî®SpringBootÔºõ 1Ôºâ„ÄÅÂàõÂª∫SpringBootÂ∫îÁî®ÔºåÈÄâ‰∏≠Êàë‰ª¨ÈúÄË¶ÅÁöÑÊ®°ÂùóÔºõ 2Ôºâ„ÄÅSpringBootÂ∑≤ÁªèÈªòËÆ§Â∞ÜËøô‰∫õÂú∫ÊôØÈÖçÁΩÆÂ•Ω‰∫ÜÔºåÂè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆöÂ∞ëÈáèÈÖçÁΩÆÂ∞±ÂèØ‰ª•ËøêË°åËµ∑Êù• 3Ôºâ„ÄÅËá™Â∑±ÁºñÂÜô‰∏öÂä°‰ª£Á†ÅÔºõ Ëá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºü Ëøô‰∏™Âú∫ÊôØSpringBootÂ∏ÆÊàë‰ª¨ÈÖçÁΩÆ‰∫Ü‰ªÄ‰πàÔºüËÉΩ‰∏çËÉΩ‰øÆÊîπÔºüËÉΩ‰øÆÊîπÂì™‰∫õÈÖçÁΩÆÔºüËÉΩ‰∏çËÉΩÊâ©Â±ïÔºüxxx 12xxxxAutoConfigurationÔºöÂ∏ÆÊàë‰ª¨ÁªôÂÆπÂô®‰∏≠Ëá™Âä®ÈÖçÁΩÆÁªÑ‰ª∂ÔºõxxxxProperties:ÈÖçÁΩÆÁ±ªÊù•Â∞ÅË£ÖÈÖçÁΩÆÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºõ 2„ÄÅSpringBootÂØπÈùôÊÄÅËµÑÊ∫êÁöÑÊò†Â∞ÑËßÑÂàôÔºõ123@ConfigurationProperties(prefix = "spring.resources", ignoreUnknownFields = false)public class ResourceProperties implements ResourceLoaderAware &#123; //ÂèØ‰ª•ËÆæÁΩÆÂíåÈùôÊÄÅËµÑÊ∫êÊúâÂÖ≥ÁöÑÂèÇÊï∞ÔºåÁºìÂ≠òÊó∂Èó¥Á≠â 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364WebMvcAuotConfigurationÔºö @Override public void addResourceHandlers(ResourceHandlerRegistry registry) &#123; if (!this.resourceProperties.isAddMappings()) &#123; logger.debug("Default resource handling disabled"); return; &#125; Integer cachePeriod = this.resourceProperties.getCachePeriod(); if (!registry.hasMappingForPattern("/webjars/**")) &#123; customizeResourceHandlerRegistration( registry.addResourceHandler("/webjars/**") .addResourceLocations( "classpath:/META-INF/resources/webjars/") .setCachePeriod(cachePeriod)); &#125; String staticPathPattern = this.mvcProperties.getStaticPathPattern(); //ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§πÊò†Â∞Ñ if (!registry.hasMappingForPattern(staticPathPattern)) &#123; customizeResourceHandlerRegistration( registry.addResourceHandler(staticPathPattern) .addResourceLocations( this.resourceProperties.getStaticLocations()) .setCachePeriod(cachePeriod)); &#125; &#125; //ÈÖçÁΩÆÊ¨¢ËøéÈ°µÊò†Â∞Ñ @Bean public WelcomePageHandlerMapping welcomePageHandlerMapping( ResourceProperties resourceProperties) &#123; return new WelcomePageHandlerMapping(resourceProperties.getWelcomePage(), this.mvcProperties.getStaticPathPattern()); &#125; //ÈÖçÁΩÆÂñúÊ¨¢ÁöÑÂõæÊ†á @Configuration @ConditionalOnProperty(value = "spring.mvc.favicon.enabled", matchIfMissing = true) public static class FaviconConfiguration &#123; private final ResourceProperties resourceProperties; public FaviconConfiguration(ResourceProperties resourceProperties) &#123; this.resourceProperties = resourceProperties; &#125; @Bean public SimpleUrlHandlerMapping faviconHandlerMapping() &#123; SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping(); mapping.setOrder(Ordered.HIGHEST_PRECEDENCE + 1); //ÊâÄÊúâ **/favicon.ico mapping.setUrlMap(Collections.singletonMap("**/favicon.ico", faviconRequestHandler())); return mapping; &#125; @Bean public ResourceHttpRequestHandler faviconRequestHandler() &#123; ResourceHttpRequestHandler requestHandler = new ResourceHttpRequestHandler(); requestHandler .setLocations(this.resourceProperties.getFaviconLocations()); return requestHandler; &#125; &#125; ==1Ôºâ„ÄÅÊâÄÊúâ /webjars/** ÔºåÈÉΩÂéª classpath:/META-INF/resources/webjars/ ÊâæËµÑÊ∫êÔºõ== ‚Äã webjarsÔºö‰ª•jarÂåÖÁöÑÊñπÂºèÂºïÂÖ•ÈùôÊÄÅËµÑÊ∫êÔºõ http://www.webjars.org/ localhost:8080/webjars/jquery/3.3.1/jquery.js 123456&lt;!--ÂºïÂÖ•jquery-webjar--&gt;Âú®ËÆøÈóÆÁöÑÊó∂ÂÄôÂè™ÈúÄË¶ÅÂÜôwebjars‰∏ãÈù¢ËµÑÊ∫êÁöÑÂêçÁß∞Âç≥ÂèØ &lt;dependency&gt; &lt;groupId&gt;org.webjars&lt;/groupId&gt; &lt;artifactId&gt;jquery&lt;/artifactId&gt; &lt;version&gt;3.3.1&lt;/version&gt; &lt;/dependency&gt; ==2Ôºâ„ÄÅ‚Äù/**‚Äù ËÆøÈóÆÂΩìÂâçÈ°πÁõÆÁöÑ‰ªª‰ΩïËµÑÊ∫êÔºåÈÉΩÂéªÔºàÈùôÊÄÅËµÑÊ∫êÁöÑÊñá‰ª∂Â§πÔºâÊâæÊò†Â∞Ñ== 12345&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,&quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; &quot;/&quot;ÔºöÂΩìÂâçÈ°πÁõÆÁöÑÊ†πË∑ØÂæÑ localhost:8080/abc === ÂéªÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§πÈáåÈù¢Êâæabc ==3Ôºâ„ÄÅÊ¨¢ËøéÈ°µÔºõ ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§π‰∏ãÁöÑÊâÄÊúâindex.htmlÈ°µÈù¢ÔºõË¢´‚Äù/**‚ÄùÊò†Â∞ÑÔºõ== ‚Äã localhost:8080/ ÊâæindexÈ°µÈù¢ ==4Ôºâ„ÄÅÊâÄÊúâÁöÑ **/favicon.ico ÈÉΩÊòØÂú®ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂‰∏ãÊâæÔºõ== 3„ÄÅÊ®°ÊùøÂºïÊìéJSP„ÄÅVelocity„ÄÅFreemarker„ÄÅThymeleaf SpringBootÊé®ËçêÁöÑThymeleafÔºõ ËØ≠Ê≥ïÊõ¥ÁÆÄÂçïÔºåÂäüËÉΩÊõ¥Âº∫Â§ßÔºõ 1„ÄÅÂºïÂÖ•thymeleafÔºõ123456789101112 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; 2.1.6 &lt;/dependency&gt;ÂàáÊç¢thymeleafÁâàÊú¨&lt;properties&gt; &lt;thymeleaf.version&gt;3.0.9.RELEASE&lt;/thymeleaf.version&gt; &lt;!-- Â∏ÉÂ±ÄÂäüËÉΩÁöÑÊîØÊåÅÁ®ãÂ∫è thymeleaf3‰∏ªÁ®ãÂ∫è layout2‰ª•‰∏äÁâàÊú¨ --&gt; &lt;!-- thymeleaf2 layout1--&gt; &lt;thymeleaf-layout-dialect.version&gt;2.2.2&lt;/thymeleaf-layout-dialect.version&gt; &lt;/properties&gt; 2„ÄÅThymeleaf‰ΩøÁî®1234567891011@ConfigurationProperties(prefix = "spring.thymeleaf")public class ThymeleafProperties &#123; private static final Charset DEFAULT_ENCODING = Charset.forName("UTF-8"); private static final MimeType DEFAULT_CONTENT_TYPE = MimeType.valueOf("text/html"); public static final String DEFAULT_PREFIX = "classpath:/templates/"; public static final String DEFAULT_SUFFIX = ".html"; // Âè™Ë¶ÅÊàë‰ª¨ÊääHTMLÈ°µÈù¢ÊîæÂú®classpath:/templates/ÔºåthymeleafÂ∞±ËÉΩËá™Âä®Ê∏≤ÊüìÔºõ ‰ΩøÁî®Ôºö 1„ÄÅÂØºÂÖ•thymeleafÁöÑÂêçÁß∞Á©∫Èó¥ 1&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt; 2„ÄÅ‰ΩøÁî®thymeleafËØ≠Ê≥ïÔºõ 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;ÊàêÂäüÔºÅ&lt;/h1&gt; &lt;!--th:text Â∞ÜdivÈáåÈù¢ÁöÑÊñáÊú¨ÂÜÖÂÆπËÆæÁΩÆ‰∏∫ --&gt; &lt;div th:text="$&#123;hello&#125;"&gt;ËøôÊòØÊòæÁ§∫Ê¨¢Ëøé‰ø°ÊÅØ&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3„ÄÅËØ≠Ê≥ïËßÑÂàô1Ôºâ„ÄÅth:textÔºõÊîπÂèòÂΩìÂâçÂÖÉÁ¥†ÈáåÈù¢ÁöÑÊñáÊú¨ÂÜÖÂÆπÔºõ ‚Äã thÔºö‰ªªÊÑèhtmlÂ±ûÊÄßÔºõÊù•ÊõøÊç¢ÂéüÁîüÂ±ûÊÄßÁöÑÂÄº 2Ôºâ„ÄÅË°®ËææÂºèÔºü 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869Simple expressions:ÔºàË°®ËææÂºèËØ≠Ê≥ïÔºâ Variable Expressions: $&#123;...&#125;ÔºöËé∑ÂèñÂèòÈáèÂÄºÔºõOGNLÔºõ 1Ôºâ„ÄÅËé∑ÂèñÂØπË±°ÁöÑÂ±ûÊÄß„ÄÅË∞ÉÁî®ÊñπÊ≥ï 2Ôºâ„ÄÅ‰ΩøÁî®ÂÜÖÁΩÆÁöÑÂü∫Êú¨ÂØπË±°Ôºö #ctx : the context object. #vars: the context variables. #locale : the context locale. #request : (only in Web Contexts) the HttpServletRequest object. #response : (only in Web Contexts) the HttpServletResponse object. #session : (only in Web Contexts) the HttpSession object. #servletContext : (only in Web Contexts) the ServletContext object. $&#123;session.foo&#125; 3Ôºâ„ÄÅÂÜÖÁΩÆÁöÑ‰∏Ä‰∫õÂ∑•ÂÖ∑ÂØπË±°Ôºö#execInfo : information about the template being processed.#messages : methods for obtaining externalized messages inside variables expressions, in the same way as they would be obtained using #&#123;‚Ä¶&#125; syntax.#uris : methods for escaping parts of URLs/URIs#conversions : methods for executing the configured conversion service (if any).#dates : methods for java.util.Date objects: formatting, component extraction, etc.#calendars : analogous to #dates , but for java.util.Calendar objects.#numbers : methods for formatting numeric objects.#strings : methods for String objects: contains, startsWith, prepending/appending, etc.#objects : methods for objects in general.#bools : methods for boolean evaluation.#arrays : methods for arrays.#lists : methods for lists.#sets : methods for sets.#maps : methods for maps.#aggregates : methods for creating aggregates on arrays or collections.#ids : methods for dealing with id attributes that might be repeated (for example, as a result of an iteration). Selection Variable Expressions: *&#123;...&#125;ÔºöÈÄâÊã©Ë°®ËææÂºèÔºöÂíå$&#123;&#125;Âú®ÂäüËÉΩ‰∏äÊòØ‰∏ÄÊ†∑Ôºõ Ë°•ÂÖÖÔºöÈÖçÂêà th:object=&quot;$&#123;session.user&#125;Ôºö &lt;div th:object=&quot;$&#123;session.user&#125;&quot;&gt; &lt;p&gt;Name: &lt;span th:text=&quot;*&#123;firstName&#125;&quot;&gt;Sebastian&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;Surname: &lt;span th:text=&quot;*&#123;lastName&#125;&quot;&gt;Pepper&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;Nationality: &lt;span th:text=&quot;*&#123;nationality&#125;&quot;&gt;Saturn&lt;/span&gt;.&lt;/p&gt; &lt;/div&gt; Message Expressions: #&#123;...&#125;ÔºöËé∑ÂèñÂõΩÈôÖÂåñÂÜÖÂÆπ Link URL Expressions: @&#123;...&#125;ÔºöÂÆö‰πâURLÔºõ @&#123;/order/process(execId=$&#123;execId&#125;,execType=&apos;FAST&apos;)&#125; Fragment Expressions: ~&#123;...&#125;ÔºöÁâáÊÆµÂºïÁî®Ë°®ËææÂºè &lt;div th:insert=&quot;~&#123;commons :: main&#125;&quot;&gt;...&lt;/div&gt; LiteralsÔºàÂ≠óÈù¢ÈáèÔºâ Text literals: &apos;one text&apos; , &apos;Another one!&apos; ,‚Ä¶ Number literals: 0 , 34 , 3.0 , 12.3 ,‚Ä¶ Boolean literals: true , false Null literal: null Literal tokens: one , sometext , main ,‚Ä¶Text operations:ÔºàÊñáÊú¨Êìç‰ΩúÔºâ String concatenation: + Literal substitutions: |The name is $&#123;name&#125;|Arithmetic operations:ÔºàÊï∞Â≠¶ËøêÁÆóÔºâ Binary operators: + , - , * , / , % Minus sign (unary operator): -Boolean operations:ÔºàÂ∏ÉÂ∞îËøêÁÆóÔºâ Binary operators: and , or Boolean negation (unary operator): ! , notComparisons and equality:ÔºàÊØîËæÉËøêÁÆóÔºâ Comparators: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le ) Equality operators: == , != ( eq , ne )Conditional operators:Êù°‰ª∂ËøêÁÆóÔºà‰∏âÂÖÉËøêÁÆóÁ¨¶Ôºâ If-then: (if) ? (then) If-then-else: (if) ? (then) : (else) Default: (value) ?: (defaultvalue)Special tokens: No-Operation: _ 4„ÄÅSpringMVCËá™Âä®ÈÖçÁΩÆhttps://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/reference/htmlsingle/#boot-features-developing-web-applications 1. Spring MVC auto-configurationSpring Boot Ëá™Âä®ÈÖçÁΩÆÂ•Ω‰∫ÜSpringMVC ‰ª•‰∏ãÊòØSpringBootÂØπSpringMVCÁöÑÈªòËÆ§ÈÖçÁΩÆ:==ÔºàWebMvcAutoConfigurationÔºâ== Inclusion of ContentNegotiatingViewResolver and BeanNameViewResolver beans. Ëá™Âä®ÈÖçÁΩÆ‰∫ÜViewResolverÔºàËßÜÂõæËß£ÊûêÂô®ÔºöÊ†πÊçÆÊñπÊ≥ïÁöÑËøîÂõûÂÄºÂæóÂà∞ËßÜÂõæÂØπË±°ÔºàViewÔºâÔºåËßÜÂõæÂØπË±°ÂÜ≥ÂÆöÂ¶Ç‰ΩïÊ∏≤ÊüìÔºàËΩ¨ÂèëÔºüÈáçÂÆöÂêëÔºüÔºâÔºâ ContentNegotiatingViewResolverÔºöÁªÑÂêàÊâÄÊúâÁöÑËßÜÂõæËß£ÊûêÂô®ÁöÑÔºõ ==Â¶Ç‰ΩïÂÆöÂà∂ÔºöÊàë‰ª¨ÂèØ‰ª•Ëá™Â∑±ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ËßÜÂõæËß£ÊûêÂô®ÔºõËá™Âä®ÁöÑÂ∞ÜÂÖ∂ÁªÑÂêàËøõÊù•Ôºõ== Support for serving static resources, including support for WebJars (see below).ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§πË∑ØÂæÑ,webjars Static index.html support. ÈùôÊÄÅÈ¶ñÈ°µËÆøÈóÆ Custom Favicon support (see below). favicon.ico Ëá™Âä®Ê≥®ÂÜå‰∫Ü of Converter, GenericConverter, Formatter beans. ConverterÔºöËΩ¨Êç¢Âô®Ôºõ public String hello(User user)ÔºöÁ±ªÂûãËΩ¨Êç¢‰ΩøÁî®Converter Formatter Ê†ºÂºèÂåñÂô®Ôºõ 2017.12.17===DateÔºõ 12345@Bean@ConditionalOnProperty(prefix = "spring.mvc", name = "date-format")//Âú®Êñá‰ª∂‰∏≠ÈÖçÁΩÆÊó•ÊúüÊ†ºÂºèÂåñÁöÑËßÑÂàôpublic Formatter&lt;Date&gt; dateFormatter() &#123; return new DateFormatter(this.mvcProperties.getDateFormat());//Êó•ÊúüÊ†ºÂºèÂåñÁªÑ‰ª∂&#125; ‚Äã ==Ëá™Â∑±Ê∑ªÂä†ÁöÑÊ†ºÂºèÂåñÂô®ËΩ¨Êç¢Âô®ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊîæÂú®ÂÆπÂô®‰∏≠Âç≥ÂèØ== Support for HttpMessageConverters (see below). HttpMessageConverterÔºöSpringMVCÁî®Êù•ËΩ¨Êç¢HttpËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÔºõUser‚ÄîJsonÔºõ HttpMessageConverters ÊòØ‰ªéÂÆπÂô®‰∏≠Á°ÆÂÆöÔºõËé∑ÂèñÊâÄÊúâÁöÑHttpMessageConverterÔºõ ==Ëá™Â∑±ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†HttpMessageConverterÔºåÂè™ÈúÄË¶ÅÂ∞ÜËá™Â∑±ÁöÑÁªÑ‰ª∂Ê≥®ÂÜåÂÆπÂô®‰∏≠Ôºà@Bean,@ComponentÔºâ== Automatic registration of MessageCodesResolver (see below).ÂÆö‰πâÈîôËØØ‰ª£Á†ÅÁîüÊàêËßÑÂàô Automatic use of a ConfigurableWebBindingInitializer bean (see below). ==Êàë‰ª¨ÂèØ‰ª•ÈÖçÁΩÆ‰∏Ä‰∏™ConfigurableWebBindingInitializerÊù•ÊõøÊç¢ÈªòËÆ§ÁöÑÔºõÔºàÊ∑ªÂä†Âà∞ÂÆπÂô®Ôºâ== 12ÂàùÂßãÂåñWebDataBinderÔºõËØ∑Ê±ÇÊï∞ÊçÆ=====JavaBeanÔºõ org.springframework.boot.autoconfigure.webÔºöwebÁöÑÊâÄÊúâËá™Âä®Âú∫ÊôØÔºõ If you want to keep Spring Boot MVC features, and you just want to add additional MVC configuration (interceptors, formatters, view controllers etc.) you can add your own @Configuration class of type WebMvcConfigurerAdapter, but without @EnableWebMvc. If you wish to provide custom instances of RequestMappingHandlerMapping, RequestMappingHandlerAdapter or ExceptionHandlerExceptionResolver you can declare a WebMvcRegistrationsAdapter instance providing such components. If you want to take complete control of Spring MVC, you can add your own @Configuration annotated with @EnableWebMvc. 2„ÄÅÊâ©Â±ïSpringMVC1234567&lt;mvc:view-controller path="/hello" view-name="success"/&gt;&lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path="/hello"/&gt; &lt;bean&gt;&lt;/bean&gt; &lt;/mvc:interceptor&gt;&lt;/mvc:interceptors&gt; ==ÁºñÂÜô‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºà@ConfigurationÔºâÔºåÊòØWebMvcConfigurerAdapterÁ±ªÂûãÔºõ‰∏çËÉΩÊ†áÊ≥®@EnableWebMvc==; Êó¢‰øùÁïô‰∫ÜÊâÄÊúâÁöÑËá™Âä®ÈÖçÁΩÆÔºå‰πüËÉΩÁî®Êàë‰ª¨Êâ©Â±ïÁöÑÈÖçÁΩÆÔºõ 1234567891011//‰ΩøÁî®WebMvcConfigurerAdapterÂèØ‰ª•Êù•Êâ©Â±ïSpringMVCÁöÑÂäüËÉΩ@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //ÊµèËßàÂô®ÂèëÈÄÅ /atguigu ËØ∑Ê±ÇÊù•Âà∞ success registry.addViewController("/atguigu").setViewName("success"); &#125;&#125; ÂéüÁêÜÔºö ‚Äã 1Ôºâ„ÄÅWebMvcAutoConfigurationÊòØSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆÁ±ª ‚Äã 2Ôºâ„ÄÅÂú®ÂÅöÂÖ∂‰ªñËá™Âä®ÈÖçÁΩÆÊó∂‰ºöÂØºÂÖ•Ôºõ@Import(EnableWebMvcConfiguration.class) 123456789101112131415161718 @Configurationpublic static class EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration &#123; private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite(); //‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÊâÄÊúâÁöÑWebMvcConfigurer @Autowired(required = false) public void setConfigurers(List&lt;WebMvcConfigurer&gt; configurers) &#123; if (!CollectionUtils.isEmpty(configurers)) &#123; this.configurers.addWebMvcConfigurers(configurers); //‰∏Ä‰∏™ÂèÇËÄÉÂÆûÁé∞ÔºõÂ∞ÜÊâÄÊúâÁöÑWebMvcConfigurerÁõ∏ÂÖ≥ÈÖçÁΩÆÈÉΩÊù•‰∏ÄËµ∑Ë∞ÉÁî®Ôºõ @Override // public void addViewControllers(ViewControllerRegistry registry) &#123; // for (WebMvcConfigurer delegate : this.delegates) &#123; // delegate.addViewControllers(registry); // &#125; &#125; &#125;&#125; ‚Äã 3Ôºâ„ÄÅÂÆπÂô®‰∏≠ÊâÄÊúâÁöÑWebMvcConfigurerÈÉΩ‰ºö‰∏ÄËµ∑Ëµ∑‰ΩúÁî®Ôºõ ‚Äã 4Ôºâ„ÄÅÊàë‰ª¨ÁöÑÈÖçÁΩÆÁ±ª‰πü‰ºöË¢´Ë∞ÉÁî®Ôºõ ‚Äã ÊïàÊûúÔºöSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆÂíåÊàë‰ª¨ÁöÑÊâ©Â±ïÈÖçÁΩÆÈÉΩ‰ºöËµ∑‰ΩúÁî®Ôºõ 3„ÄÅÂÖ®Èù¢Êé•ÁÆ°SpringMVCÔºõSpringBootÂØπSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆ‰∏çÈúÄË¶Å‰∫ÜÔºåÊâÄÊúâÈÉΩÊòØÊàë‰ª¨Ëá™Â∑±ÈÖçÁΩÆÔºõÊâÄÊúâÁöÑSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆÈÉΩÂ§±Êïà‰∫Ü Êàë‰ª¨ÈúÄË¶ÅÂú®ÈÖçÁΩÆÁ±ª‰∏≠Ê∑ªÂä†@EnableWebMvcÂç≥ÂèØÔºõ 123456789101112//‰ΩøÁî®WebMvcConfigurerAdapterÂèØ‰ª•Êù•Êâ©Â±ïSpringMVCÁöÑÂäüËÉΩ@EnableWebMvc@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //ÊµèËßàÂô®ÂèëÈÄÅ /atguigu ËØ∑Ê±ÇÊù•Âà∞ success registry.addViewController("/atguigu").setViewName("success"); &#125;&#125; ÂéüÁêÜÔºö ‰∏∫‰ªÄ‰πà@EnableWebMvcËá™Âä®ÈÖçÁΩÆÂ∞±Â§±Êïà‰∫ÜÔºõ 1Ôºâ@EnableWebMvcÁöÑÊ†∏ÂøÉ 12@Import(DelegatingWebMvcConfiguration.class)public @interface EnableWebMvc &#123; 2Ôºâ„ÄÅ 12@Configurationpublic class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport &#123; 3Ôºâ„ÄÅ 12345678910@Configuration@ConditionalOnWebApplication@ConditionalOnClass(&#123; Servlet.class, DispatcherServlet.class, WebMvcConfigurerAdapter.class &#125;)//ÂÆπÂô®‰∏≠Ê≤°ÊúâËøô‰∏™ÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºåËøô‰∏™Ëá™Âä®ÈÖçÁΩÆÁ±ªÊâçÁîüÊïà@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)@AutoConfigureAfter(&#123; DispatcherServletAutoConfiguration.class, ValidationAutoConfiguration.class &#125;)public class WebMvcAutoConfiguration &#123; 4Ôºâ„ÄÅ@EnableWebMvcÂ∞ÜWebMvcConfigurationSupportÁªÑ‰ª∂ÂØºÂÖ•ËøõÊù•Ôºõ 5Ôºâ„ÄÅÂØºÂÖ•ÁöÑWebMvcConfigurationSupportÂè™ÊòØSpringMVCÊúÄÂü∫Êú¨ÁöÑÂäüËÉΩÔºõ 5„ÄÅÂ¶Ç‰Ωï‰øÆÊîπSpringBootÁöÑÈªòËÆ§ÈÖçÁΩÆÊ®°ÂºèÔºö ‚Äã 1Ôºâ„ÄÅSpringBootÂú®Ëá™Âä®ÈÖçÁΩÆÂæàÂ§öÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºåÂÖàÁúãÂÆπÂô®‰∏≠ÊúâÊ≤°ÊúâÁî®Êà∑Ëá™Â∑±ÈÖçÁΩÆÁöÑÔºà@Bean„ÄÅ@ComponentÔºâÂ¶ÇÊûúÊúâÂ∞±Áî®Áî®Êà∑ÈÖçÁΩÆÁöÑÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÊâçËá™Âä®ÈÖçÁΩÆÔºõÂ¶ÇÊûúÊúâ‰∫õÁªÑ‰ª∂ÂèØ‰ª•ÊúâÂ§ö‰∏™ÔºàViewResolverÔºâÂ∞ÜÁî®Êà∑ÈÖçÁΩÆÁöÑÂíåËá™Â∑±ÈªòËÆ§ÁöÑÁªÑÂêàËµ∑Êù•Ôºõ ‚Äã 2Ôºâ„ÄÅÂú®SpringBoot‰∏≠‰ºöÊúâÈùûÂ∏∏Â§öÁöÑxxxConfigurerÂ∏ÆÂä©Êàë‰ª¨ËøõË°åÊâ©Â±ïÈÖçÁΩÆ ‚Äã 3Ôºâ„ÄÅÂú®SpringBoot‰∏≠‰ºöÊúâÂæàÂ§öÁöÑxxxCustomizerÂ∏ÆÂä©Êàë‰ª¨ËøõË°åÂÆöÂà∂ÈÖçÁΩÆ 6„ÄÅRestfulCRUD1Ôºâ„ÄÅÈªòËÆ§ËÆøÈóÆÈ¶ñÈ°µ1234567891011121314151617181920212223242526//‰ΩøÁî®WebMvcConfigurerAdapterÂèØ‰ª•Êù•Êâ©Â±ïSpringMVCÁöÑÂäüËÉΩ//@EnableWebMvc ‰∏çË¶ÅÊé•ÁÆ°SpringMVC@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; // super.addViewControllers(registry); //ÊµèËßàÂô®ÂèëÈÄÅ /atguigu ËØ∑Ê±ÇÊù•Âà∞ success registry.addViewController("/atguigu").setViewName("success"); &#125; //ÊâÄÊúâÁöÑWebMvcConfigurerAdapterÁªÑ‰ª∂ÈÉΩ‰ºö‰∏ÄËµ∑Ëµ∑‰ΩúÁî® @Bean //Â∞ÜÁªÑ‰ª∂Ê≥®ÂÜåÂú®ÂÆπÂô® public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController("/").setViewName("login"); registry.addViewController("/index.html").setViewName("login"); &#125; &#125;; return adapter; &#125;&#125; 2Ôºâ„ÄÅÂõΩÈôÖÂåñ1Ôºâ„ÄÅÁºñÂÜôÂõΩÈôÖÂåñÈÖçÁΩÆÊñá‰ª∂Ôºõ 2Ôºâ„ÄÅ‰ΩøÁî®ResourceBundleMessageSourceÁÆ°ÁêÜÂõΩÈôÖÂåñËµÑÊ∫êÊñá‰ª∂ 3Ôºâ„ÄÅÂú®È°µÈù¢‰ΩøÁî®fmt:messageÂèñÂá∫ÂõΩÈôÖÂåñÂÜÖÂÆπ Ê≠•È™§Ôºö 1Ôºâ„ÄÅÁºñÂÜôÂõΩÈôÖÂåñÈÖçÁΩÆÊñá‰ª∂ÔºåÊäΩÂèñÈ°µÈù¢ÈúÄË¶ÅÊòæÁ§∫ÁöÑÂõΩÈôÖÂåñÊ∂àÊÅØ 2Ôºâ„ÄÅSpringBootËá™Âä®ÈÖçÁΩÆÂ•Ω‰∫ÜÁÆ°ÁêÜÂõΩÈôÖÂåñËµÑÊ∫êÊñá‰ª∂ÁöÑÁªÑ‰ª∂Ôºõ 12345678910111213141516171819202122232425262728@ConfigurationProperties(prefix = "spring.messages")public class MessageSourceAutoConfiguration &#123; /** * Comma-separated list of basenames (essentially a fully-qualified classpath * location), each following the ResourceBundle convention with relaxed support for * slash based locations. If it doesn't contain a package qualifier (such as * "org.mypackage"), it will be resolved from the classpath root. */ private String basename = "messages"; //Êàë‰ª¨ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂèØ‰ª•Áõ¥Êé•ÊîæÂú®Á±ªË∑ØÂæÑ‰∏ãÂè´messages.propertiesÔºõ @Bean public MessageSource messageSource() &#123; ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource(); if (StringUtils.hasText(this.basename)) &#123; //ËÆæÁΩÆÂõΩÈôÖÂåñËµÑÊ∫êÊñá‰ª∂ÁöÑÂü∫Á°ÄÂêçÔºàÂéªÊéâËØ≠Ë®ÄÂõΩÂÆ∂‰ª£Á†ÅÁöÑÔºâ messageSource.setBasenames(StringUtils.commaDelimitedListToStringArray( StringUtils.trimAllWhitespace(this.basename))); &#125; if (this.encoding != null) &#123; messageSource.setDefaultEncoding(this.encoding.name()); &#125; messageSource.setFallbackToSystemLocale(this.fallbackToSystemLocale); messageSource.setCacheSeconds(this.cacheSeconds); messageSource.setAlwaysUseMessageFormat(this.alwaysUseMessageFormat); return messageSource; &#125; 3Ôºâ„ÄÅÂéªÈ°µÈù¢Ëé∑ÂèñÂõΩÈôÖÂåñÁöÑÂÄºÔºõ 123456789101112131415161718192021222324252627282930313233343536&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"&gt; &lt;meta name="description" content=""&gt; &lt;meta name="author" content=""&gt; &lt;title&gt;Signin Template for Bootstrap&lt;/title&gt; &lt;!-- Bootstrap core CSS --&gt; &lt;link href="asserts/css/bootstrap.min.css" th:href="@&#123;/webjars/bootstrap/4.0.0/css/bootstrap.css&#125;" rel="stylesheet"&gt; &lt;!-- Custom styles for this template --&gt; &lt;link href="asserts/css/signin.css" th:href="@&#123;/asserts/css/signin.css&#125;" rel="stylesheet"&gt; &lt;/head&gt; &lt;body class="text-center"&gt; &lt;form class="form-signin" action="dashboard.html"&gt; &lt;img class="mb-4" th:src="@&#123;/asserts/img/bootstrap-solid.svg&#125;" src="asserts/img/bootstrap-solid.svg" alt="" width="72" height="72"&gt; &lt;h1 class="h3 mb-3 font-weight-normal" th:text="#&#123;login.tip&#125;"&gt;Please sign in&lt;/h1&gt; &lt;label class="sr-only" th:text="#&#123;login.username&#125;"&gt;Username&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="Username" th:placeholder="#&#123;login.username&#125;" required="" autofocus=""&gt; &lt;label class="sr-only" th:text="#&#123;login.password&#125;"&gt;Password&lt;/label&gt; &lt;input type="password" class="form-control" placeholder="Password" th:placeholder="#&#123;login.password&#125;" required=""&gt; &lt;div class="checkbox mb-3"&gt; &lt;label&gt; &lt;input type="checkbox" value="remember-me"/&gt; [[#&#123;login.remember&#125;]] &lt;/label&gt; &lt;/div&gt; &lt;button class="btn btn-lg btn-primary btn-block" type="submit" th:text="#&#123;login.btn&#125;"&gt;Sign in&lt;/button&gt; &lt;p class="mt-5 mb-3 text-muted"&gt;¬© 2017-2018&lt;/p&gt; &lt;a class="btn btn-sm"&gt;‰∏≠Êñá&lt;/a&gt; &lt;a class="btn btn-sm"&gt;English&lt;/a&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; ÊïàÊûúÔºöÊ†πÊçÆÊµèËßàÂô®ËØ≠Ë®ÄËÆæÁΩÆÁöÑ‰ø°ÊÅØÂàáÊç¢‰∫ÜÂõΩÈôÖÂåñÔºõ ÂéüÁêÜÔºö ‚Äã ÂõΩÈôÖÂåñLocaleÔºàÂå∫Âüü‰ø°ÊÅØÂØπË±°ÔºâÔºõLocaleResolverÔºàËé∑ÂèñÂå∫Âüü‰ø°ÊÅØÂØπË±°ÔºâÔºõ 12345678910111213 @Bean @ConditionalOnMissingBean @ConditionalOnProperty(prefix = "spring.mvc", name = "locale") public LocaleResolver localeResolver() &#123; if (this.mvcProperties .getLocaleResolver() == WebMvcProperties.LocaleResolver.FIXED) &#123; return new FixedLocaleResolver(this.mvcProperties.getLocale()); &#125; AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver(); localeResolver.setDefaultLocale(this.mvcProperties.getLocale()); return localeResolver; &#125;ÈªòËÆ§ÁöÑÂ∞±ÊòØÊ†πÊçÆËØ∑Ê±ÇÂ§¥Â∏¶Êù•ÁöÑÂå∫Âüü‰ø°ÊÅØËé∑ÂèñLocaleËøõË°åÂõΩÈôÖÂåñ 4Ôºâ„ÄÅÁÇπÂáªÈìæÊé•ÂàáÊç¢ÂõΩÈôÖÂåñ 12345678910111213141516171819202122232425262728/** * ÂèØ‰ª•Âú®ËøûÊé•‰∏äÊê∫Â∏¶Âå∫Âüü‰ø°ÊÅØ */public class MyLocaleResolver implements LocaleResolver &#123; @Override public Locale resolveLocale(HttpServletRequest request) &#123; String l = request.getParameter("l"); Locale locale = Locale.getDefault(); if(!StringUtils.isEmpty(l))&#123; String[] split = l.split("_"); locale = new Locale(split[0],split[1]); &#125; return locale; &#125; @Override public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) &#123; &#125;&#125; @Bean public LocaleResolver localeResolver()&#123; return new MyLocaleResolver(); &#125;&#125; 3Ôºâ„ÄÅÁôªÈôÜÂºÄÂèëÊúüÈó¥Ê®°ÊùøÂºïÊìéÈ°µÈù¢‰øÆÊîπ‰ª•ÂêéÔºåË¶ÅÂÆûÊó∂ÁîüÊïà 1Ôºâ„ÄÅÁ¶ÅÁî®Ê®°ÊùøÂºïÊìéÁöÑÁºìÂ≠ò 12# Á¶ÅÁî®ÁºìÂ≠òspring.thymeleaf.cache=false 2Ôºâ„ÄÅÈ°µÈù¢‰øÆÊîπÂÆåÊàê‰ª•Âêéctrl+f9ÔºöÈáçÊñ∞ÁºñËØëÔºõ ÁôªÈôÜÈîôËØØÊ∂àÊÅØÁöÑÊòæÁ§∫ 1&lt;p style="color: red" th:text="$&#123;msg&#125;" th:if="$&#123;not #strings.isEmpty(msg)&#125;"&gt;&lt;/p&gt; 4Ôºâ„ÄÅÊã¶Êà™Âô®ËøõË°åÁôªÈôÜÊ£ÄÊü•Êã¶Êà™Âô® 12345678910111213141516171819202122232425262728293031/** * ÁôªÈôÜÊ£ÄÊü•Ôºå */public class LoginHandlerInterceptor implements HandlerInterceptor &#123; //ÁõÆÊ†áÊñπÊ≥ïÊâßË°å‰πãÂâç @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; Object user = request.getSession().getAttribute("loginUser"); if(user == null)&#123; //Êú™ÁôªÈôÜÔºåËøîÂõûÁôªÈôÜÈ°µÈù¢ request.setAttribute("msg","Ê≤°ÊúâÊùÉÈôêËØ∑ÂÖàÁôªÈôÜ"); request.getRequestDispatcher("/index.html").forward(request,response); return false; &#125;else&#123; //Â∑≤ÁôªÈôÜÔºåÊîæË°åËØ∑Ê±Ç return true; &#125; &#125; @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; &#125;&#125; Ê≥®ÂÜåÊã¶Êà™Âô® 1234567891011121314151617181920212223//ÊâÄÊúâÁöÑWebMvcConfigurerAdapterÁªÑ‰ª∂ÈÉΩ‰ºö‰∏ÄËµ∑Ëµ∑‰ΩúÁî® @Bean //Â∞ÜÁªÑ‰ª∂Ê≥®ÂÜåÂú®ÂÆπÂô® public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; WebMvcConfigurerAdapter adapter = new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController("/").setViewName("login"); registry.addViewController("/index.html").setViewName("login"); registry.addViewController("/main.html").setViewName("dashboard"); &#125; //Ê≥®ÂÜåÊã¶Êà™Âô® @Override public void addInterceptors(InterceptorRegistry registry) &#123; //super.addInterceptors(registry); //ÈùôÊÄÅËµÑÊ∫êÔºõ *.css , *.js //SpringBootÂ∑≤ÁªèÂÅöÂ•Ω‰∫ÜÈùôÊÄÅËµÑÊ∫êÊò†Â∞Ñ registry.addInterceptor(new LoginHandlerInterceptor()).addPathPatterns("/**") .excludePathPatterns("/index.html","/","/user/login"); &#125; &#125;; return adapter; &#125; 5Ôºâ„ÄÅCRUD-ÂëòÂ∑•ÂàóË°®ÂÆûÈ™åË¶ÅÊ±ÇÔºö 1Ôºâ„ÄÅRestfulCRUDÔºöCRUDÊª°Ë∂≥RestÈ£éÊ†ºÔºõ URIÔºö /ËµÑÊ∫êÂêçÁß∞/ËµÑÊ∫êÊ†áËØÜ HTTPËØ∑Ê±ÇÊñπÂºèÂå∫ÂàÜÂØπËµÑÊ∫êCRUDÊìç‰Ωú ÊôÆÈÄöCRUDÔºàuriÊù•Âå∫ÂàÜÊìç‰ΩúÔºâ RestfulCRUD Êü•ËØ¢ getEmp emp‚ÄîGET Ê∑ªÂä† addEmp?xxx emp‚ÄîPOST ‰øÆÊîπ updateEmp?id=xxx&amp;xxx=xx emp/{id}‚ÄîPUT Âà†Èô§ deleteEmp?id=1 emp/{id}‚ÄîDELETE 2Ôºâ„ÄÅÂÆûÈ™åÁöÑËØ∑Ê±ÇÊû∂ÊûÑ; ÂÆûÈ™åÂäüËÉΩ ËØ∑Ê±ÇURI ËØ∑Ê±ÇÊñπÂºè Êü•ËØ¢ÊâÄÊúâÂëòÂ∑• emps GET Êü•ËØ¢Êüê‰∏™ÂëòÂ∑•(Êù•Âà∞‰øÆÊîπÈ°µÈù¢) emp/1 GET Êù•Âà∞Ê∑ªÂä†È°µÈù¢ emp GET Ê∑ªÂä†ÂëòÂ∑• emp POST Êù•Âà∞‰øÆÊîπÈ°µÈù¢ÔºàÊü•Âá∫ÂëòÂ∑•ËøõË°å‰ø°ÊÅØÂõûÊòæÔºâ emp/1 GET ‰øÆÊîπÂëòÂ∑• emp PUT Âà†Èô§ÂëòÂ∑• emp/1 DELETE 3Ôºâ„ÄÅÂëòÂ∑•ÂàóË°®Ôºö thymeleafÂÖ¨ÂÖ±È°µÈù¢ÂÖÉÁ¥†ÊäΩÂèñ12345678910111213141„ÄÅÊäΩÂèñÂÖ¨ÂÖ±ÁâáÊÆµ&lt;div th:fragment="copy"&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt;2„ÄÅÂºïÂÖ•ÂÖ¨ÂÖ±ÁâáÊÆµ&lt;div th:insert="~&#123;footer :: copy&#125;"&gt;&lt;/div&gt;~&#123;templatename::selector&#125;ÔºöÊ®°ÊùøÂêç::ÈÄâÊã©Âô®~&#123;templatename::fragmentname&#125;:Ê®°ÊùøÂêç::ÁâáÊÆµÂêç3„ÄÅÈªòËÆ§ÊïàÊûúÔºöinsertÁöÑÂÖ¨ÂÖ±ÁâáÊÆµÂú®divÊ†áÁ≠æ‰∏≠Â¶ÇÊûú‰ΩøÁî®th:insertÁ≠âÂ±ûÊÄßËøõË°åÂºïÂÖ•ÔºåÂèØ‰ª•‰∏çÁî®ÂÜô~&#123;&#125;ÔºöË°åÂÜÖÂÜôÊ≥ïÂèØ‰ª•Âä†‰∏äÔºö[[~&#123;&#125;]];[(~&#123;&#125;)]Ôºõ ‰∏âÁßçÂºïÂÖ•ÂÖ¨ÂÖ±ÁâáÊÆµÁöÑthÂ±ûÊÄßÔºö th:insertÔºöÂ∞ÜÂÖ¨ÂÖ±ÁâáÊÆµÊï¥‰∏™ÊèíÂÖ•Âà∞Â£∞ÊòéÂºïÂÖ•ÁöÑÂÖÉÁ¥†‰∏≠ th:replaceÔºöÂ∞ÜÂ£∞ÊòéÂºïÂÖ•ÁöÑÂÖÉÁ¥†ÊõøÊç¢‰∏∫ÂÖ¨ÂÖ±ÁâáÊÆµ th:includeÔºöÂ∞ÜË¢´ÂºïÂÖ•ÁöÑÁâáÊÆµÁöÑÂÜÖÂÆπÂåÖÂê´ËøõËøô‰∏™Ê†áÁ≠æ‰∏≠ 1234567891011121314151617181920212223&lt;footer th:fragment="copy"&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/footer&gt;ÂºïÂÖ•ÊñπÂºè&lt;div th:insert="footer :: copy"&gt;&lt;/div&gt;&lt;div th:replace="footer :: copy"&gt;&lt;/div&gt;&lt;div th:include="footer :: copy"&gt;&lt;/div&gt;ÊïàÊûú&lt;div&gt; &lt;footer&gt; &amp;copy; 2011 The Good Thymes Virtual Grocery &lt;/footer&gt;&lt;/div&gt;&lt;footer&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/footer&gt;&lt;div&gt;&amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt; ÂºïÂÖ•ÁâáÊÆµÁöÑÊó∂ÂÄô‰º†ÂÖ•ÂèÇÊï∞Ôºö 123456789101112131415161718&lt;nav class="col-md-2 d-none d-md-block bg-light sidebar" id="sidebar"&gt; &lt;div class="sidebar-sticky"&gt; &lt;ul class="nav flex-column"&gt; &lt;li class="nav-item"&gt; &lt;a class="nav-link active" th:class="$&#123;activeUri=='main.html'?'nav-link active':'nav-link'&#125;" href="#" th:href="@&#123;/main.html&#125;"&gt; &lt;svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"&gt; &lt;path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"&gt;&lt;/path&gt; &lt;polyline points="9 22 9 12 15 12 15 22"&gt;&lt;/polyline&gt; &lt;/svg&gt; Dashboard &lt;span class="sr-only"&gt;(current)&lt;/span&gt; &lt;/a&gt; &lt;/li&gt;&lt;!--ÂºïÂÖ•‰æßËæπÊ†è;‰º†ÂÖ•ÂèÇÊï∞--&gt;&lt;div th:replace="commons/bar::#sidebar(activeUri='emps')"&gt;&lt;/div&gt; 6Ôºâ„ÄÅCRUD-ÂëòÂ∑•Ê∑ªÂä†Ê∑ªÂä†È°µÈù¢ 123456789101112131415161718192021222324252627282930313233343536&lt;form&gt; &lt;div class="form-group"&gt; &lt;label&gt;LastName&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="zhangsan"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input type="email" class="form-control" placeholder="zhangsan@atguigu.com"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Gender&lt;/label&gt;&lt;br/&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="1"&gt; &lt;label class="form-check-label"&gt;Áî∑&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="0"&gt; &lt;label class="form-check-label"&gt;Â•≥&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;department&lt;/label&gt; &lt;select class="form-control"&gt; &lt;option&gt;1&lt;/option&gt; &lt;option&gt;2&lt;/option&gt; &lt;option&gt;3&lt;/option&gt; &lt;option&gt;4&lt;/option&gt; &lt;option&gt;5&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Birth&lt;/label&gt; &lt;input type="text" class="form-control" placeholder="zhangsan"&gt; &lt;/div&gt; &lt;button type="submit" class="btn btn-primary"&gt;Ê∑ªÂä†&lt;/button&gt;&lt;/form&gt; Êèê‰∫§ÁöÑÊï∞ÊçÆÊ†ºÂºè‰∏çÂØπÔºöÁîüÊó•ÔºöÊó•ÊúüÔºõ 2017-12-12Ôºõ2017/12/12Ôºõ2017.12.12Ôºõ Êó•ÊúüÁöÑÊ†ºÂºèÂåñÔºõSpringMVCÂ∞ÜÈ°µÈù¢Êèê‰∫§ÁöÑÂÄºÈúÄË¶ÅËΩ¨Êç¢‰∏∫ÊåáÂÆöÁöÑÁ±ªÂûã; 2017-12-12‚ÄîDateÔºõ Á±ªÂûãËΩ¨Êç¢ÔºåÊ†ºÂºèÂåñ; ÈªòËÆ§Êó•ÊúüÊòØÊåâÁÖß/ÁöÑÊñπÂºèÔºõ 7Ôºâ„ÄÅCRUD-ÂëòÂ∑•‰øÆÊîπ‰øÆÊîπÊ∑ªÂä†‰∫åÂêà‰∏ÄË°®Âçï 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!--ÈúÄË¶ÅÂå∫ÂàÜÊòØÂëòÂ∑•‰øÆÊîπËøòÊòØÊ∑ªÂä†Ôºõ--&gt;&lt;form th:action="@&#123;/emp&#125;" method="post"&gt; &lt;!--ÂèëÈÄÅputËØ∑Ê±Ç‰øÆÊîπÂëòÂ∑•Êï∞ÊçÆ--&gt; &lt;!--1„ÄÅSpringMVC‰∏≠ÈÖçÁΩÆHiddenHttpMethodFilter;ÔºàSpringBootËá™Âä®ÈÖçÁΩÆÂ•ΩÁöÑÔºâ2„ÄÅÈ°µÈù¢ÂàõÂª∫‰∏Ä‰∏™postË°®Âçï3„ÄÅÂàõÂª∫‰∏Ä‰∏™inputÈ°πÔºåname="_method";ÂÄºÂ∞±ÊòØÊàë‰ª¨ÊåáÂÆöÁöÑËØ∑Ê±ÇÊñπÂºè--&gt; &lt;input type="hidden" name="_method" value="put" th:if="$&#123;emp!=null&#125;"/&gt; &lt;input type="hidden" name="id" th:if="$&#123;emp!=null&#125;" th:value="$&#123;emp.id&#125;"&gt; &lt;div class="form-group"&gt; &lt;label&gt;LastName&lt;/label&gt; &lt;input name="lastName" type="text" class="form-control" placeholder="zhangsan" th:value="$&#123;emp!=null&#125;?$&#123;emp.lastName&#125;"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Email&lt;/label&gt; &lt;input name="email" type="email" class="form-control" placeholder="zhangsan@atguigu.com" th:value="$&#123;emp!=null&#125;?$&#123;emp.email&#125;"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Gender&lt;/label&gt;&lt;br/&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="1" th:checked="$&#123;emp!=null&#125;?$&#123;emp.gender==1&#125;"&gt; &lt;label class="form-check-label"&gt;Áî∑&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="gender" value="0" th:checked="$&#123;emp!=null&#125;?$&#123;emp.gender==0&#125;"&gt; &lt;label class="form-check-label"&gt;Â•≥&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;department&lt;/label&gt; &lt;!--Êèê‰∫§ÁöÑÊòØÈÉ®Èó®ÁöÑid--&gt; &lt;select class="form-control" name="department.id"&gt; &lt;option th:selected="$&#123;emp!=null&#125;?$&#123;dept.id == emp.department.id&#125;" th:value="$&#123;dept.id&#125;" th:each="dept:$&#123;depts&#125;" th:text="$&#123;dept.departmentName&#125;"&gt;1&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Birth&lt;/label&gt; &lt;input name="birth" type="text" class="form-control" placeholder="zhangsan" th:value="$&#123;emp!=null&#125;?$&#123;#dates.format(emp.birth, 'yyyy-MM-dd HH:mm')&#125;"&gt; &lt;/div&gt; &lt;button type="submit" class="btn btn-primary" th:text="$&#123;emp!=null&#125;?'‰øÆÊîπ':'Ê∑ªÂä†'"&gt;Ê∑ªÂä†&lt;/button&gt;&lt;/form&gt; 8Ôºâ„ÄÅCRUD-ÂëòÂ∑•Âà†Èô§123456789101112131415161718192021&lt;tr th:each="emp:$&#123;emps&#125;"&gt; &lt;td th:text="$&#123;emp.id&#125;"&gt;&lt;/td&gt; &lt;td&gt;[[$&#123;emp.lastName&#125;]]&lt;/td&gt; &lt;td th:text="$&#123;emp.email&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;emp.gender&#125;==0?'Â•≥':'Áî∑'"&gt;&lt;/td&gt; &lt;td th:text="$&#123;emp.department.departmentName&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;#dates.format(emp.birth, 'yyyy-MM-dd HH:mm')&#125;"&gt;&lt;/td&gt; &lt;td&gt; &lt;a class="btn btn-sm btn-primary" th:href="@&#123;/emp/&#125;+$&#123;emp.id&#125;"&gt;ÁºñËæë&lt;/a&gt; &lt;button th:attr="del_uri=@&#123;/emp/&#125;+$&#123;emp.id&#125;" class="btn btn-sm btn-danger deleteBtn"&gt;Âà†Èô§&lt;/button&gt; &lt;/td&gt;&lt;/tr&gt;&lt;script&gt; $(".deleteBtn").click(function()&#123; //Âà†Èô§ÂΩìÂâçÂëòÂ∑•ÁöÑ $("#deleteEmpForm").attr("action",$(this).attr("del_uri")).submit(); return false; &#125;);&lt;/script&gt; 7„ÄÅÈîôËØØÂ§ÑÁêÜÊú∫Âà∂1Ôºâ„ÄÅSpringBootÈªòËÆ§ÁöÑÈîôËØØÂ§ÑÁêÜÊú∫Âà∂ÈªòËÆ§ÊïàÊûúÔºö ‚Äã 1Ôºâ„ÄÅÊµèËßàÂô®ÔºåËøîÂõû‰∏Ä‰∏™ÈªòËÆ§ÁöÑÈîôËØØÈ°µÈù¢ ÊµèËßàÂô®ÂèëÈÄÅËØ∑Ê±ÇÁöÑËØ∑Ê±ÇÂ§¥Ôºö ‚Äã 2Ôºâ„ÄÅÂ¶ÇÊûúÊòØÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÔºåÈªòËÆ§ÂìçÂ∫î‰∏Ä‰∏™jsonÊï∞ÊçÆ ‚Äã ÂéüÁêÜÔºö ‚Äã ÂèØ‰ª•ÂèÇÁÖßErrorMvcAutoConfigurationÔºõÈîôËØØÂ§ÑÁêÜÁöÑËá™Âä®ÈÖçÁΩÆÔºõ ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∫Ü‰ª•‰∏ãÁªÑ‰ª∂ ‚Äã 1„ÄÅDefaultErrorAttributesÔºö 1234567891011Â∏ÆÊàë‰ª¨Âú®È°µÈù¢ÂÖ±‰∫´‰ø°ÊÅØÔºõ@Override public Map&lt;String, Object&gt; getErrorAttributes(RequestAttributes requestAttributes, boolean includeStackTrace) &#123; Map&lt;String, Object&gt; errorAttributes = new LinkedHashMap&lt;String, Object&gt;(); errorAttributes.put("timestamp", new Date()); addStatus(errorAttributes, requestAttributes); addErrorDetails(errorAttributes, requestAttributes, includeStackTrace); addPath(errorAttributes, requestAttributes); return errorAttributes; &#125; ‚Äã 2„ÄÅBasicErrorControllerÔºöÂ§ÑÁêÜÈªòËÆ§/errorËØ∑Ê±Ç 12345678910111213141516171819202122232425@Controller@RequestMapping("$&#123;server.error.path:$&#123;error.path:/error&#125;&#125;")public class BasicErrorController extends AbstractErrorController &#123; @RequestMapping(produces = "text/html")//‰∫ßÁîühtmlÁ±ªÂûãÁöÑÊï∞ÊçÆÔºõÊµèËßàÂô®ÂèëÈÄÅÁöÑËØ∑Ê±ÇÊù•Âà∞Ëøô‰∏™ÊñπÊ≥ïÂ§ÑÁêÜ public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) &#123; HttpStatus status = getStatus(request); Map&lt;String, Object&gt; model = Collections.unmodifiableMap(getErrorAttributes( request, isIncludeStackTrace(request, MediaType.TEXT_HTML))); response.setStatus(status.value()); //ÂéªÂì™‰∏™È°µÈù¢‰Ωú‰∏∫ÈîôËØØÈ°µÈù¢ÔºõÂåÖÂê´È°µÈù¢Âú∞ÂùÄÂíåÈ°µÈù¢ÂÜÖÂÆπ ModelAndView modelAndView = resolveErrorView(request, response, status, model); return (modelAndView == null ? new ModelAndView("error", model) : modelAndView); &#125; @RequestMapping @ResponseBody //‰∫ßÁîüjsonÊï∞ÊçÆÔºåÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÊù•Âà∞Ëøô‰∏™ÊñπÊ≥ïÂ§ÑÁêÜÔºõ public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) &#123; Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request, MediaType.ALL)); HttpStatus status = getStatus(request); return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(body, status); &#125; ‚Äã 3„ÄÅErrorPageCustomizerÔºö 12@Value("$&#123;error.path:/error&#125;")private String path = "/error"; Á≥ªÁªüÂá∫Áé∞ÈîôËØØ‰ª•ÂêéÊù•Âà∞errorËØ∑Ê±ÇËøõË°åÂ§ÑÁêÜÔºõÔºàweb.xmlÊ≥®ÂÜåÁöÑÈîôËØØÈ°µÈù¢ËßÑÂàôÔºâ ‚Äã 4„ÄÅDefaultErrorViewResolverÔºö 123456789101112131415161718192021222324@Override public ModelAndView resolveErrorView(HttpServletRequest request, HttpStatus status, Map&lt;String, Object&gt; model) &#123; ModelAndView modelAndView = resolve(String.valueOf(status), model); if (modelAndView == null &amp;&amp; SERIES_VIEWS.containsKey(status.series())) &#123; modelAndView = resolve(SERIES_VIEWS.get(status.series()), model); &#125; return modelAndView; &#125; private ModelAndView resolve(String viewName, Map&lt;String, Object&gt; model) &#123; //ÈªòËÆ§SpringBootÂèØ‰ª•ÂéªÊâæÂà∞‰∏Ä‰∏™È°µÈù¢Ôºü error/404 String errorViewName = "error/" + viewName; //Ê®°ÊùøÂºïÊìéÂèØ‰ª•Ëß£ÊûêËøô‰∏™È°µÈù¢Âú∞ÂùÄÂ∞±Áî®Ê®°ÊùøÂºïÊìéËß£Êûê TemplateAvailabilityProvider provider = this.templateAvailabilityProviders .getProvider(errorViewName, this.applicationContext); if (provider != null) &#123; //Ê®°ÊùøÂºïÊìéÂèØÁî®ÁöÑÊÉÖÂÜµ‰∏ãËøîÂõûÂà∞errorViewNameÊåáÂÆöÁöÑËßÜÂõæÂú∞ÂùÄ return new ModelAndView(errorViewName, model); &#125; //Ê®°ÊùøÂºïÊìé‰∏çÂèØÁî®ÔºåÂ∞±Âú®ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§π‰∏ãÊâæerrorViewNameÂØπÂ∫îÁöÑÈ°µÈù¢ error/404.html return resolveResource(errorViewName, model); &#125; ‚Äã Ê≠•È™§Ôºö ‚Äã ‰∏Ä‰ΩÜÁ≥ªÁªüÂá∫Áé∞4xxÊàñËÄÖ5xx‰πãÁ±ªÁöÑÈîôËØØÔºõErrorPageCustomizerÂ∞±‰ºöÁîüÊïàÔºàÂÆöÂà∂ÈîôËØØÁöÑÂìçÂ∫îËßÑÂàôÔºâÔºõÂ∞±‰ºöÊù•Âà∞/errorËØ∑Ê±ÇÔºõÂ∞±‰ºöË¢´BasicErrorControllerÂ§ÑÁêÜÔºõ ‚Äã 1ÔºâÂìçÂ∫îÈ°µÈù¢ÔºõÂéªÂì™‰∏™È°µÈù¢ÊòØÁî±DefaultErrorViewResolverËß£ÊûêÂæóÂà∞ÁöÑÔºõ 1234567891011protected ModelAndView resolveErrorView(HttpServletRequest request, HttpServletResponse response, HttpStatus status, Map&lt;String, Object&gt; model) &#123; //ÊâÄÊúâÁöÑErrorViewResolverÂæóÂà∞ModelAndView for (ErrorViewResolver resolver : this.errorViewResolvers) &#123; ModelAndView modelAndView = resolver.resolveErrorView(request, status, model); if (modelAndView != null) &#123; return modelAndView; &#125; &#125; return null;&#125; 2Ôºâ„ÄÅÂ¶ÇÊûúÂÆöÂà∂ÈîôËØØÂìçÂ∫îÔºö1Ôºâ„ÄÅÂ¶Ç‰ΩïÂÆöÂà∂ÈîôËØØÁöÑÈ°µÈù¢Ôºõ‚Äã 1Ôºâ„ÄÅÊúâÊ®°ÊùøÂºïÊìéÁöÑÊÉÖÂÜµ‰∏ãÔºõerror/Áä∂ÊÄÅÁ†Å; „ÄêÂ∞ÜÈîôËØØÈ°µÈù¢ÂëΩÂêç‰∏∫ ÈîôËØØÁä∂ÊÄÅÁ†Å.html ÊîæÂú®Ê®°ÊùøÂºïÊìéÊñá‰ª∂Â§πÈáåÈù¢ÁöÑ errorÊñá‰ª∂Â§π‰∏ã„ÄëÔºåÂèëÁîüÊ≠§Áä∂ÊÄÅÁ†ÅÁöÑÈîôËØØÂ∞±‰ºöÊù•Âà∞ ÂØπÂ∫îÁöÑÈ°µÈù¢Ôºõ ‚Äã Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®4xxÂíå5xx‰Ωú‰∏∫ÈîôËØØÈ°µÈù¢ÁöÑÊñá‰ª∂ÂêçÊù•ÂåπÈÖçËøôÁßçÁ±ªÂûãÁöÑÊâÄÊúâÈîôËØØÔºåÁ≤æÁ°Æ‰ºòÂÖàÔºà‰ºòÂÖàÂØªÊâæÁ≤æÁ°ÆÁöÑÁä∂ÊÄÅÁ†Å.htmlÔºâÔºõ ‚Äã È°µÈù¢ËÉΩËé∑ÂèñÁöÑ‰ø°ÊÅØÔºõ ‚Äã timestampÔºöÊó∂Èó¥Êà≥ ‚Äã statusÔºöÁä∂ÊÄÅÁ†Å ‚Äã errorÔºöÈîôËØØÊèêÁ§∫ ‚Äã exceptionÔºöÂºÇÂ∏∏ÂØπË±° ‚Äã messageÔºöÂºÇÂ∏∏Ê∂àÊÅØ ‚Äã errorsÔºöJSR303Êï∞ÊçÆÊ†°È™åÁöÑÈîôËØØÈÉΩÂú®ËøôÈáå ‚Äã 2Ôºâ„ÄÅÊ≤°ÊúâÊ®°ÊùøÂºïÊìéÔºàÊ®°ÊùøÂºïÊìéÊâæ‰∏çÂà∞Ëøô‰∏™ÈîôËØØÈ°µÈù¢ÔºâÔºåÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§π‰∏ãÊâæÔºõ ‚Äã 3Ôºâ„ÄÅ‰ª•‰∏äÈÉΩÊ≤°ÊúâÈîôËØØÈ°µÈù¢ÔºåÂ∞±ÊòØÈªòËÆ§Êù•Âà∞SpringBootÈªòËÆ§ÁöÑÈîôËØØÊèêÁ§∫È°µÈù¢Ôºõ 2Ôºâ„ÄÅÂ¶Ç‰ΩïÂÆöÂà∂ÈîôËØØÁöÑjsonÊï∞ÊçÆÔºõ‚Äã 1Ôºâ„ÄÅËá™ÂÆö‰πâÂºÇÂ∏∏Â§ÑÁêÜ&amp;ËøîÂõûÂÆöÂà∂jsonÊï∞ÊçÆÔºõ 12345678910111213@ControllerAdvicepublic class MyExceptionHandler &#123; @ResponseBody @ExceptionHandler(UserNotExistException.class) public Map&lt;String,Object&gt; handleException(Exception e)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put("code","user.notexist"); map.put("message",e.getMessage()); return map; &#125;&#125;//Ê≤°ÊúâËá™ÈÄÇÂ∫îÊïàÊûú... ‚Äã 2Ôºâ„ÄÅËΩ¨ÂèëÂà∞/errorËøõË°åËá™ÈÄÇÂ∫îÂìçÂ∫îÊïàÊûúÂ§ÑÁêÜ 1234567891011121314@ExceptionHandler(UserNotExistException.class) public String handleException(Exception e, HttpServletRequest request)&#123; Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); //‰º†ÂÖ•Êàë‰ª¨Ëá™Â∑±ÁöÑÈîôËØØÁä∂ÊÄÅÁ†Å 4xx 5xxÔºåÂê¶ÂàôÂ∞±‰∏ç‰ºöËøõÂÖ•ÂÆöÂà∂ÈîôËØØÈ°µÈù¢ÁöÑËß£ÊûêÊµÅÁ®ã /** * Integer statusCode = (Integer) request .getAttribute("javax.servlet.error.status_code"); */ request.setAttribute("javax.servlet.error.status_code",500); map.put("code","user.notexist"); map.put("message",e.getMessage()); //ËΩ¨ÂèëÂà∞/error return "forward:/error"; &#125; 3Ôºâ„ÄÅÂ∞ÜÊàë‰ª¨ÁöÑÂÆöÂà∂Êï∞ÊçÆÊê∫Â∏¶Âá∫ÂéªÔºõÂá∫Áé∞ÈîôËØØ‰ª•ÂêéÔºå‰ºöÊù•Âà∞/errorËØ∑Ê±ÇÔºå‰ºöË¢´BasicErrorControllerÂ§ÑÁêÜÔºåÂìçÂ∫îÂá∫ÂéªÂèØ‰ª•Ëé∑ÂèñÁöÑÊï∞ÊçÆÊòØÁî±getErrorAttributesÂæóÂà∞ÁöÑÔºàÊòØAbstractErrorControllerÔºàErrorControllerÔºâËßÑÂÆöÁöÑÊñπÊ≥ïÔºâÔºõ ‚Äã 1„ÄÅÂÆåÂÖ®Êù•ÁºñÂÜô‰∏Ä‰∏™ErrorControllerÁöÑÂÆûÁé∞Á±ª„ÄêÊàñËÄÖÊòØÁºñÂÜôAbstractErrorControllerÁöÑÂ≠êÁ±ª„ÄëÔºåÊîæÂú®ÂÆπÂô®‰∏≠Ôºõ ‚Äã 2„ÄÅÈ°µÈù¢‰∏äËÉΩÁî®ÁöÑÊï∞ÊçÆÔºåÊàñËÄÖÊòØjsonËøîÂõûËÉΩÁî®ÁöÑÊï∞ÊçÆÈÉΩÊòØÈÄöËøáerrorAttributes.getErrorAttributesÂæóÂà∞Ôºõ ‚Äã ÂÆπÂô®‰∏≠DefaultErrorAttributes.getErrorAttributes()ÔºõÈªòËÆ§ËøõË°åÊï∞ÊçÆÂ§ÑÁêÜÁöÑÔºõ Ëá™ÂÆö‰πâErrorAttributes 1234567891011//ÁªôÂÆπÂô®‰∏≠Âä†ÂÖ•Êàë‰ª¨Ëá™Â∑±ÂÆö‰πâÁöÑErrorAttributes@Componentpublic class MyErrorAttributes extends DefaultErrorAttributes &#123; @Override public Map&lt;String, Object&gt; getErrorAttributes(RequestAttributes requestAttributes, boolean includeStackTrace) &#123; Map&lt;String, Object&gt; map = super.getErrorAttributes(requestAttributes, includeStackTrace); map.put("company","atguigu"); return map; &#125;&#125; ÊúÄÁªàÁöÑÊïàÊûúÔºöÂìçÂ∫îÊòØËá™ÈÄÇÂ∫îÁöÑÔºåÂèØ‰ª•ÈÄöËøáÂÆöÂà∂ErrorAttributesÊîπÂèòÈúÄË¶ÅËøîÂõûÁöÑÂÜÖÂÆπÔºå 8„ÄÅÈÖçÁΩÆÂµåÂÖ•ÂºèServletÂÆπÂô®SpringBootÈªòËÆ§‰ΩøÁî®Tomcat‰Ωú‰∏∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ôºõ ÈóÆÈ¢òÔºü 1Ôºâ„ÄÅÂ¶Ç‰ΩïÂÆöÂà∂Âíå‰øÆÊîπServletÂÆπÂô®ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÔºõ1„ÄÅ‰øÆÊîπÂíåserverÊúâÂÖ≥ÁöÑÈÖçÁΩÆÔºàServerProperties„Äê‰πüÊòØEmbeddedServletContainerCustomizer„ÄëÔºâÔºõ 123456789server.port=8081server.context-path=/crudserver.tomcat.uri-encoding=UTF-8//ÈÄöÁî®ÁöÑServletÂÆπÂô®ËÆæÁΩÆserver.xxx//TomcatÁöÑËÆæÁΩÆserver.tomcat.xxx 2„ÄÅÁºñÂÜô‰∏Ä‰∏™EmbeddedServletContainerCustomizerÔºöÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®ÁöÑÂÆöÂà∂Âô®ÔºõÊù•‰øÆÊîπServletÂÆπÂô®ÁöÑÈÖçÁΩÆ 1234567891011@Bean //‰∏ÄÂÆöË¶ÅÂ∞ÜËøô‰∏™ÂÆöÂà∂Âô®Âä†ÂÖ•Âà∞ÂÆπÂô®‰∏≠public EmbeddedServletContainerCustomizer embeddedServletContainerCustomizer()&#123; return new EmbeddedServletContainerCustomizer() &#123; //ÂÆöÂà∂ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Áõ∏ÂÖ≥ÁöÑËßÑÂàô @Override public void customize(ConfigurableEmbeddedServletContainer container) &#123; container.setPort(8083); &#125; &#125;;&#125; 2Ôºâ„ÄÅÊ≥®ÂÜåServlet‰∏âÂ§ßÁªÑ‰ª∂„ÄêServlet„ÄÅFilter„ÄÅListener„ÄëÁî±‰∫éSpringBootÈªòËÆ§ÊòØ‰ª•jarÂåÖÁöÑÊñπÂºèÂêØÂä®ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Êù•ÂêØÂä®SpringBootÁöÑwebÂ∫îÁî®ÔºåÊ≤°Êúâweb.xmlÊñá‰ª∂„ÄÇ Ê≥®ÂÜå‰∏âÂ§ßÁªÑ‰ª∂Áî®‰ª•‰∏ãÊñπÂºè ServletRegistrationBean 123456//Ê≥®ÂÜå‰∏âÂ§ßÁªÑ‰ª∂@Beanpublic ServletRegistrationBean myServlet()&#123; ServletRegistrationBean registrationBean = new ServletRegistrationBean(new MyServlet(),"/myServlet"); return registrationBean;&#125; FilterRegistrationBean 1234567@Beanpublic FilterRegistrationBean myFilter()&#123; FilterRegistrationBean registrationBean = new FilterRegistrationBean(); registrationBean.setFilter(new MyFilter()); registrationBean.setUrlPatterns(Arrays.asList("/hello","/myServlet")); return registrationBean;&#125; ServletListenerRegistrationBean 12345@Beanpublic ServletListenerRegistrationBean myListener()&#123; ServletListenerRegistrationBean&lt;MyListener&gt; registrationBean = new ServletListenerRegistrationBean&lt;&gt;(new MyListener()); return registrationBean;&#125; SpringBootÂ∏ÆÊàë‰ª¨Ëá™Âä®SpringMVCÁöÑÊó∂ÂÄôÔºåËá™Âä®ÁöÑÊ≥®ÂÜåSpringMVCÁöÑÂâçÁ´ØÊéßÂà∂Âô®ÔºõDIspatcherServletÔºõ DispatcherServletAutoConfiguration‰∏≠Ôºö 1234567891011121314151617@Bean(name = DEFAULT_DISPATCHER_SERVLET_REGISTRATION_BEAN_NAME)@ConditionalOnBean(value = DispatcherServlet.class, name = DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)public ServletRegistrationBean dispatcherServletRegistration( DispatcherServlet dispatcherServlet) &#123; ServletRegistrationBean registration = new ServletRegistrationBean( dispatcherServlet, this.serverProperties.getServletMapping()); //ÈªòËÆ§Êã¶Êà™Ôºö / ÊâÄÊúâËØ∑Ê±ÇÔºõÂåÖÈùôÊÄÅËµÑÊ∫êÔºå‰ΩÜÊòØ‰∏çÊã¶Êà™jspËØ∑Ê±ÇÔºõ /*‰ºöÊã¶Êà™jsp //ÂèØ‰ª•ÈÄöËøáserver.servletPathÊù•‰øÆÊîπSpringMVCÂâçÁ´ØÊéßÂà∂Âô®ÈªòËÆ§Êã¶Êà™ÁöÑËØ∑Ê±ÇË∑ØÂæÑ registration.setName(DEFAULT_DISPATCHER_SERVLET_BEAN_NAME); registration.setLoadOnStartup( this.webMvcProperties.getServlet().getLoadOnStartup()); if (this.multipartConfig != null) &#123; registration.setMultipartConfig(this.multipartConfig); &#125; return registration;&#125; 2Ôºâ„ÄÅSpringBootËÉΩ‰∏çËÉΩÊîØÊåÅÂÖ∂‰ªñÁöÑServletÂÆπÂô®Ôºõ 3Ôºâ„ÄÅÊõøÊç¢‰∏∫ÂÖ∂‰ªñÂµåÂÖ•ÂºèServletÂÆπÂô® ÈªòËÆ§ÊîØÊåÅÔºö TomcatÔºàÈªòËÆ§‰ΩøÁî®Ôºâ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; ÂºïÂÖ•webÊ®°ÂùóÈªòËÆ§Â∞±ÊòØ‰ΩøÁî®ÂµåÂÖ•ÂºèÁöÑTomcat‰Ωú‰∏∫ServletÂÆπÂô®Ôºõ&lt;/dependency&gt; Jetty 1234567891011121314151617&lt;!-- ÂºïÂÖ•webÊ®°Âùó --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--ÂºïÂÖ•ÂÖ∂‰ªñÁöÑServletÂÆπÂô®--&gt;&lt;dependency&gt; &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt; Undertow 1234567891011121314151617&lt;!-- ÂºïÂÖ•webÊ®°Âùó --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;&lt;!--ÂºïÂÖ•ÂÖ∂‰ªñÁöÑServletÂÆπÂô®--&gt;&lt;dependency&gt; &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;/dependency&gt; 4Ôºâ„ÄÅÂµåÂÖ•ÂºèServletÂÆπÂô®Ëá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºõEmbeddedServletContainerAutoConfigurationÔºöÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ëá™Âä®ÈÖçÁΩÆÔºü 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)@Configuration@ConditionalOnWebApplication@Import(BeanPostProcessorsRegistrar.class)//ÂØºÂÖ•BeanPostProcessorsRegistrarÔºöSpringÊ≥®Ëß£ÁâàÔºõÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•‰∏Ä‰∫õÁªÑ‰ª∂//ÂØºÂÖ•‰∫ÜEmbeddedServletContainerCustomizerBeanPostProcessorÔºö//ÂêéÁΩÆÂ§ÑÁêÜÂô®ÔºöbeanÂàùÂßãÂåñÂâçÂêéÔºàÂàõÂª∫ÂÆåÂØπË±°ÔºåËøòÊ≤°ËµãÂÄºËµãÂÄºÔºâÊâßË°åÂàùÂßãÂåñÂ∑•‰Ωúpublic class EmbeddedServletContainerAutoConfiguration &#123; @Configuration @ConditionalOnClass(&#123; Servlet.class, Tomcat.class &#125;)//Âà§Êñ≠ÂΩìÂâçÊòØÂê¶ÂºïÂÖ•‰∫ÜTomcat‰æùËµñÔºõ @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT)//Âà§Êñ≠ÂΩìÂâçÂÆπÂô®Ê≤°ÊúâÁî®Êà∑Ëá™Â∑±ÂÆö‰πâEmbeddedServletContainerFactoryÔºöÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºõ‰ΩúÁî®ÔºöÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô® public static class EmbeddedTomcat &#123; @Bean public TomcatEmbeddedServletContainerFactory tomcatEmbeddedServletContainerFactory() &#123; return new TomcatEmbeddedServletContainerFactory(); &#125; &#125; /** * Nested configuration if Jetty is being used. */ @Configuration @ConditionalOnClass(&#123; Servlet.class, Server.class, Loader.class, WebAppContext.class &#125;) @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT) public static class EmbeddedJetty &#123; @Bean public JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() &#123; return new JettyEmbeddedServletContainerFactory(); &#125; &#125; /** * Nested configuration if Undertow is being used. */ @Configuration @ConditionalOnClass(&#123; Servlet.class, Undertow.class, SslClientAuthMode.class &#125;) @ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT) public static class EmbeddedUndertow &#123; @Bean public UndertowEmbeddedServletContainerFactory undertowEmbeddedServletContainerFactory() &#123; return new UndertowEmbeddedServletContainerFactory(); &#125; &#125; 1Ôºâ„ÄÅEmbeddedServletContainerFactoryÔºàÂµåÂÖ•ÂºèServletÂÆπÂô®Â∑•ÂéÇÔºâ 1234567public interface EmbeddedServletContainerFactory &#123; //Ëé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô® EmbeddedServletContainer getEmbeddedServletContainer( ServletContextInitializer... initializers);&#125; 2Ôºâ„ÄÅEmbeddedServletContainerÔºöÔºàÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ôºâ 3Ôºâ„ÄÅ‰ª•TomcatEmbeddedServletContainerFactory‰∏∫‰æã 123456789101112131415161718192021222324@Overridepublic EmbeddedServletContainer getEmbeddedServletContainer( ServletContextInitializer... initializers) &#123; //ÂàõÂª∫‰∏Ä‰∏™Tomcat Tomcat tomcat = new Tomcat(); //ÈÖçÁΩÆTomcatÁöÑÂü∫Êú¨ÁéØËäÇ File baseDir = (this.baseDirectory != null ? this.baseDirectory : createTempDir("tomcat")); tomcat.setBaseDir(baseDir.getAbsolutePath()); Connector connector = new Connector(this.protocol); tomcat.getService().addConnector(connector); customizeConnector(connector); tomcat.setConnector(connector); tomcat.getHost().setAutoDeploy(false); configureEngine(tomcat.getEngine()); for (Connector additionalConnector : this.additionalTomcatConnectors) &#123; tomcat.getService().addConnector(additionalConnector); &#125; prepareContext(tomcat.getHost(), initializers); //Â∞ÜÈÖçÁΩÆÂ•ΩÁöÑTomcat‰º†ÂÖ•ËøõÂéªÔºåËøîÂõû‰∏Ä‰∏™EmbeddedServletContainerÔºõÂπ∂‰∏îÂêØÂä®TomcatÊúçÂä°Âô® return getTomcatEmbeddedServletContainer(tomcat);&#125; 4Ôºâ„ÄÅÊàë‰ª¨ÂØπÂµåÂÖ•ÂºèÂÆπÂô®ÁöÑÈÖçÁΩÆ‰øÆÊîπÊòØÊÄé‰πàÁîüÊïàÔºü 1ServerProperties„ÄÅEmbeddedServletContainerCustomizer EmbeddedServletContainerCustomizerÔºöÂÆöÂà∂Âô®Â∏ÆÊàë‰ª¨‰øÆÊîπ‰∫ÜServletÂÆπÂô®ÁöÑÈÖçÁΩÆÔºü ÊÄé‰πà‰øÆÊîπÁöÑÂéüÁêÜÔºü 5Ôºâ„ÄÅÂÆπÂô®‰∏≠ÂØºÂÖ•‰∫ÜEmbeddedServletContainerCustomizerBeanPostProcessor 12345678910111213141516171819202122232425262728293031323334353637//ÂàùÂßãÂåñ‰πãÂâç@Overridepublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123; //Â¶ÇÊûúÂΩìÂâçÂàùÂßãÂåñÁöÑÊòØ‰∏Ä‰∏™ConfigurableEmbeddedServletContainerÁ±ªÂûãÁöÑÁªÑ‰ª∂ if (bean instanceof ConfigurableEmbeddedServletContainer) &#123; // postProcessBeforeInitialization((ConfigurableEmbeddedServletContainer) bean); &#125; return bean;&#125;private void postProcessBeforeInitialization( ConfigurableEmbeddedServletContainer bean) &#123; //Ëé∑ÂèñÊâÄÊúâÁöÑÂÆöÂà∂Âô®ÔºåË∞ÉÁî®ÊØè‰∏Ä‰∏™ÂÆöÂà∂Âô®ÁöÑcustomizeÊñπÊ≥ïÊù•ÁªôServletÂÆπÂô®ËøõË°åÂ±ûÊÄßËµãÂÄºÔºõ for (EmbeddedServletContainerCustomizer customizer : getCustomizers()) &#123; customizer.customize(bean); &#125;&#125;private Collection&lt;EmbeddedServletContainerCustomizer&gt; getCustomizers() &#123; if (this.customizers == null) &#123; // Look up does not include the parent context this.customizers = new ArrayList&lt;EmbeddedServletContainerCustomizer&gt;( this.beanFactory //‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÊâÄÊúâËøôËëõÁ±ªÂûãÁöÑÁªÑ‰ª∂ÔºöEmbeddedServletContainerCustomizer //ÂÆöÂà∂ServletÂÆπÂô®ÔºåÁªôÂÆπÂô®‰∏≠ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™EmbeddedServletContainerCustomizerÁ±ªÂûãÁöÑÁªÑ‰ª∂ .getBeansOfType(EmbeddedServletContainerCustomizer.class, false, false) .values()); Collections.sort(this.customizers, AnnotationAwareOrderComparator.INSTANCE); this.customizers = Collections.unmodifiableList(this.customizers); &#125; return this.customizers;&#125;ServerProperties‰πüÊòØÂÆöÂà∂Âô® Ê≠•È™§Ôºö 1Ôºâ„ÄÅSpringBootÊ†πÊçÆÂØºÂÖ•ÁöÑ‰æùËµñÊÉÖÂÜµÔºåÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†Áõ∏Â∫îÁöÑEmbeddedServletContainerFactory„ÄêTomcatEmbeddedServletContainerFactory„Äë 2Ôºâ„ÄÅÂÆπÂô®‰∏≠Êüê‰∏™ÁªÑ‰ª∂Ë¶ÅÂàõÂª∫ÂØπË±°Â∞±‰ºöÊÉäÂä®ÂêéÁΩÆÂ§ÑÁêÜÂô®ÔºõEmbeddedServletContainerCustomizerBeanPostProcessorÔºõ Âè™Ë¶ÅÊòØÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºåÂêéÁΩÆÂ§ÑÁêÜÂô®Â∞±Â∑•‰ΩúÔºõ 3Ôºâ„ÄÅÂêéÁΩÆÂ§ÑÁêÜÂô®Ôºå‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÊâÄÊúâÁöÑEmbeddedServletContainerCustomizerÔºåË∞ÉÁî®ÂÆöÂà∂Âô®ÁöÑÂÆöÂà∂ÊñπÊ≥ï ###5Ôºâ„ÄÅÂµåÂÖ•ÂºèServletÂÆπÂô®ÂêØÂä®ÂéüÁêÜÔºõ ‰ªÄ‰πàÊó∂ÂÄôÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºü‰ªÄ‰πàÊó∂ÂÄôËé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Âπ∂ÂêØÂä®TomcatÔºõ Ëé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºö 1Ôºâ„ÄÅSpringBootÂ∫îÁî®ÂêØÂä®ËøêË°årunÊñπÊ≥ï 2Ôºâ„ÄÅrefreshContext(context);SpringBootÂà∑Êñ∞IOCÂÆπÂô®„ÄêÂàõÂª∫IOCÂÆπÂô®ÂØπË±°ÔºåÂπ∂ÂàùÂßãÂåñÂÆπÂô®ÔºåÂàõÂª∫ÂÆπÂô®‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÁªÑ‰ª∂„ÄëÔºõÂ¶ÇÊûúÊòØwebÂ∫îÁî®ÂàõÂª∫AnnotationConfigEmbeddedWebApplicationContextÔºåÂê¶ÂàôÔºöAnnotationConfigApplicationContext 3Ôºâ„ÄÅrefresh(context);Âà∑Êñ∞ÂàöÊâçÂàõÂª∫Â•ΩÁöÑiocÂÆπÂô®Ôºõ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public void refresh() throws BeansException, IllegalStateException &#123; synchronized (this.startupShutdownMonitor) &#123; // Prepare this context for refreshing. prepareRefresh(); // Tell the subclass to refresh the internal bean factory. ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory(); // Prepare the bean factory for use in this context. prepareBeanFactory(beanFactory); try &#123; // Allows post-processing of the bean factory in context subclasses. postProcessBeanFactory(beanFactory); // Invoke factory processors registered as beans in the context. invokeBeanFactoryPostProcessors(beanFactory); // Register bean processors that intercept bean creation. registerBeanPostProcessors(beanFactory); // Initialize message source for this context. initMessageSource(); // Initialize event multicaster for this context. initApplicationEventMulticaster(); // Initialize other special beans in specific context subclasses. onRefresh(); // Check for listener beans and register them. registerListeners(); // Instantiate all remaining (non-lazy-init) singletons. finishBeanFactoryInitialization(beanFactory); // Last step: publish corresponding event. finishRefresh(); &#125; catch (BeansException ex) &#123; if (logger.isWarnEnabled()) &#123; logger.warn("Exception encountered during context initialization - " + "cancelling refresh attempt: " + ex); &#125; // Destroy already created singletons to avoid dangling resources. destroyBeans(); // Reset 'active' flag. cancelRefresh(ex); // Propagate exception to caller. throw ex; &#125; finally &#123; // Reset common introspection caches in Spring's core, since we // might not ever need metadata for singleton beans anymore... resetCommonCaches(); &#125; &#125;&#125; 4Ôºâ„ÄÅ onRefresh(); webÁöÑiocÂÆπÂô®ÈáçÂÜô‰∫ÜonRefreshÊñπÊ≥ï 5Ôºâ„ÄÅwebiocÂÆπÂô®‰ºöÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®ÔºõcreateEmbeddedServletContainer(); 6Ôºâ„ÄÅËé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Â∑•ÂéÇÔºö EmbeddedServletContainerFactory containerFactory = getEmbeddedServletContainerFactory(); ‚Äã ‰ªéiocÂÆπÂô®‰∏≠Ëé∑ÂèñEmbeddedServletContainerFactory ÁªÑ‰ª∂ÔºõTomcatEmbeddedServletContainerFactoryÂàõÂª∫ÂØπË±°ÔºåÂêéÁΩÆÂ§ÑÁêÜÂô®‰∏ÄÁúãÊòØËøô‰∏™ÂØπË±°ÔºåÂ∞±Ëé∑ÂèñÊâÄÊúâÁöÑÂÆöÂà∂Âô®Êù•ÂÖàÂÆöÂà∂ServletÂÆπÂô®ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÔºõ 7Ôºâ„ÄÅ‰ΩøÁî®ÂÆπÂô®Â∑•ÂéÇËé∑ÂèñÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ôºöthis.embeddedServletContainer = containerFactory .getEmbeddedServletContainer(getSelfInitializer()); 8Ôºâ„ÄÅÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®ÂàõÂª∫ÂØπË±°Âπ∂ÂêØÂä®ServletÂÆπÂô®Ôºõ ÂÖàÂêØÂä®ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®ÔºåÂÜçÂ∞ÜiocÂÆπÂô®‰∏≠Ââ©‰∏ãÊ≤°ÊúâÂàõÂª∫Âá∫ÁöÑÂØπË±°Ëé∑ÂèñÂá∫Êù•Ôºõ ==IOCÂÆπÂô®ÂêØÂä®ÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®== 9„ÄÅ‰ΩøÁî®Â§ñÁΩÆÁöÑServletÂÆπÂô®ÂµåÂÖ•ÂºèServletÂÆπÂô®ÔºöÂ∫îÁî®ÊâìÊàêÂèØÊâßË°åÁöÑjar ‚Äã ‰ºòÁÇπÔºöÁÆÄÂçï„ÄÅ‰æøÊê∫Ôºõ ‚Äã Áº∫ÁÇπÔºöÈªòËÆ§‰∏çÊîØÊåÅJSP„ÄÅ‰ºòÂåñÂÆöÂà∂ÊØîËæÉÂ§çÊùÇÔºà‰ΩøÁî®ÂÆöÂà∂Âô®„ÄêServerProperties„ÄÅËá™ÂÆö‰πâEmbeddedServletContainerCustomizer„ÄëÔºåËá™Â∑±ÁºñÂÜôÂµåÂÖ•ÂºèServletÂÆπÂô®ÁöÑÂàõÂª∫Â∑•ÂéÇ„ÄêEmbeddedServletContainerFactory„ÄëÔºâÔºõ Â§ñÁΩÆÁöÑServletÂÆπÂô®ÔºöÂ§ñÈù¢ÂÆâË£ÖTomcat‚ÄîÂ∫îÁî®warÂåÖÁöÑÊñπÂºèÊâìÂåÖÔºõ Ê≠•È™§1Ôºâ„ÄÅÂøÖÈ°ªÂàõÂª∫‰∏Ä‰∏™warÈ°πÁõÆÔºõÔºàÂà©Áî®ideaÂàõÂª∫Â•ΩÁõÆÂΩïÁªìÊûÑÔºâ 2Ôºâ„ÄÅÂ∞ÜÂµåÂÖ•ÂºèÁöÑTomcatÊåáÂÆö‰∏∫providedÔºõ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 3Ôºâ„ÄÅÂøÖÈ°ªÁºñÂÜô‰∏Ä‰∏™SpringBootServletInitializerÁöÑÂ≠êÁ±ªÔºåÂπ∂Ë∞ÉÁî®configureÊñπÊ≥ï 123456789public class ServletInitializer extends SpringBootServletInitializer &#123; @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder application) &#123; //‰º†ÂÖ•SpringBootÂ∫îÁî®ÁöÑ‰∏ªÁ®ãÂ∫è return application.sources(SpringBoot04WebJspApplication.class); &#125;&#125; 4Ôºâ„ÄÅÂêØÂä®ÊúçÂä°Âô®Â∞±ÂèØ‰ª•‰ΩøÁî®Ôºõ ÂéüÁêÜjarÂåÖÔºöÊâßË°åSpringBoot‰∏ªÁ±ªÁöÑmainÊñπÊ≥ïÔºåÂêØÂä®iocÂÆπÂô®ÔºåÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑServletÂÆπÂô®Ôºõ warÂåÖÔºöÂêØÂä®ÊúçÂä°Âô®ÔºåÊúçÂä°Âô®ÂêØÂä®SpringBootÂ∫îÁî®„ÄêSpringBootServletInitializer„ÄëÔºåÂêØÂä®iocÂÆπÂô®Ôºõ servlet3.0ÔºàSpringÊ≥®Ëß£ÁâàÔºâÔºö 8.2.4 Shared libraries / runtimes pluggabilityÔºö ËßÑÂàôÔºö ‚Äã 1Ôºâ„ÄÅÊúçÂä°Âô®ÂêØÂä®ÔºàwebÂ∫îÁî®ÂêØÂä®Ôºâ‰ºöÂàõÂª∫ÂΩìÂâçwebÂ∫îÁî®ÈáåÈù¢ÊØè‰∏Ä‰∏™jarÂåÖÈáåÈù¢ServletContainerInitializerÂÆû‰æãÔºö ‚Äã 2Ôºâ„ÄÅServletContainerInitializerÁöÑÂÆûÁé∞ÊîæÂú®jarÂåÖÁöÑMETA-INF/servicesÊñá‰ª∂Â§π‰∏ãÔºåÊúâ‰∏Ä‰∏™Âêç‰∏∫javax.servlet.ServletContainerInitializerÁöÑÊñá‰ª∂ÔºåÂÜÖÂÆπÂ∞±ÊòØServletContainerInitializerÁöÑÂÆûÁé∞Á±ªÁöÑÂÖ®Á±ªÂêç ‚Äã 3Ôºâ„ÄÅËøòÂèØ‰ª•‰ΩøÁî®@HandlesTypesÔºåÂú®Â∫îÁî®ÂêØÂä®ÁöÑÊó∂ÂÄôÂä†ËΩΩÊàë‰ª¨ÊÑüÂÖ¥Ë∂£ÁöÑÁ±ªÔºõ ÊµÅÁ®ãÔºö 1Ôºâ„ÄÅÂêØÂä®Tomcat 2Ôºâ„ÄÅorg\springframework\spring-web\4.3.14.RELEASE\spring-web-4.3.14.RELEASE.jar!\META-INF\services\javax.servlet.ServletContainerInitializerÔºö SpringÁöÑwebÊ®°ÂùóÈáåÈù¢ÊúâËøô‰∏™Êñá‰ª∂Ôºöorg.springframework.web.SpringServletContainerInitializer 3Ôºâ„ÄÅSpringServletContainerInitializerÂ∞Ü@HandlesTypes(WebApplicationInitializer.class)Ê†áÊ≥®ÁöÑÊâÄÊúâËøô‰∏™Á±ªÂûãÁöÑÁ±ªÈÉΩ‰º†ÂÖ•Âà∞onStartupÊñπÊ≥ïÁöÑSet&lt;Class&lt;?&gt;&gt;Ôºõ‰∏∫Ëøô‰∫õWebApplicationInitializerÁ±ªÂûãÁöÑÁ±ªÂàõÂª∫ÂÆû‰æãÔºõ 4Ôºâ„ÄÅÊØè‰∏Ä‰∏™WebApplicationInitializerÈÉΩË∞ÉÁî®Ëá™Â∑±ÁöÑonStartupÔºõ 5Ôºâ„ÄÅÁõ∏ÂΩì‰∫éÊàë‰ª¨ÁöÑSpringBootServletInitializerÁöÑÁ±ª‰ºöË¢´ÂàõÂª∫ÂØπË±°ÔºåÂπ∂ÊâßË°åonStartupÊñπÊ≥ï 6Ôºâ„ÄÅSpringBootServletInitializerÂÆû‰æãÊâßË°åonStartupÁöÑÊó∂ÂÄô‰ºöcreateRootApplicationContextÔºõÂàõÂª∫ÂÆπÂô® 1234567891011121314151617181920212223242526272829303132333435363738protected WebApplicationContext createRootApplicationContext( ServletContext servletContext) &#123; //1„ÄÅÂàõÂª∫SpringApplicationBuilder SpringApplicationBuilder builder = createSpringApplicationBuilder(); StandardServletEnvironment environment = new StandardServletEnvironment(); environment.initPropertySources(servletContext, null); builder.environment(environment); builder.main(getClass()); ApplicationContext parent = getExistingRootWebApplicationContext(servletContext); if (parent != null) &#123; this.logger.info("Root context already created (using as parent)."); servletContext.setAttribute( WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE, null); builder.initializers(new ParentContextApplicationContextInitializer(parent)); &#125; builder.initializers( new ServletContextApplicationContextInitializer(servletContext)); builder.contextClass(AnnotationConfigEmbeddedWebApplicationContext.class); //Ë∞ÉÁî®configureÊñπÊ≥ïÔºåÂ≠êÁ±ªÈáçÂÜô‰∫ÜËøô‰∏™ÊñπÊ≥ïÔºåÂ∞ÜSpringBootÁöÑ‰∏ªÁ®ãÂ∫èÁ±ª‰º†ÂÖ•‰∫ÜËøõÊù• builder = configure(builder); //‰ΩøÁî®builderÂàõÂª∫‰∏Ä‰∏™SpringÂ∫îÁî® SpringApplication application = builder.build(); if (application.getSources().isEmpty() &amp;&amp; AnnotationUtils .findAnnotation(getClass(), Configuration.class) != null) &#123; application.getSources().add(getClass()); &#125; Assert.state(!application.getSources().isEmpty(), "No SpringApplication sources have been defined. Either override the " + "configure method or add an @Configuration annotation"); // Ensure error pages are registered if (this.registerErrorPageFilter) &#123; application.getSources().add(ErrorPageFilterConfiguration.class); &#125; //ÂêØÂä®SpringÂ∫îÁî® return run(application);&#125; 7Ôºâ„ÄÅSpringÁöÑÂ∫îÁî®Â∞±ÂêØÂä®Âπ∂‰∏îÂàõÂª∫IOCÂÆπÂô® 1234567891011121314151617181920212223242526272829303132333435public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; configureHeadlessProperty(); SpringApplicationRunListeners listeners = getRunListeners(args); listeners.starting(); try &#123; ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); Banner printedBanner = printBanner(environment); context = createApplicationContext(); analyzers = new FailureAnalyzers(context); prepareContext(context, environment, listeners, applicationArguments, printedBanner); //Âà∑Êñ∞IOCÂÆπÂô® refreshContext(context); afterRefresh(context, applicationArguments); listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; ==ÂêØÂä®ServletÂÆπÂô®ÔºåÂÜçÂêØÂä®SpringBootÂ∫îÁî®== ‰∫î„ÄÅDocker1„ÄÅÁÆÄ‰ªãDockerÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÂ∫îÁî®ÂÆπÂô®ÂºïÊìéÔºõÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÂÆπÂô®ÊäÄÊúØÔºõ DockerÊîØÊåÅÂ∞ÜËΩØ‰ª∂ÁºñËØëÊàê‰∏Ä‰∏™ÈïúÂÉèÔºõÁÑ∂ÂêéÂú®ÈïúÂÉè‰∏≠ÂêÑÁßçËΩØ‰ª∂ÂÅöÂ•ΩÈÖçÁΩÆÔºåÂ∞ÜÈïúÂÉèÂèëÂ∏ÉÂá∫ÂéªÔºåÂÖ∂‰ªñ‰ΩøÁî®ËÄÖÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Ëøô‰∏™ÈïúÂÉèÔºõ ËøêË°å‰∏≠ÁöÑËøô‰∏™ÈïúÂÉèÁß∞‰∏∫ÂÆπÂô®ÔºåÂÆπÂô®ÂêØÂä®ÊòØÈùûÂ∏∏Âø´ÈÄüÁöÑ„ÄÇ 2„ÄÅÊ†∏ÂøÉÊ¶ÇÂøµdocker‰∏ªÊú∫(Host)ÔºöÂÆâË£Ö‰∫ÜDockerÁ®ãÂ∫èÁöÑÊú∫Âô®ÔºàDockerÁõ¥Êé•ÂÆâË£ÖÂú®Êìç‰ΩúÁ≥ªÁªü‰πã‰∏äÔºâÔºõ dockerÂÆ¢Êà∑Á´Ø(Client)ÔºöËøûÊé•docker‰∏ªÊú∫ËøõË°åÊìç‰ΩúÔºõ docker‰ªìÂ∫ì(Registry)ÔºöÁî®Êù•‰øùÂ≠òÂêÑÁßçÊâìÂåÖÂ•ΩÁöÑËΩØ‰ª∂ÈïúÂÉèÔºõ dockerÈïúÂÉè(Images)ÔºöËΩØ‰ª∂ÊâìÂåÖÂ•ΩÁöÑÈïúÂÉèÔºõÊîæÂú®docker‰ªìÂ∫ì‰∏≠Ôºõ dockerÂÆπÂô®(Container)ÔºöÈïúÂÉèÂêØÂä®ÂêéÁöÑÂÆû‰æãÁß∞‰∏∫‰∏Ä‰∏™ÂÆπÂô®ÔºõÂÆπÂô®ÊòØÁã¨Á´ãËøêË°åÁöÑ‰∏Ä‰∏™Êàñ‰∏ÄÁªÑÂ∫îÁî® ‰ΩøÁî®DockerÁöÑÊ≠•È™§Ôºö 1Ôºâ„ÄÅÂÆâË£ÖDocker 2Ôºâ„ÄÅÂéªDocker‰ªìÂ∫ìÊâæÂà∞Ëøô‰∏™ËΩØ‰ª∂ÂØπÂ∫îÁöÑÈïúÂÉèÔºõ 3Ôºâ„ÄÅ‰ΩøÁî®DockerËøêË°åËøô‰∏™ÈïúÂÉèÔºåËøô‰∏™ÈïúÂÉèÂ∞±‰ºöÁîüÊàê‰∏Ä‰∏™DockerÂÆπÂô®Ôºõ 4Ôºâ„ÄÅÂØπÂÆπÂô®ÁöÑÂêØÂä®ÂÅúÊ≠¢Â∞±ÊòØÂØπËΩØ‰ª∂ÁöÑÂêØÂä®ÂÅúÊ≠¢Ôºõ 3„ÄÅÂÆâË£ÖDocker1Ôºâ„ÄÅÂÆâË£ÖlinuxËôöÊãüÊú∫‚Äã 1Ôºâ„ÄÅVMWare„ÄÅVirtualBoxÔºàÂÆâË£ÖÔºâÔºõ ‚Äã 2Ôºâ„ÄÅÂØºÂÖ•ËôöÊãüÊú∫Êñá‰ª∂centos7-atguigu.ovaÔºõ ‚Äã 3Ôºâ„ÄÅÂèåÂáªÂêØÂä®linuxËôöÊãüÊú∫;‰ΩøÁî® root/ 123456ÁôªÈôÜ ‚Äã 4Ôºâ„ÄÅ‰ΩøÁî®ÂÆ¢Êà∑Á´ØËøûÊé•linuxÊúçÂä°Âô®ËøõË°åÂëΩ‰ª§Êìç‰ΩúÔºõ ‚Äã 5Ôºâ„ÄÅËÆæÁΩÆËôöÊãüÊú∫ÁΩëÁªúÔºõ ‚Äã Ê°•Êé•ÁΩëÁªú===ÈÄâÂ•ΩÁΩëÂç°====Êé•ÂÖ•ÁΩëÁ∫øÔºõ ‚Äã 6Ôºâ„ÄÅËÆæÁΩÆÂ•ΩÁΩëÁªú‰ª•Âêé‰ΩøÁî®ÂëΩ‰ª§ÈáçÂêØËôöÊãüÊú∫ÁöÑÁΩëÁªú 1service network restart ‚Äã 7Ôºâ„ÄÅÊü•ÁúãlinuxÁöÑipÂú∞ÂùÄ 1ip addr ‚Äã 8Ôºâ„ÄÅ‰ΩøÁî®ÂÆ¢Êà∑Á´ØËøûÊé•linuxÔºõ 2Ôºâ„ÄÅÂú®linuxËôöÊãüÊú∫‰∏äÂÆâË£ÖdockerÊ≠•È™§Ôºö 12345678910111213141„ÄÅÊ£ÄÊü•ÂÜÖÊ†∏ÁâàÊú¨ÔºåÂøÖÈ°ªÊòØ3.10Âèä‰ª•‰∏äuname -r2„ÄÅÂÆâË£Ödockeryum install docker3„ÄÅËæìÂÖ•yÁ°ÆËÆ§ÂÆâË£Ö4„ÄÅÂêØÂä®docker[root@localhost ~]# systemctl start docker[root@localhost ~]# docker -vDocker version 1.12.6, build 3e8e77d/1.12.65„ÄÅÂºÄÊú∫ÂêØÂä®docker[root@localhost ~]# systemctl enable dockerCreated symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.6„ÄÅÂÅúÊ≠¢dockersystemctl stop docker 4„ÄÅDockerÂ∏∏Áî®ÂëΩ‰ª§&amp;Êìç‰Ωú1Ôºâ„ÄÅÈïúÂÉèÊìç‰Ωú Êìç‰Ωú ÂëΩ‰ª§ ËØ¥Êòé Ê£ÄÁ¥¢ docker search ÂÖ≥ÈîÆÂ≠ó egÔºödocker search redis Êàë‰ª¨ÁªèÂ∏∏Âéªdocker hub‰∏äÊ£ÄÁ¥¢ÈïúÂÉèÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÂ¶ÇÈïúÂÉèÁöÑTAG„ÄÇ ÊãâÂèñ docker pull ÈïúÂÉèÂêç:tag :tagÊòØÂèØÈÄâÁöÑÔºåtagË°®Á§∫Ê†áÁ≠æÔºåÂ§ö‰∏∫ËΩØ‰ª∂ÁöÑÁâàÊú¨ÔºåÈªòËÆ§ÊòØlatest ÂàóË°® docker images Êü•ÁúãÊâÄÊúâÊú¨Âú∞ÈïúÂÉè Âà†Èô§ docker rmi image-id Âà†Èô§ÊåáÂÆöÁöÑÊú¨Âú∞ÈïúÂÉè https://hub.docker.com/ 2Ôºâ„ÄÅÂÆπÂô®Êìç‰ΩúËΩØ‰ª∂ÈïúÂÉèÔºàQQÂÆâË£ÖÁ®ãÂ∫èÔºâ‚Äî-ËøêË°åÈïúÂÉè‚Äî-‰∫ßÁîü‰∏Ä‰∏™ÂÆπÂô®ÔºàÊ≠£Âú®ËøêË°åÁöÑËΩØ‰ª∂ÔºåËøêË°åÁöÑQQÔºâÔºõ Ê≠•È™§Ôºö 1234567891011121314151617181920212223242526272829301„ÄÅÊêúÁ¥¢ÈïúÂÉè[root@localhost ~]# docker search tomcat2„ÄÅÊãâÂèñÈïúÂÉè[root@localhost ~]# docker pull tomcat3„ÄÅÊ†πÊçÆÈïúÂÉèÂêØÂä®ÂÆπÂô®docker run --name mytomcat -d tomcat:latest4„ÄÅdocker ps Êü•ÁúãËøêË°å‰∏≠ÁöÑÂÆπÂô®5„ÄÅ ÂÅúÊ≠¢ËøêË°å‰∏≠ÁöÑÂÆπÂô®docker stop ÂÆπÂô®ÁöÑid6„ÄÅÊü•ÁúãÊâÄÊúâÁöÑÂÆπÂô®docker ps -a7„ÄÅÂêØÂä®ÂÆπÂô®docker start ÂÆπÂô®id8„ÄÅÂà†Èô§‰∏Ä‰∏™ÂÆπÂô® docker rm ÂÆπÂô®id9„ÄÅÂêØÂä®‰∏Ä‰∏™ÂÅö‰∫ÜÁ´ØÂè£Êò†Â∞ÑÁöÑtomcat[root@localhost ~]# docker run -d -p 8888:8080 tomcat-dÔºöÂêéÂè∞ËøêË°å-p: Â∞Ü‰∏ªÊú∫ÁöÑÁ´ØÂè£Êò†Â∞ÑÂà∞ÂÆπÂô®ÁöÑ‰∏Ä‰∏™Á´ØÂè£ ‰∏ªÊú∫Á´ØÂè£:ÂÆπÂô®ÂÜÖÈÉ®ÁöÑÁ´ØÂè£10„ÄÅ‰∏∫‰∫ÜÊºîÁ§∫ÁÆÄÂçïÂÖ≥Èó≠‰∫ÜlinuxÁöÑÈò≤ÁÅ´Â¢ôservice firewalld status ÔºõÊü•ÁúãÈò≤ÁÅ´Â¢ôÁä∂ÊÄÅservice firewalld stopÔºöÂÖ≥Èó≠Èò≤ÁÅ´Â¢ô11„ÄÅÊü•ÁúãÂÆπÂô®ÁöÑÊó•Âøódocker logs container-name/container-idÊõ¥Â§öÂëΩ‰ª§ÂèÇÁúãhttps://docs.docker.com/engine/reference/commandline/docker/ÂèØ‰ª•ÂèÇËÄÉÊØè‰∏Ä‰∏™ÈïúÂÉèÁöÑÊñáÊ°£ 3Ôºâ„ÄÅÂÆâË£ÖMySQLÁ§∫‰æã1docker pull mysql ÈîôËØØÁöÑÂêØÂä® 1234567891011121314151617[root@localhost ~]# docker run --name mysql01 -d mysql42f09819908bb72dd99ae19e792e0a5d03c48638421fa64cce5f8ba0f40f5846mysqlÈÄÄÂá∫‰∫Ü[root@localhost ~]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES42f09819908b mysql "docker-entrypoint.sh" 34 seconds ago Exited (1) 33 seconds ago mysql01538bde63e500 tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago compassionate_goldstinec4f1ac60b3fc tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago lonely_fermi81ec743a5271 tomcat "catalina.sh run" About an hour ago Exited (143) About an hour ago sick_ramanujan//ÈîôËØØÊó•Âøó[root@localhost ~]# docker logs 42f09819908berror: database is uninitialized and password option is not specified You need to specify one of MYSQL_ROOT_PASSWORD, MYSQL_ALLOW_EMPTY_PASSWORD and MYSQL_RANDOM_ROOT_PASSWORDÔºõËøô‰∏™‰∏â‰∏™ÂèÇÊï∞ÂøÖÈ°ªÊåáÂÆö‰∏Ä‰∏™ Ê≠£Á°ÆÁöÑÂêØÂä® 12345[root@localhost ~]# docker run --name mysql01 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlb874c56bec49fb43024b3805ab51e9097da779f2f572c22c695305dedd684c5f[root@localhost ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESb874c56bec49 mysql "docker-entrypoint.sh" 4 seconds ago Up 3 seconds 3306/tcp mysql01 ÂÅö‰∫ÜÁ´ØÂè£Êò†Â∞Ñ 12345[root@localhost ~]# docker run -p 3306:3306 --name mysql02 -e MYSQL_ROOT_PASSWORD=123456 -d mysqlad10e4bc5c6a0f61cbad43898de71d366117d120e39db651844c0e73863b9434[root@localhost ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESad10e4bc5c6a mysql "docker-entrypoint.sh" 4 seconds ago Up 2 seconds 0.0.0.0:3306-&gt;3306/tcp mysql02 Âá†‰∏™ÂÖ∂‰ªñÁöÑÈ´òÁ∫ßÊìç‰Ωú 123456docker run --name mysql03 -v /conf/mysql:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tagÊää‰∏ªÊú∫ÁöÑ/conf/mysqlÊñá‰ª∂Â§πÊåÇËΩΩÂà∞ mysqldockerÂÆπÂô®ÁöÑ/etc/mysql/conf.dÊñá‰ª∂Â§πÈáåÈù¢ÊîπmysqlÁöÑÈÖçÁΩÆÊñá‰ª∂Â∞±Âè™ÈúÄË¶ÅÊäämysqlÈÖçÁΩÆÊñá‰ª∂ÊîæÂú®Ëá™ÂÆö‰πâÁöÑÊñá‰ª∂Â§π‰∏ãÔºà/conf/mysqlÔºâdocker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ciÊåáÂÆömysqlÁöÑ‰∏Ä‰∫õÈÖçÁΩÆÂèÇÊï∞ ÂÖ≠„ÄÅSpringBoot‰∏éÊï∞ÊçÆËÆøÈóÆ1„ÄÅJDBC123456789&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; 123456spring: datasource: username: root password: 123456 url: jdbc:mysql://192.168.15.22:3306/jdbc driver-class-name: com.mysql.jdbc.Driver ÊïàÊûúÔºö ‚Äã ÈªòËÆ§ÊòØÁî®org.apache.tomcat.jdbc.pool.DataSource‰Ωú‰∏∫Êï∞ÊçÆÊ∫êÔºõ ‚Äã Êï∞ÊçÆÊ∫êÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÈÉΩÂú®DataSourcePropertiesÈáåÈù¢Ôºõ Ëá™Âä®ÈÖçÁΩÆÂéüÁêÜÔºö org.springframework.boot.autoconfigure.jdbcÔºö 1„ÄÅÂèÇËÄÉDataSourceConfigurationÔºåÊ†πÊçÆÈÖçÁΩÆÂàõÂª∫Êï∞ÊçÆÊ∫êÔºåÈªòËÆ§‰ΩøÁî®TomcatËøûÊé•Ê±†ÔºõÂèØ‰ª•‰ΩøÁî®spring.datasource.typeÊåáÂÆöËá™ÂÆö‰πâÁöÑÊï∞ÊçÆÊ∫êÁ±ªÂûãÔºõ 2„ÄÅSpringBootÈªòËÆ§ÂèØ‰ª•ÊîØÊåÅÔºõ 1org.apache.tomcat.jdbc.pool.DataSource„ÄÅHikariDataSource„ÄÅBasicDataSource„ÄÅ 3„ÄÅËá™ÂÆö‰πâÊï∞ÊçÆÊ∫êÁ±ªÂûã 1234567891011121314/** * Generic DataSource configuration. */@ConditionalOnMissingBean(DataSource.class)@ConditionalOnProperty(name = "spring.datasource.type")static class Generic &#123; @Bean public DataSource dataSource(DataSourceProperties properties) &#123; //‰ΩøÁî®DataSourceBuilderÂàõÂª∫Êï∞ÊçÆÊ∫êÔºåÂà©Áî®ÂèçÂ∞ÑÂàõÂª∫ÂìçÂ∫îtypeÁöÑÊï∞ÊçÆÊ∫êÔºåÂπ∂‰∏îÁªëÂÆöÁõ∏ÂÖ≥Â±ûÊÄß return properties.initializeDataSourceBuilder().build(); &#125;&#125; 4„ÄÅDataSourceInitializerÔºöApplicationListenerÔºõ ‚Äã ‰ΩúÁî®Ôºö ‚Äã 1Ôºâ„ÄÅrunSchemaScripts();ËøêË°åÂª∫Ë°®ËØ≠Âè•Ôºõ ‚Äã 2Ôºâ„ÄÅrunDataScripts();ËøêË°åÊèíÂÖ•Êï∞ÊçÆÁöÑsqlËØ≠Âè•Ôºõ ÈªòËÆ§Âè™ÈúÄË¶ÅÂ∞ÜÊñá‰ª∂ÂëΩÂêç‰∏∫Ôºö 123456schema-*.sql„ÄÅdata-*.sqlÈªòËÆ§ËßÑÂàôÔºöschema.sqlÔºåschema-all.sqlÔºõÂèØ‰ª•‰ΩøÁî® schema: - classpath:department.sql ÊåáÂÆö‰ΩçÁΩÆ 5„ÄÅÊìç‰ΩúÊï∞ÊçÆÂ∫ìÔºöËá™Âä®ÈÖçÁΩÆ‰∫ÜJdbcTemplateÊìç‰ΩúÊï∞ÊçÆÂ∫ì 2„ÄÅÊï¥ÂêàDruidÊï∞ÊçÆÊ∫ê12345678910111213141516171819202122232425262728293031323334353637383940414243ÂØºÂÖ•druidÊï∞ÊçÆÊ∫ê@Configurationpublic class DruidConfig &#123; @ConfigurationProperties(prefix = "spring.datasource") @Bean public DataSource druid()&#123; return new DruidDataSource(); &#125; //ÈÖçÁΩÆDruidÁöÑÁõëÊéß //1„ÄÅÈÖçÁΩÆ‰∏Ä‰∏™ÁÆ°ÁêÜÂêéÂè∞ÁöÑServlet @Bean public ServletRegistrationBean statViewServlet()&#123; ServletRegistrationBean bean = new ServletRegistrationBean(new StatViewServlet(), "/druid/*"); Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;(); initParams.put("loginUsername","admin"); initParams.put("loginPassword","123456"); initParams.put("allow","");//ÈªòËÆ§Â∞±ÊòØÂÖÅËÆ∏ÊâÄÊúâËÆøÈóÆ initParams.put("deny","192.168.15.21"); bean.setInitParameters(initParams); return bean; &#125; //2„ÄÅÈÖçÁΩÆ‰∏Ä‰∏™webÁõëÊéßÁöÑfilter @Bean public FilterRegistrationBean webStatFilter()&#123; FilterRegistrationBean bean = new FilterRegistrationBean(); bean.setFilter(new WebStatFilter()); Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;(); initParams.put("exclusions","*.js,*.css,/druid/*"); bean.setInitParameters(initParams); bean.setUrlPatterns(Arrays.asList("/*")); return bean; &#125;&#125; 3„ÄÅÊï¥ÂêàMyBatis12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt; Ê≠•È™§Ôºö ‚Äã 1Ôºâ„ÄÅÈÖçÁΩÆÊï∞ÊçÆÊ∫êÁõ∏ÂÖ≥Â±ûÊÄßÔºàËßÅ‰∏ä‰∏ÄËäÇDruidÔºâ ‚Äã 2Ôºâ„ÄÅÁªôÊï∞ÊçÆÂ∫ìÂª∫Ë°® ‚Äã 3Ôºâ„ÄÅÂàõÂª∫JavaBean 4Ôºâ„ÄÅÊ≥®Ëß£Áâà1234567891011121314151617//ÊåáÂÆöËøôÊòØ‰∏Ä‰∏™Êìç‰ΩúÊï∞ÊçÆÂ∫ìÁöÑmapper@Mapperpublic interface DepartmentMapper &#123; @Select("select * from department where id=#&#123;id&#125;") public Department getDeptById(Integer id); @Delete("delete from department where id=#&#123;id&#125;") public int deleteDeptById(Integer id); @Options(useGeneratedKeys = true,keyProperty = "id") @Insert("insert into department(departmentName) values(#&#123;departmentName&#125;)") public int insertDept(Department department); @Update("update department set departmentName=#&#123;departmentName&#125; where id=#&#123;id&#125;") public int updateDept(Department department);&#125; ÈóÆÈ¢òÔºö Ëá™ÂÆö‰πâMyBatisÁöÑÈÖçÁΩÆËßÑÂàôÔºõÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ConfigurationCustomizerÔºõ 1234567891011121314@org.springframework.context.annotation.Configurationpublic class MyBatisConfig &#123; @Bean public ConfigurationCustomizer configurationCustomizer()&#123; return new ConfigurationCustomizer()&#123; @Override public void customize(Configuration configuration) &#123; configuration.setMapUnderscoreToCamelCase(true); &#125; &#125;; &#125;&#125; 123456789‰ΩøÁî®MapperScanÊâπÈáèÊâ´ÊèèÊâÄÊúâÁöÑMapperÊé•Âè£Ôºõ@MapperScan(value = "com.atguigu.springboot.mapper")@SpringBootApplicationpublic class SpringBoot06DataMybatisApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpringBoot06DataMybatisApplication.class, args); &#125;&#125; 5Ôºâ„ÄÅÈÖçÁΩÆÊñá‰ª∂Áâà123mybatis: config-location: classpath:mybatis/mybatis-config.xml ÊåáÂÆöÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩçÁΩÆ mapper-locations: classpath:mybatis/mapper/*.xml ÊåáÂÆösqlÊò†Â∞ÑÊñá‰ª∂ÁöÑ‰ΩçÁΩÆ Êõ¥Â§ö‰ΩøÁî®ÂèÇÁÖß http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/ 4„ÄÅÊï¥ÂêàSpringData JPA1Ôºâ„ÄÅSpringDataÁÆÄ‰ªã 2Ôºâ„ÄÅÊï¥ÂêàSpringData JPAJPA:ORMÔºàObject Relational MappingÔºâÔºõ 1Ôºâ„ÄÅÁºñÂÜô‰∏Ä‰∏™ÂÆû‰ΩìÁ±ªÔºàbeanÔºâÂíåÊï∞ÊçÆË°®ËøõË°åÊò†Â∞ÑÔºåÂπ∂‰∏îÈÖçÁΩÆÂ•ΩÊò†Â∞ÑÂÖ≥Á≥ªÔºõ 12345678910111213//‰ΩøÁî®JPAÊ≥®Ëß£ÈÖçÁΩÆÊò†Â∞ÑÂÖ≥Á≥ª@Entity //ÂëäËØâJPAËøôÊòØ‰∏Ä‰∏™ÂÆû‰ΩìÁ±ªÔºàÂíåÊï∞ÊçÆË°®Êò†Â∞ÑÁöÑÁ±ªÔºâ@Table(name = "tbl_user") //@TableÊù•ÊåáÂÆöÂíåÂì™‰∏™Êï∞ÊçÆË°®ÂØπÂ∫î;Â¶ÇÊûúÁúÅÁï•ÈªòËÆ§Ë°®ÂêçÂ∞±ÊòØuserÔºõpublic class User &#123; @Id //ËøôÊòØ‰∏Ä‰∏™‰∏ªÈîÆ @GeneratedValue(strategy = GenerationType.IDENTITY)//Ëá™Â¢û‰∏ªÈîÆ private Integer id; @Column(name = "last_name",length = 50) //ËøôÊòØÂíåÊï∞ÊçÆË°®ÂØπÂ∫îÁöÑ‰∏Ä‰∏™Âàó private String lastName; @Column //ÁúÅÁï•ÈªòËÆ§ÂàóÂêçÂ∞±ÊòØÂ±ûÊÄßÂêç private String email; 2Ôºâ„ÄÅÁºñÂÜô‰∏Ä‰∏™DaoÊé•Âè£Êù•Êìç‰ΩúÂÆû‰ΩìÁ±ªÂØπÂ∫îÁöÑÊï∞ÊçÆË°®ÔºàRepositoryÔºâ 123//ÁªßÊâøJpaRepositoryÊù•ÂÆåÊàêÂØπÊï∞ÊçÆÂ∫ìÁöÑÊìç‰Ωúpublic interface UserRepository extends JpaRepository&lt;User,Integer&gt; &#123;&#125; 3Ôºâ„ÄÅÂü∫Êú¨ÁöÑÈÖçÁΩÆJpaProperties 1234567spring: jpa: hibernate:# Êõ¥Êñ∞ÊàñËÄÖÂàõÂª∫Êï∞ÊçÆË°®ÁªìÊûÑ ddl-auto: update# ÊéßÂà∂Âè∞ÊòæÁ§∫SQL show-sql: true ‰∏É„ÄÅÂêØÂä®ÈÖçÁΩÆÂéüÁêÜÂá†‰∏™ÈáçË¶ÅÁöÑ‰∫ã‰ª∂ÂõûË∞ÉÊú∫Âà∂ ÈÖçÁΩÆÂú®META-INF/spring.factories ApplicationContextInitializer SpringApplicationRunListener Âè™ÈúÄË¶ÅÊîæÂú®iocÂÆπÂô®‰∏≠ ApplicationRunner CommandLineRunner ÂêØÂä®ÊµÅÁ®ãÔºö 1„ÄÅÂàõÂª∫SpringApplicationÂØπË±°12345678910111213141516initialize(sources);private void initialize(Object[] sources) &#123; //‰øùÂ≠ò‰∏ªÈÖçÁΩÆÁ±ª if (sources != null &amp;&amp; sources.length &gt; 0) &#123; this.sources.addAll(Arrays.asList(sources)); &#125; //Âà§Êñ≠ÂΩìÂâçÊòØÂê¶‰∏Ä‰∏™webÂ∫îÁî® this.webEnvironment = deduceWebEnvironment(); //‰ªéÁ±ªË∑ØÂæÑ‰∏ãÊâæÂà∞META-INF/spring.factoriesÈÖçÁΩÆÁöÑÊâÄÊúâApplicationContextInitializerÔºõÁÑ∂Âêé‰øùÂ≠òËµ∑Êù• setInitializers((Collection) getSpringFactoriesInstances( ApplicationContextInitializer.class)); //‰ªéÁ±ªË∑ØÂæÑ‰∏ãÊâæÂà∞ETA-INF/spring.factoriesÈÖçÁΩÆÁöÑÊâÄÊúâApplicationListener setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class)); //‰ªéÂ§ö‰∏™ÈÖçÁΩÆÁ±ª‰∏≠ÊâæÂà∞ÊúâmainÊñπÊ≥ïÁöÑ‰∏ªÈÖçÁΩÆÁ±ª this.mainApplicationClass = deduceMainApplicationClass();&#125; 2„ÄÅËøêË°årunÊñπÊ≥ï12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; FailureAnalyzers analyzers = null; configureHeadlessProperty(); //Ëé∑ÂèñSpringApplicationRunListenersÔºõ‰ªéÁ±ªË∑ØÂæÑ‰∏ãMETA-INF/spring.factories SpringApplicationRunListeners listeners = getRunListeners(args); //ÂõûË∞ÉÊâÄÊúâÁöÑËé∑ÂèñSpringApplicationRunListener.starting()ÊñπÊ≥ï listeners.starting(); try &#123; //Â∞ÅË£ÖÂëΩ‰ª§Ë°åÂèÇÊï∞ ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); //ÂáÜÂ§áÁéØÂ¢É ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); //ÂàõÂª∫ÁéØÂ¢ÉÂÆåÊàêÂêéÂõûË∞ÉSpringApplicationRunListener.environmentPrepared()ÔºõË°®Á§∫ÁéØÂ¢ÉÂáÜÂ§áÂÆåÊàê Banner printedBanner = printBanner(environment); //ÂàõÂª∫ApplicationContextÔºõÂÜ≥ÂÆöÂàõÂª∫webÁöÑiocËøòÊòØÊôÆÈÄöÁöÑioc context = createApplicationContext(); analyzers = new FailureAnalyzers(context); //ÂáÜÂ§á‰∏ä‰∏ãÊñáÁéØÂ¢É;Â∞Üenvironment‰øùÂ≠òÂà∞ioc‰∏≠ÔºõËÄå‰∏îapplyInitializers()Ôºõ //applyInitializers()ÔºöÂõûË∞É‰πãÂâç‰øùÂ≠òÁöÑÊâÄÊúâÁöÑApplicationContextInitializerÁöÑinitializeÊñπÊ≥ï //ÂõûË∞ÉÊâÄÊúâÁöÑSpringApplicationRunListenerÁöÑcontextPrepared()Ôºõ // prepareContext(context, environment, listeners, applicationArguments, printedBanner); //prepareContextËøêË°åÂÆåÊàê‰ª•ÂêéÂõûË∞ÉÊâÄÊúâÁöÑSpringApplicationRunListenerÁöÑcontextLoadedÔºàÔºâÔºõ //sÂà∑Êñ∞ÂÆπÂô®ÔºõiocÂÆπÂô®ÂàùÂßãÂåñÔºàÂ¶ÇÊûúÊòØwebÂ∫îÁî®Ëøò‰ºöÂàõÂª∫ÂµåÂÖ•ÂºèÁöÑTomcatÔºâÔºõSpringÊ≥®Ëß£Áâà //Êâ´ÊèèÔºåÂàõÂª∫ÔºåÂä†ËΩΩÊâÄÊúâÁªÑ‰ª∂ÁöÑÂú∞ÊñπÔºõÔºàÈÖçÁΩÆÁ±ªÔºåÁªÑ‰ª∂ÔºåËá™Âä®ÈÖçÁΩÆÔºâ refreshContext(context); //‰ªéiocÂÆπÂô®‰∏≠Ëé∑ÂèñÊâÄÊúâÁöÑApplicationRunnerÂíåCommandLineRunnerËøõË°åÂõûË∞É //ApplicationRunnerÂÖàÂõûË∞ÉÔºåCommandLineRunnerÂÜçÂõûË∞É afterRefresh(context, applicationArguments); //ÊâÄÊúâÁöÑSpringApplicationRunListenerÂõûË∞ÉfinishedÊñπÊ≥ï listeners.finished(context, null); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; //Êï¥‰∏™SpringBootÂ∫îÁî®ÂêØÂä®ÂÆåÊàê‰ª•ÂêéËøîÂõûÂêØÂä®ÁöÑiocÂÆπÂô®Ôºõ return context; &#125; catch (Throwable ex) &#123; handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex); &#125;&#125; 3„ÄÅ‰∫ã‰ª∂ÁõëÂê¨Êú∫Âà∂ÈÖçÁΩÆÂú®META-INF/spring.factories ApplicationContextInitializer 123456public class HelloApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; &#123; @Override public void initialize(ConfigurableApplicationContext applicationContext) &#123; System.out.println("ApplicationContextInitializer...initialize..."+applicationContext); &#125;&#125; SpringApplicationRunListener 123456789101112131415161718192021222324252627282930313233public class HelloSpringApplicationRunListener implements SpringApplicationRunListener &#123; //ÂøÖÈ°ªÊúâÁöÑÊûÑÈÄ†Âô® public HelloSpringApplicationRunListener(SpringApplication application, String[] args)&#123; &#125; @Override public void starting() &#123; System.out.println("SpringApplicationRunListener...starting..."); &#125; @Override public void environmentPrepared(ConfigurableEnvironment environment) &#123; Object o = environment.getSystemProperties().get("os.name"); System.out.println("SpringApplicationRunListener...environmentPrepared.."+o); &#125; @Override public void contextPrepared(ConfigurableApplicationContext context) &#123; System.out.println("SpringApplicationRunListener...contextPrepared..."); &#125; @Override public void contextLoaded(ConfigurableApplicationContext context) &#123; System.out.println("SpringApplicationRunListener...contextLoaded..."); &#125; @Override public void finished(ConfigurableApplicationContext context, Throwable exception) &#123; System.out.println("SpringApplicationRunListener...finished..."); &#125;&#125; ÈÖçÁΩÆÔºàMETA-INF/spring.factoriesÔºâ 12345org.springframework.context.ApplicationContextInitializer=\com.atguigu.springboot.listener.HelloApplicationContextInitializerorg.springframework.boot.SpringApplicationRunListener=\com.atguigu.springboot.listener.HelloSpringApplicationRunListener Âè™ÈúÄË¶ÅÊîæÂú®iocÂÆπÂô®‰∏≠ ApplicationRunner 1234567@Componentpublic class HelloApplicationRunner implements ApplicationRunner &#123; @Override public void run(ApplicationArguments args) throws Exception &#123; System.out.println("ApplicationRunner...run...."); &#125;&#125; CommandLineRunner 1234567@Componentpublic class HelloCommandLineRunner implements CommandLineRunner &#123; @Override public void run(String... args) throws Exception &#123; System.out.println("CommandLineRunner...run..."+ Arrays.asList(args)); &#125;&#125; ÂÖ´„ÄÅËá™ÂÆö‰πâstarterstarterÔºö ‚Äã 1„ÄÅËøô‰∏™Âú∫ÊôØÈúÄË¶Å‰ΩøÁî®Âà∞ÁöÑ‰æùËµñÊòØ‰ªÄ‰πàÔºü ‚Äã 2„ÄÅÂ¶Ç‰ΩïÁºñÂÜôËá™Âä®ÈÖçÁΩÆ 12345678910111213@Configuration //ÊåáÂÆöËøô‰∏™Á±ªÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ª@ConditionalOnXXX //Âú®ÊåáÂÆöÊù°‰ª∂ÊàêÁ´ãÁöÑÊÉÖÂÜµ‰∏ãËá™Âä®ÈÖçÁΩÆÁ±ªÁîüÊïà@AutoConfigureAfter //ÊåáÂÆöËá™Âä®ÈÖçÁΩÆÁ±ªÁöÑÈ°∫Â∫è@Bean //ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂@ConfigurationPropertieÁªìÂêàÁõ∏ÂÖ≥xxxPropertiesÁ±ªÊù•ÁªëÂÆöÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆ@EnableConfigurationProperties //ËÆ©xxxPropertiesÁîüÊïàÂä†ÂÖ•Âà∞ÂÆπÂô®‰∏≠Ëá™Âä®ÈÖçÁΩÆÁ±ªË¶ÅËÉΩÂä†ËΩΩÂ∞ÜÈúÄË¶ÅÂêØÂä®Â∞±Âä†ËΩΩÁöÑËá™Âä®ÈÖçÁΩÆÁ±ªÔºåÈÖçÁΩÆÂú®META-INF/spring.factoriesorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\ ‚Äã 3„ÄÅÊ®°ÂºèÔºö ÂêØÂä®Âô®Âè™Áî®Êù•ÂÅö‰æùËµñÂØºÂÖ•Ôºõ ‰∏ìÈó®Êù•ÂÜô‰∏Ä‰∏™Ëá™Âä®ÈÖçÁΩÆÊ®°ÂùóÔºõ ÂêØÂä®Âô®‰æùËµñËá™Âä®ÈÖçÁΩÆÔºõÂà´‰∫∫Âè™ÈúÄË¶ÅÂºïÂÖ•ÂêØÂä®Âô®ÔºàstarterÔºâ mybatis-spring-boot-starterÔºõËá™ÂÆö‰πâÂêØÂä®Âô®Âêç-spring-boot-starter Ê≠•È™§Ôºö 1Ôºâ„ÄÅÂêØÂä®Âô®Ê®°Âùó 12345678910111213141516171819202122&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!--ÂêØÂä®Âô®--&gt; &lt;dependencies&gt; &lt;!--ÂºïÂÖ•Ëá™Âä®ÈÖçÁΩÆÊ®°Âùó--&gt; &lt;dependency&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 2Ôºâ„ÄÅËá™Âä®ÈÖçÁΩÆÊ®°Âùó 123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.atguigu.starter&lt;/groupId&gt; &lt;artifactId&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;atguigu-spring-boot-starter-autoconfigurer&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!--ÂºïÂÖ•spring-boot-starterÔºõÊâÄÊúâstarterÁöÑÂü∫Êú¨ÈÖçÁΩÆ--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 1234567891011121314151617181920212223242526package com.atguigu.starter;import org.springframework.boot.context.properties.ConfigurationProperties;@ConfigurationProperties(prefix = "atguigu.hello")public class HelloProperties &#123; private String prefix; private String suffix; public String getPrefix() &#123; return prefix; &#125; public void setPrefix(String prefix) &#123; this.prefix = prefix; &#125; public String getSuffix() &#123; return suffix; &#125; public void setSuffix(String suffix) &#123; this.suffix = suffix; &#125;&#125; 123456789101112131415161718package com.atguigu.starter;public class HelloService &#123; HelloProperties helloProperties; public HelloProperties getHelloProperties() &#123; return helloProperties; &#125; public void setHelloProperties(HelloProperties helloProperties) &#123; this.helloProperties = helloProperties; &#125; public String sayHellAtguigu(String name)&#123; return helloProperties.getPrefix()+"-" +name + helloProperties.getSuffix(); &#125;&#125; 12345678910111213141516171819202122package com.atguigu.starter;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;@Configuration@ConditionalOnWebApplication //webÂ∫îÁî®ÊâçÁîüÊïà@EnableConfigurationProperties(HelloProperties.class)public class HelloServiceAutoConfiguration &#123; @Autowired HelloProperties helloProperties; @Bean public HelloService helloService()&#123; HelloService service = new HelloService(); service.setHelloProperties(helloProperties); return service; &#125;&#125; Êõ¥Â§öSpringBootÊï¥ÂêàÁ§∫‰æãhttps://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
</search>
