<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Freemana2017">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="Freemana2017">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Freemana2017">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/">





  <title>Freemana2017</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>



<a href="https://github.com/Freemana2017" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>







    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Freemana2017</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/10/SpringCloud/springcloud/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/10/SpringCloud/springcloud/" itemprop="url">小D课堂SpringCloud笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-10T16:56:31+08:00">
                2018-11-10
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/10/SpringCloud/springcloud/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/11/10/SpringCloud/springcloud/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##SpringCloud课程笔记 </p>
<p>第一章 课程介绍和学习路线 </p>
<p>1、微服务架构SpringCloud课程介绍<br>​    简介：课程介绍和课程大纲讲解，讲课风格和重点内容理解技巧</p>
<p>2、技术选型和学后水平<br>​    简介：课程所需基础和技术选型讲解，学完课程可以到达怎样的程度，<br>​<br>​    1、IDEA JDK8 Maven SpringBoot基础 Linux<br>​<br>​    2、理解掌握并开发SpringCloud里面主流架构和组件的基础使用，还有部分源码原理的理解<br>​<br>    3、掌握学习的技巧和解决问题的思路</p>
<p>第二章 架构演进和分布式系统基础知识</p>
<p>1、传统架构演进到分布式架构<br>​    简介：讲解单机应用和分布式应用架构演进基础知识 (画图)</p>
<pre><code>    高可用 LVS+keepalive 


1、单体应用：
    开发速度慢
    启动时间长
    依赖庞大
    等等


2、微服务
    易开发、理解和维护
    独立的部署和启动
    等


    不足：
        分布式系统-》分布式事务问题
        需要管理多个服务-》服务治理
</code></pre><p>2、微服务核心基础讲解<br>​    简介：讲解微服务核心知识 ：网关、服务发现注册、配置中心、链路追踪、负载均衡器、熔断<br>​        1、网关：路由转发 + 过滤器<br>​                /api/v1/pruduct/      商品服务<br>​                /api/v1/order/        订单服务<br>​                /api/v1/user/         用户服务</p>
<pre><code>2、服务注册发现：调用和被调用方的信息维护

3、配置中心：管理配置，动态更新 application.properties

4、链路追踪：分析调用链路耗时
    例子：下单-》查询商品服务获取商品价格-》查询用户信息-》保存数据库

5、负载均衡器：分发负载

6、熔断：保护自己和被调用方
</code></pre><p>3、常见的微服务框架<br>​    简介:讲解常用的微服务框架</p>
<pre><code>consumer: 调用方
provider: 被调用方
一个接口一般都会充当两个角色（不是同时充当）

1、dubbo: zookeeper + dubbo + springmvc/springboot
    官方地址：http://dubbo.apache.org/#!/?lang=zh-cn
    配套
        通信方式：rpc
        注册中心：zookeper/redis
        配置中心：diamond

2、springcloud: 全家桶+轻松嵌入第三方组件(Netflix 奈飞)
    官网：http://projects.spring.io/spring-cloud/
    配套
        通信方式：http restful
        注册中心：eruka/consul
        配置中心：config
        断路器：hystrix
        网关：zuul
        分布式追踪系统：sleuth+zipkin

学习资料：https://blog.csdn.net/zhangweiwei2020/article/details/78646252
</code></pre><p>4、微服务下电商项目基础模块设计<br>​    简介：微服务下电商项目基础模块设计 分离几个模块，课程围绕这个基础项目进行学习<br>​        小而精的方式学习微服务</p>
<pre><code>1、用户服务
    1）用户信息接口
    2）登录接口

2、商品服务
    1）商品列表
    2）商品详情

3、订单服务 
    1）我的订单
    2）下单接口
</code></pre><p>=============================================<br>更多干货技术访问小D课堂官网 <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>小D老师个人微信：jack794666918</p>
<h1 id="公众号搜索：小D课堂"><a href="#公众号搜索：小D课堂" class="headerlink" title="公众号搜索：小D课堂"></a>公众号搜索：小D课堂</h1><p>第三章 SpringCloud核心组件注册中心</p>
<p>1、什么是微服务的注册中心<br>​    简介：讲解什么是注册中心，常用的注册中心有哪些 (画图)<br>​<br>​        理解注册中心：服务管理,核心是有个服务注册表，心跳机制动态维护<br>​<br>​        服务提供者provider: 启动的时候向注册中心上报自己的网络信息<br>​<br>        服务消费者consumer: 启动的时候向注册中心上报自己的网络信息，拉取provider的相关网络信息</p>
<pre><code>为什么要用：
    微服务应用和机器越来越多，调用方需要知道接口的网络地址，如果靠配置文件的方式去控制网络地址，对于动态新增机器，维护带来很大问题

主流的注册中心：
    zookeeper、Eureka、consul、etcd 等
</code></pre><p>​        </p>
<p>2、分布式应用知识CAP理论知识<br>​    简介：讲解分布式核心知识CAP理论</p>
<pre><code>CAP定理：
    指的是在一个分布式系统中，Consistency（一致性）、 Availability（可用性）、Partition tolerance（分区容错性），三者不可同时获得。




一致性（C）：在分布式系统中的所有数据备份，在同一时刻是否同样的值。（所有节点在同一时间的数据完全一致，越多节点，数据同步越耗时）
</code></pre><p>​<br>​        可用性（A）：负载过大后，集群整体是否还能响应客户端的读写请求。（服务一直可用，而且是正常响应时间）</p>
<pre><code>分区容错性（P）：分区容忍性，就是高可用性，一个节点崩了，并不影响其它的节点（100个节点，挂了几个，不影响服务，越多机器越好）


CAP理论就是说在分布式存储系统中，最多只能实现上面的两点。而由于当前的网络硬件肯定会出现延迟丢包等问题，所以分区容忍性是我们必须需要实现的。所以我们只能在一致性和可用性之间进行权衡
</code></pre><p>​        </p>
<p>3、分布式系统CAP原理常见面试题和注册中心选择<br>​        简介:讲解CAP原则在面试中回答和注册中心选择</p>
<pre><code>C A 满足的情况下，P不能满足的原因：
    数据同步(C)需要时间，也要正常的时间内响应(A)，那么机器数量就要少，所以P就不满足

CP 满足的情况下，A不能满足的原因：
    数据同步(C)需要时间, 机器数量也多(P)，但是同步数据需要时间，所以不能再正常时间内响应，所以A就不满足

AP 满足的情况下，C不能满足的原因：
    机器数量也多(P)，正常的时间内响应(A)，那么数据就不能及时同步到其他节点，所以C不满足

注册中心选择：
    Zookeeper：CP设计，保证了一致性，集群搭建的时候，某个节点失效，则会进行选举行的leader，或者半数以上节点不可用，则无法提供服务，因此可用性没法满足

    Eureka：AP原则，无主从节点，一个节点挂了，自动切换其他节点可以使用，去中心化



结论：分布式系统中P,肯定要满足，所以只能在CA中二选一
    没有最好的选择，最好的选择是根据业务场景来进行架构设计

    如果要求一致性，则选择zookeeper，如金融行业

    如果要去可用性，则Eureka，如电商系统
</code></pre><p>4、SpringCloud微服务核心组件Eureka介绍和闭源后影响<br>​    简介：<br>​        SpringCloud体系介绍<br>​            官方地址：<a href="http://projects.spring.io/spring-cloud/" target="_blank" rel="noopener">http://projects.spring.io/spring-cloud/</a></p>
<pre><code>    Eureka的基础知识--&gt;画图讲解交互流程，服务提供者&lt;--&gt;服务消费者 ;

    Eureka 2.x闭源后选择

参考：https://www.jianshu.com/p/d32ae141f680
     https://blog.csdn.net/zjcjava/article/details/78608892
</code></pre><p>5、服务注册和发现Eureka Server搭建实战<br>​    简介：使用IDEA搭建Eureka服务中心Server端并启动，项目基本骨架介绍<br>​<br>​    官方文档：<a href="http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-server" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-server</a><br>​<br>​    第一步：创建项目<br>​    第二步: 添加注解 @EnableEurekaServer<br>​    第三步：增加配置application.yml<br>​            server:<br>​              port: 8761<br>​<br>            eureka:<br>              instance:<br>                hostname: localhost<br>              client:</p>
<pre><code>          #声明自己是个服务端
            registerWithEureka: false
            fetchRegistry: false
            serviceUrl:
              defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/

第四步：访问注册中心页面

maven地址: https://www.cnblogs.com/sword-successful/p/6408281.html
</code></pre><p>6、服务注册和发现之Eureka Client搭建商品服务实战<br>​    简介：搭建用商品服务，并将服务注册到注册中心</p>
<pre><code>1、创建一个SpirngBoot应用，增加服务注册和发现依赖
2、模拟商品信息，存储在内存中

3、开发商品列表接口，商品详情接口

4、配置文件加入注册中心地址
    使用eureka客户端 官方文档：http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#netflix-eureka-client-starter
</code></pre><p>7、Eureka服务注册中心配置控制台问题处理<br>​    简介：讲解服务注册中心管理后台，（后续还会细讲）</p>
<pre><code>问题：eureka管理后台出现一串红色字体：是警告，说明有服务上线率低

EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY&apos;RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE.

关闭检查方法：eureka服务端配置文件加入
server:
    enable-self-preservation: false
注意：自我保护模式禁止关闭，默认是开启状态true
</code></pre><p>​<br>​    问题二：为什么只加一个注册中心地址，就可以注册<br>​    By having spring-cloud-starter-netflix-eureka-client on the classpath, your application automatically registers with the Eureka Server. Configuration is required to locate the Eureka server, as shown in the following example:</p>
<p>第四章 服务消费者ribbon和feign实战和注册中心高可用</p>
<p>1、常用的服务间调用方式讲解<br>​    简介：讲解常用的服务间的调用方式</p>
<pre><code>RPC:
    远程过程调用，像调用本地服务(方法)一样调用服务器的服务
    支持同步、异步调用
    客户端和服务器之间建立TCP连接，可以一次建立一个，也可以多个调用复用一次链接

    PRC数据包小
        protobuf
        thrift
    rpc：编解码，序列化，链接，丢包，协议


Rest(Http):
    http请求，支持多种协议和功能
    开发方便成本低

    http数据包大

    java开发：HttpClient，URLConnection
</code></pre><p>2、微服务调用方式之ribbon实战 订单调用商品服务<br>​    简介：实战电商项目 订单服务 调用商品服务获取商品信息<br>​        1、创建order_service项目<br>​        2、开发伪下单接口<br>​        3、使用ribbon. (类似httpClient,URLConnection) </p>
<pre><code>    启动类增加注解
      @Bean
      @LoadBalanced
      public RestTemplate restTemplate() {
           return new RestTemplate();
      }
4、根据名称进行调用商品，获取商品详情
</code></pre><p>3、高级篇幅之Ribbon负载均衡源码分析实战<br>​    简介: 讲解ribbon服务间调用负载均衡源码分析<br>​        1、完善下单接口<br>​        2、分析@LoadBalanced<br>​            1）首先从注册中心获取provider的列表<br>​            2）通过一定的策略选择其中一个节点</p>
<pre><code>3）再返回给restTemplate调用
</code></pre><p>=============================================<br>更多干货技术访问小D课堂官网 <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>小D老师个人微信：jack794666918</p>
<h1 id="公众号搜索：小D课堂-1"><a href="#公众号搜索：小D课堂-1" class="headerlink" title="公众号搜索：小D课堂"></a>公众号搜索：小D课堂</h1><p>4、高级篇幅之服务间调用之负载均衡策略调整实战<br>​    简介：实战调整默认负载均衡策略实战</p>
<pre><code>自定义负载均衡策略：http://cloud.spring.io/spring-cloud-static/Finchley.RELEASE/single/spring-cloud.html#_customizing_the_ribbon_client_by_setting_properties

在配置文件yml里面，自定义负载均衡策略
    #自定义负载均衡策略
    product-service:
      ribbon:
        NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule

策略选择：
    1、如果每个机器配置一样，则建议不修改策略 (推荐)
    2、如果部分机器配置强，则可以改为 WeightedResponseTimeRule
</code></pre><p>5、微服务调用方式之feign 实战 订单调用商品服务<br>​    简介：改造电商项目 订单服务 调用商品服务获取商品信息<br>​        Feign： 伪RPC客户端(本质还是用http)<br>​        官方文档: <a href="https://cloud.spring.io/spring-cloud-openfeign/" target="_blank" rel="noopener">https://cloud.spring.io/spring-cloud-openfeign/</a></p>
<pre><code>1、使用feign步骤讲解（新旧版本依赖名称不一样）
    加入依赖
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;
        &lt;/dependency&gt;
    启动类增加@EnableFeignClients
    增加一个接口 并@FeignClient(name=&quot;product-service&quot;)

2、编码实战


3、注意点：
    1、路径
    2、Http方法必须对应
    3、使用requestBody，应该使用@PostMapping
    4、多个参数的时候，通过@RequestParam（&quot;id&quot;) int id)方式调用
</code></pre><p>6、Feign核心源码解读和服务调用方式ribbon和Feign选择<br>​    简介: 讲解Feign核心源码解读和 服务间的调用方式ribbon、feign选择<br>​<br>​        1、ribbon和feign两个的区别和选择<br>​            选择feign<br>​                默认集成了ribbon<br>​                写起来更加思路清晰和方便<br>​                采用注解方式进行配置，配置熔断等方式方便<br>​<br>​        2、超时配置<br>​            默认optons readtimeout是60，但是由于hystrix默认是1秒超时<br>​    </p>
<pre><code>#修改调用超时时间
feign:
  client:
    config:
      default:
        connectTimeout: 2000
        readTimeout: 2000

模拟接口响应慢，线程睡眠新的方式
  try {
        TimeUnit.SECONDS.sleep(1);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
</code></pre><p>第五章 互联网架构服务降级熔断 Hystrix 实战</p>
<p>1、分布式核心知识之熔断、降级讲解<br>​    简介：系统负载过高，突发流量或者网络等各种异常情况介绍，常用的解决方案</p>
<pre><code>1、熔断：
    保险丝，熔断服务，为了防止整个系统故障，包含子和下游服务

    下单服务 -》商品服务
            -》用户服务 （出现异常-》熔断）

2、降级：
    抛弃一些非核心的接口和数据

    旅行箱的例子：只带核心的物品，抛弃非核心的，等有条件的时候再去携带这些物品
</code></pre><p>​<br>​    3、熔断和降级互相交集<br>​        相同点：<br>​            1）从可用性和可靠性触发，为了防止系统崩溃<br>​            2）最终让用户体验到的是某些功能暂时不能用<br>​<br>​        不同点<br>​            1）服务熔断一般是下游服务故障导致的，而服务降级一般是从整体系统负荷考虑，由调用方控制</p>
<p>2、Netflix开源组件断路器Hystrix介绍<br>​    简介：介绍Hystrix基础知识和使用场景<br>​<br>​    文档地址：<br>​        <a href="https://github.com/Netflix/Hystrix" target="_blank" rel="noopener">https://github.com/Netflix/Hystrix</a><br>​        <a href="https://github.com/Netflix/Hystrix/wiki" target="_blank" rel="noopener">https://github.com/Netflix/Hystrix/wiki</a><br>​<br>​    1、什么是Hystrix？<br>​        1）hystrix对应的中文名字是“豪猪”<br>​<br>        2）hystrix    英[hɪst’rɪks] 美[hɪst’rɪks]</p>
<p>​<br>​    2、为什么要用？<br>​        在一个分布式系统里，一个服务依赖多个服务，可能存在某个服务调用失败，<br>​        比如超时、异常等，如何能够保证在一个依赖出问题的情况下，不会导致整体服务失败，<br>​        通过Hystrix就可以解决<br>​<br>​        <a href="http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients</a><br>​<br>    3、提供了熔断、隔离、Fallback、cache、监控等功能</p>
<pre><code>4、熔断后怎么处理？
    出现错误之后可以 fallback 错误的处理信息

    兜底数据
</code></pre><p>3、Feign结合Hystrix断路器开发实战《上》<br>​    简介：讲解SpringCloud整合断路器的使用，用户服务异常情况</p>
<pre><code>1、加入依赖

注意：网上新旧版本问题，所以要以官网为主，不然部分注解会丢失
最新版本 2.0

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;
    &lt;/dependency&gt;


2、增加注解
    启动类里面增加注解
    @EnableCircuitBreaker

    注解越来越多-》 SpringCloudApplication注解

3、API接口编码实战
  熔断-》降级

    1）最外层api使用，好比异常处理（网络异常，参数或者内部调用问题）
        api方法上增加 @HystrixCommand(fallbackMethod = &quot;saveOrderFail&quot;)

        编写fallback方法实现，方法签名一定要和api方法签名一致（注意点！！！）
</code></pre><p>​        </p>
<pre><code>补充： 修改maven仓库地址
pom.xml中修改

&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;nexus-aliyun&lt;/id&gt;
        &lt;name&gt;Nexus aliyun&lt;/name&gt;
        &lt;layout&gt;default&lt;/layout&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;false&lt;/enabled&gt;
        &lt;/snapshots&gt;
        &lt;releases&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/releases&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre><p>4、Feign结合Hystrix断路器开发实战《下》<br>​    简介：讲解SpringCloud整合断路器的使用，用户服务异常情况<br>​    1、feign结合Hystrix<br>​<br>​        1）开启feign支持hystrix  (注意，一定要开启，旧版本默认支持，新版本默认关闭)<br>​            feign:<br>​              hystrix:<br>​                enabled: true<br>​<br>​        2）FeignClient(name=”xxx”, fallback=xxx.class ), class需要继承当前FeignClient的类</p>
<p>5、熔断降级服务异常报警通知实战<br>​    简介：完善服务熔断处理，报警机制完善</p>
<pre><code>1、加入redis依赖
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
    &lt;/dependency&gt;
2、配置redis链接信息
  redis:
    database: 0
    host: 127.0.0.1
    port: 6379
    timeout: 2000

3、使用

    //监控报警
    String saveOrderKye = &quot;save-order&quot;;
    String sendValue = redisTemplate.opsForValue().get(saveOrderKye);
    final String ip = request.getRemoteAddr();
    new Thread( ()-&gt;{
        if (StringUtils.isBlank(sendValue)) {
            System.out.println(&quot;紧急短信，用户下单失败，请离开查找原因,ip地址是=&quot;+ip);
            //发送一个http请求，调用短信服务 TODO
            redisTemplate.opsForValue().set(saveOrderKye, &quot;save-order-fail&quot;, 20, TimeUnit.SECONDS);
        }else{
            System.out.println(&quot;已经发送过短信，20秒内不重复发送&quot;);
        }
    }).start();
</code></pre><p>6、高级篇幅之深入源码剖析Hystrix降级策略和调整<br>​    简介：源码分析Hystrix降级策略和调整</p>
<pre><code>1、查看默认讲解策略 HystrixCommandProperties
    1）execution.isolation.strategy   隔离策略
        THREAD 线程池隔离 （默认）
        SEMAPHORE 信号量
            信号量适用于接口并发量高的情况，如每秒数千次调用的情况，导致的线程开销过高，通常只适用于非网络调用，执行速度快

    2）execution.isolation.thread.timeoutInMilliseconds  超时时间
        默认 1000毫秒

    3）execution.timeout.enabled 是否开启超时限制 （一定不要禁用）


    4）execution.isolation.semaphore.maxConcurrentRequests 隔离策略为 信号量的时候，如果达到最大并发数时，后续请求会被拒绝，默认是10


官方文档:
    https://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.strategy

2、调整策略
    超时时间调整

hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 4000
</code></pre><p>7、断路器Dashboard监控仪表盘实战<br>​    简介：讲解断路器Dashboard基础使用和查看<br>​    1、加入依赖<br>​         <dependency><br>​            <groupid>org.springframework.cloud</groupid><br>​            <artifactid>spring-cloud-starter-netflix-hystrix-dashboard</artifactid><br>​        </dependency></p>
<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
    &lt;/dependency&gt;

2、启动类增加注解
    @EnableHystrixDashboard
</code></pre><p>​<br>​    3、配置文件增加endpoint<br>management:<br>  endpoints:<br>​    web:<br>​      exposure:<br>​        include: “*”</p>
<pre><code>4、访问入口
    http://localhost:8781/hystrix

    Hystrix Dashboard输入： http://localhost:8781/actuator/hystrix.stream 
</code></pre><p>​<br>​    参考资料<br>​        默认开启监控配置<br>​        <a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator" target="_blank" rel="noopener">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator</a><br>​<br>​        配置文件类：<br>​            spring-configuration-metadata.json</p>
<p>8、断路器监控仪表参数讲解和模拟熔断<br>​    简介：讲解 断路器监控仪表盘参数和模拟熔断</p>
<pre><code>1、sse  server-send-event推送到前端

资料：https://github.com/Netflix/Hystrix/wiki/Dashboard
</code></pre><p>第六章 微服务网关zuul开发实战 </p>
<p>1、微服务网关介绍和使用场景<br>​    简介：讲解网关的作用和使用场景 (画图)<br>​<br>​    1）什么是网关<br>​        API Gateway，是系统的唯一对外的入口，介于客户端和服务器端之间的中间层，处理非业务功能 提供路由请求、鉴权、监控、缓存、限流等功能<br>​<br>​            统一接入<br>​                智能路由<br>​                AB测试、灰度测试<br>​                负载均衡、容灾处理<br>​                日志埋点（类似Nignx日志）<br>​<br>            流量监控<br>                限流处理<br>                服务降级</p>
<pre><code>        安全防护
            鉴权处理
            监控
            机器网络隔离


2）主流的网关
    zuul：是Netflix开源的微服务网关，和Eureka,Ribbon,Hystrix等组件配合使用，Zuul 2.0比1.0的性能提高很多

    kong: 由Mashape公司开源的，基于Nginx的API gateway

    nginx+lua：是一个高性能的HTTP和反向代理服务器,lua是脚本语言，让Nginx执行Lua脚本，并且高并发、非阻塞的处理各种请求
</code></pre><p>2、SpringCloud的网关组件zuul基本使用<br>​    简介：讲解zuul网关基本使用</p>
<pre><code>1、加入依赖


2、启动类加入注解 @EnableZuulProxy
    默认集成断路器  @EnableCircuitBreaker

    默认访问规则  
        http://gateway:port/service-id/**

            例子：默认 /order-service/api/v1/order/save?user_id=2&amp;product_id=1
                 自定义 /xdclass_order/api/v1/order/save?user_id=2&amp;product_id=1

    自定义路由转发：
        zuul:
         routes:
             order-service: /apigateway/**


    环境隔离配置：
        需求 ：不想让默认的服务对外暴露接口
            /order-service/api/v1/order/save

        配置：
        zuul: 
            ignored-patterns:
                - /*-service/api/v1/order/save
</code></pre><p>3、高级篇幅之Zuul常用问题分析和网关过滤器原理分析</p>
<pre><code>简介：讲解Zuul网关原理和过滤器生命周期，

1、路由名称定义问题
    路由映射重复覆盖问题

2、Http请求头过滤问题

3、过滤器执行顺序问题 ，过滤器的order值越小，越先执行


4、共享RequestContext，上下文对象
</code></pre><p>4、自定义Zuul过滤器实现登录鉴权实战<br>​    简介：自定义Zuul过滤器实现登录鉴权实战</p>
<pre><code>1、新建一个filter包

2、新建一个类，实现ZuulFilter，重写里面的方法

3、在类顶部加注解，@Component,让Spring扫描
</code></pre><p>5、高级篇幅之高并发情况下接口限流特技<br>​    简介：谷歌guava框架介绍，网关限流使用</p>
<pre><code>1、nginx层限流

2、网关层限流
</code></pre><p>6、Zuul微服务网关集群搭建<br>​    简介：微服务网关Zull集群搭建</p>
<pre><code>1、nginx+lvs+keepalive 
https://www.cnblogs.com/liuyisai/p/5990645.html
</code></pre><p>第七章 分布式链路追踪系统Sleuth和ZipKin实战<br>​    </p>
<pre><code>1、微服务下的链路追踪讲解和重要性
    简介：讲解什么是分布式链路追踪系统，及使用好处




2、SpringCloud的链路追踪组件Sleuth实战
    简介：讲解分布式链路追踪组件Sleuth实战

    1、官方文档
    http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#sleuth-adding-project

    2、什么是Sleuth
        一个组件，专门用于记录链路数据的开源组件

        [order-service,96f95a0dd81fe3ab,852ef4cfcdecabf3,false]

        1、第一个值，spring.application.name的值

        2、第二个值，96f95a0dd81fe3ab ，sleuth生成的一个ID，叫Trace ID，用来标识一条请求链路，一条请求链路中包含一个Trace ID，多个Span ID

        3、第三个值，852ef4cfcdecabf3、spanid 基本的工作单元，获取元数据，如发送一个http

        4、第四个值：false，是否要将该信息输出到zipkin服务中来收集和展示。

    3、添加依赖
        &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;
         &lt;/dependency&gt;






3、SpringCloud的链路追踪组件Sleuth常见问题说明
    简介：讲解分布式链路追踪组件Sleuth常见问题说明
</code></pre><p>​      </p>
<pre><code>4、可视化链路追踪系统Zipkin部署
    简介：讲解Zipkin的介绍和部署
    1、什么是zipkin
        官网：https://zipkin.io/
        大规模分布式系统的APM工具（Application Performance Management）,基于Google Dapper的基础实现，和sleuth结合可以提供可视化web界面分析调用链路耗时情况            

    2、同类产品
        鹰眼（EagleEye）
        CAT
        twitter开源zipkin，结合sleuth
        Pinpoint，运用JavaAgent字节码增强技术
        StackDriver Trace (Google) 

    3、开始使用
        https://github.com/openzipkin/zipkin
        https://zipkin.io/pages/quickstart.html

        zipkin组成：Collector、Storage、Restful API、Web UI组成

    4、知识拓展：OpenTracing
    OpenTracing 已进入 CNCF，正在为全球的分布式追踪，提供统一的概念和数据标准。 
    通过提供平台无关、厂商无关的 API，使得开发人员能够方便的添加（或更换）追踪系统的实现。


    推荐阅读：
        http://blog.daocloud.io/cncf-3/
        https://www.zhihu.com/question/27994350
        https://yq.aliyun.com/articles/514488?utm_content=m_43347







5、高级篇幅之链路追踪组件Zipkin+Sleuth实战
    简介：使用Zipkin+Sleuth业务分析调用链路分析实战

    1、文档
    http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_sleuth_with_zipkin_via_http

      sleuth收集跟踪信息通过http请求发送给zipkin server，zipkinserver进行跟踪信息的存储以及提供Rest API即可，Zipkin UI调用其API接口进行数据展示

      默认存储是内存，可也用mysql、或者elasticsearch等存储

    2、加入依赖
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt;
    &lt;/dependency&gt;

    里面包含 spring-cloud-starter-sleuth、spring-cloud-sleuth-zipkin

    3、文档说明：http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_features_2

    4、配置zipkin.base-url

    5、配置采样百分闭spring.sleuth.sampler


    推荐资料：
        https://blog.csdn.net/jrn1012/article/details/77837710
</code></pre><p>=============================================<br>更多干货技术访问小D课堂官网 <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>小D老师个人微信：jack794666918</p>
<h1 id="公众号搜索：小D课堂-2"><a href="#公众号搜索：小D课堂-2" class="headerlink" title="公众号搜索：小D课堂"></a>公众号搜索：小D课堂</h1><p>​<br>第八章 微服务核心知识分布式配置中心Config实战<br>​<br>​    1、微服务下的分布式配置中心<br>​        简介：讲解什么是配置中心及使用前后的好处 (画图)<br>​        什么是配置中心：<br>​            一句话：统一管理配置, 快速切换各个环境的配置<br>​<br>​        相关产品：<br>​            百度的disconf<br>​                地址:<a href="https://github.com/knightliao/disconf" target="_blank" rel="noopener">https://github.com/knightliao/disconf</a><br>​<br>            阿里的diamand<br>                地址：<a href="https://github.com/takeseem/diamond" target="_blank" rel="noopener">https://github.com/takeseem/diamond</a></p>
<pre><code>        springcloud的configs-server:
            地址：http://cloud.spring.io/spring-cloud-config/


    推荐干货文章：http://jm.taobao.org/2016/09/28/an-article-about-config-center/





2、SpringCloud的配置中心组件config-server实战
    简介：讲解SpringCloud配置中心config-server实战
    1、新建项目，创建config-server
    2、启动类增加注解
        @EnableConfigServer












3、使用git服务器结合Config搭建分布式配置中心
    简介：讲解使用git服务器结合Config搭建分布式配置中心

    1、默认使用git存储配置中心
        使用git服务器，可以自己搭建gitlab服务器
        或者使用github、开源中国git、阿里云git

        794666918@qq.com
        xdclass.net123

        https://gitee.com/waitforxy/config_cloud.git

    2、配置文件添加配置
        spring:
          application:
            name: config-server
        #git配置
          cloud:
            config:
              server:
                git:
                  uri: https://gitee.com/waitforxy/config_cloud
                  username: 794666918@qq.com
                  password: xdclass.net123
                  #超时时间
                  timeout: 5
                    #分支
                    default-label: master


    3、访问方式（一定要注意语法，如果有问题，会出错）
        多种访问路径，可以通过启动日志去查看
        例子 http://localhost:9100/product-service.yml

        /{name}-{profiles}.properties
        /{name}-{profiles}.yml
        /{name}-{profiles}.json
        /{label}/{name}-{profiles}.yml

        name 服务器名称
        profile 环境名称，开发、测试、生产
        lable 仓库分支、默认master分支
</code></pre><p>4、分布式配置中心客户端使用实战<br>​    简介：微服务里面客户端接入配置中心实战<br>​        官方文档：<a href="http://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_client" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_client</a><br>​<br>​        1、加入依赖<br>​             <dependency><br>​                <groupid>org.springframework.cloud</groupid><br>​                <artifactid>spring-cloud-config-client</artifactid><br>​            </dependency><br>​<br>​         2、修改对应服务的配置文件,把application.yml 改为 bootstrap.yml<br>​            #指定注册中心地址<br>​            eureka:<br>​              client:<br>​                serviceUrl:<br>​                  defaultZone: <a href="http://localhost:8761/eureka/" target="_blank" rel="noopener">http://localhost:8761/eureka/</a><br>​    </p>
<pre><code>    #服务的名称
    spring:
      application:
        name: product-service
      #指定从哪个配置中心读取
      cloud:
        config:
          discovery:
            service-id: CONFIG-SERVER
            enabled: true
          profile: test
          #建议用lable去区分环境，默认是lable是master分支
          #label: test

注意点：
    1.配置文件要用bootstrap.yml
    2.默认读取文件名是 服务名称
</code></pre><p>第九章 微服务消息总线Bus结合消息队列RabbitMQ实战</p>
<pre><code>1、消息总线Bus介绍和使用场景
    简介：讲解消息总线Bus介绍和使用场景
    1、什么是消息
        一个事件，需要广播或者单独传递给某个接口

    2、为什么使用这个
        配置更新了，但是其他系统不知道是否更新









2、消息队列和RabbitMQ基础介绍
    简介：消息队列和RabbitMQ基础介绍

        1、消息队列介绍
            参考：https://www.cnblogs.com/linjiqin/p/5720865.html

        2、同类产品
            ActiveMQ
            RocketMQ
            Kafka
            等

        3、SpringCloud默认推荐使用RabbitMQ


        4、RabbitMQ介绍    
            官方文档：http://www.rabbitmq.com/getstarted.html
            中文文档：http://rabbitmq.mr-ping.com/





3、实战系列使用Docker搭建RabbitMQ3.7
    简介：使用Docker安装RabbitMQ

    1、如果对Docker没基础，课程后续有讲解Docker，可以先跳转过去学习Docker
    2、安装步骤
        1)拉取镜像：docker pull rabbitmq:management
        2)查看当前镜像列表：docker images
        3)删除指定镜像：docker rmi  IMAGE_ID  (如果需要强制删除加 -f)

        4)创建容器
        docker run -d --name=&quot;myrabbitmq&quot; -p 5671:5671 -p 15672:15672 rabbitmq:management

        参数讲解: 
            run: 创建一个新的容器并运行一个命令
             -d: 后台运行容器，并返回容器ID
             -p: 端口映射，格式为：主机(宿主)端口:容器端口
             --name=&quot;rabbitmq&quot;: 为容器指定一个名称


    3、RabbitMQ默认创建了一个 guest 用户，密码也是 guest, 如果访问不了记得查看防火墙，端口或者云服务器的安全组
      管理后台：http://127.0.0.1:15672


其他安装方式：
Linux安装：https://blog.csdn.net/qq_34021712/article/details/72567786
windows安装：http://www.rabbitmq.com/install-windows.html

https://blog.csdn.net/liyuejin/article/details/78410586





4、高级篇幅消息总线整合配置中心架构流程图
    简介：讲解消息总线Bus结合config组件搭建配置中心项目架构图和操作流程

        启动
        rabbitmq： docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management
        rabbitmq默认是5672,所以改为5672端口

        1、config-client加入依赖

            &lt;!--配置中心结合消息队列--&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
            &lt;/dependency&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
                &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt;
            &lt;/dependency&gt;
</code></pre><p>​<br>​            官方文档：<a href="http://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpoint" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpoint</a><br>​            文档里面 暴露端点 management.endpoints.web.exposure.include=bus-refresh<br>​<br>​            2、在配置文件中增加关于RabbitMQ的连接(如果是本机，则可以直接启动，采用默认连接配置)<br>​                spring:<br>​                  rabbitmq:<br>​                    host: localhost<br>​                    port: 5672<br>​                    username: guest<br>​                    password: guest<br>​            </p>
<pre><code>            #暴露全部的监控信息
            management:
              endpoints:
                web:
                  exposure:
                    include: &quot;*&quot;

        3、需要刷新配置的地方，增加注解 
            @RefreshScope

        4、访问验证 post方式：
            http://localhost:8773/actuator/bus-refresh


        5、动态刷新配置: 在开发和测试环境使用，尽量少在生产环境使用








5、微服务相关项目改造配置中心
简介：把课程项目改造成配置中心讲解

1、git里面新增对应项目的配置文件，都要添加下面的配置
    #服务的名称
    spring:
      rabbitmq:
        host: localhost
        port: 5672
        username: guest
        password: guest

    #暴露全部的监控信息
    management:
      endpoints:
        web:
          exposure:
            include: &quot;*&quot;
</code></pre><p>​<br>​    2、项目里面添加maven依赖<br>​<br>​        <!--配置中心客户端--><br>​        <dependency><br>​            <groupid>org.springframework.cloud</groupid><br>​            <artifactid>spring-cloud-config-client</artifactid><br>​        </dependency><br>​<br>        <!--config server--></p>
<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt;
    &lt;/dependency&gt;


3、修改application.properties为bootstrap.yml 并拷贝配置文件

        #指定注册中心地址
        eureka:
          client:
            serviceUrl:
              defaultZone: http://localhost:8761/eureka/

        #服务的名称
        spring:
          application:
            name: order-service
          #指定从哪个配置中心读取
          cloud:
            config:
              discovery:
                service-id: CONFIG-SERVER
                enabled: true
              profile: test

4、各个项目启动顺序
    1）注册中心
    2）配置中心
    3）对应的服务：商品服务、订单服务。。。
    4）启动网关
</code></pre><p>第十章、SpringCloud课程内容上半部分总结<br>​    </p>
<pre><code>1、微服务核心知识内容回顾

简介：回顾SpringCloud前面10章的基础内容

    1)介绍微服务的基础知识，核心组件，CAP原理

    2）SpringCloud注册中心 Eureka

    3）product-service / order-service

    4) 伪RPC Ribbon / feign 

    5) hystrix熔断

    6) 服务网关介绍，zuul

    7）配置中心config-server
</code></pre><p>​    </p>
<pre><code>2、微服务下半部分知识 云服务器和Docker容器
    简介：讲解云服务器和容器知识
</code></pre><p>​    </p>
<p>第十一章 阿里云ECS服务器介绍和网络知识讲解</p>
<pre><code>1、云服务器介绍和阿里云服务器ECS服务器选购
    简介：什么是云服务器及目前主要的几个厂商介绍
    1、阿里云、腾讯云、亚马逊云
    阿里云：https://www.aliyun.com/
    腾讯云：https://cloud.tencent.com/
    亚马逊云：https://aws.amazon.com/
</code></pre><p>​<br>​    2、阿里云服务器远程登录和常用工具<br>​        简介：讲解阿里云服务器登录使用和常见终端工具<br>​        1、windows工具   putty，xshell, security<br>​            参考资料：<br>​                <a href="https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html</a><br>​                <a href="https://www.jb51.net/softjc/88235.html" target="_blank" rel="noopener">https://www.jb51.net/softjc/88235.html</a><br>​<br>​        2、苹果系统MAC： 通过终端登录<br>​            ssh root@ip  回车后输入密码<br>​            ssh <a href="mailto:root@120.25.1.38" target="_blank" rel="noopener">root@120.25.1.38</a><br>​<br>        3、可以尝试自己通过百度进行找文档， 安装mysql jdk  nginx maven git redis elk </p>
<p>3、互联网架构知识之网站部署上线基础准备<br>​    简介：讲解应用部署到可以公网访问需要步骤</p>
<pre><code>1、一个http请求的故事

2、什么是cname和a记录
        A记录和CNAME只可以同时生效一个，A记录优先

3、域名和ip的关系，DNS作用


参考资料：
    https://blog.csdn.net/benbenzhuhwp/article/details/44704319

    https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;ch=1&amp;tn=98050039_dg&amp;wd=%E4%B8%80%E4%B8%AAhttp%E8%AF%B7%E6%B1%82%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B&amp;rsv_pq=80a65c5f00005961&amp;rsv_t=a5fcWreuJzILdSwr4gI8pFqlO7HSu5BlhjwalyVzPiV9w2L%2BKEj78pPi1Qn6Vx4wXxI&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=8&amp;rsv_sug1=8&amp;rsv_sug7=100&amp;sug=%25E4%25B8%2580%25E4%25B8%25AAhttp%25E8%25AF%25B7%25E6%25B1%2582%25E7%259A%2584%25E8%25AF%25A6%25E7%25BB%2586%25E8%25BF%2587%25E7%25A8%258B&amp;rsv_n=1
</code></pre><p>4、域名购买和配置解析实战<br>​    简介：域名购买和配置解析实战</p>
<pre><code>1、购买域名，备案
    阿里云 备案地址：https://beian.aliyun.com/

2、购买服务器，阿里云，腾讯云，亚马逊云aws

3、配置域名解析到服务器
</code></pre><p>​    </p>
<p>​<br>第十二章 微服务必备技能Docker容器基础篇幅<br>​<br>​    1、微服务下的Docker介绍和使用场景<br>​        简介：Docker介绍和使用场景<br>​<br>​        1、什么是Dokcer<br>​            百科:一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口；<br>​<br>            使用go语言编写，在LCX（linux容器）基础上进行的封装</p>
<pre><code>        简单来说：
            1）就是可以快速部署启动应用
            2）实现虚拟化，完整资源隔离
            3）一次编写，四处运行（有一定的限制，比如Docker是基于Linux 64bit的，无法在32bit的linux/Windows/unix环境下使用）

    2、为什么要用
        1、提供一次性的环境，假如需要安装Mysql，则需要安装很多依赖库、版本等，如果使用Docker则通过镜像就可以直接启动运行   

        2、快速动态扩容，使用docker部署了一个应用，可以制作成镜像，然后通过Dokcer快速启动

        3、组建微服务架构，可以在一个机器上模拟出多个微服务，启动多个应用

        4、更好的资源隔离和共享

        一句话：开箱即用，快速部署，可移植性强，环境隔离







2、Linux云服务器Centos7安装Docker实战
    简介：讲解阿里云ECS服务安装Docker实战
    Linux Standard Base的缩写，lsb_release命令用来显示LSB和特定版本的相关信息
    命令： lsb_release -a 

    阿里云安装手册：
    https://help.aliyun.com/document_detail/51853.html?spm=a2c4g.11186623.6.820.RaToNY

    常见问题：
    https://blog.csdn.net/daluguishou/article/details/52080250






3、Docker仓库、镜像、容器核心知识讲解
    简介：快速掌握Dokcer基础知识，

    1、概念：
        Docker 镜像 - Docker images：
                 容器运行时的只读模板，操作系统+软件运行环境+用户程序

                 class User{
                     private String userName;
                     private int age;
                 }


        Docker 容器 - Docker containers：
                容器包含了某个应用运行所需要的全部环境

                 User user = new User()


        Docker 仓库 - Docker registeries： 
                用来保存镜像，有公有和私有仓库，好比Maven的中央仓库和本地私服
                镜像仓库：    

                （参考）配置国内镜像仓库：https://blog.csdn.net/zzy1078689276/article/details/77371782

        对比面向对象的方式
        Dokcer 里面的镜像 : Java里面的类 Class
        Docker 里面的容器 : Java里面的对象 Object
        通过类创建对象，通过镜像创建容器


4、Docker容器常见命令实战
    简介：讲解Docker在云服务上的实际应用
    1、 常用命令（安装部署好Dokcer后，执行的命令是docker开头）,xxx是镜像名称

        搜索镜像：docker search xxx

        列出当前系统存在的镜像：docker images

        拉取镜像：docker pull xxx
            xxx是具体某个镜像名称(格式 REPOSITORY:TAG)
            REPOSITORY：表示镜像的仓库源,TAG：镜像的标签

        运行一个容器：docker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 rabbitmq:management
            docker run - 运行一个容器
            -d 后台运行
            -p 端口映射
            rabbitmq:management  (格式 REPOSITORY:TAG)，如果不指定tag，默认使用最新的
            --name &quot;xxx&quot;

        列举当前运行的容器：docker ps

        检查容器内部信息：docker inspect 容器名称

        删除镜像：docker rmi IMAGE_NAME
             强制移除镜像不管是否有容器使用该镜像 增加 -f 参数，

        停止某个容器：docker stop 容器名称

        启动某个容器：docker start 容器名称

        移除某个容器： docker rm 容器名称 （容器必须是停止状态）


    文档：
        https://blog.csdn.net/permike/article/details/51879578







5、实战应用之使用Docker部署Nginx服务器
    简介：讲解使用Docker部署Nginx服务器实战
    1、获取镜像 
        docker run (首先会从本地找镜像，如果有则直接启动，没有的话，从镜像仓库拉起，再启动)

        docker search nignx
    2、列举
        docker images
    3、拉取
        docker pull nignx
    3、启动
        docker run -d --name &quot;xdclass_nginx&quot; -p 8088:80 nginx
        docker run -d --name &quot;xdclass_nginx2&quot; -p 8089:80 nginx
        docker run -d --name &quot;xdclass_nginx3&quot; -p 8090:80 nginx
    4、访问
        如果是阿里云服务，记得配置安全组，腾讯云也需要配置，这个就是一个防火墙







6、公司中Docker镜像仓库使用讲解
    简介：讲解一般公司中镜像仓库在的使用

    1、为啥要用镜像仓库


    2、官方公共镜像仓库和私有镜像仓库
        公共镜像仓库：
                官方：https://hub.docker.com/，基于各个软件开发或者有软件提供商开发的
                非官方：其他组织或者公司开发的镜像，供大家免费试用

        私有镜像仓库：
                用于存放公司内部的镜像，不提供给外部试用； 

                SpringCloud 开发了一个支付系统 -》做成一个镜像 （操作系统+软件运行环境+用户程序）






7、高级篇幅之构建自己的镜像仓库
    简介：使用阿里云搭建自己的镜像仓库

    1、阿里云镜像仓库：https://dev.aliyun.com/search.html

    点击管理控制台-》初次使用会提示开通，然后设置密码
    xdclass.net123


    2、使用阿里云私有镜像仓库
        1)登录： docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com

        2) 推送本地镜像：
        docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:[镜像版本号]
        例子：
        docker tag 2f415b0e9a6e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

        docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

        3)拉取镜像
            线上服务器拉取镜像：
                docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com

                docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

                启动容器：
                docker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 2f415b0e9a6e
</code></pre><p>第十三章 微服务高级篇幅SpringCloud和Docker整合部署<br>​<br>​    第1课 高级篇幅之构建SpringBoot应用docker镜像上集<br>​<br>​    简介:使用Docker的maven插件，构建springboot应用<br>​<br>    官方文档：<a href="https://spring.io/guides/gs/spring-boot-docker/" target="_blank" rel="noopener">https://spring.io/guides/gs/spring-boot-docker/</a></p>
<pre><code>1、步骤：maven里面添加配置pom.xml

     &lt;properties&gt;
       &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;finalName&gt;docker-demo&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.spotify&lt;/groupId&gt;
                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.3.6&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;
                    &lt;buildArgs&gt;
                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;
                    &lt;/buildArgs&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

    配置讲解
    Spotify 的 docker-maven-plugin 插件是用maven插件方式构建docker镜像的。
    ${project.build.finalName} 产出物名称，缺省为${project.artifactId}-${project.version}
</code></pre><p>=============================================<br>更多干货技术访问小D课堂官网 <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>小D老师个人微信：jack794666918</p>
<h1 id="公众号搜索：小D课堂-3"><a href="#公众号搜索：小D课堂-3" class="headerlink" title="公众号搜索：小D课堂"></a>公众号搜索：小D课堂</h1><pre><code>第2课 高级篇幅之构建SpringBoot应用docker镜像下集

        简介:打包SpringCloud镜像并上传私有仓库并部署

        1、创建Dockerfile,默认是根目录，（可以修改为src/main/docker/Dockerfile,如果修则需要制定路径）
            什么是Dockerfile : 由一系列命令和参数构成的脚本，这些命令应用于基础镜像, 最终创建一个新的镜像

            FROM openjdk:8-jdk-alpine
            VOLUME /tmp
            ARG JAR_FILE
            COPY ${JAR_FILE} app.jar
            ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]


            参数讲解：
            FROM &lt;image&gt;:&lt;tag&gt; 需要一个基础镜像，可以是公共的或者是私有的， 后续构建会基于此镜像，如果同一个Dockerfile中建立多个镜像时，可以使用多个FROM指令

            VOLUME  配置一个具有持久化功能的目录，主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp。改步骤是可选的，如果涉及到文件系统的应用就很有必要了。/tmp目录用来持久化到 Docker 数据文件夹，因为 Spring Boot 使用的内嵌 Tomcat 容器默认使用/tmp作为工作目录 

            ARG  设置编译镜像时加入的参数， ENV 是设置容器的环境变量
            COPY : 只支持将本地文件复制到容器 ,还有个ADD更强大但复杂点
            ENTRYPOINT 容器启动时执行的命令
            EXPOSE 8080 暴露镜像端口
        2、构建镜像
        mvn install dockerfile:build
        打标签
        docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808
        推送到镜像仓库
        docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808

        应用服务器拉取镜像
        docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808


        docker run -d --name xdclass_docker_demo1 -p 8099:8080  a1b9fc71720d

        3、查看启动日志 docker logs -f  containerid

        文档：https://yeasy.gitbooks.io/docker_practice/image/dockerfile/











第3课 实战系列之注册中心打包Docker镜像
    简介：讲解使用Docker打包注册中心，上传私有镜像仓库并部署

    1、新增maven插件
        &lt;properties&gt;
           &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt;
        &lt;/properties&gt;

        &lt;build&gt;
            &lt;finalName&gt;docker-demo&lt;/finalName&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    &lt;groupId&gt;com.spotify&lt;/groupId&gt;
                    &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;
                    &lt;version&gt;1.3.6&lt;/version&gt;
                    &lt;configuration&gt;
                        &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;
                        &lt;buildArgs&gt;
                            &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;
                        &lt;/buildArgs&gt;
                    &lt;/configuration&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/build&gt;

    2、新建Dockerfile
            FROM openjdk:8-jdk-alpine
            VOLUME /tmp
            ARG JAR_FILE
            COPY ${JAR_FILE} app.jar
            ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]

    3、打包：
        mvn install dockerfile:build

    4、推送阿里云镜像仓库

    阿里云镜像仓库：https://dev.aliyun.com/search.html
</code></pre><p>docker tag 062d2ddf272a registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825<br>docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825<br>docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825</p>
<pre><code>    5、查看日志 docker logs -f  containerid






第4课 实战系列之部署RabbitMQ和配置中心打包Docker镜像
    简介：讲解使用Docker打包配置中心，和部署RabbitMQ

    1、服务地址 ssh root@47.106.120.173

    部署    rabbitmq： docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management

    2、推送镜像

    docker tag 0f636543904e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825

    docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825

    docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825



5、常见问题处理之升级云服务器
    简介：处理上节课出现的问题，升级服务器注意事项

    1、升级云服务器配置（购买配置后需要重启机器才生效）

    2、启动完成后，需要开启docker
        指令： systemctl  start docker

    3、所有对外的都要经过网关才可以对外，应用间通信(除非跨机房)都用内网通信









6、实战系列之Docker部署Redis
    简介：使用Docker安装redis
    1、搜索镜像 docker search redis

    2、拉取 docker pull docker.io/redis

    3、启动 docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d
    参考：
    docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d --requirepass &quot;123456&quot; -v $PWD/data:/data

    4、访问redis容器里面，进行操作
    docker exec -it 295058d2b92e redis-cli










7、生产环境常见问题之配置中心访问
    简介：讲解生产环境部署常见问题，配置中心访问路径变化

    1、配置中心访问出错，路径不对

       解决：修改所有的注册中心，增加下面配置
    instance:
    instance-id: ${spring.cloud.client.ip-address}:${server.port}
    prefer-ip-address: true



    docker tag 50a12cd66210 registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180826








8、实战系列之打包Docker镜像打包商品服务和订单服务、网关 
   简介:打包Docker镜像部署商品服务和订单服务、网关

   注意：
   1、maven打包构建，会触发单元测试，部分情况可以跳过，
   mvn install -Dmaven.test.skip=true dockerfile:build

   2、生产环境不能用localhost 或者 127.0.0.1, 一定要用内网通信ip (虚拟主机映射 hosts)










 9、实战系列云服务器部署网关、订单、商品服务
     简介：云服务部署商品服务、订单服务、网关服务

     1、拉取镜像、启动



     访问路径
     http://47.106.120.173:8781/api/v1/order/save?product_id=5&amp;user_id=5

     http://47.106.120.173:9000/apigateway/order/api/v1/order/save?user_id=5&amp;product_id=3&amp;token=232serer
</code></pre><p>第十四章 课程总结和常见问题处理</p>
<pre><code>1、SpringCloud微服务常见问题和解决思路
简介：讲解SpringCloud开发实战常见问题，及解决思路

    1、技术选择：SpringCloud全家桶，每个组件又有多个替代，改怎么选择

        1）选择的时候根据公司里面团队人员熟悉程度，降低学习成本
        2）选择社区活跃的并且文档相对较多的，怎么判断活跃，可以看github上代码提交和start数

    2、云服务选择： 腾讯云，阿里云 ，遇到问题可以提交工单，有专人跟进
</code></pre><p>​<br>​        3、部署了应用，但是访问不了<br>​            解决思路：<br>​                1)查看应用启动是否正常，如果有错误日志，复制错误日志去百度搜索！！！！！！！特别重要<br>​<br>​                2）启动正常，则先在本机使用 CURL “<a href="http://lcoalhost:8080/api/v1/user/find&quot;" target="_blank" rel="noopener">http://lcoalhost:8080/api/v1/user/find&quot;</a>  访问对应的接口，看是否有响应<br>​<br>                3）启动正常，且curl有响应，则检查是否有关闭防火墙，或者开放对应的访问端口，开放端口才可以访问</p>
<pre><code>            4）腾讯云和阿里云都是有安全组，类似外层防火墙，一定要去web控制台检查是否有开启端口



    4、内网和外网访问，鉴权问题安全问题

            1）所有应用只能通过网关提供对外访问的入口

            2）应用程序之间通讯，采用内网


    5、程序出错或者异常: 复制错误日志去百度搜索，网上有很多人会遇到类似的错误，多积累，特别强调







2、课程总结和后续技术规划
简介：总结SpringCloud课程和微服务后续课程规划

    1、springCloud全家桶，技术选择和知识点特别多，一定要学会记笔记，微服务更多关注的是里面架构和数据流转，而不是具体的业务。

    2、SpringCloud架构这些配置，一般使用一次后就不会多次修改了，进入公司主要还是开发业务，业务开发一般都用springboot，比较少让新人搭建SpringCloud的架构


    3、开发业务，无非就是CRUD，增删改查，只不过是初级和高级的区别，封装成通用和不通用的区别
</code></pre><p>​<br>​        4、微服务和容器盛行的情况下，容器编排和自动缩扩容越来越重要<br>​<br>​            可以关注：k8s / service mesh /server less 等技术</p>
<p>​<br>​        总结：<br>​            1）后续会推出对应的课程，还有项目实战系列，大家记得关注 小D课堂，官网 ：<a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a>,<br>​<br>​            2）也可以加我微信交流： jack794666918<br>​<br>            3）购买对应的课程后，记得进我们小D课堂官方的交流群，我会在里面分享主流技术和答疑，面试经验等等，还会同步更新资料和还超级干货分享 </p>
<p>=============================================</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/09/开发遇到的问题/常见问题总结/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/09/开发遇到的问题/常见问题总结/" itemprop="url">常见问题总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-09T17:14:16+08:00">
                2018-11-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/09/开发遇到的问题/常见问题总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/11/09/开发遇到的问题/常见问题总结/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>前端向后端传值：</p>
<ul>
<li><p>Button 和form</p>
</li>
<li><ul>
<li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goUpdatePage</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">"$&#123;pageContext.request.contextPath&#125;/user/editcontroller?id="</span> + id;</span><br><span class="line">&#125;      </span><br><span class="line"> &lt;button type=<span class="string">"button"</span> onclick=<span class="string">"goUpdatePage($&#123;user.id&#125;)"</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span></span>=<span class="string">"btn btn-primary btn-xs"</span>&gt;</span><br><span class="line">    &lt;i</span><br><span class="line">            <span class="class"><span class="keyword">class</span></span>=<span class="string">" glyphicon glyphicon-pencil"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>开发中service层 必须要写 @service注解</p>
</li>
<li><p>⚠️service中不要加@service。在service的实现serviceiml中加@service注解</p>
</li>
<li><p>开发的顺序 从前端传值到Controller 再到 service 再到serviceimpl 再到userdao 再到mybatis.xml再到数据库 数据库返回前端页面</p>
</li>
<li><p>引入mybatis 的多个mapper的配置文件 mapper.xml  Spring Boot 的方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mybatis.mapper-locations=classpath:mybatis/mapper/*.xml</span><br></pre></td></tr></table></figure>
</li>
<li><p>###idea警告：Field injection is not recommended</p>
</li>
<li><p>####Springboot开发 Dao中UserDao RoleDao中要加 @Mapper注解</p>
<p># </p>
</li>
<li><h1 id=""><a href="#" class="headerlink" title=""></a><img src="/Users/apple/Desktop/屏幕快照 2018-11-14 下午1.19.50.png" alt="屏幕快照 2018-11-14 下午1.19.50"></h1></li>
<li><p>import和open项目是不一样的 出现上面的情况要import一下啊 兄ide</p>
</li>
<li><h3 id="Caused-by-org-apache-ibatis-type-TypeException-Could-not-resolve-type-alias-‘BaseResultMap’"><a href="#Caused-by-org-apache-ibatis-type-TypeException-Could-not-resolve-type-alias-‘BaseResultMap’" class="headerlink" title="Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias ‘BaseResultMap’"></a>Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias ‘BaseResultMap’</h3></li>
<li><p>Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Ca</p>
<blockquote>
<p> 看到那个<strong>resultType</strong>了么，就是它惹的祸，这里把<strong>resultType</strong>改为<strong>resultMap</strong>就OK啦，重启tomcat，木有异常啦</p>
</blockquote>
</li>
</ul>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxtic1bppsj309801naa1.jpg" alt="image-20181114135152950"></p>
<blockquote>
<p>跳转视图 用字符串哈 </p>
</blockquote>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fxtic5ntolj305505g3yh.jpg" alt="image-20181117115951176"></p>
<p>开发中前端的img要放到和框架的同一目录及下面哈。兄die</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/09/开发遇到的问题/Iterm2配置/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/09/开发遇到的问题/Iterm2配置/" itemprop="url">ITerm2的配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-09T09:58:44+08:00">
                2018-11-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/09/开发遇到的问题/Iterm2配置/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/11/09/开发遇到的问题/Iterm2配置/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ITerm2的配置问题"><a href="#ITerm2的配置问题" class="headerlink" title="ITerm2的配置问题"></a>ITerm2的配置问题</h2><h1 id="每次vim的时候一定要source一下-啊-xiong-die"><a href="#每次vim的时候一定要source一下-啊-xiong-die" class="headerlink" title="每次vim的时候一定要source一下 啊 xiong die"></a>每次vim的时候一定要source一下 啊 xiong die</h1><blockquote>
<p>学习资源</p>
<p><a href="https://www.jianshu.com/p/9c3439cc3bdb" target="_blank" rel="noopener">https://www.jianshu.com/p/9c3439cc3bdb</a> 简书</p>
<p><a href="https://github.com/sirius1024/iterm2-with-oh-my-zsh" target="_blank" rel="noopener">https://github.com/sirius1024/iterm2-with-oh-my-zsh</a> Github</p>
<p><a href="https://www.cnblogs.com/xishuai/p/mac-iterm2.html" target="_blank" rel="noopener">https://www.cnblogs.com/xishuai/p/mac-iterm2.html</a> 博客园</p>
<p><a href="https://blog.csdn.net/z3512498/article/details/51245853" target="_blank" rel="noopener">https://blog.csdn.net/z3512498/article/details/51245853</a> CSDN 改变用户名 </p>
<blockquote>
<p>必须要使用vim的命令修改配置</p>
</blockquote>
</blockquote>
<h3 id="常见的命令"><a href="#常见的命令" class="headerlink" title="常见的命令"></a>常见的命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.zshrc</span><br><span class="line">source ~/.zshrc  （soucre配置文件 让配置文件生效）</span><br><span class="line">文件放在itermgit下面 必须要在主题可以使用的情况下 进行以上的配置</span><br><span class="line">快捷键冲突 取词 copy失效</span><br></pre></td></tr></table></figure>
<h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><ul>
<li>安装完成后，在/bin目录下会多出一个zsh的文件。</li>
</ul>
<p>Mac系统默认使用dash作为终端，可以使用命令修改默认使用zsh：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>
<p>如果想修改回默认dash，同样使用chsh命令即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/bash</span><br></pre></td></tr></table></figure>
<p>export MAVEN_HOME=/Java/apache-maven-3.5.4 </p>
<p>export PATH=${PATH}:${MAVEN_HOME}/bin </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/Docker/Docker-web/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/Docker/Docker-web/" itemprop="url">docker-web</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-08T10:20:30+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/08/Docker/Docker-web/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/11/08/Docker/Docker-web/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p> 学习地址* <a href="https://www.imooc.com/video/14624（慕课网）-6⃣刘果国" target="_blank" rel="noopener">https://www.imooc.com/video/14624（慕课网）-6⃣刘果国</a></p>
</blockquote>
<p>#第一个 java web项目 （SpringBoot 项目打包成一个war包的方式）</p>
<h3 id="一制作自己的景象"><a href="#一制作自己的景象" class="headerlink" title="一制作自己的景象"></a>一制作自己的景象</h3><ul>
<li><p>Dockerfile</p>
</li>
<li><p>docker build</p>
<hr>
<ul>
<li>首先需要一个war文件 拷贝在桌面上</li>
</ul>
<blockquote>
<p>Docker images</p>
</blockquote>
</li>
</ul>
<h5 id="1-建立一个Dockerfile"><a href="#1-建立一个Dockerfile" class="headerlink" title="1.建立一个Dockerfile"></a>1.建立一个Dockerfile</h5><blockquote>
<p>vim Dockerfile</p>
</blockquote>
<h6 id="2-下载Tomcat镜像"><a href="#2-下载Tomcat镜像" class="headerlink" title="2. 下载Tomcat镜像"></a>2. 下载Tomcat镜像</h6><blockquote>
<p>网易镜像中心 找Tomcat的镜像 <a href="https://c.163yun.com/hub#/m/home/" target="_blank" rel="noopener">https://c.163yun.com/hub#/m/home/</a></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1o7j48uj30z90583z1.jpg" alt="image-20181108171728002"></p>
</blockquote>
<p>（包括JDK Tomcat）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull hub.c.163.com/library/tomcat:latest</span><br></pre></td></tr></table></figure>
<p> <img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fxv1ocd68lj30p10bjdik.jpg" alt="image-20181108172737831"></p>
<p>站在巨人的肩上</p>
<h5 id="3-编辑Dockerfile"><a href="#3-编辑Dockerfile" class="headerlink" title="3.编辑Dockerfile"></a>3.编辑Dockerfile</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在Mac终端中使用vim编辑文件步骤</span><br><span class="line">1.  cd   文件所在的文件夹路径  &lt;回車&gt;</span><br><span class="line">2. 輸入  vim 文件名 &lt;回車&gt;</span><br><span class="line">3. 按下 i 鍵來编辑文本文字</span><br><span class="line">4. 退出vim編輯器：</span><br><span class="line">     不保存并退出  &lt;ESC&gt;   :q!   &lt;回車&gt;</span><br><span class="line">     保存并退出     &lt;ESC&gt;   :wq   &lt;回車&gt;</span><br></pre></td></tr></table></figure>
<p>from hub.c.163.com/library/tomcat</p>
<p>MAINTAINER Freemana2017 <a href="mailto:1047629166@qq.com" target="_blank" rel="noopener">1047629166@qq.com</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /Users/apple/Desktop/Dockerweb</span><br><span class="line">ls</span><br><span class="line">&gt; mv atcrodfunding3_ssm-0.0.1-SNAPSHOT.war atcrod.war</span><br><span class="line">mv atcrodfunding3_ssm-0.0.1-SNAPSHOT.war atcrod.war (用MV 重新命名一下)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>进入文件夹里面 编写Dockerfile</p>
</li>
<li><p>学会看镜像的说明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">How to use this image.</span><br><span class="line"></span><br><span class="line">Run the default Tomcat server (CMD [\&quot;catalina.sh\&quot;, \&quot;run\&quot;]):</span><br><span class="line"></span><br><span class="line">$ docker run -it --rm tomcat:8.0</span><br><span class="line">You can test it by visiting http://container-ip:8080 in a browser or, if you need access outside the host, on port 8888:</span><br><span class="line"></span><br><span class="line">$ docker run -it --rm -p 8888:8080 tomcat:8.0</span><br><span class="line">You can then go to http://localhost:8888 or http://host-ip:8888 in a browser.</span><br><span class="line"></span><br><span class="line">The default Tomcat environment in the image for versions 7 and 8 is:</span><br><span class="line"></span><br><span class="line">⭐️CATALINA_BASE:   /usr/local/tomcat</span><br><span class="line">⭐️CATALINA_HOME:   /usr/local/tomcat</span><br><span class="line">CATALINA_TMPDIR: /usr/local/tomcat/temp</span><br><span class="line">JRE_HOME:        /usr</span><br><span class="line">CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="1。编写Dockerfile-文件–Dockerfile"><a href="#1。编写Dockerfile-文件–Dockerfile" class="headerlink" title="1。编写Dockerfile 文件–Dockerfile"></a>1。编写Dockerfile 文件–Dockerfile</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from hub.c.163.com/library/tomcat</span><br><span class="line"></span><br><span class="line">MAINTAINER Freemana2017 1047629166@qq.com</span><br><span class="line"></span><br><span class="line">COPY atcrod.war /usr/local/tomcat/webapps</span><br></pre></td></tr></table></figure>
<h3 id="2-创建镜像-–docker-build"><a href="#2-创建镜像-–docker-build" class="headerlink" title="2.创建镜像 –docker build"></a>2.创建镜像 –docker build</h3><p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1obbfgjj30hu07q0uk.jpg" alt="image-20181108174858497"></p>
<h3 id="3-查看镜像–docker-images"><a href="#3-查看镜像–docker-images" class="headerlink" title="3.查看镜像–docker images"></a>3.查看镜像–docker images</h3><p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fxv1o9fhwsj30uh03s3zp.jpg" alt="image-20181108174929561"></p>
<h2 id="4-给镜像写名字-docker-build-t-atcrod-latest"><a href="#4-给镜像写名字-docker-build-t-atcrod-latest" class="headerlink" title="4.给镜像写名字 docker build -t atcrod:latest ."></a>4.给镜像写名字 docker build -t atcrod:latest .</h2><p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fxv1obvr9lj30l7080q4p.jpg" alt="image-20181108175158795"></p>
<h3 id="5-再次查看镜像-docker-images"><a href="#5-再次查看镜像-docker-images" class="headerlink" title="5.再次查看镜像 docker images"></a>5.再次查看镜像 docker images</h3><p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fxv1ocxbkbj30wq049mym.jpg" alt="image-20181108175309803"></p>
<hr>
<hr>
<hr>
<hr>
<h1 id="二运行自己的容器"><a href="#二运行自己的容器" class="headerlink" title="###二运行自己的容器"></a>###二运行自己的容器</h1><h3 id="1-docker-run-d-p-8888-8080-atcrod"><a href="#1-docker-run-d-p-8888-8080-atcrod" class="headerlink" title="1.docker run -d -p 8888:8080 atcrod"></a>1.docker run -d -p 8888:8080 atcrod</h3><blockquote>
<p>8888本机的端口号。8080Tomcat的端口号 去163.com查询 atcrod镜像的名字</p>
</blockquote>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1oaw0vvj30mx01it99.jpg" alt="image-20181108175738036"></p>
<h4 id="2-docker-ps"><a href="#2-docker-ps" class="headerlink" title="2.docker ps"></a>2.docker ps</h4><blockquote>
<p>查看Tomcat的进程 检查容器是不是启动啦</p>
</blockquote>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1o9yl4qj310e0283z9.jpg" alt="image-20181108175751244"></p>
<h3 id="3-netstat-na-grep-8888"><a href="#3-netstat-na-grep-8888" class="headerlink" title="3.netstat -na|grep 8888"></a>3.netstat -na|grep 8888</h3><blockquote>
<p>检查端口是不是存在了  输入localhost:8888测试Tomcat是否启动啦</p>
</blockquote>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1oagkq1j30os02oq3i.jpg" alt="image-20181108180034419"></p>
<hr>
<hr>
<hr>
<hr>
<hr>
<h1 id="⚠️-以上只是web项目在Docker中的部署项目"><a href="#⚠️-以上只是web项目在Docker中的部署项目" class="headerlink" title="⚠️ 以上只是web项目在Docker中的部署项目"></a>⚠️ 以上只是web项目在Docker中的部署项目</h1><h1 id="3-Docker-部署SpringBoot-web项目"><a href="#3-Docker-部署SpringBoot-web项目" class="headerlink" title="3.Docker 部署SpringBoot web项目"></a>3.Docker 部署SpringBoot web项目</h1><blockquote>
<p>学习资源汇总</p>
<p><a href="http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html" target="_blank" rel="noopener">http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html</a></p>
<p><a href="https://blog.csdn.net/weixin_39800144/article/details/79214978" target="_blank" rel="noopener">https://blog.csdn.net/weixin_39800144/article/details/79214978</a></p>
<p><a href="https://blog.csdn.net/weixin_39800144/article/details/79213276" target="_blank" rel="noopener">https://blog.csdn.net/weixin_39800144/article/details/79213276</a></p>
<p><a href="https://bingohuang.com/spring-boot-docker/" target="_blank" rel="noopener">https://bingohuang.com/spring-boot-docker/</a></p>
</blockquote>
<blockquote>
<p>FROM java:8</p>
<p>VOLUME /tmp</p>
<p>COPY target/tran4spd-1.0-SNAPSHOT.jar resource.jar.   #这边放的是Docker部署的jar包的位置 绝对路径</p>
<p>RUN bash -c “touch /resource.jar”</p>
<p>EXPOSE 8080</p>
<p>ENTRYPOINT [“java”,”-jar”,”resource.jar”]</p>
<p># docker run -d -p 18080:8099 –name docker-resource leesia/resource:1.0</p>
</blockquote>
<p> 注意java-jar无法运行Tomcat要外置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.5&lt;/version&gt;</span><br><span class="line">    &lt;scope&gt;provided&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>##文件路径不要用中文！！！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/07/Docker/Docker-SpringBoot/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/07/Docker/Docker-SpringBoot/" itemprop="url">Docker SpringBoot</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-07T18:04:37+08:00">
                2018-11-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/SpringBoot/" itemprop="url" rel="index">
                    <span itemprop="name">SpringBoot</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/07/Docker/Docker-SpringBoot/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/11/07/Docker/Docker-SpringBoot/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="DockerMachine应用"><a href="#DockerMachine应用" class="headerlink" title="DockerMachine应用"></a>DockerMachine应用</h2><h4 id="注意整个过程要等待一下"><a href="#注意整个过程要等待一下" class="headerlink" title="注意整个过程要等待一下"></a>注意整个过程要等待一下</h4><blockquote>
<p>参考<a href="https://study.163.com/course/courseLearn.htm?courseId=1002892012#/learn/video?lessonId=1003309140&amp;courseId=1002892012" target="_blank" rel="noopener">https://study.163.com/course/courseLearn.htm?courseId=1002892012#/learn/video?lessonId=1003309140&amp;courseId=1002892012</a></p>
<p>网易云课堂 动手玩Docker</p>
</blockquote>
<ul>
<li>安装DockerMachine</li>
<li>docker-machine ls    tcp://192.168.99.100:2376   name：cloudcomb</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fxv1nhvbpxj30v502gq3j.jpg" alt="image-20181107181833492"></p>
<ul>
<li><p>docker-machine create –driver virtualbox cloudcomb </p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1niejwmj314m0j0agt.jpg" alt="image-20181107181903652"></p>
</li>
<li><p>Docker-machine env cloudcomb</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1nnekkpj30oe05ngnb.jpg" alt="image-20181107182121568"></p>
</li>
</ul>
<p>⚠️第四个变量eval说的是当前Dockermachine的名字是—cloudcomb</p>
<ul>
<li><p>eval $(docker-machine env cloudcomb) 拷贝放到底下</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fxv1njfqr1j30nw01mdg7.jpg" alt="image-20181107182325486"></p>
</li>
<li><p>使用网易蜂巢</p>
</li>
<li><p>Docker run hub.c163.com/library/busybox:latest echon hello world （unable。。这个过程要等待啊）⭐️</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fxv1nuv8l5j30uv05vq53.jpg" alt="image-20181107182746194"></p>
</li>
<li><p>docker-machine rm cloudcomb 删除docker-machine</p>
</li>
</ul>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1nr9y6gj30vk06atak.jpg" alt="image-20181107182909832"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1no2f8zj310i0iywgq.jpg" alt="image-20181107183004383"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fxv1nya7tbj30vj0gvwh6.jpg" alt="image-20181107183018420"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1npbkc8j30vb0dowgf.jpg" alt="image-20181107183034881"></p>
<h1 id="SpringBoot整合Docker"><a href="#SpringBoot整合Docker" class="headerlink" title="SpringBoot整合Docker"></a>SpringBoot整合Docker</h1><blockquote>
<p>Emmmm.等我有钱了 把Xnip去掉哈哈</p>
</blockquote>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fxv1npwdhcj30qd1niq9k.jpg" alt="image-20181107183409783"></p>
<ul>
<li><p>下载源码<a href="https://github.com/bingohuang/spring-boot-docker" target="_blank" rel="noopener">https://github.com/bingohuang/spring-boot-docker</a></p>
<blockquote>
<p>Git 通过命令行下载文件 先cd一下指定一下下载的路径</p>
</blockquote>
</li>
<li><p>导入项目到Idea 然后查看一下源码</p>
</li>
<li><p>运行一下项目（访问一下 测试一下）</p>
<h2 id="Docker-SpringBoot部署项目"><a href="#Docker-SpringBoot部署项目" class="headerlink" title="Docker SpringBoot部署项目"></a>Docker SpringBoot部署项目</h2></li>
</ul>
<p>⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️</p>
<h3 id="1-install项目"><a href="#1-install项目" class="headerlink" title="1.install项目"></a>1.install项目</h3><p>  <img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1nqqkndj308301d0sq.jpg" alt="image-20181107185602118"></p>
<blockquote>
<p>找到这两个文件 放到桌面上</p>
</blockquote>
<h3 id="2-将这两个项目放到一个文件下，不知道为什么好像要把jar改名成gs-spring-boot-docker-0-0-1-jar"><a href="#2-将这两个项目放到一个文件下，不知道为什么好像要把jar改名成gs-spring-boot-docker-0-0-1-jar" class="headerlink" title="2.将这两个项目放到一个文件下，不知道为什么好像要把jar改名成gs-spring-boot-docker-0.0.1.jar"></a>2.将这两个项目放到一个文件下，不知道为什么好像要把jar改名成gs-spring-boot-docker-0.0.1.jar</h3><p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fxv1nypf5ij309k01jglr.jpg" alt="image-20181107191351622"></p>
<h3 id="3-cd到文件下-ls一下"><a href="#3-cd到文件下-ls一下" class="headerlink" title="3.cd到文件下 ls一下"></a>3.cd到文件下 ls一下</h3><h3 id="4-执行-˛docker-version"><a href="#4-执行-˛docker-version" class="headerlink" title="4.执行  ˛docker version"></a>4.执行  ˛docker version</h3><p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fxv1nu3j80j30gp0dcwgb.jpg" alt="image-20181107191444666"></p>
<h3 id="5-执行-docker-machine-env"><a href="#5-执行-docker-machine-env" class="headerlink" title="5.执行 docker-machine env"></a>5.执行 docker-machine env</h3><p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fxv1nmu4mmj30m405agn2.jpg" alt="image-20181107191515590"></p>
<h3 id="6-执行eval-docker-machine-env-（复制后面的第四条）"><a href="#6-执行eval-docker-machine-env-（复制后面的第四条）" class="headerlink" title="6.执行eval $(docker-machine env)（复制后面的第四条）"></a>6.执行eval $(docker-machine env)（复制后面的第四条）</h3><p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1nkk2c6j30j6015q39.jpg" alt="image-20181107191547911"></p>
<p>tcp://192.168.99.100:2376192.168.99.100</p>
<p> tcp://127.0.0.1:2376 tcp://127.0.0.1:2376</p>
<p>###7.docker version（没有-）</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1nwvgcbj30ib0de40e.jpg" alt="image-20181107191658043"></p>
<h3 id="8-ls一下目录"><a href="#8-ls一下目录" class="headerlink" title="8.ls一下目录"></a>8.ls一下目录</h3><p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fxv1nk29s4j30k301l0t2.jpg" alt="image-20181107191730046"></p>
<h3 id="9-docker-build-t-cloudcomb-sun-1-0"><a href="#9-docker-build-t-cloudcomb-sun-1-0" class="headerlink" title="9.docker build -t cloudcomb/sun:1.0 ."></a>9.docker build -t cloudcomb/sun:1.0 .</h3><blockquote>
<p> （桌面上要有jar包和dockerfilede 文件）</p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107191826890.png" alt="image-20181107191826890"></p>
<blockquote>
<p>此时报错 没有gs-spring-boot-docker.jar文件 其实ls的时候就应该是gs-spring-boot-docker.jar 这儿是个bug。</p>
<p>解决办法 改jar包名 添加gs前缀</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://docker.mirrors.ustc.edu.cn</span><br></pre></td></tr></table></figure>
<h3 id="10。docker-build-t-cloudcomb-sun-1-0-（大佬说这一步是拉取镜像。用加速器-改名后重新执行命令）我们可以用大佬网易云的Dokcer镜像"><a href="#10。docker-build-t-cloudcomb-sun-1-0-（大佬说这一步是拉取镜像。用加速器-改名后重新执行命令）我们可以用大佬网易云的Dokcer镜像" class="headerlink" title="10。docker build -t cloudcomb/sun:1.0 .（大佬说这一步是拉取镜像。用加速器 改名后重新执行命令）我们可以用大佬网易云的Dokcer镜像"></a>10。docker build -t cloudcomb/sun:1.0 .（大佬说这一步是拉取镜像。用加速器 改名后重新执行命令）我们可以用大佬网易云的Dokcer镜像</h3><p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1nxqi67j30u00d5jv6.jpg" alt="image-20181107192039326"></p>
<h3 id="11-docker-images-a"><a href="#11-docker-images-a" class="headerlink" title="11. docker images -a"></a>11. docker images -a</h3><p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1nl3117j30rv04k3zz.jpg" alt="image-20181107192154611"></p>
<h3 id="12-docker-run-p-1024-8080-t-cloudcomb-sun-1-0"><a href="#12-docker-run-p-1024-8080-t-cloudcomb-sun-1-0" class="headerlink" title="12.docker run -p 1024:8080 -t cloudcomb/sun:1.0 ."></a>12.docker run -p 1024:8080 -t cloudcomb/sun:1.0 .</h3><blockquote>
<p>注意 cloudcomb和前面的cloudcomb要一一对应</p>
<p>1024 与8080是一一对应的关系</p>
<p>Error: Unable to access jarfile /app.jar</p>
<p>⭐️ ADD user-server-0.0.1-SNAPSHOT.jar app.jar 要和pom的<artifactid>user-server</artifactid></p>
<p>保持名字一样，不然maven打出来的包，docker找不到。</p>
<ul>
<li>最终的结局办法 好像是将copy去掉了 注意看控制台打印的信息 兄dei</li>
</ul>
</blockquote>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1nsxm7fj30u012etvl.jpg" alt="image-20181107192857396"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1nz8gpnj30ky06g76a.jpg" alt="image-20181107193127019"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1nthrydj30at04rwes.jpg" alt="image-20181107193051806"></p>
<p>DockerFile：</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fxv1nvfyymj30io05m3zf.jpg" alt="image-20181107193402453"></p>
<blockquote>
<p>Docker就是给一名字 gs-spring-bbot</p>
</blockquote>
<p>贴一个Dockerfilr。</p>
<ul>
<li style="list-style: none"><input type="checkbox" checked> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">FROM hub.c.163.com/xbingo/jdk8:latest</span><br><span class="line"></span><br><span class="line">from hub.c.163.com/library/tomcat</span><br><span class="line"></span><br><span class="line">MAINTAINER Freemana2017 1047629166@qq.com</span><br><span class="line"></span><br><span class="line">ADD  atcrodfunding3_ssm-0.0.1-SNAPSHOT.jar app.jar</span><br><span class="line"></span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span><br><span class="line"></span><br><span class="line">COPY atcrod.war /usr/local/tomcat/webapps</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">#FROM openjdk:8-jdk-alpine</span><br><span class="line">#VOLUME /tmp</span><br><span class="line">#ADD  atcrodfunding3_ssm-0.0.1-SNAPSHOT.jar app.jar</span><br><span class="line">#ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span><br><span class="line">#</span><br><span class="line"> </span><br><span class="line">#FROM hub.c.163.com/xbingo/jdk8:latest</span><br><span class="line">#</span><br><span class="line">#ADD gs-spring-boot-docker-0.1.0.jar app.jar</span><br><span class="line">#</span><br><span class="line">#ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">#这个 Dockerfile 文件很简单，构建 Jdk 基础环境，添加 Spring Boot Jar 到镜像中，简单解释一下:</span><br><span class="line">#</span><br><span class="line">#FROM ，表示使用 Jdk8 环境 为基础镜像，如果镜像不是本地的会从 DockerHub 进行下载</span><br><span class="line">#VOLUME ，VOLUME 指向了一个/tmp的目录，由于 Spring Boot 使用内置的Tomcat容器，Tomcat 默认使用/tmp作为工作目录。这个命令的效果是：</span><br><span class="line">#在宿主机的/var/lib/docker目录下创建一个临时文件并把它链接到容器中的/tmp目录</span><br><span class="line">#ADD ，拷贝文件并且重命名</span><br><span class="line">#ENTRYPOINT ，为了缩短 Tomcat 的启动时间，添加java.security.egd的系统属性指向/dev/urandom作为 ENTRYPOINT</span><br><span class="line">#这样 Spring Boot 项目添加 Docker 依赖就完成了。</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<p>Dockerfile 用的war要有Tomcat </p>
<p>自己理解吧 多看一些视频笔记什么的 反正很难,,,</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fxv1nw5fzmj30u02imtsw.jpg" alt="image-20181107184402451"></p>
<hr>
<hr>
<hr>
<h1 id="以上的文件是从github上拉的-现在自己构建SpringBoot-jar的应用"><a href="#以上的文件是从github上拉的-现在自己构建SpringBoot-jar的应用" class="headerlink" title="以上的文件是从github上拉的 现在自己构建SpringBoot -jar的应用"></a>以上的文件是从github上拉的 现在自己构建SpringBoot -jar的应用</h1><blockquote>
<p>通过群里的指导 估计jar打包和war打包区别不大吧</p>
<p>下面通过SpringBoot构建Docker部署一下试试</p>
<p><a href="https://waylau.com/docker-spring-boot/" target="_blank" rel="noopener">https://waylau.com/docker-spring-boot/</a></p>
<p><a href="http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html" target="_blank" rel="noopener">http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html</a></p>
<p><a href="https://lw900925.github.io/docker/docker-springboot.html" target="_blank" rel="noopener">https://lw900925.github.io/docker/docker-springboot.html</a></p>
<p><a href="https://www.tianmaying.com/tutorial/spring-boot-docker" target="_blank" rel="noopener">https://www.tianmaying.com/tutorial/spring-boot-docker</a></p>
</blockquote>
<blockquote>
<p><a href="https://bingohuang.com/spring-boot-docker/" target="_blank" rel="noopener">https://bingohuang.com/spring-boot-docker/</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.imooc.com/search/?words=docker" target="_blank" rel="noopener">https://www.imooc.com/search/?words=docker</a></p>
</blockquote>
<blockquote>
<p><a href="http://www.ityouknow.com/docker/2018/03/30/docker-machine.html" target="_blank" rel="noopener">http://www.ityouknow.com/docker/2018/03/30/docker-machine.html</a></p>
<p><a href="https://spring.io/guides/gs/spring-boot-docker/" target="_blank" rel="noopener">https://spring.io/guides/gs/spring-boot-docker/</a></p>
</blockquote>
<h2 id="SpringBoot-Docker"><a href="#SpringBoot-Docker" class="headerlink" title="SpringBoot Docker"></a>SpringBoot Docker</h2><blockquote>
<p><a href="https://lw900925.github.io/docker/docker-springboot.html" target="_blank" rel="noopener">https://lw900925.github.io/docker/docker-springboot.html</a></p>
</blockquote>
<p><a href="http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html" target="_blank" rel="noopener">http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html</a> 主要环节</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1nx6s2nj30jf039t96.jpg" alt="image-20181110214317827"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181115165826700.png" alt="image-20181115165826700"></p>
<p>$ sudo docker tag [ImageId] ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[镜像版本号]<br>$ sudo docker push ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[镜像版本号]</p>
<p>⭐️</p>
<p> sudo docker tag 5fc4ede68fcd ccr.ccs.tencentyun.com/atcrod/latest</p>
<p> sudo docker push ccr.ccs.tencentyun.com/atcrod/latest</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/07/Docker/Docker-Idea/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/07/Docker/Docker-Idea/" itemprop="url">Docker-Idea</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-07T15:39:20+08:00">
                2018-11-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index">
                    <span itemprop="name">Docker</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/07/Docker/Docker-Idea/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/11/07/Docker/Docker-Idea/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###1.Docker 在Intellij中的使用</p>
<ul>
<li><p>Machine的安装</p>
</li>
<li><p>compose的安装</p>
</li>
<li><p>Docker的配置</p>
<p><strong>首先学习什么东西都要用官网的东西</strong></p>
<p><strong>安装Docker的插件-看网上教程</strong></p>
<p><strong>看Docker插件的官网</strong> <a href="https://www.jetbrains.com/help/idea/docker.html" target="_blank" rel="noopener">hrer</a></p>
<blockquote>
<p>学习英文。任何东西官网都用详细说明的</p>
</blockquote>
<ul>
<li style="list-style: none"><input type="checkbox" checked> 学习Docker</li>
<li style="list-style: none"><input type="checkbox" checked> 学习SpringBoot整合Docker</li>
<li style="list-style: none"><input type="checkbox" checked> 学习运维</li>
</ul>
<p><strong>下面开始Docker的学习</strong></p>
<p>1.现在插件</p>
<p>2.看网址的教程</p>
<p>3.安装machin和compose</p>
<blockquote>
<p>machine和compose的安装参考</p>
<p>1.Gitbook书</p>
<p><a href="https://yeasy.gitbooks.io/docker_practice/content/compose/install.html" target="_blank" rel="noopener">https://yeasy.gitbooks.io/docker_practice/content/compose/install.html</a></p>
<p>2。官方文档（为主）</p>
<p><a href="https://docs.docker.com/machine/install-machine/" target="_blank" rel="noopener">https://docs.docker.com/machine/install-machine/</a> ⭐️</p>
<p>（为什么每次都要重新下载dockermachine）</p>
</blockquote>
<blockquote>
<p>Docker-machine env 不能执行二进制文件 首先要 重新下载Dockermachihe</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">base=https://github.com/docker/machine/releases/download/v0.14.0 &amp;&amp;</span><br><span class="line">  curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/usr/local/bin/docker-machine &amp;&amp;</span><br><span class="line">  chmod +x /usr/local/bin/docker-machine</span><br></pre></td></tr></table></figure>
<blockquote>
<p>3.Github</p>
<p><a href="https://github.com/docker/machine/releases" target="_blank" rel="noopener">https://github.com/docker/machine/releases</a></p>
<p><a href="https://github.com/docker/machine" target="_blank" rel="noopener">https://github.com/docker/machine</a></p>
</blockquote>
<h1 id="2-有些东西放在了云收藏里面"><a href="#2-有些东西放在了云收藏里面" class="headerlink" title="2.有些东西放在了云收藏里面"></a>2.有些东西放在了云收藏里面</h1><h6 id="Docker的用户名是2018112"><a href="#Docker的用户名是2018112" class="headerlink" title="Docker的用户名是2018112"></a>Docker的用户名是2018112</h6><p>#####安装Docker插件要开VPN 还有访问Gitbub也要开VPN wiredes的</p>
<h6 id="安装Docker要安装DookerToolBox"><a href="#安装Docker要安装DookerToolBox" class="headerlink" title="安装Docker要安装DookerToolBox"></a>安装Docker要安装DookerToolBox</h6></li>
</ul>
<h1 id="3-Docker"><a href="#3-Docker" class="headerlink" title="3.Docker"></a>3.Docker</h1><p>  ！！Docker真是一个恐怖的东西</p>
<p>  ######Docker的学习资源GitBook里面的Docker的附录部分</p>
<blockquote>
<p><a href="https://blog.lab99.org/post/docker-2016-07-14-faq.html" target="_blank" rel="noopener">https://blog.lab99.org/post/docker-2016-07-14-faq.html</a></p>
</blockquote>
<h4 id="1-无独有偶通过Docker-SpirngBoot的学习了解了TCP-socker-Engine-API-URL的填写"><a href="#1-无独有偶通过Docker-SpirngBoot的学习了解了TCP-socker-Engine-API-URL的填写" class="headerlink" title="1.无独有偶通过Docker-SpirngBoot的学习了解了TCP socker Engine API URL的填写"></a>1.无独有偶通过Docker-SpirngBoot的学习了解了TCP socker Engine API URL的填写</h4><blockquote>
<p> Docker开启远程访问这是过程中产生的问题 安装了socket 以后想办法删除</p>
<p>PS：Docker服务中进程间通信通过/var/run/docker.sock实现，默认服务不提供监听端口，因此使用docker remote api 需要手动绑定端口。方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; `# service docker stop``# docker -d -H unix:``///var/run/docker.sock -H tcp://0.0.0.0:2375`</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>  ###2.点击+号添加一个docker配置，输入Name和Engine API URL，URL是docker服务地址，需要docker开启远程连接功能。CentOS中在docker启动参数里添加如下配置即可开启远程连接。</p>
<pre><code>-H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375
</code></pre><hr>
<p>   <em>下面是docker在idea中的安装</em></p>
<ul>
<li><p>clouds里面没有Docker。在Docker中配置 TCP：tcp：//127.0.0.1:2376</p>
</li>
<li><p>注意这个是通过终端命令得到的</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker-machine env cloudcomb</span><br><span class="line">export DOCKER_TLS_VERIFY=&quot;1&quot;</span><br><span class="line">export DOCKER_HOST=&quot;tcp://192.168.99.101:2376&quot;</span><br><span class="line">export DOCKER_CERT_PATH=&quot;/Users/apple/.docker/machine/machines/cloudcomb&quot;</span><br><span class="line">export DOCKER_MACHINE_NAME=&quot;cloudcomb&quot;</span><br><span class="line"># Run this command to configure your shell:</span><br><span class="line"># eval $(docker-machine env cloudcomb)</span><br></pre></td></tr></table></figure>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fxv1ndoklwj30u602yt9n.jpg" alt="image-20181107213000670"></p>
</li>
<li><p>将前面的端口换成本地的 tcp:127.0.0.1:2376</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1nbu2afj30i90f8751.jpg" alt="image-20181107213056424"></p>
</li>
</ul>
<ul>
<li style="list-style: none"><input type="checkbox"> emm睡一觉起来VPN打开要等一会</li>
<li style="list-style: none"><input type="checkbox"> <img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fxv1ncn0rpj30hz0b4aal.jpg" alt="image-20181108064320954"></li>
</ul>
<p>在终端输入dockerversion</p>
<p>docker-machine env—Host is not running</p>
<h5 id="学习资源：通过Github的搜索功能🔍-发现一些学习资料"><a href="#学习资源：通过Github的搜索功能🔍-发现一些学习资料" class="headerlink" title="#学习资源：通过Github的搜索功能🔍 发现一些学习资料"></a>#学习资源：通过Github的搜索功能🔍 发现一些学习资料</h5><p><a href="https://www.jetbrains.com/help/idea/docker.html" target="_blank" rel="noopener">https://www.jetbrains.com/help/idea/docker.html</a></p>
<p>alip1<code>sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">FROM java:8</span><br><span class="line">VOLUME /tmp</span><br><span class="line"></span><br><span class="line">sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest</span><br><span class="line"></span><br><span class="line">COPY target/tran4spd-1.0-SNAPSHOT.jar resource.jar</span><br><span class="line">RUN bash -c &quot;touch /resource.jar&quot;</span><br><span class="line">EXPOSE 8080</span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;resource.jar&quot;]</span><br><span class="line"></span><br><span class="line"># docker run -d -p 18080:8099 --name docker-resource leesia/resource:1.0</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/07/开发遇到的问题/Hexo/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/07/开发遇到的问题/Hexo/" itemprop="url">Hexo的使用教程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-07T15:24:22+08:00">
                2018-11-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Hexo/" itemprop="url" rel="index">
                    <span itemprop="name">Hexo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/07/开发遇到的问题/Hexo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/11/07/开发遇到的问题/Hexo/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="主题copy一份在apple中"><a href="#主题copy一份在apple中" class="headerlink" title="主题copy一份在apple中"></a>主题copy一份在apple中</h3><h3 id="不需要终端new-或者-标题title直接复制也是可以的"><a href="#不需要终端new-或者-标题title直接复制也是可以的" class="headerlink" title="不需要终端new 或者 标题title直接复制也是可以的"></a>不需要终端new 或者 标题title直接复制也是可以的</h3><h3 id="有时候有延迟"><a href="#有时候有延迟" class="headerlink" title="有时候有延迟"></a>有时候有延迟</h3><h3 id="下面就是图片的问题啦-用图床ipic解决问题"><a href="#下面就是图片的问题啦-用图床ipic解决问题" class="headerlink" title="下面就是图片的问题啦  用图床ipic解决问题"></a>下面就是图片的问题啦  用图床ipic解决问题</h3><blockquote>
<p><a href="https://www.jianshu.com/p/dbc945b05d55" target="_blank" rel="noopener">https://www.jianshu.com/p/dbc945b05d55</a> PIC </p>
<p><a href="https://sspai.com/post/39965" target="_blank" rel="noopener">https://sspai.com/post/39965</a> 少数派</p>
</blockquote>
<p> ### </p>
<p> <a href="https://hexo.io/zh-cn/docs/front-matter" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/front-matter</a> 学习Hexo按照这个网站里面有教程 学习任何东西都要使用官方文档</p>
<p>其余学习的东西在safair收藏➕随笔 hexo里面 真的好累 搭建这个环境</p>
<p>总之就是照着官网的例子 然后使用这个模版 然后yml文件要写全 坑太多了 能出一本书 先这样</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fy0ir5f7anj30b20ac74o.jpg" alt="屏幕快照 2018-12-07 下午7.18.33"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg" alt="2"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0lzxy1vnj319g0pbnl8.jpg" alt="image-20181209171302461"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg" alt="袁海鹏">
            
              <p class="site-author-name" itemprop="name">袁海鹏</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">47</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        


<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">袁海鹏</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>




<div class="powered-by">
<i class="fa fa-user-md"></i>

<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>


</div>





  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://.disqus.com/count.js" async></script>
    

    

  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>


