<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Freemana2017">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Freemana2017">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Freemana2017">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/">





  <title>Freemana2017</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Freemana2017</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/11/Docker/Dockerä¸Šä¼ äº‘æœåŠ¡å™¨/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/11/Docker/Dockerä¸Šä¼ äº‘æœåŠ¡å™¨/" itemprop="url">Dockerä¸Šä¼ åˆ°è…¾è®¯äº‘æœåŠ¡å™¨ä¸Š</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-11T11:35:27+08:00">
                2018-11-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><a href="https://cloud.tencent.com/document/product/457/9117" target="_blank" rel="noopener">https://cloud.tencent.com/document/product/457/9117</a> è…¾è®¯äº‘</p>
<p><a href="https://study.163.com/course/courseLearn.htm?courseId=1006018194#/learn/video?lessonId=1053398787&amp;courseId=1006018194" target="_blank" rel="noopener">https://study.163.com/course/courseLearn.htm?courseId=1006018194#/learn/video?lessonId=1053398787&amp;courseId=1006018194</a> å°Dè¯¾å ‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo docker login --username=[username] ccr.ccs.tencentyun.com 	</span><br><span class="line">sudo docker login --username=100007660104 ccr.ccs.tencentyun.com 	</span><br><span class="line">100007660104</span><br></pre></td></tr></table></figure>
<p>username:è…¾è®¯äº‘è´¦å·ï¼Œå¼€é€šæ—¶å·²æ³¨å†Œã€‚è¾“å…¥å¯†ç åå³ç™»å½•å®Œæˆã€‚<img src="/Users/apple/Desktop/å±å¹•å¿«ç…§ 2018-11-15 ä¸‹åˆ5.44.02.png" alt="å±å¹•å¿«ç…§ 2018-11-15 ä¸‹åˆ5.44.02"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181115182444968.png" alt="image-20181115182444968"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181115182457396.png" alt="image-20181115182457396"></p>
<p>##æ³¨æ„ ç”¨æˆ·å ä¸æ˜¯QQå·ç™»é™†çš„å¯†ç è€Œæ˜¯ä»“åº“çš„ç”¨æˆ·å ç¬¬ä¸€æ¬¡è‡ªåŠ¨ç”Ÿæˆ</p>
<p>####å¯†ç è¾“å…¥çš„æ—¶å€™å…ˆè¾“å…¥ç”µè„‘rootå¯†ç  z</p>
<p>###å†è¾“å…¥å¯†ç yhp836143</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181115182649857.png" alt="image-20181115182649857"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker tag [ImageId] ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·]</span><br><span class="line">$ sudo docker push ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·]</span><br></pre></td></tr></table></figure>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181115182725221.png" alt="image-20181115182725221"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker tag  5fc4ede68fcd ccr.ccs.tencentyun.com/freemana2017/atcrod:latest</span><br><span class="line">$ sudo docker push ccr.ccs.tencentyun.com/freemana2017/atcrod:latest</span><br></pre></td></tr></table></figure>
<p>å¯†ç è¾“å…¥ z å› ä¸ºæ˜¯sudo</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181115183150585.png" alt="image-20181115183150585"></p>
<h3 id="ä½¿ç”¨é•œåƒâ€”-ä¸‹è½½é•œåƒ"><a href="#ä½¿ç”¨é•œåƒâ€”-ä¸‹è½½é•œåƒ" class="headerlink" title="ä½¿ç”¨é•œåƒâ€”-ä¸‹è½½é•œåƒ"></a>ä½¿ç”¨é•œåƒâ€”-ä¸‹è½½é•œåƒ</h3><blockquote>
<p>å°Dè¯¾å ‚ ç¬¬62è®² macè¿œç¨‹ç™»é™†è…¾è®¯äº‘æœåŠ¡å™¨ ç„¶ååœ¨è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šä½¿ç”¨pushå‘½ä»¤æ‹‰å»é•œåƒ ç„¶åä½¿ç”¨runå‘½ä»¤è¿è¡Œé•œåƒ æœ€åæ”¹æˆå…¬ç½‘è®¿é—®é•œåƒ </p>
</blockquote>
<blockquote>
<p>ç™»é™†åˆ°è…¾è®¯äº‘çš„å®éªŒå®¤ å®‰è£…Dockerç¯å¢ƒ åœ¨æœ¬æœºä¸Šç™»é™†SSH ç„¶åæ­å»ºDockerç¯å¢ƒ</p>
</blockquote>
<h2 id="https-cloud-tencent-com-developer-labs-lab-10054-console"><a href="#https-cloud-tencent-com-developer-labs-lab-10054-console" class="headerlink" title="### https://cloud.tencent.com/developer/labs/lab/10054/console"></a>### <a href="https://cloud.tencent.com/developer/labs/lab/10054/console" target="_blank" rel="noopener">https://cloud.tencent.com/developer/labs/lab/10054/console</a></h2><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181115185616768.png" alt="image-20181115185616768"></p>
<p>åœ¨æœ¬æœºä¸Šè¿œç¨‹è…¾è®¯äº‘ æ­å»ºDockerç¯å¢ƒ</p>
<p>ç™»å½•åˆ°é•œåƒä»“åº“ï¼Œéœ€è¾“å…¥å¯†ç ã€‚</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker login --username=[username] ccr.ccs.tencentyun.com</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ä¸‹è½½é•œåƒã€‚</p>
<ul>
<li>sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker pull ccr.ccs.tencentyun.com/freemana2017/atcrod:latest</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="â­ï¸Dockerï¼šCannot-connect-to-the-Docker-daemon-Is-the-docker-daemon-running-on-this-host"><a href="#â­ï¸Dockerï¼šCannot-connect-to-the-Docker-daemon-Is-the-docker-daemon-running-on-this-host" class="headerlink" title="â­ï¸Dockerï¼šCannot connect to the Docker daemon. Is the docker daemon running on this host?"></a>â­ï¸Dockerï¼šCannot connect to the Docker daemon. Is the docker daemon running on this host?</h1><blockquote>
<p> <a href="https://www.w3cschool.cn/kxqhmy/suzagdn1.html" target="_blank" rel="noopener">https://www.w3cschool.cn/kxqhmy/suzagdn1.html</a></p>
</blockquote>
<p>æŸ¥çœ‹æ˜¯å¦å­˜åœ¨è¿›ç¨‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps aux |grep docker1</span><br></pre></td></tr></table></figure>
<p>åœæ­¢è¿›ç¨‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo service docker stop1</span><br></pre></td></tr></table></figure>
<p>é‡å¯dockerï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$dockerd</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<hr>
<hr>
<h1 id="Dockeråœ¨äº‘æœåŠ¡å™¨ä¸Šçš„å®‰è£…"><a href="#Dockeråœ¨äº‘æœåŠ¡å™¨ä¸Šçš„å®‰è£…" class="headerlink" title="Dockeråœ¨äº‘æœåŠ¡å™¨ä¸Šçš„å®‰è£…"></a>Dockeråœ¨äº‘æœåŠ¡å™¨ä¸Šçš„å®‰è£…</h1><blockquote>
<p><a href="https://www.jianshu.com/p/ea3078dae4fb" target="_blank" rel="noopener">https://www.jianshu.com/p/ea3078dae4fb</a> ç®€ä¹¦ </p>
</blockquote>
<p>1.ç™»é™†åˆ°æœåŠ¡å™¨ä¸Šé¢ é€šè¿‡ç»ˆç«¯ </p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181117182934398.png" alt="image-20181117182934398"></p>
<p>æˆ–è€…äº‘ä¸»æœºç™»é™†</p>
<p>2.å¼€å§‹æ“ä½œ</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181117183003800.png" alt="image-20181117183003800"></p>
<p>3.<a href="https://docs.docker.com/install/linux/docker-ce/centos/#uninstall-old-versions" target="_blank" rel="noopener">https://docs.docker.com/install/linux/docker-ce/centos/#uninstall-old-versions</a> å®˜ç½‘</p>
<blockquote>
<p> Dockerçš„å®‰è£…æ–¹å¼â€”è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šé¢ å¥½åƒä¹°çš„ç³»ç»Ÿæ˜¯Centsçš„ å®‰è£… CentOS çš„å®‰è£…</p>
</blockquote>
<p>Dockerï¼šCannot connect to the Docker daemon. Is the docker daemon running on this host? </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dockerï¼šCannot connect to the Docker daemon. Is the docker daemon running on this host?</span><br></pre></td></tr></table></figure>
<p>docker -d -p 8888ï¼š8080 </p>
<p>å…ˆåˆ†é…è§’è‰²ã€‚åœ¨å¯åŠ¨Docker </p>
<p>å¦‚æœç«¯å£æ’­è¢«å ç”¨äº† å…ˆå…³é—­Docker</p>
<p>sudo service docker stop</p>
<p>åœ¨å¯åŠ¨Doccur</p>
<p>service docker start</p>
<hr>
<p>å¤§ä½¬æŒ‡æ•™ã€‚ä¸æ˜¯locaohostg 192.168.2.123</p>
<p>æ˜¯å…¬ç½‘ipè…¾è®¯å…¬ç½‘çš„ipâ€“118.89.28.213</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181118104713199.png" alt="image-20181118104713199"></p>
<p>åŠ é•œåƒåå•Š å…„die</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/11/SpringBoot/SpringBoot-Docker-å°Dè¯¾å ‚/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/11/SpringBoot/SpringBoot-Docker-å°Dè¯¾å ‚/" itemprop="url">SpringBoot Docker å°Dè¯¾å ‚</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-11T10:13:42+08:00">
                2018-11-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="æ„å»ºSpringBoot-åº”ç”¨dockeré•œåƒ"><a href="#æ„å»ºSpringBoot-åº”ç”¨dockeré•œåƒ" class="headerlink" title="æ„å»ºSpringBoot åº”ç”¨dockeré•œåƒ"></a>æ„å»ºSpringBoot åº”ç”¨dockeré•œåƒ</h1><h4 id="1-ç¬¬1è¯¾-é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸Šé›†"><a href="#1-ç¬¬1è¯¾-é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸Šé›†" class="headerlink" title="1.ç¬¬1è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸Šé›†"></a>1.ç¬¬1è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸Šé›†</h4><blockquote>
<p> å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://spring.io/guides/gs/spring-boot-docker/" target="_blank" rel="noopener">https://spring.io/guides/gs/spring-boot-docker/</a></p>
<h2 id="1ã€æ­¥éª¤ï¼šmavené‡Œé¢æ·»åŠ é…ç½®pom-xml"><a href="#1ã€æ­¥éª¤ï¼šmavené‡Œé¢æ·»åŠ é…ç½®pom-xml" class="headerlink" title="1ã€æ­¥éª¤ï¼šmavené‡Œé¢æ·»åŠ é…ç½®pom.xml"></a>1ã€æ­¥éª¤ï¼šmavené‡Œé¢æ·»åŠ é…ç½®pom.xml</h2></blockquote>
<pre><code>ç®€ä»‹:ä½¿ç”¨Dockerçš„mavenæ’ä»¶ï¼Œæ„å»ºspringbootåº”ç”¨
 &lt;!--åœ¨mavenæœ€ä¸Šé¢çš„ç”³æ˜çš„åœ°æ–¹--properties--&gt;
     &lt;properties&gt;
       &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt;
    &lt;/properties&gt;

    &lt;build&gt;
    &lt;!--é¡¹ç›®æ‰“åŒ…çš„åç§°--&gt;
        &lt;finalName&gt;docker-demo&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.spotify&lt;/groupId&gt;
                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.3.6&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;
                    &lt;buildArgs&gt;
                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;
                    &lt;/buildArgs&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

    é…ç½®è®²è§£
    Spotify çš„ docker-maven-plugin æ’ä»¶æ˜¯ç”¨mavenæ’ä»¶æ–¹å¼æ„å»ºdockeré•œåƒçš„ã€‚
    ${project.build.finalName} äº§å‡ºç‰©åç§°ï¼Œç¼ºçœä¸º${project.artifactId}-${project.version}
</code></pre><p>â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸</p>
<blockquote>
<p> <a href="https://blog.csdn.net/TMaskBoy/article/details/82562413" target="_blank" rel="noopener">https://blog.csdn.net/TMaskBoy/article/details/82562413</a></p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181111112653319.png" alt="image-20181111112653319"></p>
<h1 id="é«˜èƒ½é¢„è­¦"><a href="#é«˜èƒ½é¢„è­¦" class="headerlink" title="é«˜èƒ½é¢„è­¦"></a>é«˜èƒ½é¢„è­¦</h1><ul>
<li><p>No plugin found for prefix â€˜dockerâ€™ in the current project and in the plugin groups<br>åœ¨Mavençš„é…ç½®æ–‡ä»¶ conf/settings.xmlä¸­æ·»åŠ com.spotify</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;pluginGroups&gt;  </span><br><span class="line">    &lt;pluginGroup&gt;com.spotify&lt;/pluginGroup&gt;  </span><br><span class="line">&lt;/pluginGroups&gt;</span><br><span class="line"></span><br><span class="line">æ³¨æ„settingé…ç½®æ–‡ä»¶åœ¨mavençš„ä»“åº“é‡Œé¢æ‰¾ä¸åˆ° é‡æ–°æ›´æ–°ideaä¸­mavençš„æ’ä»¶ ç„¶å æ›´æ¢.m2ä¸­confä¸­setting.xmlçš„å†…å®¹</span><br></pre></td></tr></table></figure>
</li>
<li><p>#è¯¦ç»†é”™è¯¯å¦‚ä¸‹ï¼šom.spotify.docker.client.shaded.com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.spotify.docker.client.messages.RegistryAuth: no String-argument constructor/factory method to deserialize from String value (â€˜swarmâ€™)  </p>
<p>èµ·åˆpom.xmlä¸­docker-maven-pluginçš„ç‰ˆæœ¬æ˜¯1.0.0ï¼Œä½¿ç”¨mvn package docker:build -eæ„å»ºImageå‡ºç°å¦‚ä¸Šå¼‚å¸¸ã€‚<br>ç™¾èˆ¬æœç´¢æ— æœï¼Œåæ¥çœ‹å…¶ä»–çš„Spring Bootæ„å»ºDockeré•œåƒæœ‰ç”¨çš„æ˜¯0.4.3ï¼Œé‚ä¿®æ”¹ä¹‹ã€‚ </p>
<ol start="2">
<li>è§£å†³åŠæ³•</li>
</ol>
<hr>
<h1 id="å°†å°Dè¯¾å ‚é‡Œé¢çš„æ’ä»¶"><a href="#å°†å°Dè¯¾å ‚é‡Œé¢çš„æ’ä»¶" class="headerlink" title="å°†å°Dè¯¾å ‚é‡Œé¢çš„æ’ä»¶"></a>å°†å°Dè¯¾å ‚é‡Œé¢çš„æ’ä»¶</h1></li>
</ul>
<pre><code> &lt;groupId&gt;com.spotify&lt;/groupId&gt;
&lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;
&lt;version&gt;1.3.6&lt;/version&gt;
</code></pre><h1 id="æ”¹ä¸ºâ­ï¸â­ï¸"><a href="#æ”¹ä¸ºâ­ï¸â­ï¸" class="headerlink" title="æ”¹ä¸ºâ­ï¸â­ï¸"></a>æ”¹ä¸ºâ­ï¸â­ï¸</h1>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;groupId&gt;com.spotify&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt; â­ï¸ //è¿™è¾¹ä¸æ˜¯dockerfile-maven-pluginäº†è€Œæ˜¯docker-maven-plugin</span><br><span class="line">&lt;version&gt;0.4.13&lt;/version&gt;</span><br></pre></td></tr></table></figure>
<p>   â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ </p>
<h3 id="ç¬¬2è¯¾-é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸‹é›†"><a href="#ç¬¬2è¯¾-é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸‹é›†" class="headerlink" title="ç¬¬2è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸‹é›†"></a>ç¬¬2è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸‹é›†</h3><blockquote>
<h4 id="æ­¥éª¤1åˆ›å»ºDockerfile-é»˜è®¤æ˜¯æ ¹ç›®å½•ï¼Œï¼ˆå¯ä»¥ä¿®æ”¹ä¸ºsrc-main-docker-Dockerfile-å¦‚æœä¿®åˆ™éœ€è¦åˆ¶å®šè·¯å¾„ï¼‰"><a href="#æ­¥éª¤1åˆ›å»ºDockerfile-é»˜è®¤æ˜¯æ ¹ç›®å½•ï¼Œï¼ˆå¯ä»¥ä¿®æ”¹ä¸ºsrc-main-docker-Dockerfile-å¦‚æœä¿®åˆ™éœ€è¦åˆ¶å®šè·¯å¾„ï¼‰" class="headerlink" title="æ­¥éª¤1åˆ›å»ºDockerfile,é»˜è®¤æ˜¯æ ¹ç›®å½•ï¼Œï¼ˆå¯ä»¥ä¿®æ”¹ä¸ºsrc/main/docker/Dockerfile,å¦‚æœä¿®åˆ™éœ€è¦åˆ¶å®šè·¯å¾„ï¼‰"></a>æ­¥éª¤1åˆ›å»ºDockerfile,é»˜è®¤æ˜¯æ ¹ç›®å½•ï¼Œï¼ˆå¯ä»¥ä¿®æ”¹ä¸ºsrc/main/docker/Dockerfile,å¦‚æœä¿®åˆ™éœ€è¦åˆ¶å®šè·¯å¾„ï¼‰</h4></blockquote>
<pre><code>ç®€ä»‹:æ‰“åŒ…SpringCloudé•œåƒå¹¶ä¸Šä¼ ç§æœ‰ä»“åº“å¹¶éƒ¨ç½²
1ã€ ä»€ä¹ˆæ˜¯Dockerfile : ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬ï¼Œè¿™äº›å‘½ä»¤åº”ç”¨äºåŸºç¡€é•œåƒ, æœ€ç»ˆåˆ›å»ºä¸€ä¸ªæ–°çš„é•œ       åƒ
å®æˆ˜
FROM openjdk:8-jdk-alpine
VOLUME /tmp
ARG JAR_FILE
COPY ${JAR_FILE} app.jar
ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]


å‚æ•°è®²è§£ï¼š
FROM &lt;image&gt;:&lt;tag&gt; éœ€è¦ä¸€ä¸ªåŸºç¡€é•œåƒï¼Œå¯ä»¥æ˜¯å…¬å…±çš„æˆ–è€…æ˜¯ç§æœ‰çš„ï¼Œ åç»­æ„å»ºä¼šåŸºäºæ­¤é•œåƒï¼Œå¦‚æœåŒä¸€ä¸ªDockerfileä¸­å»ºç«‹å¤šä¸ªé•œåƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªFROMæŒ‡ä»¤

VOLUME  é…ç½®ä¸€ä¸ªå…·æœ‰æŒä¹…åŒ–åŠŸèƒ½çš„ç›®å½•ï¼Œä¸»æœº /var/lib/docker ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶é“¾æ¥åˆ°å®¹   å™¨çš„/tmpã€‚æ”¹æ­¥éª¤æ˜¯å¯é€‰çš„ï¼Œå¦‚æœæ¶‰åŠåˆ°æ–‡ä»¶ç³»ç»Ÿçš„åº”ç”¨å°±å¾ˆæœ‰å¿…è¦äº†ã€‚/tmpç›®å½•ç”¨æ¥æŒä¹…åŒ–åˆ° Docker æ•°æ® æ–‡ä»¶å¤¹ï¼Œå› ä¸º Spring Boot ä½¿ç”¨çš„å†…åµŒ Tomcat å®¹å™¨é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½• 

ARG  è®¾ç½®ç¼–è¯‘é•œåƒæ—¶åŠ å…¥çš„å‚æ•°ï¼Œ ENV æ˜¯è®¾ç½®å®¹å™¨çš„ç¯å¢ƒå˜é‡
COPY : åªæ”¯æŒå°†æœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ ,è¿˜æœ‰ä¸ªADDæ›´å¼ºå¤§ä½†å¤æ‚ç‚¹
ENTRYPOINT å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤
EXPOSE 8080 æš´éœ²é•œåƒç«¯å£
</code></pre><h3 id="ç¬¬3è¯¾æ„å»ºé•œåƒ"><a href="#ç¬¬3è¯¾æ„å»ºé•œåƒ" class="headerlink" title="ç¬¬3è¯¾æ„å»ºé•œåƒ"></a>ç¬¬3è¯¾æ„å»ºé•œåƒ</h3><pre><code>2ã€æ„å»ºé•œåƒ
        mvn install dockerfile:build
        æ‰“æ ‡ç­¾
        docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808
        æ¨é€åˆ°é•œåƒä»“åº“
        docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808

        åº”ç”¨æœåŠ¡å™¨æ‹‰å–é•œåƒ
        docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808


        docker run -d --name xdclass_docker_demo1 -p 8099:8080  a1b9fc71720d

        3ã€æŸ¥çœ‹å¯åŠ¨æ—¥å¿— docker logs -f  containerid
</code></pre><h1 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h1><h2 id="1-mvn-install-dockerfile-buildã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆç»ˆç«¯æ²¡æœ‰ç”¨ideaä¸­ç»ˆç«¯å´æœ‰ç”¨-ğŸ˜„å“ˆå“ˆ"><a href="#1-mvn-install-dockerfile-buildã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆç»ˆç«¯æ²¡æœ‰ç”¨ideaä¸­ç»ˆç«¯å´æœ‰ç”¨-ğŸ˜„å“ˆå“ˆ" class="headerlink" title="1.mvn install dockerfile:buildã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆç»ˆç«¯æ²¡æœ‰ç”¨ideaä¸­ç»ˆç«¯å´æœ‰ç”¨ ğŸ˜„å“ˆå“ˆ"></a>1.mvn install dockerfile:buildã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆç»ˆç«¯æ²¡æœ‰ç”¨ideaä¸­ç»ˆç«¯å´æœ‰ç”¨ ğŸ˜„å“ˆå“ˆ</h2><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181111130637806.png" alt="image-20181111130637806"></p>
<h2 id="2-docker-images"><a href="#2-docker-images" class="headerlink" title="2.docker images"></a>2.docker images</h2><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181111130706064.png" alt="image-20181111130706064"></p>
<blockquote>
<p>æ²¡æœ‰åå­—é•œåƒï¼Ÿï¼Ÿæ³¨æ„åœ¨ideaä¸­æµ‹è¯•çš„è¯å°±è¦ç”¨idea ä¸è¦éšå˜æ”¹æˆç»ˆç«¯</p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181111131256001.png" alt="image-20181111131256001"></p>
<h2 id="3-docker-run-d-â€“name-demo-p-8080-8080-8ef42611e3b0"><a href="#3-docker-run-d-â€“name-demo-p-8080-8080-8ef42611e3b0" class="headerlink" title="3.docker  run -d â€“name demo -p 8080:8080  8ef42611e3b0"></a>3.docker  run -d â€“name demo -p 8080:8080  8ef42611e3b0</h2><blockquote>
<p>å¤‡æ³¨ï¼šè¿è¡Œé•œåƒ â€“name æŒ‡å®šåå­— -d åå°è¿è¡Œ 8ef42611e3b0ï¼šåˆšåˆšæ„å»ºçš„imageçš„ID </p>
<p>name ä¸ä¼šç”¨å°±åˆ«ç”¨</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181111133053363.png" alt="image-20181111133053363"></p>
</blockquote>
<h3 id="4-docker-ps"><a href="#4-docker-ps" class="headerlink" title="4.docker ps"></a>4.docker ps</h3><blockquote>
<p>æŸ¥çœ‹ä¸€ä¸‹é•œåƒçš„è¿›ç¨‹</p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181111133138180.png" alt="image-20181111133138180"></p>
<p>ï¼Ÿï¼Ÿï¼Ÿæ²¡æœ‰ç¨‹åºã€‚æµ‹è¯•ä¸€ä¸‹</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/10/SpringCloud/springcloud/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/10/SpringCloud/springcloud/" itemprop="url">å°Dè¯¾å ‚SpringCloudç¬”è®°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-10T16:56:31+08:00">
                2018-11-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##SpringCloudè¯¾ç¨‹ç¬”è®° </p>
<p>ç¬¬ä¸€ç«  è¯¾ç¨‹ä»‹ç»å’Œå­¦ä¹ è·¯çº¿ </p>
<p>1ã€å¾®æœåŠ¡æ¶æ„SpringCloudè¯¾ç¨‹ä»‹ç»<br>â€‹    ç®€ä»‹ï¼šè¯¾ç¨‹ä»‹ç»å’Œè¯¾ç¨‹å¤§çº²è®²è§£ï¼Œè®²è¯¾é£æ ¼å’Œé‡ç‚¹å†…å®¹ç†è§£æŠ€å·§</p>
<p>2ã€æŠ€æœ¯é€‰å‹å’Œå­¦åæ°´å¹³<br>â€‹    ç®€ä»‹ï¼šè¯¾ç¨‹æ‰€éœ€åŸºç¡€å’ŒæŠ€æœ¯é€‰å‹è®²è§£ï¼Œå­¦å®Œè¯¾ç¨‹å¯ä»¥åˆ°è¾¾æ€æ ·çš„ç¨‹åº¦ï¼Œ<br>â€‹<br>â€‹    1ã€IDEA JDK8 Maven SpringBootåŸºç¡€ Linux<br>â€‹<br>â€‹    2ã€ç†è§£æŒæ¡å¹¶å¼€å‘SpringCloudé‡Œé¢ä¸»æµæ¶æ„å’Œç»„ä»¶çš„åŸºç¡€ä½¿ç”¨ï¼Œè¿˜æœ‰éƒ¨åˆ†æºç åŸç†çš„ç†è§£<br>â€‹<br>    3ã€æŒæ¡å­¦ä¹ çš„æŠ€å·§å’Œè§£å†³é—®é¢˜çš„æ€è·¯</p>
<p>ç¬¬äºŒç«  æ¶æ„æ¼”è¿›å’Œåˆ†å¸ƒå¼ç³»ç»ŸåŸºç¡€çŸ¥è¯†</p>
<p>1ã€ä¼ ç»Ÿæ¶æ„æ¼”è¿›åˆ°åˆ†å¸ƒå¼æ¶æ„<br>â€‹    ç®€ä»‹ï¼šè®²è§£å•æœºåº”ç”¨å’Œåˆ†å¸ƒå¼åº”ç”¨æ¶æ„æ¼”è¿›åŸºç¡€çŸ¥è¯† (ç”»å›¾)</p>
<pre><code>    é«˜å¯ç”¨ LVS+keepalive 


1ã€å•ä½“åº”ç”¨ï¼š
    å¼€å‘é€Ÿåº¦æ…¢
    å¯åŠ¨æ—¶é—´é•¿
    ä¾èµ–åºå¤§
    ç­‰ç­‰


2ã€å¾®æœåŠ¡
    æ˜“å¼€å‘ã€ç†è§£å’Œç»´æŠ¤
    ç‹¬ç«‹çš„éƒ¨ç½²å’Œå¯åŠ¨
    ç­‰


    ä¸è¶³ï¼š
        åˆ†å¸ƒå¼ç³»ç»Ÿ-ã€‹åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜
        éœ€è¦ç®¡ç†å¤šä¸ªæœåŠ¡-ã€‹æœåŠ¡æ²»ç†
</code></pre><p>2ã€å¾®æœåŠ¡æ ¸å¿ƒåŸºç¡€è®²è§£<br>â€‹    ç®€ä»‹ï¼šè®²è§£å¾®æœåŠ¡æ ¸å¿ƒçŸ¥è¯† ï¼šç½‘å…³ã€æœåŠ¡å‘ç°æ³¨å†Œã€é…ç½®ä¸­å¿ƒã€é“¾è·¯è¿½è¸ªã€è´Ÿè½½å‡è¡¡å™¨ã€ç†”æ–­<br>â€‹        1ã€ç½‘å…³ï¼šè·¯ç”±è½¬å‘ + è¿‡æ»¤å™¨<br>â€‹                /api/v1/pruduct/      å•†å“æœåŠ¡<br>â€‹                /api/v1/order/        è®¢å•æœåŠ¡<br>â€‹                /api/v1/user/         ç”¨æˆ·æœåŠ¡</p>
<pre><code>2ã€æœåŠ¡æ³¨å†Œå‘ç°ï¼šè°ƒç”¨å’Œè¢«è°ƒç”¨æ–¹çš„ä¿¡æ¯ç»´æŠ¤

3ã€é…ç½®ä¸­å¿ƒï¼šç®¡ç†é…ç½®ï¼ŒåŠ¨æ€æ›´æ–° application.properties

4ã€é“¾è·¯è¿½è¸ªï¼šåˆ†æè°ƒç”¨é“¾è·¯è€—æ—¶
    ä¾‹å­ï¼šä¸‹å•-ã€‹æŸ¥è¯¢å•†å“æœåŠ¡è·å–å•†å“ä»·æ ¼-ã€‹æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯-ã€‹ä¿å­˜æ•°æ®åº“

5ã€è´Ÿè½½å‡è¡¡å™¨ï¼šåˆ†å‘è´Ÿè½½

6ã€ç†”æ–­ï¼šä¿æŠ¤è‡ªå·±å’Œè¢«è°ƒç”¨æ–¹
</code></pre><p>3ã€å¸¸è§çš„å¾®æœåŠ¡æ¡†æ¶<br>â€‹    ç®€ä»‹:è®²è§£å¸¸ç”¨çš„å¾®æœåŠ¡æ¡†æ¶</p>
<pre><code>consumer: è°ƒç”¨æ–¹
provider: è¢«è°ƒç”¨æ–¹
ä¸€ä¸ªæ¥å£ä¸€èˆ¬éƒ½ä¼šå……å½“ä¸¤ä¸ªè§’è‰²ï¼ˆä¸æ˜¯åŒæ—¶å……å½“ï¼‰

1ã€dubbo: zookeeper + dubbo + springmvc/springboot
    å®˜æ–¹åœ°å€ï¼šhttp://dubbo.apache.org/#!/?lang=zh-cn
    é…å¥—
        é€šä¿¡æ–¹å¼ï¼šrpc
        æ³¨å†Œä¸­å¿ƒï¼šzookeper/redis
        é…ç½®ä¸­å¿ƒï¼šdiamond

2ã€springcloud: å…¨å®¶æ¡¶+è½»æ¾åµŒå…¥ç¬¬ä¸‰æ–¹ç»„ä»¶(Netflix å¥ˆé£)
    å®˜ç½‘ï¼šhttp://projects.spring.io/spring-cloud/
    é…å¥—
        é€šä¿¡æ–¹å¼ï¼šhttp restful
        æ³¨å†Œä¸­å¿ƒï¼šeruka/consul
        é…ç½®ä¸­å¿ƒï¼šconfig
        æ–­è·¯å™¨ï¼šhystrix
        ç½‘å…³ï¼šzuul
        åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿï¼šsleuth+zipkin

å­¦ä¹ èµ„æ–™ï¼šhttps://blog.csdn.net/zhangweiwei2020/article/details/78646252
</code></pre><p>4ã€å¾®æœåŠ¡ä¸‹ç”µå•†é¡¹ç›®åŸºç¡€æ¨¡å—è®¾è®¡<br>â€‹    ç®€ä»‹ï¼šå¾®æœåŠ¡ä¸‹ç”µå•†é¡¹ç›®åŸºç¡€æ¨¡å—è®¾è®¡ åˆ†ç¦»å‡ ä¸ªæ¨¡å—ï¼Œè¯¾ç¨‹å›´ç»•è¿™ä¸ªåŸºç¡€é¡¹ç›®è¿›è¡Œå­¦ä¹ <br>â€‹        å°è€Œç²¾çš„æ–¹å¼å­¦ä¹ å¾®æœåŠ¡</p>
<pre><code>1ã€ç”¨æˆ·æœåŠ¡
    1ï¼‰ç”¨æˆ·ä¿¡æ¯æ¥å£
    2ï¼‰ç™»å½•æ¥å£

2ã€å•†å“æœåŠ¡
    1ï¼‰å•†å“åˆ—è¡¨
    2ï¼‰å•†å“è¯¦æƒ…

3ã€è®¢å•æœåŠ¡ 
    1ï¼‰æˆ‘çš„è®¢å•
    2ï¼‰ä¸‹å•æ¥å£
</code></pre><p>=============================================<br>æ›´å¤šå¹²è´§æŠ€æœ¯è®¿é—®å°Dè¯¾å ‚å®˜ç½‘ <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>å°Dè€å¸ˆä¸ªäººå¾®ä¿¡ï¼šjack794666918</p>
<h1 id="å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚"><a href="#å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚" class="headerlink" title="å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚"></a>å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚</h1><p>ç¬¬ä¸‰ç«  SpringCloudæ ¸å¿ƒç»„ä»¶æ³¨å†Œä¸­å¿ƒ</p>
<p>1ã€ä»€ä¹ˆæ˜¯å¾®æœåŠ¡çš„æ³¨å†Œä¸­å¿ƒ<br>â€‹    ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯æ³¨å†Œä¸­å¿ƒï¼Œå¸¸ç”¨çš„æ³¨å†Œä¸­å¿ƒæœ‰å“ªäº› (ç”»å›¾)<br>â€‹<br>â€‹        ç†è§£æ³¨å†Œä¸­å¿ƒï¼šæœåŠ¡ç®¡ç†,æ ¸å¿ƒæ˜¯æœ‰ä¸ªæœåŠ¡æ³¨å†Œè¡¨ï¼Œå¿ƒè·³æœºåˆ¶åŠ¨æ€ç»´æŠ¤<br>â€‹<br>â€‹        æœåŠ¡æä¾›è€…provider: å¯åŠ¨çš„æ—¶å€™å‘æ³¨å†Œä¸­å¿ƒä¸ŠæŠ¥è‡ªå·±çš„ç½‘ç»œä¿¡æ¯<br>â€‹<br>        æœåŠ¡æ¶ˆè´¹è€…consumer: å¯åŠ¨çš„æ—¶å€™å‘æ³¨å†Œä¸­å¿ƒä¸ŠæŠ¥è‡ªå·±çš„ç½‘ç»œä¿¡æ¯ï¼Œæ‹‰å–providerçš„ç›¸å…³ç½‘ç»œä¿¡æ¯</p>
<pre><code>ä¸ºä»€ä¹ˆè¦ç”¨ï¼š
    å¾®æœåŠ¡åº”ç”¨å’Œæœºå™¨è¶Šæ¥è¶Šå¤šï¼Œè°ƒç”¨æ–¹éœ€è¦çŸ¥é“æ¥å£çš„ç½‘ç»œåœ°å€ï¼Œå¦‚æœé é…ç½®æ–‡ä»¶çš„æ–¹å¼å»æ§åˆ¶ç½‘ç»œåœ°å€ï¼Œå¯¹äºåŠ¨æ€æ–°å¢æœºå™¨ï¼Œç»´æŠ¤å¸¦æ¥å¾ˆå¤§é—®é¢˜

ä¸»æµçš„æ³¨å†Œä¸­å¿ƒï¼š
    zookeeperã€Eurekaã€consulã€etcd ç­‰
</code></pre><p>â€‹        </p>
<p>2ã€åˆ†å¸ƒå¼åº”ç”¨çŸ¥è¯†CAPç†è®ºçŸ¥è¯†<br>â€‹    ç®€ä»‹ï¼šè®²è§£åˆ†å¸ƒå¼æ ¸å¿ƒçŸ¥è¯†CAPç†è®º</p>
<pre><code>CAPå®šç†ï¼š
    æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒConsistencyï¼ˆä¸€è‡´æ€§ï¼‰ã€ Availabilityï¼ˆå¯ç”¨æ€§ï¼‰ã€Partition toleranceï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰ï¼Œä¸‰è€…ä¸å¯åŒæ—¶è·å¾—ã€‚




ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å¤‡ä»½ï¼Œåœ¨åŒä¸€æ—¶åˆ»æ˜¯å¦åŒæ ·çš„å€¼ã€‚ï¼ˆæ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çš„æ•°æ®å®Œå…¨ä¸€è‡´ï¼Œè¶Šå¤šèŠ‚ç‚¹ï¼Œæ•°æ®åŒæ­¥è¶Šè€—æ—¶ï¼‰
</code></pre><p>â€‹<br>â€‹        å¯ç”¨æ€§ï¼ˆAï¼‰ï¼šè´Ÿè½½è¿‡å¤§åï¼Œé›†ç¾¤æ•´ä½“æ˜¯å¦è¿˜èƒ½å“åº”å®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ã€‚ï¼ˆæœåŠ¡ä¸€ç›´å¯ç”¨ï¼Œè€Œä¸”æ˜¯æ­£å¸¸å“åº”æ—¶é—´ï¼‰</p>
<pre><code>åˆ†åŒºå®¹é”™æ€§ï¼ˆPï¼‰ï¼šåˆ†åŒºå®¹å¿æ€§ï¼Œå°±æ˜¯é«˜å¯ç”¨æ€§ï¼Œä¸€ä¸ªèŠ‚ç‚¹å´©äº†ï¼Œå¹¶ä¸å½±å“å…¶å®ƒçš„èŠ‚ç‚¹ï¼ˆ100ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‚äº†å‡ ä¸ªï¼Œä¸å½±å“æœåŠ¡ï¼Œè¶Šå¤šæœºå™¨è¶Šå¥½ï¼‰


CAPç†è®ºå°±æ˜¯è¯´åœ¨åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œæœ€å¤šåªèƒ½å®ç°ä¸Šé¢çš„ä¸¤ç‚¹ã€‚è€Œç”±äºå½“å‰çš„ç½‘ç»œç¡¬ä»¶è‚¯å®šä¼šå‡ºç°å»¶è¿Ÿä¸¢åŒ…ç­‰é—®é¢˜ï¼Œæ‰€ä»¥åˆ†åŒºå®¹å¿æ€§æ˜¯æˆ‘ä»¬å¿…é¡»éœ€è¦å®ç°çš„ã€‚æ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ä¹‹é—´è¿›è¡Œæƒè¡¡
</code></pre><p>â€‹        </p>
<p>3ã€åˆ†å¸ƒå¼ç³»ç»ŸCAPåŸç†å¸¸è§é¢è¯•é¢˜å’Œæ³¨å†Œä¸­å¿ƒé€‰æ‹©<br>â€‹        ç®€ä»‹:è®²è§£CAPåŸåˆ™åœ¨é¢è¯•ä¸­å›ç­”å’Œæ³¨å†Œä¸­å¿ƒé€‰æ‹©</p>
<pre><code>C A æ»¡è¶³çš„æƒ…å†µä¸‹ï¼ŒPä¸èƒ½æ»¡è¶³çš„åŸå› ï¼š
    æ•°æ®åŒæ­¥(C)éœ€è¦æ—¶é—´ï¼Œä¹Ÿè¦æ­£å¸¸çš„æ—¶é—´å†…å“åº”(A)ï¼Œé‚£ä¹ˆæœºå™¨æ•°é‡å°±è¦å°‘ï¼Œæ‰€ä»¥På°±ä¸æ»¡è¶³

CP æ»¡è¶³çš„æƒ…å†µä¸‹ï¼ŒAä¸èƒ½æ»¡è¶³çš„åŸå› ï¼š
    æ•°æ®åŒæ­¥(C)éœ€è¦æ—¶é—´, æœºå™¨æ•°é‡ä¹Ÿå¤š(P)ï¼Œä½†æ˜¯åŒæ­¥æ•°æ®éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥ä¸èƒ½å†æ­£å¸¸æ—¶é—´å†…å“åº”ï¼Œæ‰€ä»¥Aå°±ä¸æ»¡è¶³

AP æ»¡è¶³çš„æƒ…å†µä¸‹ï¼ŒCä¸èƒ½æ»¡è¶³çš„åŸå› ï¼š
    æœºå™¨æ•°é‡ä¹Ÿå¤š(P)ï¼Œæ­£å¸¸çš„æ—¶é—´å†…å“åº”(A)ï¼Œé‚£ä¹ˆæ•°æ®å°±ä¸èƒ½åŠæ—¶åŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œæ‰€ä»¥Cä¸æ»¡è¶³

æ³¨å†Œä¸­å¿ƒé€‰æ‹©ï¼š
    Zookeeperï¼šCPè®¾è®¡ï¼Œä¿è¯äº†ä¸€è‡´æ€§ï¼Œé›†ç¾¤æ­å»ºçš„æ—¶å€™ï¼ŒæŸä¸ªèŠ‚ç‚¹å¤±æ•ˆï¼Œåˆ™ä¼šè¿›è¡Œé€‰ä¸¾è¡Œçš„leaderï¼Œæˆ–è€…åŠæ•°ä»¥ä¸ŠèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œåˆ™æ— æ³•æä¾›æœåŠ¡ï¼Œå› æ­¤å¯ç”¨æ€§æ²¡æ³•æ»¡è¶³

    Eurekaï¼šAPåŸåˆ™ï¼Œæ— ä¸»ä»èŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹æŒ‚äº†ï¼Œè‡ªåŠ¨åˆ‡æ¢å…¶ä»–èŠ‚ç‚¹å¯ä»¥ä½¿ç”¨ï¼Œå»ä¸­å¿ƒåŒ–



ç»“è®ºï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­P,è‚¯å®šè¦æ»¡è¶³ï¼Œæ‰€ä»¥åªèƒ½åœ¨CAä¸­äºŒé€‰ä¸€
    æ²¡æœ‰æœ€å¥½çš„é€‰æ‹©ï¼Œæœ€å¥½çš„é€‰æ‹©æ˜¯æ ¹æ®ä¸šåŠ¡åœºæ™¯æ¥è¿›è¡Œæ¶æ„è®¾è®¡

    å¦‚æœè¦æ±‚ä¸€è‡´æ€§ï¼Œåˆ™é€‰æ‹©zookeeperï¼Œå¦‚é‡‘èè¡Œä¸š

    å¦‚æœè¦å»å¯ç”¨æ€§ï¼Œåˆ™Eurekaï¼Œå¦‚ç”µå•†ç³»ç»Ÿ
</code></pre><p>4ã€SpringCloudå¾®æœåŠ¡æ ¸å¿ƒç»„ä»¶Eurekaä»‹ç»å’Œé—­æºåå½±å“<br>â€‹    ç®€ä»‹ï¼š<br>â€‹        SpringCloudä½“ç³»ä»‹ç»<br>â€‹            å®˜æ–¹åœ°å€ï¼š<a href="http://projects.spring.io/spring-cloud/" target="_blank" rel="noopener">http://projects.spring.io/spring-cloud/</a></p>
<pre><code>    Eurekaçš„åŸºç¡€çŸ¥è¯†--&gt;ç”»å›¾è®²è§£äº¤äº’æµç¨‹ï¼ŒæœåŠ¡æä¾›è€…&lt;--&gt;æœåŠ¡æ¶ˆè´¹è€… ;

    Eureka 2.xé—­æºåé€‰æ‹©

å‚è€ƒï¼šhttps://www.jianshu.com/p/d32ae141f680
     https://blog.csdn.net/zjcjava/article/details/78608892
</code></pre><p>5ã€æœåŠ¡æ³¨å†Œå’Œå‘ç°Eureka Serveræ­å»ºå®æˆ˜<br>â€‹    ç®€ä»‹ï¼šä½¿ç”¨IDEAæ­å»ºEurekaæœåŠ¡ä¸­å¿ƒServerç«¯å¹¶å¯åŠ¨ï¼Œé¡¹ç›®åŸºæœ¬éª¨æ¶ä»‹ç»<br>â€‹<br>â€‹    å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-server" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-server</a><br>â€‹<br>â€‹    ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé¡¹ç›®<br>â€‹    ç¬¬äºŒæ­¥: æ·»åŠ æ³¨è§£ @EnableEurekaServer<br>â€‹    ç¬¬ä¸‰æ­¥ï¼šå¢åŠ é…ç½®application.yml<br>â€‹            server:<br>â€‹              port: 8761<br>â€‹<br>            eureka:<br>              instance:<br>                hostname: localhost<br>              client:</p>
<pre><code>          #å£°æ˜è‡ªå·±æ˜¯ä¸ªæœåŠ¡ç«¯
            registerWithEureka: false
            fetchRegistry: false
            serviceUrl:
              defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/

ç¬¬å››æ­¥ï¼šè®¿é—®æ³¨å†Œä¸­å¿ƒé¡µé¢

mavenåœ°å€: https://www.cnblogs.com/sword-successful/p/6408281.html
</code></pre><p>6ã€æœåŠ¡æ³¨å†Œå’Œå‘ç°ä¹‹Eureka Clientæ­å»ºå•†å“æœåŠ¡å®æˆ˜<br>â€‹    ç®€ä»‹ï¼šæ­å»ºç”¨å•†å“æœåŠ¡ï¼Œå¹¶å°†æœåŠ¡æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒ</p>
<pre><code>1ã€åˆ›å»ºä¸€ä¸ªSpirngBootåº”ç”¨ï¼Œå¢åŠ æœåŠ¡æ³¨å†Œå’Œå‘ç°ä¾èµ–
2ã€æ¨¡æ‹Ÿå•†å“ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­

3ã€å¼€å‘å•†å“åˆ—è¡¨æ¥å£ï¼Œå•†å“è¯¦æƒ…æ¥å£

4ã€é…ç½®æ–‡ä»¶åŠ å…¥æ³¨å†Œä¸­å¿ƒåœ°å€
    ä½¿ç”¨eurekaå®¢æˆ·ç«¯ å®˜æ–¹æ–‡æ¡£ï¼šhttp://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#netflix-eureka-client-starter
</code></pre><p>7ã€EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒé…ç½®æ§åˆ¶å°é—®é¢˜å¤„ç†<br>â€‹    ç®€ä»‹ï¼šè®²è§£æœåŠ¡æ³¨å†Œä¸­å¿ƒç®¡ç†åå°ï¼Œï¼ˆåç»­è¿˜ä¼šç»†è®²ï¼‰</p>
<pre><code>é—®é¢˜ï¼šeurekaç®¡ç†åå°å‡ºç°ä¸€ä¸²çº¢è‰²å­—ä½“ï¼šæ˜¯è­¦å‘Šï¼Œè¯´æ˜æœ‰æœåŠ¡ä¸Šçº¿ç‡ä½

EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY&apos;RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE.

å…³é—­æ£€æŸ¥æ–¹æ³•ï¼šeurekaæœåŠ¡ç«¯é…ç½®æ–‡ä»¶åŠ å…¥
server:
    enable-self-preservation: false
æ³¨æ„ï¼šè‡ªæˆ‘ä¿æŠ¤æ¨¡å¼ç¦æ­¢å…³é—­ï¼Œé»˜è®¤æ˜¯å¼€å¯çŠ¶æ€true
</code></pre><p>â€‹<br>â€‹    é—®é¢˜äºŒï¼šä¸ºä»€ä¹ˆåªåŠ ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒåœ°å€ï¼Œå°±å¯ä»¥æ³¨å†Œ<br>â€‹    By having spring-cloud-starter-netflix-eureka-client on the classpath, your application automatically registers with the Eureka Server. Configuration is required to locate the Eureka server, as shown in the following example:</p>
<p>ç¬¬å››ç«  æœåŠ¡æ¶ˆè´¹è€…ribbonå’Œfeignå®æˆ˜å’Œæ³¨å†Œä¸­å¿ƒé«˜å¯ç”¨</p>
<p>1ã€å¸¸ç”¨çš„æœåŠ¡é—´è°ƒç”¨æ–¹å¼è®²è§£<br>â€‹    ç®€ä»‹ï¼šè®²è§£å¸¸ç”¨çš„æœåŠ¡é—´çš„è°ƒç”¨æ–¹å¼</p>
<pre><code>RPC:
    è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œåƒè°ƒç”¨æœ¬åœ°æœåŠ¡(æ–¹æ³•)ä¸€æ ·è°ƒç”¨æœåŠ¡å™¨çš„æœåŠ¡
    æ”¯æŒåŒæ­¥ã€å¼‚æ­¥è°ƒç”¨
    å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹TCPè¿æ¥ï¼Œå¯ä»¥ä¸€æ¬¡å»ºç«‹ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥å¤šä¸ªè°ƒç”¨å¤ç”¨ä¸€æ¬¡é“¾æ¥

    PRCæ•°æ®åŒ…å°
        protobuf
        thrift
    rpcï¼šç¼–è§£ç ï¼Œåºåˆ—åŒ–ï¼Œé“¾æ¥ï¼Œä¸¢åŒ…ï¼Œåè®®


Rest(Http):
    httpè¯·æ±‚ï¼Œæ”¯æŒå¤šç§åè®®å’ŒåŠŸèƒ½
    å¼€å‘æ–¹ä¾¿æˆæœ¬ä½

    httpæ•°æ®åŒ…å¤§

    javaå¼€å‘ï¼šHttpClientï¼ŒURLConnection
</code></pre><p>2ã€å¾®æœåŠ¡è°ƒç”¨æ–¹å¼ä¹‹ribbonå®æˆ˜ è®¢å•è°ƒç”¨å•†å“æœåŠ¡<br>â€‹    ç®€ä»‹ï¼šå®æˆ˜ç”µå•†é¡¹ç›® è®¢å•æœåŠ¡ è°ƒç”¨å•†å“æœåŠ¡è·å–å•†å“ä¿¡æ¯<br>â€‹        1ã€åˆ›å»ºorder_serviceé¡¹ç›®<br>â€‹        2ã€å¼€å‘ä¼ªä¸‹å•æ¥å£<br>â€‹        3ã€ä½¿ç”¨ribbon. (ç±»ä¼¼httpClient,URLConnection) </p>
<pre><code>    å¯åŠ¨ç±»å¢åŠ æ³¨è§£
      @Bean
      @LoadBalanced
      public RestTemplate restTemplate() {
           return new RestTemplate();
      }
4ã€æ ¹æ®åç§°è¿›è¡Œè°ƒç”¨å•†å“ï¼Œè·å–å•†å“è¯¦æƒ…
</code></pre><p>3ã€é«˜çº§ç¯‡å¹…ä¹‹Ribbonè´Ÿè½½å‡è¡¡æºç åˆ†æå®æˆ˜<br>â€‹    ç®€ä»‹: è®²è§£ribbonæœåŠ¡é—´è°ƒç”¨è´Ÿè½½å‡è¡¡æºç åˆ†æ<br>â€‹        1ã€å®Œå–„ä¸‹å•æ¥å£<br>â€‹        2ã€åˆ†æ@LoadBalanced<br>â€‹            1ï¼‰é¦–å…ˆä»æ³¨å†Œä¸­å¿ƒè·å–providerçš„åˆ—è¡¨<br>â€‹            2ï¼‰é€šè¿‡ä¸€å®šçš„ç­–ç•¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹</p>
<pre><code>3ï¼‰å†è¿”å›ç»™restTemplateè°ƒç”¨
</code></pre><p>=============================================<br>æ›´å¤šå¹²è´§æŠ€æœ¯è®¿é—®å°Dè¯¾å ‚å®˜ç½‘ <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>å°Dè€å¸ˆä¸ªäººå¾®ä¿¡ï¼šjack794666918</p>
<h1 id="å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚-1"><a href="#å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚-1" class="headerlink" title="å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚"></a>å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚</h1><p>4ã€é«˜çº§ç¯‡å¹…ä¹‹æœåŠ¡é—´è°ƒç”¨ä¹‹è´Ÿè½½å‡è¡¡ç­–ç•¥è°ƒæ•´å®æˆ˜<br>â€‹    ç®€ä»‹ï¼šå®æˆ˜è°ƒæ•´é»˜è®¤è´Ÿè½½å‡è¡¡ç­–ç•¥å®æˆ˜</p>
<pre><code>è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼šhttp://cloud.spring.io/spring-cloud-static/Finchley.RELEASE/single/spring-cloud.html#_customizing_the_ribbon_client_by_setting_properties

åœ¨é…ç½®æ–‡ä»¶ymlé‡Œé¢ï¼Œè‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥
    #è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥
    product-service:
      ribbon:
        NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule

ç­–ç•¥é€‰æ‹©ï¼š
    1ã€å¦‚æœæ¯ä¸ªæœºå™¨é…ç½®ä¸€æ ·ï¼Œåˆ™å»ºè®®ä¸ä¿®æ”¹ç­–ç•¥ (æ¨è)
    2ã€å¦‚æœéƒ¨åˆ†æœºå™¨é…ç½®å¼ºï¼Œåˆ™å¯ä»¥æ”¹ä¸º WeightedResponseTimeRule
</code></pre><p>5ã€å¾®æœåŠ¡è°ƒç”¨æ–¹å¼ä¹‹feign å®æˆ˜ è®¢å•è°ƒç”¨å•†å“æœåŠ¡<br>â€‹    ç®€ä»‹ï¼šæ”¹é€ ç”µå•†é¡¹ç›® è®¢å•æœåŠ¡ è°ƒç”¨å•†å“æœåŠ¡è·å–å•†å“ä¿¡æ¯<br>â€‹        Feignï¼š ä¼ªRPCå®¢æˆ·ç«¯(æœ¬è´¨è¿˜æ˜¯ç”¨http)<br>â€‹        å®˜æ–¹æ–‡æ¡£: <a href="https://cloud.spring.io/spring-cloud-openfeign/" target="_blank" rel="noopener">https://cloud.spring.io/spring-cloud-openfeign/</a></p>
<pre><code>1ã€ä½¿ç”¨feignæ­¥éª¤è®²è§£ï¼ˆæ–°æ—§ç‰ˆæœ¬ä¾èµ–åç§°ä¸ä¸€æ ·ï¼‰
    åŠ å…¥ä¾èµ–
         &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;
        &lt;/dependency&gt;
    å¯åŠ¨ç±»å¢åŠ @EnableFeignClients
    å¢åŠ ä¸€ä¸ªæ¥å£ å¹¶@FeignClient(name=&quot;product-service&quot;)

2ã€ç¼–ç å®æˆ˜


3ã€æ³¨æ„ç‚¹ï¼š
    1ã€è·¯å¾„
    2ã€Httpæ–¹æ³•å¿…é¡»å¯¹åº”
    3ã€ä½¿ç”¨requestBodyï¼Œåº”è¯¥ä½¿ç”¨@PostMapping
    4ã€å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œé€šè¿‡@RequestParamï¼ˆ&quot;id&quot;) int id)æ–¹å¼è°ƒç”¨
</code></pre><p>6ã€Feignæ ¸å¿ƒæºç è§£è¯»å’ŒæœåŠ¡è°ƒç”¨æ–¹å¼ribbonå’ŒFeigné€‰æ‹©<br>â€‹    ç®€ä»‹: è®²è§£Feignæ ¸å¿ƒæºç è§£è¯»å’Œ æœåŠ¡é—´çš„è°ƒç”¨æ–¹å¼ribbonã€feigné€‰æ‹©<br>â€‹<br>â€‹        1ã€ribbonå’Œfeignä¸¤ä¸ªçš„åŒºåˆ«å’Œé€‰æ‹©<br>â€‹            é€‰æ‹©feign<br>â€‹                é»˜è®¤é›†æˆäº†ribbon<br>â€‹                å†™èµ·æ¥æ›´åŠ æ€è·¯æ¸…æ™°å’Œæ–¹ä¾¿<br>â€‹                é‡‡ç”¨æ³¨è§£æ–¹å¼è¿›è¡Œé…ç½®ï¼Œé…ç½®ç†”æ–­ç­‰æ–¹å¼æ–¹ä¾¿<br>â€‹<br>â€‹        2ã€è¶…æ—¶é…ç½®<br>â€‹            é»˜è®¤optons readtimeoutæ˜¯60ï¼Œä½†æ˜¯ç”±äºhystrixé»˜è®¤æ˜¯1ç§’è¶…æ—¶<br>â€‹    </p>
<pre><code>#ä¿®æ”¹è°ƒç”¨è¶…æ—¶æ—¶é—´
feign:
  client:
    config:
      default:
        connectTimeout: 2000
        readTimeout: 2000

æ¨¡æ‹Ÿæ¥å£å“åº”æ…¢ï¼Œçº¿ç¨‹ç¡çœ æ–°çš„æ–¹å¼
  try {
        TimeUnit.SECONDS.sleep(1);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
</code></pre><p>ç¬¬äº”ç«  äº’è”ç½‘æ¶æ„æœåŠ¡é™çº§ç†”æ–­ Hystrix å®æˆ˜</p>
<p>1ã€åˆ†å¸ƒå¼æ ¸å¿ƒçŸ¥è¯†ä¹‹ç†”æ–­ã€é™çº§è®²è§£<br>â€‹    ç®€ä»‹ï¼šç³»ç»Ÿè´Ÿè½½è¿‡é«˜ï¼Œçªå‘æµé‡æˆ–è€…ç½‘ç»œç­‰å„ç§å¼‚å¸¸æƒ…å†µä»‹ç»ï¼Œå¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆ</p>
<pre><code>1ã€ç†”æ–­ï¼š
    ä¿é™©ä¸ï¼Œç†”æ–­æœåŠ¡ï¼Œä¸ºäº†é˜²æ­¢æ•´ä¸ªç³»ç»Ÿæ•…éšœï¼ŒåŒ…å«å­å’Œä¸‹æ¸¸æœåŠ¡

    ä¸‹å•æœåŠ¡ -ã€‹å•†å“æœåŠ¡
            -ã€‹ç”¨æˆ·æœåŠ¡ ï¼ˆå‡ºç°å¼‚å¸¸-ã€‹ç†”æ–­ï¼‰

2ã€é™çº§ï¼š
    æŠ›å¼ƒä¸€äº›éæ ¸å¿ƒçš„æ¥å£å’Œæ•°æ®

    æ—…è¡Œç®±çš„ä¾‹å­ï¼šåªå¸¦æ ¸å¿ƒçš„ç‰©å“ï¼ŒæŠ›å¼ƒéæ ¸å¿ƒçš„ï¼Œç­‰æœ‰æ¡ä»¶çš„æ—¶å€™å†å»æºå¸¦è¿™äº›ç‰©å“
</code></pre><p>â€‹<br>â€‹    3ã€ç†”æ–­å’Œé™çº§äº’ç›¸äº¤é›†<br>â€‹        ç›¸åŒç‚¹ï¼š<br>â€‹            1ï¼‰ä»å¯ç”¨æ€§å’Œå¯é æ€§è§¦å‘ï¼Œä¸ºäº†é˜²æ­¢ç³»ç»Ÿå´©æºƒ<br>â€‹            2ï¼‰æœ€ç»ˆè®©ç”¨æˆ·ä½“éªŒåˆ°çš„æ˜¯æŸäº›åŠŸèƒ½æš‚æ—¶ä¸èƒ½ç”¨<br>â€‹<br>â€‹        ä¸åŒç‚¹<br>â€‹            1ï¼‰æœåŠ¡ç†”æ–­ä¸€èˆ¬æ˜¯ä¸‹æ¸¸æœåŠ¡æ•…éšœå¯¼è‡´çš„ï¼Œè€ŒæœåŠ¡é™çº§ä¸€èˆ¬æ˜¯ä»æ•´ä½“ç³»ç»Ÿè´Ÿè·è€ƒè™‘ï¼Œç”±è°ƒç”¨æ–¹æ§åˆ¶</p>
<p>2ã€Netflixå¼€æºç»„ä»¶æ–­è·¯å™¨Hystrixä»‹ç»<br>â€‹    ç®€ä»‹ï¼šä»‹ç»HystrixåŸºç¡€çŸ¥è¯†å’Œä½¿ç”¨åœºæ™¯<br>â€‹<br>â€‹    æ–‡æ¡£åœ°å€ï¼š<br>â€‹        <a href="https://github.com/Netflix/Hystrix" target="_blank" rel="noopener">https://github.com/Netflix/Hystrix</a><br>â€‹        <a href="https://github.com/Netflix/Hystrix/wiki" target="_blank" rel="noopener">https://github.com/Netflix/Hystrix/wiki</a><br>â€‹<br>â€‹    1ã€ä»€ä¹ˆæ˜¯Hystrixï¼Ÿ<br>â€‹        1ï¼‰hystrixå¯¹åº”çš„ä¸­æ–‡åå­—æ˜¯â€œè±ªçŒªâ€<br>â€‹<br>        2ï¼‰hystrix    è‹±[hÉªstâ€™rÉªks] ç¾[hÉªstâ€™rÉªks]</p>
<p>â€‹<br>â€‹    2ã€ä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ<br>â€‹        åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼Œä¸€ä¸ªæœåŠ¡ä¾èµ–å¤šä¸ªæœåŠ¡ï¼Œå¯èƒ½å­˜åœ¨æŸä¸ªæœåŠ¡è°ƒç”¨å¤±è´¥ï¼Œ<br>â€‹        æ¯”å¦‚è¶…æ—¶ã€å¼‚å¸¸ç­‰ï¼Œå¦‚ä½•èƒ½å¤Ÿä¿è¯åœ¨ä¸€ä¸ªä¾èµ–å‡ºé—®é¢˜çš„æƒ…å†µä¸‹ï¼Œä¸ä¼šå¯¼è‡´æ•´ä½“æœåŠ¡å¤±è´¥ï¼Œ<br>â€‹        é€šè¿‡Hystrixå°±å¯ä»¥è§£å†³<br>â€‹<br>â€‹        <a href="http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients</a><br>â€‹<br>    3ã€æä¾›äº†ç†”æ–­ã€éš”ç¦»ã€Fallbackã€cacheã€ç›‘æ§ç­‰åŠŸèƒ½</p>
<pre><code>4ã€ç†”æ–­åæ€ä¹ˆå¤„ç†ï¼Ÿ
    å‡ºç°é”™è¯¯ä¹‹åå¯ä»¥ fallback é”™è¯¯çš„å¤„ç†ä¿¡æ¯

    å…œåº•æ•°æ®
</code></pre><p>3ã€Feignç»“åˆHystrixæ–­è·¯å™¨å¼€å‘å®æˆ˜ã€Šä¸Šã€‹<br>â€‹    ç®€ä»‹ï¼šè®²è§£SpringCloudæ•´åˆæ–­è·¯å™¨çš„ä½¿ç”¨ï¼Œç”¨æˆ·æœåŠ¡å¼‚å¸¸æƒ…å†µ</p>
<pre><code>1ã€åŠ å…¥ä¾èµ–

æ³¨æ„ï¼šç½‘ä¸Šæ–°æ—§ç‰ˆæœ¬é—®é¢˜ï¼Œæ‰€ä»¥è¦ä»¥å®˜ç½‘ä¸ºä¸»ï¼Œä¸ç„¶éƒ¨åˆ†æ³¨è§£ä¼šä¸¢å¤±
æœ€æ–°ç‰ˆæœ¬ 2.0

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;
    &lt;/dependency&gt;


2ã€å¢åŠ æ³¨è§£
    å¯åŠ¨ç±»é‡Œé¢å¢åŠ æ³¨è§£
    @EnableCircuitBreaker

    æ³¨è§£è¶Šæ¥è¶Šå¤š-ã€‹ SpringCloudApplicationæ³¨è§£

3ã€APIæ¥å£ç¼–ç å®æˆ˜
  ç†”æ–­-ã€‹é™çº§

    1ï¼‰æœ€å¤–å±‚apiä½¿ç”¨ï¼Œå¥½æ¯”å¼‚å¸¸å¤„ç†ï¼ˆç½‘ç»œå¼‚å¸¸ï¼Œå‚æ•°æˆ–è€…å†…éƒ¨è°ƒç”¨é—®é¢˜ï¼‰
        apiæ–¹æ³•ä¸Šå¢åŠ  @HystrixCommand(fallbackMethod = &quot;saveOrderFail&quot;)

        ç¼–å†™fallbackæ–¹æ³•å®ç°ï¼Œæ–¹æ³•ç­¾åä¸€å®šè¦å’Œapiæ–¹æ³•ç­¾åä¸€è‡´ï¼ˆæ³¨æ„ç‚¹ï¼ï¼ï¼ï¼‰
</code></pre><p>â€‹        </p>
<pre><code>è¡¥å……ï¼š ä¿®æ”¹mavenä»“åº“åœ°å€
pom.xmlä¸­ä¿®æ”¹

&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;nexus-aliyun&lt;/id&gt;
        &lt;name&gt;Nexus aliyun&lt;/name&gt;
        &lt;layout&gt;default&lt;/layout&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;false&lt;/enabled&gt;
        &lt;/snapshots&gt;
        &lt;releases&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/releases&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre><p>4ã€Feignç»“åˆHystrixæ–­è·¯å™¨å¼€å‘å®æˆ˜ã€Šä¸‹ã€‹<br>â€‹    ç®€ä»‹ï¼šè®²è§£SpringCloudæ•´åˆæ–­è·¯å™¨çš„ä½¿ç”¨ï¼Œç”¨æˆ·æœåŠ¡å¼‚å¸¸æƒ…å†µ<br>â€‹    1ã€feignç»“åˆHystrix<br>â€‹<br>â€‹        1ï¼‰å¼€å¯feignæ”¯æŒhystrix  (æ³¨æ„ï¼Œä¸€å®šè¦å¼€å¯ï¼Œæ—§ç‰ˆæœ¬é»˜è®¤æ”¯æŒï¼Œæ–°ç‰ˆæœ¬é»˜è®¤å…³é—­)<br>â€‹            feign:<br>â€‹              hystrix:<br>â€‹                enabled: true<br>â€‹<br>â€‹        2ï¼‰FeignClient(name=â€xxxâ€, fallback=xxx.class ), classéœ€è¦ç»§æ‰¿å½“å‰FeignClientçš„ç±»</p>
<p>5ã€ç†”æ–­é™çº§æœåŠ¡å¼‚å¸¸æŠ¥è­¦é€šçŸ¥å®æˆ˜<br>â€‹    ç®€ä»‹ï¼šå®Œå–„æœåŠ¡ç†”æ–­å¤„ç†ï¼ŒæŠ¥è­¦æœºåˆ¶å®Œå–„</p>
<pre><code>1ã€åŠ å…¥redisä¾èµ–
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
    &lt;/dependency&gt;
2ã€é…ç½®redisé“¾æ¥ä¿¡æ¯
  redis:
    database: 0
    host: 127.0.0.1
    port: 6379
    timeout: 2000

3ã€ä½¿ç”¨

    //ç›‘æ§æŠ¥è­¦
    String saveOrderKye = &quot;save-order&quot;;
    String sendValue = redisTemplate.opsForValue().get(saveOrderKye);
    final String ip = request.getRemoteAddr();
    new Thread( ()-&gt;{
        if (StringUtils.isBlank(sendValue)) {
            System.out.println(&quot;ç´§æ€¥çŸ­ä¿¡ï¼Œç”¨æˆ·ä¸‹å•å¤±è´¥ï¼Œè¯·ç¦»å¼€æŸ¥æ‰¾åŸå› ,ipåœ°å€æ˜¯=&quot;+ip);
            //å‘é€ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè°ƒç”¨çŸ­ä¿¡æœåŠ¡ TODO
            redisTemplate.opsForValue().set(saveOrderKye, &quot;save-order-fail&quot;, 20, TimeUnit.SECONDS);
        }else{
            System.out.println(&quot;å·²ç»å‘é€è¿‡çŸ­ä¿¡ï¼Œ20ç§’å†…ä¸é‡å¤å‘é€&quot;);
        }
    }).start();
</code></pre><p>6ã€é«˜çº§ç¯‡å¹…ä¹‹æ·±å…¥æºç å‰–æHystrixé™çº§ç­–ç•¥å’Œè°ƒæ•´<br>â€‹    ç®€ä»‹ï¼šæºç åˆ†æHystrixé™çº§ç­–ç•¥å’Œè°ƒæ•´</p>
<pre><code>1ã€æŸ¥çœ‹é»˜è®¤è®²è§£ç­–ç•¥ HystrixCommandProperties
    1ï¼‰execution.isolation.strategy   éš”ç¦»ç­–ç•¥
        THREAD çº¿ç¨‹æ± éš”ç¦» ï¼ˆé»˜è®¤ï¼‰
        SEMAPHORE ä¿¡å·é‡
            ä¿¡å·é‡é€‚ç”¨äºæ¥å£å¹¶å‘é‡é«˜çš„æƒ…å†µï¼Œå¦‚æ¯ç§’æ•°åƒæ¬¡è°ƒç”¨çš„æƒ…å†µï¼Œå¯¼è‡´çš„çº¿ç¨‹å¼€é”€è¿‡é«˜ï¼Œé€šå¸¸åªé€‚ç”¨äºéç½‘ç»œè°ƒç”¨ï¼Œæ‰§è¡Œé€Ÿåº¦å¿«

    2ï¼‰execution.isolation.thread.timeoutInMilliseconds  è¶…æ—¶æ—¶é—´
        é»˜è®¤ 1000æ¯«ç§’

    3ï¼‰execution.timeout.enabled æ˜¯å¦å¼€å¯è¶…æ—¶é™åˆ¶ ï¼ˆä¸€å®šä¸è¦ç¦ç”¨ï¼‰


    4ï¼‰execution.isolation.semaphore.maxConcurrentRequests éš”ç¦»ç­–ç•¥ä¸º ä¿¡å·é‡çš„æ—¶å€™ï¼Œå¦‚æœè¾¾åˆ°æœ€å¤§å¹¶å‘æ•°æ—¶ï¼Œåç»­è¯·æ±‚ä¼šè¢«æ‹’ç»ï¼Œé»˜è®¤æ˜¯10


å®˜æ–¹æ–‡æ¡£:
    https://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.strategy

2ã€è°ƒæ•´ç­–ç•¥
    è¶…æ—¶æ—¶é—´è°ƒæ•´

hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 4000
</code></pre><p>7ã€æ–­è·¯å™¨Dashboardç›‘æ§ä»ªè¡¨ç›˜å®æˆ˜<br>â€‹    ç®€ä»‹ï¼šè®²è§£æ–­è·¯å™¨DashboardåŸºç¡€ä½¿ç”¨å’ŒæŸ¥çœ‹<br>â€‹    1ã€åŠ å…¥ä¾èµ–<br>â€‹         <dependency><br>â€‹            <groupid>org.springframework.cloud</groupid><br>â€‹            <artifactid>spring-cloud-starter-netflix-hystrix-dashboard</artifactid><br>â€‹        </dependency></p>
<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
    &lt;/dependency&gt;

2ã€å¯åŠ¨ç±»å¢åŠ æ³¨è§£
    @EnableHystrixDashboard
</code></pre><p>â€‹<br>â€‹    3ã€é…ç½®æ–‡ä»¶å¢åŠ endpoint<br>management:<br>  endpoints:<br>â€‹    web:<br>â€‹      exposure:<br>â€‹        include: â€œ*â€</p>
<pre><code>4ã€è®¿é—®å…¥å£
    http://localhost:8781/hystrix

    Hystrix Dashboardè¾“å…¥ï¼š http://localhost:8781/actuator/hystrix.stream 
</code></pre><p>â€‹<br>â€‹    å‚è€ƒèµ„æ–™<br>â€‹        é»˜è®¤å¼€å¯ç›‘æ§é…ç½®<br>â€‹        <a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator" target="_blank" rel="noopener">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator</a><br>â€‹<br>â€‹        é…ç½®æ–‡ä»¶ç±»ï¼š<br>â€‹            spring-configuration-metadata.json</p>
<p>8ã€æ–­è·¯å™¨ç›‘æ§ä»ªè¡¨å‚æ•°è®²è§£å’Œæ¨¡æ‹Ÿç†”æ–­<br>â€‹    ç®€ä»‹ï¼šè®²è§£ æ–­è·¯å™¨ç›‘æ§ä»ªè¡¨ç›˜å‚æ•°å’Œæ¨¡æ‹Ÿç†”æ–­</p>
<pre><code>1ã€sse  server-send-eventæ¨é€åˆ°å‰ç«¯

èµ„æ–™ï¼šhttps://github.com/Netflix/Hystrix/wiki/Dashboard
</code></pre><p>ç¬¬å…­ç«  å¾®æœåŠ¡ç½‘å…³zuulå¼€å‘å®æˆ˜ </p>
<p>1ã€å¾®æœåŠ¡ç½‘å…³ä»‹ç»å’Œä½¿ç”¨åœºæ™¯<br>â€‹    ç®€ä»‹ï¼šè®²è§£ç½‘å…³çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ (ç”»å›¾)<br>â€‹<br>â€‹    1ï¼‰ä»€ä¹ˆæ˜¯ç½‘å…³<br>â€‹        API Gatewayï¼Œæ˜¯ç³»ç»Ÿçš„å”¯ä¸€å¯¹å¤–çš„å…¥å£ï¼Œä»‹äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´çš„ä¸­é—´å±‚ï¼Œå¤„ç†éä¸šåŠ¡åŠŸèƒ½ æä¾›è·¯ç”±è¯·æ±‚ã€é‰´æƒã€ç›‘æ§ã€ç¼“å­˜ã€é™æµç­‰åŠŸèƒ½<br>â€‹<br>â€‹            ç»Ÿä¸€æ¥å…¥<br>â€‹                æ™ºèƒ½è·¯ç”±<br>â€‹                ABæµ‹è¯•ã€ç°åº¦æµ‹è¯•<br>â€‹                è´Ÿè½½å‡è¡¡ã€å®¹ç¾å¤„ç†<br>â€‹                æ—¥å¿—åŸ‹ç‚¹ï¼ˆç±»ä¼¼Nignxæ—¥å¿—ï¼‰<br>â€‹<br>            æµé‡ç›‘æ§<br>                é™æµå¤„ç†<br>                æœåŠ¡é™çº§</p>
<pre><code>        å®‰å…¨é˜²æŠ¤
            é‰´æƒå¤„ç†
            ç›‘æ§
            æœºå™¨ç½‘ç»œéš”ç¦»


2ï¼‰ä¸»æµçš„ç½‘å…³
    zuulï¼šæ˜¯Netflixå¼€æºçš„å¾®æœåŠ¡ç½‘å…³ï¼Œå’ŒEureka,Ribbon,Hystrixç­‰ç»„ä»¶é…åˆä½¿ç”¨ï¼ŒZuul 2.0æ¯”1.0çš„æ€§èƒ½æé«˜å¾ˆå¤š

    kong: ç”±Mashapeå…¬å¸å¼€æºçš„ï¼ŒåŸºäºNginxçš„API gateway

    nginx+luaï¼šæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†æœåŠ¡å™¨,luaæ˜¯è„šæœ¬è¯­è¨€ï¼Œè®©Nginxæ‰§è¡ŒLuaè„šæœ¬ï¼Œå¹¶ä¸”é«˜å¹¶å‘ã€éé˜»å¡çš„å¤„ç†å„ç§è¯·æ±‚
</code></pre><p>2ã€SpringCloudçš„ç½‘å…³ç»„ä»¶zuulåŸºæœ¬ä½¿ç”¨<br>â€‹    ç®€ä»‹ï¼šè®²è§£zuulç½‘å…³åŸºæœ¬ä½¿ç”¨</p>
<pre><code>1ã€åŠ å…¥ä¾èµ–


2ã€å¯åŠ¨ç±»åŠ å…¥æ³¨è§£ @EnableZuulProxy
    é»˜è®¤é›†æˆæ–­è·¯å™¨  @EnableCircuitBreaker

    é»˜è®¤è®¿é—®è§„åˆ™  
        http://gateway:port/service-id/**

            ä¾‹å­ï¼šé»˜è®¤ /order-service/api/v1/order/save?user_id=2&amp;product_id=1
                 è‡ªå®šä¹‰ /xdclass_order/api/v1/order/save?user_id=2&amp;product_id=1

    è‡ªå®šä¹‰è·¯ç”±è½¬å‘ï¼š
        zuul:
         routes:
             order-service: /apigateway/**


    ç¯å¢ƒéš”ç¦»é…ç½®ï¼š
        éœ€æ±‚ ï¼šä¸æƒ³è®©é»˜è®¤çš„æœåŠ¡å¯¹å¤–æš´éœ²æ¥å£
            /order-service/api/v1/order/save

        é…ç½®ï¼š
        zuul: 
            ignored-patterns:
                - /*-service/api/v1/order/save
</code></pre><p>3ã€é«˜çº§ç¯‡å¹…ä¹‹Zuulå¸¸ç”¨é—®é¢˜åˆ†æå’Œç½‘å…³è¿‡æ»¤å™¨åŸç†åˆ†æ</p>
<pre><code>ç®€ä»‹ï¼šè®²è§£Zuulç½‘å…³åŸç†å’Œè¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸï¼Œ

1ã€è·¯ç”±åç§°å®šä¹‰é—®é¢˜
    è·¯ç”±æ˜ å°„é‡å¤è¦†ç›–é—®é¢˜

2ã€Httpè¯·æ±‚å¤´è¿‡æ»¤é—®é¢˜

3ã€è¿‡æ»¤å™¨æ‰§è¡Œé¡ºåºé—®é¢˜ ï¼Œè¿‡æ»¤å™¨çš„orderå€¼è¶Šå°ï¼Œè¶Šå…ˆæ‰§è¡Œ


4ã€å…±äº«RequestContextï¼Œä¸Šä¸‹æ–‡å¯¹è±¡
</code></pre><p>4ã€è‡ªå®šä¹‰Zuulè¿‡æ»¤å™¨å®ç°ç™»å½•é‰´æƒå®æˆ˜<br>â€‹    ç®€ä»‹ï¼šè‡ªå®šä¹‰Zuulè¿‡æ»¤å™¨å®ç°ç™»å½•é‰´æƒå®æˆ˜</p>
<pre><code>1ã€æ–°å»ºä¸€ä¸ªfilteråŒ…

2ã€æ–°å»ºä¸€ä¸ªç±»ï¼Œå®ç°ZuulFilterï¼Œé‡å†™é‡Œé¢çš„æ–¹æ³•

3ã€åœ¨ç±»é¡¶éƒ¨åŠ æ³¨è§£ï¼Œ@Component,è®©Springæ‰«æ
</code></pre><p>5ã€é«˜çº§ç¯‡å¹…ä¹‹é«˜å¹¶å‘æƒ…å†µä¸‹æ¥å£é™æµç‰¹æŠ€<br>â€‹    ç®€ä»‹ï¼šè°·æ­Œguavaæ¡†æ¶ä»‹ç»ï¼Œç½‘å…³é™æµä½¿ç”¨</p>
<pre><code>1ã€nginxå±‚é™æµ

2ã€ç½‘å…³å±‚é™æµ
</code></pre><p>6ã€Zuulå¾®æœåŠ¡ç½‘å…³é›†ç¾¤æ­å»º<br>â€‹    ç®€ä»‹ï¼šå¾®æœåŠ¡ç½‘å…³Zullé›†ç¾¤æ­å»º</p>
<pre><code>1ã€nginx+lvs+keepalive 
https://www.cnblogs.com/liuyisai/p/5990645.html
</code></pre><p>ç¬¬ä¸ƒç«  åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»ŸSleuthå’ŒZipKinå®æˆ˜<br>â€‹    </p>
<pre><code>1ã€å¾®æœåŠ¡ä¸‹çš„é“¾è·¯è¿½è¸ªè®²è§£å’Œé‡è¦æ€§
    ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»Ÿï¼ŒåŠä½¿ç”¨å¥½å¤„




2ã€SpringCloudçš„é“¾è·¯è¿½è¸ªç»„ä»¶Sleuthå®æˆ˜
    ç®€ä»‹ï¼šè®²è§£åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç»„ä»¶Sleuthå®æˆ˜

    1ã€å®˜æ–¹æ–‡æ¡£
    http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#sleuth-adding-project

    2ã€ä»€ä¹ˆæ˜¯Sleuth
        ä¸€ä¸ªç»„ä»¶ï¼Œä¸“é—¨ç”¨äºè®°å½•é“¾è·¯æ•°æ®çš„å¼€æºç»„ä»¶

        [order-service,96f95a0dd81fe3ab,852ef4cfcdecabf3,false]

        1ã€ç¬¬ä¸€ä¸ªå€¼ï¼Œspring.application.nameçš„å€¼

        2ã€ç¬¬äºŒä¸ªå€¼ï¼Œ96f95a0dd81fe3ab ï¼Œsleuthç”Ÿæˆçš„ä¸€ä¸ªIDï¼Œå«Trace IDï¼Œç”¨æ¥æ ‡è¯†ä¸€æ¡è¯·æ±‚é“¾è·¯ï¼Œä¸€æ¡è¯·æ±‚é“¾è·¯ä¸­åŒ…å«ä¸€ä¸ªTrace IDï¼Œå¤šä¸ªSpan ID

        3ã€ç¬¬ä¸‰ä¸ªå€¼ï¼Œ852ef4cfcdecabf3ã€spanid åŸºæœ¬çš„å·¥ä½œå•å…ƒï¼Œè·å–å…ƒæ•°æ®ï¼Œå¦‚å‘é€ä¸€ä¸ªhttp

        4ã€ç¬¬å››ä¸ªå€¼ï¼šfalseï¼Œæ˜¯å¦è¦å°†è¯¥ä¿¡æ¯è¾“å‡ºåˆ°zipkinæœåŠ¡ä¸­æ¥æ”¶é›†å’Œå±•ç¤ºã€‚

    3ã€æ·»åŠ ä¾èµ–
        &lt;dependency&gt;
         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
         &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;
         &lt;/dependency&gt;






3ã€SpringCloudçš„é“¾è·¯è¿½è¸ªç»„ä»¶Sleuthå¸¸è§é—®é¢˜è¯´æ˜
    ç®€ä»‹ï¼šè®²è§£åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç»„ä»¶Sleuthå¸¸è§é—®é¢˜è¯´æ˜
</code></pre><p>â€‹      </p>
<pre><code>4ã€å¯è§†åŒ–é“¾è·¯è¿½è¸ªç³»ç»ŸZipkinéƒ¨ç½²
    ç®€ä»‹ï¼šè®²è§£Zipkinçš„ä»‹ç»å’Œéƒ¨ç½²
    1ã€ä»€ä¹ˆæ˜¯zipkin
        å®˜ç½‘ï¼šhttps://zipkin.io/
        å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„APMå·¥å…·ï¼ˆApplication Performance Managementï¼‰,åŸºäºGoogle Dapperçš„åŸºç¡€å®ç°ï¼Œå’Œsleuthç»“åˆå¯ä»¥æä¾›å¯è§†åŒ–webç•Œé¢åˆ†æè°ƒç”¨é“¾è·¯è€—æ—¶æƒ…å†µ            

    2ã€åŒç±»äº§å“
        é¹°çœ¼ï¼ˆEagleEyeï¼‰
        CAT
        twitterå¼€æºzipkinï¼Œç»“åˆsleuth
        Pinpointï¼Œè¿ç”¨JavaAgentå­—èŠ‚ç å¢å¼ºæŠ€æœ¯
        StackDriver Trace (Google) 

    3ã€å¼€å§‹ä½¿ç”¨
        https://github.com/openzipkin/zipkin
        https://zipkin.io/pages/quickstart.html

        zipkinç»„æˆï¼šCollectorã€Storageã€Restful APIã€Web UIç»„æˆ

    4ã€çŸ¥è¯†æ‹“å±•ï¼šOpenTracing
    OpenTracing å·²è¿›å…¥ CNCFï¼Œæ­£åœ¨ä¸ºå…¨çƒçš„åˆ†å¸ƒå¼è¿½è¸ªï¼Œæä¾›ç»Ÿä¸€çš„æ¦‚å¿µå’Œæ•°æ®æ ‡å‡†ã€‚ 
    é€šè¿‡æä¾›å¹³å°æ— å…³ã€å‚å•†æ— å…³çš„ APIï¼Œä½¿å¾—å¼€å‘äººå‘˜èƒ½å¤Ÿæ–¹ä¾¿çš„æ·»åŠ ï¼ˆæˆ–æ›´æ¢ï¼‰è¿½è¸ªç³»ç»Ÿçš„å®ç°ã€‚


    æ¨èé˜…è¯»ï¼š
        http://blog.daocloud.io/cncf-3/
        https://www.zhihu.com/question/27994350
        https://yq.aliyun.com/articles/514488?utm_content=m_43347







5ã€é«˜çº§ç¯‡å¹…ä¹‹é“¾è·¯è¿½è¸ªç»„ä»¶Zipkin+Sleuthå®æˆ˜
    ç®€ä»‹ï¼šä½¿ç”¨Zipkin+Sleuthä¸šåŠ¡åˆ†æè°ƒç”¨é“¾è·¯åˆ†æå®æˆ˜

    1ã€æ–‡æ¡£
    http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_sleuth_with_zipkin_via_http

      sleuthæ”¶é›†è·Ÿè¸ªä¿¡æ¯é€šè¿‡httpè¯·æ±‚å‘é€ç»™zipkin serverï¼Œzipkinserverè¿›è¡Œè·Ÿè¸ªä¿¡æ¯çš„å­˜å‚¨ä»¥åŠæä¾›Rest APIå³å¯ï¼ŒZipkin UIè°ƒç”¨å…¶APIæ¥å£è¿›è¡Œæ•°æ®å±•ç¤º

      é»˜è®¤å­˜å‚¨æ˜¯å†…å­˜ï¼Œå¯ä¹Ÿç”¨mysqlã€æˆ–è€…elasticsearchç­‰å­˜å‚¨

    2ã€åŠ å…¥ä¾èµ–
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt;
    &lt;/dependency&gt;

    é‡Œé¢åŒ…å« spring-cloud-starter-sleuthã€spring-cloud-sleuth-zipkin

    3ã€æ–‡æ¡£è¯´æ˜ï¼šhttp://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_features_2

    4ã€é…ç½®zipkin.base-url

    5ã€é…ç½®é‡‡æ ·ç™¾åˆ†é—­spring.sleuth.sampler


    æ¨èèµ„æ–™ï¼š
        https://blog.csdn.net/jrn1012/article/details/77837710
</code></pre><p>=============================================<br>æ›´å¤šå¹²è´§æŠ€æœ¯è®¿é—®å°Dè¯¾å ‚å®˜ç½‘ <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>å°Dè€å¸ˆä¸ªäººå¾®ä¿¡ï¼šjack794666918</p>
<h1 id="å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚-2"><a href="#å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚-2" class="headerlink" title="å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚"></a>å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚</h1><p>â€‹<br>ç¬¬å…«ç«  å¾®æœåŠ¡æ ¸å¿ƒçŸ¥è¯†åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒConfigå®æˆ˜<br>â€‹<br>â€‹    1ã€å¾®æœåŠ¡ä¸‹çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ<br>â€‹        ç®€ä»‹ï¼šè®²è§£ä»€ä¹ˆæ˜¯é…ç½®ä¸­å¿ƒåŠä½¿ç”¨å‰åçš„å¥½å¤„ (ç”»å›¾)<br>â€‹        ä»€ä¹ˆæ˜¯é…ç½®ä¸­å¿ƒï¼š<br>â€‹            ä¸€å¥è¯ï¼šç»Ÿä¸€ç®¡ç†é…ç½®, å¿«é€Ÿåˆ‡æ¢å„ä¸ªç¯å¢ƒçš„é…ç½®<br>â€‹<br>â€‹        ç›¸å…³äº§å“ï¼š<br>â€‹            ç™¾åº¦çš„disconf<br>â€‹                åœ°å€:<a href="https://github.com/knightliao/disconf" target="_blank" rel="noopener">https://github.com/knightliao/disconf</a><br>â€‹<br>            é˜¿é‡Œçš„diamand<br>                åœ°å€ï¼š<a href="https://github.com/takeseem/diamond" target="_blank" rel="noopener">https://github.com/takeseem/diamond</a></p>
<pre><code>        springcloudçš„configs-server:
            åœ°å€ï¼šhttp://cloud.spring.io/spring-cloud-config/


    æ¨èå¹²è´§æ–‡ç« ï¼šhttp://jm.taobao.org/2016/09/28/an-article-about-config-center/





2ã€SpringCloudçš„é…ç½®ä¸­å¿ƒç»„ä»¶config-serverå®æˆ˜
    ç®€ä»‹ï¼šè®²è§£SpringCloudé…ç½®ä¸­å¿ƒconfig-serverå®æˆ˜
    1ã€æ–°å»ºé¡¹ç›®ï¼Œåˆ›å»ºconfig-server
    2ã€å¯åŠ¨ç±»å¢åŠ æ³¨è§£
        @EnableConfigServer












3ã€ä½¿ç”¨gitæœåŠ¡å™¨ç»“åˆConfigæ­å»ºåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ
    ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨gitæœåŠ¡å™¨ç»“åˆConfigæ­å»ºåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ

    1ã€é»˜è®¤ä½¿ç”¨gitå­˜å‚¨é…ç½®ä¸­å¿ƒ
        ä½¿ç”¨gitæœåŠ¡å™¨ï¼Œå¯ä»¥è‡ªå·±æ­å»ºgitlabæœåŠ¡å™¨
        æˆ–è€…ä½¿ç”¨githubã€å¼€æºä¸­å›½gitã€é˜¿é‡Œäº‘git

        794666918@qq.com
        xdclass.net123

        https://gitee.com/waitforxy/config_cloud.git

    2ã€é…ç½®æ–‡ä»¶æ·»åŠ é…ç½®
        spring:
          application:
            name: config-server
        #gité…ç½®
          cloud:
            config:
              server:
                git:
                  uri: https://gitee.com/waitforxy/config_cloud
                  username: 794666918@qq.com
                  password: xdclass.net123
                  #è¶…æ—¶æ—¶é—´
                  timeout: 5
                    #åˆ†æ”¯
                    default-label: master


    3ã€è®¿é—®æ–¹å¼ï¼ˆä¸€å®šè¦æ³¨æ„è¯­æ³•ï¼Œå¦‚æœæœ‰é—®é¢˜ï¼Œä¼šå‡ºé”™ï¼‰
        å¤šç§è®¿é—®è·¯å¾„ï¼Œå¯ä»¥é€šè¿‡å¯åŠ¨æ—¥å¿—å»æŸ¥çœ‹
        ä¾‹å­ http://localhost:9100/product-service.yml

        /{name}-{profiles}.properties
        /{name}-{profiles}.yml
        /{name}-{profiles}.json
        /{label}/{name}-{profiles}.yml

        name æœåŠ¡å™¨åç§°
        profile ç¯å¢ƒåç§°ï¼Œå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§
        lable ä»“åº“åˆ†æ”¯ã€é»˜è®¤masteråˆ†æ”¯
</code></pre><p>4ã€åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒå®¢æˆ·ç«¯ä½¿ç”¨å®æˆ˜<br>â€‹    ç®€ä»‹ï¼šå¾®æœåŠ¡é‡Œé¢å®¢æˆ·ç«¯æ¥å…¥é…ç½®ä¸­å¿ƒå®æˆ˜<br>â€‹        å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_client" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_client</a><br>â€‹<br>â€‹        1ã€åŠ å…¥ä¾èµ–<br>â€‹             <dependency><br>â€‹                <groupid>org.springframework.cloud</groupid><br>â€‹                <artifactid>spring-cloud-config-client</artifactid><br>â€‹            </dependency><br>â€‹<br>â€‹         2ã€ä¿®æ”¹å¯¹åº”æœåŠ¡çš„é…ç½®æ–‡ä»¶,æŠŠapplication.yml æ”¹ä¸º bootstrap.yml<br>â€‹            #æŒ‡å®šæ³¨å†Œä¸­å¿ƒåœ°å€<br>â€‹            eureka:<br>â€‹              client:<br>â€‹                serviceUrl:<br>â€‹                  defaultZone: <a href="http://localhost:8761/eureka/" target="_blank" rel="noopener">http://localhost:8761/eureka/</a><br>â€‹    </p>
<pre><code>    #æœåŠ¡çš„åç§°
    spring:
      application:
        name: product-service
      #æŒ‡å®šä»å“ªä¸ªé…ç½®ä¸­å¿ƒè¯»å–
      cloud:
        config:
          discovery:
            service-id: CONFIG-SERVER
            enabled: true
          profile: test
          #å»ºè®®ç”¨lableå»åŒºåˆ†ç¯å¢ƒï¼Œé»˜è®¤æ˜¯lableæ˜¯masteråˆ†æ”¯
          #label: test

æ³¨æ„ç‚¹ï¼š
    1.é…ç½®æ–‡ä»¶è¦ç”¨bootstrap.yml
    2.é»˜è®¤è¯»å–æ–‡ä»¶åæ˜¯ æœåŠ¡åç§°
</code></pre><p>ç¬¬ä¹ç«  å¾®æœåŠ¡æ¶ˆæ¯æ€»çº¿Busç»“åˆæ¶ˆæ¯é˜Ÿåˆ—RabbitMQå®æˆ˜</p>
<pre><code>1ã€æ¶ˆæ¯æ€»çº¿Busä»‹ç»å’Œä½¿ç”¨åœºæ™¯
    ç®€ä»‹ï¼šè®²è§£æ¶ˆæ¯æ€»çº¿Busä»‹ç»å’Œä½¿ç”¨åœºæ™¯
    1ã€ä»€ä¹ˆæ˜¯æ¶ˆæ¯
        ä¸€ä¸ªäº‹ä»¶ï¼Œéœ€è¦å¹¿æ’­æˆ–è€…å•ç‹¬ä¼ é€’ç»™æŸä¸ªæ¥å£

    2ã€ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ä¸ª
        é…ç½®æ›´æ–°äº†ï¼Œä½†æ˜¯å…¶ä»–ç³»ç»Ÿä¸çŸ¥é“æ˜¯å¦æ›´æ–°









2ã€æ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQåŸºç¡€ä»‹ç»
    ç®€ä»‹ï¼šæ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQåŸºç¡€ä»‹ç»

        1ã€æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»
            å‚è€ƒï¼šhttps://www.cnblogs.com/linjiqin/p/5720865.html

        2ã€åŒç±»äº§å“
            ActiveMQ
            RocketMQ
            Kafka
            ç­‰

        3ã€SpringCloudé»˜è®¤æ¨èä½¿ç”¨RabbitMQ


        4ã€RabbitMQä»‹ç»    
            å®˜æ–¹æ–‡æ¡£ï¼šhttp://www.rabbitmq.com/getstarted.html
            ä¸­æ–‡æ–‡æ¡£ï¼šhttp://rabbitmq.mr-ping.com/





3ã€å®æˆ˜ç³»åˆ—ä½¿ç”¨Dockeræ­å»ºRabbitMQ3.7
    ç®€ä»‹ï¼šä½¿ç”¨Dockerå®‰è£…RabbitMQ

    1ã€å¦‚æœå¯¹Dockeræ²¡åŸºç¡€ï¼Œè¯¾ç¨‹åç»­æœ‰è®²è§£Dockerï¼Œå¯ä»¥å…ˆè·³è½¬è¿‡å»å­¦ä¹ Docker
    2ã€å®‰è£…æ­¥éª¤
        1)æ‹‰å–é•œåƒï¼šdocker pull rabbitmq:management
        2)æŸ¥çœ‹å½“å‰é•œåƒåˆ—è¡¨ï¼šdocker images
        3)åˆ é™¤æŒ‡å®šé•œåƒï¼šdocker rmi  IMAGE_ID  (å¦‚æœéœ€è¦å¼ºåˆ¶åˆ é™¤åŠ  -f)

        4)åˆ›å»ºå®¹å™¨
        docker run -d --name=&quot;myrabbitmq&quot; -p 5671:5671 -p 15672:15672 rabbitmq:management

        å‚æ•°è®²è§£: 
            run: åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤
             -d: åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨ID
             -p: ç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£
             --name=&quot;rabbitmq&quot;: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°


    3ã€RabbitMQé»˜è®¤åˆ›å»ºäº†ä¸€ä¸ª guest ç”¨æˆ·ï¼Œå¯†ç ä¹Ÿæ˜¯ guest, å¦‚æœè®¿é—®ä¸äº†è®°å¾—æŸ¥çœ‹é˜²ç«å¢™ï¼Œç«¯å£æˆ–è€…äº‘æœåŠ¡å™¨çš„å®‰å…¨ç»„
      ç®¡ç†åå°ï¼šhttp://127.0.0.1:15672


å…¶ä»–å®‰è£…æ–¹å¼ï¼š
Linuxå®‰è£…ï¼šhttps://blog.csdn.net/qq_34021712/article/details/72567786
windowså®‰è£…ï¼šhttp://www.rabbitmq.com/install-windows.html

https://blog.csdn.net/liyuejin/article/details/78410586





4ã€é«˜çº§ç¯‡å¹…æ¶ˆæ¯æ€»çº¿æ•´åˆé…ç½®ä¸­å¿ƒæ¶æ„æµç¨‹å›¾
    ç®€ä»‹ï¼šè®²è§£æ¶ˆæ¯æ€»çº¿Busç»“åˆconfigç»„ä»¶æ­å»ºé…ç½®ä¸­å¿ƒé¡¹ç›®æ¶æ„å›¾å’Œæ“ä½œæµç¨‹

        å¯åŠ¨
        rabbitmqï¼š docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management
        rabbitmqé»˜è®¤æ˜¯5672,æ‰€ä»¥æ”¹ä¸º5672ç«¯å£

        1ã€config-clientåŠ å…¥ä¾èµ–

            &lt;!--é…ç½®ä¸­å¿ƒç»“åˆæ¶ˆæ¯é˜Ÿåˆ—--&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
            &lt;/dependency&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
                &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt;
            &lt;/dependency&gt;
</code></pre><p>â€‹<br>â€‹            å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpoint" target="_blank" rel="noopener">http://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpoint</a><br>â€‹            æ–‡æ¡£é‡Œé¢ æš´éœ²ç«¯ç‚¹ management.endpoints.web.exposure.include=bus-refresh<br>â€‹<br>â€‹            2ã€åœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ å…³äºRabbitMQçš„è¿æ¥(å¦‚æœæ˜¯æœ¬æœºï¼Œåˆ™å¯ä»¥ç›´æ¥å¯åŠ¨ï¼Œé‡‡ç”¨é»˜è®¤è¿æ¥é…ç½®)<br>â€‹                spring:<br>â€‹                  rabbitmq:<br>â€‹                    host: localhost<br>â€‹                    port: 5672<br>â€‹                    username: guest<br>â€‹                    password: guest<br>â€‹            </p>
<pre><code>            #æš´éœ²å…¨éƒ¨çš„ç›‘æ§ä¿¡æ¯
            management:
              endpoints:
                web:
                  exposure:
                    include: &quot;*&quot;

        3ã€éœ€è¦åˆ·æ–°é…ç½®çš„åœ°æ–¹ï¼Œå¢åŠ æ³¨è§£ 
            @RefreshScope

        4ã€è®¿é—®éªŒè¯ postæ–¹å¼ï¼š
            http://localhost:8773/actuator/bus-refresh


        5ã€åŠ¨æ€åˆ·æ–°é…ç½®: åœ¨å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒä½¿ç”¨ï¼Œå°½é‡å°‘åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨








5ã€å¾®æœåŠ¡ç›¸å…³é¡¹ç›®æ”¹é€ é…ç½®ä¸­å¿ƒ
ç®€ä»‹ï¼šæŠŠè¯¾ç¨‹é¡¹ç›®æ”¹é€ æˆé…ç½®ä¸­å¿ƒè®²è§£

1ã€gité‡Œé¢æ–°å¢å¯¹åº”é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œéƒ½è¦æ·»åŠ ä¸‹é¢çš„é…ç½®
    #æœåŠ¡çš„åç§°
    spring:
      rabbitmq:
        host: localhost
        port: 5672
        username: guest
        password: guest

    #æš´éœ²å…¨éƒ¨çš„ç›‘æ§ä¿¡æ¯
    management:
      endpoints:
        web:
          exposure:
            include: &quot;*&quot;
</code></pre><p>â€‹<br>â€‹    2ã€é¡¹ç›®é‡Œé¢æ·»åŠ mavenä¾èµ–<br>â€‹<br>â€‹        <!--é…ç½®ä¸­å¿ƒå®¢æˆ·ç«¯--><br>â€‹        <dependency><br>â€‹            <groupid>org.springframework.cloud</groupid><br>â€‹            <artifactid>spring-cloud-config-client</artifactid><br>â€‹        </dependency><br>â€‹<br>        <!--config server--></p>
<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
        &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt;
    &lt;/dependency&gt;


3ã€ä¿®æ”¹application.propertiesä¸ºbootstrap.yml å¹¶æ‹·è´é…ç½®æ–‡ä»¶

        #æŒ‡å®šæ³¨å†Œä¸­å¿ƒåœ°å€
        eureka:
          client:
            serviceUrl:
              defaultZone: http://localhost:8761/eureka/

        #æœåŠ¡çš„åç§°
        spring:
          application:
            name: order-service
          #æŒ‡å®šä»å“ªä¸ªé…ç½®ä¸­å¿ƒè¯»å–
          cloud:
            config:
              discovery:
                service-id: CONFIG-SERVER
                enabled: true
              profile: test

4ã€å„ä¸ªé¡¹ç›®å¯åŠ¨é¡ºåº
    1ï¼‰æ³¨å†Œä¸­å¿ƒ
    2ï¼‰é…ç½®ä¸­å¿ƒ
    3ï¼‰å¯¹åº”çš„æœåŠ¡ï¼šå•†å“æœåŠ¡ã€è®¢å•æœåŠ¡ã€‚ã€‚ã€‚
    4ï¼‰å¯åŠ¨ç½‘å…³
</code></pre><p>ç¬¬åç« ã€SpringCloudè¯¾ç¨‹å†…å®¹ä¸ŠåŠéƒ¨åˆ†æ€»ç»“<br>â€‹    </p>
<pre><code>1ã€å¾®æœåŠ¡æ ¸å¿ƒçŸ¥è¯†å†…å®¹å›é¡¾

ç®€ä»‹ï¼šå›é¡¾SpringCloudå‰é¢10ç« çš„åŸºç¡€å†…å®¹

    1)ä»‹ç»å¾®æœåŠ¡çš„åŸºç¡€çŸ¥è¯†ï¼Œæ ¸å¿ƒç»„ä»¶ï¼ŒCAPåŸç†

    2ï¼‰SpringCloudæ³¨å†Œä¸­å¿ƒ Eureka

    3ï¼‰product-service / order-service

    4) ä¼ªRPC Ribbon / feign 

    5) hystrixç†”æ–­

    6) æœåŠ¡ç½‘å…³ä»‹ç»ï¼Œzuul

    7ï¼‰é…ç½®ä¸­å¿ƒconfig-server
</code></pre><p>â€‹    </p>
<pre><code>2ã€å¾®æœåŠ¡ä¸‹åŠéƒ¨åˆ†çŸ¥è¯† äº‘æœåŠ¡å™¨å’ŒDockerå®¹å™¨
    ç®€ä»‹ï¼šè®²è§£äº‘æœåŠ¡å™¨å’Œå®¹å™¨çŸ¥è¯†
</code></pre><p>â€‹    </p>
<p>ç¬¬åä¸€ç«  é˜¿é‡Œäº‘ECSæœåŠ¡å™¨ä»‹ç»å’Œç½‘ç»œçŸ¥è¯†è®²è§£</p>
<pre><code>1ã€äº‘æœåŠ¡å™¨ä»‹ç»å’Œé˜¿é‡Œäº‘æœåŠ¡å™¨ECSæœåŠ¡å™¨é€‰è´­
    ç®€ä»‹ï¼šä»€ä¹ˆæ˜¯äº‘æœåŠ¡å™¨åŠç›®å‰ä¸»è¦çš„å‡ ä¸ªå‚å•†ä»‹ç»
    1ã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€äºšé©¬é€Šäº‘
    é˜¿é‡Œäº‘ï¼šhttps://www.aliyun.com/
    è…¾è®¯äº‘ï¼šhttps://cloud.tencent.com/
    äºšé©¬é€Šäº‘ï¼šhttps://aws.amazon.com/
</code></pre><p>â€‹<br>â€‹    2ã€é˜¿é‡Œäº‘æœåŠ¡å™¨è¿œç¨‹ç™»å½•å’Œå¸¸ç”¨å·¥å…·<br>â€‹        ç®€ä»‹ï¼šè®²è§£é˜¿é‡Œäº‘æœåŠ¡å™¨ç™»å½•ä½¿ç”¨å’Œå¸¸è§ç»ˆç«¯å·¥å…·<br>â€‹        1ã€windowså·¥å…·   puttyï¼Œxshell, security<br>â€‹            å‚è€ƒèµ„æ–™ï¼š<br>â€‹                <a href="https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html</a><br>â€‹                <a href="https://www.jb51.net/softjc/88235.html" target="_blank" rel="noopener">https://www.jb51.net/softjc/88235.html</a><br>â€‹<br>â€‹        2ã€è‹¹æœç³»ç»ŸMACï¼š é€šè¿‡ç»ˆç«¯ç™»å½•<br>â€‹            ssh root@ip  å›è½¦åè¾“å…¥å¯†ç <br>â€‹            ssh <a href="mailto:root@120.25.1.38" target="_blank" rel="noopener">root@120.25.1.38</a><br>â€‹<br>        3ã€å¯ä»¥å°è¯•è‡ªå·±é€šè¿‡ç™¾åº¦è¿›è¡Œæ‰¾æ–‡æ¡£ï¼Œ å®‰è£…mysql jdk  nginx maven git redis elk </p>
<p>3ã€äº’è”ç½‘æ¶æ„çŸ¥è¯†ä¹‹ç½‘ç«™éƒ¨ç½²ä¸Šçº¿åŸºç¡€å‡†å¤‡<br>â€‹    ç®€ä»‹ï¼šè®²è§£åº”ç”¨éƒ¨ç½²åˆ°å¯ä»¥å…¬ç½‘è®¿é—®éœ€è¦æ­¥éª¤</p>
<pre><code>1ã€ä¸€ä¸ªhttpè¯·æ±‚çš„æ•…äº‹

2ã€ä»€ä¹ˆæ˜¯cnameå’Œaè®°å½•
        Aè®°å½•å’ŒCNAMEåªå¯ä»¥åŒæ—¶ç”Ÿæ•ˆä¸€ä¸ªï¼ŒAè®°å½•ä¼˜å…ˆ

3ã€åŸŸåå’Œipçš„å…³ç³»ï¼ŒDNSä½œç”¨


å‚è€ƒèµ„æ–™ï¼š
    https://blog.csdn.net/benbenzhuhwp/article/details/44704319

    https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;ch=1&amp;tn=98050039_dg&amp;wd=%E4%B8%80%E4%B8%AAhttp%E8%AF%B7%E6%B1%82%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B&amp;rsv_pq=80a65c5f00005961&amp;rsv_t=a5fcWreuJzILdSwr4gI8pFqlO7HSu5BlhjwalyVzPiV9w2L%2BKEj78pPi1Qn6Vx4wXxI&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=8&amp;rsv_sug1=8&amp;rsv_sug7=100&amp;sug=%25E4%25B8%2580%25E4%25B8%25AAhttp%25E8%25AF%25B7%25E6%25B1%2582%25E7%259A%2584%25E8%25AF%25A6%25E7%25BB%2586%25E8%25BF%2587%25E7%25A8%258B&amp;rsv_n=1
</code></pre><p>4ã€åŸŸåè´­ä¹°å’Œé…ç½®è§£æå®æˆ˜<br>â€‹    ç®€ä»‹ï¼šåŸŸåè´­ä¹°å’Œé…ç½®è§£æå®æˆ˜</p>
<pre><code>1ã€è´­ä¹°åŸŸåï¼Œå¤‡æ¡ˆ
    é˜¿é‡Œäº‘ å¤‡æ¡ˆåœ°å€ï¼šhttps://beian.aliyun.com/

2ã€è´­ä¹°æœåŠ¡å™¨ï¼Œé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œäºšé©¬é€Šäº‘aws

3ã€é…ç½®åŸŸåè§£æåˆ°æœåŠ¡å™¨
</code></pre><p>â€‹    </p>
<p>â€‹<br>ç¬¬åäºŒç«  å¾®æœåŠ¡å¿…å¤‡æŠ€èƒ½Dockerå®¹å™¨åŸºç¡€ç¯‡å¹…<br>â€‹<br>â€‹    1ã€å¾®æœåŠ¡ä¸‹çš„Dockerä»‹ç»å’Œä½¿ç”¨åœºæ™¯<br>â€‹        ç®€ä»‹ï¼šDockerä»‹ç»å’Œä½¿ç”¨åœºæ™¯<br>â€‹<br>â€‹        1ã€ä»€ä¹ˆæ˜¯Dokcer<br>â€‹            ç™¾ç§‘:ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼›<br>â€‹<br>            ä½¿ç”¨goè¯­è¨€ç¼–å†™ï¼Œåœ¨LCXï¼ˆlinuxå®¹å™¨ï¼‰åŸºç¡€ä¸Šè¿›è¡Œçš„å°è£…</p>
<pre><code>        ç®€å•æ¥è¯´ï¼š
            1ï¼‰å°±æ˜¯å¯ä»¥å¿«é€Ÿéƒ¨ç½²å¯åŠ¨åº”ç”¨
            2ï¼‰å®ç°è™šæ‹ŸåŒ–ï¼Œå®Œæ•´èµ„æºéš”ç¦»
            3ï¼‰ä¸€æ¬¡ç¼–å†™ï¼Œå››å¤„è¿è¡Œï¼ˆæœ‰ä¸€å®šçš„é™åˆ¶ï¼Œæ¯”å¦‚Dockeræ˜¯åŸºäºLinux 64bitçš„ï¼Œæ— æ³•åœ¨32bitçš„linux/Windows/unixç¯å¢ƒä¸‹ä½¿ç”¨ï¼‰

    2ã€ä¸ºä»€ä¹ˆè¦ç”¨
        1ã€æä¾›ä¸€æ¬¡æ€§çš„ç¯å¢ƒï¼Œå‡å¦‚éœ€è¦å®‰è£…Mysqlï¼Œåˆ™éœ€è¦å®‰è£…å¾ˆå¤šä¾èµ–åº“ã€ç‰ˆæœ¬ç­‰ï¼Œå¦‚æœä½¿ç”¨Dockeråˆ™é€šè¿‡é•œåƒå°±å¯ä»¥ç›´æ¥å¯åŠ¨è¿è¡Œ   

        2ã€å¿«é€ŸåŠ¨æ€æ‰©å®¹ï¼Œä½¿ç”¨dockeréƒ¨ç½²äº†ä¸€ä¸ªåº”ç”¨ï¼Œå¯ä»¥åˆ¶ä½œæˆé•œåƒï¼Œç„¶åé€šè¿‡Dokcerå¿«é€Ÿå¯åŠ¨

        3ã€ç»„å»ºå¾®æœåŠ¡æ¶æ„ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæœºå™¨ä¸Šæ¨¡æ‹Ÿå‡ºå¤šä¸ªå¾®æœåŠ¡ï¼Œå¯åŠ¨å¤šä¸ªåº”ç”¨

        4ã€æ›´å¥½çš„èµ„æºéš”ç¦»å’Œå…±äº«

        ä¸€å¥è¯ï¼šå¼€ç®±å³ç”¨ï¼Œå¿«é€Ÿéƒ¨ç½²ï¼Œå¯ç§»æ¤æ€§å¼ºï¼Œç¯å¢ƒéš”ç¦»







2ã€Linuxäº‘æœåŠ¡å™¨Centos7å®‰è£…Dockerå®æˆ˜
    ç®€ä»‹ï¼šè®²è§£é˜¿é‡Œäº‘ECSæœåŠ¡å®‰è£…Dockerå®æˆ˜
    Linux Standard Baseçš„ç¼©å†™ï¼Œlsb_releaseå‘½ä»¤ç”¨æ¥æ˜¾ç¤ºLSBå’Œç‰¹å®šç‰ˆæœ¬çš„ç›¸å…³ä¿¡æ¯
    å‘½ä»¤ï¼š lsb_release -a 

    é˜¿é‡Œäº‘å®‰è£…æ‰‹å†Œï¼š
    https://help.aliyun.com/document_detail/51853.html?spm=a2c4g.11186623.6.820.RaToNY

    å¸¸è§é—®é¢˜ï¼š
    https://blog.csdn.net/daluguishou/article/details/52080250






3ã€Dockerä»“åº“ã€é•œåƒã€å®¹å™¨æ ¸å¿ƒçŸ¥è¯†è®²è§£
    ç®€ä»‹ï¼šå¿«é€ŸæŒæ¡DokceråŸºç¡€çŸ¥è¯†ï¼Œ

    1ã€æ¦‚å¿µï¼š
        Docker é•œåƒ - Docker imagesï¼š
                 å®¹å™¨è¿è¡Œæ—¶çš„åªè¯»æ¨¡æ¿ï¼Œæ“ä½œç³»ç»Ÿ+è½¯ä»¶è¿è¡Œç¯å¢ƒ+ç”¨æˆ·ç¨‹åº

                 class User{
                     private String userName;
                     private int age;
                 }


        Docker å®¹å™¨ - Docker containersï¼š
                å®¹å™¨åŒ…å«äº†æŸä¸ªåº”ç”¨è¿è¡Œæ‰€éœ€è¦çš„å…¨éƒ¨ç¯å¢ƒ

                 User user = new User()


        Docker ä»“åº“ - Docker registeriesï¼š 
                ç”¨æ¥ä¿å­˜é•œåƒï¼Œæœ‰å…¬æœ‰å’Œç§æœ‰ä»“åº“ï¼Œå¥½æ¯”Mavençš„ä¸­å¤®ä»“åº“å’Œæœ¬åœ°ç§æœ
                é•œåƒä»“åº“ï¼š    

                ï¼ˆå‚è€ƒï¼‰é…ç½®å›½å†…é•œåƒä»“åº“ï¼šhttps://blog.csdn.net/zzy1078689276/article/details/77371782

        å¯¹æ¯”é¢å‘å¯¹è±¡çš„æ–¹å¼
        Dokcer é‡Œé¢çš„é•œåƒ : Javaé‡Œé¢çš„ç±» Class
        Docker é‡Œé¢çš„å®¹å™¨ : Javaé‡Œé¢çš„å¯¹è±¡ Object
        é€šè¿‡ç±»åˆ›å»ºå¯¹è±¡ï¼Œé€šè¿‡é•œåƒåˆ›å»ºå®¹å™¨


4ã€Dockerå®¹å™¨å¸¸è§å‘½ä»¤å®æˆ˜
    ç®€ä»‹ï¼šè®²è§£Dockeråœ¨äº‘æœåŠ¡ä¸Šçš„å®é™…åº”ç”¨
    1ã€ å¸¸ç”¨å‘½ä»¤ï¼ˆå®‰è£…éƒ¨ç½²å¥½Dokceråï¼Œæ‰§è¡Œçš„å‘½ä»¤æ˜¯dockerå¼€å¤´ï¼‰,xxxæ˜¯é•œåƒåç§°

        æœç´¢é•œåƒï¼šdocker search xxx

        åˆ—å‡ºå½“å‰ç³»ç»Ÿå­˜åœ¨çš„é•œåƒï¼šdocker images

        æ‹‰å–é•œåƒï¼šdocker pull xxx
            xxxæ˜¯å…·ä½“æŸä¸ªé•œåƒåç§°(æ ¼å¼ REPOSITORY:TAG)
            REPOSITORYï¼šè¡¨ç¤ºé•œåƒçš„ä»“åº“æº,TAGï¼šé•œåƒçš„æ ‡ç­¾

        è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼šdocker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 rabbitmq:management
            docker run - è¿è¡Œä¸€ä¸ªå®¹å™¨
            -d åå°è¿è¡Œ
            -p ç«¯å£æ˜ å°„
            rabbitmq:management  (æ ¼å¼ REPOSITORY:TAG)ï¼Œå¦‚æœä¸æŒ‡å®štagï¼Œé»˜è®¤ä½¿ç”¨æœ€æ–°çš„
            --name &quot;xxx&quot;

        åˆ—ä¸¾å½“å‰è¿è¡Œçš„å®¹å™¨ï¼šdocker ps

        æ£€æŸ¥å®¹å™¨å†…éƒ¨ä¿¡æ¯ï¼šdocker inspect å®¹å™¨åç§°

        åˆ é™¤é•œåƒï¼šdocker rmi IMAGE_NAME
             å¼ºåˆ¶ç§»é™¤é•œåƒä¸ç®¡æ˜¯å¦æœ‰å®¹å™¨ä½¿ç”¨è¯¥é•œåƒ å¢åŠ  -f å‚æ•°ï¼Œ

        åœæ­¢æŸä¸ªå®¹å™¨ï¼šdocker stop å®¹å™¨åç§°

        å¯åŠ¨æŸä¸ªå®¹å™¨ï¼šdocker start å®¹å™¨åç§°

        ç§»é™¤æŸä¸ªå®¹å™¨ï¼š docker rm å®¹å™¨åç§° ï¼ˆå®¹å™¨å¿…é¡»æ˜¯åœæ­¢çŠ¶æ€ï¼‰


    æ–‡æ¡£ï¼š
        https://blog.csdn.net/permike/article/details/51879578







5ã€å®æˆ˜åº”ç”¨ä¹‹ä½¿ç”¨Dockeréƒ¨ç½²NginxæœåŠ¡å™¨
    ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨Dockeréƒ¨ç½²NginxæœåŠ¡å™¨å®æˆ˜
    1ã€è·å–é•œåƒ 
        docker run (é¦–å…ˆä¼šä»æœ¬åœ°æ‰¾é•œåƒï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥å¯åŠ¨ï¼Œæ²¡æœ‰çš„è¯ï¼Œä»é•œåƒä»“åº“æ‹‰èµ·ï¼Œå†å¯åŠ¨)

        docker search nignx
    2ã€åˆ—ä¸¾
        docker images
    3ã€æ‹‰å–
        docker pull nignx
    3ã€å¯åŠ¨
        docker run -d --name &quot;xdclass_nginx&quot; -p 8088:80 nginx
        docker run -d --name &quot;xdclass_nginx2&quot; -p 8089:80 nginx
        docker run -d --name &quot;xdclass_nginx3&quot; -p 8090:80 nginx
    4ã€è®¿é—®
        å¦‚æœæ˜¯é˜¿é‡Œäº‘æœåŠ¡ï¼Œè®°å¾—é…ç½®å®‰å…¨ç»„ï¼Œè…¾è®¯äº‘ä¹Ÿéœ€è¦é…ç½®ï¼Œè¿™ä¸ªå°±æ˜¯ä¸€ä¸ªé˜²ç«å¢™







6ã€å…¬å¸ä¸­Dockeré•œåƒä»“åº“ä½¿ç”¨è®²è§£
    ç®€ä»‹ï¼šè®²è§£ä¸€èˆ¬å…¬å¸ä¸­é•œåƒä»“åº“åœ¨çš„ä½¿ç”¨

    1ã€ä¸ºå•¥è¦ç”¨é•œåƒä»“åº“


    2ã€å®˜æ–¹å…¬å…±é•œåƒä»“åº“å’Œç§æœ‰é•œåƒä»“åº“
        å…¬å…±é•œåƒä»“åº“ï¼š
                å®˜æ–¹ï¼šhttps://hub.docker.com/ï¼ŒåŸºäºå„ä¸ªè½¯ä»¶å¼€å‘æˆ–è€…æœ‰è½¯ä»¶æä¾›å•†å¼€å‘çš„
                éå®˜æ–¹ï¼šå…¶ä»–ç»„ç»‡æˆ–è€…å…¬å¸å¼€å‘çš„é•œåƒï¼Œä¾›å¤§å®¶å…è´¹è¯•ç”¨

        ç§æœ‰é•œåƒä»“åº“ï¼š
                ç”¨äºå­˜æ”¾å…¬å¸å†…éƒ¨çš„é•œåƒï¼Œä¸æä¾›ç»™å¤–éƒ¨è¯•ç”¨ï¼› 

                SpringCloud å¼€å‘äº†ä¸€ä¸ªæ”¯ä»˜ç³»ç»Ÿ -ã€‹åšæˆä¸€ä¸ªé•œåƒ ï¼ˆæ“ä½œç³»ç»Ÿ+è½¯ä»¶è¿è¡Œç¯å¢ƒ+ç”¨æˆ·ç¨‹åºï¼‰






7ã€é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºè‡ªå·±çš„é•œåƒä»“åº“
    ç®€ä»‹ï¼šä½¿ç”¨é˜¿é‡Œäº‘æ­å»ºè‡ªå·±çš„é•œåƒä»“åº“

    1ã€é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼šhttps://dev.aliyun.com/search.html

    ç‚¹å‡»ç®¡ç†æ§åˆ¶å°-ã€‹åˆæ¬¡ä½¿ç”¨ä¼šæç¤ºå¼€é€šï¼Œç„¶åè®¾ç½®å¯†ç 
    xdclass.net123


    2ã€ä½¿ç”¨é˜¿é‡Œäº‘ç§æœ‰é•œåƒä»“åº“
        1)ç™»å½•ï¼š docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com

        2) æ¨é€æœ¬åœ°é•œåƒï¼š
        docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:[é•œåƒç‰ˆæœ¬å·]
        ä¾‹å­ï¼š
        docker tag 2f415b0e9a6e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

        docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

        3)æ‹‰å–é•œåƒ
            çº¿ä¸ŠæœåŠ¡å™¨æ‹‰å–é•œåƒï¼š
                docker login --username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com

                docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2

                å¯åŠ¨å®¹å™¨ï¼š
                docker run -d --name &quot;xdclass_mq&quot; -p 5672:5672 -p 15672:15672 2f415b0e9a6e
</code></pre><p>ç¬¬åä¸‰ç«  å¾®æœåŠ¡é«˜çº§ç¯‡å¹…SpringCloudå’ŒDockeræ•´åˆéƒ¨ç½²<br>â€‹<br>â€‹    ç¬¬1è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸Šé›†<br>â€‹<br>â€‹    ç®€ä»‹:ä½¿ç”¨Dockerçš„mavenæ’ä»¶ï¼Œæ„å»ºspringbootåº”ç”¨<br>â€‹<br>    å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://spring.io/guides/gs/spring-boot-docker/" target="_blank" rel="noopener">https://spring.io/guides/gs/spring-boot-docker/</a></p>
<pre><code>1ã€æ­¥éª¤ï¼šmavené‡Œé¢æ·»åŠ é…ç½®pom.xml

     &lt;properties&gt;
       &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;finalName&gt;docker-demo&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.spotify&lt;/groupId&gt;
                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.3.6&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;
                    &lt;buildArgs&gt;
                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;
                    &lt;/buildArgs&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

    é…ç½®è®²è§£
    Spotify çš„ docker-maven-plugin æ’ä»¶æ˜¯ç”¨mavenæ’ä»¶æ–¹å¼æ„å»ºdockeré•œåƒçš„ã€‚
    ${project.build.finalName} äº§å‡ºç‰©åç§°ï¼Œç¼ºçœä¸º${project.artifactId}-${project.version}
</code></pre><p>=============================================<br>æ›´å¤šå¹²è´§æŠ€æœ¯è®¿é—®å°Dè¯¾å ‚å®˜ç½‘ <a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a><br>å°Dè€å¸ˆä¸ªäººå¾®ä¿¡ï¼šjack794666918</p>
<h1 id="å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚-3"><a href="#å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚-3" class="headerlink" title="å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚"></a>å…¬ä¼—å·æœç´¢ï¼šå°Dè¯¾å ‚</h1><pre><code>ç¬¬2è¯¾ é«˜çº§ç¯‡å¹…ä¹‹æ„å»ºSpringBootåº”ç”¨dockeré•œåƒä¸‹é›†

        ç®€ä»‹:æ‰“åŒ…SpringCloudé•œåƒå¹¶ä¸Šä¼ ç§æœ‰ä»“åº“å¹¶éƒ¨ç½²

        1ã€åˆ›å»ºDockerfile,é»˜è®¤æ˜¯æ ¹ç›®å½•ï¼Œï¼ˆå¯ä»¥ä¿®æ”¹ä¸ºsrc/main/docker/Dockerfile,å¦‚æœä¿®åˆ™éœ€è¦åˆ¶å®šè·¯å¾„ï¼‰
            ä»€ä¹ˆæ˜¯Dockerfile : ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬ï¼Œè¿™äº›å‘½ä»¤åº”ç”¨äºåŸºç¡€é•œåƒ, æœ€ç»ˆåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ

            FROM openjdk:8-jdk-alpine
            VOLUME /tmp
            ARG JAR_FILE
            COPY ${JAR_FILE} app.jar
            ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]


            å‚æ•°è®²è§£ï¼š
            FROM &lt;image&gt;:&lt;tag&gt; éœ€è¦ä¸€ä¸ªåŸºç¡€é•œåƒï¼Œå¯ä»¥æ˜¯å…¬å…±çš„æˆ–è€…æ˜¯ç§æœ‰çš„ï¼Œ åç»­æ„å»ºä¼šåŸºäºæ­¤é•œåƒï¼Œå¦‚æœåŒä¸€ä¸ªDockerfileä¸­å»ºç«‹å¤šä¸ªé•œåƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªFROMæŒ‡ä»¤

            VOLUME  é…ç½®ä¸€ä¸ªå…·æœ‰æŒä¹…åŒ–åŠŸèƒ½çš„ç›®å½•ï¼Œä¸»æœº /var/lib/docker ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶é“¾æ¥åˆ°å®¹å™¨çš„/tmpã€‚æ”¹æ­¥éª¤æ˜¯å¯é€‰çš„ï¼Œå¦‚æœæ¶‰åŠåˆ°æ–‡ä»¶ç³»ç»Ÿçš„åº”ç”¨å°±å¾ˆæœ‰å¿…è¦äº†ã€‚/tmpç›®å½•ç”¨æ¥æŒä¹…åŒ–åˆ° Docker æ•°æ®æ–‡ä»¶å¤¹ï¼Œå› ä¸º Spring Boot ä½¿ç”¨çš„å†…åµŒ Tomcat å®¹å™¨é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½• 

            ARG  è®¾ç½®ç¼–è¯‘é•œåƒæ—¶åŠ å…¥çš„å‚æ•°ï¼Œ ENV æ˜¯è®¾ç½®å®¹å™¨çš„ç¯å¢ƒå˜é‡
            COPY : åªæ”¯æŒå°†æœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ ,è¿˜æœ‰ä¸ªADDæ›´å¼ºå¤§ä½†å¤æ‚ç‚¹
            ENTRYPOINT å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤
            EXPOSE 8080 æš´éœ²é•œåƒç«¯å£
        2ã€æ„å»ºé•œåƒ
        mvn install dockerfile:build
        æ‰“æ ‡ç­¾
        docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808
        æ¨é€åˆ°é•œåƒä»“åº“
        docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808

        åº”ç”¨æœåŠ¡å™¨æ‹‰å–é•œåƒ
        docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808


        docker run -d --name xdclass_docker_demo1 -p 8099:8080  a1b9fc71720d

        3ã€æŸ¥çœ‹å¯åŠ¨æ—¥å¿— docker logs -f  containerid

        æ–‡æ¡£ï¼šhttps://yeasy.gitbooks.io/docker_practice/image/dockerfile/











ç¬¬3è¯¾ å®æˆ˜ç³»åˆ—ä¹‹æ³¨å†Œä¸­å¿ƒæ‰“åŒ…Dockeré•œåƒ
    ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨Dockeræ‰“åŒ…æ³¨å†Œä¸­å¿ƒï¼Œä¸Šä¼ ç§æœ‰é•œåƒä»“åº“å¹¶éƒ¨ç½²

    1ã€æ–°å¢mavenæ’ä»¶
        &lt;properties&gt;
           &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt;
        &lt;/properties&gt;

        &lt;build&gt;
            &lt;finalName&gt;docker-demo&lt;/finalName&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    &lt;groupId&gt;com.spotify&lt;/groupId&gt;
                    &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;
                    &lt;version&gt;1.3.6&lt;/version&gt;
                    &lt;configuration&gt;
                        &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;
                        &lt;buildArgs&gt;
                            &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;
                        &lt;/buildArgs&gt;
                    &lt;/configuration&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/build&gt;

    2ã€æ–°å»ºDockerfile
            FROM openjdk:8-jdk-alpine
            VOLUME /tmp
            ARG JAR_FILE
            COPY ${JAR_FILE} app.jar
            ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]

    3ã€æ‰“åŒ…ï¼š
        mvn install dockerfile:build

    4ã€æ¨é€é˜¿é‡Œäº‘é•œåƒä»“åº“

    é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼šhttps://dev.aliyun.com/search.html
</code></pre><p>docker tag 062d2ddf272a registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825<br>docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825<br>docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825</p>
<pre><code>    5ã€æŸ¥çœ‹æ—¥å¿— docker logs -f  containerid






ç¬¬4è¯¾ å®æˆ˜ç³»åˆ—ä¹‹éƒ¨ç½²RabbitMQå’Œé…ç½®ä¸­å¿ƒæ‰“åŒ…Dockeré•œåƒ
    ç®€ä»‹ï¼šè®²è§£ä½¿ç”¨Dockeræ‰“åŒ…é…ç½®ä¸­å¿ƒï¼Œå’Œéƒ¨ç½²RabbitMQ

    1ã€æœåŠ¡åœ°å€ ssh root@47.106.120.173

    éƒ¨ç½²    rabbitmqï¼š docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management

    2ã€æ¨é€é•œåƒ

    docker tag 0f636543904e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825

    docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825

    docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825



5ã€å¸¸è§é—®é¢˜å¤„ç†ä¹‹å‡çº§äº‘æœåŠ¡å™¨
    ç®€ä»‹ï¼šå¤„ç†ä¸ŠèŠ‚è¯¾å‡ºç°çš„é—®é¢˜ï¼Œå‡çº§æœåŠ¡å™¨æ³¨æ„äº‹é¡¹

    1ã€å‡çº§äº‘æœåŠ¡å™¨é…ç½®ï¼ˆè´­ä¹°é…ç½®åéœ€è¦é‡å¯æœºå™¨æ‰ç”Ÿæ•ˆï¼‰

    2ã€å¯åŠ¨å®Œæˆåï¼Œéœ€è¦å¼€å¯docker
        æŒ‡ä»¤ï¼š systemctl  start docker

    3ã€æ‰€æœ‰å¯¹å¤–çš„éƒ½è¦ç»è¿‡ç½‘å…³æ‰å¯ä»¥å¯¹å¤–ï¼Œåº”ç”¨é—´é€šä¿¡(é™¤éè·¨æœºæˆ¿)éƒ½ç”¨å†…ç½‘é€šä¿¡









6ã€å®æˆ˜ç³»åˆ—ä¹‹Dockeréƒ¨ç½²Redis
    ç®€ä»‹ï¼šä½¿ç”¨Dockerå®‰è£…redis
    1ã€æœç´¢é•œåƒ docker search redis

    2ã€æ‹‰å– docker pull docker.io/redis

    3ã€å¯åŠ¨ docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d
    å‚è€ƒï¼š
    docker run --name &quot;xd_redis&quot; -p 6379:6379 -d 4e8db158f18d --requirepass &quot;123456&quot; -v $PWD/data:/data

    4ã€è®¿é—®rediså®¹å™¨é‡Œé¢ï¼Œè¿›è¡Œæ“ä½œ
    docker exec -it 295058d2b92e redis-cli










7ã€ç”Ÿäº§ç¯å¢ƒå¸¸è§é—®é¢˜ä¹‹é…ç½®ä¸­å¿ƒè®¿é—®
    ç®€ä»‹ï¼šè®²è§£ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å¸¸è§é—®é¢˜ï¼Œé…ç½®ä¸­å¿ƒè®¿é—®è·¯å¾„å˜åŒ–

    1ã€é…ç½®ä¸­å¿ƒè®¿é—®å‡ºé”™ï¼Œè·¯å¾„ä¸å¯¹

       è§£å†³ï¼šä¿®æ”¹æ‰€æœ‰çš„æ³¨å†Œä¸­å¿ƒï¼Œå¢åŠ ä¸‹é¢é…ç½®
    instance:
    instance-id: ${spring.cloud.client.ip-address}:${server.port}
    prefer-ip-address: true



    docker tag 50a12cd66210 registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180826








8ã€å®æˆ˜ç³»åˆ—ä¹‹æ‰“åŒ…Dockeré•œåƒæ‰“åŒ…å•†å“æœåŠ¡å’Œè®¢å•æœåŠ¡ã€ç½‘å…³ 
   ç®€ä»‹:æ‰“åŒ…Dockeré•œåƒéƒ¨ç½²å•†å“æœåŠ¡å’Œè®¢å•æœåŠ¡ã€ç½‘å…³

   æ³¨æ„ï¼š
   1ã€mavenæ‰“åŒ…æ„å»ºï¼Œä¼šè§¦å‘å•å…ƒæµ‹è¯•ï¼Œéƒ¨åˆ†æƒ…å†µå¯ä»¥è·³è¿‡ï¼Œ
   mvn install -Dmaven.test.skip=true dockerfile:build

   2ã€ç”Ÿäº§ç¯å¢ƒä¸èƒ½ç”¨localhost æˆ–è€… 127.0.0.1, ä¸€å®šè¦ç”¨å†…ç½‘é€šä¿¡ip (è™šæ‹Ÿä¸»æœºæ˜ å°„ hosts)










 9ã€å®æˆ˜ç³»åˆ—äº‘æœåŠ¡å™¨éƒ¨ç½²ç½‘å…³ã€è®¢å•ã€å•†å“æœåŠ¡
     ç®€ä»‹ï¼šäº‘æœåŠ¡éƒ¨ç½²å•†å“æœåŠ¡ã€è®¢å•æœåŠ¡ã€ç½‘å…³æœåŠ¡

     1ã€æ‹‰å–é•œåƒã€å¯åŠ¨



     è®¿é—®è·¯å¾„
     http://47.106.120.173:8781/api/v1/order/save?product_id=5&amp;user_id=5

     http://47.106.120.173:9000/apigateway/order/api/v1/order/save?user_id=5&amp;product_id=3&amp;token=232serer
</code></pre><p>ç¬¬åå››ç«  è¯¾ç¨‹æ€»ç»“å’Œå¸¸è§é—®é¢˜å¤„ç†</p>
<pre><code>1ã€SpringCloudå¾®æœåŠ¡å¸¸è§é—®é¢˜å’Œè§£å†³æ€è·¯
ç®€ä»‹ï¼šè®²è§£SpringCloudå¼€å‘å®æˆ˜å¸¸è§é—®é¢˜ï¼ŒåŠè§£å†³æ€è·¯

    1ã€æŠ€æœ¯é€‰æ‹©ï¼šSpringCloudå…¨å®¶æ¡¶ï¼Œæ¯ä¸ªç»„ä»¶åˆæœ‰å¤šä¸ªæ›¿ä»£ï¼Œæ”¹æ€ä¹ˆé€‰æ‹©

        1ï¼‰é€‰æ‹©çš„æ—¶å€™æ ¹æ®å…¬å¸é‡Œé¢å›¢é˜Ÿäººå‘˜ç†Ÿæ‚‰ç¨‹åº¦ï¼Œé™ä½å­¦ä¹ æˆæœ¬
        2ï¼‰é€‰æ‹©ç¤¾åŒºæ´»è·ƒçš„å¹¶ä¸”æ–‡æ¡£ç›¸å¯¹è¾ƒå¤šçš„ï¼Œæ€ä¹ˆåˆ¤æ–­æ´»è·ƒï¼Œå¯ä»¥çœ‹githubä¸Šä»£ç æäº¤å’Œstartæ•°

    2ã€äº‘æœåŠ¡é€‰æ‹©ï¼š è…¾è®¯äº‘ï¼Œé˜¿é‡Œäº‘ ï¼Œé‡åˆ°é—®é¢˜å¯ä»¥æäº¤å·¥å•ï¼Œæœ‰ä¸“äººè·Ÿè¿›
</code></pre><p>â€‹<br>â€‹        3ã€éƒ¨ç½²äº†åº”ç”¨ï¼Œä½†æ˜¯è®¿é—®ä¸äº†<br>â€‹            è§£å†³æ€è·¯ï¼š<br>â€‹                1)æŸ¥çœ‹åº”ç”¨å¯åŠ¨æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœæœ‰é”™è¯¯æ—¥å¿—ï¼Œå¤åˆ¶é”™è¯¯æ—¥å¿—å»ç™¾åº¦æœç´¢ï¼ï¼ï¼ï¼ï¼ï¼ï¼ç‰¹åˆ«é‡è¦<br>â€‹<br>â€‹                2ï¼‰å¯åŠ¨æ­£å¸¸ï¼Œåˆ™å…ˆåœ¨æœ¬æœºä½¿ç”¨ CURL â€œ<a href="http://lcoalhost:8080/api/v1/user/find&quot;" target="_blank" rel="noopener">http://lcoalhost:8080/api/v1/user/find&quot;</a>  è®¿é—®å¯¹åº”çš„æ¥å£ï¼Œçœ‹æ˜¯å¦æœ‰å“åº”<br>â€‹<br>                3ï¼‰å¯åŠ¨æ­£å¸¸ï¼Œä¸”curlæœ‰å“åº”ï¼Œåˆ™æ£€æŸ¥æ˜¯å¦æœ‰å…³é—­é˜²ç«å¢™ï¼Œæˆ–è€…å¼€æ”¾å¯¹åº”çš„è®¿é—®ç«¯å£ï¼Œå¼€æ”¾ç«¯å£æ‰å¯ä»¥è®¿é—®</p>
<pre><code>            4ï¼‰è…¾è®¯äº‘å’Œé˜¿é‡Œäº‘éƒ½æ˜¯æœ‰å®‰å…¨ç»„ï¼Œç±»ä¼¼å¤–å±‚é˜²ç«å¢™ï¼Œä¸€å®šè¦å»webæ§åˆ¶å°æ£€æŸ¥æ˜¯å¦æœ‰å¼€å¯ç«¯å£



    4ã€å†…ç½‘å’Œå¤–ç½‘è®¿é—®ï¼Œé‰´æƒé—®é¢˜å®‰å…¨é—®é¢˜

            1ï¼‰æ‰€æœ‰åº”ç”¨åªèƒ½é€šè¿‡ç½‘å…³æä¾›å¯¹å¤–è®¿é—®çš„å…¥å£

            2ï¼‰åº”ç”¨ç¨‹åºä¹‹é—´é€šè®¯ï¼Œé‡‡ç”¨å†…ç½‘


    5ã€ç¨‹åºå‡ºé”™æˆ–è€…å¼‚å¸¸: å¤åˆ¶é”™è¯¯æ—¥å¿—å»ç™¾åº¦æœç´¢ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šäººä¼šé‡åˆ°ç±»ä¼¼çš„é”™è¯¯ï¼Œå¤šç§¯ç´¯ï¼Œç‰¹åˆ«å¼ºè°ƒ







2ã€è¯¾ç¨‹æ€»ç»“å’Œåç»­æŠ€æœ¯è§„åˆ’
ç®€ä»‹ï¼šæ€»ç»“SpringCloudè¯¾ç¨‹å’Œå¾®æœåŠ¡åç»­è¯¾ç¨‹è§„åˆ’

    1ã€springCloudå…¨å®¶æ¡¶ï¼ŒæŠ€æœ¯é€‰æ‹©å’ŒçŸ¥è¯†ç‚¹ç‰¹åˆ«å¤šï¼Œä¸€å®šè¦å­¦ä¼šè®°ç¬”è®°ï¼Œå¾®æœåŠ¡æ›´å¤šå…³æ³¨çš„æ˜¯é‡Œé¢æ¶æ„å’Œæ•°æ®æµè½¬ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ä¸šåŠ¡ã€‚

    2ã€SpringCloudæ¶æ„è¿™äº›é…ç½®ï¼Œä¸€èˆ¬ä½¿ç”¨ä¸€æ¬¡åå°±ä¸ä¼šå¤šæ¬¡ä¿®æ”¹äº†ï¼Œè¿›å…¥å…¬å¸ä¸»è¦è¿˜æ˜¯å¼€å‘ä¸šåŠ¡ï¼Œä¸šåŠ¡å¼€å‘ä¸€èˆ¬éƒ½ç”¨springbootï¼Œæ¯”è¾ƒå°‘è®©æ–°äººæ­å»ºSpringCloudçš„æ¶æ„


    3ã€å¼€å‘ä¸šåŠ¡ï¼Œæ— éå°±æ˜¯CRUDï¼Œå¢åˆ æ”¹æŸ¥ï¼Œåªä¸è¿‡æ˜¯åˆçº§å’Œé«˜çº§çš„åŒºåˆ«ï¼Œå°è£…æˆé€šç”¨å’Œä¸é€šç”¨çš„åŒºåˆ«
</code></pre><p>â€‹<br>â€‹        4ã€å¾®æœåŠ¡å’Œå®¹å™¨ç››è¡Œçš„æƒ…å†µä¸‹ï¼Œå®¹å™¨ç¼–æ’å’Œè‡ªåŠ¨ç¼©æ‰©å®¹è¶Šæ¥è¶Šé‡è¦<br>â€‹<br>â€‹            å¯ä»¥å…³æ³¨ï¼šk8s / service mesh /server less ç­‰æŠ€æœ¯</p>
<p>â€‹<br>â€‹        æ€»ç»“ï¼š<br>â€‹            1ï¼‰åç»­ä¼šæ¨å‡ºå¯¹åº”çš„è¯¾ç¨‹ï¼Œè¿˜æœ‰é¡¹ç›®å®æˆ˜ç³»åˆ—ï¼Œå¤§å®¶è®°å¾—å…³æ³¨ å°Dè¯¾å ‚ï¼Œå®˜ç½‘ ï¼š<a href="https://xdclass.net" target="_blank" rel="noopener">https://xdclass.net</a>,<br>â€‹<br>â€‹            2ï¼‰ä¹Ÿå¯ä»¥åŠ æˆ‘å¾®ä¿¡äº¤æµï¼š jack794666918<br>â€‹<br>            3ï¼‰è´­ä¹°å¯¹åº”çš„è¯¾ç¨‹åï¼Œè®°å¾—è¿›æˆ‘ä»¬å°Dè¯¾å ‚å®˜æ–¹çš„äº¤æµç¾¤ï¼Œæˆ‘ä¼šåœ¨é‡Œé¢åˆ†äº«ä¸»æµæŠ€æœ¯å’Œç­”ç–‘ï¼Œé¢è¯•ç»éªŒç­‰ç­‰ï¼Œè¿˜ä¼šåŒæ­¥æ›´æ–°èµ„æ–™å’Œè¿˜è¶…çº§å¹²è´§åˆ†äº« </p>
<p>=============================================</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/09/å¼€å‘é‡åˆ°çš„é—®é¢˜/å¸¸è§é—®é¢˜æ€»ç»“/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/09/å¼€å‘é‡åˆ°çš„é—®é¢˜/å¸¸è§é—®é¢˜æ€»ç»“/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-09T17:14:16+08:00">
                2018-11-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>å‰ç«¯å‘åç«¯ä¼ å€¼ï¼š</p>
<ul>
<li><p>Button å’Œform</p>
</li>
<li><ul>
<li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goUpdatePage</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">"$&#123;pageContext.request.contextPath&#125;/user/editcontroller?id="</span> + id;</span><br><span class="line">&#125;      </span><br><span class="line"> &lt;button type=<span class="string">"button"</span> onclick=<span class="string">"goUpdatePage($&#123;user.id&#125;)"</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span></span>=<span class="string">"btn btn-primary btn-xs"</span>&gt;</span><br><span class="line">    &lt;i</span><br><span class="line">            <span class="class"><span class="keyword">class</span></span>=<span class="string">" glyphicon glyphicon-pencil"</span>&gt;&lt;/i&gt;&lt;/button&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å¼€å‘ä¸­serviceå±‚ å¿…é¡»è¦å†™ @serviceæ³¨è§£</p>
</li>
<li><p>âš ï¸serviceä¸­ä¸è¦åŠ @serviceã€‚åœ¨serviceçš„å®ç°serviceimlä¸­åŠ @serviceæ³¨è§£</p>
</li>
<li><p>å¼€å‘çš„é¡ºåº ä»å‰ç«¯ä¼ å€¼åˆ°Controller å†åˆ° service å†åˆ°serviceimpl å†åˆ°userdao å†åˆ°mybatis.xmlå†åˆ°æ•°æ®åº“ æ•°æ®åº“è¿”å›å‰ç«¯é¡µé¢</p>
</li>
<li><p>å¼•å…¥mybatis çš„å¤šä¸ªmapperçš„é…ç½®æ–‡ä»¶ mapper.xml  Spring Boot çš„æ–¹å¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mybatis.mapper-locations=classpath:mybatis/mapper/*.xml</span><br></pre></td></tr></table></figure>
</li>
<li><p>###ideaè­¦å‘Šï¼šField injection is not recommended</p>
</li>
<li><p>####Springbootå¼€å‘ Daoä¸­UserDao RoleDaoä¸­è¦åŠ  @Mapperæ³¨è§£</p>
<p># </p>
</li>
<li><h1 id=""><a href="#" class="headerlink" title=""></a><img src="/Users/apple/Desktop/å±å¹•å¿«ç…§ 2018-11-14 ä¸‹åˆ1.19.50.png" alt="å±å¹•å¿«ç…§ 2018-11-14 ä¸‹åˆ1.19.50"></h1></li>
<li><p>importå’Œopené¡¹ç›®æ˜¯ä¸ä¸€æ ·çš„ å‡ºç°ä¸Šé¢çš„æƒ…å†µè¦importä¸€ä¸‹å•Š å…„ide</p>
</li>
<li><h3 id="Caused-by-org-apache-ibatis-type-TypeException-Could-not-resolve-type-alias-â€˜BaseResultMapâ€™"><a href="#Caused-by-org-apache-ibatis-type-TypeException-Could-not-resolve-type-alias-â€˜BaseResultMapâ€™" class="headerlink" title="Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias â€˜BaseResultMapâ€™"></a>Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias â€˜BaseResultMapâ€™</h3></li>
<li><p>Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Ca</p>
<blockquote>
<p> çœ‹åˆ°é‚£ä¸ª<strong>resultType</strong>äº†ä¹ˆï¼Œå°±æ˜¯å®ƒæƒ¹çš„ç¥¸ï¼Œè¿™é‡ŒæŠŠ<strong>resultType</strong>æ”¹ä¸º<strong>resultMap</strong>å°±OKå•¦ï¼Œé‡å¯tomcatï¼Œæœ¨æœ‰å¼‚å¸¸å•¦</p>
</blockquote>
</li>
</ul>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181114135152950.png" alt="image-20181114135152950"></p>
<blockquote>
<p>è·³è½¬è§†å›¾ ç”¨å­—ç¬¦ä¸²å“ˆ </p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181117115951176.png" alt="image-20181117115951176"></p>
<p>å¼€å‘ä¸­å‰ç«¯çš„imgè¦æ”¾åˆ°å’Œæ¡†æ¶çš„åŒä¸€ç›®å½•åŠä¸‹é¢å“ˆã€‚å…„die</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/09/å¼€å‘é‡åˆ°çš„é—®é¢˜/Iterm2é…ç½®/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/09/å¼€å‘é‡åˆ°çš„é—®é¢˜/Iterm2é…ç½®/" itemprop="url">ITerm2çš„é…ç½®</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-09T09:58:44+08:00">
                2018-11-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ITerm2çš„é…ç½®é—®é¢˜"><a href="#ITerm2çš„é…ç½®é—®é¢˜" class="headerlink" title="ITerm2çš„é…ç½®é—®é¢˜"></a>ITerm2çš„é…ç½®é—®é¢˜</h2><h1 id="æ¯æ¬¡vimçš„æ—¶å€™ä¸€å®šè¦sourceä¸€ä¸‹-å•Š-xiong-die"><a href="#æ¯æ¬¡vimçš„æ—¶å€™ä¸€å®šè¦sourceä¸€ä¸‹-å•Š-xiong-die" class="headerlink" title="æ¯æ¬¡vimçš„æ—¶å€™ä¸€å®šè¦sourceä¸€ä¸‹ å•Š xiong die"></a>æ¯æ¬¡vimçš„æ—¶å€™ä¸€å®šè¦sourceä¸€ä¸‹ å•Š xiong die</h1><blockquote>
<p>å­¦ä¹ èµ„æº</p>
<p><a href="https://www.jianshu.com/p/9c3439cc3bdb" target="_blank" rel="noopener">https://www.jianshu.com/p/9c3439cc3bdb</a> ç®€ä¹¦</p>
<p><a href="https://github.com/sirius1024/iterm2-with-oh-my-zsh" target="_blank" rel="noopener">https://github.com/sirius1024/iterm2-with-oh-my-zsh</a> Github</p>
<p><a href="https://www.cnblogs.com/xishuai/p/mac-iterm2.html" target="_blank" rel="noopener">https://www.cnblogs.com/xishuai/p/mac-iterm2.html</a> åšå®¢å›­</p>
<p><a href="https://blog.csdn.net/z3512498/article/details/51245853" target="_blank" rel="noopener">https://blog.csdn.net/z3512498/article/details/51245853</a> CSDN æ”¹å˜ç”¨æˆ·å </p>
<blockquote>
<p>å¿…é¡»è¦ä½¿ç”¨vimçš„å‘½ä»¤ä¿®æ”¹é…ç½®</p>
</blockquote>
</blockquote>
<h3 id="å¸¸è§çš„å‘½ä»¤"><a href="#å¸¸è§çš„å‘½ä»¤" class="headerlink" title="å¸¸è§çš„å‘½ä»¤"></a>å¸¸è§çš„å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.zshrc</span><br><span class="line">source ~/.zshrc  ï¼ˆsoucreé…ç½®æ–‡ä»¶ è®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼‰</span><br><span class="line">æ–‡ä»¶æ”¾åœ¨itermgitä¸‹é¢ å¿…é¡»è¦åœ¨ä¸»é¢˜å¯ä»¥ä½¿ç”¨çš„æƒ…å†µä¸‹ è¿›è¡Œä»¥ä¸Šçš„é…ç½®</span><br><span class="line">å¿«æ·é”®å†²çª å–è¯ copyå¤±æ•ˆ</span><br></pre></td></tr></table></figure>
<h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><ul>
<li>å®‰è£…å®Œæˆåï¼Œåœ¨/binç›®å½•ä¸‹ä¼šå¤šå‡ºä¸€ä¸ªzshçš„æ–‡ä»¶ã€‚</li>
</ul>
<p>Macç³»ç»Ÿé»˜è®¤ä½¿ç”¨dashä½œä¸ºç»ˆç«¯ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ä¿®æ”¹é»˜è®¤ä½¿ç”¨zshï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³ä¿®æ”¹å›é»˜è®¤dashï¼ŒåŒæ ·ä½¿ç”¨chshå‘½ä»¤å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/bash</span><br></pre></td></tr></table></figure>
<p>export MAVEN_HOME=/Java/apache-maven-3.5.4 </p>
<p>export PATH=${PATH}:${MAVEN_HOME}/bin </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/08/Docker/Docker-web/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/Docker/Docker-web/" itemprop="url">docker-web</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-08T10:20:30+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p> å­¦ä¹ åœ°å€* <a href="https://www.imooc.com/video/14624ï¼ˆæ…•è¯¾ç½‘ï¼‰-6âƒ£åˆ˜æœå›½" target="_blank" rel="noopener">https://www.imooc.com/video/14624ï¼ˆæ…•è¯¾ç½‘ï¼‰-6âƒ£åˆ˜æœå›½</a></p>
</blockquote>
<p>#ç¬¬ä¸€ä¸ª java webé¡¹ç›® ï¼ˆSpringBoot é¡¹ç›®æ‰“åŒ…æˆä¸€ä¸ªwaråŒ…çš„æ–¹å¼ï¼‰</p>
<h3 id="ä¸€åˆ¶ä½œè‡ªå·±çš„æ™¯è±¡"><a href="#ä¸€åˆ¶ä½œè‡ªå·±çš„æ™¯è±¡" class="headerlink" title="ä¸€åˆ¶ä½œè‡ªå·±çš„æ™¯è±¡"></a>ä¸€åˆ¶ä½œè‡ªå·±çš„æ™¯è±¡</h3><ul>
<li><p>Dockerfile</p>
</li>
<li><p>docker build</p>
<hr>
<ul>
<li>é¦–å…ˆéœ€è¦ä¸€ä¸ªwaræ–‡ä»¶ æ‹·è´åœ¨æ¡Œé¢ä¸Š</li>
</ul>
<blockquote>
<p>Docker images</p>
</blockquote>
</li>
</ul>
<h5 id="1-å»ºç«‹ä¸€ä¸ªDockerfile"><a href="#1-å»ºç«‹ä¸€ä¸ªDockerfile" class="headerlink" title="1.å»ºç«‹ä¸€ä¸ªDockerfile"></a>1.å»ºç«‹ä¸€ä¸ªDockerfile</h5><blockquote>
<p>vim Dockerfile</p>
</blockquote>
<h6 id="2-ä¸‹è½½Tomcaté•œåƒ"><a href="#2-ä¸‹è½½Tomcaté•œåƒ" class="headerlink" title="2. ä¸‹è½½Tomcaté•œåƒ"></a>2. ä¸‹è½½Tomcaté•œåƒ</h6><blockquote>
<p>ç½‘æ˜“é•œåƒä¸­å¿ƒ æ‰¾Tomcatçš„é•œåƒ <a href="https://c.163yun.com/hub#/m/home/" target="_blank" rel="noopener">https://c.163yun.com/hub#/m/home/</a></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108171728002.png" alt="image-20181108171728002"></p>
</blockquote>
<p>ï¼ˆåŒ…æ‹¬JDK Tomcatï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull hub.c.163.com/library/tomcat:latest</span><br></pre></td></tr></table></figure>
<p> <img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108172737831.png" alt="image-20181108172737831"></p>
<p>ç«™åœ¨å·¨äººçš„è‚©ä¸Š</p>
<h5 id="3-ç¼–è¾‘Dockerfile"><a href="#3-ç¼–è¾‘Dockerfile" class="headerlink" title="3.ç¼–è¾‘Dockerfile"></a>3.ç¼–è¾‘Dockerfile</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åœ¨Macç»ˆç«¯ä¸­ä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶æ­¥éª¤</span><br><span class="line">1.  cd   æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹è·¯å¾„  &lt;å›è»Š&gt;</span><br><span class="line">2. è¼¸å…¥  vim æ–‡ä»¶å &lt;å›è»Š&gt;</span><br><span class="line">3. æŒ‰ä¸‹ i éµä¾†ç¼–è¾‘æ–‡æœ¬æ–‡å­—</span><br><span class="line">4. é€€å‡ºvimç·¨è¼¯å™¨ï¼š</span><br><span class="line">     ä¸ä¿å­˜å¹¶é€€å‡º  &lt;ESC&gt;   :q!   &lt;å›è»Š&gt;</span><br><span class="line">     ä¿å­˜å¹¶é€€å‡º     &lt;ESC&gt;   :wq   &lt;å›è»Š&gt;</span><br></pre></td></tr></table></figure>
<p>from hub.c.163.com/library/tomcat</p>
<p>MAINTAINER Freemana2017 <a href="mailto:1047629166@qq.com" target="_blank" rel="noopener">1047629166@qq.com</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /Users/apple/Desktop/Dockerweb</span><br><span class="line">ls</span><br><span class="line">&gt; mv atcrodfunding3_ssm-0.0.1-SNAPSHOT.war atcrod.war</span><br><span class="line">mv atcrodfunding3_ssm-0.0.1-SNAPSHOT.war atcrod.war (ç”¨MV é‡æ–°å‘½åä¸€ä¸‹)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>è¿›å…¥æ–‡ä»¶å¤¹é‡Œé¢ ç¼–å†™Dockerfile</p>
</li>
<li><p>å­¦ä¼šçœ‹é•œåƒçš„è¯´æ˜</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">How to use this image.</span><br><span class="line"></span><br><span class="line">Run the default Tomcat server (CMD [\&quot;catalina.sh\&quot;, \&quot;run\&quot;]):</span><br><span class="line"></span><br><span class="line">$ docker run -it --rm tomcat:8.0</span><br><span class="line">You can test it by visiting http://container-ip:8080 in a browser or, if you need access outside the host, on port 8888:</span><br><span class="line"></span><br><span class="line">$ docker run -it --rm -p 8888:8080 tomcat:8.0</span><br><span class="line">You can then go to http://localhost:8888 or http://host-ip:8888 in a browser.</span><br><span class="line"></span><br><span class="line">The default Tomcat environment in the image for versions 7 and 8 is:</span><br><span class="line"></span><br><span class="line">â­ï¸CATALINA_BASE:   /usr/local/tomcat</span><br><span class="line">â­ï¸CATALINA_HOME:   /usr/local/tomcat</span><br><span class="line">CATALINA_TMPDIR: /usr/local/tomcat/temp</span><br><span class="line">JRE_HOME:        /usr</span><br><span class="line">CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="1ã€‚ç¼–å†™Dockerfile-æ–‡ä»¶â€“Dockerfile"><a href="#1ã€‚ç¼–å†™Dockerfile-æ–‡ä»¶â€“Dockerfile" class="headerlink" title="1ã€‚ç¼–å†™Dockerfile æ–‡ä»¶â€“Dockerfile"></a>1ã€‚ç¼–å†™Dockerfile æ–‡ä»¶â€“Dockerfile</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from hub.c.163.com/library/tomcat</span><br><span class="line"></span><br><span class="line">MAINTAINER Freemana2017 1047629166@qq.com</span><br><span class="line"></span><br><span class="line">COPY atcrod.war /usr/local/tomcat/webapps</span><br></pre></td></tr></table></figure>
<h3 id="2-åˆ›å»ºé•œåƒ-â€“docker-build"><a href="#2-åˆ›å»ºé•œåƒ-â€“docker-build" class="headerlink" title="2.åˆ›å»ºé•œåƒ â€“docker build"></a>2.åˆ›å»ºé•œåƒ â€“docker build</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108174858497.png" alt="image-20181108174858497"></p>
<h3 id="3-æŸ¥çœ‹é•œåƒâ€“docker-images"><a href="#3-æŸ¥çœ‹é•œåƒâ€“docker-images" class="headerlink" title="3.æŸ¥çœ‹é•œåƒâ€“docker images"></a>3.æŸ¥çœ‹é•œåƒâ€“docker images</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108174929561.png" alt="image-20181108174929561"></p>
<h2 id="4-ç»™é•œåƒå†™åå­—-docker-build-t-atcrod-latest"><a href="#4-ç»™é•œåƒå†™åå­—-docker-build-t-atcrod-latest" class="headerlink" title="4.ç»™é•œåƒå†™åå­— docker build -t atcrod:latest ."></a>4.ç»™é•œåƒå†™åå­— docker build -t atcrod:latest .</h2><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108175158795.png" alt="image-20181108175158795"></p>
<h3 id="5-å†æ¬¡æŸ¥çœ‹é•œåƒ-docker-images"><a href="#5-å†æ¬¡æŸ¥çœ‹é•œåƒ-docker-images" class="headerlink" title="5.å†æ¬¡æŸ¥çœ‹é•œåƒ docker images"></a>5.å†æ¬¡æŸ¥çœ‹é•œåƒ docker images</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108175309803.png" alt="image-20181108175309803"></p>
<hr>
<hr>
<hr>
<hr>
<h1 id="äºŒè¿è¡Œè‡ªå·±çš„å®¹å™¨"><a href="#äºŒè¿è¡Œè‡ªå·±çš„å®¹å™¨" class="headerlink" title="###äºŒè¿è¡Œè‡ªå·±çš„å®¹å™¨"></a>###äºŒè¿è¡Œè‡ªå·±çš„å®¹å™¨</h1><h3 id="1-docker-run-d-p-8888-8080-atcrod"><a href="#1-docker-run-d-p-8888-8080-atcrod" class="headerlink" title="1.docker run -d -p 8888:8080 atcrod"></a>1.docker run -d -p 8888:8080 atcrod</h3><blockquote>
<p>8888æœ¬æœºçš„ç«¯å£å·ã€‚8080Tomcatçš„ç«¯å£å· å»163.comæŸ¥è¯¢ atcrodé•œåƒçš„åå­—</p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108175738036.png" alt="image-20181108175738036"></p>
<h4 id="2-docker-ps"><a href="#2-docker-ps" class="headerlink" title="2.docker ps"></a>2.docker ps</h4><blockquote>
<p>æŸ¥çœ‹Tomcatçš„è¿›ç¨‹ æ£€æŸ¥å®¹å™¨æ˜¯ä¸æ˜¯å¯åŠ¨å•¦</p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108175751244.png" alt="image-20181108175751244"></p>
<h3 id="3-netstat-na-grep-8888"><a href="#3-netstat-na-grep-8888" class="headerlink" title="3.netstat -na|grep 8888"></a>3.netstat -na|grep 8888</h3><blockquote>
<p>æ£€æŸ¥ç«¯å£æ˜¯ä¸æ˜¯å­˜åœ¨äº†  è¾“å…¥localhost:8888æµ‹è¯•Tomcatæ˜¯å¦å¯åŠ¨å•¦</p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108180034419.png" alt="image-20181108180034419"></p>
<hr>
<hr>
<hr>
<hr>
<hr>
<h1 id="âš ï¸-ä»¥ä¸Šåªæ˜¯webé¡¹ç›®åœ¨Dockerä¸­çš„éƒ¨ç½²é¡¹ç›®"><a href="#âš ï¸-ä»¥ä¸Šåªæ˜¯webé¡¹ç›®åœ¨Dockerä¸­çš„éƒ¨ç½²é¡¹ç›®" class="headerlink" title="âš ï¸ ä»¥ä¸Šåªæ˜¯webé¡¹ç›®åœ¨Dockerä¸­çš„éƒ¨ç½²é¡¹ç›®"></a>âš ï¸ ä»¥ä¸Šåªæ˜¯webé¡¹ç›®åœ¨Dockerä¸­çš„éƒ¨ç½²é¡¹ç›®</h1><h1 id="3-Docker-éƒ¨ç½²SpringBoot-webé¡¹ç›®"><a href="#3-Docker-éƒ¨ç½²SpringBoot-webé¡¹ç›®" class="headerlink" title="3.Docker éƒ¨ç½²SpringBoot webé¡¹ç›®"></a>3.Docker éƒ¨ç½²SpringBoot webé¡¹ç›®</h1><blockquote>
<p>å­¦ä¹ èµ„æºæ±‡æ€»</p>
<p><a href="http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html" target="_blank" rel="noopener">http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html</a></p>
<p><a href="https://blog.csdn.net/weixin_39800144/article/details/79214978" target="_blank" rel="noopener">https://blog.csdn.net/weixin_39800144/article/details/79214978</a></p>
<p><a href="https://blog.csdn.net/weixin_39800144/article/details/79213276" target="_blank" rel="noopener">https://blog.csdn.net/weixin_39800144/article/details/79213276</a></p>
<p><a href="https://bingohuang.com/spring-boot-docker/" target="_blank" rel="noopener">https://bingohuang.com/spring-boot-docker/</a></p>
</blockquote>
<blockquote>
<p>FROM java:8</p>
<p>VOLUME /tmp</p>
<p>COPY target/tran4spd-1.0-SNAPSHOT.jar resource.jar.   #è¿™è¾¹æ”¾çš„æ˜¯Dockeréƒ¨ç½²çš„jaråŒ…çš„ä½ç½® ç»å¯¹è·¯å¾„</p>
<p>RUN bash -c â€œtouch /resource.jarâ€</p>
<p>EXPOSE 8080</p>
<p>ENTRYPOINT [â€œjavaâ€,â€-jarâ€,â€resource.jarâ€]</p>
<p># docker run -d -p 18080:8099 â€“name docker-resource leesia/resource:1.0</p>
</blockquote>
<p> æ³¨æ„java-jaræ— æ³•è¿è¡ŒTomcatè¦å¤–ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.5&lt;/version&gt;</span><br><span class="line">    &lt;scope&gt;provided&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>##æ–‡ä»¶è·¯å¾„ä¸è¦ç”¨ä¸­æ–‡ï¼ï¼ï¼</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/07/Docker/Docker-SpringBoot/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/07/Docker/Docker-SpringBoot/" itemprop="url">Docker SpringBoot</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-07T18:04:37+08:00">
                2018-11-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/SpringBoot/" itemprop="url" rel="index">
                    <span itemprop="name">SpringBoot</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="DockerMachineåº”ç”¨"><a href="#DockerMachineåº”ç”¨" class="headerlink" title="DockerMachineåº”ç”¨"></a>DockerMachineåº”ç”¨</h2><h4 id="æ³¨æ„æ•´ä¸ªè¿‡ç¨‹è¦ç­‰å¾…ä¸€ä¸‹"><a href="#æ³¨æ„æ•´ä¸ªè¿‡ç¨‹è¦ç­‰å¾…ä¸€ä¸‹" class="headerlink" title="æ³¨æ„æ•´ä¸ªè¿‡ç¨‹è¦ç­‰å¾…ä¸€ä¸‹"></a>æ³¨æ„æ•´ä¸ªè¿‡ç¨‹è¦ç­‰å¾…ä¸€ä¸‹</h4><blockquote>
<p>å‚è€ƒ<a href="https://study.163.com/course/courseLearn.htm?courseId=1002892012#/learn/video?lessonId=1003309140&amp;courseId=1002892012" target="_blank" rel="noopener">https://study.163.com/course/courseLearn.htm?courseId=1002892012#/learn/video?lessonId=1003309140&amp;courseId=1002892012</a></p>
<p>ç½‘æ˜“äº‘è¯¾å ‚ åŠ¨æ‰‹ç©Docker</p>
</blockquote>
<ul>
<li>å®‰è£…DockerMachine</li>
<li>docker-machine ls    tcp://192.168.99.100:2376   nameï¼šcloudcomb</li>
</ul>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107181833492.png" alt="image-20181107181833492"></p>
<ul>
<li><p>docker-machine create â€“driver virtualbox cloudcomb </p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107181903652.png" alt="image-20181107181903652"></p>
</li>
<li><p>Docker-machine env cloudcomb</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107182121568.png" alt="image-20181107182121568"></p>
</li>
</ul>
<p>âš ï¸ç¬¬å››ä¸ªå˜é‡evalè¯´çš„æ˜¯å½“å‰Dockermachineçš„åå­—æ˜¯â€”cloudcomb</p>
<ul>
<li><p>eval $(docker-machine env cloudcomb) æ‹·è´æ”¾åˆ°åº•ä¸‹</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107182325486.png" alt="image-20181107182325486"></p>
</li>
<li><p>ä½¿ç”¨ç½‘æ˜“èœ‚å·¢</p>
</li>
<li><p>Docker run hub.c163.com/library/busybox:latest echon hello world ï¼ˆunableã€‚ã€‚è¿™ä¸ªè¿‡ç¨‹è¦ç­‰å¾…å•Šï¼‰â­ï¸</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107182746194.png" alt="image-20181107182746194"></p>
</li>
<li><p>docker-machine rm cloudcomb åˆ é™¤docker-machine</p>
</li>
</ul>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107182909832.png" alt="image-20181107182909832"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107183004383.png" alt="image-20181107183004383"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107183018420.png" alt="image-20181107183018420"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107183034881.png" alt="image-20181107183034881"></p>
<h1 id="SpringBootæ•´åˆDocker"><a href="#SpringBootæ•´åˆDocker" class="headerlink" title="SpringBootæ•´åˆDocker"></a>SpringBootæ•´åˆDocker</h1><blockquote>
<p>Emmmm.ç­‰æˆ‘æœ‰é’±äº† æŠŠXnipå»æ‰å“ˆå“ˆ</p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107183409783.png" alt="image-20181107183409783"></p>
<ul>
<li><p>ä¸‹è½½æºç <a href="https://github.com/bingohuang/spring-boot-docker" target="_blank" rel="noopener">https://github.com/bingohuang/spring-boot-docker</a></p>
<blockquote>
<p>Git é€šè¿‡å‘½ä»¤è¡Œä¸‹è½½æ–‡ä»¶ å…ˆcdä¸€ä¸‹æŒ‡å®šä¸€ä¸‹ä¸‹è½½çš„è·¯å¾„</p>
</blockquote>
</li>
<li><p>å¯¼å…¥é¡¹ç›®åˆ°Idea ç„¶åæŸ¥çœ‹ä¸€ä¸‹æºç </p>
</li>
<li><p>è¿è¡Œä¸€ä¸‹é¡¹ç›®ï¼ˆè®¿é—®ä¸€ä¸‹ æµ‹è¯•ä¸€ä¸‹ï¼‰</p>
<h2 id="Docker-SpringBootéƒ¨ç½²é¡¹ç›®"><a href="#Docker-SpringBootéƒ¨ç½²é¡¹ç›®" class="headerlink" title="Docker SpringBootéƒ¨ç½²é¡¹ç›®"></a>Docker SpringBootéƒ¨ç½²é¡¹ç›®</h2></li>
</ul>
<p>â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸</p>
<h3 id="1-installé¡¹ç›®"><a href="#1-installé¡¹ç›®" class="headerlink" title="1.installé¡¹ç›®"></a>1.installé¡¹ç›®</h3><p>  <img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107185602118.png" alt="image-20181107185602118"></p>
<blockquote>
<p>æ‰¾åˆ°è¿™ä¸¤ä¸ªæ–‡ä»¶ æ”¾åˆ°æ¡Œé¢ä¸Š</p>
</blockquote>
<h3 id="2-å°†è¿™ä¸¤ä¸ªé¡¹ç›®æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸‹ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå¥½åƒè¦æŠŠjaræ”¹åæˆgs-spring-boot-docker-0-0-1-jar"><a href="#2-å°†è¿™ä¸¤ä¸ªé¡¹ç›®æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸‹ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå¥½åƒè¦æŠŠjaræ”¹åæˆgs-spring-boot-docker-0-0-1-jar" class="headerlink" title="2.å°†è¿™ä¸¤ä¸ªé¡¹ç›®æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸‹ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå¥½åƒè¦æŠŠjaræ”¹åæˆgs-spring-boot-docker-0.0.1.jar"></a>2.å°†è¿™ä¸¤ä¸ªé¡¹ç›®æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸‹ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå¥½åƒè¦æŠŠjaræ”¹åæˆgs-spring-boot-docker-0.0.1.jar</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107191351622.png" alt="image-20181107191351622"></p>
<h3 id="3-cdåˆ°æ–‡ä»¶ä¸‹-lsä¸€ä¸‹"><a href="#3-cdåˆ°æ–‡ä»¶ä¸‹-lsä¸€ä¸‹" class="headerlink" title="3.cdåˆ°æ–‡ä»¶ä¸‹ lsä¸€ä¸‹"></a>3.cdåˆ°æ–‡ä»¶ä¸‹ lsä¸€ä¸‹</h3><h3 id="4-æ‰§è¡Œ-Ë›docker-version"><a href="#4-æ‰§è¡Œ-Ë›docker-version" class="headerlink" title="4.æ‰§è¡Œ  Ë›docker version"></a>4.æ‰§è¡Œ  Ë›docker version</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107191444666.png" alt="image-20181107191444666"></p>
<h3 id="5-æ‰§è¡Œ-docker-machine-env"><a href="#5-æ‰§è¡Œ-docker-machine-env" class="headerlink" title="5.æ‰§è¡Œ docker-machine env"></a>5.æ‰§è¡Œ docker-machine env</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107191515590.png" alt="image-20181107191515590"></p>
<h3 id="6-æ‰§è¡Œeval-docker-machine-env-ï¼ˆå¤åˆ¶åé¢çš„ç¬¬å››æ¡ï¼‰"><a href="#6-æ‰§è¡Œeval-docker-machine-env-ï¼ˆå¤åˆ¶åé¢çš„ç¬¬å››æ¡ï¼‰" class="headerlink" title="6.æ‰§è¡Œeval $(docker-machine env)ï¼ˆå¤åˆ¶åé¢çš„ç¬¬å››æ¡ï¼‰"></a>6.æ‰§è¡Œeval $(docker-machine env)ï¼ˆå¤åˆ¶åé¢çš„ç¬¬å››æ¡ï¼‰</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107191547911.png" alt="image-20181107191547911"></p>
<p>tcp://192.168.99.100:2376192.168.99.100</p>
<p> tcp://127.0.0.1:2376 tcp://127.0.0.1:2376</p>
<p>###7.docker versionï¼ˆæ²¡æœ‰-ï¼‰</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107191658043.png" alt="image-20181107191658043"></p>
<h3 id="8-lsä¸€ä¸‹ç›®å½•"><a href="#8-lsä¸€ä¸‹ç›®å½•" class="headerlink" title="8.lsä¸€ä¸‹ç›®å½•"></a>8.lsä¸€ä¸‹ç›®å½•</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107191730046.png" alt="image-20181107191730046"></p>
<h3 id="9-docker-build-t-cloudcomb-sun-1-0"><a href="#9-docker-build-t-cloudcomb-sun-1-0" class="headerlink" title="9.docker build -t cloudcomb/sun:1.0 ."></a>9.docker build -t cloudcomb/sun:1.0 .</h3><blockquote>
<p> ï¼ˆæ¡Œé¢ä¸Šè¦æœ‰jaråŒ…å’Œdockerfilede æ–‡ä»¶ï¼‰</p>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107191826890.png" alt="image-20181107191826890"></p>
<blockquote>
<p>æ­¤æ—¶æŠ¥é”™ æ²¡æœ‰gs-spring-boot-docker.jaræ–‡ä»¶ å…¶å®lsçš„æ—¶å€™å°±åº”è¯¥æ˜¯gs-spring-boot-docker.jar è¿™å„¿æ˜¯ä¸ªbugã€‚</p>
<p>è§£å†³åŠæ³• æ”¹jaråŒ…å æ·»åŠ gså‰ç¼€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://docker.mirrors.ustc.edu.cn</span><br></pre></td></tr></table></figure>
<h3 id="10ã€‚docker-build-t-cloudcomb-sun-1-0-ï¼ˆå¤§ä½¬è¯´è¿™ä¸€æ­¥æ˜¯æ‹‰å–é•œåƒã€‚ç”¨åŠ é€Ÿå™¨-æ”¹ååé‡æ–°æ‰§è¡Œå‘½ä»¤ï¼‰æˆ‘ä»¬å¯ä»¥ç”¨å¤§ä½¬ç½‘æ˜“äº‘çš„Dokceré•œåƒ"><a href="#10ã€‚docker-build-t-cloudcomb-sun-1-0-ï¼ˆå¤§ä½¬è¯´è¿™ä¸€æ­¥æ˜¯æ‹‰å–é•œåƒã€‚ç”¨åŠ é€Ÿå™¨-æ”¹ååé‡æ–°æ‰§è¡Œå‘½ä»¤ï¼‰æˆ‘ä»¬å¯ä»¥ç”¨å¤§ä½¬ç½‘æ˜“äº‘çš„Dokceré•œåƒ" class="headerlink" title="10ã€‚docker build -t cloudcomb/sun:1.0 .ï¼ˆå¤§ä½¬è¯´è¿™ä¸€æ­¥æ˜¯æ‹‰å–é•œåƒã€‚ç”¨åŠ é€Ÿå™¨ æ”¹ååé‡æ–°æ‰§è¡Œå‘½ä»¤ï¼‰æˆ‘ä»¬å¯ä»¥ç”¨å¤§ä½¬ç½‘æ˜“äº‘çš„Dokceré•œåƒ"></a>10ã€‚docker build -t cloudcomb/sun:1.0 .ï¼ˆå¤§ä½¬è¯´è¿™ä¸€æ­¥æ˜¯æ‹‰å–é•œåƒã€‚ç”¨åŠ é€Ÿå™¨ æ”¹ååé‡æ–°æ‰§è¡Œå‘½ä»¤ï¼‰æˆ‘ä»¬å¯ä»¥ç”¨å¤§ä½¬ç½‘æ˜“äº‘çš„Dokceré•œåƒ</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107192039326.png" alt="image-20181107192039326"></p>
<h3 id="11-docker-images-a"><a href="#11-docker-images-a" class="headerlink" title="11. docker images -a"></a>11. docker images -a</h3><p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107192154611.png" alt="image-20181107192154611"></p>
<h3 id="12-docker-run-p-1024-8080-t-cloudcomb-sun-1-0"><a href="#12-docker-run-p-1024-8080-t-cloudcomb-sun-1-0" class="headerlink" title="12.docker run -p 1024:8080 -t cloudcomb/sun:1.0 ."></a>12.docker run -p 1024:8080 -t cloudcomb/sun:1.0 .</h3><blockquote>
<p>æ³¨æ„ cloudcombå’Œå‰é¢çš„cloudcombè¦ä¸€ä¸€å¯¹åº”</p>
<p>1024 ä¸8080æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»</p>
<p>Error: Unable to access jarfile /app.jar</p>
<p>â­ï¸ ADD user-server-0.0.1-SNAPSHOT.jar app.jar è¦å’Œpomçš„<artifactid>user-server</artifactid></p>
<p>ä¿æŒåå­—ä¸€æ ·ï¼Œä¸ç„¶mavenæ‰“å‡ºæ¥çš„åŒ…ï¼Œdockeræ‰¾ä¸åˆ°ã€‚</p>
<ul>
<li>æœ€ç»ˆçš„ç»“å±€åŠæ³• å¥½åƒæ˜¯å°†copyå»æ‰äº† æ³¨æ„çœ‹æ§åˆ¶å°æ‰“å°çš„ä¿¡æ¯ å…„dei</li>
</ul>
</blockquote>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107192857396.png" alt="image-20181107192857396"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107193127019.png" alt="image-20181107193127019"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107193051806.png" alt="image-20181107193051806"></p>
<p>DockerFileï¼š</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107193402453.png" alt="image-20181107193402453"></p>
<blockquote>
<p>Dockerå°±æ˜¯ç»™ä¸€åå­— gs-spring-bbot</p>
</blockquote>
<p>è´´ä¸€ä¸ªDockerfilrã€‚</p>
<ul>
<li style="list-style: none"><input type="checkbox" checked> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">FROM hub.c.163.com/xbingo/jdk8:latest</span><br><span class="line"></span><br><span class="line">from hub.c.163.com/library/tomcat</span><br><span class="line"></span><br><span class="line">MAINTAINER Freemana2017 1047629166@qq.com</span><br><span class="line"></span><br><span class="line">ADD  atcrodfunding3_ssm-0.0.1-SNAPSHOT.jar app.jar</span><br><span class="line"></span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span><br><span class="line"></span><br><span class="line">COPY atcrod.war /usr/local/tomcat/webapps</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">#FROM openjdk:8-jdk-alpine</span><br><span class="line">#VOLUME /tmp</span><br><span class="line">#ADD  atcrodfunding3_ssm-0.0.1-SNAPSHOT.jar app.jar</span><br><span class="line">#ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span><br><span class="line">#</span><br><span class="line"> </span><br><span class="line">#FROM hub.c.163.com/xbingo/jdk8:latest</span><br><span class="line">#</span><br><span class="line">#ADD gs-spring-boot-docker-0.1.0.jar app.jar</span><br><span class="line">#</span><br><span class="line">#ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">#è¿™ä¸ª Dockerfile æ–‡ä»¶å¾ˆç®€å•ï¼Œæ„å»º Jdk åŸºç¡€ç¯å¢ƒï¼Œæ·»åŠ  Spring Boot Jar åˆ°é•œåƒä¸­ï¼Œç®€å•è§£é‡Šä¸€ä¸‹:</span><br><span class="line">#</span><br><span class="line">#FROM ï¼Œè¡¨ç¤ºä½¿ç”¨ Jdk8 ç¯å¢ƒ ä¸ºåŸºç¡€é•œåƒï¼Œå¦‚æœé•œåƒä¸æ˜¯æœ¬åœ°çš„ä¼šä» DockerHub è¿›è¡Œä¸‹è½½</span><br><span class="line">#VOLUME ï¼ŒVOLUME æŒ‡å‘äº†ä¸€ä¸ª/tmpçš„ç›®å½•ï¼Œç”±äº Spring Boot ä½¿ç”¨å†…ç½®çš„Tomcatå®¹å™¨ï¼ŒTomcat é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½•ã€‚è¿™ä¸ªå‘½ä»¤çš„æ•ˆæœæ˜¯ï¼š</span><br><span class="line">#åœ¨å®¿ä¸»æœºçš„/var/lib/dockerç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¹¶æŠŠå®ƒé“¾æ¥åˆ°å®¹å™¨ä¸­çš„/tmpç›®å½•</span><br><span class="line">#ADD ï¼Œæ‹·è´æ–‡ä»¶å¹¶ä¸”é‡å‘½å</span><br><span class="line">#ENTRYPOINT ï¼Œä¸ºäº†ç¼©çŸ­ Tomcat çš„å¯åŠ¨æ—¶é—´ï¼Œæ·»åŠ java.security.egdçš„ç³»ç»Ÿå±æ€§æŒ‡å‘/dev/urandomä½œä¸º ENTRYPOINT</span><br><span class="line">#è¿™æ · Spring Boot é¡¹ç›®æ·»åŠ  Docker ä¾èµ–å°±å®Œæˆäº†ã€‚</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<p>Dockerfile ç”¨çš„warè¦æœ‰Tomcat </p>
<p>è‡ªå·±ç†è§£å§ å¤šçœ‹ä¸€äº›è§†é¢‘ç¬”è®°ä»€ä¹ˆçš„ åæ­£å¾ˆéš¾,,,</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107184402451.png" alt="image-20181107184402451"></p>
<hr>
<hr>
<hr>
<h1 id="ä»¥ä¸Šçš„æ–‡ä»¶æ˜¯ä»githubä¸Šæ‹‰çš„-ç°åœ¨è‡ªå·±æ„å»ºSpringBoot-jarçš„åº”ç”¨"><a href="#ä»¥ä¸Šçš„æ–‡ä»¶æ˜¯ä»githubä¸Šæ‹‰çš„-ç°åœ¨è‡ªå·±æ„å»ºSpringBoot-jarçš„åº”ç”¨" class="headerlink" title="ä»¥ä¸Šçš„æ–‡ä»¶æ˜¯ä»githubä¸Šæ‹‰çš„ ç°åœ¨è‡ªå·±æ„å»ºSpringBoot -jarçš„åº”ç”¨"></a>ä»¥ä¸Šçš„æ–‡ä»¶æ˜¯ä»githubä¸Šæ‹‰çš„ ç°åœ¨è‡ªå·±æ„å»ºSpringBoot -jarçš„åº”ç”¨</h1><blockquote>
<p>é€šè¿‡ç¾¤é‡Œçš„æŒ‡å¯¼ ä¼°è®¡jaræ‰“åŒ…å’Œwaræ‰“åŒ…åŒºåˆ«ä¸å¤§å§</p>
<p>ä¸‹é¢é€šè¿‡SpringBootæ„å»ºDockeréƒ¨ç½²ä¸€ä¸‹è¯•è¯•</p>
<p><a href="https://waylau.com/docker-spring-boot/" target="_blank" rel="noopener">https://waylau.com/docker-spring-boot/</a></p>
<p><a href="http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html" target="_blank" rel="noopener">http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html</a></p>
<p><a href="https://lw900925.github.io/docker/docker-springboot.html" target="_blank" rel="noopener">https://lw900925.github.io/docker/docker-springboot.html</a></p>
<p><a href="https://www.tianmaying.com/tutorial/spring-boot-docker" target="_blank" rel="noopener">https://www.tianmaying.com/tutorial/spring-boot-docker</a></p>
</blockquote>
<blockquote>
<p><a href="https://bingohuang.com/spring-boot-docker/" target="_blank" rel="noopener">https://bingohuang.com/spring-boot-docker/</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.imooc.com/search/?words=docker" target="_blank" rel="noopener">https://www.imooc.com/search/?words=docker</a></p>
</blockquote>
<blockquote>
<p><a href="http://www.ityouknow.com/docker/2018/03/30/docker-machine.html" target="_blank" rel="noopener">http://www.ityouknow.com/docker/2018/03/30/docker-machine.html</a></p>
<p><a href="https://spring.io/guides/gs/spring-boot-docker/" target="_blank" rel="noopener">https://spring.io/guides/gs/spring-boot-docker/</a></p>
</blockquote>
<h2 id="SpringBoot-Docker"><a href="#SpringBoot-Docker" class="headerlink" title="SpringBoot Docker"></a>SpringBoot Docker</h2><blockquote>
<p><a href="https://lw900925.github.io/docker/docker-springboot.html" target="_blank" rel="noopener">https://lw900925.github.io/docker/docker-springboot.html</a></p>
</blockquote>
<p><a href="http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html" target="_blank" rel="noopener">http://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html</a> ä¸»è¦ç¯èŠ‚</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181110214317827.png" alt="image-20181110214317827"></p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181115165826700.png" alt="image-20181115165826700"></p>
<p>$ sudo docker tag [ImageId] ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·]<br>$ sudo docker push ccr.ccs.tencentyun.com/[namespace]/[ImageName]:[é•œåƒç‰ˆæœ¬å·]</p>
<p>â­ï¸</p>
<p> sudo docker tag 5fc4ede68fcd ccr.ccs.tencentyun.com/atcrod/latest</p>
<p> sudo docker push ccr.ccs.tencentyun.com/atcrod/latest</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/07/Docker/Docker-Idea/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/07/Docker/Docker-Idea/" itemprop="url">Docker-Idea</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-07T15:39:20+08:00">
                2018-11-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index">
                    <span itemprop="name">Docker</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###1.Docker åœ¨Intellijä¸­çš„ä½¿ç”¨</p>
<ul>
<li><p>Machineçš„å®‰è£…</p>
</li>
<li><p>composeçš„å®‰è£…</p>
</li>
<li><p>Dockerçš„é…ç½®</p>
<p><strong>é¦–å…ˆå­¦ä¹ ä»€ä¹ˆä¸œè¥¿éƒ½è¦ç”¨å®˜ç½‘çš„ä¸œè¥¿</strong></p>
<p><strong>å®‰è£…Dockerçš„æ’ä»¶-çœ‹ç½‘ä¸Šæ•™ç¨‹</strong></p>
<p><strong>çœ‹Dockeræ’ä»¶çš„å®˜ç½‘</strong> <a href="https://www.jetbrains.com/help/idea/docker.html" target="_blank" rel="noopener">hrer</a></p>
<blockquote>
<p>å­¦ä¹ è‹±æ–‡ã€‚ä»»ä½•ä¸œè¥¿å®˜ç½‘éƒ½ç”¨è¯¦ç»†è¯´æ˜çš„</p>
</blockquote>
<ul>
<li style="list-style: none"><input type="checkbox" checked> å­¦ä¹ Docker</li>
<li style="list-style: none"><input type="checkbox" checked> å­¦ä¹ SpringBootæ•´åˆDocker</li>
<li style="list-style: none"><input type="checkbox" checked> å­¦ä¹ è¿ç»´</li>
</ul>
<p><strong>ä¸‹é¢å¼€å§‹Dockerçš„å­¦ä¹ </strong></p>
<p>1.ç°åœ¨æ’ä»¶</p>
<p>2.çœ‹ç½‘å€çš„æ•™ç¨‹</p>
<p>3.å®‰è£…machinå’Œcompose</p>
<blockquote>
<p>machineå’Œcomposeçš„å®‰è£…å‚è€ƒ</p>
<p>1.Gitbookä¹¦</p>
<p><a href="https://yeasy.gitbooks.io/docker_practice/content/compose/install.html" target="_blank" rel="noopener">https://yeasy.gitbooks.io/docker_practice/content/compose/install.html</a></p>
<p>2ã€‚å®˜æ–¹æ–‡æ¡£ï¼ˆä¸ºä¸»ï¼‰</p>
<p><a href="https://docs.docker.com/machine/install-machine/" target="_blank" rel="noopener">https://docs.docker.com/machine/install-machine/</a> â­ï¸</p>
<p>ï¼ˆä¸ºä»€ä¹ˆæ¯æ¬¡éƒ½è¦é‡æ–°ä¸‹è½½dockermachineï¼‰</p>
</blockquote>
<blockquote>
<p>Docker-machine env ä¸èƒ½æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ é¦–å…ˆè¦ é‡æ–°ä¸‹è½½Dockermachihe</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">base=https://github.com/docker/machine/releases/download/v0.14.0 &amp;&amp;</span><br><span class="line">  curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/usr/local/bin/docker-machine &amp;&amp;</span><br><span class="line">  chmod +x /usr/local/bin/docker-machine</span><br></pre></td></tr></table></figure>
<blockquote>
<p>3.Github</p>
<p><a href="https://github.com/docker/machine/releases" target="_blank" rel="noopener">https://github.com/docker/machine/releases</a></p>
<p><a href="https://github.com/docker/machine" target="_blank" rel="noopener">https://github.com/docker/machine</a></p>
</blockquote>
<h1 id="2-æœ‰äº›ä¸œè¥¿æ”¾åœ¨äº†äº‘æ”¶è—é‡Œé¢"><a href="#2-æœ‰äº›ä¸œè¥¿æ”¾åœ¨äº†äº‘æ”¶è—é‡Œé¢" class="headerlink" title="2.æœ‰äº›ä¸œè¥¿æ”¾åœ¨äº†äº‘æ”¶è—é‡Œé¢"></a>2.æœ‰äº›ä¸œè¥¿æ”¾åœ¨äº†äº‘æ”¶è—é‡Œé¢</h1><h6 id="Dockerçš„ç”¨æˆ·åæ˜¯2018112"><a href="#Dockerçš„ç”¨æˆ·åæ˜¯2018112" class="headerlink" title="Dockerçš„ç”¨æˆ·åæ˜¯2018112"></a>Dockerçš„ç”¨æˆ·åæ˜¯2018112</h6><p>#####å®‰è£…Dockeræ’ä»¶è¦å¼€VPN è¿˜æœ‰è®¿é—®Gitbubä¹Ÿè¦å¼€VPN wiredesçš„</p>
<h6 id="å®‰è£…Dockerè¦å®‰è£…DookerToolBox"><a href="#å®‰è£…Dockerè¦å®‰è£…DookerToolBox" class="headerlink" title="å®‰è£…Dockerè¦å®‰è£…DookerToolBox"></a>å®‰è£…Dockerè¦å®‰è£…DookerToolBox</h6></li>
</ul>
<h1 id="3-Docker"><a href="#3-Docker" class="headerlink" title="3.Docker"></a>3.Docker</h1><p>  ï¼ï¼DockerçœŸæ˜¯ä¸€ä¸ªææ€–çš„ä¸œè¥¿</p>
<p>  ######Dockerçš„å­¦ä¹ èµ„æºGitBooké‡Œé¢çš„Dockerçš„é™„å½•éƒ¨åˆ†</p>
<blockquote>
<p><a href="https://blog.lab99.org/post/docker-2016-07-14-faq.html" target="_blank" rel="noopener">https://blog.lab99.org/post/docker-2016-07-14-faq.html</a></p>
</blockquote>
<h4 id="1-æ— ç‹¬æœ‰å¶é€šè¿‡Docker-SpirngBootçš„å­¦ä¹ äº†è§£äº†TCP-socker-Engine-API-URLçš„å¡«å†™"><a href="#1-æ— ç‹¬æœ‰å¶é€šè¿‡Docker-SpirngBootçš„å­¦ä¹ äº†è§£äº†TCP-socker-Engine-API-URLçš„å¡«å†™" class="headerlink" title="1.æ— ç‹¬æœ‰å¶é€šè¿‡Docker-SpirngBootçš„å­¦ä¹ äº†è§£äº†TCP socker Engine API URLçš„å¡«å†™"></a>1.æ— ç‹¬æœ‰å¶é€šè¿‡Docker-SpirngBootçš„å­¦ä¹ äº†è§£äº†TCP socker Engine API URLçš„å¡«å†™</h4><blockquote>
<p> Dockerå¼€å¯è¿œç¨‹è®¿é—®è¿™æ˜¯è¿‡ç¨‹ä¸­äº§ç”Ÿçš„é—®é¢˜ å®‰è£…äº†socket ä»¥åæƒ³åŠæ³•åˆ é™¤</p>
<p>PSï¼šDockeræœåŠ¡ä¸­è¿›ç¨‹é—´é€šä¿¡é€šè¿‡/var/run/docker.sockå®ç°ï¼Œé»˜è®¤æœåŠ¡ä¸æä¾›ç›‘å¬ç«¯å£ï¼Œå› æ­¤ä½¿ç”¨docker remote api éœ€è¦æ‰‹åŠ¨ç»‘å®šç«¯å£ã€‚æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; `# service docker stop``# docker -d -H unix:``///var/run/docker.sock -H tcp://0.0.0.0:2375`</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>  ###2.ç‚¹å‡»+å·æ·»åŠ ä¸€ä¸ªdockeré…ç½®ï¼Œè¾“å…¥Nameå’ŒEngine API URLï¼ŒURLæ˜¯dockeræœåŠ¡åœ°å€ï¼Œéœ€è¦dockerå¼€å¯è¿œç¨‹è¿æ¥åŠŸèƒ½ã€‚CentOSä¸­åœ¨dockerå¯åŠ¨å‚æ•°é‡Œæ·»åŠ å¦‚ä¸‹é…ç½®å³å¯å¼€å¯è¿œç¨‹è¿æ¥ã€‚</p>
<pre><code>-H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375
</code></pre><hr>
<p>   <em>ä¸‹é¢æ˜¯dockeråœ¨ideaä¸­çš„å®‰è£…</em></p>
<ul>
<li><p>cloudsé‡Œé¢æ²¡æœ‰Dockerã€‚åœ¨Dockerä¸­é…ç½® TCPï¼štcpï¼š//127.0.0.1:2376</p>
</li>
<li><p>æ³¨æ„è¿™ä¸ªæ˜¯é€šè¿‡ç»ˆç«¯å‘½ä»¤å¾—åˆ°çš„</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker-machine env cloudcomb</span><br><span class="line">export DOCKER_TLS_VERIFY=&quot;1&quot;</span><br><span class="line">export DOCKER_HOST=&quot;tcp://192.168.99.101:2376&quot;</span><br><span class="line">export DOCKER_CERT_PATH=&quot;/Users/apple/.docker/machine/machines/cloudcomb&quot;</span><br><span class="line">export DOCKER_MACHINE_NAME=&quot;cloudcomb&quot;</span><br><span class="line"># Run this command to configure your shell:</span><br><span class="line"># eval $(docker-machine env cloudcomb)</span><br></pre></td></tr></table></figure>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107213000670.png" alt="image-20181107213000670"></p>
</li>
<li><p>å°†å‰é¢çš„ç«¯å£æ¢æˆæœ¬åœ°çš„ tcp:127.0.0.1:2376</p>
<p><img src="/Users/apple/Library/Application Support/typora-user-images/image-20181107213056424.png" alt="image-20181107213056424"></p>
</li>
</ul>
<ul>
<li style="list-style: none"><input type="checkbox"> emmç¡ä¸€è§‰èµ·æ¥VPNæ‰“å¼€è¦ç­‰ä¸€ä¼š</li>
<li style="list-style: none"><input type="checkbox"> <img src="/Users/apple/Library/Application Support/typora-user-images/image-20181108064320954.png" alt="image-20181108064320954"></li>
</ul>
<p>åœ¨ç»ˆç«¯è¾“å…¥dockerversion</p>
<p>docker-machine envâ€”Host is not running</p>
<h5 id="å­¦ä¹ èµ„æºï¼šé€šè¿‡Githubçš„æœç´¢åŠŸèƒ½ğŸ”-å‘ç°ä¸€äº›å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æºï¼šé€šè¿‡Githubçš„æœç´¢åŠŸèƒ½ğŸ”-å‘ç°ä¸€äº›å­¦ä¹ èµ„æ–™" class="headerlink" title="#å­¦ä¹ èµ„æºï¼šé€šè¿‡Githubçš„æœç´¢åŠŸèƒ½ğŸ” å‘ç°ä¸€äº›å­¦ä¹ èµ„æ–™"></a>#å­¦ä¹ èµ„æºï¼šé€šè¿‡Githubçš„æœç´¢åŠŸèƒ½ğŸ” å‘ç°ä¸€äº›å­¦ä¹ èµ„æ–™</h5><p><a href="https://www.jetbrains.com/help/idea/docker.html" target="_blank" rel="noopener">https://www.jetbrains.com/help/idea/docker.html</a></p>
<p>alip1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">FROM java:8</span><br><span class="line">VOLUME /tmp</span><br><span class="line">COPY target/tran4spd-1.0-SNAPSHOT.jar resource.jar</span><br><span class="line">RUN bash -c &quot;touch /resource.jar&quot;</span><br><span class="line">EXPOSE 8080</span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;resource.jar&quot;]</span><br><span class="line"></span><br><span class="line"># docker run -d -p 18080:8099 --name docker-resource leesia/resource:1.0</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/07/å¼€å‘é‡åˆ°çš„é—®é¢˜/Hexo/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="è¢æµ·é¹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/07/å¼€å‘é‡åˆ°çš„é—®é¢˜/Hexo/" itemprop="url">Hexoçš„ä½¿ç”¨æ•™ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-07T15:24:22+08:00">
                2018-11-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Hexo/" itemprop="url" rel="index">
                    <span itemprop="name">Hexo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ä¸»é¢˜copyä¸€ä»½åœ¨appleä¸­"><a href="#ä¸»é¢˜copyä¸€ä»½åœ¨appleä¸­" class="headerlink" title="ä¸»é¢˜copyä¸€ä»½åœ¨appleä¸­"></a>ä¸»é¢˜copyä¸€ä»½åœ¨appleä¸­</h3><h3 id="ä¸éœ€è¦ç»ˆç«¯new-æˆ–è€…-æ ‡é¢˜titleç›´æ¥å¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥çš„"><a href="#ä¸éœ€è¦ç»ˆç«¯new-æˆ–è€…-æ ‡é¢˜titleç›´æ¥å¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥çš„" class="headerlink" title="ä¸éœ€è¦ç»ˆç«¯new æˆ–è€… æ ‡é¢˜titleç›´æ¥å¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥çš„"></a>ä¸éœ€è¦ç»ˆç«¯new æˆ–è€… æ ‡é¢˜titleç›´æ¥å¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥çš„</h3><h3 id="æœ‰æ—¶å€™æœ‰å»¶è¿Ÿ"><a href="#æœ‰æ—¶å€™æœ‰å»¶è¿Ÿ" class="headerlink" title="æœ‰æ—¶å€™æœ‰å»¶è¿Ÿ"></a>æœ‰æ—¶å€™æœ‰å»¶è¿Ÿ</h3><h3 id="ä¸‹é¢å°±æ˜¯å›¾ç‰‡çš„é—®é¢˜å•¦-ç”¨å›¾åºŠipicè§£å†³é—®é¢˜"><a href="#ä¸‹é¢å°±æ˜¯å›¾ç‰‡çš„é—®é¢˜å•¦-ç”¨å›¾åºŠipicè§£å†³é—®é¢˜" class="headerlink" title="ä¸‹é¢å°±æ˜¯å›¾ç‰‡çš„é—®é¢˜å•¦  ç”¨å›¾åºŠipicè§£å†³é—®é¢˜"></a>ä¸‹é¢å°±æ˜¯å›¾ç‰‡çš„é—®é¢˜å•¦  ç”¨å›¾åºŠipicè§£å†³é—®é¢˜</h3><blockquote>
<p><a href="https://www.jianshu.com/p/dbc945b05d55" target="_blank" rel="noopener">https://www.jianshu.com/p/dbc945b05d55</a> PIC </p>
<p><a href="https://sspai.com/post/39965" target="_blank" rel="noopener">https://sspai.com/post/39965</a> å°‘æ•°æ´¾</p>
</blockquote>
<p> ### </p>
<p> <a href="https://hexo.io/zh-cn/docs/front-matter" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/front-matter</a> å­¦ä¹ HexoæŒ‰ç…§è¿™ä¸ªç½‘ç«™é‡Œé¢æœ‰æ•™ç¨‹ å­¦ä¹ ä»»ä½•ä¸œè¥¿éƒ½è¦ä½¿ç”¨å®˜æ–¹æ–‡æ¡£</p>
<p>å…¶ä½™å­¦ä¹ çš„ä¸œè¥¿åœ¨safairæ”¶è—â•éšç¬” hexoé‡Œé¢ çœŸçš„å¥½ç´¯ æ­å»ºè¿™ä¸ªç¯å¢ƒ</p>
<p>æ€»ä¹‹å°±æ˜¯ç…§ç€å®˜ç½‘çš„ä¾‹å­ ç„¶åä½¿ç”¨è¿™ä¸ªæ¨¡ç‰ˆ ç„¶åymlæ–‡ä»¶è¦å†™å…¨ å‘å¤ªå¤šäº† èƒ½å‡ºä¸€æœ¬ä¹¦ å…ˆè¿™æ ·</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">è¢æµ·é¹</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">è¢æµ·é¹</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
