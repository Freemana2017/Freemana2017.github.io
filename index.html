<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Freemana2017">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Freemana2017">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Freemana2017">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Freemana2017</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>



<a href="https://github.com/Freemana2017" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>







    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Freemana2017</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/31/Spring/Spring依赖注入/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/31/Spring/Spring依赖注入/" itemprop="url">关于Spring依赖注入的一些理解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-31T19:57:10+08:00">
                2018-12-31
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/31/Spring/Spring依赖注入/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/31/Spring/Spring依赖注入/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>问大家一个问题 Spring中注册的bean 在xml中配置<bean id="xxx" class="com.xxx.xxxx"> 我看写的程序中没有调用 xxx.getBean(“xxx”)。那在程序中是如何使用这个bean的呢</bean></p>
</blockquote>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyq6f1kqabj30ay074q3m.jpg" alt="image-20181231195838700"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fyq6f94ci7j30h003mt9x.jpg" alt="image-20181231195850611"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyq6fdbss4j306u01hjrd.jpg" alt="image-20181231195857665"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyq6fkgl8nj30g807bmyp.jpg" alt="image-20181231195908137"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyq6ftrupnj30fu0ej409.jpg" alt="image-20181231195923728"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyq6gtoi1jj30h10bjgng.jpg" alt="image-20181231200021653"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyq6gzslxmj30gb0dvq4j.jpg" alt="image-20181231200031517"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyq6h8uvmlj30fu0ett9x.jpg" alt="image-20181231200042180"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fyq6heo3jfj30g50exabn.jpg" alt="image-20181231200055212"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyq6hqvp8vj30tw04wgot.jpg" alt="image-20181231200114736"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyq6ipntk3j30oz0amth2.jpg" alt="image-20181231200210436"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyq6j3r701j30qi0cctgd.jpg" alt="image-20181231200233053"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyq6l2y3lmj30rv2lnh6x.jpg" alt="image-20181231200426578"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyq6pky66bj30sl0ltak7.jpg" alt="image-20181231200846542"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/25/RabbitMQ/Rabbit MQ/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/25/RabbitMQ/Rabbit MQ/" itemprop="url">RabbitMQ 千峰教育笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-25T15:58:34+08:00">
                2018-12-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/25/RabbitMQ/Rabbit MQ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/25/RabbitMQ/Rabbit MQ/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-RabbitMQ-简介"><a href="#1-RabbitMQ-简介" class="headerlink" title="1.RabbitMQ 简介"></a>1.RabbitMQ 简介</h1><p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyj3gtdkruj30px0e0n2c.jpg" alt="image-20181225165734938"></p>
<h1 id="2-Rabbit-MQ的安装"><a href="#2-Rabbit-MQ的安装" class="headerlink" title="2.Rabbit MQ的安装"></a>2.Rabbit MQ的安装</h1><p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyj3h0eljmj30q10jin08.jpg" alt="image-20181225165746248"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fyj3i01ys8j30l80ckmza.jpg" alt="image-20181225165843244"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyj3ij5y4nj30lc0cbtb3.jpg" alt="image-20181225165914324"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fyj3istug2j30ln079dh0.jpg" alt="image-20181225165930292"></p>
<hr>
<h1 id="3-Rabbit-MQ添加用户"><a href="#3-Rabbit-MQ添加用户" class="headerlink" title="3.Rabbit MQ添加用户"></a>3.Rabbit MQ添加用户</h1><p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyj3jz47efj30k20fs76p.jpg" alt="image-20181225170037413"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyj3k5g42nj30jn06g75p.jpg" alt="image-20181225170047899"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyj3kefpswj30jl0jc42u.jpg" alt="image-20181225170102393"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyj3madvytj30p30fw0vl.jpg" alt="image-20181225170250851"></p>
<hr>
<h1 id="4-Rabbit-MQ使用教程-⭐️"><a href="#4-Rabbit-MQ使用教程-⭐️" class="headerlink" title="4.Rabbit MQ使用教程 ⭐️"></a>4.Rabbit MQ使用教程 ⭐️</h1><h3 id="4-1消息模式种类"><a href="#4-1消息模式种类" class="headerlink" title="4.1消息模式种类"></a>4.1消息模式种类</h3><p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyj42bganlj30n40mngs9.jpg" alt="image-20181225171815196"></p>
<hr>
<h3 id="4-2-pom-amp-log4j-properties"><a href="#4-2-pom-amp-log4j-properties" class="headerlink" title="4.2 pom&amp;log4j.properties"></a>4.2 pom&amp;log4j.properties</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">  &lt;groupId&gt;com.qianfeng&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;testrabbitmqdemo&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0&lt;/version&gt;</span><br><span class="line">  &lt;packaging&gt;jar&lt;/packaging&gt;</span><br><span class="line"></span><br><span class="line">  &lt;name&gt;testrabbitmqdemo&lt;/name&gt;</span><br><span class="line">  &lt;url&gt;http://maven.apache.org&lt;/url&gt;</span><br><span class="line"></span><br><span class="line">  &lt;properties&gt;</span><br><span class="line">    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</span><br><span class="line">  &lt;/properties&gt;</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;!-- https://mvnrepository.com/artifact/com.rabbitmq/amqp-client --&gt;</span><br><span class="line">    &lt;!-- https://mvnrepository.com/artifact/com.rabbitmq/amqp-client --&gt;</span><br><span class="line">   =====================amqp-clien==========================   ============================</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.5.0&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.7.25&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;3.3.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!-- https://mvnrepository.com/artifact/org.springframework.amqp/spring-</span><br><span class="line">rabbit</span><br><span class="line">􏴏􏴐 spring 􏰚􏲂􏱗,amqp 􏰪􏱚 rabbitmq 􏴑􏲅􏴒􏴓 --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.12&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">   ===================spring-rabbit=========================   ============================</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.7.6.RELEASE&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">  &lt;/dependencies&gt;</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">log4j.rootLogger=DEBUG,A1</span><br><span class="line">log4j.logger.com.taotao = DEBUG</span><br><span class="line">log4j.logger.org.mybatis = DEBUG</span><br><span class="line">log4j.appender.A1=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.A1.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.A1.layout.ConversionPattern=%-d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; [%t] [%c]-</span><br><span class="line">[%p] %m%n</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="4-3HelloWorld-生产者-消费者"><a href="#4-3HelloWorld-生产者-消费者" class="headerlink" title="4.3HelloWorld (生产者 消费者)"></a>4.3HelloWorld (生产者 消费者)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rabbitmq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.ConnectionFactory;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用于创建连接的工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConnectionUtils</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        ConnectionFactory connectionFactory = <span class="keyword">new</span> ConnectionFactory();</span><br><span class="line">        connectionFactory.setHost(<span class="string">"94.191.24.33"</span>);<span class="comment">//这个Host是ip地址 如果是Linux的就是Linux的ipconfig// 否则就是服务器的公网地址此处是腾讯云的公网ip地址</span></span><br><span class="line">        connectionFactory.setPort(<span class="number">5672</span>);<span class="comment">//5672是服务器的端口 15672是网页的端口</span></span><br><span class="line">        connectionFactory.setUsername(<span class="string">"guest"</span>);</span><br><span class="line">        connectionFactory.setPassword(<span class="string">"guest"</span>);</span><br><span class="line">        connectionFactory.setVirtualHost(<span class="string">"/"</span>);</span><br><span class="line">        <span class="keyword">return</span> connectionFactory.newConnection();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rabbitmq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"><span class="comment">//生产者</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sender</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String QUEUEName = <span class="string">"RabbitmqName"</span>;<span class="comment">//定义一个队列的名字</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1。获取连接</span></span><br><span class="line">        Connection connection = ConnectionUtils.getConnection();</span><br><span class="line">        <span class="comment">//2。创建通道</span></span><br><span class="line">        Channel channel = connection.createChannel();</span><br><span class="line">        <span class="comment">//3。声明队列</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 如果队列存在则什么都不做 如果不存在才创建</span></span><br><span class="line"><span class="comment">         * QUEUEName ： 参数1 队列的名字</span></span><br><span class="line"><span class="comment">         * durable   :  参数2 是否持久化队列</span></span><br><span class="line"><span class="comment">         *              &gt; 我们的队列模式是在内存中的 如果rabbitmq 重启 会丢失</span></span><br><span class="line"><span class="comment">         *              &gt; 如果设置为true ,则会保存到erlang自带的数据库中，重启后会重新读取</span></span><br><span class="line"><span class="comment">         *exclusive:    参数3 是否排除 有两个作用</span></span><br><span class="line"><span class="comment">         *               &gt; 作用1： 第一个当我们的连接关闭后是否会自动删除队列</span></span><br><span class="line"><span class="comment">         *               &gt; 作用2：是否私有当前队列 如果私有了其他通道不可以访问当前对列</span></span><br><span class="line"><span class="comment">         *               &gt; 如果为true 一般是一个队列只适用于一个消费者的时候</span></span><br><span class="line"><span class="comment">         *autodelete：   参数4：是否自动删除</span></span><br><span class="line"><span class="comment">         *               参数5：一切其他参数</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        channel.queueDeclare(QUEUEName, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">null</span>);</span><br><span class="line">        <span class="comment">//4。发送内容</span></span><br><span class="line">        channel.basicPublish(<span class="string">""</span>, QUEUEName, <span class="keyword">null</span>, <span class="string">"发送的消息"</span>.getBytes());</span><br><span class="line">        <span class="comment">//5。关闭连接</span></span><br><span class="line">        connection.close();</span><br><span class="line">        channel.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rabbitmq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.QueueingConsumer;</span><br><span class="line"></span><br><span class="line"><span class="comment">//消费者</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Recver</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String QUEUEName = <span class="string">"RabbitmqName"</span>;<span class="comment">//定义一个队列的名字</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Connection connection = ConnectionUtils.getConnection();</span><br><span class="line">        Channel channel = connection.createChannel();</span><br><span class="line">        channel.queueDeclare(QUEUEName, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">null</span>);</span><br><span class="line">        <span class="comment">//定义一个消费者</span></span><br><span class="line">        QueueingConsumer consumer = <span class="keyword">new</span> QueueingConsumer(channel);</span><br><span class="line">        <span class="comment">//接受参数 参数2是自动确认</span></span><br><span class="line">        channel.basicConsume(QUEUEName, <span class="keyword">true</span>, consumer);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="comment">//获取消息</span></span><br><span class="line">            <span class="comment">//如果没有消息会等待 有的话就获取执行然后销毁是一次性的</span></span><br><span class="line">            QueueingConsumer.Delivery delivery = consumer.nextDelivery();</span><br><span class="line">            String s = <span class="keyword">new</span> String(delivery.getBody());</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="RabbitMQ连接工具"><a href="#RabbitMQ连接工具" class="headerlink" title="RabbitMQ连接工具"></a>RabbitMQ连接工具</h5><p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyjb6o7v3pj311v0ecdnn.jpg" alt="image-20181225212436448"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyk0rutcvhj30v00u0ann.jpg" alt="image-20181226120954989"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fyk0sa5uqdj30wi0q4gvy.jpg" alt="image-20181226121023056"></p>
<hr>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/25/RabbitMQ/6.Exchange/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/25/RabbitMQ/6.Exchange/" itemprop="url">RabbitMQ Exchange</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-25T15:58:33+08:00">
                2018-12-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/25/RabbitMQ/6.Exchange/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/25/RabbitMQ/6.Exchange/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyj1sjd092j312g0oa1kx.jpg" alt="image-20181225155936857"></p>
<hr>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyj1ttyra6j30wh0h1wj6.jpg" alt="image-20181225160053086"></p>
<hr>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyj1uxhmw1j314o0bwafe.jpg" alt="image-20181225160157263"></p>
<hr>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyj1wutzw7j31210ihalp.jpg" alt="image-20181225160348696"></p>
<hr>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyj1x4mw2hj310s0jpjyc.jpg" alt="image-20181225160404374"></p>
<hr>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fyj1y2bncbj30pp06b0wq.jpg" alt="image-20181225160458534"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyj1zy0kd7j30o50b8aiv.jpg" alt="image-20181225160646411"></p>
<hr>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/23/SSM /SSM整合/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/SSM /SSM整合/" itemprop="url">SSM整合</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-23T11:36:52+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/23/SSM /SSM整合/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/23/SSM /SSM整合/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fygj0lmkbsj30gs0be47x.jpg" alt="image-20181223113853623"></p>
<h1 id="新建SSM项目"><a href="#新建SSM项目" class="headerlink" title="新建SSM项目"></a>新建SSM项目</h1><p> ，关于IDEA的版本问题强烈建议使用旗舰版，有条件的就购买，没条件的嘛。。 天朝你懂的。<br>在欢迎界面点击<code>Create New Project</code>。<br><a href="http://i.imgur.com/St7JEw7.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/St7JEw7.png" alt="img"></a></p>
<p>之后选择<code>Maven</code>(新建JAVAEE项目是需要安装JDK的，这个就不在这里讲解了。 )选好之后点击下一步。<br><a href="http://i.imgur.com/5kSWIla.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/5kSWIla.png" alt="img"></a><br>之后填入<code>GroupID</code>和<code>ArtifactID</code>这里尽量按照Maven的命名规范来即可。<br><a href="http://i.imgur.com/DiiEJ4h.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/DiiEJ4h.png" alt="img"></a><br>之后点击下一步，填入项目名称，这里我建议和之前填写的<code>ArtifactID</code>名称一样即可。<br><a href="http://i.imgur.com/aOJC4Ic.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/aOJC4Ic.png" alt="img"></a><br>点击Finish完成项目的创建。<br>之后尽量不要做其他操作，让IDEA完成索引创建。<br><a href="http://i.imgur.com/rWOtgha.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/rWOtgha.png" alt="img"></a></p>
<h1 id="完善目录结构"><a href="#完善目录结构" class="headerlink" title="完善目录结构"></a>完善目录结构</h1><p>首先观察一下IDEA给我们生成的目录结构，这是一个标准的Maven目录。 但是其中少了一个<code>webapp</code>目录用于存放<code>jsp</code>、<code>css</code>、<code>js</code>、图片之类的文件。 之后还需要完善我们的目录结构，如下图：<br><a href="http://i.imgur.com/u2xPqCS.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/u2xPqCS.png" alt="img"></a><br>以上的命名都是我们开发过程中常用的命名规则，不一定按照我这样来，但是最好是有一定的规范。</p>
<hr>
<h1 id="POM-xml"><a href="#POM-xml" class="headerlink" title="POM.xml"></a>POM.xml</h1><p><code>pom.xml</code>是整个maven的核心配置文件，里面有对项目的描述和项目所需要的依赖。 哦对了，在修改<code>pom.xml</code>文件之前我们最好先设置一下该项目的Maven设置(IDEA对每个项目的maven设置和Eclipse不一样，不是设置一次就可了，如果今后还要新建项目那就还需要设置， 同时按住<code>ctrl</code>,<code>alt</code>,<code>s</code>是打开设置的快捷键，更多有关IDEA的操作今后会更新相关博文。 )<br><a href="http://i.imgur.com/fCaXCDT.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/fCaXCDT.png" alt="img"></a></p>
<h2 id="IDEA的Maven设置"><a href="#IDEA的Maven设置" class="headerlink" title="IDEA的Maven设置"></a>IDEA的Maven设置</h2><p>在<code>Eclipse</code>中用过Maven的都应该知道，这里是将项目的Maven换成我们自己安装的Maven，下面两个目录是选择Maven配置文件，不知道是什么原因在<code>Eclipse</code> 中选择了配置文件之后会自动的将Maven本地厂库的路径更改为你<code>settings.xml</code>中配置的路径。 既然这里没有自动选中那我们就手动修改即可，尽量不要放在C盘，一是用久之后本地厂库占用的空间会比较大，二是万一系统崩溃的话还有可能找回来。</p>
<hr>
<h2 id="修改pom-xml"><a href="#修改pom-xml" class="headerlink" title="修改pom.xml"></a>修改pom.xml</h2><p>以下是我的<code>pom.xml</code>文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!--suppress MavenModelInspection --&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line">    &lt;groupId&gt;com.crossoverJie&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;SSM&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">    &lt;build&gt;</span><br><span class="line">        &lt;plugins&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;1.6&lt;/source&gt;</span><br><span class="line">                    &lt;target&gt;1.6&lt;/target&gt;</span><br><span class="line">                &lt;/configuration&gt;</span><br><span class="line">            &lt;/plugin&gt;</span><br><span class="line">        &lt;/plugins&gt;</span><br><span class="line">    &lt;/build&gt;</span><br><span class="line">    &lt;properties&gt;</span><br><span class="line">        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</span><br><span class="line">        &lt;spring.version&gt;4.1.4.RELEASE&lt;/spring.version&gt;</span><br><span class="line">        &lt;jackson.version&gt;2.5.0&lt;/jackson.version&gt;</span><br><span class="line">    &lt;/properties&gt;</span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.8.1&lt;/version&gt;</span><br><span class="line">            &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- spring --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;</span><br><span class="line">            &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- 使用SpringMVC需配置 --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- 关系型数据库整合时需配置 如hibernate jpa等 --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2.4&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- log4j --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;log4j&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2.17&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- mysql连接 --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;5.1.34&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.3.1&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;druid&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.0.18&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- json --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2.3&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;$&#123;jackson.version&#125;&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- aop --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.8.4&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- servlet --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.0-alpha-1&lt;/version&gt;</span><br><span class="line">            &lt;scope&gt;provided&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;jstl&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.4&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- 上传文件 --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.3.1&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="spring-mvc-xml"><a href="#spring-mvc-xml" class="headerlink" title="spring-mvc.xml"></a>spring-mvc.xml</h1><p>这个配置文件是springMVC的配置文件：<br>里面的我都写有注释，应该都能看懂。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">                        http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</span><br><span class="line">                        http://www.springframework.org/schema/context</span><br><span class="line">                        http://www.springframework.org/schema/context/spring-context-3.1.xsd</span><br><span class="line">                        http://www.springframework.org/schema/mvc</span><br><span class="line">                        http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt;</span><br><span class="line">    &lt;!-- 自动扫描该包，使SpringMVC认为包下用了@controller注解的类是控制器 --&gt;</span><br><span class="line">    &lt;context:component-scan base-package=&quot;com.crossoverJie.controller&quot; /&gt;</span><br><span class="line">    &lt;!--避免IE执行AJAX时，返回JSON出现下载文件 --&gt;</span><br><span class="line">    &lt;!--&lt;bean id=&quot;mappingJacksonHttpMessageConverter&quot;</span><br><span class="line">          class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;supportedMediaTypes&quot;&gt;</span><br><span class="line">            &lt;list&gt;</span><br><span class="line">                &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;</span><br><span class="line">            &lt;/list&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;--&gt;</span><br><span class="line">    &lt;mvc:annotation-driven/&gt;</span><br><span class="line">    &lt;!-- 启动SpringMVC的注解功能，完成请求和注解POJO的映射</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!-- 定义跳转的文件的前后缀 ，视图模式配置--&gt;</span><br><span class="line">    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;</span><br><span class="line">        &lt;!-- 这里的配置我的理解是自动给后面action的方法return的字符串加上前缀和后缀，变成一个 可用的url地址 --&gt;</span><br><span class="line">        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;!-- 配置文件上传，如果没有使用文件上传可以不用配置，当然如果不配，那么配置文件中也不必引入上传组件包 --&gt;</span><br><span class="line">    &lt;bean id=&quot;multipartResolver&quot;</span><br><span class="line">          class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;</span><br><span class="line">        &lt;!-- 默认编码 --&gt;</span><br><span class="line">        &lt;property name=&quot;defaultEncoding&quot; value=&quot;utf-8&quot; /&gt;</span><br><span class="line">        &lt;!-- 文件大小最大值 --&gt;</span><br><span class="line">        &lt;property name=&quot;maxUploadSize&quot; value=&quot;10485760000&quot; /&gt;</span><br><span class="line">        &lt;!-- 内存中的最大值 --&gt;</span><br><span class="line">        &lt;property name=&quot;maxInMemorySize&quot; value=&quot;40960&quot; /&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;!-- 配置拦截器 --&gt;</span><br><span class="line">    &lt;!--&lt;mvc:interceptors&gt;</span><br><span class="line">        &lt;mvc:interceptor&gt;</span><br><span class="line">            &amp;lt;!&amp;ndash; &lt;mvc:mapping path=&quot;/**&quot;/&gt;拦截所有 &amp;ndash;&amp;gt;</span><br><span class="line">            &lt;mvc:mapping path=&quot;/user/**&quot;/&gt;</span><br><span class="line">            &lt;mvc:mapping path=&quot;/role/**&quot;/&gt;</span><br><span class="line">            &lt;mvc:mapping path=&quot;/function/**&quot;/&gt;</span><br><span class="line">            &lt;mvc:mapping path=&quot;/news/**&quot;/&gt;</span><br><span class="line">            &lt;mvc:mapping path=&quot;/img/**&quot;/&gt;</span><br><span class="line">            &lt;bean class=&quot;com.crossoverJie.intercept.Intercept&quot;&gt;&lt;/bean&gt;</span><br><span class="line">        &lt;/mvc:interceptor&gt;</span><br><span class="line">    &lt;/mvc:interceptors&gt;--&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
<hr>
<p>关于上面拦截器注释掉的那里，配置是没有问题的，因为这是一个整合项目，所以里边也没有用到拦截器，为了防止运行报错所以就先注释掉了。 如果后续需要增加拦截器，可以参考这里的配置。</p>
<hr>
<h1 id="spring-mybatis-xml"><a href="#spring-mybatis-xml" class="headerlink" title="spring-mybatis.xml"></a>spring-mybatis.xml</h1><p>这个是spring和mybatis的整合配置文件，其中还有<code>Druid</code>连接池的配置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">                        http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</span><br><span class="line">                        http://www.springframework.org/schema/context</span><br><span class="line">                        http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt;</span><br><span class="line">    &lt;!-- 自动扫描 --&gt;</span><br><span class="line">    &lt;context:component-scan base-package=&quot;com.crossoverJie&quot; /&gt;</span><br><span class="line">    &lt;!-- 引入配置文件 --&gt;</span><br><span class="line">    &lt;bean id=&quot;propertyConfigurer&quot;</span><br><span class="line">          class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;location&quot; value=&quot;classpath:jdbc.properties&quot; /&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span><br><span class="line">          init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt;</span><br><span class="line">        &lt;!-- 指定连接数据库的驱动 --&gt;</span><br><span class="line">        &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driverClass&#125;&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.user&#125;&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt;</span><br><span class="line">        &lt;!-- 配置初始化大小、最小、最大 --&gt;</span><br><span class="line">        &lt;property name=&quot;initialSize&quot; value=&quot;3&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;minIdle&quot; value=&quot;3&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;maxActive&quot; value=&quot;20&quot; /&gt;</span><br><span class="line">        &lt;!-- 配置获取连接等待超时的时间 --&gt;</span><br><span class="line">        &lt;property name=&quot;maxWait&quot; value=&quot;60000&quot; /&gt;</span><br><span class="line">        &lt;!-- 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒 --&gt;</span><br><span class="line">        &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt;</span><br><span class="line">        &lt;!-- 配置一个连接在池中最小生存的时间，单位是毫秒 --&gt;</span><br><span class="line">        &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;300000&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT &apos;x&apos;&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot; /&gt;</span><br><span class="line">        &lt;!-- 打开PSCache，并且指定每个连接上PSCache的大小 --&gt;</span><br><span class="line">        &lt;property name=&quot;poolPreparedStatements&quot; value=&quot;true&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;maxPoolPreparedStatementPerConnectionSize&quot;</span><br><span class="line">                  value=&quot;20&quot; /&gt;</span><br><span class="line">        &lt;!-- 配置监控统计拦截的filters，去掉后监控界面sql无法统计 --&gt;</span><br><span class="line">        &lt;property name=&quot;filters&quot; value=&quot;stat&quot; /&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;!-- spring和MyBatis完美整合，不需要mybatis的配置映射文件 --&gt;</span><br><span class="line">    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;</span><br><span class="line">        &lt;!-- 自动扫描mapping.xml文件 --&gt;</span><br><span class="line">        &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapping/*.xml&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;!-- DAO接口所在包名，Spring会自动查找其下的类 --&gt;</span><br><span class="line">    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;basePackage&quot; value=&quot;com.crossoverJie.dao&quot; /&gt;</span><br><span class="line">        &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;!-- (事务管理)transaction manager, use JtaTransactionManager for global tx --&gt;</span><br><span class="line">    &lt;bean id=&quot;transactionManager&quot;</span><br><span class="line">          class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
<hr>
<p>以上两个就是最重要的配置文件了，只要其中的包名和配置文件中的名字一样就不会出问题。<br>关于<code>xxMpper.xml</code>以及实体类的生成，我们可以借助<code>mybatis-generator</code>自动生成工具来生成，方便快捷。</p>
<p>—-</p>
<h1 id="IDEA配置Tomcat"><a href="#IDEA配置Tomcat" class="headerlink" title="IDEA配置Tomcat"></a>IDEA配置Tomcat</h1><p>关于Tomcat的下载与安装我这里就不多介绍了。<br><a href="http://i.imgur.com/vJPS2Yh.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/vJPS2Yh.png" alt="img"></a><br>按照下图选择：<br><a href="http://i.imgur.com/FH695fj.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/FH695fj.png" alt="img"></a><br>在<code>name</code>中为这个Tomcat输入一个名字。 之后选择你本地Tomcat的目录点击<code>Ok</code>即可。<br><a href="http://i.imgur.com/f1RS3LJ.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/f1RS3LJ.png" alt="img"></a><br><a href="http://i.imgur.com/gKKK6YG.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/gKKK6YG.png" alt="img"></a><br><a href="http://i.imgur.com/7jjk7JF.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/7jjk7JF.png" alt="img"></a><br>点击<code>apply</code>和保存之后就返回首页即可看到Tomcat的标识。<br><a href="http://i.imgur.com/9Zw2ngh.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/9Zw2ngh.png" alt="img"></a><br>根据需要点击<code>Run</code>和<code>Debug</code>即可运行。</p>
<p>运行结果如下：<br><a href="http://i.imgur.com/zJgW4za.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/zJgW4za.png" alt="img"></a><br><a href="http://i.imgur.com/q8zyEJk.png" target="_blank" rel="noopener"><img src="http://i.imgur.com/q8zyEJk.png" alt="img"></a><br>点击上图的2,3,4可看到不同用户的结果，如果你走到这一步，那么恭喜你整合成功。</p>
<hr>
<h4 id="Jdbc-properties"><a href="#Jdbc-properties" class="headerlink" title="Jdbc.properties"></a>Jdbc.properties</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql://localhost:3307/ssm?useUnicode=true&amp;characterEncoding=utf8</span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="mybatis-config-xml"><a href="#mybatis-config-xml" class="headerlink" title="mybatis-config.xml"></a>mybatis-config.xml</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><br><span class="line">  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">	&lt;!-- 配置全局属性 --&gt;</span><br><span class="line">	&lt;settings&gt;</span><br><span class="line">		&lt;!-- 使用jdbc的getGeneratedKeys获取数据库自增主键值 --&gt;</span><br><span class="line">		&lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;true&quot; /&gt;</span><br><span class="line"></span><br><span class="line">		&lt;!-- 使用列别名替换列名 默认:true --&gt;</span><br><span class="line">		&lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot; /&gt;</span><br><span class="line"></span><br><span class="line">		&lt;!-- 开启驼峰命名转换:Table&#123;create_time&#125; -&gt; Entity&#123;createTime&#125; --&gt;</span><br><span class="line">		&lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot; /&gt;</span><br><span class="line">	&lt;/settings&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/22/SSM项目实战/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/SSM项目实战/" itemprop="url">SSM项目实战</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-22T21:39:53+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/22/SSM项目实战/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/22/SSM项目实战/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-实体类解析与表的创建"><a href="#1-实体类解析与表的创建" class="headerlink" title="1.实体类解析与表的创建"></a>1.实体类解析与表的创建</h1><p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fyfut153vnj31a10n34bj.jpg" alt="image-20181222214114017"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fyfutkewbwj30wa0lfk0i.jpg" alt="image-20181222214145357"></p>
<hr>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fygb4crq2nj30zl0nltmf.jpg" alt="image-20181223070542815"></p>
<hr>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fygbpubdhlj31970kitj2.jpg" alt="image-20181223072622146"></p>
<hr>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fygdako38ij31290md7gy.jpg" alt="image-20181223082052754"></p>
<hr>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fygdiquim0j310y0mldtg.jpg" alt="image-20181223082844242"></p>
<hr>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fygen7t3jhj313p0ng7wh.jpg" alt="image-20181223090734422"></p>
<hr>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fygfb8s1ayj30gt06pwiq.jpg" alt="image-20181223093042614"></p>
<p>$商品类别$：</p>
<p>1:商品类别的id</p>
<p>2:店铺id</p>
<p>3:商品类别的名称</p>
<p>4:商品类别的权重</p>
<p>5:商品创建时间</p>
<hr>
<p>$详情图片：$</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fygfiq6krtj30dl07udk3.jpg" alt="image-20181223093754350"></p>
<p>1:详情图片的id</p>
<p>2.图片的地址</p>
<p>3.图片显示的权重 大靠前显示</p>
<p>4.创建时间</p>
<p>5.属于那个商品的详情图片（多对一）的关系</p>
<hr>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fygfsaaqhvj31500n8ww5.jpg" alt="image-20181223094705247"></p>
<hr>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fyggggjnobj319e0kjtm7.jpg" alt="image-20181223101020928"></p>
<hr>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fygghi0xzdj30ki0e30uu.jpg" alt="image-20181223101120198"></p>
<hr>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fyggivml7pj30nh0c976v.jpg" alt="image-20181223101240234"></p>
<hr>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyggj4yctwj30gu0bj0uc.jpg" alt="image-20181223101255059"></p>
<hr>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyggoipqlqj30ut0u0neh.jpg" alt="image-20181223101804614"></p>
<hr>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/22/SpringBoot小D课堂/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/SpringBoot小D课堂/" itemprop="url">SpringBoot小D课堂</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-22T17:01:38+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/22/SpringBoot小D课堂/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/22/SpringBoot小D课堂/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1、零基础快速入门SpringBoot2-0-5节课"><a href="#1、零基础快速入门SpringBoot2-0-5节课" class="headerlink" title="1、零基础快速入门SpringBoot2.0 (5节课)"></a>1、零基础快速入门SpringBoot2.0 (5节课)</h1><p>1、SpringBoot2.x课程全套介绍和高手系列知识点<br>​    简介：介绍SpringBoot2.x课程大纲章节<br>​        java基础，jdk环境，maven基础</p>
<p>2、SpringBoot2.x依赖环境和版本新特性说明<br>简介：讲解新版本依赖环境和springboot2新特性概述</p>
<pre><code>1、依赖版本jdk8以上, Springboot2.x用JDK8, 因为底层是 Spring framework5, 
2、安装maven最新版本，maven3.2以上版本，下载地址 ：https://maven.apache.org/download.cgi
3、Eclipse或者IDE
4、新特性
5、翻译工具：https://translate.google.cn/
6、springbootGitHub地址：https://github.com/spring-projects/spring-boot
7、springboot官方文档：https://spring.io/guides/gs/spring-boot/
</code></pre><p>​        </p>
<p>3、快速创建SpringBoot2.x应用之手工创建web应用<br>简介：使用Maven手工创建SpringBoot2.x应用</p>
<pre><code>手工创建:https://projects.spring.io/spring-boot/#quick-start
    官方推荐包命名接口，不要使用默认 defaultPackage
    官方文档: https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-using-the-default-package
    例子：
        com
         +- example
             +- myapplication
                 +- Application.java
                 |
                 +- customer
                 |   +- Customer.java
                 |   +- CustomerController.java
                 |   +- CustomerService.java
                 |   +- CustomerRepository.java
                 |
                 +- order
                     +- Order.java
                     +- OrderController.java
                     +- OrderService.java
                     +- OrderRepository.java
</code></pre><p>4、快速创建SpringBoot2.x应用之工具类自动创建web应用<br>简介：使用构建工具自动生成项目基本架构<br>​    1、工具自动创建:<a href="http://start.spring.io/" target="_blank" rel="noopener">http://start.spring.io/</a></p>
<p>5、SpringBoot2.x的依赖默认Maven版本<br>​    简介：讲解SpringBoot2.x的默认Maven依赖版本<br>​    1、官网地址<br>​    <a href="https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#appendix-dependency-versions" target="_blank" rel="noopener">https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#appendix-dependency-versions</a></p>
<h1 id="2、SpringBoot接口Http协议开发实战-8节课"><a href="#2、SpringBoot接口Http协议开发实战-8节课" class="headerlink" title="2、SpringBoot接口Http协议开发实战  8节课"></a>2、SpringBoot接口Http协议开发实战  8节课</h1><p>1、SpringBoot2.xHTTP请求配置讲解</p>
<pre><code>简介：SpringBoot2.xHTTP请求注解讲解和简化注解配置技巧

1、@RestController and @RequestMapping是springMVC的注解，不是springboot特有的    
2、@RestController = @Controller+@ResponseBody    
3、@SpringBootApplication = @Configuration+@EnableAutoConfiguration+@ComponentScan
    localhost:8080
</code></pre><p>2、开发接口必备工具之PostMan接口调试工具介绍和使用<br>​    简介：模拟Http接口测试工具PostMan安装和讲解</p>
<pre><code>1、接口调试工具安装和基本使用
2、下载地址：https://www.getpostman.com/
</code></pre><p>​    </p>
<p>3、SpringBoot基础HTTP接口GET请求实战<br>​    简介:讲解springboot接口，http的get请求，各个注解使用<br>​        1、GET请求<br>​            1、单一参数@RequestMapping(path = “/{id}”, method = RequestMethod.GET)<br>​                1) public String getUser(@PathVariable String id ) {}<br>​<br>​                2）@RequestMapping(path = “/{depid}/{userid}”, method = RequestMethod.GET) 可以同时指定多个提交方法<br>​                getUser(@PathVariable(“depid”) String departmentID,@PathVariable(“userid”) String userid)<br>​<br>​                3）一个顶俩<br>​                @GetMapping = @RequestMapping(method = RequestMethod.GET)<br>​                @PostMapping = @RequestMapping(method = RequestMethod.POST)<br>​                @PutMapping = @RequestMapping(method = RequestMethod.PUT)<br>​                @DeleteMapping = @RequestMapping(method = RequestMethod.DELETE)<br>​<br>​                4）@RequestParam(value = “name”, required = true)<br>​                    可以设置默认值，比如分页<br>​<br>                4)@RequestBody 请求体映射实体类<br>                    需要指定http头为 content-type为application/json charset=utf-8</p>
<pre><code>5）@RequestHeader 请求头，比如鉴权
    @RequestHeader(&quot;access_token&quot;) String accessToken

6）HttpServletRequest request自动注入获取参数
</code></pre><p>4、SpringBoot基础HTTP接口POST,PUT,DELETE请求实战<br>​    简介：讲解http请求post，put, delete提交方式</p>
<p>5、常用json框架介绍和Jackson返回结果处理<br>​    简介：介绍常用json框架和注解的使用，自定义返回json结构和格式</p>
<pre><code>1、常用框架 阿里 fastjson,谷歌gson等
    JavaBean序列化为Json，性能：Jackson &gt; FastJson &gt; Gson &gt; Json-lib 同个结构
    Jackson、FastJson、Gson类库各有优点，各有自己的专长
    空间换时间，时间换空间

2、jackson处理相关自动
    指定字段不返回：@JsonIgnore
    指定日期格式：@JsonFormat(pattern=&quot;yyyy-MM-dd hh:mm:ss&quot;,locale=&quot;zh&quot;,timezone=&quot;GMT+8&quot;)
    空字段不返回：@JsonInclude(Include.NON_NUll)
    指定别名：@JsonProperty
</code></pre><p>6、SpringBoot2.x目录文件结构讲解<br>​     简介：讲解SpringBoot目录文件结构和官方推荐的目录规范</p>
<pre><code>1、目录讲解
    src/main/java：存放代码
    src/main/resources
        static: 存放静态文件，比如 css、js、image, （访问方式 http://localhost:8080/js/main.js）
        templates:存放静态页面jsp,html,tpl
        config:存放配置文件,application.properties
        resources:

2、引入依赖 Thymeleaf
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
   &lt;/dependency&gt;
   注意：如果不引人这个依赖包，html文件应该放在默认加载文件夹里面，
   比如resources、static、public这个几个文件夹，才可以访问

3、同个文件的加载顺序,静态资源文件
Spring Boot 默认会挨个从
META/resources &gt; resources &gt; static &gt; public  里面找是否存在相应的资源，如果有则直接返回。

4、默认配置    
    1）官网地址：https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-static-content

    2）spring.resources.static-locations = classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/ 

5、静态资源文件存储在CDN
</code></pre><p>7、SpringBoot2.x文件上传实战<br>​    简介：讲解HTML页面文件上传和后端处理实战<br>​        1、讲解springboot文件上传 MultipartFile file，源自SpringMVC<br>​<br>​            1）静态页面直接访问：localhost:8080/index.html<br>​                注意点：<br>​                    如果想要直接访问html页面，则需要把html放在springboot默认加载的文件夹下面<br>​            2）MultipartFile 对象的transferTo方法，用于文件保存（效率和操作比原先用FileOutStream方便和高效）<br>​<br>​            访问路径 <a href="http://localhost:8080/images/39020dbb-9253-41b9-8ff9-403309ff3f19.jpeg" target="_blank" rel="noopener">http://localhost:8080/images/39020dbb-9253-41b9-8ff9-403309ff3f19.jpeg</a></p>
<p>​        </p>
<p>8、jar包方式运行web项目的文件上传和访问处理（核心知识）<br>​    简介：讲解SpingBoot2.x使用 java -jar运行方式的图片上传和访问处理</p>
<pre><code>1、文件大小配置，启动类里面配置

        @Bean  
        public MultipartConfigElement multipartConfigElement() {  
            MultipartConfigFactory factory = new MultipartConfigFactory();  
            //单个文件最大  
            factory.setMaxFileSize(&quot;10240KB&quot;); //KB,MB  
            /// 设置总上传数据总大小  
            factory.setMaxRequestSize(&quot;1024000KB&quot;);  
            return factory.createMultipartConfig();  
        }  

2、打包成jar包，需要增加maven依赖
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    如果没加相关依赖，执行maven打包，运行后会报错:no main manifest attribute, in XXX.jar

    GUI：反编译工具，作用就是用于把class文件转换成java文件

3、文件上传和访问需要指定磁盘路径
    application.properties中增加下面配置
        1) web.images-path=/Users/jack/Desktop
        2) spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/,classpath:/test/,file:${web.upload-path} 

4、文件服务器：fastdfs，阿里云oss，nginx搭建一个简单的文件服务器
</code></pre><hr>
<hr>
<h1 id="3-SpringBoot热部署devtool和配置文件自动注入实战-3节课"><a href="#3-SpringBoot热部署devtool和配置文件自动注入实战-3节课" class="headerlink" title="3.SpringBoot热部署devtool和配置文件自动注入实战 3节课"></a>3.SpringBoot热部署devtool和配置文件自动注入实战 3节课</h1><p>1、SpringBoot2.x使用Dev-tool热部署<br>​    简介:介绍什么是热部署，使用springboot结合dev-tool工具，快速加载启动应用</p>
<pre><code>官方地址：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-devtools
核心依赖包：
    &lt;dependency&gt;  
         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;  
         &lt;optional&gt;true&lt;/optional&gt;  
     &lt;/dependency&gt;
添加依赖后，在ide里面重启应用，后续修改后马上可以生效

classloader

 不被热部署的文件
     1、/META-INF/maven, /META-INF/resources, /resources, /static, /public, or /templates
     2、指定文件不进行热部署 spring.devtools.restart.exclude=static/**,public/**
     3、手工触发重启 spring.devtools.restart.trigger-file=trigger.txt
         改代码不重启，通过一个文本去控制

     https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-devtools-restart-exclude

 注意点：生产环境不要开启这个功能，如果用java -jar启动，springBoot是不会进行热部署的
</code></pre><p>2、SpringBoot2.x配置文件讲解<br>​    简介：SpringBoot2.x常见的配置文件 xml、yml、properties的区别和使用</p>
<pre><code>xml、properties、json、yaml
1、常见的配置文件 xx.yml, xx.properties，
    1)YAML（Yet Another Markup Language）
        写 YAML 要比写 XML 快得多(无需关注标签或引号)
        使用空格 Space 缩进表示分层，不同层次之间的缩进可以使用不同的空格数目
        注意：key后面的冒号，后面一定要跟一个空格,树状结构
    application.properties示例
        server.port=8090  
        server.session-timeout=30  
        server.tomcat.max-threads=0  
        server.tomcat.uri-encoding=UTF-8 

    application.yml示例
        server:  
              port: 8090  
              session-timeout: 30  
              tomcat.max-threads: 0  
              tomcat.uri-encoding: UTF-8 


2、默认示例文件仅作为指导。 不要将整个内容复制并粘贴到您的应用程序中，只挑选您需要的属性。

3、参考：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#common-application-properties

如果需要修改，直接复制对应的配置文件，加到application.properties里面
</code></pre><p>3、SpringBoot注解把配置文件自动映射到属性和实体类实战<br>​    简介：讲解使用@value注解配置文件自动映射到属性和实体类<br>​<br>​    1、配置文件加载<br>​        方式一<br>​            1、Controller上面配置<br>​               @PropertySource({“classpath:resource.properties”})<br>​            2、增加属性<br>​                 @Value(“${test.name}”)<br>​                  private String name;<br>​<br>​        方式二：实体类配置文件<br>​        步骤：<br>​            1、添加 @Component 注解；<br>​            2、使用 @PropertySource 注解指定配置文件位置；<br>​            3、使用 @ConfigurationProperties 注解，设置相关属性；<br>​<br>​            4、必须 通过注入IOC对象Resource 进来 ， 才能在类中使用获取的配置文件值。<br>​                @Autowired<br>​                private ServerSettings serverSettings;<br>​<br>                例子：<br>                    @Configuration<br>                    @ConfigurationProperties(prefix=”test”)<br>                    @PropertySource(value=”classpath:resource.properties”)<br>                    public class ServerConstant {</p>
<pre><code>常见问题：
    1、配置文件注入失败，Could not resolve placeholder
        解决：根据springboot启动流程，会有自动扫描包没有扫描到相关注解, 
        默认Spring框架实现会从声明@ComponentScan所在的类的package进行扫描，来自动注入，
        因此启动类最好放在根路径下面，或者指定扫描包范围
        spring-boot扫描启动类对应的目录和子目录
    2、注入bean的方式，属性名称和配置文件里面的key一一对应，就用加@Value 这个注解
        如果不一样，就要加@value(&quot;${XXX}&quot;)
</code></pre><hr>
<h1 id="4、Springboot2-0单元测试进阶实战和自定义异常处理-5节课"><a href="#4、Springboot2-0单元测试进阶实战和自定义异常处理-5节课" class="headerlink" title="4、Springboot2.0单元测试进阶实战和自定义异常处理.   5节课"></a>4、Springboot2.0单元测试进阶实战和自定义异常处理.   5节课</h1><p>1、@SpringBootTest单元测试实战<br>​    简介：讲解SpringBoot的单元测试<br>​        1、引入相关依赖<br>​             <!--springboot程序测试依赖，如果是自动创建项目默认添加--><br>​                <dependency><br>​                    <groupid>org.springframework.boot</groupid><br>​                    <artifactid>spring-boot-starter-test</artifactid><br>​                    <scope>test</scope><br>​                </dependency></p>
<pre><code>2、使用
    @RunWith(SpringRunner.class)  //底层用junit  SpringJUnit4ClassRunner
    @SpringBootTest(classes={XdclassApplication.class})//启动整个springboot工程
    public class SpringBootTests { }
</code></pre><p>2、SpringBoot测试进阶高级篇之MockMvc讲解<br>​    简介:讲解MockMvc类的使用和模拟Http请求实战</p>
<pre><code>1、增加类注解 @AutoConfigureMockMvc
            @SpringBootTest(classes={XdclassApplication.class})
2、相关API
    perform：执行一个RequestBuilder请求
    andExpect：添加ResultMatcher-&gt;MockMvcResultMatchers验证规则
    andReturn：最后返回相应的MvcResult-&gt;Response
</code></pre><p>3、SpringBoot2.x个性化启动banner设置和debug日志<br>​    简介：自定义应用启动的趣味性日志图标和查看调试日志</p>
<pre><code>1、启动获取更多信息 java -jar xxx.jar --debug

2、修改启动的banner信息
    1）在类路径下增加一个banner.txt，里面是启动要输出的信息
    2）在applicatoin.properties增加banner文件的路径地址 
        spring.banner.location=banner.txt

    3）官网地址 https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-banners
</code></pre><p>4、SpringBoot2.x配置全局异常实战<br>​    讲解：服务端异常讲解和SpringBoot配置全局异常实战</p>
<pre><code>1、默认异常测试  int i = 1/0，不友好

2、异常注解介绍
    @ControllerAdvice 如果是返回json数据 则用 RestControllerAdvice,就可以不加 @ResponseBody

    //捕获全局异常,处理所有不可知的异常
    @ExceptionHandler(value=Exception.class)
</code></pre><p>​    </p>
<p>5、SpringBoot2.x配置全局异常返回自定义页面<br>​    简介：使用SpringBoot自定义异常和错误页面跳转实战</p>
<pre><code>1、返回自定义异常界面，需要引入thymeleaf依赖
    &lt;dependency&gt;
       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
       &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
    &lt;/dependency&gt;


2、resource目录下新建templates,并新建error.html
    ModelAndView modelAndView = new ModelAndView();
    modelAndView.setViewName(&quot;error.html&quot;);
    modelAndView.addObject(&quot;msg&quot;, e.getMessage());
    return modelAndView;


    https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-error-handling
</code></pre><hr>
<h1 id="5、SpringBoot部署war项目到tomcat9和启动原理讲解-2节课"><a href="#5、SpringBoot部署war项目到tomcat9和启动原理讲解-2节课" class="headerlink" title="5、SpringBoot部署war项目到tomcat9和启动原理讲解 2节课"></a>5、SpringBoot部署war项目到tomcat9和启动原理讲解 2节课</h1><p>1、SpringBoot启动方式讲解和部署war项目到tomcat9<br>简介：SpringBoot常见启动方式讲解和部署war项目Tomcat</p>
<pre><code>1、ide启动
2、jar包方式启动
            maven插件:
            &lt;build&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
            &lt;/build&gt;
            如果没有加，则执行jar包 ，报错如下
                java -jar spring-boot-demo-0.0.1-SNAPSHOT.jar
                no main manifest attribute, in spring-boot-demo-0.0.1-SNAPSHOT.jar
            如果有安装maven 用 mvn spring-boot:run
    项目结构
        example.jar
                 |
                 +-META-INF
                 |  +-MANIFEST.MF
                 +-org
                 |  +-springframework
                 |     +-boot
                 |        +-loader
                 |           +-&lt;spring boot loader classes&gt;
                 +-BOOT-INF
                    +-classes
                    |  +-mycompany
                    |     +-project
                    |        +-YourClasses.class
                    +-lib
                       +-dependency1.jar
                       +-dependency2.jar
目录结构讲解
https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#executable-jar-jar-file-structure

3、war包方式启动
    1)在pom.xml中将打包形式 jar 修改为war  &lt;packaging&gt;war&lt;/packaging&gt;

    构建项目名称 &lt;finalName&gt;xdclass_springboot&lt;/finalName&gt;

    2)tocmat下载 https://tomcat.apache.org/download-90.cgi

    3)修改启动类
        public class XdclassApplication extends SpringBootServletInitializer {

            @Override
            protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {
                return application.sources(XdclassApplication.class);
            }

            public static void main(String[] args) throws Exception {
                SpringApplication.run(XdclassApplication.class, args);
            }

        }

    4)打包项目，启动tomcat

4、启动容器介绍和第三方测试数据讲解

使用Jmter测试工具测试性能，QPS,TPS，RT

https://examples.javacodegeeks.com/enterprise-java/spring/tomcat-vs-jetty-vs-undertow-comparison-of-spring-boot-embedded-servlet-containers/
</code></pre><p>2、SpringBoot2.x启动原理概述<br>​    简介：讲解SpringBoot启动流程概述和基本加载案例</p>
<hr>
<h1 id="6、SpringBoot拦截器实战和-Servlet3-0自定义Filter、Listener-4节课"><a href="#6、SpringBoot拦截器实战和-Servlet3-0自定义Filter、Listener-4节课" class="headerlink" title="6、SpringBoot拦截器实战和 Servlet3.0自定义Filter、Listener 4节课"></a>6、SpringBoot拦截器实战和 Servlet3.0自定义Filter、Listener 4节课</h1><p>加入小D课堂技术交流答疑群：Q群：699347262</p>
<p>1、深入SpringBoot2.x过滤器Filter和使用Servlet3.0配置自定义Filter实战(核心知识)<br>​    简介:讲解SpringBoot里面Filter讲解和使用Servlet3.0配置自定义Filter实战<br>​<br>​        filter简单理解：人—&gt;检票员（filter）—&gt; 景点<br>​<br>​        1、SpringBoot启动默认加载的Filter<br>​            characterEncodingFilter<br>​            hiddenHttpMethodFilter<br>​            httpPutFormContentFilter<br>​            requestContextFilter<br>​<br>​        2、Filter优先级<br>​<br>            Ordered.HIGHEST_PRECEDENCE<br>            Ordered.LOWEST_PRECEDENCE</p>
<pre><code>    低位值意味着更高的优先级 Higher values are interpreted as lower priority
    自定义Filter，避免和默认的Filter优先级一样，不然会冲突

    注册Filter的bean FilterRegistrationBean
    同模块里面有相关默认Filter
        web-&gt;servlet-&gt;filter


3、自定义Filter
    1）使用Servlet3.0的注解进行配置
    2）启动类里面增加 @ServletComponentScan，进行扫描
    3）新建一个Filter类，implements Filter，并实现对应的接口
    4) @WebFilter 标记一个类为filter，被spring进行扫描 
        urlPatterns：拦截规则，支持正则

    6）控制chain.doFilter的方法的调用，来实现是否通过放行
       不放行，web应用resp.sendRedirect(&quot;/index.html&quot;);
        场景：权限控制、用户登录(非前端后端分离场景)等


1、官网地址：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-embedded-container-servlets-filters-listeners
</code></pre><p>2、Servlet3.0的注解自定义原生Servlet实战<br>​    讲解：使用 Servlet3.0的注解自定义原生Servlet和Listener<br>​        1、自定义原生Servlet</p>
<pre><code>@WebServlet(name = &quot;userServlet&quot;,urlPatterns = &quot;/test/customs&quot;)
public class UserServlet extends HttpServlet{

     @Override
     public void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
         resp.getWriter().print(&quot;custom sevlet&quot;);
         resp.getWriter().flush();
         resp.getWriter().close();
     }

     @Override
     protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
         this.doGet(req, resp);
     }
}
</code></pre><p>3、Servlet3.0的注解自定义原生Listener监听器实战<br>​        简介：监听器介绍和Servlet3.0的注解自定义原生Listener监听器实战</p>
<pre><code>1、自定义Listener(常用的监听器 servletContextListener、httpSessionListener、servletRequestListener)
    @WebListener
    public class RequestListener implements ServletRequestListener {

    @Override
    public void requestDestroyed(ServletRequestEvent sre) {
        // TODO Auto-generated method stub
        System.out.println(&quot;======requestDestroyed========&quot;);
    }

    @Override
    public void requestInitialized(ServletRequestEvent sre) {
        System.out.println(&quot;======requestInitialized========&quot;);

    }
</code></pre><p>4、SpringBoot2.X自定义拦截器实战及新旧配置对比(核心知识)<br>​    简介: 讲解拦截器使用，Spingboot2.x新版本配置拦截拦截器和旧版本SpringBoot配置拦截器区别讲解<br>​<br>​    1、@Configuration<br>​        继承WebMvcConfigurationAdapter(SpringBoot2.X之前旧版本)<br>​<br>​        SpringBoot2.X 新版本配置拦截器 implements WebMvcConfigurer<br>​<br>​    2、自定义拦截器 HandlerInterceptor<br>​        preHandle：调用Controller某个方法之前<br>​        postHandle：Controller之后调用，视图渲染之前，如果控制器Controller出现了异常，则不会执行此方法<br>​        afterCompletion：不管有没有异常，这个afterCompletion都会被调用，用于资源清理<br>​<br>    3、按照注册顺序进行拦截，先注册，先被拦截</p>
<pre><code>拦截器不生效常见问题：
    1）是否有加@Configuration
    2）拦截路径是否有问题 **  和 * 
    3）拦截器最后路径一定要 “/**”， 如果是目录的话则是 /*/

Filter
    是基于函数回调 doFilter()，而Interceptor则是基于AOP思想
    Filter在只在Servlet前后起作用，而Interceptor够深入到方法前后、异常抛出前后等

    依赖于Servlet容器即web应用中，而Interceptor不依赖于Servlet容器所以可以运行在多种环境。

    在接口调用的生命周期里，Interceptor可以被多次调用，而Filter只能在容器初始化时调用一次。

    Filter和Interceptor的执行顺序

    过滤前-&gt;拦截前-&gt;action执行-&gt;拦截后-&gt;过滤后
</code></pre><hr>
<h1 id="7-SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf-4节课"><a href="#7-SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf-4节课" class="headerlink" title="7 SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf 4节课"></a>7 SpringBoot常用Starter介绍和整合模板引擎Freemaker、thymeleaf 4节课</h1><p>1、SpringBoot Starter讲解<br>​    简介：介绍什么是SpringBoot Starter和主要作用</p>
<pre><code>1、官网地址：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-starter

2、starter主要简化依赖用的
    spring-boot-starter-web    -&gt;里面包含多种依赖

3、几个常用的starter
    spring-boot-starter-activemq
    spring-boot-starter-aop
    spring-boot-starter-data-redis
    spring-boot-starter-freemarker
    spring-boot-starter-thymeleaf
    spring-boot-starter-webflux
</code></pre><p>​    </p>
<p>2、SpringBoot2.x常见模板引擎讲解和官方推荐使用<br>​    简介：介绍常用的SpringBoot2.x模板引擎和官方推荐案例</p>
<pre><code>1、JSP（后端渲染，消耗性能）
    Java Server Pages 动态网页技术,由应用服务器中的JSP引擎来编译和执行，再将生成的整个页面返回给客户端
    可以写java代码
    持表达式语言（el、jstl）
    内建函数
    JSP-&gt;Servlet(占用JVM内存)permSize
    javaweb官方推荐
    springboot不推荐 https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-jsp-limitations

2、Freemarker 
    FreeMarker Template Language（FTL）  文件一般保存为 xxx.ftl
    严格依赖MVC模式，不依赖Servlet容器（不占用JVM内存）
    内建函数

3、Thymeleaf (主推)
    轻量级的模板引擎（负责逻辑业务的不推荐，解析DOM或者XML会占用多的内存）
    可以直接在浏览器中打开且正确显示模板页面

    直接是html结尾，直接编辑
    xdlcass.net/user/userinfo.html
    社会工程学
        伪装
</code></pre><p>3、SpringBoot2.x整合模板引擎freemarker实战<br>​    简介：SpringBoot2.x整合模板引擎freemarker实战</p>
<pre><code>1、Freemarker相关maven依赖
    &lt;!-- 引入freemarker模板引擎的依赖 --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;
    &lt;/dependency&gt;

2、Freemarker基础配置
    # 是否开启thymeleaf缓存,本地为false，生产建议为true
    spring.freemarker.cache=false

    spring.freemarker.charset=UTF-8
    spring.freemarker.allow-request-override=false
    spring.freemarker.check-template-location=true

    #类型
    spring.freemarker.content-type=text/html

    spring.freemarker.expose-request-attributes=true
    spring.freemarker.expose-session-attributes=true

    #文件后缀
    spring.freemarker.suffix=.ftl
    #路径
    spring.freemarker.template-loader-path=classpath:/templates/


3、建立文件夹
    1)src/main/resources/templates/fm/user/
    2)建立一个index.ftl
    3)user文件夹下面建立一个user.html



4、简单测试代码编写和访问
</code></pre><p>4、SpringBoot2.x整合模板引擎thymeleaf实战<br>​    讲解：SpringBoot2.x整合模板引擎thymeleaf实战</p>
<pre><code>官网地址：https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html
1、thymeleaf相关maven依赖
        &lt;dependency&gt;
               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
               &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;

2、thymeleaf基础配置

    #开发时关闭缓存,不然没法看到实时页面
    spring.thymeleaf.cache=false
    spring.thymeleaf.mode=HTML5
    #前缀
    spring.thymeleaf.prefix=classpath:/templates/
    #编码
    spring.thymeleaf.encoding=UTF-8
    #类型
    spring.thymeleaf.content-type=text/html
    #名称的后缀
    spring.thymeleaf.suffix=.html

3、建立文件夹
    1)src/main/resources/templates/tl/
    2)建立一个index.html

4、简单测试代码编写和访问
    注意：$表达式只能写在th标签内部
    快速入门：https://www.thymeleaf.org/doc/articles/standarddialect5minutes.html
</code></pre><hr>
<h1 id="8-数据库操作之整合Mybaties和事务讲解-5节课"><a href="#8-数据库操作之整合Mybaties和事务讲解-5节课" class="headerlink" title="8 数据库操作之整合Mybaties和事务讲解 5节课"></a>8 数据库操作之整合Mybaties和事务讲解 5节课</h1><p>1、SpringBoot2.x持久化数据方式介绍<br>​<br>​    简介：介绍近几年常用的访问数据库的方式和优缺点<br>​<br>​        1、原始java访问数据库<br>​            开发流程麻烦<br>​            1、注册驱动/加载驱动<br>​                Class.forName(“com.mysql.jdbc.Driver”)<br>​            2、建立连接<br>​                Connection con = DriverManager.getConnection(“jdbc:mysql://localhost:3306/dbname”,”root”,”root”);<br>​            3、创建Statement<br>​<br>​            4、执行SQL语句<br>​<br>            5、处理结果集</p>
<pre><code>    6、关闭连接，释放资源

2、apache dbutils框架
    比上一步简单点
    官网:https://commons.apache.org/proper/commons-dbutils/
3、jpa框架
    spring-data-jpa
    jpa在复杂查询的时候性能不是很好

4、Hiberante   解释：ORM：对象关系映射Object Relational Mapping
    企业大都喜欢使用hibernate

5、Mybatis框架   
    互联网行业通常使用mybatis
    不提供对象和关系模型的直接映射,半ORM
</code></pre><p>2、SpringBoot2.x整合Mybatis3.x注解实战<br>​    简介：SpringBoot2.x整合Mybatis3.x注解配置实战</p>
<pre><code>1、使用starter, maven仓库地址：http://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter

2、加入依赖(可以用 http://start.spring.io/ 下载)

    &lt;!-- 引入starter--&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
                &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
                &lt;version&gt;1.3.2&lt;/version&gt;
                &lt;scope&gt;runtime&lt;/scope&gt;                
            &lt;/dependency&gt;

     &lt;!-- MySQL的JDBC驱动包    --&gt;    
             &lt;dependency&gt;
                &lt;groupId&gt;mysql&lt;/groupId&gt;
                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
                &lt;scope&gt;runtime&lt;/scope&gt;
            &lt;/dependency&gt; 
    &lt;!-- 引入第三方数据源 --&gt;        
            &lt;dependency&gt;
                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
                &lt;artifactId&gt;druid&lt;/artifactId&gt;
                &lt;version&gt;1.1.6&lt;/version&gt;
            &lt;/dependency&gt;

3、加入配置文件
    #mybatis.type-aliases-package=net.xdclass.base_project.domain
    #可以自动识别
    #spring.datasource.driver-class-name =com.mysql.jdbc.Driver

    spring.datasource.url=jdbc:mysql://localhost:3306/movie?useUnicode=true&amp;characterEncoding=utf-8
    spring.datasource.username =root
    spring.datasource.password =password
    #如果不使用默认的数据源 （com.zaxxer.hikari.HikariDataSource）
    spring.datasource.type =com.alibaba.druid.pool.DruidDataSource

加载配置，注入到sqlSessionFactory等都是springBoot帮我们完成

4、启动类增加mapper扫描
    @MapperScan(&quot;net.xdclass.base_project.mapper&quot;)

     技巧：保存对象，获取数据库自增id 
     @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;)

4、开发mapper
    参考语法 http://www.mybatis.org/mybatis-3/zh/java-api.html

5、sql脚本
    CREATE TABLE `user` (
      `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
      `name` varchar(128) DEFAULT NULL COMMENT &apos;名称&apos;,
      `phone` varchar(16) DEFAULT NULL COMMENT &apos;用户手机号&apos;,
      `create_time` datetime DEFAULT NULL COMMENT &apos;创建时间&apos;,
      `age` int(4) DEFAULT NULL COMMENT &apos;年龄&apos;,
      PRIMARY KEY (`id`)
    ) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;


相关资料：
http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/#Configuration

https://github.com/mybatis/spring-boot-starter/tree/master/mybatis-spring-boot-samples

整合问题集合：
    https://my.oschina.net/hxflar1314520/blog/1800035
    https://blog.csdn.net/tingxuetage/article/details/80179772
</code></pre><p>3、SpringBoot2.x整合Mybatis3.x增删改查实操和控制台打印SQL语句<br>​    讲解:SpringBoot2.x整合Mybatis3.x增删改查实操, 控制台打印sql语句<br>​<br>​    1、控制台打印sql语句<br>​        #增加打印sql语句，一般用于本地开发测试<br>​        mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl<br>​<br>​    2、增加mapper代码<br>​        @Select(“SELECT <em> FROM user”)<br>​        @Results({<br>​            @Result(column = “create_time”,property = “createTime”)  //javaType = java.util.Date.class<br>​        })<br>​        List<user> getAll();<br>​<br>​        @Select(“SELECT </user></em> FROM user WHERE id = #{id}”)<br>​        @Results({<br>​             @Result(column = “create_time”,property = “createTime”)<br>​        })<br>​        User findById(Long id);<br>​<br>        @Update(“UPDATE user SET name=#{name} WHERE id =#{id}”)<br>        void update(User user);</p>
<pre><code>   @Delete(&quot;DELETE FROM user WHERE id =#{userId}&quot;)
   void delete(Long userId);

3、增加API

   @GetMapping(&quot;find_all&quot;)
   public Object findAll(){
      return JsonData.buildSuccess(userMapper.getAll());
   }

   @GetMapping(&quot;find_by_Id&quot;)
   public Object findById(long id){
      return JsonData.buildSuccess(userMapper.findById(id));
   }

   @GetMapping(&quot;del_by_id&quot;)
   public Object delById(long id){
   userMapper.delete(id);
      return JsonData.buildSuccess();
   }

   @GetMapping(&quot;update&quot;)
   public Object update(String name,int id){
       User user = new User();
       user.setName(name);
       user.setId(id);
       userMapper.update(user);
       return JsonData.buildSuccess();
   }
</code></pre><p>4、事务介绍和常见的隔离级别，传播行为<br>​<br>​    简介：讲解什么是数据库事务，常见的隔离级别和传播行为<br>​<br>​    1、介绍什么是事务，单机事务，分布式事务处理等<br>​<br>​    2、讲解场景的隔离级别<br>​        Serializable： 最严格，串行处理，消耗资源大<br>​        Repeatable Read：保证了一个事务不会修改已经由另一个事务读取但未提交（回滚）的数据<br>​        Read Committed：大多数主流数据库的默认事务等级<br>​        Read Uncommitted：保证了读取过程中不会读取到非法数据。</p>
<pre><code>3、讲解常见的传播行为
    PROPAGATION_REQUIRED--支持当前事务，如果当前没有事务，就新建一个事务,最常见的选择。

    PROPAGATION_SUPPORTS--支持当前事务，如果当前没有事务，就以非事务方式执行。

    PROPAGATION_MANDATORY--支持当前事务，如果当前没有事务，就抛出异常。

    PROPAGATION_REQUIRES_NEW--新建事务，如果当前存在事务，把当前事务挂起, 两个事务之间没有关系，一个异常，一个提交，不会同时回滚

    PROPAGATION_NOT_SUPPORTED--以非事务方式执行操作，如果当前存在事务，就把当前事务挂起。

    PROPAGATION_NEVER--以非事务方式执行，如果当前存在事务，则抛出异常
</code></pre><p>5、SpringBoot整合mybatis之事务处理实战<br>​    简介：SpringBoot整合Mybatis之事务处理实战<br>​    1、service逻辑引入事务 @Transantional(propagation=Propagation.REQUIRED)</p>
<pre><code>2、service代码
    @Override
    @Transactional
    public int addAccount() {
        User user = new User();
        user.setAge(9);
        user.setCreateTime(new Date());
        user.setName(&quot;事务测试&quot;);
        user.setPhone(&quot;000121212&quot;);

        userMapper.insert(user);
        int a = 1/0;

        return user.getId();
    }
</code></pre><hr>
<h1 id="9-SpringBoot2-x整合Redis实战-4节课"><a href="#9-SpringBoot2-x整合Redis实战-4节课" class="headerlink" title="9 SpringBoot2.x整合Redis实战 4节课"></a>9 SpringBoot2.x整合Redis实战 4节课</h1><p>​    </p>
<p>1、分布式缓存Redis介绍<br>​    简介:讲解为什么要用缓存和介绍什么是Redis，新手练习工具<br>​<br>​    1、redis官网 <a href="https://redis.io/download" target="_blank" rel="noopener">https://redis.io/download</a><br>​<br>​    2、新手入门redis在线测试工具：<a href="http://try.redis.io/" target="_blank" rel="noopener">http://try.redis.io/</a></p>
<p>2、源码编译安装Redis4.x<br>​    简介：使用源码安装Redis4.x和配置外网访问</p>
<pre><code>1、快速安装  https://redis.io/download#installation
        wget http://download.redis.io/releases/redis-4.0.9.tar.gz
        tar xzf redis-4.0.9.tar.gz
        cd redis-4.0.9
        make

        启动服务端：src/redis-server
        启动客户端：src/redis-cli

2、默认是本地访问的，需要开放外网访问
    1）打开redis.conf文件在NETWORK部分修改
       注释掉bind 127.0.0.1可以使所有的ip访问redis
       修改 protected-mode，值改为no
</code></pre><p>3、SpringBoot2.x整合redis实战讲解</p>
<pre><code>简介：使用springboot-starter整合reids实战

    1、官网：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-redis
        集群文档：https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#cluster

    2、springboot整合redis相关依赖引入
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
        &lt;/dependency&gt;

    3、相关配置文件配置
        #=========redis基础配置=========
        spring.redis.database=0
        spring.redis.host=127.0.0.1
        spring.redis.port=6390
        # 连接超时时间 单位 ms（毫秒）
        spring.redis.timeout=3000

        #=========redis线程池设置=========
        # 连接池中的最大空闲连接，默认值也是8。
        spring.redis.pool.max-idle=200

        #连接池中的最小空闲连接，默认值也是0。
        spring.redis.pool.min-idle=200

        # 如果赋值为-1，则表示不限制；pool已经分配了maxActive个jedis实例，则此时pool的状态为exhausted(耗尽)。
        spring.redis.pool.max-active=2000

        # 等待可用连接的最大时间，单位毫秒，默认值为-1，表示永不超时
        spring.redis.pool.max-wait=1000



    4、常见redistemplate种类讲解和缓存实操(使用自动注入)

        1、注入模板
        @Autowired
        private StirngRedisTemplate strTplRedis

        2、类型String，List,Hash,Set,ZSet
        对应的方法分别是opsForValue()、opsForList()、opsForHash()、opsForSet()、opsForZSet()
</code></pre><p>4、Redis工具类封装讲解和实战<br>​    简介：高效开发方式 Redis工具类封装讲解和实战<br>​        1、常用客户端 <a href="https://redisdesktop.com/download" target="_blank" rel="noopener">https://redisdesktop.com/download</a><br>​        2、封装redis工具类并操作</p>
<hr>
<h1 id="10-SpringBoot整合定时任务和异步任务处理-3节课"><a href="#10-SpringBoot整合定时任务和异步任务处理-3节课" class="headerlink" title="10 SpringBoot整合定时任务和异步任务处理 3节课"></a>10 SpringBoot整合定时任务和异步任务处理 3节课</h1><p>加入小D课堂技术交流答疑群：Q群：699347262</p>
<p>1、SpringBoot定时任务schedule讲解<br>​    简介：讲解什么是定时任务和常见定时任务区别</p>
<pre><code>1、常见定时任务 Java自带的java.util.Timer类
    timer:配置比较麻烦，时间延后问题
    timertask:不推荐

2、Quartz框架
    配置更简单
    xml或者注解

3、SpringBoot使用注解方式开启定时任务
    1）启动类里面 @EnableScheduling开启定时任务，自动扫描
    2）定时任务业务类 加注解 @Component被容器扫描
    3）定时执行的方法加上注解 @Scheduled(fixedRate=2000) 定期执行一次
</code></pre><p>2、SpringBoot常用定时任务配置实战<br>​    简介：SpringBoot常用定时任务表达式配置和在线生成器</p>
<pre><code>1、cron 定时任务表达式 @Scheduled(cron=&quot;*/1 * * * * *&quot;) 表示每秒
    1）crontab 工具  https://tool.lu/crontab/
2、fixedRate: 定时多久执行一次（上一次开始执行时间点后xx秒再次执行；）
3、fixedDelay: 上一次执行结束时间点后xx秒再次执行
4、fixedDelayString:  字符串形式，可以通过配置文件指定
</code></pre><p>3、SpringBoot2.x异步任务实战（核心知识）<br>​    简介：讲解什么是异步任务，和使用SpringBoot2.x开发异步任务实战<br>​        1、什么是异步任务和使用场景：适用于处理log、发送邮件、短信……等<br>​            下单接口-&gt;查库存 100<br>​                    余额校验 150<br>​                    风控用户100<br>​                    ….</p>
<pre><code>2、启动类里面使用@EnableAsync注解开启功能，自动扫描

3、定义异步任务类并使用@Component标记组件被容器扫描,异步方法加上@Async
    注意点：
        1）要把异步任务封装到类里面，不能直接写到Controller
        2）增加Future&lt;String&gt; 返回结果 AsyncResult&lt;String&gt;(&quot;task执行完成&quot;);  
        3）如果需要拿到结果 需要判断全部的 task.isDone()
4、通过注入方式，注入到controller里面，如果测试前后区别则改为同步则把Async注释掉
</code></pre><hr>
<h1 id="11-Logback日志框架介绍和SpringBoot整合实战-2节课"><a href="#11-Logback日志框架介绍和SpringBoot整合实战-2节课" class="headerlink" title="11 Logback日志框架介绍和SpringBoot整合实战 2节课"></a>11 Logback日志框架介绍和SpringBoot整合实战 2节课</h1><p>加入小D课堂技术交流答疑群：Q群：699347262</p>
<p>1、新日志框架LogBack介绍<br>​    简介：日志介绍和新日志框架Logback讲解</p>
<pre><code>1.常用处理java的日志组件 slf4j,log4j,logback,common-logging 等

2、logback介绍：基于Log4j基础上大量改良，不能单独使用，推荐配合日志框架SLF4J来使用
    logback当前分成三个模块：logback-core,logback-classic和logback-access;
    logback-core是其它两个模块的基础模块

3、Logback的核心对象：
    Logger：日志记录器
    Appender：指定日志输出的目的地，目的地可以是控制台，文件
    Layout：日志布局 格式化日志信息的输出
</code></pre><p>​<br>​    4、日志级别：DEBUG &lt; INFO &lt; WARN &lt; ERROR<br>​<br>​        ===========log4j示例===========<br>​         ### 设置###<br>​        log4j.rootLogger = debug,stdout,D,E<br>​<br>​        ### 输出信息到控制抬 ###<br>​        log4j.appender.stdout = org.apache.log4j.ConsoleAppender<br>​        log4j.appender.stdout.Target = System.out<br>​        log4j.appender.stdout.layout = org.apache.log4j.PatternLayout<br>​        log4j.appender.stdout.layout.ConversionPattern = [%-5p] %d{yyyy-MM-dd HH:mm:ss,SSS} method:%l%n%m%n<br>​    </p>
<pre><code>    ### 输出DEBUG 级别以上的日志到=D://logs/error.log ###
    log4j.appender.D = org.apache.log4j.DailyRollingFileAppender
    log4j.appender.D.File = D://logs/log.log
    log4j.appender.D.Append = true
    log4j.appender.D.Threshold = DEBUG 
    log4j.appender.D.layout = org.apache.log4j.PatternLayout
    log4j.appender.D.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n

    ### 输出ERROR 级别以上的日志到=D://logs/error.log ###
    log4j.appender.E = org.apache.log4j.DailyRollingFileAppender
    log4j.appender.E.File =E://logs/error.log 
    log4j.appender.E.Append = true
    log4j.appender.E.Threshold = ERROR 
    log4j.appender.E.layout = org.apache.log4j.PatternLayout
    log4j.appender.E.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n 

    ===========logback============

4、Log4j日志转换为logback在线工具（支持log4j.properties转换为logback.xml,不支持 log4j.xml转换为logback.xml）
 https://logback.qos.ch/translator/
</code></pre><p>2、SpringBoot2.x日志讲解和自定义Logback配置实战<br>​    简介：讲解SpringBoot2.x整合Logback配置实战</p>
<pre><code>1、官网介绍：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-logging

   各个组件案例：https://logback.qos.ch/manual/index.html

2、分析SpringBoot启动日志
    1）默认情况下，Spring Boot将日志输出到控制台

3、整合Logback实战
    1）创建 日志文件logback-spring.xml，官方推荐 -spring.xml结尾
        默认加载加载配置顺序 logback-spring.xml, logback-spring.groovy, logback.xml, or logback.groovy

    注释：
        &lt;configuration&gt; 子节点
        &lt;appender&gt;&lt;/appender&gt;                       
        &lt;logger&gt;&lt;/logger&gt;
        &lt;root&gt;&lt;/root&gt;(要加在最后)        
</code></pre><hr>
<h1 id="12章-搜索框架ElasticSearch介绍和整合SpringBoot-4节课"><a href="#12章-搜索框架ElasticSearch介绍和整合SpringBoot-4节课" class="headerlink" title="12章  搜索框架ElasticSearch介绍和整合SpringBoot 4节课"></a>12章  搜索框架ElasticSearch介绍和整合SpringBoot 4节课</h1><p>1、搜索引擎知识和搜索框架elasticsearch基本介绍<br>​    简介：通过京东电商 介绍什么是搜索引擎，和开源搜索框架ElasticSearch6.x新特性介绍</p>
<pre><code>    前言：介绍ES的主要特点和使用场景，新特性讲解
    mysql：like 模糊，性能问题,

    solr:针对企业，Lucene
    elasticsearch：针对数据量特别大，PB,TB
      纯java开发，springboot使用，5.6版本
      es升级4-&gt;5版本，改动大，但是5版本后，改动不大


elasticSearch主要特点

    1、特点：全文检索，结构化检索，数据统计、分析，接近实时处理，分布式搜索(可部署数百台服务器)，处理PB级别的数据
        搜索纠错，自动完成
    2、使用场景：日志搜索，数据聚合，数据监控，报表统计分析

    3、国内外使用者：维基百科，Stack Overflow，GitHub

新特性讲解

    1、6.2.x版本基于Lucene 7.x，更快，性能进一步提升,对应的序列化组件，升级到Jackson 2.8
        mysql：database   table   rocord
        es   : index      type（只能存在一个)    document

    2、推荐使用5.0版本推出的Java REST/HTTP客户端，依赖少，比Transport使用更方便，在基准测试中，性能并不输于Transport客户端，

    在5.0到6.0版本中，每次有对应的API更新, 文档中也说明，推荐使用这种方式进行开发使用,所有可用节点间的负载均衡
    在节点故障和特定响应代码的情况下进行故障转移,失败的连接处罚（失败的节点是否重试取决于失败的连续次数;失败的失败次数越多，客户端在再次尝试同一节点之前等待的时间越长）

    3、(重要)不再支持一个索引库里面多个type，6.x版本已经禁止一个index里面多个type，所以一个index索引库只能存在1个type

    官方文档：
    1、6.0更新特性
     https://www.elastic.co/guide/en/elasticsearch/reference/6.0/release-notes-6.0.0.html#breaking-java-6.0.0
    2、6.1更新特性 
    https://www.elastic.co/guide/en/elasticsearch/reference/6.1/release-notes-6.1.0.html
</code></pre><p>2、快熟部署ElastcSearch5.6.x<br>​    简介：讲解为什么不用ES6.x版本，及本地快速安装ElasticSeach和场景问题处理<br>​<br>​    配置JDK1.8<br>​        使用wget 下载elasticsearch安装包<br>​        wget  <a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.8.tar.gz" target="_blank" rel="noopener">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.8.tar.gz</a><br>​    解压<br>​        tar -zxvf elasticsearch-5.6.8.tar.gz<br>​    官网：<a href="https://www.elastic.co/products/elasticsearch" target="_blank" rel="noopener">https://www.elastic.co/products/elasticsearch</a><br>​<br>​    外网访问配置：<br>​        config目录下面elasticsearch.yml<br>​        修改为 network.host: 0.0.0.0</p>
<pre><code>配置es出现相关问题处理（阿里云、腾讯云，亚马逊云安装问题集合）：
    1、问题一
        Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5330000, 986513408, 0) failed; error=&apos;Cannot allocate memory&apos; (errno=12)
        #
        # There is insufficient memory for the Java Runtime Environment to continue.
        # Native memory allocation (mmap) failed to map 986513408 bytes for committing reserved memory.
        # An error report file with more information is saved as:
        # /usr/local/software/temp/elasticsearch-6.2.2/hs_err_pid1912.log
    解决：内存不够，购买阿里云的机器可以动态增加内存

    2、问题二
        [root@iZwz95j86y235aroi85ht0Z bin]# ./elasticsearch
        [2018-02-22T20:14:04,870][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main]
        org.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root
        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:125) ~[elasticsearch-6.2.2.jar:6.2.2]
        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) ~[elasticsearch-6.2.2.jar:6.2.2]
        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.2.2.jar:6.2.2]
        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-6.2.2.jar:6.2.2]
    解决：用非root用户
        添加用户：useradd -m 用户名  然后设置密码  passwd 用户名


    3、问题三
        ./elasticsearch
        Exception in thread &quot;main&quot; java.nio.file.AccessDeniedException: /usr/local/software/temp/elasticsearch-6.2.2/config/jvm.options
       解决：权限不够 chmod 777 -R 当前es目录

    常见配置问题资料：https://www.jianshu.com/p/c5d6ec0f35e0
</code></pre><p>3、ElasticSearch5.6.8测试数据准备<br>​    简介: ElasticSearch5.6.x简单测试<br>​        1、步骤 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.6/index.html" target="_blank" rel="noopener">https://www.elastic.co/guide/en/elasticsearch/reference/5.6/index.html</a><br>​        2、使用POSTMAN 工具</p>
<pre><code>基础
    查看集群状态：localhost:9200/_cat/health?v
    查看索引列表：localhost:9200/_cat/indices?v
</code></pre><p>4、SpringBoot2.x整合elasticsearch5.6.x<br>​    简介：SpringBoot2.x整合elasticSearch5.6.8实战</p>
<pre><code>Spring Data Elasticsearch文档地址
https://docs.spring.io/spring-data/elasticsearch/docs/3.0.6.RELEASE/reference/html/

版本说明：SpringBoot整合elasticsearch
    https://github.com/spring-projects/spring-data-elasticsearch/wiki/Spring-Data-Elasticsearch---Spring-Boot---version-matrix

1、添加maven依赖                    
    &lt;dependency&gt;  
       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
       &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;  
   &lt;/dependency&gt;  

2、接口继承ElasticSearchRepository,里面有很多默认实现
    注意点：
         索引名称记得小写，类属性名称也要小写
     新建实体对象article
     加上类注解 @Document(indexName = &quot;blog&quot;, type = &quot;article&quot;)


 3、配置文件：ELASTICSEARCH (ElasticsearchProperties)
</code></pre><p>​            spring.data.elasticsearch.cluster-name=elasticsearch # Elasticsearch cluster name.<br>​            spring.data.elasticsearch.cluster-nodes=localhost:9300 # Comma-separated list of cluster node addresses.<br>​            spring.data.elasticsearch.repositories.enabled=true # Whether to enable Elasticsearch repositories.<br>​<br>​        4、QueryBuilder使用<br>​        <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api/1.3/query-dsl-queries.html" target="_blank" rel="noopener">https://www.elastic.co/guide/en/elasticsearch/client/java-api/1.3/query-dsl-queries.html</a><br>​<br>        //单个匹配，搜索name为jack的文档<br>        QueryBuilder queryBuilder = QueryBuilders.matchQuery(“title”, “搜”); </p>
<pre><code>4、查看es数据

    查看索引信息：http://localhost:9200/_cat/indices?v
    查看某个索引库结构：http://localhost:9200/blog
    查看某个对象：http://localhost:9200/blog/article/1
</code></pre><hr>
<h1 id="13-消息队列介绍和SpringBoot2-x整合RockketMQ、ActiveMQ-9节课"><a href="#13-消息队列介绍和SpringBoot2-x整合RockketMQ、ActiveMQ-9节课" class="headerlink" title="13 消息队列介绍和SpringBoot2.x整合RockketMQ、ActiveMQ 9节课"></a>13 消息队列介绍和SpringBoot2.x整合RockketMQ、ActiveMQ 9节课</h1><p>加入小D课堂技术交流答疑群：Q群：699347262</p>
<p>1、JMS介绍和使用场景及基础编程模型<br>​    简介：讲解什么是小写队列，JMS的基础知识和使用场景<br>​    1、什么是JMS: Java消息服务（Java Message Service),Java平台中关于面向消息中间件的接口</p>
<pre><code>2、JMS是一种与厂商无关的 API，用来访问消息收发系统消息，它类似于JDBC(Java Database Connectivity)。这里，JDBC 是可以用来访问许多不同关系数据库的 API

3、使用场景：
    1）跨平台 
    2）多语言 
    3）多项目
    4）解耦
    5）分布式事务

    6）流量控制
    7）最终一致性
    8）RPC调用
        上下游对接，数据源变动-&gt;通知下属
4、概念    
    JMS提供者：Apache ActiveMQ、RabbitMQ、Kafka、Notify、MetaQ、RocketMQ
    JMS生产者(Message Producer)
    JMS消费者(Message Consumer)
    JMS消息
    JMS队列
    JMS主题

    JMS消息通常有两种类型：点对点（Point-to-Point)、发布/订阅（Publish/Subscribe）

5、编程模型
    MQ中需要用的一些类
    ConnectionFactory ：连接工厂，JMS 用它创建连接
    Connection ：JMS 客户端到JMS Provider 的连接
    Session： 一个发送或接收消息的线程
    Destination ：消息的目的地;消息发送给谁.
    MessageConsumer / MessageProducer： 消息接收者，消费者
</code></pre><p>2、ActiveMQ5.x消息队列基础介绍和安装<br>​<br>​    简介：介绍ActiveMQ5.x消息队列基础特性和本地快速安装<br>​        特点：<br>​            1）支持来自Java，C，C ++，C＃，Ruby，Perl，Python，PHP的各种跨语言客户端和协议<br>​            2）支持许多高级功能，如消息组，虚拟目标，通配符和复合目标<br>​            3) 完全支持JMS 1.1和J2EE 1.4，支持瞬态，持久，事务和XA消息<br>​            4) Spring支持，ActiveMQ可以轻松嵌入到Spring应用程序中，并使用Spring的XML配置机制进行配置<br>​            5) 支持在流行的J2EE服务器（如TomEE，Geronimo，JBoss，GlassFish和WebLogic）中进行测试<br>​            6) 使用JDBC和高性能日志支持非常快速的持久化<br>​            …<br>​<br>​        1、下载地址：<a href="http://activemq.apache.org/activemq-5153-release.html" target="_blank" rel="noopener">http://activemq.apache.org/activemq-5153-release.html</a><br>​        2、快速开始：<a href="http://activemq.apache.org/getting-started.html" target="_blank" rel="noopener">http://activemq.apache.org/getting-started.html</a><br>​        3、如果我们是32位的机器，就双击win32目录下的activemq.bat,如果是64位机器，则双击win64目录下的activemq.bat<br>​        4、bin目录里面启动 选择对应的系统版本和位数，activeMQ start 启动<br>​        5、启动后访问路径<a href="http://127.0.0.1:8161/" target="_blank" rel="noopener">http://127.0.0.1:8161/</a><br>​<br>​        6、用户名和密码默认都是admin<br>​        7、官方案例集合<br>​            <a href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples" target="_blank" rel="noopener">https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples</a><br>​        面板：<br>​        Name：队列名称。<br>​        Number Of Pending Messages：等待消费的消息个数。<br>​        Number Of Consumers：当前连接的消费者数目<br>​        Messages Enqueued：进入队列的消息总个数，包括出队列的和待消费的，这个数量只增不减。<br>​        Messages Dequeued：已经消费的消息数量。</p>
<p>3、SpringBoot2.x整合ActiveMQ实战之点对点消息(p2p)<br>​<br>​    简介:SpringBoot2.x整合ActiveMQ实战之点对点消息<br>​<br>​    1、官网地址：<a href="https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-activemq" target="_blank" rel="noopener">https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-activemq</a><br>​<br>​    2、加入依赖<br>​        <!-- 整合消息队列ActiveMQ --><br>​        <dependency><br>​            <groupid>org.springframework.boot</groupid><br>​            <artifactid>spring-boot-starter-activemq</artifactid><br>​        </dependency><br>​<br>        <!-- 如果配置线程池则加入 --><br>        <dependency><br>            <groupid>org.apache.activemq</groupid><br>            <artifactid>activemq-pool</artifactid><br>        </dependency></p>
<pre><code>3、application.properties配置文件配置
    #整合jms测试，安装在别的机器，防火墙和端口号记得开放
   spring.activemq.broker-url=tcp://127.0.0.1:61616

   #集群配置
   #spring.activemq.broker-url=failover:(tcp://localhost:61616,tcp://localhost:61617)

   spring.activemq.user=admin
   spring.activemq.password=admin
   #下列配置要增加依赖
   spring.activemq.pool.enabled=true
   spring.activemq.pool.max-connections=100

 4、springboot启动类 @EnableJms，开启支持jms

 5、模拟请求
     localhost:8080/api/v1/order?msg=12312321321312

 6、消费者：实时监听对应的队列
     @JmsListener(destination = &quot;order.queue&quot;)
</code></pre><p>​    </p>
<p>4、SpringBoot整合ActiveMQ实战之发布订阅模式(pub/sub)<br>​    简介：SpringBoot整合ActiveMQ实战之发布订阅模式(pub/sub),及同时支持点对点和发布订阅模型</p>
<pre><code>    1、需要加入配置文件，支持发布订阅模型，默认只支持点对点
        #default point to point
        spring.jms.pub-sub-domain=true

注意点：

    1、默认消费者并不会消费订阅发布类型的消息，这是由于springboot默认采用的是p2p模式进行消息的监听
        修改配置：spring.jms.pub-sub-domain=true

    2、@JmsListener如果不指定独立的containerFactory的话是只能消费queue消息
        修改订阅者container：containerFactory=&quot;jmsListenerContainerTopic&quot;

        //需要给topic定义独立的JmsListenerContainer
        @Bean
        public JmsListenerContainerFactory&lt;?&gt; jmsListenerContainerTopic(ConnectionFactory activeMQConnectionFactory) {
            DefaultJmsListenerContainerFactory bean = new DefaultJmsListenerContainerFactory();
            bean.setPubSubDomain(true);
            bean.setConnectionFactory(activeMQConnectionFactory);
            return bean;
        }

        在配置文件里面，注释掉 #spring.jms.pub-sub-domain=true
</code></pre><p>5、RocketMQ4.x消息队列介绍<br>​    简介：阿里开源消息队列 RocketMQ4.x介绍和新概念讲解</p>
<pre><code>1、Apache RocketMQ作为阿里开源的一款高性能、高吞吐量的分布式消息中间件
2、特点
    1)在高压下1毫秒内响应延迟超过99.6％。
    2)适合金融类业务，高可用性跟踪和审计功能。
    3)支持发布订阅模型，和点对点
    4）支持拉pull和推push两种消息模式
    5)单一队列百万消息
    6)支持单master节点，多master节点，多master多slave节点
    ...
3、概念
    Producer:消息生产者
    Producer Group:消息生产者组，发送同类消息的一个消息生产组

    Consumer:消费者
    Consumer Group:消费同个消息的多个实例

    Tag:标签，子主题（二级分类）,用于区分同一个主题下的不同业务的消息

    Topic:主题
    Message：消息
    Broker：MQ程序，接收生产的消息，提供给消费者消费的程序
    Name Server：给生产和消费者提供路由信息，提供轻量级的服务发现和路由        

3、官网地址：http://rocketmq.apache.org/

学习资源：
    1）http://jm.taobao.org/2017/01/12/rocketmq-quick-start-in-10-minutes/    
    2）https://www.jianshu.com/p/453c6e7ff81c
</code></pre><p>6、RocketMQ4.x本地快速部署<br>​    简介:RocketMQ4.x本地快速部署</p>
<pre><code>1、安装前提条件(推荐)
    64bit OS, Linux/Unix/Mac
    64bit JDK 1.8+;

2、快速开始 http://rocketmq.apache.org/docs/quick-start/
   下载安装包：https://www.apache.org/dyn/closer.cgi?path=rocketmq/4.2.0/rocketmq-all-4.2.0-bin-release.zip

   路径：/Users/jack/Desktop/person/springboot/资料/第13章/第5课/rocketmq-all-4.2.0-bin-release/bin

3、解压压缩包 
    1）进入bin目录，启动namesrv
         nohup sh mqnamesrv &amp; 

    2) 查看日志 tail -f nohup.out
    结尾：The Name Server boot success. serializeType=JSON 表示启动成功

    3、启动broker   
        nohup sh mqbroker -n 127.0.0.1:9876 &amp;

    4)、关闭nameserver broker执行的命令
        sh mqshutdown namesrv
        sh mqshutdown broker
</code></pre><p>7、RoekerMQ4.x可视化控制台讲解<br>​    简介：RoekerMQ4.x可视化控制台讲解</p>
<pre><code>1、下载 https://github.com/apache/rocketmq-externals
2、编译打包  mvn clean package -Dmaven.test.skip=true
3、target目录 通过java -jar的方式运行

4、无法连接获取broker信息
    1）修改配置文件,名称路由地址为 namesrvAddr，例如我本机为
    2）src/main/resources/application.properties
        rocketmq.config.namesrvAddr=192.168.0.101:9876

5、默认端口 localhost:8080

6、注意：
    在阿里云，腾讯云或者虚拟机，记得检查端口号和防火墙是否启动
</code></pre><p>8、Springboot2.x整合RocketMQ4.x实战上集<br>​    简介：Springboot2.x整合RocketMQ4.x实战，加入相关依赖，开发生产者代码<br>​<br>​    启动nameser和broker<br>​<br>​    1、加入相关依赖<br>​        <dependency><br>​            <groupid>org.apache.rocketmq</groupid><br>​            <artifactid>rocketmq-client</artifactid><br>​            <version>${rocketmq.version}</version><br>​        </dependency><br>​        <dependency><br>​            <groupid>org.apache.rocketmq</groupid><br>​            <artifactid>rocketmq-common</artifactid><br>​            <version>${rocketmq.version}</version><br>​        </dependency>  </p>
<pre><code>2、application.properties加入配置文件        
    # 消费者的组名
    apache.rocketmq.consumer.PushConsumer=orderConsumer
    # 生产者的组名
    apache.rocketmq.producer.producerGroup=Producer
    # NameServer地址
    apache.rocketmq.namesrvAddr=127.0.0.1:9876

3、开发MsgProducer
     /**
     * 生产者的组名
     */
    @Value(&quot;${apache.rocketmq.producer.producerGroup}&quot;)
    private String producerGroup;

    /**
     * NameServer 地址
     */
    @Value(&quot;${apache.rocketmq.namesrvAddr}&quot;)
    private String namesrvAddr;

    private  DefaultMQProducer producer ;
</code></pre><p>​<br>​        public DefaultMQProducer getProducer(){<br>​            return this.producer;<br>​        }<br>​<br>​        @PostConstruct<br>​        public void defaultMQProducer() {<br>​            //生产者的组名<br>​            producer = new DefaultMQProducer(producerGroup);<br>​            //指定NameServer地址，多个地址以 ; 隔开<br>​            //如 producer.setNamesrvAddr(“192.168.100.141:9876;192.168.100.142:9876;192.168.100.149:9876”);<br>​            producer.setNamesrvAddr(namesrvAddr);<br>​            producer.setVipChannelEnabled(false);<br>​<br>​            try {<br>​                /*<em><br>​                 </em> Producer对象在使用之前必须要调用start初始化，只能初始化一次<br>​                 */<br>​                producer.start();<br>​<br>            } catch (Exception e) {<br>                e.printStackTrace();<br>            } </p>
<pre><code>    // producer.shutdown();  一般在应用上下文，关闭的时候进行关闭，用上下文监听器

}
</code></pre><p>9、Springboot2.x整合RocketMQ4.x实战下集<br>​    简介：Springboot2.x整合RocketMQ4.x实战，开发消费者代码，常见问题处理</p>
<pre><code>1、创建消费者


问题：
    1、Caused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to &lt;172.17.42.1:10911&gt; failed 

    2、com.alibaba.rocketmq.client.exception.MQClientException: Send [1] times, still failed, cost [1647]ms, Topic: TopicTest1, BrokersSent: [broker-a, null, null]

    3、org.apache.rocketmq.client.exception.MQClientException: Send [3] times, still failed, cost [497]ms, Topic: TopicTest, BrokersSent: [chenyaowudeMacBook-Air.local,     chenyaowudeMacBook-Air.local, chenyaowudeMacBook-Air.local]
    解决：多网卡问题处理
    1、设置producer:  producer.setVipChannelEnabled(false);
    2、编辑ROCKETMQ 配置文件：broker.conf（下列ip为自己的ip）
        namesrvAddr = 192.168.0.101:9876
        brokerIP1 = 192.168.0.101



    4、DESC: service not available now, maybe disk full, CL:
    解决：修改启动脚本runbroker.sh，在里面增加一句话即可：        
    JAVA_OPT=&quot;${JAVA_OPT} -Drocketmq.broker.diskSpaceWarningLevelRatio=0.98&quot;
    （磁盘保护的百分比设置成98%，只有磁盘空间使用率达到98%时才拒绝接收producer消息）


    常见问题处理：
        https://blog.csdn.net/sqzhao/article/details/54834761
        https://blog.csdn.net/mayifan0/article/details/67633729
        https://blog.csdn.net/a906423355/article/details/78192828
</code></pre><hr>
<h1 id="14-高级篇幅之SpringBoot多环境配置-1节课"><a href="#14-高级篇幅之SpringBoot多环境配置-1节课" class="headerlink" title="14 高级篇幅之SpringBoot多环境配置 1节课"></a>14 高级篇幅之SpringBoot多环境配置 1节课</h1><p>1、SpringBoot多环境配置介绍和项目实战（核心知识）<br>​    简介：SpringBoot介绍多环境配置和使用场景</p>
<pre><code>1、不同环境使用不同配置
    例如数据库配置，在开发的时候，我们一般用开发数据库，而在生产环境的时候，我们是用正式的数据
2、配置文件存放路径
    classpath根目录的“/config”包下
    classpath的根目录下
3、spring boot允许通过命名约定按照一定的格式(application-{profile}.properties)来定义多个配置文件
</code></pre><hr>
<h1 id="15-高级篇幅之SpringBoot2-0响应式编程-4节课-1、SprinBoot2-x响应式编程简介"><a href="#15-高级篇幅之SpringBoot2-0响应式编程-4节课-1、SprinBoot2-x响应式编程简介" class="headerlink" title="15 高级篇幅之SpringBoot2.0响应式编程 4节课 1、SprinBoot2.x响应式编程简介"></a>15 高级篇幅之SpringBoot2.0响应式编程 4节课 1、SprinBoot2.x响应式编程简介</h1><p>​    简介:讲解什么是reactive响应式编程和使用的好处</p>
<pre><code>1、基础理解：
    依赖于事件，事件驱动(Event-driven)
    一系列事件称为“流”
    异步
    非阻塞

    观察者模式

网上的一个例子：
    int b= 2;
    int c=3
    int a = b+c  //命令式编程后续b和c变化，都不影响a
    b=5;

    int b= 2;
    int c= 3
    int a = b+c  //响应式编程中，a的变化，会和b、c的变化而变化（事件驱动）
    b=5;

2、官网：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-webflux
    SpingBoot2底层是用spring5,开始支持响应式编程，Spring又是基于Reactor试下响应式。
</code></pre><p>​    </p>
<pre><code>学习资料
    1、reactive-streams学习资料：http://www.reactive-streams.org/
    2、web-flux相关资料：https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#spring-webflux
</code></pre><p>2、SpringBoot2.x响应式编程webflux介绍<br>​    简介：讲解SpringBoot2.x响应式编程介绍 Mono、Flux对象和优缺点<br>​<br>​    1、Spring WebFlux是Spring Framework 5.0中引入的新的反应式Web框架<br>​    与Spring MVC不同，它不需要Servlet API，完全异步和非阻塞，并 通过Reactor项目实现Reactive Streams规范。<br>​    RxJava</p>
<pre><code>2、Flux和Mono  User List&lt;User&gt;
    1）简单业务而言：和其他普通对象差别不大，复杂请求业务，就可以提升性能
    2）通俗理解：
        Mono 表示的是包含 0 或者 1 个元素的异步序列
            mono-&gt;单一对象 User     redis-&gt;用户ID-》唯一的用户Mono&lt;User&gt;  

        Flux 表示的是包含 0 到 N 个元素的异步序列
            flux-&gt;数组列表对象 List&lt;User&gt;   redis-&gt;男性用户-&gt;Flux&lt;User&gt;
        Flux 和 Mono 之间可以进行转换


3、Spring WebFlux有两种风格：基于功能和基于注解的。基于注解非常接近Spring MVC模型，如以下示例所示：
    第一种：
        @RestController 
        @RequestMapping（“/ users”）
         public  class MyRestController {

            @GetMapping（“/ {user}”）
             public Mono &lt;User&gt; getUser（ @PathVariable Long user）{
                 // ...
            }

            @GetMapping（“/ {user} / customers”）
             public Flux &lt;Customer&gt; getUserCustomers（ @PathVariable Long user）{
                 // ...
            }

            @DeleteMapping（“/ {user}”）
             public Mono &lt;User&gt; deleteUser（ @PathVariable Long user）{
                 // ...
            }

        }
    第二种： 路由配置与请求的实际处理分开
        @Configuration
         public  class RoutingConfiguration {

            @Bean
             public RouterFunction &lt;ServerResponse&gt; monoRouterFunction（UserHandler userHandler）{
                 return route（GET（ “/ {user}”）.and（accept（APPLICATION_JSON）），userHandler :: getUser）
                        .andRoute（GET（“/ {user} / customers”）.and（accept（APPLICATION_JSON）），userHandler :: getUserCustomers）
                        .andRoute（DELETE（“/ {user}”）.and（accept（APPLICATION_JSON）），userHandler :: deleteUser）;
            }

        }

        @Component
        public class UserHandler {

            公共 Mono &lt;ServerResponse&gt; getUser（ServerRequest请求）{
                 // ...
            }

            public Mono &lt;ServerResponse&gt; getUserCustomers（ServerRequest request）{
                 // ...
            }

            公共 Mono &lt;ServerResponse&gt; deleteUser（ServerRequest请求）{
                 // ...
            }
        }



4、Spring WebFlux应用程序不严格依赖于Servlet API，因此它们不能作为war文件部署，也不能使用src/main/webapp目录

5、可以整合多个模板引擎
    除了REST Web服务外，您还可以使用Spring WebFlux提供动态HTML内容。Spring WebFlux支持各种模板技术，包括Thymeleaf，FreeMarker
</code></pre><p>3、SpringBoot2.x webflux实战<br>​    简介:webflux响应式编程实战<br>​<br>​    1、WebFlux中，请求和响应不再是WebMVC中的ServletRequest和ServletResponse，而是ServerRequest和ServerResponse<br>​<br>​    2、加入依赖，如果同时存在spring-boot-starter-web，则会优先用spring-boot-starter-web<br>​        <dependency><br>​                <groupid>org.springframework.boot</groupid><br>​                <artifactid>spring-boot-starter-webflux</artifactid><br>​        </dependency><br>​<br>​        测试<br>​        localhost:8080/api/v1/user/test<br>​<br>    3、启动方式默认是Netty,8080端口</p>
<p>​    </p>
<pre><code>4、参考：https://spring.io/blog/2016/04/19/understanding-reactive-types
</code></pre><p>4、WebFlux客户端WebClient讲解<br>​    简介：讲解SpringBoot2.x WebFlux客户端WebClient的介绍和使用<br>​        1、反应式客户端</p>
<pre><code>官网地址：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-webclient
</code></pre><hr>
<h1 id="16-高级篇幅之SpringBoot2-0服务器端主动推送SSE技术讲解-2节课"><a href="#16-高级篇幅之SpringBoot2-0服务器端主动推送SSE技术讲解-2节课" class="headerlink" title="16 高级篇幅之SpringBoot2.0服务器端主动推送SSE技术讲解 2节课"></a>16 高级篇幅之SpringBoot2.0服务器端主动推送SSE技术讲解 2节课</h1><p>加入小D课堂技术交流答疑群：Q群：699347262</p>
<p>1、服务端推送常用技术介绍<br>​    简介：服务端常用推送技术介绍，如websocket，sse轮询等<br>​        1、客户端轮询:ajax定时拉取</p>
<pre><code>2、服务端主动推送:WebSocket
    全双工的，本质上是一个额外的tcp连接，建立和关闭时握手使用http协议，其他数据传输不使用http协议
    更加复杂一些，适用于需要进行复杂双向数据通讯的场景

3、服务端主动推送:SSE (Server Send Event)
    html5新标准，用来从服务端实时推送数据到浏览器端，
    直接建立在当前http连接上，本质上是保持一个http长连接，轻量协议
    简单的服务器数据推送的场景，使用服务器推送事件    
    学习资料：http://www.w3school.com.cn/html5/html_5_serversentevents.asp
</code></pre><p>2、SpringBoot2.x服务端主动推送SSE<br>​    简介：讲解SpringBoot2.x服务端主动推送Sever-Send-Events<br>​<br>​    1、localhost:8080/index.html</p>
<p>2、需要把response的类型 改为 text/event-stream，才是sse的类型</p>
<h1 id="17-高级篇幅之云服务器介绍和部署生产环境实战-5节课"><a href="#17-高级篇幅之云服务器介绍和部署生产环境实战-5节课" class="headerlink" title="17 高级篇幅之云服务器介绍和部署生产环境实战 5节课"></a>17 高级篇幅之云服务器介绍和部署生产环境实战 5节课</h1><p>1、阿里云服务器介绍和使用讲解<br>​    简介：阿里云服务器介绍和使用讲解</p>
<p>2、阿里云Linux服务器部署JDK8实战<br>​    简介：在阿里云服务器上安装JDK8和配置环境变量</p>
<pre><code>lnux下使用wget下载jdk8:
进到目录/usr/local/software

配置环境变量
vim /etc/profile
加入
export JAVA_HOME=/usr/local/software/jdk8
export PATH=$PATH:$JAVA_HOME/bin
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export JAVA_HOME PATH CLASSPATH

使用 source /etc/profile   让配置立刻生效
</code></pre><p>3、阿里云服务器SpringBoot2.x生产环境部署实战<br>​    简介：讲解SpringBoot生产环境部署和常见注意事项<br>​<br>​<br>​    1、去除相关生产环境没用的jar<br>​        比如热部署dev-tool<br>​<br>​    2、本地maven打包成jar包<br>​        mvn clean package  -Dmaven.test.skip=true 跳过测试<br>​<br>​    3、服务器安装jdk，上传Jar包<br>​        上传工具：<br>​            windows:<br>​                winscp<br>​                securtyCRT<br>​            mac：<br>​                filezilla<br>​        ssh <a href="mailto:root@120.79.160.143" target="_blank" rel="noopener">root@120.79.160.143</a><br>​        访问路径 <a href="http://120.79.160.143:8080/api/v1/user/find" target="_blank" rel="noopener">http://120.79.160.143:8080/api/v1/user/find</a><br>​<br>        java -jar xxxx.jar</p>
<pre><code>    守护进程、系统服务、shell脚本

    打包指定配置文件
        1、使用maven的profiles
        2、使用springboot的profile=active

访问不了
    1、阿里云防火墙是否开启，可以选择关闭，关闭是不安全的，可以选择开放端口
    2、阿里云的安全访问组，开启对应的端口，如果应用是以80端口启动，则默认可以访问



4、成熟的互联网公司应该有的架构
    本地提交生产代码-&gt;gitlab仓库-&gt;Jenkins自动化构建-&gt;运维或者开发人员发布
</code></pre><p>4、SpringBoot2.x监控Actuator实战上集<br>​    简介：讲解SpringBoot使用actuator监控配置和使用</p>
<pre><code>可用性：100%，99.9%

1、介绍什么是actuator
    官方介绍：
        Spring Boot包含许多附加功能，可帮助您在将应用程序投入生产时监视和管理应用程序。 可以选择使用HTTP端点或JMX来管理和监控您的应用程序，自动应用于审计，健康和指标收集;

    一句话：springboot提供用于监控和管理生产环境的模块
    官方文档：https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#production-ready
2、加入依赖
    &lt;dependency&gt;  
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  
        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;  
    &lt;/dependency&gt; 

3、加入上述依赖后，访问几个url
        /actuator/health
        /actuator/info
        /actuator
</code></pre><p>5、SpringBoot2.x监控Actuator实战下集及生产环境建议（核心知识)<br>​    简介：SpringBoot2.x监控Actuator实战下集及生产环境建议，SpringBoot新旧版本区别</p>
<pre><code>注意点: 网上的资料大多数没有讲到访问的前缀
端点基础路径由 / 调整到 /actuator
        如：/info调整为/actuator/info 
            /actuator/xxx

1、只能访问几个url
    1）需要在配置文件中加入下列配置
        management.endpoints.web.exposure.include=*

    2）官网说明：https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator

        原因：
            出于安全考虑，除/ health和/ info之外的所有执行器默认都是禁用的。 management.endpoints.web.exposure.include属性可用于启用执行器
2、建议
    在设置management.endpoints.web.exposure.include之前，请确保暴露的执行器不包含敏感信息和/
    或通过将其放置在防火墙进行控制，不对外进行使用

    禁用的端点将从应用程序上下文中完全删除。如果您只想更改端点所暴露的技术，请改用 include和exclude属性 。
    例子：
        开启全部：management.endpoints.web.exposure.include=*
        开启某个：management.endpoints.web.exposure.include=metrics
        关闭某个：management.endpoints.web.exposure.exclude=metrics

    或者用springadmin进行管理
        相关资料：https://www.cnblogs.com/ityouknow/p/8440455.html

    或者用自己编写脚本监控
    CPU、内存、磁盘、nginx的http响应状态码200,404,5xx 

3、介绍常用的几个
    /health     查看应用健康指标
    /actuator/metrics    查看应用基本指标列表
    /actuator/metrics/{name}        通过上述列表，查看具体 查看具体指标
    /actuator/env        显示来自Spring的 ConfigurableEnvironment的属性    
</code></pre><hr>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fyfql7mx9tj30u00zxgzd.jpg" alt="image-20181222191517123"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/Redis/Reids/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Redis/Reids/" itemprop="url">Redis</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-21T08:16:27+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/21/Redis/Reids/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/21/Redis/Reids/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Jredies 参照杨开整的书 注意Netty不要使用默认的 要换成书里面的</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/Git Maven /Git/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Git Maven /Git/" itemprop="url">Git</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-21T08:03:47+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/21/Git Maven /Git/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/21/Git Maven /Git/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="GitHub创建仓库提示代码"><a href="#GitHub创建仓库提示代码" class="headerlink" title="GitHub创建仓库提示代码"></a>GitHub创建仓库提示代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;# 项目名&quot; &gt;&gt; README.md</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git remote add origin git@github.com:qiubaiying/项目名.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<p>若仓库存在直接push:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:qiubaiying/test.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<h1 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h1><h2 id="创建仓库（初始化"><a href="#创建仓库（初始化" class="headerlink" title="创建仓库（初始化)"></a>创建仓库（初始化)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在当前指定目录下创建</span><br><span class="line">git init</span><br><span class="line">新建一个仓库目录</span><br><span class="line">git init [project-name]</span><br><span class="line">克隆一个远程项目</span><br><span class="line">git clone [url]</span><br></pre></td></tr></table></figure>
<p>##添加文件到缓存区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">添加所有变化的文件</span><br><span class="line"> 	git add .</span><br><span class="line"></span><br><span class="line">添加名称指定文件</span><br><span class="line">git add text.txt</span><br></pre></td></tr></table></figure>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">设置提交代码时的用户信息</span><br><span class="line">git config [--global] user.name &quot;[name]&quot;</span><br><span class="line">git config [--global] user.email &quot;[email address]&quot;</span><br></pre></td></tr></table></figure>
<h2 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">提交暂存区到仓库区</span><br><span class="line">git commit -m &quot;msg&quot;</span><br><span class="line"></span><br><span class="line"># 提交暂存区的指定文件到仓库区</span><br><span class="line">$ git commit [file1] [file2] ... -m [message]</span><br><span class="line"></span><br><span class="line"># 提交工作区自上次commit之后的变化，直接到仓库区</span><br><span class="line">$ git commit -a</span><br><span class="line"></span><br><span class="line"># 提交时显示所有diff信息</span><br><span class="line">$ git commit -v</span><br><span class="line"></span><br><span class="line"># 使用一次新的commit，替代上一次提交</span><br><span class="line"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</span><br><span class="line">$ git commit --amend -m [message]</span><br><span class="line"></span><br><span class="line"># 重做上一次commit，并包括指定文件的新变化</span><br><span class="line">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>
<h2 id="远程同步"><a href="#远程同步" class="headerlink" title="远程同步"></a>远程同步</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 下载远程仓库的所有变动</span><br><span class="line">$ git fetch [remote]</span><br><span class="line"></span><br><span class="line"># 显示所有远程仓库</span><br><span class="line">$ git remote -v</span><br><span class="line"></span><br><span class="line"># 显示某个远程仓库的信息</span><br><span class="line">$ git remote show [remote]</span><br><span class="line"></span><br><span class="line"># 增加一个新的远程仓库，并命名</span><br><span class="line">$ git remote add [shortname] [url]</span><br><span class="line"></span><br><span class="line"># 取回远程仓库的变化，并与本地分支合并</span><br><span class="line">$ git pull [remote] [branch]</span><br><span class="line"></span><br><span class="line"># 上传本地指定分支到远程仓库</span><br><span class="line">$ git push [remote] [branch]</span><br><span class="line"></span><br><span class="line"># 强行推送当前分支到远程仓库，即使有冲突</span><br><span class="line">$ git push [remote] --force</span><br><span class="line"></span><br><span class="line"># 推送所有分支到远程仓库</span><br><span class="line">$ git push [remote] --all</span><br></pre></td></tr></table></figure>
<h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"># 列出所有本地分支</span><br><span class="line">$ git branch</span><br><span class="line"></span><br><span class="line"># 列出所有远程分支</span><br><span class="line">$ git branch -r</span><br><span class="line"></span><br><span class="line"># 列出所有本地分支和远程分支</span><br><span class="line">$ git branch -a</span><br><span class="line"></span><br><span class="line"># 新建一个分支，但依然停留在当前分支</span><br><span class="line">$ git branch [branch-name]</span><br><span class="line"></span><br><span class="line"># 新建一个分支，并切换到该分支</span><br><span class="line">$ git checkout -b [branch]</span><br><span class="line"></span><br><span class="line"># 新建一个分支，指向指定commit</span><br><span class="line">$ git branch [branch] [commit]</span><br><span class="line"></span><br><span class="line"># 新建一个分支，与指定的远程分支建立追踪关系</span><br><span class="line">$ git branch --track [branch] [remote-branch]</span><br><span class="line"></span><br><span class="line"># 切换到指定分支，并更新工作区</span><br><span class="line">$ git checkout [branch-name]</span><br><span class="line"></span><br><span class="line"># 切换到上一个分支</span><br><span class="line">$ git checkout -</span><br><span class="line"></span><br><span class="line"># 建立追踪关系，在现有分支与指定的远程分支之间</span><br><span class="line">$ git branch --set-upstream [branch] [remote-branch]</span><br><span class="line"></span><br><span class="line"># 合并指定分支到当前分支</span><br><span class="line">$ git merge [branch]</span><br><span class="line"></span><br><span class="line"># 选择一个commit，合并进当前分支</span><br><span class="line">$ git cherry-pick [commit]</span><br><span class="line"></span><br><span class="line"># 删除分支</span><br><span class="line">$ git branch -d [branch-name]</span><br><span class="line"></span><br><span class="line"># 删除远程分支</span><br><span class="line">$ git push origin --delete [branch-name]</span><br><span class="line">$ git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure>
<p>##标签Tags</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">添加标签 在当前commit</span><br><span class="line">git tag -a v1.0 -m &apos;xxx&apos; </span><br><span class="line"></span><br><span class="line">添加标签 在指定commit</span><br><span class="line">git tag v1.0 [commit]</span><br><span class="line"></span><br><span class="line">查看</span><br><span class="line">git tag</span><br><span class="line"></span><br><span class="line">删除</span><br><span class="line">git tag -d V1.0</span><br><span class="line"></span><br><span class="line">删除远程tag</span><br><span class="line">git push origin :refs/tags/[tagName]</span><br><span class="line"></span><br><span class="line">推送</span><br><span class="line">git push origin --tags</span><br><span class="line"></span><br><span class="line">拉取</span><br><span class="line">git fetch origin tag V1.0</span><br><span class="line"></span><br><span class="line">新建一个分支，指向某个tag</span><br><span class="line">git checkout -b [branch] [tag]</span><br></pre></td></tr></table></figure>
<h2 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"># 显示有变更的文件</span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"># 显示当前分支的版本历史</span><br><span class="line">$ git log</span><br><span class="line"></span><br><span class="line"># 显示commit历史，以及每次commit发生变更的文件</span><br><span class="line">$ git log --stat</span><br><span class="line"></span><br><span class="line"># 搜索提交历史，根据关键词</span><br><span class="line">$ git log -S [keyword]</span><br><span class="line"></span><br><span class="line"># 显示某个commit之后的所有变动，每个commit占据一行</span><br><span class="line">$ git log [tag] HEAD --pretty=format:%s</span><br><span class="line"></span><br><span class="line"># 显示某个commit之后的所有变动，其&quot;提交说明&quot;必须符合搜索条件</span><br><span class="line">$ git log [tag] HEAD --grep feature</span><br><span class="line"></span><br><span class="line"># 显示某个文件的版本历史，包括文件改名</span><br><span class="line">$ git log --follow [file]</span><br><span class="line">$ git whatchanged [file]</span><br><span class="line"></span><br><span class="line"># 显示指定文件相关的每一次diff</span><br><span class="line">$ git log -p [file]</span><br><span class="line"></span><br><span class="line"># 显示过去5次提交</span><br><span class="line">$ git log -5 --pretty --oneline</span><br><span class="line"></span><br><span class="line"># 显示所有提交过的用户，按提交次数排序</span><br><span class="line">$ git shortlog -sn</span><br><span class="line"></span><br><span class="line"># 显示指定文件是什么人在什么时间修改过</span><br><span class="line">$ git blame [file]</span><br><span class="line"></span><br><span class="line"># 显示暂存区和工作区的差异</span><br><span class="line">$ git diff</span><br><span class="line"></span><br><span class="line"># 显示暂存区和上一个commit的差异</span><br><span class="line">$ git diff --cached [file]</span><br><span class="line"></span><br><span class="line"># 显示工作区与当前分支最新commit之间的差异</span><br><span class="line">$ git diff HEAD</span><br><span class="line"></span><br><span class="line"># 显示两次提交之间的差异</span><br><span class="line">$ git diff [first-branch]...[second-branch]</span><br><span class="line"></span><br><span class="line"># 显示今天你写了多少行代码</span><br><span class="line">$ git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;</span><br><span class="line"></span><br><span class="line"># 显示某次提交的元数据和内容变化</span><br><span class="line">$ git show [commit]</span><br><span class="line"></span><br><span class="line"># 显示某次提交发生变化的文件</span><br><span class="line">$ git show --name-only [commit]</span><br><span class="line"></span><br><span class="line"># 显示某次提交时，某个文件的内容</span><br><span class="line">$ git show [commit]:[filename]</span><br><span class="line"></span><br><span class="line"># 显示当前分支的最近几次提交</span><br><span class="line">$ git reflog</span><br></pre></td></tr></table></figure>
<h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># 恢复暂存区的指定文件到工作区</span><br><span class="line">$ git checkout [file]</span><br><span class="line"></span><br><span class="line"># 恢复某个commit的指定文件到暂存区和工作区</span><br><span class="line">$ git checkout [commit] [file]</span><br><span class="line"></span><br><span class="line"># 恢复暂存区的所有文件到工作区</span><br><span class="line">$ git checkout .</span><br><span class="line"></span><br><span class="line"># 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变</span><br><span class="line">$ git reset [file]</span><br><span class="line"></span><br><span class="line"># 重置暂存区与工作区，与上一次commit保持一致</span><br><span class="line">$ git reset --hard</span><br><span class="line"></span><br><span class="line"># 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变</span><br><span class="line">$ git reset [commit]</span><br><span class="line"></span><br><span class="line"># 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致</span><br><span class="line">$ git reset --hard [commit]</span><br><span class="line"></span><br><span class="line"># 重置当前HEAD为指定commit，但保持暂存区和工作区不变</span><br><span class="line">$ git reset --keep [commit]</span><br><span class="line"></span><br><span class="line"># 新建一个commit，用来撤销指定commit</span><br><span class="line"># 后者的所有变化都将被前者抵消，并且应用到当前分支</span><br><span class="line">$ git revert [commit]</span><br><span class="line"></span><br><span class="line"># 暂时将未提交的变化移除，稍后再移入</span><br><span class="line">$ git stash</span><br><span class="line">$ git stash pop</span><br></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 生成一个可供发布的压缩包</span><br><span class="line">$ git archives</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/19/JSP Servlet Thyme/Thymeleaf/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/19/JSP Servlet Thyme/Thymeleaf/" itemprop="url">Thymeleaf</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-19T11:04:35+08:00">
                2018-12-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/19/JSP Servlet Thyme/Thymeleaf/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/19/JSP Servlet Thyme/Thymeleaf/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fybvk6385uj30wn09242o.jpg" alt="image-20181219110503930"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fybvkd7bu5j30qa0fedjx.jpg" alt="image-20181219110515437"></p>
<p>#Thymeleaf中取值 reservation：$.   {reservations}其中${reservations}的值是modeandview里面的</p>
<p>#reservation的值是随 便起的变量 放在reservation里面</p>
<p>–表格</p>
<hr>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fybvnpodoqj30qz0pv7aq.jpg" alt="image-20181219110828202"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fye0zzxvecj30u00zpds2.jpg" alt="image-20181221074424165"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fye14qjnq5j30lx0d7wgk.jpg" alt="image-20181221074857759"></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwgy1fye14zh81ij30hd0exgno.jpg" alt="image-20181221074912066"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/19/HTML+CSS+JS/HTML/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="袁海鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Freemana2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/19/HTML+CSS+JS/HTML/" itemprop="url">Html</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-19T10:13:39+08:00">
                2018-12-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/19/HTML+CSS+JS/HTML/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/19/HTML+CSS+JS/HTML/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fybu2ti3c8j30d0097gn9.jpg" alt="image-20181219101346955"></p>
<p><img src="https://ws3.sinaimg.cn/large/006tNbRwgy1fybu33anwoj30qo08p411.jpg" alt="image-20181219101403521"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fybu3dxlepj30bu06yab4.jpg" alt="image-20181219101421105"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fybu3qn12qj30b407v0tx.jpg" alt="image-20181219101440917"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fybu3utisdj30fa0aaac5.jpg" alt="image-20181219101447451"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fye15xqd12j30g10eqq4y.jpg" alt="image-20181221075007065"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fye163uwjaj30o20d3tax.jpg" alt="image-20181221075016612"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://ws2.sinaimg.cn/large/006tNbRwgy1fy0kf0oua7j30ow0ow3zs.jpg" alt="袁海鹏">
            
              <p class="site-author-name" itemprop="name">袁海鹏</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">51</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        


<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">袁海鹏</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>




<div class="powered-by">
<i class="fa fa-user-md"></i>

<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>


</div>





  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://.disqus.com/count.js" async></script>
    

    

  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>


